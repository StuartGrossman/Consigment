(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UR={exports:{}},xv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=Symbol.for("react.transitional.element"),fU=Symbol.for("react.fragment");function VR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:dU,type:t,key:r,ref:e!==void 0?e:null,props:n}}xv.Fragment=fU;xv.jsx=VR;xv.jsxs=VR;UR.exports=xv;var o=UR.exports,zR={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=Symbol.for("react.transitional.element"),hU=Symbol.for("react.portal"),pU=Symbol.for("react.fragment"),mU=Symbol.for("react.strict_mode"),gU=Symbol.for("react.profiler"),yU=Symbol.for("react.consumer"),vU=Symbol.for("react.context"),xU=Symbol.for("react.forward_ref"),bU=Symbol.for("react.suspense"),wU=Symbol.for("react.memo"),FR=Symbol.for("react.lazy"),YE=Symbol.iterator;function _U(t){return t===null||typeof t!="object"?null:(t=YE&&t[YE]||t["@@iterator"],typeof t=="function"?t:null)}var HR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qR=Object.assign,GR={};function zu(t,e,n){this.props=t,this.context=e,this.refs=GR,this.updater=n||HR}zu.prototype.isReactComponent={};zu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WR(){}WR.prototype=zu.prototype;function g2(t,e,n){this.props=t,this.context=e,this.refs=GR,this.updater=n||HR}var y2=g2.prototype=new WR;y2.constructor=g2;qR(y2,zu.prototype);y2.isPureReactComponent=!0;var QE=Array.isArray,zt={H:null,A:null,T:null,S:null,V:null},KR=Object.prototype.hasOwnProperty;function v2(t,e,n,r,i,a){return n=a.ref,{$$typeof:m2,type:t,key:e,ref:n!==void 0?n:null,props:a}}function AU(t,e){return v2(t.type,e,void 0,void 0,void 0,t.props)}function x2(t){return typeof t=="object"&&t!==null&&t.$$typeof===m2}function SU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ZE=/\/+/g;function Ox(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SU(""+t.key):e.toString(36)}function JE(){}function jU(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(JE,JE):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ac(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case m2:case hU:s=!0;break;case FR:return s=t._init,ac(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Ox(t,0):r,QE(i)?(n="",s!=null&&(n=s.replace(ZE,"$&/")+"/"),ac(i,e,n,"",function(u){return u})):i!=null&&(x2(i)&&(i=AU(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(ZE,"$&/")+"/")+s)),e.push(i)),1;s=0;var l=r===""?".":r+":";if(QE(t))for(var c=0;c<t.length;c++)r=t[c],a=l+Ox(r,c),s+=ac(r,e,n,a,i);else if(c=_U(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,a=l+Ox(r,c++),s+=ac(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return ac(jU(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function em(t,e,n){if(t==null)return t;var r=[],i=0;return ac(t,r,"","",function(a){return e.call(n,a,i++)}),r}function EU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var eT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function TU(){}qe.Children={map:em,forEach:function(t,e,n){em(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return em(t,function(){e++}),e},toArray:function(t){return em(t,function(e){return e})||[]},only:function(t){if(!x2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=zu;qe.Fragment=pU;qe.Profiler=gU;qe.PureComponent=g2;qe.StrictMode=mU;qe.Suspense=bU;qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=zt;qe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return zt.H.useMemoCache(t)}};qe.cache=function(t){return function(){return t.apply(null,arguments)}};qe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=qR({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!KR.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}return v2(t.type,i,void 0,void 0,a,r)};qe.createContext=function(t){return t={$$typeof:vU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:yU,_context:t},t};qe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)KR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return v2(t,a,void 0,void 0,null,i)};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:xU,render:t}};qe.isValidElement=x2;qe.lazy=function(t){return{$$typeof:FR,_payload:{_status:-1,_result:t},_init:EU}};qe.memo=function(t,e){return{$$typeof:wU,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=zt.T,n={};zt.T=n;try{var r=t(),i=zt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(TU,eT)}catch(a){eT(a)}finally{zt.T=e}};qe.unstable_useCacheRefresh=function(){return zt.H.useCacheRefresh()};qe.use=function(t){return zt.H.use(t)};qe.useActionState=function(t,e,n){return zt.H.useActionState(t,e,n)};qe.useCallback=function(t,e){return zt.H.useCallback(t,e)};qe.useContext=function(t){return zt.H.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t,e){return zt.H.useDeferredValue(t,e)};qe.useEffect=function(t,e,n){var r=zt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};qe.useId=function(){return zt.H.useId()};qe.useImperativeHandle=function(t,e,n){return zt.H.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return zt.H.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return zt.H.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return zt.H.useMemo(t,e)};qe.useOptimistic=function(t,e){return zt.H.useOptimistic(t,e)};qe.useReducer=function(t,e,n){return zt.H.useReducer(t,e,n)};qe.useRef=function(t){return zt.H.useRef(t)};qe.useState=function(t){return zt.H.useState(t)};qe.useSyncExternalStore=function(t,e,n){return zt.H.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return zt.H.useTransition()};qe.version="19.1.0";zR.exports=qe;var k=zR.exports;const $=ft(k);var XR={exports:{}},bv={},YR={exports:{}},QR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,L){var z=B.length;B.push(L);e:for(;0<z;){var q=z-1>>>1,te=B[q];if(0<i(te,L))B[q]=L,B[z]=te,z=q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var L=B[0],z=B.pop();if(z!==L){B[0]=z;e:for(var q=0,te=B.length,ee=te>>>1;q<ee;){var W=2*(q+1)-1,M=B[W],X=W+1,Y=B[X];if(0>i(M,z))X<te&&0>i(Y,M)?(B[q]=Y,B[X]=z,q=X):(B[q]=M,B[W]=z,q=W);else if(X<te&&0>i(Y,z))B[q]=Y,B[X]=z,q=X;else break e}}return L}function i(B,L){var z=B.sortIndex-L.sortIndex;return z!==0?z:B.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=B)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function A(B){if(g=!1,N(B),!y)if(n(c)!==null)y=!0,E||(E=!0,P());else{var L=n(u);L!==null&&U(A,L.startTime-B)}}var E=!1,w=-1,j=5,O=-1;function I(){return v?!0:!(t.unstable_now()-O<j)}function T(){if(v=!1,E){var B=t.unstable_now();O=B;var L=!0;try{e:{y=!1,g&&(g=!1,x(w),w=-1),m=!0;var z=h;try{t:{for(N(B),f=n(c);f!==null&&!(f.expirationTime>B&&I());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var te=q(f.expirationTime<=B);if(B=t.unstable_now(),typeof te=="function"){f.callback=te,N(B),L=!0;break t}f===n(c)&&r(c),N(B)}else r(c);f=n(c)}if(f!==null)L=!0;else{var ee=n(u);ee!==null&&U(A,ee.startTime-B),L=!1}}break e}finally{f=null,h=z,m=!1}L=void 0}}finally{L?P():E=!1}}}var P;if(typeof _=="function")P=function(){_(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=T,P=function(){V.postMessage(null)}}else P=function(){b(T,0)};function U(B,L){w=b(function(){B(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return B()}finally{h=z}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var z=h;h=B;try{return L()}finally{h=z}},t.unstable_scheduleCallback=function(B,L,z){var q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=z+te,B={id:d++,callback:L,priorityLevel:B,startTime:z,expirationTime:te,sortIndex:-1},z>q?(B.sortIndex=z,e(u,B),n(c)===null&&B===n(u)&&(g?(x(w),w=-1):g=!0,U(A,z-q))):(B.sortIndex=te,e(c,B),y||m||(y=!0,E||(E=!0,P()))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var L=h;return function(){var z=h;h=L;try{return B.apply(this,arguments)}finally{h=z}}}})(QR);YR.exports=QR;var NU=YR.exports,ZR={exports:{}},yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU=k;function JR(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ps(){}var hr={d:{f:ps,r:function(){throw Error(JR(522))},D:ps,C:ps,L:ps,m:ps,X:ps,S:ps,M:ps},p:0,findDOMNode:null},CU=Symbol.for("react.portal");function kU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:CU,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var ff=OU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=hr;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(JR(299));return kU(t,e,null,n)};yr.flushSync=function(t){var e=ff.T,n=hr.p;try{if(ff.T=null,hr.p=2,t)return t()}finally{ff.T=e,hr.p=n,hr.d.f()}};yr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,hr.d.C(t,e))};yr.prefetchDNS=function(t){typeof t=="string"&&hr.d.D(t)};yr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=wv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?hr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&hr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};yr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=wv(e.as,e.crossOrigin);hr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&hr.d.M(t)};yr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=wv(n,e.crossOrigin);hr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};yr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=wv(e.as,e.crossOrigin);hr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else hr.d.m(t)};yr.requestFormReset=function(t){hr.d.r(t)};yr.unstable_batchedUpdates=function(t,e){return t(e)};yr.useFormState=function(t,e,n){return ff.H.useFormState(t,e,n)};yr.useFormStatus=function(){return ff.H.useHostTransitionStatus()};yr.version="19.1.0";function eM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eM)}catch(t){console.error(t)}}eM(),ZR.exports=yr;var IU=ZR.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn=NU,tM=k,PU=IU;function se(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tT(t){if(Xh(t)!==t)throw Error(se(188))}function RU(t){var e=t.alternate;if(!e){if(e=Xh(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tT(i),t;if(a===r)return tT(i),e;a=a.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function iM(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=iM(t),e!==null)return e;t=t.sibling}return null}var $t=Object.assign,MU=Symbol.for("react.element"),tm=Symbol.for("react.transitional.element"),tf=Symbol.for("react.portal"),hc=Symbol.for("react.fragment"),aM=Symbol.for("react.strict_mode"),c1=Symbol.for("react.profiler"),DU=Symbol.for("react.provider"),sM=Symbol.for("react.consumer"),Ca=Symbol.for("react.context"),b2=Symbol.for("react.forward_ref"),u1=Symbol.for("react.suspense"),d1=Symbol.for("react.suspense_list"),w2=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),f1=Symbol.for("react.activity"),$U=Symbol.for("react.memo_cache_sentinel"),nT=Symbol.iterator;function Cd(t){return t===null||typeof t!="object"?null:(t=nT&&t[nT]||t["@@iterator"],typeof t=="function"?t:null)}var LU=Symbol.for("react.client.reference");function h1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===LU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hc:return"Fragment";case c1:return"Profiler";case aM:return"StrictMode";case u1:return"Suspense";case d1:return"SuspenseList";case f1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tf:return"Portal";case Ca:return(t.displayName||"Context")+".Provider";case sM:return(t._context.displayName||"Context")+".Consumer";case b2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w2:return e=t.displayName||null,e!==null?e:h1(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return h1(t(e))}catch{}}return null}var nf=Array.isArray,De=tM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=PU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qo={pending:!1,data:null,method:null,action:null},p1=[],pc=-1;function ha(t){return{current:t}}function Bn(t){0>pc||(t.current=p1[pc],p1[pc]=null,pc--)}function Ft(t,e){pc++,p1[pc]=t.current,t.current=e}var ea=ha(null),zf=ha(null),Ls=ha(null),vg=ha(null);function xg(t,e){switch(Ft(Ls,e),Ft(zf,t),Ft(ea,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?oN(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=oN(e),t=AD(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Bn(ea),Ft(ea,t)}function Wc(){Bn(ea),Bn(zf),Bn(Ls)}function m1(t){t.memoizedState!==null&&Ft(vg,t);var e=ea.current,n=AD(e,t.type);e!==n&&(Ft(zf,t),Ft(ea,n))}function bg(t){zf.current===t&&(Bn(ea),Bn(zf)),vg.current===t&&(Bn(vg),Zf._currentValue=Qo)}var g1=Object.prototype.hasOwnProperty,_2=Nn.unstable_scheduleCallback,Cx=Nn.unstable_cancelCallback,BU=Nn.unstable_shouldYield,UU=Nn.unstable_requestPaint,ta=Nn.unstable_now,VU=Nn.unstable_getCurrentPriorityLevel,oM=Nn.unstable_ImmediatePriority,lM=Nn.unstable_UserBlockingPriority,wg=Nn.unstable_NormalPriority,zU=Nn.unstable_LowPriority,cM=Nn.unstable_IdlePriority,FU=Nn.log,HU=Nn.unstable_setDisableYieldValue,Yh=null,Xr=null;function ks(t){if(typeof FU=="function"&&HU(t),Xr&&typeof Xr.setStrictMode=="function")try{Xr.setStrictMode(Yh,t)}catch{}}var Yr=Math.clz32?Math.clz32:WU,qU=Math.log,GU=Math.LN2;function WU(t){return t>>>=0,t===0?32:31-(qU(t)/GU|0)|0}var nm=256,rm=4194304;function Mo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _v(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=r&134217727;return l!==0?(r=l&~a,r!==0?i=Mo(r):(s&=l,s!==0?i=Mo(s):n||(n=l&~t,n!==0&&(i=Mo(n))))):(l=r&~a,l!==0?i=Mo(l):s!==0?i=Mo(s):n||(n=r&~t,n!==0&&(i=Mo(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Qh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function KU(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uM(){var t=nm;return nm<<=1,!(nm&4194048)&&(nm=256),t}function dM(){var t=rm;return rm<<=1,!(rm&62914560)&&(rm=4194304),t}function kx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function XU(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Yr(n),f=1<<d;l[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&fM(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function fM(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Yr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function hM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function A2(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function S2(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function pM(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:PD(t.type))}function YU(t,e){var n=lt.p;try{return lt.p=t,e()}finally{lt.p=n}}var fo=Math.random().toString(36).slice(2),ir="__reactFiber$"+fo,Ir="__reactProps$"+fo,Fu="__reactContainer$"+fo,y1="__reactEvents$"+fo,QU="__reactListeners$"+fo,ZU="__reactHandles$"+fo,rT="__reactResources$"+fo,Jh="__reactMarker$"+fo;function j2(t){delete t[ir],delete t[Ir],delete t[y1],delete t[QU],delete t[ZU]}function mc(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fu]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uN(t);t!==null;){if(n=t[ir])return n;t=uN(t)}return e}t=n,n=t.parentNode}return null}function Hu(t){if(t=t[ir]||t[Fu]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function rf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(se(33))}function kc(t){var e=t[rT];return e||(e=t[rT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Dn(t){t[Jh]=!0}var mM=new Set,gM={};function Tl(t,e){Kc(t,e),Kc(t+"Capture",e)}function Kc(t,e){for(gM[t]=e,t=0;t<e.length;t++)mM.add(e[t])}var JU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iT={},aT={};function eV(t){return g1.call(aT,t)?!0:g1.call(iT,t)?!1:JU.test(t)?aT[t]=!0:(iT[t]=!0,!1)}function qm(t,e,n){if(eV(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function im(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Aa(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Ix,sT;function sc(t){if(Ix===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ix=e&&e[1]||"",sT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ix+t+sT}var Px=!1;function Rx(t,e){if(!t||Px)return"";Px=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var c=s.split(`
`),u=l.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{Px=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?sc(n):""}function tV(t){switch(t.tag){case 26:case 27:case 5:return sc(t.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 15:return Rx(t.type,!1);case 11:return Rx(t.type.render,!1);case 1:return Rx(t.type,!0);case 31:return sc("Activity");default:return""}}function oT(t){try{var e="";do e+=tV(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function li(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nV(t){var e=yM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _g(t){t._valueTracker||(t._valueTracker=nV(t))}function vM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ag(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rV=/[\n"\\]/g;function di(t){return t.replace(rV,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function v1(t,e,n,r,i,a,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+li(e)):t.value!==""+li(e)&&(t.value=""+li(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?x1(t,s,li(e)):n!=null?x1(t,s,li(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+li(l):t.removeAttribute("name")}function xM(t,e,n,r,i,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+li(n):"",e=e!=null?""+li(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=l?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function x1(t,e,n){e==="number"&&Ag(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ic(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bM(t,e,n){if(e!=null&&(e=""+li(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+li(n):""}function wM(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(se(92));if(nf(r)){if(1<r.length)throw Error(se(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=li(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Xc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iV=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||iV.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function _M(t,e,n){if(e!=null&&typeof e!="object")throw Error(se(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&lT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&lT(t,a,e[a])}function E2(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aV=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sV=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gm(t){return sV.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var b1=null;function T2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gc=null,Pc=null;function cT(t){var e=Hu(t);if(e&&(t=e.stateNode)){var n=t[Ir]||null;e:switch(t=e.stateNode,e.type){case"input":if(v1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+di(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Ir]||null;if(!i)throw Error(se(90));v1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&vM(r)}break e;case"textarea":bM(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ic(t,!!n.multiple,e,!1)}}}var Mx=!1;function AM(t,e,n){if(Mx)return t(e,n);Mx=!0;try{var r=t(e);return r}finally{if(Mx=!1,(gc!==null||Pc!==null)&&(Iv(),gc&&(e=gc,t=Pc,Pc=gc=null,cT(e),t)))for(e=0;e<t.length;e++)cT(t[e])}}function Ff(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Ir]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w1=!1;if(Wa)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){w1=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{w1=!1}var Is=null,N2=null,Wm=null;function SM(){if(Wm)return Wm;var t,e=N2,n=e.length,r,i="value"in Is?Is.value:Is.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Wm=i.slice(t,1<r?1-r:void 0)}function Km(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function am(){return!0}function uT(){return!1}function Pr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?am:uT,this.isPropagationStopped=uT,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),e}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=Pr(Nl),ep=$t({},Nl,{view:0,detail:0}),oV=Pr(ep),Dx,$x,Id,Sv=$t({},ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Id&&(Id&&t.type==="mousemove"?(Dx=t.screenX-Id.screenX,$x=t.screenY-Id.screenY):$x=Dx=0,Id=t),Dx)},movementY:function(t){return"movementY"in t?t.movementY:$x}}),dT=Pr(Sv),lV=$t({},Sv,{dataTransfer:0}),cV=Pr(lV),uV=$t({},ep,{relatedTarget:0}),Lx=Pr(uV),dV=$t({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),fV=Pr(dV),hV=$t({},Nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pV=Pr(hV),mV=$t({},Nl,{data:0}),fT=Pr(mV),gV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vV[t])?!!e[t]:!1}function O2(){return xV}var bV=$t({},ep,{key:function(t){if(t.key){var e=gV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Km(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O2,charCode:function(t){return t.type==="keypress"?Km(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Km(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wV=Pr(bV),_V=$t({},Sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hT=Pr(_V),AV=$t({},ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O2}),SV=Pr(AV),jV=$t({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),EV=Pr(jV),TV=$t({},Sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NV=Pr(TV),OV=$t({},Nl,{newState:0,oldState:0}),CV=Pr(OV),kV=[9,13,27,32],C2=Wa&&"CompositionEvent"in window,hf=null;Wa&&"documentMode"in document&&(hf=document.documentMode);var IV=Wa&&"TextEvent"in window&&!hf,jM=Wa&&(!C2||hf&&8<hf&&11>=hf),pT=" ",mT=!1;function EM(t,e){switch(t){case"keyup":return kV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yc=!1;function PV(t,e){switch(t){case"compositionend":return TM(e);case"keypress":return e.which!==32?null:(mT=!0,pT);case"textInput":return t=e.data,t===pT&&mT?null:t;default:return null}}function RV(t,e){if(yc)return t==="compositionend"||!C2&&EM(t,e)?(t=SM(),Wm=N2=Is=null,yc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jM&&e.locale!=="ko"?null:e.data;default:return null}}var MV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MV[t.type]:e==="textarea"}function NM(t,e,n,r){gc?Pc?Pc.push(r):Pc=[r]:gc=r,e=Vg(e,"onChange"),0<e.length&&(n=new Av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pf=null,Hf=null;function DV(t){bD(t,0)}function jv(t){var e=rf(t);if(vM(e))return t}function yT(t,e){if(t==="change")return e}var OM=!1;if(Wa){var Bx;if(Wa){var Ux="oninput"in document;if(!Ux){var vT=document.createElement("div");vT.setAttribute("oninput","return;"),Ux=typeof vT.oninput=="function"}Bx=Ux}else Bx=!1;OM=Bx&&(!document.documentMode||9<document.documentMode)}function xT(){pf&&(pf.detachEvent("onpropertychange",CM),Hf=pf=null)}function CM(t){if(t.propertyName==="value"&&jv(Hf)){var e=[];NM(e,Hf,t,T2(t)),AM(DV,e)}}function $V(t,e,n){t==="focusin"?(xT(),pf=e,Hf=n,pf.attachEvent("onpropertychange",CM)):t==="focusout"&&xT()}function LV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jv(Hf)}function BV(t,e){if(t==="click")return jv(e)}function UV(t,e){if(t==="input"||t==="change")return jv(e)}function VV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ri=typeof Object.is=="function"?Object.is:VV;function qf(t,e){if(ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g1.call(e,i)||!ri(t[i],e[i]))return!1}return!0}function bT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wT(t,e){var n=bT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bT(n)}}function kM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IM(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ag(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ag(t.document)}return e}function k2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var zV=Wa&&"documentMode"in document&&11>=document.documentMode,vc=null,_1=null,mf=null,A1=!1;function _T(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A1||vc==null||vc!==Ag(r)||(r=vc,"selectionStart"in r&&k2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mf&&qf(mf,r)||(mf=r,r=Vg(_1,"onSelect"),0<r.length&&(e=new Av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vc)))}function ko(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xc={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},Vx={},PM={};Wa&&(PM=document.createElement("div").style,"AnimationEvent"in window||(delete xc.animationend.animation,delete xc.animationiteration.animation,delete xc.animationstart.animation),"TransitionEvent"in window||delete xc.transitionend.transition);function Ol(t){if(Vx[t])return Vx[t];if(!xc[t])return t;var e=xc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PM)return Vx[t]=e[n];return t}var RM=Ol("animationend"),MM=Ol("animationiteration"),DM=Ol("animationstart"),FV=Ol("transitionrun"),HV=Ol("transitionstart"),qV=Ol("transitioncancel"),$M=Ol("transitionend"),LM=new Map,S1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");S1.push("scrollEnd");function Fi(t,e){LM.set(t,e),Tl(e,[t])}var AT=new WeakMap;function fi(t,e){if(typeof t=="object"&&t!==null){var n=AT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:oT(e)},AT.set(t,e),e)}return{value:t,source:e,stack:oT(e)}}var oi=[],bc=0,I2=0;function Ev(){for(var t=bc,e=I2=bc=0;e<t;){var n=oi[e];oi[e++]=null;var r=oi[e];oi[e++]=null;var i=oi[e];oi[e++]=null;var a=oi[e];if(oi[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&BM(n,i,a)}}function Tv(t,e,n,r){oi[bc++]=t,oi[bc++]=e,oi[bc++]=n,oi[bc++]=r,I2|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function P2(t,e,n,r){return Tv(t,e,n,r),Sg(t)}function qu(t,e){return Tv(t,null,null,e),Sg(t)}function BM(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Yr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Sg(t){if(50<jf)throw jf=0,q1=null,Error(se(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wc={};function GV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,r){return new GV(t,e,n,r)}function R2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ua(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function UM(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Xm(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")R2(t)&&(s=1);else if(typeof t=="string")s=K7(t,n,ea.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case f1:return t=Hr(31,n,e,i),t.elementType=f1,t.lanes=a,t;case hc:return Zo(n.children,i,a,e);case aM:s=8,i|=24;break;case c1:return t=Hr(12,n,e,i|2),t.elementType=c1,t.lanes=a,t;case u1:return t=Hr(13,n,e,i),t.elementType=u1,t.lanes=a,t;case d1:return t=Hr(19,n,e,i),t.elementType=d1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DU:case Ca:s=10;break e;case sM:s=9;break e;case b2:s=11;break e;case w2:s=14;break e;case xs:s=16,r=null;break e}s=29,n=Error(se(130,t===null?"null":typeof t,"")),r=null}return e=Hr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Zo(t,e,n,r){return t=Hr(7,t,r,e),t.lanes=n,t}function zx(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function Fx(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _c=[],Ac=0,jg=null,Eg=0,ci=[],ui=0,Jo=null,ka=1,Ia="";function Do(t,e){_c[Ac++]=Eg,_c[Ac++]=jg,jg=t,Eg=e}function VM(t,e,n){ci[ui++]=ka,ci[ui++]=Ia,ci[ui++]=Jo,Jo=t;var r=ka;t=Ia;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var a=32-Yr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ka=1<<32-Yr(e)+i|n<<i|r,Ia=a+t}else ka=1<<a|n<<i|r,Ia=t}function M2(t){t.return!==null&&(Do(t,1),VM(t,1,0))}function D2(t){for(;t===jg;)jg=_c[--Ac],_c[Ac]=null,Eg=_c[--Ac],_c[Ac]=null;for(;t===Jo;)Jo=ci[--ui],ci[ui]=null,Ia=ci[--ui],ci[ui]=null,ka=ci[--ui],ci[ui]=null}var fr=null,en=null,ot=!1,el=null,Ki=!1,j1=Error(se(519));function ul(t){var e=Error(se(418,""));throw Gf(fi(e,t)),j1}function ST(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[ir]=t,e[Ir]=r,n){case"dialog":Xe("cancel",e),Xe("close",e);break;case"iframe":case"object":case"embed":Xe("load",e);break;case"video":case"audio":for(n=0;n<Xf.length;n++)Xe(Xf[n],e);break;case"source":Xe("error",e);break;case"img":case"image":case"link":Xe("error",e),Xe("load",e);break;case"details":Xe("toggle",e);break;case"input":Xe("invalid",e),xM(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),_g(e);break;case"select":Xe("invalid",e);break;case"textarea":Xe("invalid",e),wM(e,r.value,r.defaultValue,r.children),_g(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||_D(e.textContent,n)?(r.popover!=null&&(Xe("beforetoggle",e),Xe("toggle",e)),r.onScroll!=null&&Xe("scroll",e),r.onScrollEnd!=null&&Xe("scrollend",e),r.onClick!=null&&(e.onclick=Mv),e=!0):e=!1,e||ul(t)}function jT(t){for(fr=t.return;fr;)switch(fr.tag){case 5:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:fr=fr.return}}function Pd(t){if(t!==fr)return!1;if(!ot)return jT(t),ot=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Q1(t.type,t.memoizedProps)),n=!n),n&&en&&ul(t),jT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){en=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}en=null}}else e===27?(e=en,ho(t.type)?(t=ew,ew=null,en=t):en=e):en=fr?Mi(t.stateNode.nextSibling):null;return!0}function tp(){en=fr=null,ot=!1}function ET(){var t=el;return t!==null&&(Sr===null?Sr=t:Sr.push.apply(Sr,t),el=null),t}function Gf(t){el===null?el=[t]:el.push(t)}var E1=ha(null),Cl=null,Pa=null;function _s(t,e,n){Ft(E1,e._currentValue),e._currentValue=n}function Va(t){t._currentValue=E1.current,Bn(E1)}function T1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function N1(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),T1(a.return,n,t),r||(s=null);break e}a=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),T1(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function np(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(se(387));if(s=s.memoizedProps,s!==null){var l=i.type;ri(i.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(i===vg.current){if(s=i.alternate,s===null)throw Error(se(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Zf):t=[Zf])}i=i.return}t!==null&&N1(e,t,n,r),e.flags|=262144}function Tg(t){for(t=t.firstContext;t!==null;){if(!ri(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dl(t){Cl=t,Pa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ar(t){return zM(Cl,t)}function sm(t,e){return Cl===null&&dl(t),zM(t,e)}function zM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Pa===null){if(t===null)throw Error(se(308));Pa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pa=Pa.next=e;return n}var WV=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},KV=Nn.unstable_scheduleCallback,XV=Nn.unstable_NormalPriority,bn={$$typeof:Ca,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $2(){return{controller:new WV,data:new Map,refCount:0}}function rp(t){t.refCount--,t.refCount===0&&KV(XV,function(){t.controller.abort()})}var gf=null,O1=0,Yc=0,Rc=null;function YV(t,e){if(gf===null){var n=gf=[];O1=0,Yc=sA(),Rc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return O1++,e.then(TT,TT),e}function TT(){if(--O1===0&&gf!==null){Rc!==null&&(Rc.status="fulfilled");var t=gf;gf=null,Yc=0,Rc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function QV(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var NT=De.S;De.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&YV(t,e),NT!==null&&NT(t,e)};var tl=ha(null);function L2(){var t=tl.current;return t!==null?t:kt.pooledCache}function Ym(t,e){e===null?Ft(tl,tl.current):Ft(tl,e.pool)}function FM(){var t=L2();return t===null?null:{parent:bn._currentValue,pool:t}}var ip=Error(se(460)),HM=Error(se(474)),Nv=Error(se(542)),C1={then:function(){}};function OT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function om(){}function qM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(om,om),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kT(t),t;default:if(typeof e.status=="string")e.then(om,om);else{if(t=kt,t!==null&&100<t.shellSuspendCounter)throw Error(se(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kT(t),t}throw yf=e,ip}}var yf=null;function CT(){if(yf===null)throw Error(se(459));var t=yf;return yf=null,t}function kT(t){if(t===ip||t===Nv)throw Error(se(483))}var bs=!1;function B2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Sg(t),BM(t,null,n),e}return Tv(t,r,e,n),Sg(t)}function vf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hM(t,n)}}function Hx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var I1=!1;function xf(){if(I1){var t=Rc;if(t!==null)throw t}}function bf(t,e,n,r){I1=!1;var i=t.updateQueue;bs=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(nt&h)===h:(r&h)===h){h!==0&&h===Yc&&(I1=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=t,g=l;h=e;var v=n;switch(g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=$t({},f,h);break e;case 2:bs=!0}}h=l.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),eo|=s,t.lanes=s,t.memoizedState=f}}function GM(t,e){if(typeof t!="function")throw Error(se(191,t));t.call(e)}function WM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)GM(n[t],e)}var Qc=ha(null),Ng=ha(0);function IT(t,e){t=Ya,Ft(Ng,t),Ft(Qc,e),Ya=t|e.baseLanes}function P1(){Ft(Ng,Ya),Ft(Qc,Qc.current)}function U2(){Ya=Ng.current,Bn(Qc),Bn(Ng)}var Zs=0,We=null,wt=null,hn=null,Og=!1,Mc=!1,fl=!1,Cg=0,Wf=0,Dc=null,ZV=0;function sn(){throw Error(se(321))}function V2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ri(t[n],e[n]))return!1;return!0}function z2(t,e,n,r,i,a){return Zs=a,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,De.H=t===null||t.memoizedState===null?S4:j4,fl=!1,a=n(r,i),fl=!1,Mc&&(a=XM(e,n,r,i)),KM(t),a}function KM(t){De.H=kg;var e=wt!==null&&wt.next!==null;if(Zs=0,hn=wt=We=null,Og=!1,Wf=0,Dc=null,e)throw Error(se(300));t===null||Ln||(t=t.dependencies,t!==null&&Tg(t)&&(Ln=!0))}function XM(t,e,n,r){We=t;var i=0;do{if(Mc&&(Dc=null),Wf=0,Mc=!1,25<=i)throw Error(se(301));if(i+=1,hn=wt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}De.H=a7,a=e(n,r)}while(Mc);return a}function JV(){var t=De.H,e=t.useState()[0];return e=typeof e.then=="function"?ap(e):e,t=t.useState()[0],(wt!==null?wt.memoizedState:null)!==t&&(We.flags|=1024),e}function F2(){var t=Cg!==0;return Cg=0,t}function H2(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function q2(t){if(Og){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Og=!1}Zs=0,hn=wt=We=null,Mc=!1,Wf=Cg=0,Dc=null}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?We.memoizedState=hn=t:hn=hn.next=t,hn}function mn(){if(wt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=hn===null?We.memoizedState:hn.next;if(e!==null)hn=e,wt=t;else{if(t===null)throw We.alternate===null?Error(se(467)):Error(se(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},hn===null?We.memoizedState=hn=t:hn=hn.next=t}return hn}function G2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ap(t){var e=Wf;return Wf+=1,Dc===null&&(Dc=[]),t=qM(Dc,t,e),e=We,(hn===null?e.memoizedState:hn.next)===null&&(e=e.alternate,De.H=e===null||e.memoizedState===null?S4:j4),t}function Ov(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ap(t);if(t.$$typeof===Ca)return ar(t)}throw Error(se(438,String(t)))}function W2(t){var e=null,n=We.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=We.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=G2(),We.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=$U;return e.index++,n}function Ka(t,e){return typeof e=="function"?e(t):e}function Qm(t){var e=mn();return K2(e,wt,t)}function K2(t,e,n){var r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var l=s=null,c=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(nt&f)===f:(Zs&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Yc&&(d=!0);else if((Zs&h)===h){u=u.next,h===Yc&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,s=a):c=c.next=f,We.lanes|=h,eo|=h;f=u.action,fl&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,s=a):c=c.next=h,We.lanes|=f,eo|=f;u=u.next}while(u!==null&&u!==e);if(c===null?s=a:c.next=l,!ri(a,t.memoizedState)&&(Ln=!0,d&&(n=Rc,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=c,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function qx(t){var e=mn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ri(a,e.memoizedState)||(Ln=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function YM(t,e,n){var r=We,i=mn(),a=ot;if(a){if(n===void 0)throw Error(se(407));n=n()}else n=e();var s=!ri((wt||i).memoizedState,n);s&&(i.memoizedState=n,Ln=!0),i=i.queue;var l=JM.bind(null,r,i,t);if(sp(2048,8,l,[t]),i.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(r.flags|=2048,Zc(9,Cv(),ZM.bind(null,r,i,n,e),null),kt===null)throw Error(se(349));a||Zs&124||QM(r,e,n)}return n}function QM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e=G2(),We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZM(t,e,n,r){e.value=n,e.getSnapshot=r,e4(e)&&t4(t)}function JM(t,e,n){return n(function(){e4(e)&&t4(t)})}function e4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ri(t,n)}catch{return!0}}function t4(t){var e=qu(t,2);e!==null&&Zr(e,t,2)}function R1(t){var e=_r();if(typeof t=="function"){var n=t;if(t=n(),fl){ks(!0);try{n()}finally{ks(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},e}function n4(t,e,n,r){return t.baseState=n,K2(t,wt,typeof r=="function"?r:Ka)}function e7(t,e,n,r,i){if(kv(t))throw Error(se(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};De.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,r4(e,a)):(a.next=n.next,e.pending=n.next=a)}}function r4(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=De.T,s={};De.T=s;try{var l=n(i,r),c=De.S;c!==null&&c(s,l),PT(t,e,l)}catch(u){M1(t,e,u)}finally{De.T=a}}else try{a=n(i,r),PT(t,e,a)}catch(u){M1(t,e,u)}}function PT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){RT(t,e,r)},function(r){return M1(t,e,r)}):RT(t,e,n)}function RT(t,e,n){e.status="fulfilled",e.value=n,i4(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,r4(t,n)))}function M1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,i4(e),e=e.next;while(e!==r)}t.action=null}function i4(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function a4(t,e){return e}function MT(t,e){if(ot){var n=kt.formState;if(n!==null){e:{var r=We;if(ot){if(en){t:{for(var i=en,a=Ki;i.nodeType!==8;){if(!a){i=null;break t}if(i=Mi(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){en=Mi(i.nextSibling),r=i.data==="F!";break e}}ul(r)}r=!1}r&&(e=n[0])}}return n=_r(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a4,lastRenderedState:e},n.queue=r,n=w4.bind(null,We,r),r.dispatch=n,r=R1(!1),a=Z2.bind(null,We,!1,r.queue),r=_r(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=e7.bind(null,We,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function DT(t){var e=mn();return s4(e,wt,t)}function s4(t,e,n){if(e=K2(t,e,a4)[0],t=Qm(Ka)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ap(e)}catch(s){throw s===ip?Nv:s}else r=e;e=mn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(We.flags|=2048,Zc(9,Cv(),t7.bind(null,i,n),null)),[r,a,t]}function t7(t,e){t.action=e}function $T(t){var e=mn(),n=wt;if(n!==null)return s4(e,n,t);mn(),e=e.memoizedState,n=mn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Zc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=We.updateQueue,e===null&&(e=G2(),We.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Cv(){return{destroy:void 0,resource:void 0}}function o4(){return mn().memoizedState}function Zm(t,e,n,r){var i=_r();r=r===void 0?null:r,We.flags|=t,i.memoizedState=Zc(1|e,Cv(),n,r)}function sp(t,e,n,r){var i=mn();r=r===void 0?null:r;var a=i.memoizedState.inst;wt!==null&&r!==null&&V2(r,wt.memoizedState.deps)?i.memoizedState=Zc(e,a,n,r):(We.flags|=t,i.memoizedState=Zc(1|e,a,n,r))}function LT(t,e){Zm(8390656,8,t,e)}function l4(t,e){sp(2048,8,t,e)}function c4(t,e){return sp(4,2,t,e)}function u4(t,e){return sp(4,4,t,e)}function d4(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f4(t,e,n){n=n!=null?n.concat([t]):null,sp(4,4,d4.bind(null,e,t),n)}function X2(){}function h4(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&V2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p4(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&V2(e,r[1]))return r[0];if(r=t(),fl){ks(!0);try{t()}finally{ks(!1)}}return n.memoizedState=[r,e],r}function Y2(t,e,n){return n===void 0||Zs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=iD(),We.lanes|=t,eo|=t,n)}function m4(t,e,n,r){return ri(n,e)?n:Qc.current!==null?(t=Y2(t,n,r),ri(t,e)||(Ln=!0),t):Zs&42?(t=iD(),We.lanes|=t,eo|=t,e):(Ln=!0,t.memoizedState=n)}function g4(t,e,n,r,i){var a=lt.p;lt.p=a!==0&&8>a?a:8;var s=De.T,l={};De.T=l,Z2(t,!1,e,n);try{var c=i(),u=De.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=QV(c,r);wf(t,e,d,Qr(t))}else wf(t,e,r,Qr(t))}catch(f){wf(t,e,{then:function(){},status:"rejected",reason:f},Qr())}finally{lt.p=a,De.T=s}}function n7(){}function D1(t,e,n,r){if(t.tag!==5)throw Error(se(476));var i=y4(t).queue;g4(t,i,e,Qo,n===null?n7:function(){return v4(t),n(r)})}function y4(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Qo,baseState:Qo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:Qo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function v4(t){var e=y4(t).next.queue;wf(t,e,{},Qr())}function Q2(){return ar(Zf)}function x4(){return mn().memoizedState}function b4(){return mn().memoizedState}function r7(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Qr();t=Bs(n);var r=Us(e,t,n);r!==null&&(Zr(r,e,n),vf(r,e,n)),e={cache:$2()},t.payload=e;return}e=e.return}}function i7(t,e,n){var r=Qr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},kv(t)?_4(e,n):(n=P2(t,e,n,r),n!==null&&(Zr(n,t,r),A4(n,e,r)))}function w4(t,e,n){var r=Qr();wf(t,e,n,r)}function wf(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(kv(t))_4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,ri(l,s))return Tv(t,e,i,0),kt===null&&Ev(),!1}catch{}finally{}if(n=P2(t,e,i,r),n!==null)return Zr(n,t,r),A4(n,e,r),!0}return!1}function Z2(t,e,n,r){if(r={lane:2,revertLane:sA(),action:r,hasEagerState:!1,eagerState:null,next:null},kv(t)){if(e)throw Error(se(479))}else e=P2(t,n,r,2),e!==null&&Zr(e,t,2)}function kv(t){var e=t.alternate;return t===We||e!==null&&e===We}function _4(t,e){Mc=Og=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A4(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hM(t,n)}}var kg={readContext:ar,use:Ov,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn},S4={readContext:ar,use:Ov,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:LT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zm(4194308,4,d4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zm(4194308,4,t,e)},useInsertionEffect:function(t,e){Zm(4,2,t,e)},useMemo:function(t,e){var n=_r();e=e===void 0?null:e;var r=t();if(fl){ks(!0);try{t()}finally{ks(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=_r();if(n!==void 0){var i=n(e);if(fl){ks(!0);try{n(e)}finally{ks(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=i7.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:function(t){t=R1(t);var e=t.queue,n=w4.bind(null,We,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:X2,useDeferredValue:function(t,e){var n=_r();return Y2(n,t,e)},useTransition:function(){var t=R1(!1);return t=g4.bind(null,We,t.queue,!0,!1),_r().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=We,i=_r();if(ot){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),kt===null)throw Error(se(349));nt&124||QM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,LT(JM.bind(null,r,a,t),[t]),r.flags|=2048,Zc(9,Cv(),ZM.bind(null,r,a,n,e),null),n},useId:function(){var t=_r(),e=kt.identifierPrefix;if(ot){var n=Ia,r=ka;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,e=""+e+"R"+n,n=Cg++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=ZV++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Q2,useFormState:MT,useActionState:MT,useOptimistic:function(t){var e=_r();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Z2.bind(null,We,!0,n),n.dispatch=e,[t,e]},useMemoCache:W2,useCacheRefresh:function(){return _r().memoizedState=r7.bind(null,We)}},j4={readContext:ar,use:Ov,useCallback:h4,useContext:ar,useEffect:l4,useImperativeHandle:f4,useInsertionEffect:c4,useLayoutEffect:u4,useMemo:p4,useReducer:Qm,useRef:o4,useState:function(){return Qm(Ka)},useDebugValue:X2,useDeferredValue:function(t,e){var n=mn();return m4(n,wt.memoizedState,t,e)},useTransition:function(){var t=Qm(Ka)[0],e=mn().memoizedState;return[typeof t=="boolean"?t:ap(t),e]},useSyncExternalStore:YM,useId:x4,useHostTransitionStatus:Q2,useFormState:DT,useActionState:DT,useOptimistic:function(t,e){var n=mn();return n4(n,wt,t,e)},useMemoCache:W2,useCacheRefresh:b4},a7={readContext:ar,use:Ov,useCallback:h4,useContext:ar,useEffect:l4,useImperativeHandle:f4,useInsertionEffect:c4,useLayoutEffect:u4,useMemo:p4,useReducer:qx,useRef:o4,useState:function(){return qx(Ka)},useDebugValue:X2,useDeferredValue:function(t,e){var n=mn();return wt===null?Y2(n,t,e):m4(n,wt.memoizedState,t,e)},useTransition:function(){var t=qx(Ka)[0],e=mn().memoizedState;return[typeof t=="boolean"?t:ap(t),e]},useSyncExternalStore:YM,useId:x4,useHostTransitionStatus:Q2,useFormState:$T,useActionState:$T,useOptimistic:function(t,e){var n=mn();return wt!==null?n4(n,wt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:W2,useCacheRefresh:b4},$c=null,Kf=0;function lm(t){var e=Kf;return Kf+=1,$c===null&&($c=[]),qM($c,t,e)}function Rd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function cm(t,e){throw e.$$typeof===MU?Error(se(525)):(t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function BT(t){var e=t._init;return e(t._payload)}function E4(t){function e(b,x){if(t){var _=b.deletions;_===null?(b.deletions=[x],b.flags|=16):_.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b){for(var x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(b,x){return b=Ua(b,x),b.index=0,b.sibling=null,b}function a(b,x,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<x?(b.flags|=67108866,x):_):(b.flags|=67108866,x)):(b.flags|=1048576,x)}function s(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function l(b,x,_,N){return x===null||x.tag!==6?(x=zx(_,b.mode,N),x.return=b,x):(x=i(x,_),x.return=b,x)}function c(b,x,_,N){var A=_.type;return A===hc?d(b,x,_.props.children,N,_.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xs&&BT(A)===x.type)?(x=i(x,_.props),Rd(x,_),x.return=b,x):(x=Xm(_.type,_.key,_.props,null,b.mode,N),Rd(x,_),x.return=b,x)}function u(b,x,_,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Fx(_,b.mode,N),x.return=b,x):(x=i(x,_.children||[]),x.return=b,x)}function d(b,x,_,N,A){return x===null||x.tag!==7?(x=Zo(_,b.mode,N,A),x.return=b,x):(x=i(x,_),x.return=b,x)}function f(b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=zx(""+x,b.mode,_),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tm:return _=Xm(x.type,x.key,x.props,null,b.mode,_),Rd(_,x),_.return=b,_;case tf:return x=Fx(x,b.mode,_),x.return=b,x;case xs:var N=x._init;return x=N(x._payload),f(b,x,_)}if(nf(x)||Cd(x))return x=Zo(x,b.mode,_,null),x.return=b,x;if(typeof x.then=="function")return f(b,lm(x),_);if(x.$$typeof===Ca)return f(b,sm(b,x),_);cm(b,x)}return null}function h(b,x,_,N){var A=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return A!==null?null:l(b,x,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tm:return _.key===A?c(b,x,_,N):null;case tf:return _.key===A?u(b,x,_,N):null;case xs:return A=_._init,_=A(_._payload),h(b,x,_,N)}if(nf(_)||Cd(_))return A!==null?null:d(b,x,_,N,null);if(typeof _.then=="function")return h(b,x,lm(_),N);if(_.$$typeof===Ca)return h(b,x,sm(b,_),N);cm(b,_)}return null}function m(b,x,_,N,A){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return b=b.get(_)||null,l(x,b,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case tm:return b=b.get(N.key===null?_:N.key)||null,c(x,b,N,A);case tf:return b=b.get(N.key===null?_:N.key)||null,u(x,b,N,A);case xs:var E=N._init;return N=E(N._payload),m(b,x,_,N,A)}if(nf(N)||Cd(N))return b=b.get(_)||null,d(x,b,N,A,null);if(typeof N.then=="function")return m(b,x,_,lm(N),A);if(N.$$typeof===Ca)return m(b,x,_,sm(x,N),A);cm(x,N)}return null}function y(b,x,_,N){for(var A=null,E=null,w=x,j=x=0,O=null;w!==null&&j<_.length;j++){w.index>j?(O=w,w=null):O=w.sibling;var I=h(b,w,_[j],N);if(I===null){w===null&&(w=O);break}t&&w&&I.alternate===null&&e(b,w),x=a(I,x,j),E===null?A=I:E.sibling=I,E=I,w=O}if(j===_.length)return n(b,w),ot&&Do(b,j),A;if(w===null){for(;j<_.length;j++)w=f(b,_[j],N),w!==null&&(x=a(w,x,j),E===null?A=w:E.sibling=w,E=w);return ot&&Do(b,j),A}for(w=r(w);j<_.length;j++)O=m(w,b,j,_[j],N),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?j:O.key),x=a(O,x,j),E===null?A=O:E.sibling=O,E=O);return t&&w.forEach(function(T){return e(b,T)}),ot&&Do(b,j),A}function g(b,x,_,N){if(_==null)throw Error(se(151));for(var A=null,E=null,w=x,j=x=0,O=null,I=_.next();w!==null&&!I.done;j++,I=_.next()){w.index>j?(O=w,w=null):O=w.sibling;var T=h(b,w,I.value,N);if(T===null){w===null&&(w=O);break}t&&w&&T.alternate===null&&e(b,w),x=a(T,x,j),E===null?A=T:E.sibling=T,E=T,w=O}if(I.done)return n(b,w),ot&&Do(b,j),A;if(w===null){for(;!I.done;j++,I=_.next())I=f(b,I.value,N),I!==null&&(x=a(I,x,j),E===null?A=I:E.sibling=I,E=I);return ot&&Do(b,j),A}for(w=r(w);!I.done;j++,I=_.next())I=m(w,b,j,I.value,N),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?j:I.key),x=a(I,x,j),E===null?A=I:E.sibling=I,E=I);return t&&w.forEach(function(P){return e(b,P)}),ot&&Do(b,j),A}function v(b,x,_,N){if(typeof _=="object"&&_!==null&&_.type===hc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case tm:e:{for(var A=_.key;x!==null;){if(x.key===A){if(A=_.type,A===hc){if(x.tag===7){n(b,x.sibling),N=i(x,_.props.children),N.return=b,b=N;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xs&&BT(A)===x.type){n(b,x.sibling),N=i(x,_.props),Rd(N,_),N.return=b,b=N;break e}n(b,x);break}else e(b,x);x=x.sibling}_.type===hc?(N=Zo(_.props.children,b.mode,N,_.key),N.return=b,b=N):(N=Xm(_.type,_.key,_.props,null,b.mode,N),Rd(N,_),N.return=b,b=N)}return s(b);case tf:e:{for(A=_.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(b,x.sibling),N=i(x,_.children||[]),N.return=b,b=N;break e}else{n(b,x);break}else e(b,x);x=x.sibling}N=Fx(_,b.mode,N),N.return=b,b=N}return s(b);case xs:return A=_._init,_=A(_._payload),v(b,x,_,N)}if(nf(_))return y(b,x,_,N);if(Cd(_)){if(A=Cd(_),typeof A!="function")throw Error(se(150));return _=A.call(_),g(b,x,_,N)}if(typeof _.then=="function")return v(b,x,lm(_),N);if(_.$$typeof===Ca)return v(b,x,sm(b,_),N);cm(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(b,x.sibling),N=i(x,_),N.return=b,b=N):(n(b,x),N=zx(_,b.mode,N),N.return=b,b=N),s(b)):n(b,x)}return function(b,x,_,N){try{Kf=0;var A=v(b,x,_,N);return $c=null,A}catch(w){if(w===ip||w===Nv)throw w;var E=Hr(29,w,null,b.mode);return E.lanes=N,E.return=b,E}finally{}}}var Jc=E4(!0),T4=E4(!1),vi=ha(null),na=null;function As(t){var e=t.alternate;Ft(An,An.current&1),Ft(vi,t),na===null&&(e===null||Qc.current!==null||e.memoizedState!==null)&&(na=t)}function N4(t){if(t.tag===22){if(Ft(An,An.current),Ft(vi,t),na===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(na=t)}}else Ss()}function Ss(){Ft(An,An.current),Ft(vi,vi.current)}function Ra(t){Bn(vi),na===t&&(na=null),Bn(An)}var An=ha(0);function Ig(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||J1(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Gx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=Bs(r);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,r),e!==null&&(Zr(e,t,r),vf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=Bs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,r),e!==null&&(Zr(e,t,r),vf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qr(),r=Bs(n);r.tag=2,e!=null&&(r.callback=e),e=Us(t,r,n),e!==null&&(Zr(e,t,n),vf(e,t,n))}};function UT(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!qf(n,r)||!qf(i,a):!0}function VT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$1.enqueueReplaceState(e,e.state,null)}function hl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=$t({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Pg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function O4(t){Pg(t)}function C4(t){console.error(t)}function k4(t){Pg(t)}function Rg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function zT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function L1(t,e,n){return n=Bs(n),n.tag=3,n.payload={element:null},n.callback=function(){Rg(t,e)},n}function I4(t){return t=Bs(t),t.tag=3,t}function P4(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){zT(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){zT(e,n,r),typeof i!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function s7(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&np(e,n,i,!0),n=vi.current,n!==null){switch(n.tag){case 13:return na===null?G1():n.alternate===null&&nn===0&&(nn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===C1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),rb(t,r,i)),!1;case 22:return n.flags|=65536,r===C1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),rb(t,r,i)),!1}throw Error(se(435,n.tag))}return rb(t,r,i),G1(),!1}if(ot)return e=vi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==j1&&(t=Error(se(422),{cause:r}),Gf(fi(t,n)))):(r!==j1&&(e=Error(se(423),{cause:r}),Gf(fi(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=fi(r,n),i=L1(t.stateNode,r,i),Hx(t,i),nn!==4&&(nn=2)),!1;var a=Error(se(520),{cause:r});if(a=fi(a,n),Sf===null?Sf=[a]:Sf.push(a),nn!==4&&(nn=2),e===null)return!0;r=fi(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=L1(n.stateNode,r,t),Hx(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Vs===null||!Vs.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=I4(i),P4(i,t,n,r),Hx(n,i),!1}n=n.return}while(n!==null);return!1}var R4=Error(se(461)),Ln=!1;function Hn(t,e,n,r){e.child=t===null?T4(e,null,n,r):Jc(e,t.child,n,r)}function FT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}else s=r;return dl(e),r=z2(t,e,n,s,a,i),l=F2(),t!==null&&!Ln?(H2(t,e,i),Xa(t,e,i)):(ot&&l&&M2(e),e.flags|=1,Hn(t,e,r,i),e.child)}function HT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!R2(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,M4(t,e,a,r,i)):(t=Xm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!J2(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:qf,n(s,r)&&t.ref===e.ref)return Xa(t,e,i)}return e.flags|=1,t=Ua(a,r),t.ref=e.ref,t.return=e,e.child=t}function M4(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(qf(a,r)&&t.ref===e.ref)if(Ln=!1,e.pendingProps=r=a,J2(t,i))t.flags&131072&&(Ln=!0);else return e.lanes=t.lanes,Xa(t,e,i)}return B1(t,e,n,r,i)}function D4(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return qT(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ym(e,a!==null?a.cachePool:null),a!==null?IT(e,a):P1(),N4(e);else return e.lanes=e.childLanes=536870912,qT(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Ym(e,a.cachePool),IT(e,a),Ss(),e.memoizedState=null):(t!==null&&Ym(e,null),P1(),Ss());return Hn(t,e,i,n),e.child}function qT(t,e,n,r){var i=L2();return i=i===null?null:{parent:bn._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Ym(e,null),P1(),N4(e),t!==null&&np(t,e,r,!0),null}function Jm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(se(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function B1(t,e,n,r,i){return dl(e),n=z2(t,e,n,r,void 0,i),r=F2(),t!==null&&!Ln?(H2(t,e,i),Xa(t,e,i)):(ot&&r&&M2(e),e.flags|=1,Hn(t,e,n,i),e.child)}function GT(t,e,n,r,i,a){return dl(e),e.updateQueue=null,n=XM(e,r,n,i),KM(t),r=F2(),t!==null&&!Ln?(H2(t,e,a),Xa(t,e,a)):(ot&&r&&M2(e),e.flags|=1,Hn(t,e,n,a),e.child)}function WT(t,e,n,r,i){if(dl(e),e.stateNode===null){var a=wc,s=n.contextType;typeof s=="object"&&s!==null&&(a=ar(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=$1,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},B2(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?ar(s):wc,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Gx(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&$1.enqueueReplaceState(a,a.state,null),bf(e,r,a,i),xf(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,c=hl(n,l);a.props=c;var u=a.context,d=n.contextType;s=wc,typeof d=="object"&&d!==null&&(s=ar(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==s)&&VT(e,a,r,s),bs=!1;var h=e.memoizedState;a.state=h,bf(e,r,a,i),xf(),u=e.memoizedState,l||h!==u||bs?(typeof f=="function"&&(Gx(e,n,f,r),u=e.memoizedState),(c=bs||UT(e,n,c,r,h,u,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,k1(t,e),s=e.memoizedProps,d=hl(n,s),a.props=d,f=e.pendingProps,h=a.context,u=n.contextType,c=wc,typeof u=="object"&&u!==null&&(c=ar(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==c)&&VT(e,a,r,c),bs=!1,h=e.memoizedState,a.state=h,bf(e,r,a,i),xf();var m=e.memoizedState;s!==f||h!==m||bs||t!==null&&t.dependencies!==null&&Tg(t.dependencies)?(typeof l=="function"&&(Gx(e,n,l,r),m=e.memoizedState),(d=bs||UT(e,n,d,r,h,m,c)||t!==null&&t.dependencies!==null&&Tg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Jm(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Jc(e,t.child,null,i),e.child=Jc(e,null,n,i)):Hn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Xa(t,e,i),t}function KT(t,e,n,r){return tp(),e.flags|=256,Hn(t,e,n,r),e.child}var Wx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kx(t){return{baseLanes:t,cachePool:FM()}}function Xx(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=gi),t}function $4(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(An.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ot){if(i?As(e):Ss(),ot){var l=en,c;if(c=l){e:{for(c=l,l=Ki;c.nodeType!==8;){if(!l){l=null;break e}if(c=Mi(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(e.memoizedState={dehydrated:l,treeContext:Jo!==null?{id:ka,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},c=Hr(18,null,null,0),c.stateNode=l,c.return=e,e.child=c,fr=e,en=null,c=!0):c=!1}c||ul(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return J1(l)?e.lanes=32:e.lanes=536870912,null;Ra(e)}return l=r.children,r=r.fallback,i?(Ss(),i=e.mode,l=Mg({mode:"hidden",children:l},i),r=Zo(r,i,n,null),l.return=e,r.return=e,l.sibling=r,e.child=l,i=e.child,i.memoizedState=Kx(n),i.childLanes=Xx(t,s,n),e.memoizedState=Wx,r):(As(e),U1(e,l))}if(c=t.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(a)e.flags&256?(As(e),e.flags&=-257,e=Yx(t,e,n)):e.memoizedState!==null?(Ss(),e.child=t.child,e.flags|=128,e=null):(Ss(),i=r.fallback,l=e.mode,r=Mg({mode:"visible",children:r.children},l),i=Zo(i,l,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Jc(e,t.child,null,n),r=e.child,r.memoizedState=Kx(n),r.childLanes=Xx(t,s,n),e.memoizedState=Wx,e=i);else if(As(e),J1(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(se(419)),r.stack="",r.digest=s,Gf({value:r,source:null,stack:null}),e=Yx(t,e,n)}else if(Ln||np(t,e,n,!1),s=(n&t.childLanes)!==0,Ln||s){if(s=kt,s!==null&&(r=n&-n,r=r&42?1:A2(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,qu(t,r),Zr(s,t,r),R4;l.data==="$?"||G1(),e=Yx(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,en=Mi(l.nextSibling),fr=e,ot=!0,el=null,Ki=!1,t!==null&&(ci[ui++]=ka,ci[ui++]=Ia,ci[ui++]=Jo,ka=t.id,Ia=t.overflow,Jo=e),e=U1(e,r.children),e.flags|=4096);return e}return i?(Ss(),i=r.fallback,l=e.mode,c=t.child,u=c.sibling,r=Ua(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Ua(u,i):(i=Zo(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l===null?l=Kx(n):(c=l.cachePool,c!==null?(u=bn._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=FM(),l={baseLanes:l.baseLanes|n,cachePool:c}),i.memoizedState=l,i.childLanes=Xx(t,s,n),e.memoizedState=Wx,r):(As(e),n=t.child,t=n.sibling,n=Ua(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function U1(t,e){return e=Mg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Mg(t,e){return t=Hr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Yx(t,e,n){return Jc(e,t.child,null,n),t=U1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),T1(t.return,e,n)}function Qx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function L4(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Hn(t,e,r.children,n),r=An.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XT(t,n,e);else if(t.tag===19)XT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Ft(An,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ig(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ig(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qx(e,!0,n,null,a);break;case"together":Qx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(n&e.childLanes))if(t!==null){if(np(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Ua(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ua(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J2(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Tg(t)))}function o7(t,e,n){switch(e.tag){case 3:xg(e,e.stateNode.containerInfo),_s(e,bn,t.memoizedState.cache),tp();break;case 27:case 5:m1(e);break;case 4:xg(e,e.stateNode.containerInfo);break;case 10:_s(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(As(e),e.flags|=128,null):n&e.child.childLanes?$4(t,e,n):(As(e),t=Xa(t,e,n),t!==null?t.sibling:null);As(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(np(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return L4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(An,An.current),r)break;return null;case 22:case 23:return e.lanes=0,D4(t,e,n);case 24:_s(e,bn,t.memoizedState.cache)}return Xa(t,e,n)}function B4(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ln=!0;else{if(!J2(t,n)&&!(e.flags&128))return Ln=!1,o7(t,e,n);Ln=!!(t.flags&131072)}else Ln=!1,ot&&e.flags&1048576&&VM(e,Eg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")R2(r)?(t=hl(r,t),e.tag=1,e=WT(null,e,r,t,n)):(e.tag=0,e=B1(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===b2){e.tag=11,e=FT(null,e,r,t,n);break e}else if(i===w2){e.tag=14,e=HT(null,e,r,t,n);break e}}throw e=h1(r)||r,Error(se(306,e,""))}}return e;case 0:return B1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=hl(r,e.pendingProps),WT(t,e,r,i,n);case 3:e:{if(xg(e,e.stateNode.containerInfo),t===null)throw Error(se(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,k1(t,e),bf(e,r,null,n);var s=e.memoizedState;if(r=s.cache,_s(e,bn,r),r!==a.cache&&N1(e,[bn],n,!0),xf(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=KT(t,e,r,n);break e}else if(r!==i){i=fi(Error(se(424)),e),Gf(i),e=KT(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(en=Mi(t.firstChild),fr=e,ot=!0,el=null,Ki=!0,n=T4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(tp(),r===i){e=Xa(t,e,n);break e}Hn(t,e,r,n)}e=e.child}return e;case 26:return Jm(t,e),t===null?(n=fN(e.type,null,e.pendingProps,null))?e.memoizedState=n:ot||(n=e.type,t=e.pendingProps,r=zg(Ls.current).createElement(n),r[ir]=e,r[Ir]=t,Kn(r,n,t),Dn(r),e.stateNode=r):e.memoizedState=fN(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return m1(e),t===null&&ot&&(r=e.stateNode=jD(e.type,e.pendingProps,Ls.current),fr=e,Ki=!0,i=en,ho(e.type)?(ew=i,en=Mi(r.firstChild)):en=i),Hn(t,e,e.pendingProps.children,n),Jm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ot&&((i=r=en)&&(r=M7(r,e.type,e.pendingProps,Ki),r!==null?(e.stateNode=r,fr=e,en=Mi(r.firstChild),Ki=!1,i=!0):i=!1),i||ul(e)),m1(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,Q1(i,a)?r=null:s!==null&&Q1(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=z2(t,e,JV,null,null,n),Zf._currentValue=i),Jm(t,e),Hn(t,e,r,n),e.child;case 6:return t===null&&ot&&((t=n=en)&&(n=D7(n,e.pendingProps,Ki),n!==null?(e.stateNode=n,fr=e,en=null,t=!0):t=!1),t||ul(e)),null;case 13:return $4(t,e,n);case 4:return xg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jc(e,null,r,n):Hn(t,e,r,n),e.child;case 11:return FT(t,e,e.type,e.pendingProps,n);case 7:return Hn(t,e,e.pendingProps,n),e.child;case 8:return Hn(t,e,e.pendingProps.children,n),e.child;case 12:return Hn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,_s(e,e.type,r.value),Hn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,dl(e),i=ar(i),r=r(i),e.flags|=1,Hn(t,e,r,n),e.child;case 14:return HT(t,e,e.type,e.pendingProps,n);case 15:return M4(t,e,e.type,e.pendingProps,n);case 19:return L4(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Mg(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ua(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return D4(t,e,n);case 24:return dl(e),r=ar(bn),t===null?(i=L2(),i===null&&(i=kt,a=$2(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},B2(e),_s(e,bn,i)):(t.lanes&n&&(k1(t,e),bf(e,null,null,n),xf()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),_s(e,bn,r)):(r=a.cache,_s(e,bn,r),r!==i.cache&&N1(e,[bn],n,!0))),Hn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(se(156,e.tag))}function Sa(t){t.flags|=4}function YT(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ND(e)){if(e=vi.current,e!==null&&((nt&4194048)===nt?na!==null:(nt&62914560)!==nt&&!(nt&536870912)||e!==na))throw yf=C1,HM;t.flags|=8192}}function um(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?dM():536870912,t.lanes|=e,eu|=e)}function Md(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l7(t,e,n){var r=e.pendingProps;switch(D2(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Wt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Va(bn),Wc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pd(e)?Sa(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ET())),Wt(e),null;case 26:return n=e.memoizedState,t===null?(Sa(e),n!==null?(Wt(e),YT(e,n)):(Wt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Sa(e),Wt(e),YT(e,n)):(Wt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Sa(e),Wt(e),e.flags&=-16777217),null;case 27:bg(e),n=Ls.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Sa(e);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Wt(e),null}t=ea.current,Pd(e)?ST(e):(t=jD(i,r,n),e.stateNode=t,Sa(e))}return Wt(e),null;case 5:if(bg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Sa(e);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Wt(e),null}if(t=ea.current,Pd(e))ST(e);else{switch(i=zg(Ls.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[ir]=e,t[Ir]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Kn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Sa(e)}}return Wt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Sa(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(t=Ls.current,Pd(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=fr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[ir]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||_D(t.nodeValue,n)),t||ul(e)}else t=zg(t).createTextNode(r),t[ir]=e,e.stateNode=t}return Wt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Pd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[ir]=e}else tp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else i=ET(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Ra(e),e):(Ra(e),null)}if(Ra(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),um(e,e.updateQueue),Wt(e),null;case 4:return Wc(),t===null&&oA(e.stateNode.containerInfo),Wt(e),null;case 10:return Va(e.type),Wt(e),null;case 19:if(Bn(An),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Md(i,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ig(t),a!==null){for(e.flags|=128,Md(i,!1),t=a.updateQueue,e.updateQueue=t,um(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)UM(n,t),n=n.sibling;return Ft(An,An.current&1|2),e.child}t=t.sibling}i.tail!==null&&ta()>$g&&(e.flags|=128,r=!0,Md(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ig(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,um(e,t),Md(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ot)return Wt(e),null}else 2*ta()-i.renderingStartTime>$g&&n!==536870912&&(e.flags|=128,r=!0,Md(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ta(),e.sibling=null,t=An.current,Ft(An,r?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return Ra(e),U2(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),n=e.updateQueue,n!==null&&um(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Bn(tl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Va(bn),Wt(e),null;case 25:return null;case 30:return null}throw Error(se(156,e.tag))}function c7(t,e){switch(D2(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Va(bn),Wc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return bg(e),null;case 13:if(Ra(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));tp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn(An),null;case 4:return Wc(),null;case 10:return Va(e.type),null;case 22:case 23:return Ra(e),U2(),t!==null&&Bn(tl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Va(bn),null;case 25:return null;default:return null}}function U4(t,e){switch(D2(e),e.tag){case 3:Va(bn),Wc();break;case 26:case 27:case 5:bg(e);break;case 4:Wc();break;case 13:Ra(e);break;case 19:Bn(An);break;case 10:Va(e.type);break;case 22:case 23:Ra(e),U2(),t!==null&&Bn(tl);break;case 24:Va(bn)}}function op(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(l){St(e,e.return,l)}}function Js(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=e;var c=n,u=l;try{u()}catch(d){St(i,c,d)}}}r=r.next}while(r!==a)}}catch(d){St(e,e.return,d)}}function V4(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{WM(e,n)}catch(r){St(t,t.return,r)}}}function z4(t,e,n){n.props=hl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){St(t,e,r)}}function _f(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){St(t,e,i)}}function Xi(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){St(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){St(t,e,i)}else n.current=null}function F4(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){St(t,t.return,i)}}function Zx(t,e,n){try{var r=t.stateNode;C7(r,t.type,n,e),r[Ir]=e}catch(i){St(t,t.return,i)}}function H4(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ho(t.type)||t.tag===4}function Jx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ho(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function V1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mv));else if(r!==4&&(r===27&&ho(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(V1(t,e,n),t=t.sibling;t!==null;)V1(t,e,n),t=t.sibling}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ho(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}function q4(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Kn(e,r,n),e[ir]=t,e[Ir]=n}catch(a){St(t,t.return,a)}}var Na=!1,on=!1,eb=!1,QT=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function u7(t,e){if(t=t.containerInfo,X1=Gg,t=IM(t),k2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=s),h===a&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y1={focusedElem:t,selectionRange:n},Gg=!1,Mn=e;Mn!==null;)if(e=Mn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Mn=t;else for(;Mn!==null;){switch(e=Mn,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=hl(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(g){St(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Z1(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Z1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(se(163))}if(t=e.sibling,t!==null){t.return=e.return,Mn=t;break}Mn=e.return}}function G4(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ms(t,n),r&4&&op(5,n);break;case 1:if(ms(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){St(n,n.return,s)}else{var i=hl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){St(n,n.return,s)}}r&64&&V4(n),r&512&&_f(n,n.return);break;case 3:if(ms(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{WM(t,e)}catch(s){St(n,n.return,s)}}break;case 27:e===null&&r&4&&q4(n);case 26:case 5:ms(t,n),e===null&&r&4&&F4(n),r&512&&_f(n,n.return);break;case 12:ms(t,n);break;case 13:ms(t,n),r&4&&X4(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=x7.bind(null,n),$7(t,n))));break;case 22:if(r=n.memoizedState!==null||Na,!r){e=e!==null&&e.memoizedState!==null||on,i=Na;var a=on;Na=r,(on=e)&&!a?ys(t,n,(n.subtreeFlags&8772)!==0):ms(t,n),Na=i,on=a}break;case 30:break;default:ms(t,n)}}function W4(t){var e=t.alternate;e!==null&&(t.alternate=null,W4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&j2(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,Ar=!1;function ja(t,e,n){for(n=n.child;n!==null;)K4(t,e,n),n=n.sibling}function K4(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Yh,n)}catch{}switch(n.tag){case 26:on||Xi(n,e),ja(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:on||Xi(n,e);var r=Ut,i=Ar;ho(n.type)&&(Ut=n.stateNode,Ar=!1),ja(t,e,n),Ef(n.stateNode),Ut=r,Ar=i;break;case 5:on||Xi(n,e);case 6:if(r=Ut,i=Ar,Ut=null,ja(t,e,n),Ut=r,Ar=i,Ut!==null)if(Ar)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(n.stateNode)}catch(a){St(n,e,a)}else try{Ut.removeChild(n.stateNode)}catch(a){St(n,e,a)}break;case 18:Ut!==null&&(Ar?(t=Ut,cN(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),th(t)):cN(Ut,n.stateNode));break;case 4:r=Ut,i=Ar,Ut=n.stateNode.containerInfo,Ar=!0,ja(t,e,n),Ut=r,Ar=i;break;case 0:case 11:case 14:case 15:on||Js(2,n,e),on||Js(4,n,e),ja(t,e,n);break;case 1:on||(Xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&z4(n,e,r)),ja(t,e,n);break;case 21:ja(t,e,n);break;case 22:on=(r=on)||n.memoizedState!==null,ja(t,e,n),on=r;break;default:ja(t,e,n)}}function X4(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{th(t)}catch(n){St(e,e.return,n)}}function d7(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new QT),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new QT),e;default:throw Error(se(435,t.tag))}}function tb(t,e){var n=d7(t);e.forEach(function(r){var i=b7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(ho(l.type)){Ut=l.stateNode,Ar=!1;break e}break;case 5:Ut=l.stateNode,Ar=!1;break e;case 3:case 4:Ut=l.stateNode.containerInfo,Ar=!0;break e}l=l.return}if(Ut===null)throw Error(se(160));K4(a,s,i),Ut=null,Ar=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Y4(e,t),e=e.sibling}var Ci=null;function Y4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dr(e,t),$r(t),r&4&&(Js(3,t,t.return),op(3,t),Js(5,t,t.return));break;case 1:Dr(e,t),$r(t),r&512&&(on||n===null||Xi(n,n.return)),r&64&&Na&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ci;if(Dr(e,t),$r(t),r&512&&(on||n===null||Xi(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Jh]||a[ir]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Kn(a,r,n),a[ir]=t,Dn(a),r=a;break e;case"link":var s=pN("link","href",i).get(r+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=i.createElement(r),Kn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=pN("meta","content",i).get(r+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=i.createElement(r),Kn(a,r,n),i.head.appendChild(a);break;default:throw Error(se(468,r))}a[ir]=t,Dn(a),r=a}t.stateNode=r}else mN(i,t.type,t.stateNode);else t.stateNode=hN(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?mN(i,t.type,t.stateNode):hN(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Zx(t,t.memoizedProps,n.memoizedProps)}break;case 27:Dr(e,t),$r(t),r&512&&(on||n===null||Xi(n,n.return)),n!==null&&r&4&&Zx(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Dr(e,t),$r(t),r&512&&(on||n===null||Xi(n,n.return)),t.flags&32){i=t.stateNode;try{Xc(i,"")}catch(m){St(t,t.return,m)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Zx(t,i,n!==null?n.memoizedProps:i)),r&1024&&(eb=!0);break;case 6:if(Dr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(se(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){St(t,t.return,m)}}break;case 3:if(ng=null,i=Ci,Ci=Fg(e.containerInfo),Dr(e,t),Ci=i,$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{th(e.containerInfo)}catch(m){St(t,t.return,m)}eb&&(eb=!1,Q4(t));break;case 4:r=Ci,Ci=Fg(t.stateNode.containerInfo),Dr(e,t),$r(t),Ci=r;break;case 12:Dr(e,t),$r(t);break;case 13:Dr(e,t),$r(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(iA=ta()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,tb(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Na,d=on;if(Na=u||i,on=d||c,Dr(e,t),on=d,Na=u,$r(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Na||on||$o(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){St(c,c.return,m)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){St(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,tb(t,n))));break;case 19:Dr(e,t),$r(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,tb(t,r)));break;case 30:break;case 21:break;default:Dr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(H4(r)){n=r;break}r=r.return}if(n==null)throw Error(se(160));switch(n.tag){case 27:var i=n.stateNode,a=Jx(t);Dg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Xc(s,""),n.flags&=-33);var l=Jx(t);Dg(t,l,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Jx(t);V1(t,u,c);break;default:throw Error(se(161))}}catch(d){St(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q4(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Q4(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ms(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)G4(t,e.alternate,e),e=e.sibling}function $o(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Js(4,e,e.return),$o(e);break;case 1:Xi(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&z4(e,e.return,n),$o(e);break;case 27:Ef(e.stateNode);case 26:case 5:Xi(e,e.return),$o(e);break;case 22:e.memoizedState===null&&$o(e);break;case 30:$o(e);break;default:$o(e)}t=t.sibling}}function ys(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:ys(i,a,n),op(4,a);break;case 1:if(ys(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){St(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var l=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)GM(c[i],l)}catch(u){St(r,r.return,u)}}n&&s&64&&V4(a),_f(a,a.return);break;case 27:q4(a);case 26:case 5:ys(i,a,n),n&&r===null&&s&4&&F4(a),_f(a,a.return);break;case 12:ys(i,a,n);break;case 13:ys(i,a,n),n&&s&4&&X4(i,a);break;case 22:a.memoizedState===null&&ys(i,a,n),_f(a,a.return);break;case 30:break;default:ys(i,a,n)}e=e.sibling}}function eA(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&rp(n))}function tA(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rp(t))}function qi(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Z4(t,e,n,r),e=e.sibling}function Z4(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:qi(t,e,n,r),i&2048&&op(9,e);break;case 1:qi(t,e,n,r);break;case 3:qi(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rp(t)));break;case 12:if(i&2048){qi(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){St(e,e.return,c)}}else qi(t,e,n,r);break;case 13:qi(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?qi(t,e,n,r):Af(t,e):a._visibility&2?qi(t,e,n,r):(a._visibility|=2,oc(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&eA(s,e);break;case 24:qi(t,e,n,r),i&2048&&tA(e.alternate,e);break;default:qi(t,e,n,r)}}function oc(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,l=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:oc(a,s,l,c,i),op(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?oc(a,s,l,c,i):Af(a,s):(d._visibility|=2,oc(a,s,l,c,i)),i&&u&2048&&eA(s.alternate,s);break;case 24:oc(a,s,l,c,i),i&&u&2048&&tA(s.alternate,s);break;default:oc(a,s,l,c,i)}e=e.sibling}}function Af(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Af(n,r),i&2048&&eA(r.alternate,r);break;case 24:Af(n,r),i&2048&&tA(r.alternate,r);break;default:Af(n,r)}e=e.sibling}}var af=8192;function Yl(t){if(t.subtreeFlags&af)for(t=t.child;t!==null;)J4(t),t=t.sibling}function J4(t){switch(t.tag){case 26:Yl(t),t.flags&af&&t.memoizedState!==null&&Y7(Ci,t.memoizedState,t.memoizedProps);break;case 5:Yl(t);break;case 3:case 4:var e=Ci;Ci=Fg(t.stateNode.containerInfo),Yl(t),Ci=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=af,af=16777216,Yl(t),af=e):Yl(t));break;default:Yl(t)}}function eD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Dd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Mn=r,nD(r,t)}eD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tD(t),t=t.sibling}function tD(t){switch(t.tag){case 0:case 11:case 15:Dd(t),t.flags&2048&&Js(9,t,t.return);break;case 3:Dd(t);break;case 12:Dd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,eg(t)):Dd(t);break;default:Dd(t)}}function eg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Mn=r,nD(r,t)}eD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Js(8,e,e.return),eg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,eg(e));break;default:eg(e)}t=t.sibling}}function nD(t,e){for(;Mn!==null;){var n=Mn;switch(n.tag){case 0:case 11:case 15:Js(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:rp(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Mn=r;else e:for(n=t;Mn!==null;){r=Mn;var i=r.sibling,a=r.return;if(W4(r),r===n){Mn=null;break e}if(i!==null){i.return=a,Mn=i;break e}Mn=a}}}var f7={getCacheForType:function(t){var e=ar(bn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},h7=typeof WeakMap=="function"?WeakMap:Map,yt=0,kt=null,Ye=null,nt=0,gt=0,zr=null,Ps=!1,Gu=!1,nA=!1,Ya=0,nn=0,eo=0,nl=0,rA=0,gi=0,eu=0,Sf=null,Sr=null,z1=!1,iA=0,$g=1/0,Lg=null,Vs=null,Gn=0,zs=null,tu=null,Lc=0,F1=0,H1=null,rD=null,jf=0,q1=null;function Qr(){if(yt&2&&nt!==0)return nt&-nt;if(De.T!==null){var t=Yc;return t!==0?t:sA()}return pM()}function iD(){gi===0&&(gi=!(nt&536870912)||ot?uM():536870912);var t=vi.current;return t!==null&&(t.flags|=32),gi}function Zr(t,e,n){(t===kt&&(gt===2||gt===9)||t.cancelPendingCommit!==null)&&(nu(t,0),Rs(t,nt,gi,!1)),Zh(t,n),(!(yt&2)||t!==kt)&&(t===kt&&(!(yt&2)&&(nl|=n),nn===4&&Rs(t,nt,gi,!1)),pa(t))}function aD(t,e,n){if(yt&6)throw Error(se(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Qh(t,e),i=r?g7(t,e):nb(t,e,!0),a=r;do{if(i===0){Gu&&!r&&Rs(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!p7(n)){i=nb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;i=Sf;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),s=nb(l,s,!1),s!==2){if(nA&&!c){l.errorRecoveryDisabledLanes|=a,nl|=a,i=4;break e}a=Sr,Sr=i,a!==null&&(Sr===null?Sr=a:Sr.push.apply(Sr,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){nu(t,0),Rs(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(se(345));case 4:if((e&4194048)!==e)break;case 6:Rs(r,e,gi,!Ps);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(se(329))}if((e&62914560)===e&&(i=iA+300-ta(),10<i)){if(Rs(r,e,gi,!Ps),_v(r,0,!0)!==0)break e;r.timeoutHandle=SD(ZT.bind(null,r,n,Sr,Lg,z1,e,gi,nl,eu,Ps,a,2,-0,0),i);break e}ZT(r,n,Sr,Lg,z1,e,gi,nl,eu,Ps,a,0,-0,0)}}break}while(!0);pa(t)}function ZT(t,e,n,r,i,a,s,l,c,u,d,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Qf={stylesheets:null,count:0,unsuspend:X7},J4(e),f=Q7(),f!==null)){t.cancelPendingCommit=f(eN.bind(null,t,e,a,n,r,i,s,l,c,d,1,h,m)),Rs(t,a,s,!u);return}eN(t,e,a,n,r,i,s,l,c)}function p7(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ri(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e,n,r){e&=~rA,e&=~nl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Yr(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&fM(t,n,e)}function Iv(){return yt&6?!0:(lp(0),!1)}function aA(){if(Ye!==null){if(gt===0)var t=Ye.return;else t=Ye,Pa=Cl=null,q2(t),$c=null,Kf=0,t=Ye;for(;t!==null;)U4(t.alternate,t),t=t.return;Ye=null}}function nu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,I7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),aA(),kt=t,Ye=n=Ua(t.current,null),nt=e,gt=0,zr=null,Ps=!1,Gu=Qh(t,e),nA=!1,eu=gi=rA=nl=eo=nn=0,Sr=Sf=null,z1=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Yr(r),a=1<<i;e|=t[i],r&=~a}return Ya=e,Ev(),n}function sD(t,e){We=null,De.H=kg,e===ip||e===Nv?(e=CT(),gt=3):e===HM?(e=CT(),gt=4):gt=e===R4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,zr=e,Ye===null&&(nn=1,Rg(t,fi(e,t.current)))}function oD(){var t=De.H;return De.H=kg,t===null?kg:t}function lD(){var t=De.A;return De.A=f7,t}function G1(){nn=4,Ps||(nt&4194048)!==nt&&vi.current!==null||(Gu=!0),!(eo&134217727)&&!(nl&134217727)||kt===null||Rs(kt,nt,gi,!1)}function nb(t,e,n){var r=yt;yt|=2;var i=oD(),a=lD();(kt!==t||nt!==e)&&(Lg=null,nu(t,e)),e=!1;var s=nn;e:do try{if(gt!==0&&Ye!==null){var l=Ye,c=zr;switch(gt){case 8:aA(),s=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(e=!0);var u=gt;if(gt=0,zr=null,Sc(t,l,c,u),n&&Gu){s=0;break e}break;default:u=gt,gt=0,zr=null,Sc(t,l,c,u)}}m7(),s=nn;break}catch(d){sD(t,d)}while(!0);return e&&t.shellSuspendCounter++,Pa=Cl=null,yt=r,De.H=i,De.A=a,Ye===null&&(kt=null,nt=0,Ev()),s}function m7(){for(;Ye!==null;)cD(Ye)}function g7(t,e){var n=yt;yt|=2;var r=oD(),i=lD();kt!==t||nt!==e?(Lg=null,$g=ta()+500,nu(t,e)):Gu=Qh(t,e);e:do try{if(gt!==0&&Ye!==null){e=Ye;var a=zr;t:switch(gt){case 1:gt=0,zr=null,Sc(t,e,a,1);break;case 2:case 9:if(OT(a)){gt=0,zr=null,JT(e);break}e=function(){gt!==2&&gt!==9||kt!==t||(gt=7),pa(t)},a.then(e,e);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:OT(a)?(gt=0,zr=null,JT(e)):(gt=0,zr=null,Sc(t,e,a,7));break;case 5:var s=null;switch(Ye.tag){case 26:s=Ye.memoizedState;case 5:case 27:var l=Ye;if(!s||ND(s)){gt=0,zr=null;var c=l.sibling;if(c!==null)Ye=c;else{var u=l.return;u!==null?(Ye=u,Pv(u)):Ye=null}break t}}gt=0,zr=null,Sc(t,e,a,5);break;case 6:gt=0,zr=null,Sc(t,e,a,6);break;case 8:aA(),nn=6;break e;default:throw Error(se(462))}}y7();break}catch(d){sD(t,d)}while(!0);return Pa=Cl=null,De.H=r,De.A=i,yt=n,Ye!==null?0:(kt=null,nt=0,Ev(),nn)}function y7(){for(;Ye!==null&&!BU();)cD(Ye)}function cD(t){var e=B4(t.alternate,t,Ya);t.memoizedProps=t.pendingProps,e===null?Pv(t):Ye=e}function JT(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=GT(n,e,e.pendingProps,e.type,void 0,nt);break;case 11:e=GT(n,e,e.pendingProps,e.type.render,e.ref,nt);break;case 5:q2(e);default:U4(n,e),e=Ye=UM(e,Ya),e=B4(n,e,Ya)}t.memoizedProps=t.pendingProps,e===null?Pv(t):Ye=e}function Sc(t,e,n,r){Pa=Cl=null,q2(e),$c=null,Kf=0;var i=e.return;try{if(s7(t,i,e,n,nt)){nn=1,Rg(t,fi(n,t.current)),Ye=null;return}}catch(a){if(i!==null)throw Ye=i,a;nn=1,Rg(t,fi(n,t.current)),Ye=null;return}e.flags&32768?(ot||r===1?t=!0:Gu||nt&536870912?t=!1:(Ps=t=!0,(r===2||r===9||r===3||r===6)&&(r=vi.current,r!==null&&r.tag===13&&(r.flags|=16384))),uD(e,t)):Pv(e)}function Pv(t){var e=t;do{if(e.flags&32768){uD(e,Ps);return}t=e.return;var n=l7(e.alternate,e,Ya);if(n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);nn===0&&(nn=5)}function uD(t,e){do{var n=c7(t.alternate,t);if(n!==null){n.flags&=32767,Ye=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=n}while(t!==null);nn=6,Ye=null}function eN(t,e,n,r,i,a,s,l,c){t.cancelPendingCommit=null;do Rv();while(Gn!==0);if(yt&6)throw Error(se(327));if(e!==null){if(e===t.current)throw Error(se(177));if(a=e.lanes|e.childLanes,a|=I2,XU(t,n,a,s,l,c),t===kt&&(Ye=kt=null,nt=0),tu=e,zs=t,Lc=n,F1=a,H1=i,rD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,w7(wg,function(){return mD(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=De.T,De.T=null,i=lt.p,lt.p=2,s=yt,yt|=4;try{u7(t,e,n)}finally{yt=s,lt.p=i,De.T=r}}Gn=1,dD(),fD(),hD()}}function dD(){if(Gn===1){Gn=0;var t=zs,e=tu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=De.T,De.T=null;var r=lt.p;lt.p=2;var i=yt;yt|=4;try{Y4(e,t);var a=Y1,s=IM(t.containerInfo),l=a.focusedElem,c=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&kM(l.ownerDocument.documentElement,l)){if(c!==null&&k2(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),y=l.textContent.length,g=Math.min(c.start,y),v=c.end===void 0?g:Math.min(c.end,y);!m.extend&&g>v&&(s=v,v=g,g=s);var b=wT(l,g),x=wT(l,v);if(b&&x&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var _=f.createRange();_.setStart(b.node,b.offset),m.removeAllRanges(),g>v?(m.addRange(_),m.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),m.addRange(_))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var N=f[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Gg=!!X1,Y1=X1=null}finally{yt=i,lt.p=r,De.T=n}}t.current=e,Gn=2}}function fD(){if(Gn===2){Gn=0;var t=zs,e=tu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=De.T,De.T=null;var r=lt.p;lt.p=2;var i=yt;yt|=4;try{G4(t,e.alternate,e)}finally{yt=i,lt.p=r,De.T=n}}Gn=3}}function hD(){if(Gn===4||Gn===3){Gn=0,UU();var t=zs,e=tu,n=Lc,r=rD;e.subtreeFlags&10256||e.flags&10256?Gn=5:(Gn=0,tu=zs=null,pD(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Vs=null),S2(n),e=e.stateNode,Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Yh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=De.T,i=lt.p,lt.p=2,De.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var l=r[s];a(l.value,{componentStack:l.stack})}}finally{De.T=e,lt.p=i}}Lc&3&&Rv(),pa(t),i=t.pendingLanes,n&4194090&&i&42?t===q1?jf++:(jf=0,q1=t):jf=0,lp(0)}}function pD(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,rp(e)))}function Rv(t){return dD(),fD(),hD(),mD()}function mD(){if(Gn!==5)return!1;var t=zs,e=F1;F1=0;var n=S2(Lc),r=De.T,i=lt.p;try{lt.p=32>n?32:n,De.T=null,n=H1,H1=null;var a=zs,s=Lc;if(Gn=0,tu=zs=null,Lc=0,yt&6)throw Error(se(331));var l=yt;if(yt|=4,tD(a.current),Z4(a,a.current,s,n),yt=l,lp(0,!1),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Yh,a)}catch{}return!0}finally{lt.p=i,De.T=r,pD(t,e)}}function tN(t,e,n){e=fi(n,e),e=L1(t.stateNode,e,2),t=Us(t,e,2),t!==null&&(Zh(t,2),pa(t))}function St(t,e,n){if(t.tag===3)tN(t,t,n);else for(;e!==null;){if(e.tag===3){tN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=fi(n,t),n=I4(2),r=Us(e,n,2),r!==null&&(P4(n,r,e,t),Zh(r,2),pa(r));break}}e=e.return}}function rb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(nA=!0,i.add(n),t=v7.bind(null,t,e,n),e.then(t,t))}function v7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,kt===t&&(nt&n)===n&&(nn===4||nn===3&&(nt&62914560)===nt&&300>ta()-iA?!(yt&2)&&nu(t,0):rA|=n,eu===nt&&(eu=0)),pa(t)}function gD(t,e){e===0&&(e=dM()),t=qu(t,e),t!==null&&(Zh(t,e),pa(t))}function x7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gD(t,n)}function b7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(se(314))}r!==null&&r.delete(e),gD(t,n)}function w7(t,e){return _2(t,e)}var Bg=null,lc=null,W1=!1,Ug=!1,ib=!1,rl=0;function pa(t){t!==lc&&t.next===null&&(lc===null?Bg=lc=t:lc=lc.next=t),Ug=!0,W1||(W1=!0,A7())}function lp(t,e){if(!ib&&Ug){ib=!0;do for(var n=!1,r=Bg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,l=r.pingedLanes;a=(1<<31-Yr(42|t)+1)-1,a&=i&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,nN(r,a))}else a=nt,a=_v(r,r===kt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Qh(r,a)||(n=!0,nN(r,a));r=r.next}while(n);ib=!1}}function _7(){yD()}function yD(){Ug=W1=!1;var t=0;rl!==0&&(k7()&&(t=rl),rl=0);for(var e=ta(),n=null,r=Bg;r!==null;){var i=r.next,a=vD(r,e);a===0?(r.next=null,n===null?Bg=i:n.next=i,i===null&&(lc=n)):(n=r,(t!==0||a&3)&&(Ug=!0)),r=i}lp(t)}function vD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Yr(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=KU(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}if(e=kt,n=nt,n=_v(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(gt===2||gt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Cx(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Qh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Cx(r),S2(n)){case 2:case 8:n=lM;break;case 32:n=wg;break;case 268435456:n=cM;break;default:n=wg}return r=xD.bind(null,t),n=_2(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Cx(r),t.callbackPriority=2,t.callbackNode=null,2}function xD(t,e){if(Gn!==0&&Gn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Rv()&&t.callbackNode!==n)return null;var r=nt;return r=_v(t,t===kt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(aD(t,r,e),vD(t,ta()),t.callbackNode!=null&&t.callbackNode===n?xD.bind(null,t):null)}function nN(t,e){if(Rv())return null;aD(t,e,!0)}function A7(){P7(function(){yt&6?_2(oM,_7):yD()})}function sA(){return rl===0&&(rl=uM()),rl}function rN(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gm(""+t)}function iN(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function S7(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=rN((i[Ir]||null).action),s=r.submitter;s&&(e=(e=s[Ir]||null)?rN(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var l=new Av("action","action",null,r,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(rl!==0){var c=s?iN(i,s):new FormData(i);D1(n,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(l.preventDefault(),c=s?iN(i,s):new FormData(i),D1(n,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var ab=0;ab<S1.length;ab++){var sb=S1[ab],j7=sb.toLowerCase(),E7=sb[0].toUpperCase()+sb.slice(1);Fi(j7,"on"+E7)}Fi(RM,"onAnimationEnd");Fi(MM,"onAnimationIteration");Fi(DM,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi(FV,"onTransitionRun");Fi(HV,"onTransitionStart");Fi(qV,"onTransitionCancel");Fi($M,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xf));function bD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){Pg(d)}i.currentTarget=null,a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){Pg(d)}i.currentTarget=null,a=c}}}}function Xe(t,e){var n=e[y1];n===void 0&&(n=e[y1]=new Set);var r=t+"__bubble";n.has(r)||(wD(e,t,2,!1),n.add(r))}function ob(t,e,n){var r=0;e&&(r|=4),wD(n,t,r,e)}var dm="_reactListening"+Math.random().toString(36).slice(2);function oA(t){if(!t[dm]){t[dm]=!0,mM.forEach(function(n){n!=="selectionchange"&&(T7.has(n)||ob(n,!1,t),ob(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dm]||(e[dm]=!0,ob("selectionchange",!1,e))}}function wD(t,e,n,r){switch(PD(e)){case 2:var i=ez;break;case 8:i=tz;break;default:i=dA}n=i.bind(null,e,n,t),i=void 0,!w1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=mc(l),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=a=s;continue e}l=l.parentNode}}r=r.return}AM(function(){var u=a,d=T2(n),f=[];e:{var h=LM.get(t);if(h!==void 0){var m=Av,y=t;switch(t){case"keypress":if(Km(n)===0)break e;case"keydown":case"keyup":m=wV;break;case"focusin":y="focus",m=Lx;break;case"focusout":y="blur",m=Lx;break;case"beforeblur":case"afterblur":m=Lx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SV;break;case RM:case MM:case DM:m=fV;break;case $M:m=EV;break;case"scroll":case"scrollend":m=oV;break;case"wheel":m=NV;break;case"copy":case"cut":case"paste":m=pV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hT;break;case"toggle":case"beforetoggle":m=CV}var g=(e&4)!==0,v=!g&&(t==="scroll"||t==="scrollend"),b=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,_;x!==null;){var N=x;if(_=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||_===null||b===null||(N=Ff(x,b),N!=null&&g.push(Yf(x,N,_))),v)break;x=x.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==b1&&(y=n.relatedTarget||n.fromElement)&&(mc(y)||y[Fu]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?mc(y):null,y!==null&&(v=Xh(y),g=y.tag,y!==v||g!==5&&g!==27&&g!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=dT,N="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=hT,N="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:rf(m),_=y==null?h:rf(y),h=new g(N,x+"leave",m,n,d),h.target=v,h.relatedTarget=_,N=null,mc(d)===u&&(g=new g(b,x+"enter",y,n,d),g.target=_,g.relatedTarget=v,N=g),v=N,m&&y)t:{for(g=m,b=y,x=0,_=g;_;_=Ql(_))x++;for(_=0,N=b;N;N=Ql(N))_++;for(;0<x-_;)g=Ql(g),x--;for(;0<_-x;)b=Ql(b),_--;for(;x--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ql(g),b=Ql(b)}g=null}else g=null;m!==null&&aN(f,h,m,g,!1),y!==null&&v!==null&&aN(f,v,y,g,!0)}}e:{if(h=u?rf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=yT;else if(gT(h))if(OM)A=UV;else{A=LV;var E=$V}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&E2(u.elementType)&&(A=yT):A=BV;if(A&&(A=A(t,u))){NM(f,A,n,d);break e}E&&E(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&x1(h,"number",h.value)}switch(E=u?rf(u):window,t){case"focusin":(gT(E)||E.contentEditable==="true")&&(vc=E,_1=u,mf=null);break;case"focusout":mf=_1=vc=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,_T(f,n,d);break;case"selectionchange":if(zV)break;case"keydown":case"keyup":_T(f,n,d)}var w;if(C2)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else yc?EM(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(jM&&n.locale!=="ko"&&(yc||j!=="onCompositionStart"?j==="onCompositionEnd"&&yc&&(w=SM()):(Is=d,N2="value"in Is?Is.value:Is.textContent,yc=!0)),E=Vg(u,j),0<E.length&&(j=new fT(j,t,null,n,d),f.push({event:j,listeners:E}),w?j.data=w:(w=TM(n),w!==null&&(j.data=w)))),(w=IV?PV(t,n):RV(t,n))&&(j=Vg(u,"onBeforeInput"),0<j.length&&(E=new fT("onBeforeInput","beforeinput",null,n,d),f.push({event:E,listeners:j}),E.data=w)),S7(f,t,u,n,d)}bD(f,e)})}function Yf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Ff(t,n),i!=null&&r.unshift(Yf(t,i,a)),i=Ff(t,e),i!=null&&r.push(Yf(t,i,a))),t.tag===3)return r;t=t.return}return[]}function Ql(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function aN(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===r)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=Ff(n,a),u!=null&&s.unshift(Yf(n,u,c))):i||(u=Ff(n,a),u!=null&&s.push(Yf(n,u,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var N7=/\r\n?/g,O7=/\u0000|\uFFFD/g;function sN(t){return(typeof t=="string"?t:""+t).replace(N7,`
`).replace(O7,"")}function _D(t,e){return e=sN(e),sN(t)===e}function Mv(){}function xt(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Xc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Xc(t,""+r);break;case"className":im(t,"class",r);break;case"tabIndex":im(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":im(t,n,r);break;case"style":_M(t,r,a);break;case"data":if(e!=="object"){im(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Gm(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&xt(t,e,"name",i.name,i,null),xt(t,e,"formEncType",i.formEncType,i,null),xt(t,e,"formMethod",i.formMethod,i,null),xt(t,e,"formTarget",i.formTarget,i,null)):(xt(t,e,"encType",i.encType,i,null),xt(t,e,"method",i.method,i,null),xt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Gm(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Mv);break;case"onScroll":r!=null&&Xe("scroll",t);break;case"onScrollEnd":r!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(se(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(se(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Gm(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),qm(t,"popover",r);break;case"xlinkActuate":Aa(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Aa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Aa(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Aa(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Aa(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Aa(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Aa(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Aa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Aa(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":qm(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aV.get(n)||n,qm(t,n,r))}}function K1(t,e,n,r,i,a){switch(n){case"style":_M(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(se(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(se(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Xc(t,r):(typeof r=="number"||typeof r=="bigint")&&Xc(t,""+r);break;case"onScroll":r!=null&&Xe("scroll",t);break;case"onScrollEnd":r!=null&&Xe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Mv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Ir]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):qm(t,n,r)}}}function Kn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(se(137,e));default:xt(t,e,a,s,n,null)}}i&&xt(t,e,"srcSet",n.srcSet,n,null),r&&xt(t,e,"src",n.src,n,null);return;case"input":Xe("invalid",t);var l=a=s=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(se(137,e));break;default:xt(t,e,r,d,n,null)}}xM(t,a,l,c,u,s,i,!1),_g(t);return;case"select":Xe("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:xt(t,e,i,l,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Ic(t,!!r,e,!1):n!=null&&Ic(t,!!r,n,!0);return;case"textarea":Xe("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(se(91));break;default:xt(t,e,s,l,n,null)}wM(t,r,i,a),_g(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:xt(t,e,c,r,n,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(r=0;r<Xf.length;r++)Xe(Xf[r],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(se(137,e));default:xt(t,e,u,r,n,null)}return;default:if(E2(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&K1(t,e,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&xt(t,e,l,r,n,null))}function C7(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||xt(t,e,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(se(137,e));break;default:m!==f&&xt(t,e,h,m,r,f)}}v1(t,s,l,c,u,d,a,i);return;case"select":m=s=l=h=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||xt(t,e,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&xt(t,e,i,a,r,c)}e=l,n=s,r=m,h!=null?Ic(t,!!n,h,!1):!!r!=!!n&&(e!=null?Ic(t,!!n,e,!0):Ic(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:xt(t,e,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(se(91));break;default:i!==a&&xt(t,e,s,i,r,a)}bM(t,h,m);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:xt(t,e,y,null,r,h)}for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:xt(t,e,c,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&xt(t,e,g,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(se(137,e));break;default:xt(t,e,u,h,r,m)}return;default:if(E2(e)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!==void 0&&!r.hasOwnProperty(v)&&K1(t,e,v,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||K1(t,e,d,h,r,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&xt(t,e,b,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||xt(t,e,f,h,r,m)}var X1=null,Y1=null;function zg(t){return t.nodeType===9?t:t.ownerDocument}function oN(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AD(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Q1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cb=null;function k7(){var t=window.event;return t&&t.type==="popstate"?t===cb?!1:(cb=t,!0):(cb=null,!1)}var SD=typeof setTimeout=="function"?setTimeout:void 0,I7=typeof clearTimeout=="function"?clearTimeout:void 0,lN=typeof Promise=="function"?Promise:void 0,P7=typeof queueMicrotask=="function"?queueMicrotask:typeof lN<"u"?function(t){return lN.resolve(null).then(t).catch(R7)}:SD;function R7(t){setTimeout(function(){throw t})}function ho(t){return t==="head"}function cN(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&Ef(s.documentElement),n&2&&Ef(s.body),n&4)for(n=s.head,Ef(n),s=n.firstChild;s;){var l=s.nextSibling,c=s.nodeName;s[Jh]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(i===0){t.removeChild(a),th(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);th(e)}function Z1(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Z1(n),j2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function M7(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Jh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Mi(t.nextSibling),t===null)break}return null}function D7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mi(t.nextSibling),t===null))return null;return t}function J1(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $7(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var ew=null;function uN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function jD(t,e,n){switch(e=zg(n),t){case"html":if(t=e.documentElement,!t)throw Error(se(452));return t;case"head":if(t=e.head,!t)throw Error(se(453));return t;case"body":if(t=e.body,!t)throw Error(se(454));return t;default:throw Error(se(451))}}function Ef(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);j2(t)}var xi=new Map,dN=new Set;function Fg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=lt.d;lt.d={f:L7,r:B7,D:U7,C:V7,L:z7,m:F7,X:q7,S:H7,M:G7};function L7(){var t=as.f(),e=Iv();return t||e}function B7(t){var e=Hu(t);e!==null&&e.tag===5&&e.type==="form"?v4(e):as.r(t)}var Wu=typeof document>"u"?null:document;function ED(t,e,n){var r=Wu;if(r&&typeof e=="string"&&e){var i=di(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),dN.has(i)||(dN.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Kn(e,"link",t),Dn(e),r.head.appendChild(e)))}}function U7(t){as.D(t),ED("dns-prefetch",t,null)}function V7(t,e){as.C(t,e),ED("preconnect",t,e)}function z7(t,e,n){as.L(t,e,n);var r=Wu;if(r&&t&&e){var i='link[rel="preload"][as="'+di(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+di(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+di(n.imageSizes)+'"]')):i+='[href="'+di(t)+'"]';var a=i;switch(e){case"style":a=ru(t);break;case"script":a=Ku(t)}xi.has(a)||(t=$t({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),xi.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(cp(a))||e==="script"&&r.querySelector(up(a))||(e=r.createElement("link"),Kn(e,"link",t),Dn(e),r.head.appendChild(e)))}}function F7(t,e){as.m(t,e);var n=Wu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+di(r)+'"][href="'+di(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ku(t)}if(!xi.has(a)&&(t=$t({rel:"modulepreload",href:t},e),xi.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(up(a)))return}r=n.createElement("link"),Kn(r,"link",t),Dn(r),n.head.appendChild(r)}}}function H7(t,e,n){as.S(t,e,n);var r=Wu;if(r&&t){var i=kc(r).hoistableStyles,a=ru(t);e=e||"default";var s=i.get(a);if(!s){var l={loading:0,preload:null};if(s=r.querySelector(cp(a)))l.loading=5;else{t=$t({rel:"stylesheet",href:t,"data-precedence":e},n),(n=xi.get(a))&&lA(t,n);var c=s=r.createElement("link");Dn(c),Kn(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,tg(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(a,s)}}}function q7(t,e){as.X(t,e);var n=Wu;if(n&&t){var r=kc(n).hoistableScripts,i=Ku(t),a=r.get(i);a||(a=n.querySelector(up(i)),a||(t=$t({src:t,async:!0},e),(e=xi.get(i))&&cA(t,e),a=n.createElement("script"),Dn(a),Kn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function G7(t,e){as.M(t,e);var n=Wu;if(n&&t){var r=kc(n).hoistableScripts,i=Ku(t),a=r.get(i);a||(a=n.querySelector(up(i)),a||(t=$t({src:t,async:!0,type:"module"},e),(e=xi.get(i))&&cA(t,e),a=n.createElement("script"),Dn(a),Kn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function fN(t,e,n,r){var i=(i=Ls.current)?Fg(i):null;if(!i)throw Error(se(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ru(n.href),n=kc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ru(n.href);var a=kc(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(cp(t)))&&!a._p&&(s.instance=a,s.state.loading=5),xi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xi.set(t,n),a||W7(i,t,n,s.state))),e&&r===null)throw Error(se(528,""));return s}if(e&&r!==null)throw Error(se(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ku(n),n=kc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(se(444,t))}}function ru(t){return'href="'+di(t)+'"'}function cp(t){return'link[rel="stylesheet"]['+t+"]"}function TD(t){return $t({},t,{"data-precedence":t.precedence,precedence:null})}function W7(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Kn(e,"link",n),Dn(e),t.head.appendChild(e))}function Ku(t){return'[src="'+di(t)+'"]'}function up(t){return"script[async]"+t}function hN(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+di(n.href)+'"]');if(r)return e.instance=r,Dn(r),r;var i=$t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Dn(r),Kn(r,"style",i),tg(r,n.precedence,t),e.instance=r;case"stylesheet":i=ru(n.href);var a=t.querySelector(cp(i));if(a)return e.state.loading|=4,e.instance=a,Dn(a),a;r=TD(n),(i=xi.get(i))&&lA(r,i),a=(t.ownerDocument||t).createElement("link"),Dn(a);var s=a;return s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Kn(a,"link",r),e.state.loading|=4,tg(a,n.precedence,t),e.instance=a;case"script":return a=Ku(n.src),(i=t.querySelector(up(a)))?(e.instance=i,Dn(i),i):(r=n,(i=xi.get(a))&&(r=$t({},n),cA(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Dn(i),Kn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(se(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,tg(r,n.precedence,t));return e.instance}function tg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var l=r[s];if(l.dataset.precedence===e)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function lA(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function cA(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ng=null;function pN(t,e,n){if(ng===null){var r=new Map,i=ng=new Map;i.set(n,r)}else i=ng,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Jh]||a[ir]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var l=r.get(s);l?l.push(a):r.set(s,[a])}}return r}function mN(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function K7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ND(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Qf=null;function X7(){}function Y7(t,e,n){if(Qf===null)throw Error(se(475));var r=Qf;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=ru(n.href),a=t.querySelector(cp(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Hg.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,Dn(a);return}a=t.ownerDocument||t,n=TD(n),(i=xi.get(i))&&lA(n,i),a=a.createElement("link"),Dn(a);var s=a;s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Kn(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Hg.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Q7(){if(Qf===null)throw Error(se(475));var t=Qf;return t.stylesheets&&t.count===0&&tw(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&tw(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Hg(){if(this.count--,this.count===0){if(this.stylesheets)tw(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qg=null;function tw(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qg=new Map,e.forEach(Z7,t),qg=null,Hg.call(t))}function Z7(t,e){if(!(e.state.loading&4)){var n=qg.get(t);if(n)var r=n.get(null);else{n=new Map,qg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Hg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Zf={$$typeof:Ca,Provider:null,Consumer:null,_currentValue:Qo,_currentValue2:Qo,_threadCount:0};function J7(t,e,n,r,i,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kx(0),this.hiddenUpdates=kx(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function OD(t,e,n,r,i,a,s,l,c,u,d,f){return t=new J7(t,e,n,s,l,c,u,f),e=1,a===!0&&(e|=24),a=Hr(3,null,null,e),t.current=a,a.stateNode=t,e=$2(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},B2(a),t}function CD(t){return t?(t=wc,t):wc}function kD(t,e,n,r,i,a){i=CD(i),r.context===null?r.context=i:r.pendingContext=i,r=Bs(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Us(t,r,e),n!==null&&(Zr(n,t,e),vf(n,t,e))}function gN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uA(t,e){gN(t,e),(t=t.alternate)&&gN(t,e)}function ID(t){if(t.tag===13){var e=qu(t,67108864);e!==null&&Zr(e,t,67108864),uA(t,67108864)}}var Gg=!0;function ez(t,e,n,r){var i=De.T;De.T=null;var a=lt.p;try{lt.p=2,dA(t,e,n,r)}finally{lt.p=a,De.T=i}}function tz(t,e,n,r){var i=De.T;De.T=null;var a=lt.p;try{lt.p=8,dA(t,e,n,r)}finally{lt.p=a,De.T=i}}function dA(t,e,n,r){if(Gg){var i=nw(r);if(i===null)lb(t,e,r,Wg,n),yN(t,r);else if(rz(i,t,e,n,r))r.stopPropagation();else if(yN(t,r),e&4&&-1<nz.indexOf(t)){for(;i!==null;){var a=Hu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Mo(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var c=1<<31-Yr(s);l.entanglements[1]|=c,s&=~c}pa(a),!(yt&6)&&($g=ta()+500,lp(0))}}break;case 13:l=qu(a,2),l!==null&&Zr(l,a,2),Iv(),uA(a,2)}if(a=nw(r),a===null&&lb(t,e,r,Wg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else lb(t,e,r,null,n)}}function nw(t){return t=T2(t),fA(t)}var Wg=null;function fA(t){if(Wg=null,t=mc(t),t!==null){var e=Xh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=rM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wg=t,null}function PD(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VU()){case oM:return 2;case lM:return 8;case wg:case zU:return 32;case cM:return 268435456;default:return 32}default:return 32}}var rw=!1,Fs=null,Hs=null,qs=null,Jf=new Map,eh=new Map,js=[],nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yN(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Jf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(e.pointerId)}}function $d(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Hu(e),e!==null&&ID(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rz(t,e,n,r,i){switch(e){case"focusin":return Fs=$d(Fs,t,e,n,r,i),!0;case"dragenter":return Hs=$d(Hs,t,e,n,r,i),!0;case"mouseover":return qs=$d(qs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Jf.set(a,$d(Jf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,eh.set(a,$d(eh.get(a)||null,t,e,n,r,i)),!0}return!1}function RD(t){var e=mc(t.target);if(e!==null){var n=Xh(e);if(n!==null){if(e=n.tag,e===13){if(e=rM(n),e!==null){t.blockedOn=e,YU(t.priority,function(){if(n.tag===13){var r=Qr();r=A2(r);var i=qu(n,r);i!==null&&Zr(i,n,r),uA(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nw(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);b1=r,n.target.dispatchEvent(r),b1=null}else return e=Hu(n),e!==null&&ID(e),t.blockedOn=n,!1;e.shift()}return!0}function vN(t,e,n){rg(t)&&n.delete(e)}function iz(){rw=!1,Fs!==null&&rg(Fs)&&(Fs=null),Hs!==null&&rg(Hs)&&(Hs=null),qs!==null&&rg(qs)&&(qs=null),Jf.forEach(vN),eh.forEach(vN)}function fm(t,e){t.blockedOn===e&&(t.blockedOn=null,rw||(rw=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,iz)))}var hm=null;function xN(t){hm!==t&&(hm=t,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,function(){hm===t&&(hm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(fA(r||n)===null)continue;break}var a=Hu(n);a!==null&&(t.splice(e,3),e-=3,D1(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function th(t){function e(c){return fm(c,t)}Fs!==null&&fm(Fs,t),Hs!==null&&fm(Hs,t),qs!==null&&fm(qs,t),Jf.forEach(e),eh.forEach(e);for(var n=0;n<js.length;n++){var r=js[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<js.length&&(n=js[0],n.blockedOn===null);)RD(n),n.blockedOn===null&&js.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Ir]||null;if(typeof a=="function")s||xN(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ir]||null)l=s.formAction;else if(fA(i)!==null)continue}else l=s.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),xN(n)}}}function hA(t){this._internalRoot=t}Dv.prototype.render=hA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));var n=e.current,r=Qr();kD(n,r,t,e,null,null)};Dv.prototype.unmount=hA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kD(t.current,2,null,t,null,null),Iv(),e[Fu]=null}};function Dv(t){this._internalRoot=t}Dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=pM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<js.length&&e!==0&&e<js[n].priority;n++);js.splice(n,0,t),n===0&&RD(t)}};var bN=tM.version;if(bN!=="19.1.0")throw Error(se(527,bN,"19.1.0"));lt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=RU(e),t=t!==null?iM(t):null,t=t===null?null:t.stateNode,t};var az={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:De,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{Yh=pm.inject(az),Xr=pm}catch{}}bv.createRoot=function(t,e){if(!nM(t))throw Error(se(299));var n=!1,r="",i=O4,a=C4,s=k4,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=OD(t,1,!1,null,null,n,r,i,a,s,l,null),t[Fu]=e.current,oA(t),new hA(e)};bv.hydrateRoot=function(t,e,n){if(!nM(t))throw Error(se(299));var r=!1,i="",a=O4,s=C4,l=k4,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=OD(t,1,!0,e,n??null,r,i,a,s,l,c,u),e.context=CD(null),n=e.current,r=Qr(),r=A2(r),i=Bs(r),i.callback=null,Us(n,i,r),n=r,e.current.lanes=n,Zh(e,n),pa(e),t[Fu]=e.current,oA(t),new Dv(e)};bv.version="19.1.0";function MD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MD)}catch(t){console.error(t)}}MD(),XR.exports=bv;var sz=XR.exports,pA={};Object.defineProperty(pA,"__esModule",{value:!0});pA.parse=hz;pA.serialize=pz;const oz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,lz=/^[\u0021-\u003A\u003C-\u007E]*$/,cz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,uz=/^[\u0020-\u003A\u003D-\u007E]*$/,dz=Object.prototype.toString,fz=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function hz(t,e){const n=new fz,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||mz;let a=0;do{const s=t.indexOf("=",a);if(s===-1)break;const l=t.indexOf(";",a),c=l===-1?r:l;if(s>c){a=t.lastIndexOf(";",s-1)+1;continue}const u=wN(t,a,s),d=_N(t,s,u),f=t.slice(u,d);if(n[f]===void 0){let h=wN(t,s+1,c),m=_N(t,c,h);const y=i(t.slice(h,m));n[f]=y}a=c+1}while(a<r);return n}function wN(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function _N(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function pz(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!oz.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!lz.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!cz.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!uz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!gz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function mz(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function gz(t){return dz.call(t)==="[object Date]"}var AN="popstate";function yz(t={}){function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return iw("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nh(i)}return xz(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ca(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vz(){return Math.random().toString(36).substring(2,10)}function SN(t,e){return{usr:t.state,key:t.key,idx:e}}function iw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xu(e):e,state:n,key:e&&e.key||r||vz()}}function nh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:b})}function h(v,b){l="PUSH";let x=iw(g.location,v,b);u=d()+1;let _=SN(x,u),N=g.createHref(x);try{s.pushState(_,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(N)}a&&c&&c({action:l,location:g.location,delta:1})}function m(v,b){l="REPLACE";let x=iw(g.location,v,b);u=d();let _=SN(x,u),N=g.createHref(x);s.replaceState(_,"",N),a&&c&&c({action:l,location:g.location,delta:0})}function y(v){return bz(v)}let g={get action(){return l},get location(){return t(i,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(AN,f),c=v,()=>{i.removeEventListener(AN,f),c=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return s.go(v)}};return g}function bz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DD(t,e,n="/"){return wz(t,e,n,!1)}function wz(t,e,n,r){let i=typeof e=="string"?Xu(e):e,a=Qa(i.pathname||"/",n);if(a==null)return null;let s=$D(t);_z(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=Pz(a);l=kz(s[c],u,r)}return l}function $D(t,e=[],n=[],r=""){let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=za([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),$D(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Oz(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of LD(a.path))i(a,s,c)}),e}function LD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=LD(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function _z(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Az=/^:[\w-]+$/,Sz=3,jz=2,Ez=1,Tz=10,Nz=-2,jN=t=>t==="*";function Oz(t,e){let n=t.split("/"),r=n.length;return n.some(jN)&&(r+=Nz),e&&(r+=jz),n.filter(i=>!jN(i)).reduce((i,a)=>i+(Az.test(a)?Sz:a===""?Ez:Tz),r)}function Cz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=Kg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Kg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:za([a,f.pathname]),pathnameBase:$z(za([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=za([a,f.pathnameBase]))}return s}function Kg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Iz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=l[h]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Iz(t,e=!1,n=!0){ca(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Pz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ca(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Rz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xu(t):t;return{pathname:n?n.startsWith("/")?n:Mz(n,e):e,search:Lz(r),hash:Bz(i)}}function Mz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ub(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BD(t){let e=Dz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function UD(t,e,n,r=!1){let i;typeof t=="string"?i=Xu(t):(i={...t},Xt(!i.pathname||!i.pathname.includes("?"),ub("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),ub("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),ub("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=Rz(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var za=t=>t.join("/").replace(/\/\/+/g,"/"),$z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Uz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var VD=["POST","PUT","PATCH","DELETE"];new Set(VD);var Vz=["GET",...VD];new Set(Vz);var Yu=k.createContext(null);Yu.displayName="DataRouter";var $v=k.createContext(null);$v.displayName="DataRouterState";var zD=k.createContext({isTransitioning:!1});zD.displayName="ViewTransition";var zz=k.createContext(new Map);zz.displayName="Fetchers";var Fz=k.createContext(null);Fz.displayName="Await";var ma=k.createContext(null);ma.displayName="Navigation";var dp=k.createContext(null);dp.displayName="Location";var ss=k.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var mA=k.createContext(null);mA.displayName="RouteError";function Hz(t,{relative:e}={}){Xt(fp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(ma),{hash:i,pathname:a,search:s}=hp(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:za([n,a])),r.createHref({pathname:l,search:s,hash:i})}function fp(){return k.useContext(dp)!=null}function kl(){return Xt(fp(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(dp).location}var FD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HD(t){k.useContext(ma).static||k.useLayoutEffect(t)}function qz(){let{isDataRoute:t}=k.useContext(ss);return t?iF():Gz()}function Gz(){Xt(fp(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Yu),{basename:e,navigator:n}=k.useContext(ma),{matches:r}=k.useContext(ss),{pathname:i}=kl(),a=JSON.stringify(BD(r)),s=k.useRef(!1);return HD(()=>{s.current=!0}),k.useCallback((c,u={})=>{if(ca(s.current,FD),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=UD(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:za([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}k.createContext(null);function hp(t,{relative:e}={}){let{matches:n}=k.useContext(ss),{pathname:r}=kl(),i=JSON.stringify(BD(n));return k.useMemo(()=>UD(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Wz(t,e){return qD(t,e)}function qD(t,e,n,r){var b;Xt(fp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(ma),{matches:a}=k.useContext(ss),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let x=d&&d.path||"";GD(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=kl(),h;if(e){let x=typeof e=="string"?Xu(e):e;Xt(u==="/"||((b=x.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=f;let m=h.pathname||"/",y=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=DD(t,{pathname:y});ca(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ca(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Zz(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:za([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:za([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&v?k.createElement(dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function Kz(){let t=rF(),e=Uz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}var Xz=k.createElement(Kz,null),Yz=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(ss.Provider,{value:this.props.routeContext},k.createElement(mA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qz({routeContext:t,match:e,children:n}){let r=k.useContext(Yu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ss.Provider,{value:t},n)}function Zz(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Xt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,h=!1,m=null,y=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||Xz,s&&(l<0&&d===0?(GD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):l===d&&(h=!0,y=u.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,d+1)),v=()=>{let b;return f?b=m:h?b=y:u.route.Component?b=k.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=c,k.createElement(Qz,{match:u,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?k.createElement(Yz,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function gA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jz(t){let e=k.useContext(Yu);return Xt(e,gA(t)),e}function eF(t){let e=k.useContext($v);return Xt(e,gA(t)),e}function tF(t){let e=k.useContext(ss);return Xt(e,gA(t)),e}function yA(t){let e=tF(t),n=e.matches[e.matches.length-1];return Xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nF(){return yA("useRouteId")}function rF(){var r;let t=k.useContext(mA),e=eF("useRouteError"),n=yA("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function iF(){let{router:t}=Jz("useNavigate"),e=yA("useNavigate"),n=k.useRef(!1);return HD(()=>{n.current=!0}),k.useCallback(async(i,a={})=>{ca(n.current,FD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var EN={};function GD(t,e,n){!e&&!EN[t]&&(EN[t]=!0,ca(!1,n))}k.memo(aF);function aF({routes:t,future:e,state:n}){return qD(t,void 0,n,e)}function WD(t){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Xt(!fp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Xu(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,m=k.useMemo(()=>{let y=Qa(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:r}},[s,c,u,d,f,h,r]);return ca(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(ma.Provider,{value:l},k.createElement(dp.Provider,{children:e,value:m}))}function oF({children:t,location:e}){return Wz(aw(t),e)}function aw(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){n.push.apply(n,aw(r.props.children,a));return}Xt(r.type===WD,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=aw(r.props.children,a)),n.push(s)}),n}var ig="get",ag="application/x-www-form-urlencoded";function Lv(t){return t!=null&&typeof t.tagName=="string"}function lF(t){return Lv(t)&&t.tagName.toLowerCase()==="button"}function cF(t){return Lv(t)&&t.tagName.toLowerCase()==="form"}function uF(t){return Lv(t)&&t.tagName.toLowerCase()==="input"}function dF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fF(t,e){return t.button===0&&(!e||e==="_self")&&!dF(t)}var mm=null;function hF(){if(mm===null)try{new FormData(document.createElement("form"),0),mm=!1}catch{mm=!0}return mm}var pF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function db(t){return t!=null&&!pF.has(t)?(ca(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ag}"`),null):t}function mF(t,e){let n,r,i,a,s;if(cF(t)){let l=t.getAttribute("action");r=l?Qa(l,e):null,n=t.getAttribute("method")||ig,i=db(t.getAttribute("enctype"))||ag,a=new FormData(t)}else if(lF(t)||uF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Qa(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||ig,i=db(t.getAttribute("formenctype"))||db(l.getAttribute("enctype"))||ag,a=new FormData(l,t),!hF()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Lv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ig,r=null,i=ag,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function vA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await gF(a,n);return s.links?s.links():[]}return[]}));return _F(r.flat(1).filter(yF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function TN(t,e,n,r,i,a){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function xF(t,e,{includeHydrateFallback:n}={}){return bF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function bF(t){return[...new Set(t)]}function wF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _F(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(wF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AF=new Set([100,101,204,205]);function SF(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Qa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KD(){let t=k.useContext(Yu);return vA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jF(){let t=k.useContext($v);return vA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xA=k.createContext(void 0);xA.displayName="FrameworkContext";function XD(){let t=k.useContext(xA);return vA(t,"You must render this element inside a <HydratedRouter> element"),t}function EF(t,e){let n=k.useContext(xA),[r,i]=k.useState(!1),[a,s]=k.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=k.useRef(null);k.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let g=b=>{b.forEach(x=>{s(x.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[t]),k.useEffect(()=>{if(r){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Ld(l,m),onBlur:Ld(c,y),onMouseEnter:Ld(u,m),onMouseLeave:Ld(d,y),onTouchStart:Ld(f,m)}]:[!1,h,{}]}function Ld(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function TF({page:t,...e}){let{router:n}=KD(),r=k.useMemo(()=>DD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(OF,{page:t,matches:r,...e}):null}function NF(t){let{manifest:e,routeModules:n}=XD(),[r,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return vF(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function OF({page:t,matches:e,...n}){let r=kl(),{manifest:i,routeModules:a}=XD(),{basename:s}=KD(),{loaderData:l,matches:c}=jF(),u=k.useMemo(()=>TN(t,e,c,i,r,"data"),[t,e,c,i,r]),d=k.useMemo(()=>TN(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,g=!1;if(e.forEach(b=>{var _;let x=i.routes[b.route.id];!x||!x.hasLoader||(!u.some(N=>N.route.id===b.route.id)&&b.route.id in l&&((_=a[b.route.id])!=null&&_.shouldRevalidate)||x.hasClientLoader?g=!0:y.add(b.route.id))}),y.size===0)return[];let v=SF(t,s);return g&&y.size>0&&v.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[v.pathname+v.search]},[s,l,r,i,u,e,t,a]),h=k.useMemo(()=>xF(d,i),[d,i]),m=NF(d);return k.createElement(k.Fragment,null,f.map(y=>k.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>k.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:g})=>k.createElement("link",{key:y,...g})))}function CF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YD&&(window.__reactRouterVersion="7.6.2")}catch{}function kF({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=yz({window:n,v5Compat:!0}));let i=r.current,[a,s]=k.useState({action:i.action,location:i.location}),l=k.useCallback(c=>{k.startTransition(()=>s(c))},[s]);return k.useLayoutEffect(()=>i.listen(l),[i,l]),k.createElement(sF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var QD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZD=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=k.useContext(ma),g=typeof u=="string"&&QD.test(u),v,b=!1;if(typeof u=="string"&&g&&(v=u,YD))try{let O=new URL(window.location.href),I=u.startsWith("//")?new URL(O.protocol+u):new URL(u),T=Qa(I.pathname,y);I.origin===O.origin&&T!=null?u=T+I.search+I.hash:b=!0}catch{ca(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Hz(u,{relative:i}),[_,N,A]=EF(r,h),E=MF(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(O){e&&e(O),O.defaultPrevented||E(O)}let j=k.createElement("a",{...h,...A,href:v||x,onClick:b||a?e:w,ref:CF(m,N),target:c,"data-discover":!g&&n==="render"?"true":void 0});return _&&!g?k.createElement(k.Fragment,null,j,k.createElement(TF,{page:x})):j});ZD.displayName="Link";var IF=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let f=hp(s,{relative:u.relative}),h=kl(),m=k.useContext($v),{navigator:y,basename:g}=k.useContext(ma),v=m!=null&&UF(f)&&l===!0,b=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=h.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&g&&(_=Qa(_,g)||_);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=x===b||!i&&x.startsWith(b)&&x.charAt(N)==="/",E=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),w={isActive:A,isPending:E,isTransitioning:v},j=A?e:void 0,O;typeof r=="function"?O=r(w):O=[r,A?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(w):a;return k.createElement(ZD,{...u,"aria-current":j,className:O,ref:d,style:I,to:s,viewTransition:l},typeof c=="function"?c(w):c)});IF.displayName="NavLink";var PF=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=ig,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=LF(),g=BF(l,{relative:u}),v=s.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&QD.test(l),x=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let N=_.nativeEvent.submitter,A=(N==null?void 0:N.getAttribute("formmethod"))||s;y(N||_.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return k.createElement("form",{ref:m,method:v,action:g,onSubmit:r?c:x,...h,"data-discover":!b&&t==="render"?"true":void 0})});PF.displayName="Form";function RF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JD(t){let e=k.useContext(Yu);return Xt(e,RF(t)),e}function MF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=qz(),c=kl(),u=hp(t,{relative:a});return k.useCallback(d=>{if(fF(d,e)){d.preventDefault();let f=n!==void 0?n:nh(c)===nh(u);l(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,u,n,r,e,t,i,a,s])}var DF=0,$F=()=>`__${String(++DF)}__`;function LF(){let{router:t}=JD("useSubmit"),{basename:e}=k.useContext(ma),n=nF();return k.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:u}=mF(r,e);if(i.navigate===!1){let d=i.fetcherKey||$F();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function BF(t,{relative:e}={}){let{basename:n}=k.useContext(ma),r=k.useContext(ss);Xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hp(t||".",{relative:e})},s=kl();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:za([n,a.pathname])),nh(a)}function UF(t,e={}){let n=k.useContext(zD);Xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JD("useViewTransitionState"),i=hp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Qa(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kg(i.pathname,s)!=null||Kg(i.pathname,a)!=null}[...AF];const VF=()=>{};var NN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},t6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,m=u&63;c||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||f==null)throw new FF;const h=a<<2|l>>4;if(r.push(h),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HF=function(t){const e=e6(t);return t6.encodeByteArray(e,!0)},Xg=function(t){return HF(t).replace(/\./g,"")},n6=function(t){try{return t6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=()=>qF().__FIREBASE_DEFAULTS__,WF=()=>{if(typeof process>"u"||typeof NN>"u")return;const t=NN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n6(t[1]);return e&&JSON.parse(e)},Bv=()=>{try{return VF()||GF()||WF()||KF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r6=t=>{var e,n;return(n=(e=Bv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i6=t=>{const e=r6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a6=()=>{var t;return(t=Bv())===null||t===void 0?void 0:t.config},s6=t=>{var e;return(e=Bv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return t.endsWith(".cloudworkstations.dev")}async function bA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xg(JSON.stringify(n)),Xg(JSON.stringify(s)),""].join(".")}const Tf={};function YF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tf))Tf[e]?t.emulator.push(e):t.prod.push(e);return t}function QF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ON=!1;function wA(t,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Tf[t]===e||Tf[t]||ON)return;Tf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=YF().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{ON=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=QF(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),v=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),x=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;l(_),d(v,g);const N=u();c(x,b),_.append(x,y,v,N),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function JF(){var t;const e=(t=Bv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nH(){const t=lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rH(){return!JF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c6(){try{return typeof indexedDB=="object"}catch{return!1}}function u6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function iH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aH,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?sH(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new _i(i,l,r)}}function sH(t,e){return t.replace(oH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oH=/\{\$([^}]+)}/g;function lH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(CN(a)&&CN(s)){if(!to(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cH(t,e){const n=new uH(t,e);return n.subscribe.bind(n)}class uH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fb),i.error===void 0&&(i.error=fb),i.complete===void 0&&(i.complete=fb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=1e3,hH=2,pH=4*60*60*1e3,mH=.5;function kN(t,e=fH,n=hH){const r=e*Math.pow(n,t),i=Math.round(mH*r*(Math.random()-.5)*2);return Math.min(pH,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vH(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yH(t){return t===Lo?void 0:t}function vH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const bH={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},wH=Je.INFO,_H={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},AH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_H[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uv{constructor(e){this.name=e,this._logLevel=wH,this._logHandler=AH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const SH=(t,e)=>e.some(n=>t instanceof n);let IN,PN;function jH(){return IN||(IN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EH(){return PN||(PN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d6=new WeakMap,sw=new WeakMap,f6=new WeakMap,hb=new WeakMap,_A=new WeakMap;function TH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Gs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&d6.set(n,t)}).catch(()=>{}),_A.set(e,t),e}function NH(t){if(sw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});sw.set(t,e)}let ow={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||f6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OH(t){ow=t(ow)}function CH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pb(this),e,...n);return f6.set(r,e.sort?e.sort():[e]),Gs(r)}:EH().includes(t)?function(...e){return t.apply(pb(this),e),Gs(d6.get(this))}:function(...e){return Gs(t.apply(pb(this),e))}}function kH(t){return typeof t=="function"?CH(t):(t instanceof IDBTransaction&&NH(t),SH(t,jH())?new Proxy(t,ow):t)}function Gs(t){if(t instanceof IDBRequest)return TH(t);if(hb.has(t))return hb.get(t);const e=kH(t);return e!==t&&(hb.set(t,e),_A.set(e,t)),e}const pb=t=>_A.get(t);function h6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Gs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Gs(s.result),c.oldVersion,c.newVersion,Gs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const IH=["get","getKey","getAll","getAllKeys","count"],PH=["put","add","delete","clear"],mb=new Map;function RN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mb.get(e))return mb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IH.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return mb.set(e,a),a}OH(t=>({...t,get:(e,n,r)=>RN(e,n)||t.get(e,n,r),has:(e,n)=>!!RN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lw="@firebase/app",MN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Uv("@firebase/app"),DH="@firebase/app-compat",$H="@firebase/analytics-compat",LH="@firebase/analytics",BH="@firebase/app-check-compat",UH="@firebase/app-check",VH="@firebase/auth",zH="@firebase/auth-compat",FH="@firebase/database",HH="@firebase/data-connect",qH="@firebase/database-compat",GH="@firebase/functions",WH="@firebase/functions-compat",KH="@firebase/installations",XH="@firebase/installations-compat",YH="@firebase/messaging",QH="@firebase/messaging-compat",ZH="@firebase/performance",JH="@firebase/performance-compat",eq="@firebase/remote-config",tq="@firebase/remote-config-compat",nq="@firebase/storage",rq="@firebase/storage-compat",iq="@firebase/firestore",aq="@firebase/ai",sq="@firebase/firestore-compat",oq="firebase",lq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="[DEFAULT]",cq={[lw]:"fire-core",[DH]:"fire-core-compat",[LH]:"fire-analytics",[$H]:"fire-analytics-compat",[UH]:"fire-app-check",[BH]:"fire-app-check-compat",[VH]:"fire-auth",[zH]:"fire-auth-compat",[FH]:"fire-rtdb",[HH]:"fire-data-connect",[qH]:"fire-rtdb-compat",[GH]:"fire-fn",[WH]:"fire-fn-compat",[KH]:"fire-iid",[XH]:"fire-iid-compat",[YH]:"fire-fcm",[QH]:"fire-fcm-compat",[ZH]:"fire-perf",[JH]:"fire-perf-compat",[eq]:"fire-rc",[tq]:"fire-rc-compat",[nq]:"fire-gcs",[rq]:"fire-gcs-compat",[iq]:"fire-fst",[sq]:"fire-fst-compat",[aq]:"fire-vertex","fire-js":"fire-js",[oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new Map,uq=new Map,uw=new Map;function DN(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){const e=t.name;if(uw.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;uw.set(e,t);for(const n of Yg.values())DN(n,t);for(const n of uq.values())DN(n,t);return!0}function mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Il("app","Firebase",dq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=lq;function p6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=a6()),!n)throw Ws.create("no-options");const a=Yg.get(i);if(a){if(to(n,a.options)&&to(r,a.config))return a;throw Ws.create("duplicate-app",{appName:i})}const s=new xH(i);for(const c of uw.values())s.addComponent(c);const l=new fq(n,r,s);return Yg.set(i,l),l}function Vv(t=cw){const e=Yg.get(t);if(!e&&t===cw&&a6())return p6();if(!e)throw Ws.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let i=(r=cq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Za.warn(l.join(" "));return}Bi(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="firebase-heartbeat-database",pq=1,rh="firebase-heartbeat-store";let gb=null;function m6(){return gb||(gb=h6(hq,pq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),gb}async function mq(t){try{const n=(await m6()).transaction(rh),r=await n.objectStore(rh).get(g6(t));return await n.done,r}catch(e){if(e instanceof _i)Za.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Za.warn(n.message)}}}async function $N(t,e){try{const r=(await m6()).transaction(rh,"readwrite");await r.objectStore(rh).put(e,g6(t)),await r.done}catch(n){if(n instanceof _i)Za.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Za.warn(r.message)}}}function g6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=1024,yq=30;class vq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=LN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yq){const s=wq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Za.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=LN(),{heartbeatsToSend:r,unsentEntries:i}=xq(this._heartbeatsCache.heartbeats),a=Xg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Za.warn(n),""}}}function LN(){return new Date().toISOString().substring(0,10)}function xq(t,e=gq){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),BN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c6()?u6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $N(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $N(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BN(t){return Xg(JSON.stringify({version:2,heartbeats:t})).length}function wq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t){Bi(new bi("platform-logger",e=>new RH(e),"PRIVATE")),Bi(new bi("heartbeat",e=>new vq(e),"PRIVATE")),Cr(lw,MN,t),Cr(lw,MN,"esm2017"),Cr("fire-js","")}_q("");function AA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aq=y6,v6=new Il("auth","Firebase",y6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Uv("@firebase/auth");function Sq(t,...e){Qg.logLevel<=Je.WARN&&Qg.warn(`Auth (${Pl}): ${t}`,...e)}function sg(t,...e){Qg.logLevel<=Je.ERROR&&Qg.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,...e){throw jA(t,...e)}function Di(t,...e){return jA(t,...e)}function SA(t,e,n){const r=Object.assign(Object.assign({},Aq()),{[e]:n});return new Il("auth","Firebase",r).create(e,{appName:t.name})}function il(t){return SA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ua(t,"argument-error"),SA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v6.create(t,...e)}function Le(t,e,...n){if(!t)throw jA(e,...n)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sg(e),new Error(e)}function Ja(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Eq(){return UN()==="http:"||UN()==="https:"}function UN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eq()||l6()||"connection"in navigator)?navigator.onLine:!0}function Nq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ja(n>e,"Short delay should be less than long delay!"),this.isMobile=ZF()||tH()}get(){return Tq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e){Ja(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kq=new mp(3e4,6e4);function TA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qu(t,e,n,r,i={}){return b6(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=pp(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return eH()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&po(t.emulatorConfig.host)&&(u.credentials="include"),x6.fetch()(await w6(t,t.config.apiHost,n,l),u)})}async function b6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oq),e);try{const i=new Pq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw gm(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gm(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw gm(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw gm(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SA(t,d,u);ua(t,d)}}catch(i){if(i instanceof _i)throw i;ua(t,"network-request-failed",{message:String(i)})}}async function Iq(t,e,n,r,i={}){const a=await Qu(t,e,n,r,i);return"mfaPendingCredential"in a&&ua(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function w6(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?EA(t.config,i):`${t.config.apiScheme}://${i}`;return Cq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class Pq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),kq.get())})}}function gm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Di(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){return Qu(t,"POST","/v1/accounts:delete",e)}async function Zg(t,e){return Qu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mq(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=NA(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Nf(yb(i.auth_time)),issuedAtTime:Nf(yb(i.iat)),expirationTime:Nf(yb(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yb(t){return Number(t)*1e3}function NA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sg("JWT malformed, contained fewer than 3 sections"),null;try{const i=n6(n);return i?JSON.parse(i):(sg("Failed to decode base64 JWT payload"),null)}catch(i){return sg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VN(t){const e=NA(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _i&&Dq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nf(this.lastLoginAt),this.creationTime=Nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ih(t,Zg(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_6(a.providerUserInfo):[],l=Bq(t.providerData,s),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new fw(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Lq(t){const e=qt(t);await Jg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _6(t){return t.map(e=>{var{providerId:n}=e,r=AA(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(t,e){const n=await b6(t,{},async()=>{const r=pp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await w6(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&po(t.emulatorConfig.host)&&(c.credentials="include"),x6.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vq(t,e){return Qu(t,"POST","/v2/accounts:revokeToken",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=VN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Uq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Bc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Le(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=AA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ih(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mq(this,e)}reload(){return Lq(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(il(this.auth));const e=await this.getIdToken();return await ih(this,Rq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:N,isAnonymous:A,providerData:E,stsTokenManager:w}=n;Le(_&&w,e,"internal-error");const j=Bc.fromJSON(this.name,w);Le(typeof _=="string",e,"internal-error"),gs(f,e.name),gs(h,e.name),Le(typeof N=="boolean",e,"internal-error"),Le(typeof A=="boolean",e,"internal-error"),gs(m,e.name),gs(y,e.name),gs(g,e.name),gs(v,e.name),gs(b,e.name),gs(x,e.name);const O=new Ri({uid:_,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:A,photoURL:y,phoneNumber:m,tenantId:g,stsTokenManager:j,createdAt:b,lastLoginAt:x});return E&&Array.isArray(E)&&(O.providerData=E.map(I=>Object.assign({},I))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bc;i.updateFromServerResponse(n);const a=new Ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?_6(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Bc;l.updateFromIdToken(r);const c=new Ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Map;function Da(t){Ja(t instanceof Function,"Expected a class definition");let e=zN.get(t);return e?(Ja(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A6.type="NONE";const FN=A6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e,n){return`firebase:${t}:${e}:${n}`}class Uc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=og(this.userKey,i.apiKey,a),this.fullPersistenceKey=og("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zg(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uc(Da(FN),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Da(FN);const s=og(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await Zg(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ri._fromGetAccountInfoResponse(e,h,d)}else f=Ri._fromJSON(e,d);u!==a&&(l=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Uc(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Uc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O6(e))return"Blackberry";if(C6(e))return"Webos";if(j6(e))return"Safari";if((e.includes("chrome/")||E6(e))&&!e.includes("edge/"))return"Chrome";if(N6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S6(t=lr()){return/firefox\//i.test(t)}function j6(t=lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E6(t=lr()){return/crios\//i.test(t)}function T6(t=lr()){return/iemobile/i.test(t)}function N6(t=lr()){return/android/i.test(t)}function O6(t=lr()){return/blackberry/i.test(t)}function C6(t=lr()){return/webos/i.test(t)}function OA(t=lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zq(t=lr()){var e;return OA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fq(){return nH()&&document.documentMode===10}function k6(t=lr()){return OA(t)||N6(t)||C6(t)||O6(t)||/windows phone/i.test(t)||T6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t,e=[]){let n;switch(t){case"Browser":n=HN(lr());break;case"Worker":n=`${HN(lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e={}){return Qu(t,"GET","/v2/passwordPolicy",TA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq=6;class Wq{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Gq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qN(this),this.idTokenSubscription=new qN(this),this.beforeStateQueue=new Hq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Da(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Uc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zg(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(il(this));const n=e?qt(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(il(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(il(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qq(this),n=new Wq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Da(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Uc.create(this,[Da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zv(t){return qt(t)}class qN{constructor(e){this.auth=e,this.observer=null,this.addObserver=cH(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xq(t){CA=t}function Yq(t){return CA.loadJS(t)}function Qq(){return CA.gapiScript}function Zq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e){const n=mo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(to(a,e??{}))return i;ua(i,"already-initialized")}return n.initialize({options:e})}function eG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tG(t,e,n){const r=zv(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=P6(e),{host:s,port:l}=nG(e),c=l===null?"":`:${l}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(to(u,r.config.emulator)&&to(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,po(s)?(bA(`${a}//${s}${c}`),wA("Auth",!0)):rG()}function P6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nG(t){const e=P6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:GN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:GN(s)}}}function GN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,n){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e){return Iq(t,"POST","/v1/accounts:signInWithIdp",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG="http://localhost";class pl extends R6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=AA(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new pl(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vc(e,n)}buildRequest(){const e={requestUri:iG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends kA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends gp{constructor(){super("facebook.com")}static credential(e){return pl._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends gp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends gp{constructor(){super("github.com")}static credential(e){return pl._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends gp{constructor(){super("twitter.com")}static credential(e,n){return pl._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ri._fromIdTokenResponse(e,r,i),s=WN(r);return new iu({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WN(r);return new iu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends _i{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ey.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ey(e,n,r,i)}}function M6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ey._fromErrorAndOperation(t,a,e,r):a})}async function aG(t,e,n=!1){const r=await ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return iu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e,n=!1){const{auth:r}=t;if(hi(r.app))return Promise.reject(il(r));const i="reauthenticate";try{const a=await ih(t,M6(r,i,e,t),n);Le(a.idToken,r,"internal-error");const s=NA(a.idToken);Le(s,r,"internal-error");const{sub:l}=s;return Le(t.uid===l,r,"user-mismatch"),iu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ua(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(t,e,n=!1){if(hi(t.app))return Promise.reject(il(t));const r="signIn",i=await M6(t,r,e),a=await iu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function lG(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function cG(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function uG(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function dG(t){return qt(t).signOut()}const ty="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ty,"1"),this.storage.removeItem(ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=1e3,hG=10;class $6 extends D6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Fq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$6.type="LOCAL";const pG=$6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6 extends D6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L6.type="SESSION";const B6=L6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async u=>u(n.origin,a)),c=await mG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const u=IA("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}function yG(t){ra().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return typeof ra().WorkerGlobalScope<"u"&&typeof ra().importScripts=="function"}async function vG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bG(){return U6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="firebaseLocalStorageDb",wG=1,ny="firebaseLocalStorage",z6="fbase_key";class yp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hv(t,e){return t.transaction([ny],e?"readwrite":"readonly").objectStore(ny)}function _G(){const t=indexedDB.deleteDatabase(V6);return new yp(t).toPromise()}function hw(){const t=indexedDB.open(V6,wG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ny,{keyPath:z6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ny)?e(r):(r.close(),await _G(),e(await hw()))})})}async function KN(t,e,n){const r=Hv(t,!0).put({[z6]:e,value:n});return new yp(r).toPromise()}async function AG(t,e){const n=Hv(t,!1).get(e),r=await new yp(n).toPromise();return r===void 0?null:r.value}function XN(t,e){const n=Hv(t,!0).delete(e);return new yp(n).toPromise()}const SG=800,jG=3;class F6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fv._getInstance(bG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vG(),!this.activeServiceWorker)return;this.sender=new gG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hw();return await KN(e,ty,"1"),await XN(e,ty),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Hv(i,!1).getAll();return new yp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F6.type="LOCAL";const EG=F6;new mp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e){return e?Da(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends R6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TG(t){return oG(t.auth,new PA(t),t.bypassAuthState)}function NG(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),sG(n,new PA(t),t.bypassAuthState)}async function OG(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),aG(n,new PA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TG;case"linkViaPopup":case"linkViaRedirect":return OG;case"reauthViaPopup":case"reauthViaRedirect":return NG;default:ua(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=new mp(2e3,1e4);async function kG(t,e,n){if(hi(t.app))return Promise.reject(Di(t,"operation-not-supported-in-this-environment"));const r=zv(t);jq(t,e,kA);const i=H6(r,n);return new Fo(r,"signInViaPopup",e,i).executeNotNull()}class Fo extends q6{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=IA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CG.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG="pendingRedirect",lg=new Map;class PG extends q6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lg.get(this.auth._key());if(!e){try{const r=await RG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lg.set(this.auth._key(),e)}return this.bypassAuthState||lg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RG(t,e){const n=$G(e),r=DG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MG(t,e){lg.set(t._key(),e)}function DG(t){return Da(t._redirectPersistence)}function $G(t){return og(IG,t.config.apiKey,t.name)}async function LG(t,e,n=!1){if(hi(t.app))return Promise.reject(il(t));const r=zv(t),i=H6(r,e),s=await new PG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=10*60*1e3;class UG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BG&&this.cachedEventUids.clear(),this.cachedEventUids.has(YN(e))}saveEventToCache(e){this.cachedEventUids.add(YN(e)),this.lastProcessedEventTime=Date.now()}}function YN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(t,e={}){return Qu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HG=/^https?/;async function qG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zG(t);for(const n of e)try{if(GG(n))return}catch{}ua(t,"unauthorized-domain")}function GG(t){const e=dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!HG.test(n))return!1;if(FG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=new mp(3e4,6e4);function QN(){const t=ra().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KG(t){return new Promise((e,n)=>{var r,i,a;function s(){QN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QN(),n(Di(t,"network-request-failed"))},timeout:WG.get()})}if(!((i=(r=ra().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ra().gapi)===null||a===void 0)&&a.load)s();else{const l=Zq("iframefcb");return ra()[l]=()=>{gapi.load?s():n(Di(t,"network-request-failed"))},Yq(`${Qq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw cg=null,e})}let cg=null;function XG(t){return cg=cg||KG(t),cg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new mp(5e3,15e3),QG="__/auth/iframe",ZG="emulator/auth/iframe",JG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tW(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?EA(e,ZG):`https://${t.config.authDomain}/${QG}`,r={apiKey:e.apiKey,appName:t.name,v:Pl},i=eW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${pp(r).slice(1)}`}async function nW(t){const e=await XG(t),n=ra().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:tW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Di(t,"network-request-failed"),l=ra().setTimeout(()=>{a(s)},YG.get());function c(){ra().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iW=500,aW=600,sW="_blank",oW="http://localhost";class ZN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lW(t,e,n,r=iW,i=aW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rW),{width:r.toString(),height:i.toString(),top:a,left:s}),u=lr().toLowerCase();n&&(l=E6(u)?sW:n),S6(u)&&(e=e||oW,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(zq(u)&&l!=="_self")return cW(e||"",l),new ZN(null);const f=window.open(e||"",l,d);Le(f,t,"popup-blocked");try{f.focus()}catch{}return new ZN(f)}function cW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="__/auth/handler",dW="emulator/auth/handler",fW=encodeURIComponent("fac");async function JN(t,e,n,r,i,a){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pl,eventId:i};if(e instanceof kA){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lH(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof gp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${fW}=${encodeURIComponent(c)}`:"";return`${hW(t)}?${pp(l).slice(1)}${u}`}function hW({config:t}){return t.emulator?EA(t,dW):`https://${t.authDomain}/${uW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="webStorageSupport";class pW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B6,this._completeRedirectFn=LG,this._overrideRedirectResult=MG}async _openPopup(e,n,r,i){var a;Ja((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await JN(e,n,r,dw(),i);return lW(e,s,IA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await JN(e,n,r,dw(),i);return yG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ja(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nW(e),r=new UG(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vb,{type:vb},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[vb];s!==void 0&&n(!!s),ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k6()||j6()||OA()}}const mW=pW;var eO="@firebase/auth",tO="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vW(t){Bi(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I6(t)},u=new Kq(r,i,a,c);return eG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new bi("auth-internal",e=>{const n=zv(e.getProvider("auth").getImmediate());return(r=>new gW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(eO,tO,yW(t)),Cr(eO,tO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=5*60,bW=s6("authIdTokenMaxAge")||xW;let nO=null;const wW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bW)return;const i=n==null?void 0:n.token;nO!==i&&(nO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _W(t=Vv()){const e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jq(t,{popupRedirectResolver:mW,persistence:[EG,pG,B6]}),r=s6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=wW(a.toString());cG(n,s,()=>s(n.currentUser)),lG(n,l=>s(l))}}const i=r6("auth");return i&&tG(n,`http://${i}`),n}function AW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Xq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Di("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",AW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vW("Browser");var rO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,W6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,j){function O(){}O.prototype=j.prototype,w.D=j.prototype,w.prototype=new O,w.prototype.constructor=w,w.C=function(I,T,P){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return j.prototype[T].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,j,O){O||(O=0);var I=Array(16);if(typeof j=="string")for(var T=0;16>T;++T)I[T]=j.charCodeAt(O++)|j.charCodeAt(O++)<<8|j.charCodeAt(O++)<<16|j.charCodeAt(O++)<<24;else for(T=0;16>T;++T)I[T]=j[O++]|j[O++]<<8|j[O++]<<16|j[O++]<<24;j=w.g[0],O=w.g[1],T=w.g[2];var P=w.g[3],R=j+(P^O&(T^P))+I[0]+3614090360&4294967295;j=O+(R<<7&4294967295|R>>>25),R=P+(T^j&(O^T))+I[1]+3905402710&4294967295,P=j+(R<<12&4294967295|R>>>20),R=T+(O^P&(j^O))+I[2]+606105819&4294967295,T=P+(R<<17&4294967295|R>>>15),R=O+(j^T&(P^j))+I[3]+3250441966&4294967295,O=T+(R<<22&4294967295|R>>>10),R=j+(P^O&(T^P))+I[4]+4118548399&4294967295,j=O+(R<<7&4294967295|R>>>25),R=P+(T^j&(O^T))+I[5]+1200080426&4294967295,P=j+(R<<12&4294967295|R>>>20),R=T+(O^P&(j^O))+I[6]+2821735955&4294967295,T=P+(R<<17&4294967295|R>>>15),R=O+(j^T&(P^j))+I[7]+4249261313&4294967295,O=T+(R<<22&4294967295|R>>>10),R=j+(P^O&(T^P))+I[8]+1770035416&4294967295,j=O+(R<<7&4294967295|R>>>25),R=P+(T^j&(O^T))+I[9]+2336552879&4294967295,P=j+(R<<12&4294967295|R>>>20),R=T+(O^P&(j^O))+I[10]+4294925233&4294967295,T=P+(R<<17&4294967295|R>>>15),R=O+(j^T&(P^j))+I[11]+2304563134&4294967295,O=T+(R<<22&4294967295|R>>>10),R=j+(P^O&(T^P))+I[12]+1804603682&4294967295,j=O+(R<<7&4294967295|R>>>25),R=P+(T^j&(O^T))+I[13]+4254626195&4294967295,P=j+(R<<12&4294967295|R>>>20),R=T+(O^P&(j^O))+I[14]+2792965006&4294967295,T=P+(R<<17&4294967295|R>>>15),R=O+(j^T&(P^j))+I[15]+1236535329&4294967295,O=T+(R<<22&4294967295|R>>>10),R=j+(T^P&(O^T))+I[1]+4129170786&4294967295,j=O+(R<<5&4294967295|R>>>27),R=P+(O^T&(j^O))+I[6]+3225465664&4294967295,P=j+(R<<9&4294967295|R>>>23),R=T+(j^O&(P^j))+I[11]+643717713&4294967295,T=P+(R<<14&4294967295|R>>>18),R=O+(P^j&(T^P))+I[0]+3921069994&4294967295,O=T+(R<<20&4294967295|R>>>12),R=j+(T^P&(O^T))+I[5]+3593408605&4294967295,j=O+(R<<5&4294967295|R>>>27),R=P+(O^T&(j^O))+I[10]+38016083&4294967295,P=j+(R<<9&4294967295|R>>>23),R=T+(j^O&(P^j))+I[15]+3634488961&4294967295,T=P+(R<<14&4294967295|R>>>18),R=O+(P^j&(T^P))+I[4]+3889429448&4294967295,O=T+(R<<20&4294967295|R>>>12),R=j+(T^P&(O^T))+I[9]+568446438&4294967295,j=O+(R<<5&4294967295|R>>>27),R=P+(O^T&(j^O))+I[14]+3275163606&4294967295,P=j+(R<<9&4294967295|R>>>23),R=T+(j^O&(P^j))+I[3]+4107603335&4294967295,T=P+(R<<14&4294967295|R>>>18),R=O+(P^j&(T^P))+I[8]+1163531501&4294967295,O=T+(R<<20&4294967295|R>>>12),R=j+(T^P&(O^T))+I[13]+2850285829&4294967295,j=O+(R<<5&4294967295|R>>>27),R=P+(O^T&(j^O))+I[2]+4243563512&4294967295,P=j+(R<<9&4294967295|R>>>23),R=T+(j^O&(P^j))+I[7]+1735328473&4294967295,T=P+(R<<14&4294967295|R>>>18),R=O+(P^j&(T^P))+I[12]+2368359562&4294967295,O=T+(R<<20&4294967295|R>>>12),R=j+(O^T^P)+I[5]+4294588738&4294967295,j=O+(R<<4&4294967295|R>>>28),R=P+(j^O^T)+I[8]+2272392833&4294967295,P=j+(R<<11&4294967295|R>>>21),R=T+(P^j^O)+I[11]+1839030562&4294967295,T=P+(R<<16&4294967295|R>>>16),R=O+(T^P^j)+I[14]+4259657740&4294967295,O=T+(R<<23&4294967295|R>>>9),R=j+(O^T^P)+I[1]+2763975236&4294967295,j=O+(R<<4&4294967295|R>>>28),R=P+(j^O^T)+I[4]+1272893353&4294967295,P=j+(R<<11&4294967295|R>>>21),R=T+(P^j^O)+I[7]+4139469664&4294967295,T=P+(R<<16&4294967295|R>>>16),R=O+(T^P^j)+I[10]+3200236656&4294967295,O=T+(R<<23&4294967295|R>>>9),R=j+(O^T^P)+I[13]+681279174&4294967295,j=O+(R<<4&4294967295|R>>>28),R=P+(j^O^T)+I[0]+3936430074&4294967295,P=j+(R<<11&4294967295|R>>>21),R=T+(P^j^O)+I[3]+3572445317&4294967295,T=P+(R<<16&4294967295|R>>>16),R=O+(T^P^j)+I[6]+76029189&4294967295,O=T+(R<<23&4294967295|R>>>9),R=j+(O^T^P)+I[9]+3654602809&4294967295,j=O+(R<<4&4294967295|R>>>28),R=P+(j^O^T)+I[12]+3873151461&4294967295,P=j+(R<<11&4294967295|R>>>21),R=T+(P^j^O)+I[15]+530742520&4294967295,T=P+(R<<16&4294967295|R>>>16),R=O+(T^P^j)+I[2]+3299628645&4294967295,O=T+(R<<23&4294967295|R>>>9),R=j+(T^(O|~P))+I[0]+4096336452&4294967295,j=O+(R<<6&4294967295|R>>>26),R=P+(O^(j|~T))+I[7]+1126891415&4294967295,P=j+(R<<10&4294967295|R>>>22),R=T+(j^(P|~O))+I[14]+2878612391&4294967295,T=P+(R<<15&4294967295|R>>>17),R=O+(P^(T|~j))+I[5]+4237533241&4294967295,O=T+(R<<21&4294967295|R>>>11),R=j+(T^(O|~P))+I[12]+1700485571&4294967295,j=O+(R<<6&4294967295|R>>>26),R=P+(O^(j|~T))+I[3]+2399980690&4294967295,P=j+(R<<10&4294967295|R>>>22),R=T+(j^(P|~O))+I[10]+4293915773&4294967295,T=P+(R<<15&4294967295|R>>>17),R=O+(P^(T|~j))+I[1]+2240044497&4294967295,O=T+(R<<21&4294967295|R>>>11),R=j+(T^(O|~P))+I[8]+1873313359&4294967295,j=O+(R<<6&4294967295|R>>>26),R=P+(O^(j|~T))+I[15]+4264355552&4294967295,P=j+(R<<10&4294967295|R>>>22),R=T+(j^(P|~O))+I[6]+2734768916&4294967295,T=P+(R<<15&4294967295|R>>>17),R=O+(P^(T|~j))+I[13]+1309151649&4294967295,O=T+(R<<21&4294967295|R>>>11),R=j+(T^(O|~P))+I[4]+4149444226&4294967295,j=O+(R<<6&4294967295|R>>>26),R=P+(O^(j|~T))+I[11]+3174756917&4294967295,P=j+(R<<10&4294967295|R>>>22),R=T+(j^(P|~O))+I[2]+718787259&4294967295,T=P+(R<<15&4294967295|R>>>17),R=O+(P^(T|~j))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+j&4294967295,w.g[1]=w.g[1]+(T+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+P&4294967295}r.prototype.u=function(w,j){j===void 0&&(j=w.length);for(var O=j-this.blockSize,I=this.B,T=this.h,P=0;P<j;){if(T==0)for(;P<=O;)i(this,w,P),P+=this.blockSize;if(typeof w=="string"){for(;P<j;)if(I[T++]=w.charCodeAt(P++),T==this.blockSize){i(this,I),T=0;break}}else for(;P<j;)if(I[T++]=w[P++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=j},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var j=1;j<w.length-8;++j)w[j]=0;var O=8*this.o;for(j=w.length-8;j<w.length;++j)w[j]=O&255,O/=256;for(this.u(w),w=Array(16),j=O=0;4>j;++j)for(var I=0;32>I;I+=8)w[O++]=this.g[j]>>>I&255;return w};function a(w,j){var O=l;return Object.prototype.hasOwnProperty.call(O,w)?O[w]:O[w]=j(w)}function s(w,j){this.h=j;for(var O=[],I=!0,T=w.length-1;0<=T;T--){var P=w[T]|0;I&&P==j||(O[T]=P,I=!1)}this.g=O}var l={};function c(w){return-128<=w&&128>w?a(w,function(j){return new s([j|0],0>j?-1:0)}):new s([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return v(u(-w));for(var j=[],O=1,I=0;w>=O;I++)j[I]=w/O|0,O*=4294967296;return new s(j,0)}function d(w,j){if(w.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(w.charAt(0)=="-")return v(d(w.substring(1),j));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(j,8)),I=f,T=0;T<w.length;T+=8){var P=Math.min(8,w.length-T),R=parseInt(w.substring(T,T+P),j);8>P?(P=u(Math.pow(j,P)),I=I.j(P).add(u(R))):(I=I.j(O),I=I.add(u(R)))}return I}var f=c(0),h=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();for(var w=0,j=1,O=0;O<this.g.length;O++){var I=this.i(O);w+=(0<=I?I:4294967296+I)*j,j*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(y(this))return"0";if(g(this))return"-"+v(this).toString(w);for(var j=u(Math.pow(w,6)),O=this,I="";;){var T=N(O,j).g;O=b(O,T.j(j));var P=((0<O.g.length?O.g[0]:O.h)>>>0).toString(w);if(O=T,y(O))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function y(w){if(w.h!=0)return!1;for(var j=0;j<w.g.length;j++)if(w.g[j]!=0)return!1;return!0}function g(w){return w.h==-1}t.l=function(w){return w=b(this,w),g(w)?-1:y(w)?0:1};function v(w){for(var j=w.g.length,O=[],I=0;I<j;I++)O[I]=~w.g[I];return new s(O,~w.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(w){for(var j=Math.max(this.g.length,w.g.length),O=[],I=0,T=0;T<=j;T++){var P=I+(this.i(T)&65535)+(w.i(T)&65535),R=(P>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=R>>>16,P&=65535,R&=65535,O[T]=R<<16|P}return new s(O,O[O.length-1]&-2147483648?-1:0)};function b(w,j){return w.add(v(j))}t.j=function(w){if(y(this)||y(w))return f;if(g(this))return g(w)?v(this).j(v(w)):v(v(this).j(w));if(g(w))return v(this.j(v(w)));if(0>this.l(m)&&0>w.l(m))return u(this.m()*w.m());for(var j=this.g.length+w.g.length,O=[],I=0;I<2*j;I++)O[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var P=this.i(I)>>>16,R=this.i(I)&65535,V=w.i(T)>>>16,U=w.i(T)&65535;O[2*I+2*T]+=R*U,x(O,2*I+2*T),O[2*I+2*T+1]+=P*U,x(O,2*I+2*T+1),O[2*I+2*T+1]+=R*V,x(O,2*I+2*T+1),O[2*I+2*T+2]+=P*V,x(O,2*I+2*T+2)}for(I=0;I<j;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=j;I<2*j;I++)O[I]=0;return new s(O,0)};function x(w,j){for(;(w[j]&65535)!=w[j];)w[j+1]+=w[j]>>>16,w[j]&=65535,j++}function _(w,j){this.g=w,this.h=j}function N(w,j){if(y(j))throw Error("division by zero");if(y(w))return new _(f,f);if(g(w))return j=N(v(w),j),new _(v(j.g),v(j.h));if(g(j))return j=N(w,v(j)),new _(v(j.g),j.h);if(30<w.g.length){if(g(w)||g(j))throw Error("slowDivide_ only works with positive integers.");for(var O=h,I=j;0>=I.l(w);)O=A(O),I=A(I);var T=E(O,1),P=E(I,1);for(I=E(I,2),O=E(O,2);!y(I);){var R=P.add(I);0>=R.l(w)&&(T=T.add(O),P=R),I=E(I,1),O=E(O,1)}return j=b(w,T.j(j)),new _(T,j)}for(T=f;0<=w.l(j);){for(O=Math.max(1,Math.floor(w.m()/j.m())),I=Math.ceil(Math.log(O)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=u(O),R=P.j(j);g(R)||0<R.l(w);)O-=I,P=u(O),R=P.j(j);y(P)&&(P=h),T=T.add(P),w=b(w,R)}return new _(T,w)}t.A=function(w){return N(this,w).h},t.and=function(w){for(var j=Math.max(this.g.length,w.g.length),O=[],I=0;I<j;I++)O[I]=this.i(I)&w.i(I);return new s(O,this.h&w.h)},t.or=function(w){for(var j=Math.max(this.g.length,w.g.length),O=[],I=0;I<j;I++)O[I]=this.i(I)|w.i(I);return new s(O,this.h|w.h)},t.xor=function(w){for(var j=Math.max(this.g.length,w.g.length),O=[],I=0;I<j;I++)O[I]=this.i(I)^w.i(I);return new s(O,this.h^w.h)};function A(w){for(var j=w.g.length+1,O=[],I=0;I<j;I++)O[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(O,w.h)}function E(w,j){var O=j>>5;j%=32;for(var I=w.g.length-O,T=[],P=0;P<I;P++)T[P]=0<j?w.i(P+O)>>>j|w.i(P+O+1)<<32-j:w.i(P+O);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,W6=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ks=s}).apply(typeof rO<"u"?rO:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K6,sf,X6,ug,pw,Y6,Q6,Z6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,C){return p==Array.prototype||p==Object.prototype||(p[S]=C.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var S=0;S<p.length;++S){var C=p[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(p,S){if(S)e:{var C=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var H=p[D];if(!(H in C))break e;C=C[H]}p=p[p.length-1],D=C[p],S=S(D),S!=D&&S!=null&&e(C,p,{configurable:!0,writable:!0,value:S})}}function a(p,S){p instanceof String&&(p+="");var C=0,D=!1,H={next:function(){if(!D&&C<p.length){var K=C++;return{value:S(K,p[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(p){return p||function(){return a(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function u(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function d(p,S,C){return p.call.apply(p.bind,arguments)}function f(p,S,C){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,D),p.apply(S,H)}}return function(){return p.apply(S,arguments)}}function h(p,S,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(p,S){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function y(p,S){function C(){}C.prototype=S.prototype,p.aa=S.prototype,p.prototype=new C,p.prototype.constructor=p,p.Qb=function(D,H,K){for(var he=Array(arguments.length-2),At=2;At<arguments.length;At++)he[At-2]=arguments[At];return S.prototype[H].apply(D,he)}}function g(p){const S=p.length;if(0<S){const C=Array(S);for(let D=0;D<S;D++)C[D]=p[D];return C}return[]}function v(p,S){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(c(D)){const H=p.length||0,K=D.length||0;p.length=H+K;for(let he=0;he<K;he++)p[H+he]=D[he]}else p.push(D)}}class b{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function x(p){return/^[\s\xa0]*$/.test(p)}function _(){var p=l.navigator;return p&&(p=p.userAgent)?p:""}function N(p){return N[" "](p),p}N[" "]=function(){};var A=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function E(p,S,C){for(const D in p)S.call(C,p[D],D,p)}function w(p,S){for(const C in p)S.call(void 0,p[C],C,p)}function j(p){const S={};for(const C in p)S[C]=p[C];return S}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,S){let C,D;for(let H=1;H<arguments.length;H++){D=arguments[H];for(C in D)p[C]=D[C];for(let K=0;K<O.length;K++)C=O[K],Object.prototype.hasOwnProperty.call(D,C)&&(p[C]=D[C])}}function T(p){var S=1;p=p.split(":");const C=[];for(;0<S&&p.length;)C.push(p.shift()),S--;return p.length&&C.push(p.join(":")),C}function P(p){l.setTimeout(()=>{throw p},0)}function R(){var p=q;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class V{constructor(){this.h=this.g=null}add(S,C){const D=U.get();D.set(S,C),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new b(()=>new B,p=>p.reset());class B{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,q=new V,te=()=>{const p=l.Promise.resolve(void 0);L=()=>{p.then(ee)}};var ee=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(C){P(C)}var S=U;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}z=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};l.addEventListener("test",C,S),l.removeEventListener("test",C,S)}catch{}return p}();function Y(p,S){if(M.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var C=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(A){e:{try{N(S.nodeName);var H=!0;break e}catch{}H=!1}H||(S=null)}}else C=="mouseover"?S=p.fromElement:C=="mouseout"&&(S=p.toElement);this.relatedTarget=S,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ye[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Y.aa.h.call(this)}}y(Y,M);var ye={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Q(p,S,C,D,H){this.listener=p,this.proxy=null,this.src=S,this.type=C,this.capture=!!D,this.ha=H,this.key=++ke,this.da=this.fa=!1}function ce(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function pe(p){this.src=p,this.g={},this.h=0}pe.prototype.add=function(p,S,C,D,H){var K=p.toString();p=this.g[K],p||(p=this.g[K]=[],this.h++);var he=je(p,S,D,H);return-1<he?(S=p[he],C||(S.fa=!1)):(S=new Q(S,this.src,K,!!D,H),S.fa=C,p.push(S)),S};function Z(p,S){var C=S.type;if(C in p.g){var D=p.g[C],H=Array.prototype.indexOf.call(D,S,void 0),K;(K=0<=H)&&Array.prototype.splice.call(D,H,1),K&&(ce(S),p.g[C].length==0&&(delete p.g[C],p.h--))}}function je(p,S,C,D){for(var H=0;H<p.length;++H){var K=p[H];if(!K.da&&K.listener==S&&K.capture==!!C&&K.ha==D)return H}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ge={};function ae(p,S,C,D,H){if(Array.isArray(S)){for(var K=0;K<S.length;K++)ae(p,S[K],C,D,H);return null}return C=ne(C),p&&p[de]?p.K(S,C,u(D)?!!D.capture:!1,H):ve(p,S,C,!1,D,H)}function ve(p,S,C,D,H,K){if(!S)throw Error("Invalid event type");var he=u(H)?!!H.capture:!!H,At=F(p);if(At||(p[Ae]=At=new pe(p)),C=At.add(S,C,D,he,K),C.proxy)return C;if(D=Re(),C.proxy=D,D.src=p,D.listener=C,p.addEventListener)X||(H=he),H===void 0&&(H=!1),p.addEventListener(S.toString(),D,H);else if(p.attachEvent)p.attachEvent(Bt(S.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Re(){function p(C){return S.call(p.src,p.listener,C)}const S=Qt;return p}function $e(p,S,C,D,H){if(Array.isArray(S))for(var K=0;K<S.length;K++)$e(p,S[K],C,D,H);else D=u(D)?!!D.capture:!!D,C=ne(C),p&&p[de]?(p=p.i,S=String(S).toString(),S in p.g&&(K=p.g[S],C=je(K,C,D,H),-1<C&&(ce(K[C]),Array.prototype.splice.call(K,C,1),K.length==0&&(delete p.g[S],p.h--)))):p&&(p=F(p))&&(S=p.g[S.toString()],p=-1,S&&(p=je(S,C,D,H)),(C=-1<p?S[p]:null)&&ht(C))}function ht(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[de])Z(S.i,p);else{var C=p.type,D=p.proxy;S.removeEventListener?S.removeEventListener(C,D,p.capture):S.detachEvent?S.detachEvent(Bt(C),D):S.addListener&&S.removeListener&&S.removeListener(D),(C=F(S))?(Z(C,p),C.h==0&&(C.src=null,S[Ae]=null)):ce(p)}}}function Bt(p){return p in ge?ge[p]:ge[p]="on"+p}function Qt(p,S){if(p.da)p=!0;else{S=new Y(S,this);var C=p.listener,D=p.ha||p.src;p.fa&&ht(p),p=C.call(D,S)}return p}function F(p){return p=p[Ae],p instanceof pe?p:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ne(p){return typeof p=="function"?p:(p[oe]||(p[oe]=function(S){return p.handleEvent(S)}),p[oe])}function _e(){W.call(this),this.i=new pe(this),this.M=this,this.F=null}y(_e,W),_e.prototype[de]=!0,_e.prototype.removeEventListener=function(p,S,C,D){$e(this,p,S,C,D)};function me(p,S){var C,D=p.F;if(D)for(C=[];D;D=D.F)C.push(D);if(p=p.M,D=S.type||S,typeof S=="string")S=new M(S,p);else if(S instanceof M)S.target=S.target||p;else{var H=S;S=new M(D,p),I(S,H)}if(H=!0,C)for(var K=C.length-1;0<=K;K--){var he=S.g=C[K];H=Et(he,D,!0,S)&&H}if(he=S.g=p,H=Et(he,D,!0,S)&&H,H=Et(he,D,!1,S)&&H,C)for(K=0;K<C.length;K++)he=S.g=C[K],H=Et(he,D,!1,S)&&H}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var C=p.g[S],D=0;D<C.length;D++)ce(C[D]);delete p.g[S],p.h--}}this.F=null},_e.prototype.K=function(p,S,C,D){return this.i.add(String(p),S,!1,C,D)},_e.prototype.L=function(p,S,C,D){return this.i.add(String(p),S,!0,C,D)};function Et(p,S,C,D){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var H=!0,K=0;K<S.length;++K){var he=S[K];if(he&&!he.da&&he.capture==C){var At=he.listener,zn=he.ha||he.src;he.fa&&Z(p.i,he),H=At.call(zn,D)!==!1&&H}}return H&&!D.defaultPrevented}function Zt(p,S,C){if(typeof p=="function")C&&(p=h(p,C));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(p,S||0)}function ue(p){p.g=Zt(()=>{p.g=null,p.i&&(p.i=!1,ue(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Oe extends W{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function it(p){W.call(this),this.h=p,this.g={}}y(it,W);var _t=[];function Ve(p){E(p.g,function(S,C){this.g.hasOwnProperty(C)&&ht(S)},p),p.g={}}it.prototype.N=function(){it.aa.N.call(this),Ve(this)},it.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=l.JSON.stringify,Ke=l.JSON.parse,Cn=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function ct(){}ct.prototype.h=null;function un(p){return p.h||(p.h=p.i())}function xr(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){M.call(this,"d")}y(Ei,M);function va(){M.call(this,"c")}y(va,M);var br={},Bp=null;function Gl(){return Bp=Bp||new _e}br.La="serverreachability";function Up(p){M.call(this,br.La,p)}y(Up,M);function Eo(p){const S=Gl();me(S,new Up(S))}br.STAT_EVENT="statevent";function bd(p,S){M.call(this,br.STAT_EVENT,p),this.stat=S}y(bd,M);function pt(p){const S=Gl();me(S,new bd(S,p))}br.Ma="timingevent";function wd(p,S){M.call(this,br.Ma,p),this.size=S}y(wd,M);function xa(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},S)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function fe(p,S,C,D,H,K){p.info(function(){if(p.g)if(K)for(var he="",At=K.split("&"),zn=0;zn<At.length;zn++){var at=At[zn].split("=");if(1<at.length){var Qn=at[0];at=at[1];var Zn=Qn.split("_");he=2<=Zn.length&&Zn[1]=="type"?he+(Qn+"="+at+"&"):he+(Qn+"=redacted&")}}else he=null;else he=K;return"XMLHTTP REQ ("+D+") [attempt "+H+"]: "+S+`
`+C+`
`+he})}function Ee(p,S,C,D,H,K,he){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+H+"]: "+S+`
`+C+`
`+K+" "+he})}function mt(p,S,C,D){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+Yn(p,C)+(D?" "+D:"")})}function Gt(p,S){p.info(function(){return"TIMEOUT: "+S})}G.prototype.info=function(){};function Yn(p,S){if(!p.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(p=0;p<C.length;p++)if(Array.isArray(C[p])){var D=C[p];if(!(2>D.length)){var H=D[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return Ce(C)}catch{return S}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function wr(){}y(wr,ct),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},Ze=new wr;function It(p,S,C,D){this.j=p,this.i=S,this.l=C,this.R=D||1,this.U=new it(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var Vn={},In={};function ba(p,S,C){p.L=1,p.v=Hp(wa(S)),p.m=C,p.P=!0,us(p,null)}function us(p,S){p.F=Date.now(),Vp(p),p.A=wa(p.v);var C=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),NE(C.i,"t",D),p.C=0,C=p.j.J,p.h=new kn,p.g=GE(p.j,C?S:null,!p.m),0<p.O&&(p.M=new Oe(h(p.Y,p,p.g),p.O)),S=p.U,C=p.g,D=p.ca;var H="readystatechange";Array.isArray(H)||(H&&(_t[0]=H.toString()),H=_t);for(var K=0;K<H.length;K++){var he=ae(C,H[K],D||S.handleEvent,!1,S.h||S);if(!he)break;S.g[he.key]=he}S=p.H?j(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),Eo(),fe(p.i,p.u,p.A,p.l,p.R,p.m)}It.prototype.ca=function(p){p=p.target;const S=this.M;S&&_a(p)==3?S.j():this.Y(p)},It.prototype.Y=function(p){try{if(p==this.g)e:{const Zn=_a(this.g);var S=this.g.Ba();const Xl=this.g.Z();if(!(3>Zn)&&(Zn!=3||this.g&&(this.h.h||this.g.oa()||ME(this.g)))){this.J||Zn!=4||S==7||(S==8||0>=Xl?Eo(3):Eo(2)),bx(this);var C=this.g.Z();this.X=C;t:if(ds(this)){var D=ME(this.g);p="";var H=D.length,K=_a(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){No(this),_d(this);var he="";break t}this.h.i=new l.TextDecoder}for(S=0;S<H;S++)this.h.h=!0,p+=this.h.i.decode(D[S],{stream:!(K&&S==H-1)});D.length=0,this.h.g+=p,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=C==200,Ee(this.i,this.u,this.A,this.l,this.R,Zn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var At,zn=this.g;if((At=zn.g?zn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(At)){var at=At;break t}}at=null}if(C=at)mt(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wx(this,C);else{this.o=!1,this.s=3,pt(12),No(this),_d(this);break e}}if(this.P){C=!0;let Ti;for(;!this.J&&this.C<he.length;)if(Ti=To(this,he),Ti==In){Zn==4&&(this.s=4,pt(14),C=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ti==Vn){this.s=4,pt(15),mt(this.i,this.l,he,"[Invalid Chunk]"),C=!1;break}else mt(this.i,this.l,Ti,null),wx(this,Ti);if(ds(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zn!=4||he.length!=0||this.h.h||(this.s=1,pt(16),C=!1),this.o=this.o&&C,!C)mt(this.i,this.l,he,"[Invalid Chunked Response]"),No(this),_d(this);else if(0<he.length&&!this.W){this.W=!0;var Qn=this.j;Qn.g==this&&Qn.ba&&!Qn.M&&(Qn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Tx(Qn),Qn.M=!0,pt(11))}}else mt(this.i,this.l,he,null),wx(this,he);Zn==4&&No(this),this.o&&!this.J&&(Zn==4?zE(this.j,this):(this.o=!1,Vp(this)))}else cU(this.g),C==400&&0<he.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),No(this),_d(this)}}}catch{}finally{}};function ds(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function To(p,S){var C=p.C,D=S.indexOf(`
`,C);return D==-1?In:(C=Number(S.substring(C,D)),isNaN(C)?Vn:(D+=1,D+C>S.length?In:(S=S.slice(D,D+C),p.C=D+C,S)))}It.prototype.cancel=function(){this.J=!0,No(this)};function Vp(p){p.S=Date.now()+p.I,gE(p,p.I)}function gE(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=xa(h(p.ba,p),S)}function bx(p){p.B&&(l.clearTimeout(p.B),p.B=null)}It.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Gt(this.i,this.A),this.L!=2&&(Eo(),pt(17)),No(this),this.s=2,_d(this)):gE(this,this.S-p)};function _d(p){p.j.G==0||p.J||zE(p.j,p)}function No(p){bx(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,Ve(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function wx(p,S){try{var C=p.j;if(C.G!=0&&(C.g==p||_x(C.h,p))){if(!p.K&&_x(C.h,p)&&C.G==3){try{var D=C.Da.g.parse(S)}catch{D=null}if(Array.isArray(D)&&D.length==3){var H=D;if(H[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<p.F)Yp(C),Kp(C);else break e;Ex(C),pt(18)}}else C.za=H[1],0<C.za-C.T&&37500>H[2]&&C.F&&C.v==0&&!C.C&&(C.C=xa(h(C.Za,C),6e3));if(1>=xE(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Co(C,11)}else if((p.K||C.g==p)&&Yp(C),!x(S))for(H=C.Da.g.parse(S),S=0;S<H.length;S++){let at=H[S];if(C.T=at[0],at=at[1],C.G==2)if(at[0]=="c"){C.K=at[1],C.ia=at[2];const Qn=at[3];Qn!=null&&(C.la=Qn,C.j.info("VER="+C.la));const Zn=at[4];Zn!=null&&(C.Aa=Zn,C.j.info("SVER="+C.Aa));const Xl=at[5];Xl!=null&&typeof Xl=="number"&&0<Xl&&(D=1.5*Xl,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Ti=p.g;if(Ti){const Zp=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zp){var K=D.h;K.g||Zp.indexOf("spdy")==-1&&Zp.indexOf("quic")==-1&&Zp.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ax(K,K.h),K.h=null))}if(D.D){const Nx=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Nx&&(D.ya=Nx,Pt(D.I,D.D,Nx))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-p.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var he=p;if(D.qa=qE(D,D.J?D.ia:null,D.W),he.K){bE(D.h,he);var At=he,zn=D.L;zn&&(At.I=zn),At.B&&(bx(At),Vp(At)),D.g=he}else UE(D);0<C.i.length&&Xp(C)}else at[0]!="stop"&&at[0]!="close"||Co(C,7);else C.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Co(C,7):jx(C):at[0]!="noop"&&C.l&&C.l.ta(at),C.v=0)}}Eo(4)}catch{}}var W9=class{constructor(p,S){this.g=p,this.map=S}};function yE(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vE(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function xE(p){return p.h?1:p.g?p.g.size:0}function _x(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Ax(p,S){p.g?p.g.add(S):p.h=S}function bE(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}yE.prototype.cancel=function(){if(this.i=wE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function wE(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const C of p.g.values())S=S.concat(C.D);return S}return g(p.i)}function K9(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],C=p.length,D=0;D<C;D++)S.push(p[D]);return S}S=[],C=0;for(D in p)S[C++]=p[D];return S}function X9(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var C=0;C<p;C++)S.push(C);return S}S=[],C=0;for(const D in p)S[C++]=D;return S}}}function _E(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var C=X9(p),D=K9(p),H=D.length,K=0;K<H;K++)S.call(void 0,D[K],C&&C[K],p)}var AE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y9(p,S){if(p){p=p.split("&");for(var C=0;C<p.length;C++){var D=p[C].indexOf("="),H=null;if(0<=D){var K=p[C].substring(0,D);H=p[C].substring(D+1)}else K=p[C];S(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Oo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Oo){this.h=p.h,zp(this,p.j),this.o=p.o,this.g=p.g,Fp(this,p.s),this.l=p.l;var S=p.i,C=new jd;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),SE(this,C),this.m=p.m}else p&&(S=String(p).match(AE))?(this.h=!1,zp(this,S[1]||"",!0),this.o=Ad(S[2]||""),this.g=Ad(S[3]||"",!0),Fp(this,S[4]),this.l=Ad(S[5]||"",!0),SE(this,S[6]||"",!0),this.m=Ad(S[7]||"")):(this.h=!1,this.i=new jd(null,this.h))}Oo.prototype.toString=function(){var p=[],S=this.j;S&&p.push(Sd(S,jE,!0),":");var C=this.g;return(C||S=="file")&&(p.push("//"),(S=this.o)&&p.push(Sd(S,jE,!0),"@"),p.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&p.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(Sd(C,C.charAt(0)=="/"?J9:Z9,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",Sd(C,tU)),p.join("")};function wa(p){return new Oo(p)}function zp(p,S,C){p.j=C?Ad(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Fp(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function SE(p,S,C){S instanceof jd?(p.i=S,nU(p.i,p.h)):(C||(S=Sd(S,eU)),p.i=new jd(S,p.h))}function Pt(p,S,C){p.i.set(S,C)}function Hp(p){return Pt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ad(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Sd(p,S,C){return typeof p=="string"?(p=encodeURI(p).replace(S,Q9),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Q9(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var jE=/[#\/\?@]/g,Z9=/[#\?:]/g,J9=/[#\?]/g,eU=/[#\?@]/g,tU=/#/g;function jd(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function fs(p){p.g||(p.g=new Map,p.h=0,p.i&&Y9(p.i,function(S,C){p.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=jd.prototype,t.add=function(p,S){fs(this),this.i=null,p=Wl(this,p);var C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(S),this.h+=1,this};function EE(p,S){fs(p),S=Wl(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function TE(p,S){return fs(p),S=Wl(p,S),p.g.has(S)}t.forEach=function(p,S){fs(this),this.g.forEach(function(C,D){C.forEach(function(H){p.call(S,H,D,this)},this)},this)},t.na=function(){fs(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let D=0;D<S.length;D++){const H=p[D];for(let K=0;K<H.length;K++)C.push(S[D])}return C},t.V=function(p){fs(this);let S=[];if(typeof p=="string")TE(this,p)&&(S=S.concat(this.g.get(Wl(this,p))));else{p=Array.from(this.g.values());for(let C=0;C<p.length;C++)S=S.concat(p[C])}return S},t.set=function(p,S){return fs(this),this.i=null,p=Wl(this,p),TE(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function NE(p,S,C){EE(p,S),0<C.length&&(p.i=null,p.g.set(Wl(p,S),g(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var D=S[C];const K=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var H=K;he[D]!==""&&(H+="="+encodeURIComponent(String(he[D]))),p.push(H)}}return this.i=p.join("&")};function Wl(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function nU(p,S){S&&!p.j&&(fs(p),p.i=null,p.g.forEach(function(C,D){var H=D.toLowerCase();D!=H&&(EE(this,D),NE(this,H,C))},p)),p.j=S}function rU(p,S){const C=new G;if(l.Image){const D=new Image;D.onload=m(hs,C,"TestLoadImage: loaded",!0,S,D),D.onerror=m(hs,C,"TestLoadImage: error",!1,S,D),D.onabort=m(hs,C,"TestLoadImage: abort",!1,S,D),D.ontimeout=m(hs,C,"TestLoadImage: timeout",!1,S,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else S(!1)}function iU(p,S){const C=new G,D=new AbortController,H=setTimeout(()=>{D.abort(),hs(C,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:D.signal}).then(K=>{clearTimeout(H),K.ok?hs(C,"TestPingServer: ok",!0,S):hs(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(H),hs(C,"TestPingServer: error",!1,S)})}function hs(p,S,C,D,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),D(C)}catch{}}function aU(){this.g=new Cn}function sU(p,S,C){const D=C||"";try{_E(p,function(H,K){let he=H;u(H)&&(he=Ce(H)),S.push(D+K+"="+encodeURIComponent(he))})}catch(H){throw S.push(D+"type="+encodeURIComponent("_badmap")),H}}function qp(p){this.l=p.Ub||null,this.j=p.eb||!1}y(qp,ct),qp.prototype.g=function(){return new Gp(this.l,this.j)},qp.prototype.i=function(p){return function(){return p}}({});function Gp(p,S){_e.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gp,_e),t=Gp.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,Td(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Td(this)),this.g&&(this.readyState=3,Td(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OE(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function OE(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?Ed(this):Td(this),this.readyState==3&&OE(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ed(this))},t.Qa=function(p){this.g&&(this.response=p,Ed(this))},t.ga=function(){this.g&&Ed(this)};function Ed(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Td(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=S.next();return p.join(`\r
`)};function Td(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function CE(p){let S="";return E(p,function(C,D){S+=D,S+=":",S+=C,S+=`\r
`}),S}function Sx(p,S,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=CE(C),typeof p=="string"?C!=null&&encodeURIComponent(String(C)):Pt(p,S,C))}function Jt(p){_e.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Jt,_e);var oU=/^https?$/i,lU=["POST","PUT"];t=Jt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?un(this.o):un(Ze),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(K){kE(this,K);return}if(p=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var H in D)C.set(H,D[H]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())C.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(K=>K.toLowerCase()=="content-type"),H=l.FormData&&p instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lU,S,void 0))||D||H||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,he]of C)this.g.setRequestHeader(K,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RE(this),this.u=!0,this.g.send(p),this.u=!1}catch(K){kE(this,K)}};function kE(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,IE(p),Wp(p)}function IE(p){p.A||(p.A=!0,me(p,"complete"),me(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,me(this,"complete"),me(this,"abort"),Wp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wp(this,!0)),Jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PE(this):this.bb())},t.bb=function(){PE(this)};function PE(p){if(p.h&&typeof s<"u"&&(!p.v[1]||_a(p)!=4||p.Z()!=2)){if(p.u&&_a(p)==4)Zt(p.Ea,0,p);else if(me(p,"readystatechange"),_a(p)==4){p.h=!1;try{const he=p.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var D;if(D=he===0){var H=String(p.D).match(AE)[1]||null;!H&&l.self&&l.self.location&&(H=l.self.location.protocol.slice(0,-1)),D=!oU.test(H?H.toLowerCase():"")}C=D}if(C)me(p,"complete"),me(p,"success");else{p.m=6;try{var K=2<_a(p)?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.Z()+"]",IE(p)}}finally{Wp(p)}}}}function Wp(p,S){if(p.g){RE(p);const C=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||me(p,"ready");try{C.onreadystatechange=D}catch{}}}function RE(p){p.I&&(l.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function _a(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<_a(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),Ke(S)}};function ME(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function cU(p){const S={};p=(p.g&&2<=_a(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(x(p[D]))continue;var C=T(p[D]);const H=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const K=S[H]||[];S[H]=K,K.push(C)}w(S,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nd(p,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||S}function DE(p){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nd("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nd("baseRetryDelayMs",5e3,p),this.cb=Nd("retryDelaySeedMs",1e4,p),this.Wa=Nd("forwardChannelMaxRetries",2,p),this.wa=Nd("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new yE(p&&p.concurrentRequestLimit),this.Da=new aU,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DE.prototype,t.la=8,t.G=1,t.connect=function(p,S,C,D){pt(0),this.W=p,this.H=S||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=qE(this,null,this.W),Xp(this)};function jx(p){if($E(p),p.G==3){var S=p.U++,C=wa(p.I);if(Pt(C,"SID",p.K),Pt(C,"RID",S),Pt(C,"TYPE","terminate"),Od(p,C),S=new It(p,p.j,S),S.L=2,S.v=Hp(wa(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&l.Image&&(new Image().src=S.v,C=!0),C||(S.g=GE(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Vp(S)}HE(p)}function Kp(p){p.g&&(Tx(p),p.g.cancel(),p.g=null)}function $E(p){Kp(p),p.u&&(l.clearTimeout(p.u),p.u=null),Yp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&l.clearTimeout(p.s),p.s=null)}function Xp(p){if(!vE(p.h)&&!p.s){p.s=!0;var S=p.Ga;L||te(),z||(L(),z=!0),q.add(S,p),p.B=0}}function uU(p,S){return xE(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=xa(h(p.Ga,p,S),FE(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const H=new It(this,this.j,p);let K=this.o;if(this.S&&(K?(K=j(K),I(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(S+=D,4096<S){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=BE(this,H,S),C=wa(this.I),Pt(C,"RID",p),Pt(C,"CVER",22),this.D&&Pt(C,"X-HTTP-Session-Id",this.D),Od(this,C),K&&(this.O?S="headers="+encodeURIComponent(String(CE(K)))+"&"+S:this.m&&Sx(C,this.m,K)),Ax(this.h,H),this.Ua&&Pt(C,"TYPE","init"),this.P?(Pt(C,"$req",S),Pt(C,"SID","null"),H.T=!0,ba(H,C,null)):ba(H,C,S),this.G=2}}else this.G==3&&(p?LE(this,p):this.i.length==0||vE(this.h)||LE(this))};function LE(p,S){var C;S?C=S.l:C=p.U++;const D=wa(p.I);Pt(D,"SID",p.K),Pt(D,"RID",C),Pt(D,"AID",p.T),Od(p,D),p.m&&p.o&&Sx(D,p.m,p.o),C=new It(p,p.j,C,p.B+1),p.m===null&&(C.H=p.o),S&&(p.i=S.D.concat(p.i)),S=BE(p,C,1e3),C.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ax(p.h,C),ba(C,D,S)}function Od(p,S){p.H&&E(p.H,function(C,D){Pt(S,D,C)}),p.l&&_E({},function(C,D){Pt(S,D,C)})}function BE(p,S,C){C=Math.min(p.i.length,C);var D=p.l?h(p.l.Na,p.l,p):null;e:{var H=p.i;let K=-1;for(;;){const he=["count="+C];K==-1?0<C?(K=H[0].g,he.push("ofs="+K)):K=0:he.push("ofs="+K);let At=!0;for(let zn=0;zn<C;zn++){let at=H[zn].g;const Qn=H[zn].map;if(at-=K,0>at)K=Math.max(0,H[zn].g-100),At=!1;else try{sU(Qn,he,"req"+at+"_")}catch{D&&D(Qn)}}if(At){D=he.join("&");break e}}}return p=p.i.splice(0,C),S.D=p,D}function UE(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;L||te(),z||(L(),z=!0),q.add(S,p),p.v=0}}function Ex(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=xa(h(p.Fa,p),FE(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,VE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=xa(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Kp(this),VE(this))};function Tx(p){p.A!=null&&(l.clearTimeout(p.A),p.A=null)}function VE(p){p.g=new It(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=wa(p.qa);Pt(S,"RID","rpc"),Pt(S,"SID",p.K),Pt(S,"AID",p.T),Pt(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&Pt(S,"TO",p.ja),Pt(S,"TYPE","xmlhttp"),Od(p,S),p.m&&p.o&&Sx(S,p.m,p.o),p.L&&(p.g.I=p.L);var C=p.g;p=p.ia,C.L=1,C.v=Hp(wa(S)),C.m=null,C.P=!0,us(C,p)}t.Za=function(){this.C!=null&&(this.C=null,Kp(this),Ex(this),pt(19))};function Yp(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function zE(p,S){var C=null;if(p.g==S){Yp(p),Tx(p),p.g=null;var D=2}else if(_x(p.h,S))C=S.D,bE(p.h,S),D=1;else return;if(p.G!=0){if(S.o)if(D==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var H=p.B;D=Gl(),me(D,new wd(D,C)),Xp(p)}else UE(p);else if(H=S.s,H==3||H==0&&0<S.X||!(D==1&&uU(p,S)||D==2&&Ex(p)))switch(C&&0<C.length&&(S=p.h,S.i=S.i.concat(C)),H){case 1:Co(p,5);break;case 4:Co(p,10);break;case 3:Co(p,6);break;default:Co(p,2)}}}function FE(p,S){let C=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(C*=2),C*S}function Co(p,S){if(p.j.info("Error code "+S),S==2){var C=h(p.fb,p),D=p.Xa;const H=!D;D=new Oo(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zp(D,"https"),Hp(D),H?rU(D.toString(),C):iU(D.toString(),C)}else pt(2);p.G=0,p.l&&p.l.sa(S),HE(p),$E(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function HE(p){if(p.G=0,p.ka=[],p.l){const S=wE(p.h);(S.length!=0||p.i.length!=0)&&(v(p.ka,S),v(p.ka,p.i),p.h.i.length=0,g(p.i),p.i.length=0),p.l.ra()}}function qE(p,S,C){var D=C instanceof Oo?wa(C):new Oo(C);if(D.g!="")S&&(D.g=S+"."+D.g),Fp(D,D.s);else{var H=l.location;D=H.protocol,S=S?S+"."+H.hostname:H.hostname,H=+H.port;var K=new Oo(null);D&&zp(K,D),S&&(K.g=S),H&&Fp(K,H),C&&(K.l=C),D=K}return C=p.D,S=p.ya,C&&S&&Pt(D,C,S),Pt(D,"VER",p.la),Od(p,D),D}function GE(p,S,C){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Jt(new qp({eb:C})):new Jt(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WE(){}t=WE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qp(){}Qp.prototype.g=function(p,S){return new Mr(p,S)};function Mr(p,S){_e.call(this),this.g=new DE(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!x(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!x(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Kl(this)}y(Mr,_e),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){jx(this.g)},Mr.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.u&&(C={},C.__data__=Ce(p),p=C);S.i.push(new W9(S.Ya++,p)),S.G==3&&Xp(S)},Mr.prototype.N=function(){this.g.l=null,delete this.j,jx(this.g),delete this.g,Mr.aa.N.call(this)};function KE(p){Ei.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const C in S){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}y(KE,Ei);function XE(){va.call(this),this.status=1}y(XE,va);function Kl(p){this.g=p}y(Kl,WE),Kl.prototype.ua=function(){me(this.g,"a")},Kl.prototype.ta=function(p){me(this.g,new KE(p))},Kl.prototype.sa=function(p){me(this.g,new XE)},Kl.prototype.ra=function(){me(this.g,"b")},Qp.prototype.createWebChannel=Qp.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,Z6=function(){return new Qp},Q6=function(){return Gl()},Y6=br,pw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,ug=ut,rt.COMPLETE="complete",X6=rt,xr.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",_e.prototype.listen=_e.prototype.K,sf=xr,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,K6=Jt}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});const iO="@firebase/firestore",aO="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new Uv("@firebase/firestore");function cc(){return ml.logLevel}function xe(t,...e){if(ml.logLevel<=Je.DEBUG){const n=e.map(RA);ml.debug(`Firestore (${Zu}): ${t}`,...n)}}function es(t,...e){if(ml.logLevel<=Je.ERROR){const n=e.map(RA);ml.error(`Firestore (${Zu}): ${t}`,...n)}}function au(t,...e){if(ml.logLevel<=Je.WARN){const n=e.map(RA);ml.warn(`Firestore (${Zu}): ${t}`,...n)}}function RA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,J6(t,r,n)}function J6(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw es(r),new Error(r)}function dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||J6(e,i,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class jW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EW{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Fa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new e$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class TW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function mw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ge(r,i);{const a=t$(),s=kW(a.encode(oO(t,n)),a.encode(oO(e,n)));return s!==0?s:Ge(r,i)}}n+=r>65535?2:1}return Ge(t.length,e.length)}function oO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ge(t[n],e[n]);return Ge(t.length,e.length)}function su(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=-62135596800,cO=1e6;class En{static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cO);return new En(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lO)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cO}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new En(0,0))}static max(){return new Be(new En(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="__name__";class Wi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Wi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ge(e.length,n.length)}static compareSegments(e,n){const r=Wi.isNumericId(e),i=Wi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wi.extractNumericId(e).compare(Wi.extractNumericId(n)):mw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Dt extends Wi{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const IW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Wi{construct(e,n,r){return new Wn(e,n,r)}static isValidIdentifier(e){return IW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uO}static keyField(){return new Wn([uO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new be(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(n)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Dt.fromString(e))}static fromName(e){return new Te(Dt.fromString(e).popFirst(5))}static empty(){return new Te(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function PW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new En(n+1,0):new En(n,r));return new no(i,Te.empty(),e)}function RW(t){return new no(t.readTime,t.key,ah)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Be.min(),Te.empty(),ah)}static max(){return new no(Be.max(),Te.empty(),ah)}}function MW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $W{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==DW)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,a=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++a,s&&a===i&&n()},c=>r(c))}),s=!0,a===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++l,l===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ie((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function LW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}qv.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=-1;function Gv(t){return t==null}function ry(t){return t===0&&1/t==-1/0}function BW(t){return typeof t=="number"&&Number.isInteger(t)&&!ry(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="";function UW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dO(e)),e=VW(t.get(n),e);return dO(e)}function VW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case r$:n+="";break;default:n+=a}}return n}function dO(t){return t+r$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vm(this.root,e,this.comparator,!0)}}class vm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??qn.RED,this.left=i??qn.EMPTY,this.right=a??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new qn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hO(this.data.getIterator())}getIteratorFrom(e){return new hO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tn(this.comparator);return n.data=e,n}}class hO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new Tn(Wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new a$("Invalid base64 string: "+a):a}}(e);return new Xn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const zW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=zW.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="server_timestamp",o$="__type__",l$="__previous_value__",c$="__local_write_time__";function DA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[o$])===null||n===void 0?void 0:n.stringValue)===s$}function Wv(t){const e=t.mapValue.fields[l$];return DA(e)?Wv(e):e}function sh(t){const e=ro(t.mapValue.fields[c$].timestampValue);return new En(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n,r,i,a,s,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const iy="(default)";class oh{constructor(e,n){this.projectId=e,this.database=n||iy}static empty(){return new oh("","")}get isDefaultDatabase(){return this.database===iy}isEqual(e){return e instanceof oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="__type__",HW="__max__",xm={mapValue:{}},d$="__vector__",ay="value";function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DA(t)?4:GW(t)?9007199254740991:qW(t)?10:11:Me(28295,{value:t})}function da(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ro(i.timestampValue),l=ro(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return io(i.bytesValue).isEqual(io(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ln(i.geoPointValue.latitude)===ln(a.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ln(i.integerValue)===ln(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ln(i.doubleValue),l=ln(a.doubleValue);return s===l?ry(s)===ry(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(fO(s)!==fO(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!da(s[c],l[c])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function lh(t,e){return(t.values||[]).find(n=>da(n,e))!==void 0}function ou(t,e){if(t===e)return 0;const n=ao(t),r=ao(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=ln(a.integerValue||a.doubleValue),c=ln(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return pO(t.timestampValue,e.timestampValue);case 4:return pO(sh(t),sh(e));case 5:return mw(t.stringValue,e.stringValue);case 6:return function(a,s){const l=io(a),c=io(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),c=s.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ge(l[u],c[u]);if(d!==0)return d}return Ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=Ge(ln(a.latitude),ln(s.latitude));return l!==0?l:Ge(ln(a.longitude),ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mO(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,c,u,d;const f=a.fields||{},h=s.fields||{},m=(l=f[ay])===null||l===void 0?void 0:l.arrayValue,y=(c=h[ay])===null||c===void 0?void 0:c.arrayValue,g=Ge(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:mO(m,y)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===xm.mapValue&&s===xm.mapValue)return 0;if(a===xm.mapValue)return 1;if(s===xm.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=mw(c[f],d[f]);if(h!==0)return h;const m=ou(l[c[f]],u[d[f]]);if(m!==0)return m}return Ge(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{Pe:n})}}function pO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=ro(t),r=ro(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function mO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ou(n[i],r[i]);if(a)return a}return Ge(n.length,r.length)}function lu(t){return gw(t)}function gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=gw(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${gw(n.fields[s])}`;return i+"}"}(t.mapValue):Me(61005,{value:t})}function dg(t){switch(ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wv(t);return e?16+dg(e):16;case 5:return 2*t.stringValue.length;case 6:return io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+dg(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return go(r.fields,(a,s)=>{i+=a.length+dg(s)}),i}(t.mapValue);default:throw Me(13486,{value:t})}}function gO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yw(t){return!!t&&"integerValue"in t}function $A(t){return!!t&&"arrayValue"in t}function yO(t){return!!t&&"nullValue"in t}function vO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fg(t){return!!t&&"mapValue"in t}function qW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[u$])===null||n===void 0?void 0:n.stringValue)===d$}function Of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Of(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Of(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Of(n)}setAll(e){let n=Wn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Of(s):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Tr(Of(this.value))}}function f$(t){const e=[];return go(t.fields,(n,r)=>{const i=new Wn([n]);if(fg(r)){const a=f$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new nr(e,0,Be.min(),Be.min(),Be.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,i){return new nr(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new nr(e,2,n,Be.min(),Be.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new nr(e,3,n,Be.min(),Be.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.position=e,this.inclusive=n}}function xO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(s.referenceValue),n.key):r=ou(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function bO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!da(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function WW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${}class pn extends h${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XW(e,n,r):n==="array-contains"?new ZW(e,r):n==="in"?new JW(e,r):n==="not-in"?new eK(e,r):n==="array-contains-any"?new tK(e,r):new pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YW(e,r):new QW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ou(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(ou(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends h${constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ui(e,n)}matches(e){return p$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function p$(t){return t.op==="and"}function m$(t){return KW(t)&&p$(t)}function KW(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function vw(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+lu(t.value);if(m$(t))return t.filters.map(e=>vw(e)).join(",");{const e=t.filters.map(n=>vw(n)).join(",");return`${t.op}(${e})`}}function g$(t,e){return t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.field.isEqual(i.field)&&da(r.value,i.value)}(t,e):t instanceof Ui?function(r,i){return i instanceof Ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,l)=>a&&g$(s,i.filters[l]),!0):!1}(t,e):void Me(19439)}function y$(t){return t instanceof pn?function(n){return`${n.field.canonicalString()} ${n.op} ${lu(n.value)}`}(t):t instanceof Ui?function(n){return n.op.toString()+" {"+n.getFilters().map(y$).join(" ,")+"}"}(t):"Filter"}class XW extends pn{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class YW extends pn{constructor(e,n){super(e,"in",n),this.keys=v$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QW extends pn{constructor(e,n){super(e,"not-in",n),this.keys=v$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class ZW extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $A(n)&&lh(n.arrayValue,this.value)}}class JW extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lh(this.value.arrayValue,n)}}class eK extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lh(this.value.arrayValue,n)}}class tK extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$A(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Ie=null}}function wO(t,e=null,n=[],r=[],i=null,a=null,s=null){return new nK(t,e,n,r,i,a,s)}function LA(t){const e=ze(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Gv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lu(r)).join(",")),e.Ie=n}return e.Ie}function BA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bO(t.startAt,e.startAt)&&bO(t.endAt,e.endAt)}function xw(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rK(t,e,n,r,i,a,s,l){return new td(t,e,n,r,i,a,s,l)}function Kv(t){return new td(t)}function _O(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x$(t){return t.collectionGroup!==null}function Cf(t){const e=ze(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Tn(Wn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ch(a,r))}),n.has(Wn.keyField().canonicalString())||e.Ee.push(new ch(Wn.keyField(),r))}return e.Ee}function ia(t){const e=ze(t);return e.de||(e.de=iK(e,Cf(t))),e.de}function iK(t,e){if(t.limitType==="F")return wO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ch(i.field,a)});const n=t.endAt?new sy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sy(t.startAt.position,t.startAt.inclusive):null;return wO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bw(t,e){const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ww(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xv(t,e){return BA(ia(t),ia(e))&&t.limitType===e.limitType}function b$(t){return`${LA(ia(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>y$(i)).join(", ")}]`),Gv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lu(i)).join(",")),`Target(${r})`}(ia(t))}; limitType=${t.limitType})`}function Yv(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Cf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,c){const u=xO(s,l,c);return s.inclusive?u<=0:u<0}(r.startAt,Cf(r),i)||r.endAt&&!function(s,l,c){const u=xO(s,l,c);return s.inclusive?u>=0:u>0}(r.endAt,Cf(r),i))}(t,e)}function aK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w$(t){return(e,n)=>{let r=!1;for(const i of Cf(t)){const a=sK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function sK(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,s,l){const c=s.data.field(a),u=l.data.field(a);return c!==null&&u!==null?ou(c,u):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return i$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=new Yt(Te.comparator);function ts(){return oK}const _$=new Yt(Te.comparator);function of(...t){let e=_$;for(const n of t)e=e.insert(n.key,n);return e}function A$(t){let e=_$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return kf()}function S$(){return kf()}function kf(){return new Rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const lK=new Yt(Te.comparator),cK=new Tn(Te.comparator);function et(...t){let e=cK;for(const n of t)e=e.add(n);return e}const uK=new Tn(Ge);function dK(){return uK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ry(e)?"-0":e}}function j$(t){return{integerValue:""+t}}function fK(t,e){return BW(e)?j$(e):UA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this._=void 0}}function hK(t,e,n){return t instanceof uh?function(i,a){const s={fields:{[o$]:{stringValue:s$},[c$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&DA(a)&&(a=Wv(a)),a&&(s.fields[l$]=a),{mapValue:s}}(n,e):t instanceof dh?T$(t,e):t instanceof fh?N$(t,e):function(i,a){const s=E$(i,a),l=AO(s)+AO(i.Re);return yw(s)&&yw(i.Re)?j$(l):UA(i.serializer,l)}(t,e)}function pK(t,e,n){return t instanceof dh?T$(t,e):t instanceof fh?N$(t,e):n}function E$(t,e){return t instanceof oy?function(r){return yw(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class uh extends Qv{}class dh extends Qv{constructor(e){super(),this.elements=e}}function T$(t,e){const n=O$(e);for(const r of t.elements)n.some(i=>da(i,r))||n.push(r);return{arrayValue:{values:n}}}class fh extends Qv{constructor(e){super(),this.elements=e}}function N$(t,e){let n=O$(e);for(const r of t.elements)n=n.filter(i=>!da(i,r));return{arrayValue:{values:n}}}class oy extends Qv{constructor(e,n){super(),this.serializer=e,this.Re=n}}function AO(t){return ln(t.integerValue||t.doubleValue)}function O$(t){return $A(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n){this.field=e,this.transform=n}}function gK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof dh&&i instanceof dh||r instanceof fh&&i instanceof fh?su(r.elements,i.elements,da):r instanceof oy&&i instanceof oy?da(r.Re,i.Re):r instanceof uh&&i instanceof uh}(t.transform,e.transform)}class yK{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zv{}function C$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new I$(t.key,$i.none()):new vp(t.key,t.data,$i.none());{const n=t.data,r=Tr.empty();let i=new Tn(Wn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new yo(t.key,r,new Wr(i.toArray()),$i.none())}}function vK(t,e,n){t instanceof vp?function(i,a,s){const l=i.value.clone(),c=jO(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof yo?function(i,a,s){if(!hg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=jO(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(k$(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function If(t,e,n,r){return t instanceof vp?function(a,s,l,c){if(!hg(a.precondition,s))return l;const u=a.value.clone(),d=EO(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yo?function(a,s,l,c){if(!hg(a.precondition,s))return l;const u=EO(a.fieldTransforms,c,s),d=s.data;return d.setAll(k$(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,l){return hg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function xK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=E$(r.transform,i||null);a!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,a))}return n||null}function SO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&su(r,i,(a,s)=>gK(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vp extends Zv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yo extends Zv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function k$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jO(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,pK(s,l,n[i]))}return r}function EO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,hK(a,s,e))}return r}class I$ extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bK extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=If(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=If(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S$();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=C$(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(n,r)=>SO(n,r))&&su(this.baseMutations,e.baseMutations,(n,r)=>SO(n,r))}}class VA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return lK}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new VA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,tt;function SK(t){switch(t){case re.OK:return Me(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function P$(t){if(t===void 0)return es("GRPC error has no .code"),re.UNKNOWN;switch(t){case dn.OK:return re.OK;case dn.CANCELLED:return re.CANCELLED;case dn.UNKNOWN:return re.UNKNOWN;case dn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case dn.INTERNAL:return re.INTERNAL;case dn.UNAVAILABLE:return re.UNAVAILABLE;case dn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case dn.NOT_FOUND:return re.NOT_FOUND;case dn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case dn.ABORTED:return re.ABORTED;case dn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case dn.DATA_LOSS:return re.DATA_LOSS;default:return Me(39323,{code:t})}}(tt=dn||(dn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new Ks([4294967295,4294967295],0);function TO(t){const e=t$().encode(t),n=new W6;return n.update(e),new Uint8Array(n.digest())}function NO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,a],0)]}class zA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lf(`Invalid padding: ${n}`);if(r<0)throw new lf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lf(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ks.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return i.compare(jK)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=TO(e),[r,i]=NO(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new zA(a,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const n=TO(e),[r,i]=NO(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jv(Be.min(),i,new Yt(Ge),ts(),et())}}class xp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class R${constructor(e,n){this.targetId=e,this.Ce=n}}class M${constructor(e,n,r=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OO{constructor(){this.Fe=0,this.Me=CO(),this.xe=Xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),n=et(),r=et();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}}),new xp(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=CO()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EK{constructor(e){this.ze=e,this.je=new Map,this.He=ts(),this.Je=bm(),this.Ye=bm(),this.Ze=new Yt(Ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(xw(a))if(r===0){const s=new Te(a.path);this.tt(n,s,nr.newNoDocument(s,Be.min()))}else dt(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=io(r).toUint8Array()}catch(c){if(c instanceof a$)return au("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new zA(s,i,a)}catch(c){return au(c instanceof lf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,s)=>{const l=this._t(s);if(l){if(a.current&&xw(l.target)){const c=new Te(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,nr.newNoDocument(c,e))}a.Le&&(n.set(s,a.qe()),a.Qe())}});let r=et();this.Ye.forEach((a,s)=>{let l=!0;s.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new Jv(e,n,this.Ze,this.He,r);return this.He=ts(),this.Je=bm(),this.Ye=bm(),this.Ze=new Yt(Ge),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new OO,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Tn(Ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Tn(Ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new OO),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function bm(){return new Yt(Te.comparator)}function CO(){return new Yt(Te.comparator)}const TK={asc:"ASCENDING",desc:"DESCENDING"},NK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OK={and:"AND",or:"OR"};class CK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _w(t,e){return t.useProto3Json||Gv(e)?e:{value:e}}function ly(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kK(t,e){return ly(t,e.toTimestamp())}function aa(t){return dt(!!t,49232),Be.fromTimestamp(function(n){const r=ro(n);return new En(r.seconds,r.nanos)}(t))}function FA(t,e){return Aw(t,e).canonicalString()}function Aw(t,e){const n=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $$(t){const e=Dt.fromString(t);return dt(z$(e),10190,{key:e.toString()}),e}function Sw(t,e){return FA(t.databaseId,e.path)}function xb(t,e){const n=$$(e);if(n.get(1)!==t.databaseId.projectId)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(B$(n))}function L$(t,e){return FA(t.databaseId,e)}function IK(t){const e=$$(t);return e.length===4?Dt.emptyPath():B$(e)}function jw(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B$(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kO(t,e,n){return{name:Sw(t,e),fields:n.value.mapValue.fields}}function PK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Me(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(dt(d===void 0||typeof d=="string",58123),Xn.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){const d=u.code===void 0?re.UNKNOWN:P$(u.code);return new be(d,u.message||"")}(s);n=new M$(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xb(t,r.document.name),a=aa(r.document.updateTime),s=r.document.createTime?aa(r.document.createTime):Be.min(),l=new Tr({mapValue:{fields:r.document.fields}}),c=nr.newFoundDocument(i,a,s,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new pg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xb(t,r.document),a=r.readTime?aa(r.readTime):Be.min(),s=nr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new pg([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xb(t,r.document),a=r.removedTargetIds||[];n=new pg([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new AK(i,a),l=r.targetId;n=new R$(l,s)}}return n}function RK(t,e){let n;if(e instanceof vp)n={update:kO(t,e.key,e.value)};else if(e instanceof I$)n={delete:Sw(t,e.key)};else if(e instanceof yo)n={update:kO(t,e.key,e.data),updateMask:FK(e.fieldMask)};else{if(!(e instanceof bK))return Me(16599,{ft:e.type});n={verify:Sw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const l=s.transform;if(l instanceof uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof dh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oy)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw Me(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:kK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(t,e.precondition)),n}function MK(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?aa(i.updateTime):aa(a);return s.isEqual(Be.min())&&(s=aa(a)),new yK(s,i.transformResults||[])}(n,e))):[]}function DK(t,e){return{documents:[L$(t,e.path)]}}function $K(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L$(t,i);const a=function(u){if(u.length!==0)return V$(Ui.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:dc(h.field),direction:UK(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=_w(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function LK(t){let e=IK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(f){const h=U$(f);return h instanceof Ui&&m$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new ch(fc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,Gv(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new sy(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new sy(m,h)}(n.endAt)),rK(e,i,s,a,l,"F",c,u)}function BK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fc(n.unaryFilter.field);return pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fc(n.unaryFilter.field);return pn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return pn.create(fc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ui.create(n.compositeFilter.filters.map(r=>U$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function UK(t){return TK[t]}function VK(t){return NK[t]}function zK(t){return OK[t]}function dc(t){return{fieldPath:t.canonicalString()}}function fc(t){return Wn.fromServerFormat(t.fieldPath)}function V$(t){return t instanceof pn?function(n){if(n.op==="=="){if(vO(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NAN"}};if(yO(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vO(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NAN"}};if(yO(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(n.field),op:VK(n.op),value:n.value}}}(t):t instanceof Ui?function(n){const r=n.getFilters().map(i=>V$(i));return r.length===1?r[0]:{compositeFilter:{op:zK(n.op),filters:r}}}(t):Me(54877,{filter:t})}function FK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,a=Be.min(),s=Be.min(),l=Xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.wt=e}}function qK(t){const e=LK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ww(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.Cn=new WK}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(no.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class WK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tn(Dt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F$=41943040;class jr{static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(F$,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new cu(0)}static lr(){return new cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="LruGarbageCollector",KK=1048576;function RO([t,e],[n,r]){const i=Ge(t,n);return i===0?Ge(e,r):i}class XK{constructor(e){this.Er=e,this.buffer=new Tn(RO),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();RO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){xe(PO,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ed(n)?xe(PO,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.mr(3e5)})}}class QK{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(qv.le);const r=new XK(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(IO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IO):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,s,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),cc()<=Je.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function ZK(t,e){return new QK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(){this.changes=new Rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&If(r.mutation,i,Wr.empty(),En.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const i=Ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=of();return a.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let a=ts();const s=kf(),l=function(){return kf()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof yo)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),If(d.mutation,u,d.mutation.getFieldMask(),En.now())):s.set(u.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new eX(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=kf();let i=new Yt((s,l)=>s-l),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Wr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||et()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=S$();d.forEach(h=>{if(!a.has(h)){const m=C$(n.get(h),r.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ie.resolve(Ho());let l=ah,c=a;return s.next(u=>ie.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(d)?ie.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,et())).next(d=>({batchId:l,changes:A$(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let i=of();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=of();return this.indexManager.getCollectionParents(e,a).next(l=>ie.forEach(l,c=>{const u=function(f,h){return new td(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,nr.newInvalidDocument(d)))});let l=of();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&If(d.mutation,u,Wr.empty(),En.now()),Yv(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:aa(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:qK(i.bundledQuery),readTime:aa(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(){this.overlays=new Yt(Te.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return ie.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Ho(),a=n.length+1,s=new Te(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Yt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=Ho(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ho(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return ie.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _K(n,r));let a=this.Qr.get(n);a===void 0&&(a=et(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.$r=new Tn(Pn.Ur),this.Kr=new Tn(Pn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Pn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Pn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Te(new Dt([])),r=new Pn(n,e),i=new Pn(n,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Te(new Dt([])),r=new Pn(n,e),i=new Pn(n,e+1);let a=et();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Pn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Te.comparator(e.key,n.key)||Ge(e.Zr,n.Zr)}static Wr(e,n){return Ge(e.Zr,n.Zr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Tn(Pn.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wK(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new Pn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?MA:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pn(n,0),i=new Pn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const l=this.ei(s.Zr);a.push(l)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tn(Ge);return n.forEach(i=>{const a=new Pn(i,0),s=new Pn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],l=>{r=r.add(l.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const s=new Pn(new Te(a),0);let l=new Tn(Ge);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Zr)),!0)},s),ie.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(n.mutations,i=>{const a=new Pn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Pn(n,0),i=this.Xr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.ii=e,this.docs=function(){return new Yt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ts();const s=n.path,l=new Te(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||MW(RW(d),r)<=0||(i.has(d.key)||Yv(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}si(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oX(this)}getSize(e){return ie.resolve(this.size)}}class oX extends JK{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e){this.persistence=e,this.oi=new Rl(n=>LA(n),BA),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this._i=0,this.ai=new HA,this.targetCount=0,this.ui=cu.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new cu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n){this.ci={},this.overlays={},this.li=new qv(0),this.hi=!1,this.hi=!0,this.Pi=new iX,this.referenceDelegate=e(this),this.Ti=new lX(this),this.indexManager=new GK,this.remoteDocumentCache=function(i){return new sX(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new HK(n),this.Ei=new nX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new aX(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new cX(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class cX extends $W{constructor(e){super(),this.currentSequenceNumber=e}}class qA{constructor(e){this.persistence=e,this.Vi=new HA,this.mi=null}static fi(e){return new qA(e)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const i=Te.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,Be.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class cy{constructor(e,n){this.persistence=e,this.yi=new Rl(r=>UW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZK(this,n)}static fi(e,n){return new cy(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(l=>{l||(r++,a.removeEntry(s,Be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dg(e.data.value)),n}Dr(e,n,r){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=et(),i=et();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new GA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rH()?8:LW(lr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new uX;return this.Ss(e,n,s).next(l=>{if(a.result=l,this.fs)return this.Ds(e,n,s,l.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(cc()<=Je.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(cc()<=Je.DEBUG&&xe("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(cc()<=Je.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(n))):ie.resolve())}ws(e,n){if(_O(n))return ie.resolve(null);let r=ia(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ww(n,null,"F"),r=ia(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=et(...a);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,s,c.readTime)?this.ws(e,ww(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return _O(n)||i.isEqual(Be.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(n,a);return this.Cs(n,s,r,i)?ie.resolve(null):(cc()<=Je.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.Fs(e,s,n,PW(i,ah)).next(l=>l))})}vs(e,n){let r=new Tn(w$(e));return n.forEach((i,a)=>{Yv(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return cc()<=Je.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",uc(n)),this.ys.getDocumentsMatchingQuery(e,n,no.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="LocalStore",fX=3e8;class hX{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Yt(Ge),this.Os=new Rl(a=>LA(a),BA),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tX(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function pX(t,e,n,r){return new hX(t,e,n,r)}async function q$(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],l=[];let c=et();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:l}))})})}function mX(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let m=ie.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(g=>{const v=u.docVersions.get(y);dt(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=et();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function G$(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function gX(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ti.removeMatchingKeys(a,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(a,d.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Xn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=fX?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&l.push(n.Ti.updateTargetData(a,m))});let c=ts(),u=et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(yX(a,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(Be.min())){const d=n.Ti.getLastRemoteSnapshotVersion(a).next(f=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(d)}return ie.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.xs=i,a))}function yX(t,e,n){let r=et(),i=et();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=ts();return n.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):xe(WA,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function vX(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=MA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xX(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Ms(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Ew(t,e,n){const r=ze(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ed(s))throw s;xe(WA,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function MO(t,e,n){const r=ze(t);let i=Be.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=ze(c),h=f.Os.get(d);return h!==void 0?ie.resolve(f.xs.get(h)):f.Ti.getTargetData(u,d)}(r,s,ia(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:Be.min(),n?a:et())).next(l=>(bX(r,aK(e),l),{documents:l,$s:a})))}function bX(t,e,n){let r=t.Ns.get(e)||Be.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class DO{constructor(){this.activeTargetIds=dK()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wX{constructor(){this.xo=new DO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new DO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="ConnectivityMonitor";class LO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xe($O,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xe($O,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm=null;function Tw(){return wm===null?wm=function(){return 268435456+Math.round(2147483648*Math.random())}():wm++,"0x"+wm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="RestConnection",AX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===iy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const s=Tw(),l=this.jo(e,n.toUriEncodedString());xe(bb,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:u}=new URL(l),d=po(u);return this.Jo(e,l,c,r,d).then(f=>(xe(bb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw au(bb,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",r),f})}Yo(e,n,r,i,a,s){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=AX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="WebChannelConnection";class EX extends SX{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=Tw();return new Promise((l,c)=>{const u=new K6;u.setWithCredentials(!0),u.listenOnce(X6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ug.NO_ERROR:const f=u.getResponseJson();xe(Jn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case ug.TIMEOUT:xe(Jn,`RPC '${e}' ${s} timed out`),c(new be(re.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:const h=u.getStatus();if(xe(Jn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const g=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(y.status);c(new be(g,y.message))}else c(new be(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new be(re.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{xe(Jn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);xe(Jn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}I_(e,n,r){const i=Tw(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Z6(),l=Q6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");xe(Jn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);this.E_(f);let h=!1,m=!1;const y=new jX({Zo:v=>{m?xe(Jn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(xe(Jn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),xe(Jn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Xo:()=>f.close()}),g=(v,b,x)=>{v.listen(b,_=>{try{x(_)}catch(N){setTimeout(()=>{throw N},0)}})};return g(f,sf.EventType.OPEN,()=>{m||(xe(Jn,`RPC '${e}' stream ${i} transport opened.`),y.__())}),g(f,sf.EventType.CLOSE,()=>{m||(m=!0,xe(Jn,`RPC '${e}' stream ${i} transport closed`),y.u_(),this.d_(f))}),g(f,sf.EventType.ERROR,v=>{m||(m=!0,au(Jn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),y.u_(new be(re.UNAVAILABLE,"The operation could not be completed")))}),g(f,sf.EventType.MESSAGE,v=>{var b;if(!m){const x=v.data[0];dt(!!x,16349);const _=x,N=(_==null?void 0:_.error)||((b=_[0])===null||b===void 0?void 0:b.error);if(N){xe(Jn,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let E=function(O){const I=dn[O];if(I!==void 0)return P$(I)}(A),w=N.message;E===void 0&&(E=re.INTERNAL,w="Unknown error status: "+A+" with message "+N.message),m=!0,y.u_(new be(E,w)),f.close()}else xe(Jn,`RPC '${e}' stream ${i} received:`,x),y.c_(x)}}),g(l,Y6.STAT_EVENT,v=>{v.stat===pw.PROXY?xe(Jn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===pw.NOPROXY&&xe(Jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.a_()},0),y}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function wb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){return new CK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="PersistentStream";class K${constructor(e,n,r,i,a,s,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new W$(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new be(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return xe(BO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(xe(BO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TX extends K${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=PK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Be.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Be.min():s.readTime?aa(s.readTime):Be.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=jw(this.serializer),n.addTarget=function(a,s){let l;const c=s.target;if(l=xw(c)?{documents:DK(a,c)}:{query:$K(a,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=D$(a,s.resumeToken);const u=_w(a,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(Be.min())>0){l.readTime=ly(a,s.snapshotVersion.toTimestamp());const u=_w(a,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=BK(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=jw(this.serializer),n.removeTarget=e,this.Q_(n)}}class NX extends K${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=MK(e.writeResults,e.commitTime),r=aa(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=jw(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RK(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{}class CX extends OX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,Aw(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(re.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,Aw(n,r),i,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(re.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(es(n),this.ua=!1):xe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="RemoteStore";class IX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(s=>{r.enqueueAndForget(async()=>{Ml(this)&&(xe(gl,"Restarting streams for network reachability change."),await async function(c){const u=ze(c);u.da.add(4),await bp(u),u.Va.set("Unknown"),u.da.delete(4),await t0(u)}(this))})}),this.Va=new kX(r,i)}}async function t0(t){if(Ml(t))for(const e of t.Aa)await e(!0)}async function bp(t){for(const e of t.Aa)await e(!1)}function X$(t,e){const n=ze(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),QA(n)?YA(n):nd(n).N_()&&XA(n,e))}function KA(t,e){const n=ze(t),r=nd(n);n.Ea.delete(e),r.N_()&&Y$(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ml(n)&&n.Va.set("Unknown"))}function XA(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nd(t).Z_(e)}function Y$(t,e){t.ma.Ke(e),nd(t).X_(e)}function YA(t){t.ma=new EK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),nd(t).start(),t.Va.ca()}function QA(t){return Ml(t)&&!nd(t).O_()&&t.Ea.size>0}function Ml(t){return ze(t).da.size===0}function Q$(t){t.ma=void 0}async function PX(t){t.Va.set("Online")}async function RX(t){t.Ea.forEach((e,n)=>{XA(t,e)})}async function MX(t,e){Q$(t),QA(t)?(t.Va.Pa(e),YA(t)):t.Va.set("Unknown")}async function DX(t,e,n){if(t.Va.set("Online"),e instanceof M$&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){xe(gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uy(t,r)}else if(e instanceof pg?t.ma.Xe(e):e instanceof R$?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Be.min()))try{const r=await G$(t.localStore);n.compareTo(r)>=0&&await function(a,s){const l=a.ma.It(s);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ea.get(u);d&&a.Ea.set(u,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ea.get(c);if(!d)return;a.Ea.set(c,d.withResumeToken(Xn.EMPTY_BYTE_STRING,d.snapshotVersion)),Y$(a,c);const f=new Ms(d.target,c,u,d.sequenceNumber);XA(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){xe(gl,"Failed to raise snapshot:",r),await uy(t,r)}}async function uy(t,e,n){if(!ed(e))throw e;t.da.add(1),await bp(t),t.Va.set("Offline"),n||(n=()=>G$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(gl,"Retrying IndexedDB access"),await n(),t.da.delete(1),await t0(t)})}function Z$(t,e){return e().catch(n=>uy(t,n,e))}async function n0(t){const e=ze(t),n=so(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:MA;for(;$X(e);)try{const i=await vX(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,LX(e,i)}catch(i){await uy(e,i)}J$(e)&&e3(e)}function $X(t){return Ml(t)&&t.Ia.length<10}function LX(t,e){t.Ia.push(e);const n=so(t);n.N_()&&n.ea&&n.ta(e.mutations)}function J$(t){return Ml(t)&&!so(t).O_()&&t.Ia.length>0}function e3(t){so(t).start()}async function BX(t){so(t).ia()}async function UX(t){const e=so(t);for(const n of t.Ia)e.ta(n.mutations)}async function VX(t,e,n){const r=t.Ia.shift(),i=VA.from(r,e,n);await Z$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await n0(t)}async function zX(t,e){e&&so(t).ea&&await async function(r,i){if(function(s){return SK(s)&&s!==re.ABORTED}(i.code)){const a=r.Ia.shift();so(r).L_(),await Z$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await n0(r)}}(t,e),J$(t)&&e3(t)}async function UO(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),xe(gl,"RemoteStore received new credentials");const r=Ml(n);n.da.add(3),await bp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await t0(n)}async function FX(t,e){const n=ze(t);e?(n.da.delete(2),await t0(n)):e||(n.da.add(2),await bp(n),n.Va.set("Unknown"))}function nd(t){return t.fa||(t.fa=function(n,r,i){const a=ze(n);return a.oa(),new TX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:PX.bind(null,t),n_:RX.bind(null,t),i_:MX.bind(null,t),Y_:DX.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),QA(t)?YA(t):t.Va.set("Unknown")):(await t.fa.stop(),Q$(t))})),t.fa}function so(t){return t.ga||(t.ga=function(n,r,i){const a=ze(n);return a.oa(),new NX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:BX.bind(null,t),i_:zX.bind(null,t),na:UX.bind(null,t),ra:VX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await n0(t)):(await t.ga.stop(),t.Ia.length>0&&(xe(gl,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new ZA(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JA(t,e){if(es("AsyncQueue",`${e}: ${t}`),ed(t))return new be(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{static emptySet(e){return new zc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=of(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.pa=new Yt(Te.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class uu{constructor(e,n,r,i,a,s,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new uu(e,n,zc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class qX{constructor(){this.queries=zO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),a=i.queries;i.queries=zO(),a.forEach((s,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new be(re.ABORTED,"Firestore shutting down"))}}function zO(){return new Rl(t=>b$(t),Xv)}async function eS(t,e){const n=ze(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new HX,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=JA(s,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&nS(n)}async function tS(t,e){const n=ze(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GX(t,e){const n=ze(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Ma(i)&&(r=!0);s.ba=i}}r&&nS(n)}function WX(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function nS(t){t.Ca.forEach(e=>{e.next()})}var Nw,FO;(FO=Nw||(Nw={})).xa="default",FO.Cache="cache";class rS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Nw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.key=e}}class n3{constructor(e){this.key=e}}class KX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.Za=w$(e),this.Xa=new zc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new VO,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Yv(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.ru(h,m)||(r.track({type:2,doc:m}),v=!0,(c&&this.Za(m,c)>0||u&&this.Za(m,u)<0)&&(l=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(l=!0)),v&&(m?(s=s.add(m),a=g?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Xa:s,nu:r,Cs:l,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:v})}};return g(m)-g(y)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,s.length!==0||u?{snapshot:new uu(this.query,e.Xa,a,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new VO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new n3(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new t3(r))}),n}au(e){this.Ha=e.$s,this.Ya=et();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return uu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const iS="SyncEngine";class XX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YX{constructor(e){this.key=e,this.cu=!1}}class QX{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Rl(l=>b$(l),Xv),this.Pu=new Map,this.Tu=new Set,this.Iu=new Yt(Te.comparator),this.Eu=new Map,this.du=new HA,this.Au={},this.Ru=new Map,this.Vu=cu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ZX(t,e,n=!0){const r=l3(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await r3(r,e,n,!0),i}async function JX(t,e){const n=l3(t);await r3(n,e,!0,!1)}async function r3(t,e,n,r){const i=await xX(t.localStore,ia(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await eY(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&X$(t.remoteStore,i),l}async function eY(t,e,n,r,i){t.fu=(f,h,m)=>async function(g,v,b,x){let _=v.view.tu(b);_.Cs&&(_=await MO(g.localStore,v.query,!1).then(({documents:w})=>v.view.tu(w,_)));const N=x&&x.targetChanges.get(v.targetId),A=x&&x.targetMismatches.get(v.targetId)!=null,E=v.view.applyChanges(_,g.isPrimaryClient,N,A);return qO(g,v.targetId,E.ou),E.snapshot}(t,f,h,m);const a=await MO(t.localStore,e,!0),s=new KX(e,a.$s),l=s.tu(a.documents),c=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(l,t.isPrimaryClient,c);qO(t,n,u.ou);const d=new XX(e,n,s);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function tY(t,e,n){const r=ze(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(s=>!Xv(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ew(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KA(r.remoteStore,i.targetId),Ow(r,i.targetId)}).catch(Ju)):(Ow(r,i.targetId),await Ew(r.localStore,i.targetId,!0))}async function nY(t,e){const n=ze(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KA(n.remoteStore,r.targetId))}async function rY(t,e,n){const r=uY(t);try{const i=await function(s,l){const c=ze(s),u=En.now(),d=l.reduce((m,y)=>m.add(y.key),et());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ts(),g=et();return c.Bs.getEntries(m,d).next(v=>{y=v,y.forEach((b,x)=>{x.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const b=[];for(const x of l){const _=xK(x,f.get(x.key).overlayedDocument);_!=null&&b.push(new yo(x.key,_,f$(_.value.mapValue),$i.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,b,l)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:A$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let u=s.Au[s.currentUser.toKey()];u||(u=new Yt(Ge)),u=u.insert(l,c),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await wp(r,i.changes),await n0(r.remoteStore)}catch(i){const a=JA(i,"Failed to persist write");n.reject(a)}}async function i3(t,e){const n=ze(t);try{const r=await gX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Eu.get(a);s&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?dt(s.cu,14607):i.removedDocuments.size>0&&(dt(s.cu,42227),s.cu=!1))}),await wp(n,r,e)}catch(r){await Ju(r)}}function HO(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,s)=>{const l=s.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=ze(s);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.Fa(l)&&(u=!0)}),u&&nS(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iY(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new Yt(Te.comparator);s=s.insert(a,nr.newNoDocument(a,Be.min()));const l=et().add(a),c=new Jv(Be.min(),new Map,new Yt(Ge),s,l);await i3(r,c),r.Iu=r.Iu.remove(a),r.Eu.delete(e),aS(r)}else await Ew(r.localStore,e,!1).then(()=>Ow(r,e,n)).catch(Ju)}async function aY(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await mX(n.localStore,e);s3(n,r,null),a3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wp(n,i)}catch(i){await Ju(i)}}async function sY(t,e,n){const r=ze(t);try{const i=await function(s,l){const c=ze(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(dt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);s3(r,e,n),a3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wp(r,i)}catch(i){await Ju(i)}}function a3(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function s3(t,e,n){const r=ze(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Ow(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||o3(t,r)})}function o3(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(KA(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),aS(t))}function qO(t,e,n){for(const r of n)r instanceof t3?(t.du.addReference(r.key,e),oY(t,r)):r instanceof n3?(xe(iS,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||o3(t,r.key)):Me(19791,{pu:r})}function oY(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(xe(iS,"New document in limbo: "+n),t.Tu.add(r),aS(t))}function aS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Te(Dt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new YX(n)),t.Iu=t.Iu.insert(n,r),X$(t.remoteStore,new Ms(ia(Kv(n.path)),r,"TargetPurposeLimboResolution",qv.le))}}async function wp(t,e,n){const r=ze(t),i=[],a=[],s=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{s.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=GA.Rs(c.targetId,u);a.push(f)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(c,u){const d=ze(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(u,h=>ie.forEach(h.ds,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ie.forEach(h.As,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!ed(f))throw f;xe(WA,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.xs.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.xs=d.xs.insert(h,g)}}}(r.localStore,a))}async function lY(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){xe(iS,"User change. New user:",e.toKey());const r=await q$(n.localStore,e);n.currentUser=e,function(a,s){a.Ru.forEach(l=>{l.forEach(c=>{c.reject(new be(re.CANCELLED,s))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wp(n,r.ks)}}function cY(t,e){const n=ze(t),r=n.Eu.get(e);if(r&&r.cu)return et().add(r.key);{let i=et();const a=n.Pu.get(e);if(!a)return i;for(const s of a){const l=n.hu.get(s);i=i.unionWith(l.view.eu)}return i}}function l3(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iY.bind(null,e),e.lu.Y_=GX.bind(null,e.eventManager),e.lu.gu=WX.bind(null,e.eventManager),e}function uY(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sY.bind(null,e),e}class dy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=e0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return pX(this.persistence,new dX,e.initialUser,this.serializer)}Su(e){return new H$(qA.fi,this.serializer)}bu(e){return new wX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dy.provider={build:()=>new dy};class dY extends dy{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){dt(this.persistence.referenceDelegate instanceof cy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YK(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new H$(r=>cy.fi(r,n),this.serializer)}}class Cw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lY.bind(null,this.syncEngine),await FX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qX}()}createDatastore(e){const n=e0(e.databaseInfo.databaseId),r=function(a){return new EX(a)}(e.databaseInfo);return function(a,s,l,c){return new CX(a,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,l){return new IX(r,i,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>HO(this.syncEngine,n,0),function(){return LO.C()?new LO:new _X}())}createSyncEngine(e,n){return function(i,a,s,l,c,u,d){const f=new QX(i,a,s,l,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ze(i);xe(gl,"RemoteStore shutting down."),a.da.add(5),await bp(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cw.provider={build:()=>new Cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="FirestoreClient";class fY{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tr.UNAUTHENTICATED,this.clientId=n$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{xe(oo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xe(oo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=JA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _b(t,e){t.asyncQueue.verifyOperationInProgress(),xe(oo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await q$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hY(t);xe(oo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>UO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>UO(e.remoteStore,i)),t._onlineComponents=e}async function hY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(oo,"Using user provided OfflineComponentProvider");try{await _b(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await _b(t,new dy)}}else xe(oo,"Using default OfflineComponentProvider"),await _b(t,new dY(void 0));return t._offlineComponents}async function c3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(oo,"Using user provided OnlineComponentProvider"),await GO(t,t._uninitializedComponentsProvider._online)):(xe(oo,"Using default OnlineComponentProvider"),await GO(t,new Cw))),t._onlineComponents}function pY(t){return c3(t).then(e=>e.syncEngine)}async function fy(t){const e=await c3(t),n=e.eventManager;return n.onListen=ZX.bind(null,e.syncEngine),n.onUnlisten=tY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nY.bind(null,e.syncEngine),n}function mY(t,e,n={}){const r=new Fa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,u){const d=new sS({next:h=>{d.xu(),s.enqueueAndForget(()=>tS(a,f));const m=h.docs.has(l);!m&&h.fromCache?u.reject(new be(re.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new be(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new rS(Kv(l.path),d,{includeMetadataChanges:!0,Qa:!0});return eS(a,f)}(await fy(t),t.asyncQueue,e,n,r)),r.promise}function gY(t,e,n={}){const r=new Fa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,u){const d=new sS({next:h=>{d.xu(),s.enqueueAndForget(()=>tS(a,f)),h.fromCache&&c.source==="server"?u.reject(new be(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new rS(l,d,{includeMetadataChanges:!0,Qa:!0});return eS(a,f)}(await fy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){if(!n)throw new be(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yY(t,e,n,r){if(e===!0&&r===!0)throw new be(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KO(t){if(!Te.isDocumentKey(t))throw new be(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XO(t){if(Te.isDocumentKey(t))throw new be(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function r0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r0(t);throw new be(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firestore.googleapis.com",YO=!0;class QO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f3,this.ssl=YO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KK)throw new be(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class i0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SW;switch(r.type){case"firstParty":return new NW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WO.get(n);r&&(xe("ComponentProvider","Removing Datastore"),WO.delete(n),r.terminate())}(this),Promise.resolve()}}function vY(t,e,n,r={}){var i;t=Jr(t,i0);const a=po(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(bA(`https://${c}`),wA("Firestore",!0)),s.host!==f3&&s.host!==c&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!to(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=tr.MOCK_USER;else{d=o6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tr(h)}t._authCredentials=new jW(new e$(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class or{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class Xs extends vo{constructor(e,n,r){super(e,n,Kv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Te(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Ot(t,e,...n){if(t=qt(t),d3("collection","path",e),t instanceof i0){const r=Dt.fromString(e,...n);return XO(r),new Xs(t,null,r)}{if(!(t instanceof or||t instanceof Xs))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return XO(r),new Xs(t.firestore,null,r)}}function sr(t,e,...n){if(t=qt(t),arguments.length===1&&(e=n$.newId()),d3("doc","path",e),t instanceof i0){const r=Dt.fromString(e,...n);return KO(r),new or(t,null,new Te(r))}{if(!(t instanceof or||t instanceof Xs))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return KO(r),new or(t.firestore,t instanceof Xs?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="AsyncQueue";class JO{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new W$(this,"async_queue_retry"),this.rc=()=>{const r=wb();r&&xe(ZO,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=wb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=wb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Fa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ed(e))throw e;xe(ZO,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,es("INTERNAL UNHANDLED ERROR: ",eC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=ZA.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Me(47125,{cc:eC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function eC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class lo extends i0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JO(e),this._firestoreClient=void 0,await e}}}function xY(t,e){const n=typeof t=="object"?t:Vv(),r=typeof t=="string"?t:iy,i=mo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=i6("firestore");a&&vY(i,...a)}return i}function a0(t){if(t._terminated)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bY(t),t._firestoreClient}function bY(t){var e,n,r;const i=t._freezeSettings(),a=function(l,c,u,d){return new FW(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,u3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fY(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new du(Xn.fromBase64String(e))}catch(n){throw new be(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new du(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=/^__.*__$/;class _Y{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new vp(e,this.data,n,this.fieldTransforms)}}class h3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:t})}}class cS{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new cS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return hy(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(p3(this.Ic)&&wY.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class AY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||e0(e)}bc(e,n,r,i=!1){return new cS({Ic:e,methodName:n,wc:r,path:Wn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l0(t){const e=t._freezeSettings(),n=e0(t._databaseId);return new AY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m3(t,e,n,r,i,a={}){const s=t.bc(a.merge||a.mergeFields?2:0,e,n,i);dS("Data must be an object, but it was:",s,r);const l=g3(r,s);let c,u;if(a.merge)c=new Wr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=kw(e,f,n);if(!s.contains(h))throw new be(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v3(d,h)||d.push(h)}c=new Wr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new _Y(new Tr(l),c,u)}class c0 extends o0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c0}}class uS extends o0{_toFieldTransform(e){return new mK(e.path,new uh)}isEqual(e){return e instanceof uS}}function SY(t,e,n,r){const i=t.bc(1,e,n);dS("Data must be an object, but it was:",i,r);const a=[],s=Tr.empty();go(r,(c,u)=>{const d=fS(e,c,n);u=qt(u);const f=i.mc(d);if(u instanceof c0)a.push(d);else{const h=_p(u,f);h!=null&&(a.push(d),s.set(d,h))}});const l=new Wr(a);return new h3(s,l,i.fieldTransforms)}function jY(t,e,n,r,i,a){const s=t.bc(1,e,n),l=[kw(e,r,n)],c=[i];if(a.length%2!=0)throw new be(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)l.push(kw(e,a[h])),c.push(a[h+1]);const u=[],d=Tr.empty();for(let h=l.length-1;h>=0;--h)if(!v3(u,l[h])){const m=l[h];let y=c[h];y=qt(y);const g=s.mc(m);if(y instanceof c0)u.push(m);else{const v=_p(y,g);v!=null&&(u.push(m),d.set(m,v))}}const f=new Wr(u);return new h3(d,f,s.fieldTransforms)}function EY(t,e,n,r=!1){return _p(n,t.bc(r?4:3,e))}function _p(t,e){if(y3(t=qt(t)))return dS("Unsupported field value:",e,t),g3(t,e);if(t instanceof o0)return function(r,i){if(!p3(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const l of r){let c=_p(l,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=En.fromDate(r);return{timestampValue:ly(i.serializer,a)}}if(r instanceof En){const a=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ly(i.serializer,a)}}if(r instanceof oS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof du)return{bytesValue:D$(i.serializer,r._byteString)};if(r instanceof or){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:FA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lS)return function(s,l){return{mapValue:{fields:{[u$]:{stringValue:d$},[ay]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return UA(l.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${r0(r)}`)}(t,e)}function g3(t,e){const n={};return i$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,i)=>{const a=_p(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function y3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof En||t instanceof oS||t instanceof du||t instanceof or||t instanceof o0||t instanceof lS)}function dS(t,e,n){if(!y3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=r0(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function kw(t,e,n){if((e=qt(e))instanceof s0)return e._internalPath;if(typeof e=="string")return fS(t,e);throw hy("Field path arguments must be of type string or ",t,!1,void 0,n)}const TY=new RegExp("[~\\*/\\[\\]]");function fS(t,e,n){if(e.search(TY)>=0)throw hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new s0(...e.split("."))._internalPath}catch{throw hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hy(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new be(re.INVALID_ARGUMENT,l+t+c)}function v3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NY extends x3{data(){return super.data()}}function u0(t,e){return typeof e=="string"?fS(t,e):e instanceof s0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hS{}class w3 extends hS{}function wn(t,e,...n){let r=[];e instanceof hS&&r.push(e),r=r.concat(n),function(a){const s=a.filter(c=>c instanceof pS).length,l=a.filter(c=>c instanceof d0).length;if(s>1||s>0&&l>0)throw new be(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class d0 extends w3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new d0(e,n,r)}_apply(e){const n=this._parse(e);return _3(e._query,n),new vo(e.firestore,e.converter,bw(e._query,n))}_parse(e){const n=l0(e.firestore);return function(a,s,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new be(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){rC(f,d);const y=[];for(const g of f)y.push(nC(c,a,g));h={arrayValue:{values:y}}}else h=nC(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rC(f,d),h=EY(l,s,f,d==="in"||d==="not-in");return pn.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sn(t,e,n){const r=e,i=u0("where",t);return d0._create(i,r,n)}class pS extends hS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)_3(s,c),s=bw(s,c)}(e._query,n),new vo(e.firestore,e.converter,bw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mS extends w3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mS(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new be(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ch(a,s)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new td(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Ap(t,e="asc"){const n=e,r=u0("orderBy",t);return mS._create(r,n)}function nC(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new be(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x$(e)&&n.indexOf("/")!==-1)throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Te.isDocumentKey(r))throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gO(t,new Te(r))}if(n instanceof or)return gO(t,n._key);throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r0(n)}.`)}function rC(t,e){if(!Array.isArray(t)||t.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _3(t,e){const n=function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OY{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ay].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ln(s.doubleValue));return new lS(a)}convertGeoPoint(e){return new oS(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const n=ro(e);return new En(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);dt(z$(r),9688,{name:e});const i=new oh(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return i.isEqual(n)||es(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S3 extends x3{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mg extends S3{data(e={}){return super.data(e)}}class j3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mg(this._firestore,this._userDataWriter,r.key,r,new cf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const c=new mg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new cf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new mg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new cf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:CY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t){t=Jr(t,or);const e=Jr(t.firestore,lo);return mY(a0(e),t._key).then(n=>T3(e,t,n))}class gS extends OY{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,n)}}function Kt(t){t=Jr(t,vo);const e=Jr(t.firestore,lo),n=a0(e),r=new gS(e);return b3(t._query),gY(n,t._query).then(i=>new j3(e,r,t,i))}function iC(t,e,n){t=Jr(t,or);const r=Jr(t.firestore,lo),i=A3(t.converter,e,n);return yS(r,[m3(l0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$i.none())])}function Nr(t,e,n,...r){t=Jr(t,or);const i=Jr(t.firestore,lo),a=l0(i);let s;return s=typeof(e=qt(e))=="string"||e instanceof s0?jY(a,"updateDoc",t._key,e,n,r):SY(a,"updateDoc",t._key,e),yS(i,[s.toMutation(t._key,$i.exists(!0))])}function hh(t,e){const n=Jr(t.firestore,lo),r=sr(t),i=A3(t.converter,e);return yS(n,[m3(l0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$i.exists(!1))]).then(()=>r)}function E3(t,...e){var n,r,i;t=qt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||tC(e[s])||(a=e[s],s++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(tC(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof or)u=Jr(t.firestore,lo),d=Kv(t._key.path),c={next:f=>{e[s]&&e[s](T3(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Jr(t,vo);u=Jr(f.firestore,lo),d=f._query;const h=new gS(u);c={next:m=>{e[s]&&e[s](new j3(u,h,f,m))},error:e[s+1],complete:e[s+2]},b3(t._query)}return function(h,m,y,g){const v=new sS(g),b=new rS(m,v,y);return h.asyncQueue.enqueueAndForget(async()=>eS(await fy(h),b)),()=>{v.xu(),h.asyncQueue.enqueueAndForget(async()=>tS(await fy(h),b))}}(a0(u),d,l,c)}function yS(t,e){return function(r,i){const a=new Fa;return r.asyncQueue.enqueueAndForget(async()=>rY(await pY(r),i,a)),a.promise}(a0(t),e)}function T3(t,e,n){const r=n.docs.get(e._key),i=new gS(t);return new S3(t,i,e._key,r,new cf(n.hasPendingWrites,n.fromCache),e.converter)}function f0(){return new uS("serverTimestamp")}(function(e,n=!0){(function(i){Zu=i})(Pl),Bi(new bi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new lo(new EW(r.getProvider("auth-internal")),new OW(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new be(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(u.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Cr(iO,aO,e),Cr(iO,aO,"esm2017")})();var IY="firebase",PY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(IY,PY,"app");const N3="@firebase/installations",vS="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e4,C3=`w:${vS}`,k3="FIS_v2",RY="https://firebaseinstallations.googleapis.com/v1",MY=60*60*1e3,DY="installations",$Y="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yl=new Il(DY,$Y,LY);function I3(t){return t instanceof _i&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3({projectId:t}){return`${RY}/projects/${t}/installations`}function R3(t){return{token:t.token,requestStatus:2,expiresIn:UY(t.expiresIn),creationTime:Date.now()}}async function M3(t,e){const r=(await e.json()).error;return yl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function D3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BY(t,{refreshToken:e}){const n=D3(t);return n.append("Authorization",VY(e)),n}async function $3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function UY(t){return Number(t.replace("s","000"))}function VY(t){return`${k3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=P3(t),i=D3(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:k3,appId:t.appId,sdkVersion:C3},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await $3(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:R3(u.authToken)}}else throw await M3("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=/^[cdef][\w-]{21}$/,Iw="";function qY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=GY(t);return HY.test(n)?n:Iw}catch{return Iw}}function GY(t){return FY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Map;function U3(t,e){const n=h0(t);V3(n,e),WY(n,e)}function V3(t,e){const n=B3.get(t);if(n)for(const r of n)r(e)}function WY(t,e){const n=KY();n&&n.postMessage({key:t,fid:e}),XY()}let qo=null;function KY(){return!qo&&"BroadcastChannel"in self&&(qo=new BroadcastChannel("[Firebase] FID Change"),qo.onmessage=t=>{V3(t.data.key,t.data.fid)}),qo}function XY(){B3.size===0&&qo&&(qo.close(),qo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY="firebase-installations-database",QY=1,vl="firebase-installations-store";let Ab=null;function xS(){return Ab||(Ab=h6(YY,QY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vl)}}})),Ab}async function py(t,e){const n=h0(t),i=(await xS()).transaction(vl,"readwrite"),a=i.objectStore(vl),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&U3(t,e.fid),e}async function z3(t){const e=h0(t),r=(await xS()).transaction(vl,"readwrite");await r.objectStore(vl).delete(e),await r.done}async function p0(t,e){const n=h0(t),i=(await xS()).transaction(vl,"readwrite"),a=i.objectStore(vl),s=await a.get(n),l=e(s);return l===void 0?await a.delete(n):await a.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&U3(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t){let e;const n=await p0(t.appConfig,r=>{const i=ZY(r),a=JY(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Iw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZY(t){const e=t||{fid:qY(),registrationStatus:0};return F3(e)}function JY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(yl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tQ(t)}:{installationEntry:e}}async function eQ(t,e){try{const n=await zY(t,e);return py(t.appConfig,n)}catch(n){throw I3(n)&&n.customData.serverCode===409?await z3(t.appConfig):await py(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tQ(t){let e=await aC(t.appConfig);for(;e.registrationStatus===1;)await L3(100),e=await aC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bS(t);return r||n}return e}function aC(t){return p0(t,e=>{if(!e)throw yl.create("installation-not-found");return F3(e)})}function F3(t){return nQ(t)?{fid:t.fid,registrationStatus:0}:t}function nQ(t){return t.registrationStatus===1&&t.registrationTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rQ({appConfig:t,heartbeatServiceProvider:e},n){const r=iQ(t,n),i=BY(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:C3,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await $3(()=>fetch(r,l));if(c.ok){const u=await c.json();return R3(u)}else throw await M3("Generate Auth Token",c)}function iQ(t,{fid:e}){return`${P3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t,e=!1){let n;const r=await p0(t.appConfig,a=>{if(!H3(a))throw yl.create("not-registered");const s=a.authToken;if(!e&&oQ(s))return a;if(s.requestStatus===1)return n=aQ(t,e),a;{if(!navigator.onLine)throw yl.create("app-offline");const l=cQ(a);return n=sQ(t,l),l}});return n?await n:r.authToken}async function aQ(t,e){let n=await sC(t.appConfig);for(;n.authToken.requestStatus===1;)await L3(100),n=await sC(t.appConfig);const r=n.authToken;return r.requestStatus===0?wS(t,e):r}function sC(t){return p0(t,e=>{if(!H3(e))throw yl.create("not-registered");const n=e.authToken;return uQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sQ(t,e){try{const n=await rQ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await py(t.appConfig,r),n}catch(n){if(I3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z3(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await py(t.appConfig,r)}throw n}}function H3(t){return t!==void 0&&t.registrationStatus===2}function oQ(t){return t.requestStatus===2&&!lQ(t)}function lQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+MY}function cQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function uQ(t){return t.requestStatus===1&&t.requestTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await bS(e);return r?r.catch(console.error):wS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fQ(t,e=!1){const n=t;return await hQ(n),(await wS(n,e)).token}async function hQ(t){const{registrationPromise:e}=await bS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(t){if(!t||!t.options)throw Sb("App Configuration");if(!t.name)throw Sb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sb(t){return yl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="installations",mQ="installations-internal",gQ=t=>{const e=t.getProvider("app").getImmediate(),n=pQ(e),r=mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yQ=t=>{const e=t.getProvider("app").getImmediate(),n=mo(e,q3).getImmediate();return{getId:()=>dQ(n),getToken:i=>fQ(n,i)}};function vQ(){Bi(new bi(q3,gQ,"PUBLIC")),Bi(new bi(mQ,yQ,"PRIVATE"))}vQ();Cr(N3,vS);Cr(N3,vS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="analytics",xQ="firebase_id",bQ="origin",wQ=60*1e3,_Q="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_S="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Uv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new Il("analytics","Analytics",AQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(t){if(!t.startsWith(_S)){const e=ei.create("invalid-gtag-resource",{gtagURL:t});return kr.warn(e.message),""}return t}function G3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function EQ(t,e){const n=jQ("firebase-js-sdk-policy",{createScriptURL:SQ}),r=document.createElement("script"),i=`${_S}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function NQ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const c=(await G3(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){kr.error(l)}t("config",i,a)}async function OQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await G3(n);for(const c of s){const u=l.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){kr.error(a)}}function CQ(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[l,c]=s;await OQ(t,e,n,l,c)}else if(a==="config"){const[l,c]=s;await NQ(t,e,n,r,l,c)}else if(a==="consent"){const[l,c]=s;t("consent",l,c)}else if(a==="get"){const[l,c,u]=s;t("get",l,c,u)}else if(a==="set"){const[l]=s;t("set",l)}else t(a,...s)}catch(l){kr.error(l)}}return i}function kQ(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=CQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function IQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_S)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=30,RQ=1e3;class MQ{constructor(e={},n=RQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const W3=new MQ;function DQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $Q(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:DQ(r)},a=_Q.replace("{app-id}",n),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function LQ(t,e=W3,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw ei.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ei.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new VQ;return setTimeout(async()=>{l.abort()},wQ),K3({appId:r,apiKey:i,measurementId:a},s,l,e)}async function K3(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=W3){var a;const{appId:s,measurementId:l}=t;try{await BQ(r,e)}catch(c){if(l)return kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:l};throw c}try{const c=await $Q(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!UQ(u)){if(i.deleteThrottleMetadata(s),l)return kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:l};throw c}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?kN(n,i.intervalMillis,PQ):kN(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,f),kr.debug(`Calling attemptFetch again in ${d} millis`),K3(t,f,r,i)}}function BQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UQ(t){if(!(t instanceof _i)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zQ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s=Object.assign(Object.assign({},r),{send_to:a});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(){if(c6())try{await u6()}catch(t){return kr.warn(ei.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kr.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HQ(t,e,n,r,i,a,s){var l;const c=LQ(t);c.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&kr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>kr.error(m)),e.push(c);const u=FQ().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([c,u]);IQ(a)||EQ(a,d.measurementId),i("js",new Date);const h=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return h[bQ]="firebase",h.update=!0,f!=null&&(h[xQ]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e){this.app=e}_delete(){return delete Pf[this.app.options.appId],Promise.resolve()}}let Pf={},oC=[];const lC={};let jb="dataLayer",GQ="gtag",cC,X3,uC=!1;function WQ(){const t=[];if(l6()&&t.push("This is a browser extension environment."),iH()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ei.create("invalid-analytics-context",{errorInfo:e});kr.warn(n.message)}}function KQ(t,e,n){WQ();const r=t.options.appId;if(!r)throw ei.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(Pf[r]!=null)throw ei.create("already-exists",{id:r});if(!uC){TQ(jb);const{wrappedGtag:a,gtagCore:s}=kQ(Pf,oC,lC,jb,GQ);X3=a,cC=s,uC=!0}return Pf[r]=HQ(t,oC,lC,e,cC,jb,n),new qQ(t)}function XQ(t=Vv()){t=qt(t);const e=mo(t,my);return e.isInitialized()?e.getImmediate():YQ(t)}function YQ(t,e={}){const n=mo(t,my);if(n.isInitialized()){const i=n.getImmediate();if(to(e,n.getOptions()))return i;throw ei.create("already-initialized")}return n.initialize({options:e})}function QQ(t,e,n,r){t=qt(t),zQ(X3,Pf[t.app.options.appId],e,n,r).catch(i=>kr.error(i))}const dC="@firebase/analytics",fC="0.10.16";function ZQ(){Bi(new bi(my,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return KQ(r,i,n)},"PUBLIC")),Bi(new bi("analytics-internal",t,"PRIVATE")),Cr(dC,fC),Cr(dC,fC,"esm2017");function t(e){try{const n=e.getProvider(my).getImmediate();return{logEvent:(r,i,a)=>QQ(n,r,i,a)}}catch(n){throw ei.create("interop-component-reg-failed",{reason:n})}}}ZQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="firebasestorage.googleapis.com",Q3="storageBucket",JQ=2*60*1e3,eZ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends _i{constructor(e,n,r=0){super(Eb(e),`Firebase Storage: ${n} (${Eb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rn||(rn={}));function Eb(t){return"storage/"+t}function AS(){const t="An unknown error occurred, please check the error payload for server response.";return new an(rn.UNKNOWN,t)}function tZ(t){return new an(rn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nZ(t){return new an(rn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rZ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an(rn.UNAUTHENTICATED,t)}function iZ(){return new an(rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aZ(t){return new an(rn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sZ(){return new an(rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oZ(){return new an(rn.CANCELED,"User canceled the upload/download.")}function lZ(t){return new an(rn.INVALID_URL,"Invalid URL '"+t+"'.")}function cZ(t){return new an(rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uZ(){return new an(rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q3+"' property when initializing the app?")}function dZ(){return new an(rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fZ(){return new an(rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hZ(t){return new an(rn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pw(t){return new an(rn.INVALID_ARGUMENT,t)}function Z3(){return new an(rn.APP_DELETED,"The Firebase app was deleted.")}function pZ(t){return new an(rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rf(t,e){return new an(rn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bd(t){throw new an(rn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kr.makeFromUrl(e,n)}catch{return new Kr(e,"")}if(r.path==="")return r;throw cZ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},g=n===Y3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${v}`,"i"),_=[{regex:l,indices:c,postModify:a},{regex:m,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<_.length;N++){const A=_[N],E=A.regex.exec(e);if(E){const w=E[A.indices.bucket];let j=E[A.indices.path];j||(j=""),r=new Kr(w,j),A.postModify(r);break}}if(r==null)throw lZ(e);return r}}class mZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(m,c())},v)}function h(){a&&clearTimeout(a)}function m(v,...b){if(u){h();return}if(v){h(),d.call(null,v,...b);return}if(c()||s){h(),d.call(null,v,...b);return}r<64&&(r*=2);let _;l===1?(l=2,_=0):_=(r+Math.random())*1e3,f(_)}let y=!1;function g(v){y||(y=!0,h(),!u&&(i!==null?(v||(l=2),clearTimeout(i),f(0)):v||(l=1)))}return f(0),a=setTimeout(()=>{s=!0,g(!0)},n),g}function yZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(t){return t!==void 0}function xZ(t){return typeof t=="object"&&!Array.isArray(t)}function SS(t){return typeof t=="string"||t instanceof String}function hC(t){return jS()&&t instanceof Blob}function jS(){return typeof Blob<"u"}function pC(t,e,n,r){if(r<e)throw Pw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Pw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function J3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var al;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(al||(al={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n,r,i,a,s,l,c,u,d,f,h=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _m(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===al.NO_ERROR,c=a.getStatus();if(!l||bZ(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===al.ABORT;r(!1,new _m(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new _m(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());vZ(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=AS();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Z3():oZ();s(c)}else{const c=sZ();s(c)}};this.canceled_?n(!1,new _m(!1,null,!0)):this.backoffId_=gZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _m{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _Z(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EZ(t,e,n,r,i,a,s=!0,l=!1){const c=J3(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return SZ(d,e),_Z(d,n),AZ(d,a),jZ(d,r),new wZ(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NZ(...t){const e=TZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jS())return new Blob(t);throw new an(rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function OZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(t){if(typeof atob>"u")throw hZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tb{constructor(e,n){this.data=e,this.contentType=n||null}}function kZ(t,e){switch(t){case Yi.RAW:return new Tb(eL(e));case Yi.BASE64:case Yi.BASE64URL:return new Tb(tL(t,e));case Yi.DATA_URL:return new Tb(PZ(e),RZ(e))}throw AS()}function eL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function IZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Rf(Yi.DATA_URL,"Malformed data URL.")}return eL(e)}function tL(t,e){switch(t){case Yi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Rf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Yi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Rf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CZ(e)}catch(i){throw i.message.includes("polyfill")?i:Rf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rf(Yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PZ(t){const e=new nL(t);return e.base64?tL(Yi.BASE64,e.rest):IZ(e.rest)}function RZ(t){return new nL(t).contentType}function MZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){let r=0,i="";hC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(hC(this.data_)){const r=this.data_,i=OZ(r,e,n);return i===null?null:new Os(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Os(r,!0)}}static getBlob(...e){if(jS()){const n=e.map(r=>r instanceof Os?r.data_:r);return new Os(NZ.apply(null,n))}else{const n=e.map(s=>SS(s)?kZ(Yi.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){let e;try{e=JSON.parse(t)}catch{return null}return xZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $Z(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t,e){return e}class cr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||LZ}}let Am=null;function BZ(t){return!SS(t)||t.length<2?t:iL(t)}function aL(){if(Am)return Am;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(a,s){return BZ(s)}const n=new cr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new cr("size");return i.xform=r,t.push(i),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),Am=t,Am}function UZ(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Kr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function VZ(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return UZ(r,t),r}function sL(t,e,n){const r=rL(e);return r===null?null:VZ(t,r,n)}function zZ(t,e,n,r){const i=rL(e);if(i===null||!SS(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+s(d)+"/o/"+s(f),m=ES(h,n,r),y=J3({alt:"media",token:u});return m+y})[0]}function FZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class oL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){if(!t)throw AS()}function HZ(t,e){function n(r,i){const a=sL(t,i,e);return lL(a!==null),a}return n}function qZ(t,e){function n(r,i){const a=sL(t,i,e);return lL(a!==null),zZ(a,i,t.host,t._protocol)}return n}function cL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=iZ():i=rZ():n.getStatus()===402?i=nZ(t.bucket):n.getStatus()===403?i=aZ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function GZ(t){const e=cL(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=tZ(t.path)),a.serverResponse=i.serverResponse,a}return n}function WZ(t,e,n){const r=e.fullServerUrl(),i=ES(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new oL(i,a,qZ(t,n),s);return l.errorHandler=GZ(e),l}function KZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=KZ(null,e)),r}function YZ(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let N=0;N<2;N++)_=_+Math.random().toString().slice(2);return _}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const u=XZ(e,r,i),d=FZ(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",m=Os.getBlob(f,r,h);if(m===null)throw dZ();const y={name:u.fullPath},g=ES(a,t.host,t._protocol),v="POST",b=t.maxUploadRetryTime,x=new oL(g,v,HZ(t,n),b);return x.urlParams=y,x.headers=s,x.body=m.uploadData(),x.errorHandler=cL(e),x}class QZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=al.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=al.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=al.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Bd("cannot .send() more than once");if(po(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ZZ extends QZ{initXhr(){this.xhr_.responseType="text"}}function uL(){return new ZZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this._service=e,n instanceof Kr?this._location=n:this._location=Kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xl(e,n)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iL(this._location.path)}get storage(){return this._service}get parent(){const e=DZ(this._location.path);if(e===null)return null;const n=new Kr(this._location.bucket,e);return new xl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pZ(e)}}function JZ(t,e,n){t._throwIfRoot("uploadBytes");const r=YZ(t.storage,t._location,aL(),new Os(e,!0),n);return t.storage.makeRequestWithTokens(r,uL).then(i=>({metadata:i,ref:t}))}function eJ(t){t._throwIfRoot("getDownloadURL");const e=WZ(t.storage,t._location,aL());return t.storage.makeRequestWithTokens(e,uL).then(n=>{if(n===null)throw fZ();return n})}function tJ(t,e){const n=$Z(t._location.path,e),r=new Kr(t._location.bucket,n);return new xl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(t){return/^[A-Za-z]+:\/\//.test(t)}function rJ(t,e){return new xl(t,e)}function dL(t,e){if(t instanceof TS){const n=t;if(n._bucket==null)throw uZ();const r=new xl(n,n._bucket);return e!=null?dL(r,e):r}else return e!==void 0?tJ(t,e):t}function iJ(t,e){if(e&&nJ(e)){if(t instanceof TS)return rJ(t,e);throw Pw("To use ref(service, url), the first argument must be a Storage instance.")}else return dL(t,e)}function mC(t,e){const n=e==null?void 0:e[Q3];return n==null?null:Kr.makeFromBucketSpec(n,t)}function aJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=po(e);i&&(bA(`https://${t.host}/b`),wA("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:o6(a,t.app.options.projectId))}class TS{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Y3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JQ,this._maxUploadRetryTime=eZ,this._requests=new Set,i!=null?this._bucket=Kr.makeFromBucketSpec(i,this._host):this._bucket=mC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=mC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new mZ(Z3());{const s=EZ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gC="@firebase/storage",yC="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="storage";function hL(t,e,n){return t=qt(t),JZ(t,e,n)}function pL(t){return t=qt(t),eJ(t)}function mL(t,e){return t=qt(t),iJ(t,e)}function sJ(t=Vv(),e){t=qt(t);const r=mo(t,fL).getImmediate({identifier:e}),i=i6("storage");return i&&oJ(r,...i),r}function oJ(t,e,n,r={}){aJ(t,e,n,r)}function lJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new TS(n,r,i,e,Pl)}function cJ(){Bi(new bi(fL,lJ,"PUBLIC").setMultipleInstances(!0)),Cr(gC,yC,""),Cr(gC,yC,"esm2017")}cJ();const uJ={apiKey:"AIzaSyCs378LldkmXoZ3w9aPQEj-gJ1XgzFzhD0",authDomain:"consignment-store-4a564.firebaseapp.com",projectId:"consignment-store-4a564",storageBucket:"consignment-store-4a564.firebasestorage.app",messagingSenderId:"723799732977",appId:"1:723799732977:web:fa12372a7a91682807af50",measurementId:"G-K6DPX8D0SD"},m0=p6(uJ);XQ(m0);const He=xY(m0),Nb=_W(m0),gL=sJ(m0),dJ=new Oa,Vt=async(t,e,n,r,i)=>{if(t)try{const a={userId:t.uid,userName:t.displayName||"Anonymous",userEmail:t.email||"",action:e,details:n,timestamp:f0(),itemId:r,itemTitle:i,userAgent:navigator.userAgent,isAdmin:t.email==="stuartjamessmith@gmail.com"};await hh(Ot(He,"actionLogs"),a)}catch(a){console.error("Error logging user action:",a)}},yL=t=>{const e=wn(Ot(He,"actionLogs"),Ap("timestamp","desc"));return E3(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("Error subscribing to action logs:",n)})},Dl=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!0),[i,a]=k.useState(!1);k.useEffect(()=>{const f=uG(Nb,async h=>{try{const m=localStorage.getItem("phoneUserSession"),y=localStorage.getItem("phoneUser");if(m==="active"&&y){const g=JSON.parse(y);console.log("Loading phone user from session:",g),e(g),r(!1);return}h?(console.log("Loading Firebase user:",h.uid),await s(h),e(h)):e(null)}catch(m){console.error("Error in auth state change:",m),e(null)}finally{r(!1)}});return()=>f()},[]),k.useEffect(()=>{if(t){const f=localStorage.getItem(`adminMode_${t.uid}`);a(f==="true")}},[t]);const s=async f=>{try{const h=sr(He,"users",f.uid),m=await kY(h),y={email:f.email||"",displayName:f.displayName,photoURL:f.photoURL||"",phoneNumber:"phoneNumber"in f?f.phoneNumber:"",isPhoneUser:"isPhoneUser"in f?f.isPhoneUser:!1,lastSignIn:new Date};m.exists()?await iC(h,y,{merge:!0}):await iC(h,{...y,createdAt:new Date})}catch(h){console.error("Error storing user data:",h)}};return{user:t,loading:n,signInWithGoogle:async()=>{try{const f=await kG(Nb,dJ);return await Vt(f.user,"user_login","User logged in with Google"),f.user}catch(f){throw console.error("Error signing in with Google:",f),f}},signInWithPhone:async f=>{try{const h=f.replace(/\D/g,"");if(h.length!==10)throw new Error("Please enter a valid 10-digit phone number");const m=`+1${h}`;console.log("Attempting phone sign-in with:",m);const g={uid:`phone_${h}_${Date.now()}`,phoneNumber:m,displayName:` ${f}`,email:void 0,photoURL:void 0,isPhoneUser:!0};return console.log("Created phone user object:",g),localStorage.setItem("phoneUser",JSON.stringify(g)),localStorage.setItem("phoneUserSession","active"),await s(g),e(g),await Vt(g,"user_login","User logged in with phone number"),console.log("Phone authentication completed successfully"),g}catch(h){throw console.error("Error signing in with phone:",h),h instanceof Error?h.message.includes("phone number")?new Error("Please enter a valid phone number"):h.message.includes("auth")?new Error("Authentication service is currently unavailable. Please try again later."):new Error(`Sign-in failed: ${h.message}`):new Error("Phone sign-in failed. Please try again.")}},logout:async()=>{try{t&&await Vt(t,"user_logout","User logged out"),localStorage.getItem("phoneUserSession")==="active"?(localStorage.removeItem("phoneUser"),localStorage.removeItem("phoneUserSession"),console.log("Phone user logged out")):await dG(Nb),t&&localStorage.removeItem(`adminMode_${t.uid}`),e(null),a(!1)}catch(f){throw console.error("Error signing out:",f),f}},isAuthenticated:!!t,isAdmin:i,toggleAdmin:()=>{if(t){const f=!i;a(f),localStorage.setItem(`adminMode_${t.uid}`,f.toString()),console.log(`Toggling admin mode: ${i}  ${f}. Refreshing page...`),setTimeout(()=>{window.location.reload()},100)}}}},g0=(t={})=>{const{delay:e=2e3,preventDoubleClick:n=!0,resetOnSuccess:r=!0}=t,[i,a]=k.useState({isThrottled:!1,lastAction:null,isProcessing:!1}),s=k.useRef(null),l=k.useRef(new Set),c=k.useCallback(async(m,y,g)=>{const v=(g==null?void 0:g.customDelay)??e,b=(g==null?void 0:g.allowSameAction)??!1;if(l.current.has(m))return console.log(`Action "${m}" is already processing, ignoring duplicate`),null;if(n&&!b&&i.lastAction===m)return console.log(`Preventing duplicate action: "${m}"`),null;if(i.isThrottled)return console.log(`Actions are throttled, ignoring: "${m}"`),null;try{l.current.add(m),a(_=>({..._,isThrottled:!0,lastAction:m,isProcessing:!0})),s.current&&clearTimeout(s.current);const x=await y();return a(r?_=>({..._,lastAction:null,isProcessing:!1}):_=>({..._,isProcessing:!1})),s.current=setTimeout(()=>{a(_=>({..._,isThrottled:!1}))},v),x}catch(x){throw a(_=>({..._,isProcessing:!1})),s.current=setTimeout(()=>{a(_=>({..._,isThrottled:!1}))},v),x}finally{l.current.delete(m)}},[e,n,r,i.isThrottled,i.lastAction]),u=k.useCallback(m=>i.isThrottled||l.current.has(m)||n&&i.lastAction===m,[i.isThrottled,i.lastAction,n]),d=k.useCallback(m=>l.current.has(m),[]),f=k.useCallback(()=>{s.current&&clearTimeout(s.current),l.current.clear(),a({isThrottled:!1,lastAction:null,isProcessing:!1})},[]),h=k.useCallback(m=>{m&&l.current.delete(m),a(y=>({...y,isThrottled:!1,isProcessing:!1,lastAction:m?null:y.lastAction}))},[]);return{throttledAction:c,isActionDisabled:u,isActionProcessing:d,isThrottled:i.isThrottled,isProcessing:i.isProcessing,lastAction:i.lastAction,reset:f,forceEnable:h}},NS=()=>g0({delay:3e3,preventDoubleClick:!0,resetOnSuccess:!0}),OS=()=>g0({delay:2e3,preventDoubleClick:!0,resetOnSuccess:!0}),vL=k.createContext(void 0),fJ=({children:t})=>{const[e,n]=k.useState([]),[r,i]=k.useState([]),[a,s]=k.useState(!1),[l,c]=k.useState(null),{throttledAction:u,isActionDisabled:d,isActionProcessing:f}=OS(),h=T=>({cart:T?`shopping_cart_${T}`:"shopping_cart_guest",bookmarks:T?`bookmarked_items_${T}`:"bookmarked_items_guest"}),m=T=>{console.log("Loading cart and bookmarks for user:",T);const P=h(T),R=localStorage.getItem(P.cart),V=localStorage.getItem(P.bookmarks);if(console.log("Saved cart:",R),console.log("Saved bookmarks:",V),R)try{const B=JSON.parse(R).map(L=>({...L,addedAt:new Date(L.addedAt)}));console.log("Loaded cart items:",B.length),n(B)}catch(U){console.error("Error loading cart from localStorage:",U),n([])}else n([]);if(V)try{const U=JSON.parse(V);console.log("Loaded bookmarks:",U.length),i(U)}catch(U){console.error("Error loading bookmarks from localStorage:",U),i([])}else i([])};k.useEffect(()=>{m(null),s(!0)},[]),k.useEffect(()=>{if(a&&l!==void 0){const T=h(l);console.log("Saving cart to localStorage:",e.length,"items for user:",l),localStorage.setItem(T.cart,JSON.stringify(e))}},[e,a,l]),k.useEffect(()=>{if(a&&l!==void 0){const T=h(l);console.log("Saving bookmarks to localStorage:",r.length,"items for user:",l),localStorage.setItem(T.bookmarks,JSON.stringify(r))}},[r,a,l]);const y=T=>{console.log("Switching user context from",l,"to",T),c(T),m(T)},g=async(T,P,R=1)=>{await u(`add-to-cart-${T.id}`,async()=>{if(console.log("addToCart called:",T.title,"Current cart size:",e.length),P&&await Vt(P,"cart_updated","Added item to cart",T.id,T.title),e.findIndex(U=>U.item.id===T.id)>=0){console.log("Item already in cart, not adding again (consignment items are unique)");return}else{const U={item:T,quantity:1,addedAt:new Date};console.log("Adding new item to cart:",U),n(B=>{const L=[...B,U];return console.log("New cart size will be:",L.length),L})}})},v=async(T,P)=>{const R=e.find(V=>V.item.id===T);P&&R&&await Vt(P,"cart_updated","Removed item from cart",R.item.id,R.item.title),n(V=>V.filter(U=>U.item.id!==T))},I={cartItems:e,bookmarkedItems:r,addToCart:g,removeFromCart:v,updateQuantity:async(T,P,R)=>{if(P<=0){await v(T,R);return}const V=e.find(U=>U.item.id===T);R&&V&&await Vt(R,"cart_updated",`Updated item quantity to ${P}`,V.item.id,V.item.title),n(U=>U.map(B=>B.item.id===T?{...B,quantity:P}:B))},clearCart:async T=>{T&&await Vt(T,"cart_updated",`Cleared cart with ${e.length} items`),n([])},isInCart:T=>e.some(P=>P.item.id===T),getCartItemQuantity:T=>{const P=e.find(R=>R.item.id===T);return(P==null?void 0:P.quantity)||0},toggleBookmark:async(T,P)=>{console.log("toggleBookmark called:",T,"Current bookmarks:",r.length);const R=r.includes(T);P&&await Vt(P,"item_bookmarked",R?"Removed bookmark":"Added bookmark",T),i(V=>{if(V.includes(T)){const U=V.filter(B=>B!==T);return console.log("Removed bookmark, new count:",U.length),U}else{const U=[...V,T];return console.log("Added bookmark, new count:",U.length),U}})},isBookmarked:T=>r.includes(T),getCartTotal:()=>e.reduce((T,P)=>T+P.item.price*P.quantity,0),getCartItemCount:()=>e.reduce((T,P)=>T+P.quantity,0),getBookmarkCount:()=>r.length,switchUser:y,isCartActionDisabled:d,isCartActionProcessing:f};return o.jsx(vL.Provider,{value:I,children:t})},Sp=()=>{const t=k.useContext(vL);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},hJ=({item:t,isAdmin:e=!1,onClick:n})=>{const[r,i]=k.useState(0),a=()=>{i(u=>(u+1)%t.images.length)},s=()=>{i(u=>(u-1+t.images.length)%t.images.length)},l=()=>{n&&n(t)},c=u=>{u.stopPropagation()};return o.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer",onClick:l,children:[o.jsx("div",{className:"relative h-48 bg-gray-200",children:t.images.length>0?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:t.images[r],alt:t.title,className:"w-full h-full object-cover"}),t.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:u=>{c(u),s()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:u=>{c(u),a()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),o.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.images.map((u,d)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${d===r?"bg-white":"bg-white bg-opacity-50"}`},d))})]})]}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:t.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.description}),(t.category||t.brand||t.size||t.condition||t.color)&&o.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-md",children:o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.category&&o.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.category}),t.brand&&o.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:t.brand}),t.size&&o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["Size ",t.size]}),t.condition&&o.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t.condition}),t.gender&&o.jsx("span",{className:"bg-pink-100 text-pink-800 px-2 py-1 rounded-full",children:t.gender}),t.color&&o.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full",children:t.color})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.price.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.sellerName]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[o.jsxs("span",{children:["Listed ",new Date(t.createdAt).toLocaleDateString()]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="live"?"bg-green-100 text-green-800":t.status==="approved"?"bg-blue-100 text-blue-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]})})]})]})},pJ=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState(""),[a,s]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState([]),[f,h]=k.useState(!1),[m,y]=k.useState(!1),[g,v]=k.useState(!1),{throttledAction:b}=OS(),[x,_]=k.useState(""),[N,A]=k.useState(""),[E,w]=k.useState(""),[j,O]=k.useState(""),[I,T]=k.useState(""),[P,R]=k.useState(""),[V,U]=k.useState("");if(!t)return null;const B=M=>{if(M.target.files){const X=Array.from(M.target.files);d(Y=>[...Y,...X].slice(0,5))}},L=M=>{d(X=>X.filter((Y,ye)=>ye!==M))},z=async M=>{const X=M.map(async(Y,ye)=>{const de=`items/${n==null?void 0:n.uid}/${Date.now()}_${ye}_${Y.name}`,ke=mL(gL,de);try{const Q=await hL(ke,Y);return await pL(Q.ref)}catch(Q){throw console.error("Error uploading image:",Q),Q}});return Promise.all(X)},q=()=>{if(!r.trim()||!a.trim()||!l.trim()||u.length===0){alert("Please fill in all required fields before previewing");return}const M=parseFloat(l);if(isNaN(M)||M<=0){alert("Please enter a valid price greater than 0");return}y(!0)},te=async()=>{n&&await b("submit-item",async()=>{h(!0);try{const M=await z(u),X={title:r.trim(),description:a.trim(),price:parseFloat(l),images:M,sellerId:n.uid,sellerName:n.displayName||"Anonymous",sellerEmail:n.email||("phoneNumber"in n?n.phoneNumber:""),status:"pending",createdAt:f0()};x&&x.trim()&&(X.category=x.trim()),N&&N.trim()&&(X.gender=N),E&&E.trim()&&(X.size=E.trim()),j&&j.trim()&&(X.brand=j.trim()),I&&I.trim()&&(X.condition=I),P&&P.trim()&&(X.material=P.trim()),V&&V.trim()&&(X.color=V.trim());const Y=await hh(Ot(He,"items"),X);await Vt(n,"item_listed","Listed new item for consignment",Y.id,r.trim()),v(!0),y(!1)}catch(M){console.error("Error adding item:",M),alert("Error adding item. Please try again."),h(!1)}})},ee=()=>{i(""),s(""),c(""),d([]),y(!1),v(!1),h(!1),_(""),A(""),w(""),O(""),T(""),R(""),U("")},W=()=>{ee(),e()};return g?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Item Submitted Successfully!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your item has been submitted for review. Please bring the physical item to the front desk so our team can inspect and approve it."}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Next Steps:"}),o.jsx("br",{}),"1. Bring your item to the front desk",o.jsx("br",{}),"2. Our team will inspect and approve it",o.jsx("br",{}),"3. Then it goes live for all customers"]})}),o.jsx("button",{onClick:W,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Got it!"})]})})}):m?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Preview Item"}),o.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"relative h-64 bg-gray-200",children:[u.length>0&&o.jsx("img",{src:URL.createObjectURL(u[0]),alt:"Preview",className:"w-full h-full object-cover"}),u.length>1&&o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:["+",u.length-1," more"]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:r}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",parseFloat(l).toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["by ",n==null?void 0:n.displayName]})]}),(x||N||E||j||I||P||V)&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Item Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[x&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Category:"})," ",o.jsx("span",{className:"font-medium",children:x})]}),N&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Gender:"})," ",o.jsx("span",{className:"font-medium",children:N})]}),E&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Size:"})," ",o.jsx("span",{className:"font-medium",children:E})]}),j&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Brand:"})," ",o.jsx("span",{className:"font-medium",children:j})]}),I&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",o.jsx("span",{className:"font-medium",children:I})]}),P&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Material:"})," ",o.jsx("span",{className:"font-medium",children:P})]}),V&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Color:"})," ",o.jsx("span",{className:"font-medium",children:V})]})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"pending review"})})]})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx("button",{onClick:()=>y(!1),disabled:f,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-colors",children:"Edit"}),o.jsx("button",{onClick:te,disabled:f,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Confirm & Submit"})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Item for Consignment"}),o.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Title *"}),o.jsx("input",{type:"text",id:"title",value:r,onChange:M=>i(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{id:"description",value:a,onChange:M=>s(M.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe your item in detail...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Asking Price *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),o.jsx("input",{type:"text",id:"price",value:l,onChange:M=>{const X=M.target.value;(X===""||/^\d*\.?\d*$/.test(X))&&c(X)},className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details (Optional but Recommended)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{id:"category",value:x,onChange:M=>_(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Climbing",children:"Climbing "}),o.jsx("option",{value:"Skiing",children:"Skiing "}),o.jsx("option",{value:"Hiking",children:"Hiking "}),o.jsx("option",{value:"Camping",children:"Camping "}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering "}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding "}),o.jsx("option",{value:"Cycling",children:"Cycling "}),o.jsx("option",{value:"Water Sports",children:"Water Sports "}),o.jsx("option",{value:"Apparel",children:"Apparel "}),o.jsx("option",{value:"Footwear",children:"Footwear "})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{id:"gender",value:N,onChange:M=>A(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),o.jsxs("select",{id:"size",value:E,onChange:M=>w(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsx("input",{type:"text",id:"brand",value:j,onChange:M=>O(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Patagonia, REI, North Face"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),o.jsxs("select",{id:"condition",value:I,onChange:M=>T(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Condition"}),o.jsx("option",{value:"New",children:"New - Never used"}),o.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),o.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),o.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-700 mb-2",children:"Material/Fabric"}),o.jsx("input",{type:"text",id:"material",value:P,onChange:M=>R(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Gore-Tex, Merino Wool, Cotton"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("select",{id:"color",value:V,onChange:M=>U(M.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Color"}),o.jsx("option",{value:"Black",children:"Black"}),o.jsx("option",{value:"White",children:"White"}),o.jsx("option",{value:"Gray",children:"Gray"}),o.jsx("option",{value:"Red",children:"Red"}),o.jsx("option",{value:"Blue",children:"Blue"}),o.jsx("option",{value:"Green",children:"Green"}),o.jsx("option",{value:"Yellow",children:"Yellow"}),o.jsx("option",{value:"Orange",children:"Orange"}),o.jsx("option",{value:"Purple",children:"Purple"}),o.jsx("option",{value:"Pink",children:"Pink"}),o.jsx("option",{value:"Brown",children:"Brown"}),o.jsx("option",{value:"Navy",children:"Navy"}),o.jsx("option",{value:"Burgundy",children:"Burgundy"}),o.jsx("option",{value:"Olive",children:"Olive"}),o.jsx("option",{value:"Tan",children:"Tan"}),o.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos * (Max 5)"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:B,className:"hidden",id:"image-upload",disabled:u.length>=5}),o.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${u.length>=5?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("span",{className:"text-gray-600",children:u.length>=5?"Maximum 5 images reached":"Click to add photos"})]})]}),u.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:u.map((M,X)=>o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:URL.createObjectURL(M),alt:`Preview ${X+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>L(X),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},X))})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:W,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:q,disabled:!r.trim()||!a.trim()||!l.trim()||u.length===0,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Preview Item"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your item will be reviewed by our team before appearing in the store."})]})]})})};var CS={},y0={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});function mJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var gJ=function t(e,n){mJ(this,t),this.data=e,this.text=n.text||e,this.options=n};vr.default=gJ;Object.defineProperty(y0,"__esModule",{value:!0});y0.CODE39=void 0;var yJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),vJ=vr,xJ=bJ(vJ);function bJ(t){return t&&t.__esModule?t:{default:t}}function wJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var SJ=function(t){AJ(e,t);function e(n,r){return wJ(this,e),n=n.toUpperCase(),r.mod43&&(n+=TJ(NJ(n))),_J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return yJ(e,[{key:"encode",value:function(){for(var r=Ob("*"),i=0;i<this.data.length;i++)r+=Ob(this.data[i])+"0";return r+=Ob("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(xJ.default),xL=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],jJ=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Ob(t){return EJ(bL(t))}function EJ(t){return jJ[t].toString(2)}function TJ(t){return xL[t]}function bL(t){return xL.indexOf(t)}function NJ(t){for(var e=0,n=0;n<t.length;n++)e+=bL(t[n]);return e=e%43,e}y0.CODE39=SJ;var Qi={},kS={},rd={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var Ud;function Cb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wL=Lt.SET_A=0,_L=Lt.SET_B=1,AL=Lt.SET_C=2;Lt.SHIFT=98;var OJ=Lt.START_A=103,CJ=Lt.START_B=104,kJ=Lt.START_C=105;Lt.MODULO=103;Lt.STOP=106;Lt.FNC1=207;Lt.SET_BY_CODE=(Ud={},Cb(Ud,OJ,wL),Cb(Ud,CJ,_L),Cb(Ud,kJ,AL),Ud);Lt.SWAP={101:wL,100:_L,99:AL};Lt.A_START_CHAR="";Lt.B_START_CHAR="";Lt.C_START_CHAR="";Lt.A_CHARS="[\0-_-]";Lt.B_CHARS="[ --]";Lt.C_CHARS="(*[0-9]{2}*)";Lt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(rd,"__esModule",{value:!0});var IJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),PJ=vr,RJ=MJ(PJ),Lr=Lt;function MJ(t){return t&&t.__esModule?t:{default:t}}function DJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function LJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var BJ=function(t){LJ(e,t);function e(n,r){DJ(this,e);var i=$J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(a){return a.charCodeAt(0)}),i}return IJ(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,a=Lr.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(Lr.FNC1);var s=e.next(r,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+s.result+e.getBar((s.checksum+i)%Lr.MODULO)+e.getBar(Lr.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return Lr.BARS[r]?Lr.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===Lr.SET_A){var a=r.shift();return a<32?a+64:a-32}else return i===Lr.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,a){if(!r.length)return{result:"",checksum:0};var s=void 0,l=void 0;if(r[0]>=200){l=r.shift()-105;var c=Lr.SWAP[l];c!==void 0?s=e.next(r,i+1,c):((a===Lr.SET_A||a===Lr.SET_B)&&l===Lr.SHIFT&&(r[0]=a===Lr.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,i+1,a))}else l=e.correctIndex(r,a),s=e.next(r,i+1,a);var u=e.getBar(l),d=l*i;return{result:u+s.result,checksum:d+s.checksum}}}]),e}(RJ.default);rd.default=BJ;var IS={};Object.defineProperty(IS,"__esModule",{value:!0});var Ys=Lt,SL=function(e){return e.match(new RegExp("^"+Ys.A_CHARS+"*"))[0].length},jL=function(e){return e.match(new RegExp("^"+Ys.B_CHARS+"*"))[0].length},EL=function(e){return e.match(new RegExp("^"+Ys.C_CHARS+"*"))[0]};function PS(t,e){var n=e?Ys.A_CHARS:Ys.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+TL(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+PS(t.substring(i.length),!e)}function TL(t){var e=EL(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=SL(t)>=jL(t);return e+String.fromCharCode(r?206:205)+PS(t,r)}IS.default=function(t){var e=void 0,n=EL(t).length;if(n>=2)e=Ys.C_START_CHAR+TL(t);else{var r=SL(t)>jL(t);e=(r?Ys.A_START_CHAR:Ys.B_START_CHAR)+PS(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return""+a})};Object.defineProperty(kS,"__esModule",{value:!0});var UJ=rd,VJ=NL(UJ),zJ=IS,FJ=NL(zJ);function NL(t){return t&&t.__esModule?t:{default:t}}function HJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var GJ=function(t){qJ(e,t);function e(n,r){if(HJ(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=kb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,FJ.default)(n),r));else var i=kb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return kb(i)}return e}(VJ.default);kS.default=GJ;var RS={};Object.defineProperty(RS,"__esModule",{value:!0});var WJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),KJ=rd,XJ=YJ(KJ),vC=Lt;function YJ(t){return t&&t.__esModule?t:{default:t}}function QJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eee=function(t){JJ(e,t);function e(n,r){return QJ(this,e),ZJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,vC.A_START_CHAR+n,r))}return WJ(e,[{key:"valid",value:function(){return new RegExp("^"+vC.A_CHARS+"+$").test(this.data)}}]),e}(XJ.default);RS.default=eee;var MS={};Object.defineProperty(MS,"__esModule",{value:!0});var tee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nee=rd,ree=iee(nee),xC=Lt;function iee(t){return t&&t.__esModule?t:{default:t}}function aee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function see(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lee=function(t){oee(e,t);function e(n,r){return aee(this,e),see(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,xC.B_START_CHAR+n,r))}return tee(e,[{key:"valid",value:function(){return new RegExp("^"+xC.B_CHARS+"+$").test(this.data)}}]),e}(ree.default);MS.default=lee;var DS={};Object.defineProperty(DS,"__esModule",{value:!0});var cee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),uee=rd,dee=fee(uee),bC=Lt;function fee(t){return t&&t.__esModule?t:{default:t}}function hee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gee=function(t){mee(e,t);function e(n,r){return hee(this,e),pee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,bC.C_START_CHAR+n,r))}return cee(e,[{key:"valid",value:function(){return new RegExp("^"+bC.C_CHARS+"+$").test(this.data)}}]),e}(dee.default);DS.default=gee;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.CODE128C=Qi.CODE128B=Qi.CODE128A=Qi.CODE128=void 0;var yee=kS,vee=v0(yee),xee=RS,bee=v0(xee),wee=MS,_ee=v0(wee),Aee=DS,See=v0(Aee);function v0(t){return t&&t.__esModule?t:{default:t}}Qi.CODE128=vee.default;Qi.CODE128A=bee.default;Qi.CODE128B=_ee.default;Qi.CODE128C=See.default;var Er={},$S={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.SIDE_BIN="101";Ai.MIDDLE_BIN="01010";Ai.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Ai.EAN2_STRUCTURE=["LL","LG","GL","GG"];Ai.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Ai.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var x0={},$l={};Object.defineProperty($l,"__esModule",{value:!0});var jee=Ai,Eee=function(e,n,r){var i=e.split("").map(function(s,l){return jee.BINARIES[n[l]]}).map(function(s,l){return s?s[e[l]]:""});if(r){var a=e.length-1;i=i.map(function(s,l){return l<a?s+r:s})}return i.join("")};$l.default=Eee;Object.defineProperty(x0,"__esModule",{value:!0});var Tee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zl=Ai,Nee=$l,wC=OL(Nee),Oee=vr,Cee=OL(Oee);function OL(t){return t&&t.__esModule?t:{default:t}}function kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ree=function(t){Pee(e,t);function e(n,r){kee(this,e);var i=Iee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Tee(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,wC.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,wC.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Zl.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Zl.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Zl.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Zl.SIDE_BIN,this.leftEncode(),Zl.MIDDLE_BIN,this.rightEncode(),Zl.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(Cee.default);x0.default=Ree;Object.defineProperty($S,"__esModule",{value:!0});var Mee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Vd=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},Dee=Ai,$ee=x0,Lee=Bee($ee);function Bee(t){return t&&t.__esModule?t:{default:t}}function Uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _C=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*3:r+i},0);return(10-n%10)%10},Fee=function(t){zee(e,t);function e(n,r){Uee(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=_C(n));var i=Vee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return Mee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===_C(this.data)}},{key:"leftText",value:function(){return Vd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=Dee.EAN13_STRUCTURE[this.data[0]];return Vd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Vd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Vd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Vd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(Lee.default);$S.default=Fee;var LS={};Object.defineProperty(LS,"__esModule",{value:!0});var Hee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Sm=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},qee=x0,Gee=Wee(qee);function Wee(t){return t&&t.__esModule?t:{default:t}}function Kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var AC=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i:r+i*3},0);return(10-n%10)%10},Qee=function(t){Yee(e,t);function e(n,r){return Kee(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=AC(n)),Xee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Hee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===AC(this.data)}},{key:"leftText",value:function(){return Sm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return Sm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return Sm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return Sm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(Gee.default);LS.default=Qee;var BS={};Object.defineProperty(BS,"__esModule",{value:!0});var Zee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jee=Ai,ete=$l,tte=CL(ete),nte=vr,rte=CL(nte);function CL(t){return t&&t.__esModule?t:{default:t}}function ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ate(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ste(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ote=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*9:r+i*3},0);return n%10},lte=function(t){ste(e,t);function e(n,r){return ite(this,e),ate(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Zee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=Jee.EAN5_STRUCTURE[ote(this.data)];return{data:"1011"+(0,tte.default)(this.data,r,"01"),text:this.text}}}]),e}(rte.default);BS.default=lte;var US={};Object.defineProperty(US,"__esModule",{value:!0});var cte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ute=Ai,dte=$l,fte=kL(dte),hte=vr,pte=kL(hte);function kL(t){return t&&t.__esModule?t:{default:t}}function mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vte=function(t){yte(e,t);function e(n,r){return mte(this,e),gte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return cte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=ute.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,fte.default)(this.data,r,"01"),text:this.text}}}]),e}(pte.default);US.default=vte;var jp={};Object.defineProperty(jp,"__esModule",{value:!0});var xte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();jp.checksum=Rw;var bte=$l,Jl=IL(bte),wte=vr,_te=IL(wte);function IL(t){return t&&t.__esModule?t:{default:t}}function Ate(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ste(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ete=function(t){jte(e,t);function e(n,r){Ate(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Rw(n));var i=Ste(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return xte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Rw(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Jl.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Jl.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Jl.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Jl.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Jl.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Jl.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(_te.default);function Rw(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}jp.default=Ete;var VS={};Object.defineProperty(VS,"__esModule",{value:!0});var Tte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Nte=$l,Ote=PL(Nte),Cte=vr,kte=PL(Cte),Ite=jp;function PL(t){return t&&t.__esModule?t:{default:t}}function Pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ib(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Mte=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Dte=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],$te=function(t){Rte(e,t);function e(n,r){Pte(this,e);var i=Ib(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=SC(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=SC(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return Ib(i);else return Ib(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Tte(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],a=Dte[parseInt(i)][parseInt(r)];return(0,Ote.default)(this.middleDigits,a)}}]),e}(kte.default);function SC(t,e){for(var n=parseInt(t[t.length-1]),r=Mte[n],i="",a=0,s=0;s<r.length;s++){var l=r[s];l==="X"?i+=t[a++]:i+=l}return i=""+e+i,""+i+(0,Ite.checksum)(i)}VS.default=$te;Object.defineProperty(Er,"__esModule",{value:!0});Er.UPCE=Er.UPC=Er.EAN2=Er.EAN5=Er.EAN8=Er.EAN13=void 0;var Lte=$S,Bte=id(Lte),Ute=LS,Vte=id(Ute),zte=BS,Fte=id(zte),Hte=US,qte=id(Hte),Gte=jp,Wte=id(Gte),Kte=VS,Xte=id(Kte);function id(t){return t&&t.__esModule?t:{default:t}}Er.EAN13=Bte.default;Er.EAN8=Vte.default;Er.EAN5=Fte.default;Er.EAN2=qte.default;Er.UPC=Wte.default;Er.UPCE=Xte.default;var fu={},b0={},Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.START_BIN="1010";Ep.END_BIN="11101";Ep.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(b0,"__esModule",{value:!0});var Yte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jm=Ep,Qte=vr,Zte=Jte(Qte);function Jte(t){return t&&t.__esModule?t:{default:t}}function ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rne=function(t){nne(e,t);function e(){return ene(this,e),tne(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Yte(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(a){return r.encodePair(a)}).join("");return{data:jm.START_BIN+i+jm.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=jm.BINARIES[r[1]];return jm.BINARIES[r[0]].split("").map(function(a,s){return(a==="1"?"111":"1")+(i[s]==="1"?"000":"0")}).join("")}}]),e}(Zte.default);b0.default=rne;var zS={};Object.defineProperty(zS,"__esModule",{value:!0});var ine=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ane=b0,sne=one(ane);function one(t){return t&&t.__esModule?t:{default:t}}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jC=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,a){return r+i*(3-a%2*2)},0);return Math.ceil(n/10)*10-n},dne=function(t){une(e,t);function e(n,r){return lne(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=jC(n)),cne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ine(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===jC(this.data)}}]),e}(sne.default);zS.default=dne;Object.defineProperty(fu,"__esModule",{value:!0});fu.ITF14=fu.ITF=void 0;var fne=b0,hne=RL(fne),pne=zS,mne=RL(pne);function RL(t){return t&&t.__esModule?t:{default:t}}fu.ITF=hne.default;fu.ITF14=mne.default;var pi={},Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});var gne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yne=vr,vne=xne(yne);function xne(t){return t&&t.__esModule?t:{default:t}}function bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ane=function(t){_ne(e,t);function e(n,r){return bne(this,e),wne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return gne(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),s=a.toString(2);s=Sne(s,4-s.length);for(var l=0;l<s.length;l++)r+=s[l]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(vne.default);function Sne(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Ll.default=Ane;var FS={},Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.mod10=jne;Bl.mod11=Ene;function jne(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function Ene(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(FS,"__esModule",{value:!0});var Tne=Ll,Nne=Cne(Tne),One=Bl;function Cne(t){return t&&t.__esModule?t:{default:t}}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ine(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rne=function(t){Pne(e,t);function e(n,r){return kne(this,e),Ine(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,One.mod10)(n),r))}return e}(Nne.default);FS.default=Rne;var HS={};Object.defineProperty(HS,"__esModule",{value:!0});var Mne=Ll,Dne=Lne(Mne),$ne=Bl;function Lne(t){return t&&t.__esModule?t:{default:t}}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Une(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zne=function(t){Vne(e,t);function e(n,r){return Bne(this,e),Une(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,$ne.mod11)(n),r))}return e}(Dne.default);HS.default=zne;var qS={};Object.defineProperty(qS,"__esModule",{value:!0});var Fne=Ll,Hne=qne(Fne),EC=Bl;function qne(t){return t&&t.__esModule?t:{default:t}}function Gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xne=function(t){Kne(e,t);function e(n,r){return Gne(this,e),n+=(0,EC.mod10)(n),n+=(0,EC.mod10)(n),Wne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Hne.default);qS.default=Xne;var GS={};Object.defineProperty(GS,"__esModule",{value:!0});var Yne=Ll,Qne=Zne(Yne),TC=Bl;function Zne(t){return t&&t.__esModule?t:{default:t}}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ere(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nre=function(t){tre(e,t);function e(n,r){return Jne(this,e),n+=(0,TC.mod11)(n),n+=(0,TC.mod10)(n),ere(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Qne.default);GS.default=nre;Object.defineProperty(pi,"__esModule",{value:!0});pi.MSI1110=pi.MSI1010=pi.MSI11=pi.MSI10=pi.MSI=void 0;var rre=Ll,ire=Tp(rre),are=FS,sre=Tp(are),ore=HS,lre=Tp(ore),cre=qS,ure=Tp(cre),dre=GS,fre=Tp(dre);function Tp(t){return t&&t.__esModule?t:{default:t}}pi.MSI=ire.default;pi.MSI10=sre.default;pi.MSI11=lre.default;pi.MSI1010=ure.default;pi.MSI1110=fre.default;var w0={};Object.defineProperty(w0,"__esModule",{value:!0});w0.pharmacode=void 0;var hre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pre=vr,mre=gre(pre);function gre(t){return t&&t.__esModule?t:{default:t}}function yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bre=function(t){xre(e,t);function e(n,r){yre(this,e);var i=vre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return hre(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(mre.default);w0.pharmacode=bre;var _0={};Object.defineProperty(_0,"__esModule",{value:!0});_0.codabar=void 0;var wre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_re=vr,Are=Sre(_re);function Sre(t){return t&&t.__esModule?t:{default:t}}function jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ere(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nre=function(t){Tre(e,t);function e(n,r){jre(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=Ere(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return wre(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),a=0;a<this.data.length;a++)r.push(i[this.data.charAt(a)]),a!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(Are.default);_0.codabar=Nre;var hu={},A0={},Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Np.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Np.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(A0,"__esModule",{value:!0});var Ore=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Em=Np,Cre=vr,kre=Ire(Cre);function Ire(t){return t&&t.__esModule?t:{default:t}}function Pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dre=function(t){Mre(e,t);function e(n,r){return Pre(this,e),Rre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Ore(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(l){return Em.MULTI_SYMBOLS[l]||l}),i=r.map(function(l){return e.getEncoding(l)}).join(""),a=e.checksum(r,20),s=e.checksum(r.concat(a),15);return{text:this.text,data:e.getEncoding("")+i+e.getEncoding(a)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return Em.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Em.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Em.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var a=r.slice().reverse().reduce(function(s,l,c){var u=c%i+1;return s+e.symbolValue(l)*u},0);return e.getSymbol(a%47)}}]),e}(kre.default);A0.default=Dre;var WS={};Object.defineProperty(WS,"__esModule",{value:!0});var $re=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Lre=A0,Bre=Ure(Lre);function Ure(t){return t&&t.__esModule?t:{default:t}}function Vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hre=function(t){Fre(e,t);function e(n,r){return Vre(this,e),zre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return $re(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Bre.default);WS.default=Hre;Object.defineProperty(hu,"__esModule",{value:!0});hu.CODE93FullASCII=hu.CODE93=void 0;var qre=A0,Gre=ML(qre),Wre=WS,Kre=ML(Wre);function ML(t){return t&&t.__esModule?t:{default:t}}hu.CODE93=Gre.default;hu.CODE93FullASCII=Kre.default;var S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.GenericBarcode=void 0;var Xre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Yre=vr,Qre=Zre(Yre);function Zre(t){return t&&t.__esModule?t:{default:t}}function Jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nie=function(t){tie(e,t);function e(n,r){return Jre(this,e),eie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Xre(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Qre.default);S0.GenericBarcode=nie;Object.defineProperty(CS,"__esModule",{value:!0});var rie=y0,Tm=Qi,ec=Er,NC=fu,zd=pi,iie=w0,aie=_0,OC=hu,sie=S0;CS.default={CODE39:rie.CODE39,CODE128:Tm.CODE128,CODE128A:Tm.CODE128A,CODE128B:Tm.CODE128B,CODE128C:Tm.CODE128C,EAN13:ec.EAN13,EAN8:ec.EAN8,EAN5:ec.EAN5,EAN2:ec.EAN2,UPC:ec.UPC,UPCE:ec.UPCE,ITF14:NC.ITF14,ITF:NC.ITF,MSI:zd.MSI,MSI10:zd.MSI10,MSI11:zd.MSI11,MSI1010:zd.MSI1010,MSI1110:zd.MSI1110,pharmacode:iie.pharmacode,codabar:aie.codabar,CODE93:OC.CODE93,CODE93FullASCII:OC.CODE93FullASCII,GenericBarcode:sie.GenericBarcode};var ad={};Object.defineProperty(ad,"__esModule",{value:!0});var oie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};ad.default=function(t,e){return oie({},t,e)};var KS={};Object.defineProperty(KS,"__esModule",{value:!0});KS.default=lie;function lie(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var XS={};Object.defineProperty(XS,"__esModule",{value:!0});XS.default=cie;function cie(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var YS={},QS={},j0={};Object.defineProperty(j0,"__esModule",{value:!0});j0.default=uie;function uie(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var E0={};Object.defineProperty(E0,"__esModule",{value:!0});var die={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};E0.default=die;Object.defineProperty(QS,"__esModule",{value:!0});var fie=j0,hie=DL(fie),pie=E0,CC=DL(pie);function DL(t){return t&&t.__esModule?t:{default:t}}function mie(t){var e={};for(var n in CC.default)CC.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,hie.default)(e),e}QS.default=mie;var ZS={},JS={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.getTotalWidthOfEncodings=qr.calculateEncodingAttributes=qr.getBarcodePadding=qr.getEncodingHeight=qr.getMaximumHeightOfEncodings=void 0;var gie=ad,yie=vie(gie);function vie(t){return t&&t.__esModule?t:{default:t}}function $L(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function LL(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function xie(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=(0,yie.default)(e,i.options),s;a.displayValue?s=_ie(i.text,a,n):s=0;var l=i.data.length*a.width;i.width=Math.ceil(Math.max(s,l)),i.height=$L(i,a),i.barcodePadding=LL(s,l,a)}}function bie(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function wie(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function _ie(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var a=i.width;return a}qr.getMaximumHeightOfEncodings=wie;qr.getEncodingHeight=$L;qr.getBarcodePadding=LL;qr.calculateEncodingAttributes=xie;qr.getTotalWidthOfEncodings=bie;Object.defineProperty(JS,"__esModule",{value:!0});var Aie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Sie=ad,jie=Eie(Sie),Pb=qr;function Eie(t){return t&&t.__esModule?t:{default:t}}function Tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Nie=function(){function t(e,n,r){Tie(this,t),this.canvas=e,this.encodings=n,this.options=r}return Aie(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,jie.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Pb.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Pb.getTotalWidthOfEncodings)(this.encodings),i=(0,Pb.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),a=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,i.fillStyle=n.lineColor;for(var l=0;l<a.length;l++){var c=l*n.width+r.barcodePadding;a[l]==="1"?i.fillRect(c,s,n.width,n.height):a[l]&&i.fillRect(c,s,n.width,n.height*a[l])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),a=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,l;n.textPosition=="top"?l=n.marginTop+n.fontSize-n.textMargin:l=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=a,n.textAlign=="left"||r.barcodePadding>0?(s=0,i.textAlign="left"):n.textAlign=="right"?(s=r.width-1,i.textAlign="right"):(s=r.width/2,i.textAlign="center"),i.fillText(r.text,s,l)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();JS.default=Nie;var ej={};Object.defineProperty(ej,"__esModule",{value:!0});var Oie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cie=ad,kie=Iie(Cie),Rb=qr;function Iie(t){return t&&t.__esModule?t:{default:t}}function Pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Nm="http://www.w3.org/2000/svg",Rie=function(){function t(e,n,r){Pie(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return Oie(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],a=(0,kie.default)(this.options,i.options),s=this.createGroup(n,a.marginTop,this.svg);this.setGroupOptions(s,a),this.drawSvgBarcode(s,a,i),this.drawSVGText(s,a,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Rb.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Rb.getTotalWidthOfEncodings)(this.encodings),r=(0,Rb.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a=i.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var l=0,c=0,u=0;u<a.length;u++)c=u*r.width+i.barcodePadding,a[u]==="1"?l++:l>0&&(this.drawRect(c-r.width*l,s,r.width*l,r.height,n),l=0);l>0&&this.drawRect(c-r.width*(l-1),s,r.width*l,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a=this.document.createElementNS(Nm,"text");if(r.displayValue){var s,l;a.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?l=r.fontSize-r.textMargin:l=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(s=0,a.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=i.width-1,a.setAttribute("text-anchor","end")):(s=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",s),a.setAttribute("y",l),a.appendChild(this.document.createTextNode(i.text)),n.appendChild(a)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Nm),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var a=this.document.createElementNS(Nm,"g");return a.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,a,s){var l=this.document.createElementNS(Nm,"rect");return l.setAttribute("x",n),l.setAttribute("y",r),l.setAttribute("width",i),l.setAttribute("height",a),s.appendChild(l),l}}]),t}();ej.default=Rie;var tj={};Object.defineProperty(tj,"__esModule",{value:!0});var Mie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Die(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $ie=function(){function t(e,n,r){Die(this,t),this.object=e,this.encodings=n,this.options=r}return Mie(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();tj.default=$ie;Object.defineProperty(ZS,"__esModule",{value:!0});var Lie=JS,Bie=nj(Lie),Uie=ej,Vie=nj(Uie),zie=tj,Fie=nj(zie);function nj(t){return t&&t.__esModule?t:{default:t}}ZS.default={CanvasRenderer:Bie.default,SVGRenderer:Vie.default,ObjectRenderer:Fie.default};var sd={};Object.defineProperty(sd,"__esModule",{value:!0});function rj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ij(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hie=function(t){aj(e,t);function e(n,r){rj(this,e);var i=ij(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),qie=function(t){aj(e,t);function e(){rj(this,e);var n=ij(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),Gie=function(t){aj(e,t);function e(){rj(this,e);var n=ij(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);sd.InvalidInputException=Hie;sd.InvalidElementException=qie;sd.NoElementException=Gie;Object.defineProperty(YS,"__esModule",{value:!0});var Wie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kie=QS,Mw=BL(Kie),Xie=ZS,uf=BL(Xie),Yie=sd;function BL(t){return t&&t.__esModule?t:{default:t}}function sj(t){if(typeof t=="string")return Qie(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(sj(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Zie(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Mw.default)(t),renderer:uf.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Mw.default)(t),renderer:uf.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:uf.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Wie(t))==="object"&&!t.nodeName)return{element:t,renderer:uf.default.ObjectRenderer};throw new Yie.InvalidElementException}}function Qie(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(sj(e[r]));return n}}function Zie(t){var e=document.createElement("canvas");return{element:e,options:(0,Mw.default)(t),renderer:uf.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}YS.default=sj;var oj={};Object.defineProperty(oj,"__esModule",{value:!0});var Jie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function eae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var tae=function(){function t(e){eae(this,t),this.api=e}return Jie(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();oj.default=tae;var nae=CS,sl=xo(nae),rae=ad,Op=xo(rae),iae=KS,UL=xo(iae),aae=XS,kC=xo(aae),sae=YS,oae=xo(sae),lae=j0,cae=xo(lae),uae=oj,dae=xo(uae),VL=sd,fae=E0,zL=xo(fae);function xo(t){return t&&t.__esModule?t:{default:t}}var Ha=function(){},T0=function(e,n,r){var i=new Ha;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,oae.default)(e),i._encodings=[],i._options=zL.default,i._errorHandler=new dae.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=HL()),i.options(r)[r.format](n,r).render()),i};T0.getModule=function(t){return sl.default[t]};for(var IC in sl.default)sl.default.hasOwnProperty(IC)&&hae(sl.default,IC);function hae(t,e){Ha.prototype[e]=Ha.prototype[e.toUpperCase()]=Ha.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var a=(0,Op.default)(i._options,r);a=(0,cae.default)(a);var s=t[e],l=FL(n,s,a);return i._encodings.push(l),i})}}function FL(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new VL.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,UL.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,Op.default)(n,i[a].options);return i}function HL(){return sl.default.CODE128?"CODE128":Object.keys(sl.default)[0]}Ha.prototype.options=function(t){return this._options=(0,Op.default)(this._options,t),this};Ha.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Ha.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Op.default)(this._options,t.options);n.format=="auto"&&(n.format=HL()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=sl.default[n.format.toUpperCase()],a=FL(r,i,n);Dw(t,a,n)})}}};Ha.prototype.render=function(){if(!this._renderProperties)throw new VL.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Dw(this._renderProperties[t],this._encodings,this._options);else Dw(this._renderProperties,this._encodings,this._options);return this};Ha.prototype._defaults=zL.default;function Dw(t,e,n){e=(0,UL.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Op.default)(n,e[r].options),(0,kC.default)(e[r].options);(0,kC.default)(n);var i=t.renderer,a=new i(t.element,e,n);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=T0);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),T0(n,t,e)});var pae=T0;const mae=ft(pae),gae=({isOpen:t,onClose:e,item:n,onConfirmPrint:r})=>{const[i,a]=k.useState(""),[s,l]=k.useState(!1),[c,u]=k.useState(!1),d=k.useRef(null),{user:f}=Dl();k.useEffect(()=>{t&&n&&(h(),u(!1))},[t,n]);const h=()=>{if(!n)return;l(!0);const g=new Date;g.getTime().toString();const v=g.toISOString().split("T")[0].replace(/-/g,""),b=g.toTimeString().split(" ")[0].replace(/:/g,""),x=`${n.id.slice(-8)}${v}${b}`.slice(0,12);if(a(x),d.current)try{mae(d.current,x,{format:"CODE128",width:2,height:80,displayValue:!0,fontSize:12,margin:10}),l(!1)}catch(_){console.error("Error generating barcode:",_),l(!1)}},m=()=>{if(!d.current||!n)return;const g=window.open("","_blank");if(!g)return;const b=d.current.toDataURL("image/png");g.document.write(`
      <html>
        <head>
          <title>Item Barcode - ${n.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              text-align: center;
            }
            .item-info {
              margin-bottom: 20px;
              border: 1px solid #ccc;
              padding: 15px;
              background-color: #f9f9f9;
            }
            .barcode-container {
              margin: 20px 0;
            }
            .print-info {
              margin-top: 20px;
              font-size: 12px;
              color: #666;
            }
            h2 {
              color: #333;
              margin-bottom: 10px;
            }
            .detail-row {
              margin: 5px 0;
              text-align: left;
            }
            .label {
              font-weight: bold;
              display: inline-block;
              width: 100px;
            }
          </style>
        </head>
        <body>
          <h2>Summit Gear Exchange</h2>
          <div class="item-info">
            <h3>${n.title}</h3>
            <div class="detail-row">
              <span class="label">Price:</span> $${n.price}
            </div>
            <div class="detail-row">
              <span class="label">Category:</span> ${n.category}
            </div>
            <div class="detail-row">
              <span class="label">Brand:</span> ${n.brand||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Size:</span> ${n.size||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Seller:</span> ${n.sellerName}
            </div>
            <div class="detail-row">
              <span class="label">Approved:</span> ${new Date().toLocaleString()}
            </div>
          </div>
          <div class="barcode-container">
            <img src="${b}" alt="Barcode: ${i}" />
          </div>
          <div class="print-info">
            <p>Barcode: ${i}</p>
            <p>Generated: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),g.document.close(),g.focus(),g.print()},y=async()=>{if(!(!n||!i||!d.current)){u(!0);try{let g="";await new Promise(b=>{d.current.toBlob(async x=>{if(x)try{const _=mL(gL,`barcodes/${n.id}_${i}.png`);await hL(_,x),g=await pL(_)}catch(_){console.error("Error uploading barcode image:",_)}b()},"image/png")});const v=sr(He,"items",n.id);await Nr(v,{barcodeData:i,barcodeGeneratedAt:new Date,barcodeImageUrl:g,printConfirmedAt:new Date,status:"approved",approvedAt:new Date}),await Vt(f,"item_approved","Generated barcode and approved item",n.id,n.title),r(n,i),e()}catch(g){console.error("Error updating item with barcode:",g)}finally{u(!1)}}};return!t||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Item Barcode"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create and print barcode before approving item"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:n.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Price:"})," $",n.price]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",n.category]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Brand:"})," ",n.brand||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Size:"})," ",n.size||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Seller:"})," ",n.sellerName]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",n.status]})]})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Generated Barcode"}),s?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Generating barcode..."})]}):o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 inline-block",children:[o.jsx("canvas",{ref:d,className:"mx-auto"}),i&&o.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Barcode ID:"})," ",i]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Generated:"})," ",new Date().toLocaleString()]})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Print Label"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Print this barcode label and attach it to the item before adding to inventory."})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:o.jsxs("button",{onClick:m,disabled:s||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white disabled:text-gray-500",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Label"]})})]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{onClick:y,disabled:c||s||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Printed"]})})]})})]})})},yae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState([]),[a,s]=k.useState(!0),[l,c]=k.useState(null),{throttledAction:u,isActionDisabled:d,isActionProcessing:f}=NS(),[h,m]=k.useState(!1),[y,g]=k.useState(!1),[v,b]=k.useState(!1),[x,_]=k.useState(!1),[N,A]=k.useState(!1),[E,w]=k.useState(null),[j,O]=k.useState(""),[I,T]=k.useState(""),[P,R]=k.useState(null);k.useEffect(()=>{t&&n&&V()},[t,n]);const V=async()=>{s(!0);try{const M=Ot(He,"items"),X=wn(M,Sn("status","==","pending")),Y=await Kt(X),ye=[];Y.forEach(de=>{var Q,ce,pe;const ke=de.data();ye.push({id:de.id,...ke,createdAt:((Q=ke.createdAt)==null?void 0:Q.toDate())||new Date,approvedAt:(ce=ke.approvedAt)==null?void 0:ce.toDate(),liveAt:(pe=ke.liveAt)==null?void 0:pe.toDate()})}),ye.sort((de,ke)=>ke.createdAt.getTime()-de.createdAt.getTime()),i(ye)}catch(M){console.error("Error fetching pending items:",M)}finally{s(!1)}},U=async M=>{await u(`approve-${M.id}`,async()=>{w(M),m(!0)})},B=async M=>{await u(`reject-${M.id}`,async()=>{w(M),O(""),b(!0)})},L=async()=>{E&&await u(`confirm-approve-${E.id}`,async()=>{m(!1),g(!0)})},z=async(M,X)=>{i(Y=>Y.filter(ye=>ye.id!==M.id)),w(null)},q=()=>{g(!1),w(null)},te=async()=>{E&&await u(`confirm-reject-${E.id}`,async()=>{c(E.id),b(!1);try{await Nr(sr(He,"items",E.id),{status:"rejected",rejectedAt:f0(),rejectionReason:j||"No reason provided"}),i(M=>M.filter(X=>X.id!==E.id)),T("Item rejected."),_(!0)}catch(M){console.error("Error rejecting item:",M),T("Error rejecting item. Please try again."),A(!0)}finally{c(null),w(null)}})},ee=async M=>{await u(`edit-${M.id}`,async()=>{R(M)})},W=async M=>{await u(`save-edit-${M.id}`,async()=>{c(M.id);try{await Nr(sr(He,"items",M.id),{title:M.title,description:M.description,price:M.price,category:M.category||null,gender:M.gender||null,size:M.size||null,brand:M.brand||null,condition:M.condition||null,material:M.material||null}),i(X=>X.map(Y=>Y.id===M.id?M:Y)),R(null),T("Item updated successfully!"),_(!0)}catch(X){console.error("Error updating item:",X),T("Error updating item. Please try again."),A(!0)}finally{c(null)}})};return t?o.jsxs("div",{className:"mobile-admin-modal",children:[o.jsxs("div",{className:"mobile-admin-modal-content",children:[o.jsx("div",{className:"mobile-admin-modal-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Manage Pending Items"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none p-2 -m-2 mobile-touch-target",children:o.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"mobile-admin-modal-body",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No pending items to review"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All items have been processed!"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:r.map(M=>o.jsx("div",{className:"mobile-admin-item-card",children:o.jsxs("div",{className:"mobile-admin-item-layout",children:[o.jsx("div",{className:"mobile-admin-item-image",children:M.images.length>0?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:M.images[0],alt:M.title,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg"}),M.images.length>1&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",M.images.length-1]})]}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"mobile-admin-item-content",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-4",children:[o.jsx("h3",{className:"mobile-admin-item-title",children:M.title}),o.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-600 text-center sm:text-right",children:["$",M.price.toFixed(2)]})]}),o.jsx("p",{className:"mobile-admin-item-description",children:M.description}),o.jsxs("div",{className:"mobile-admin-item-details",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Seller:"})," ",M.sellerName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",M.sellerEmail]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted:"})," ",M.createdAt.toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Images:"})," ",M.images.length]})]}),o.jsxs("div",{className:"mobile-admin-item-actions",children:[o.jsx("button",{onClick:()=>ee(M),disabled:l===M.id||d(`edit-${M.id}`),className:"mobile-admin-button mobile-admin-button-edit disabled:opacity-50 disabled:cursor-not-allowed",children:f(`edit-${M.id}`)?"Opening...":"Edit Details"}),o.jsx("button",{onClick:()=>U(M),disabled:l===M.id||d(`approve-${M.id}`),className:"mobile-admin-button mobile-admin-button-approve disabled:opacity-50 disabled:cursor-not-allowed",children:l===M.id?"Processing...":f(`approve-${M.id}`)?"Opening...":"Approve Item"}),o.jsx("button",{onClick:()=>B(M),disabled:l===M.id||d(`reject-${M.id}`),className:"mobile-admin-button mobile-admin-button-reject disabled:opacity-50 disabled:cursor-not-allowed",children:l===M.id?"Processing...":f(`reject-${M.id}`)?"Opening...":"Reject Item"})]})]})]})},M.id))})})]}),h&&E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Item"})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Approving "',o.jsx("span",{className:"font-medium",children:E.title}),'" will generate a barcode label that must be printed. After printing, the item will be available to employees for 3 days before going live to all customers.']}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:L,disabled:E?d(`confirm-approve-${E.id}`):!1,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E&&f(`confirm-approve-${E.id}`)?"Processing...":"Generate Label & Approve"})]})]})}),v&&E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Item"})]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to reject "',o.jsx("span",{className:"font-medium",children:E.title}),'"?']}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection (optional)"}),o.jsx("textarea",{value:j,onChange:M=>O(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"Enter reason for rejection..."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:te,disabled:E?d(`confirm-reject-${E.id}`):!1,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E&&f(`confirm-reject-${E.id}`)?"Processing...":"Reject Item"})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:I}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:I}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})}),P&&o.jsx(vae,{item:P,onSave:W,onCancel:()=>R(null),isProcessing:l===P.id}),y&&E&&o.jsx(gae,{isOpen:y,onClose:q,item:E,onConfirmPrint:z})]}):null},vae=({item:t,onSave:e,onCancel:n,isProcessing:r})=>{const[i,a]=k.useState(t.title),[s,l]=k.useState(t.description),[c,u]=k.useState(t.price.toString()),[d,f]=k.useState(t.category||""),[h,m]=k.useState(t.gender||""),[y,g]=k.useState(t.size||""),[v,b]=k.useState(t.brand||""),[x,_]=k.useState(t.condition||""),[N,A]=k.useState(t.material||""),[E,w]=k.useState(!1),[j,O]=k.useState(""),I=()=>{if(!i.trim()||!s.trim()||!c.trim()){O("Please fill in all required fields"),w(!0);return}const T=parseFloat(c);if(isNaN(T)||T<=0){O("Please enter a valid price greater than 0"),w(!0);return}e({...t,title:i.trim(),description:s.trim(),price:T,category:d||void 0,gender:h||void 0,size:y||void 0,brand:v.trim()||void 0,condition:x||void 0,material:N.trim()||void 0})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Item Details"})}),o.jsxs("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),o.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("textarea",{value:s,onChange:T=>l(T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),o.jsx("input",{type:"text",value:c,onChange:T=>{const P=T.target.value;(P===""||/^\d*\.?\d*$/.test(P))&&u(P)},className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Additional Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Climbing",children:"Climbing "}),o.jsx("option",{value:"Skiing",children:"Skiing "}),o.jsx("option",{value:"Hiking",children:"Hiking "}),o.jsx("option",{value:"Camping",children:"Camping "}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering "}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding "}),o.jsx("option",{value:"Cycling",children:"Cycling "}),o.jsx("option",{value:"Water Sports",children:"Water Sports "}),o.jsx("option",{value:"Apparel",children:"Apparel "}),o.jsx("option",{value:"Footwear",children:"Footwear "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),o.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),o.jsxs("select",{value:y,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),o.jsxs("select",{value:x,onChange:T=>_(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Condition"}),o.jsx("option",{value:"New",children:"New - Never used"}),o.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),o.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),o.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),o.jsx("input",{type:"text",value:v,onChange:T=>b(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Patagonia, REI"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),o.jsx("input",{type:"text",value:N,onChange:T=>A(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gore-Tex, Cotton"})]})]})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:I,disabled:r,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r?"Saving...":"Save Changes"})]}),E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Validation Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:j}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]})})},xae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState([]),[a,s]=k.useState(!0),[l,c]=k.useState(null),{throttledAction:u,isActionDisabled:d,isActionProcessing:f}=NS(),[h,m]=k.useState(!1),[y,g]=k.useState(!1),[v,b]=k.useState(!1),[x,_]=k.useState(null),[N,A]=k.useState("");k.useEffect(()=>{t&&n&&E()},[t,n]);const E=async()=>{s(!0);try{const T=Ot(He,"items"),P=wn(T,Sn("status","==","approved")),R=await Kt(P),V=[];R.forEach(U=>{var L,z,q,te,ee;const B=U.data();V.push({id:U.id,...B,createdAt:((L=B.createdAt)==null?void 0:L.toDate())||new Date,approvedAt:((z=B.approvedAt)==null?void 0:z.toDate())||new Date,liveAt:(q=B.liveAt)==null?void 0:q.toDate(),barcodeGeneratedAt:(te=B.barcodeGeneratedAt)==null?void 0:te.toDate(),printConfirmedAt:(ee=B.printConfirmedAt)==null?void 0:ee.toDate()})}),V.sort((U,B)=>{var L,z;return(((L=B.approvedAt)==null?void 0:L.getTime())||0)-(((z=U.approvedAt)==null?void 0:z.getTime())||0)}),i(V)}catch(T){console.error("Error fetching approved items:",T)}finally{s(!1)}},w=T=>{const R=new Date(T.getTime()+2592e5),V=new Date,U=R.getTime()-V.getTime();if(U<=0)return{expired:!0,text:"Ready to go live!"};const B=Math.floor(U/(24*60*60*1e3)),L=Math.floor(U%(24*60*60*1e3)/(60*60*1e3)),z=Math.floor(U%(60*60*1e3)/(60*1e3));return{expired:!1,text:`${B}d ${L}h ${z}m remaining`,goLiveTime:R.toLocaleDateString()+" "+R.toLocaleTimeString()}},j=async T=>{await u(`make-live-${T.id}`,async()=>{_(T),m(!0)})},O=async()=>{x&&await u(`confirm-make-live-${x.id}`,async()=>{m(!1),c(x.id);try{await Nr(sr(He,"items",x.id),{status:"live",liveAt:f0()}),i(T=>T.filter(P=>P.id!==x.id)),e()}catch(T){console.error("Error making item live:",T),A("Error making item live. Please try again."),b(!0)}finally{c(null),_(null)}})},I=async T=>{await u(`send-back-${T.id}`,async()=>{c(T.id);try{await Nr(sr(He,"items",T.id),{status:"pending",liveAt:null}),i(P=>P.filter(R=>R.id!==T.id)),A("Item sent back to pending queue."),g(!0)}catch(P){console.error("Error sending item back to pending:",P),A("Error sending item back to pending. Please try again."),b(!0)}finally{c(null)}})};return t?o.jsxs("div",{className:"mobile-admin-modal",children:[o.jsxs("div",{className:"mobile-admin-modal-content",children:[o.jsx("div",{className:"mobile-admin-modal-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Approved Items"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Employee preview before going live"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none p-2 -m-2 mobile-touch-target",children:o.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"mobile-admin-modal-body",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No approved items"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Items will appear here after approval"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:r.map(T=>{var R;const P=w(T.approvedAt);return o.jsx("div",{className:"mobile-admin-item-card bg-gradient-to-r from-orange-50 to-yellow-50",children:o.jsxs("div",{className:"mobile-admin-item-layout",children:[o.jsx("div",{className:"mobile-admin-item-image",children:T.images.length>0?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:T.images[0],alt:T.title,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg"}),T.images.length>1&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",T.images.length-1]})]}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"mobile-admin-item-content",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-4",children:[o.jsx("h3",{className:"mobile-admin-item-title",children:T.title}),o.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-600 text-center sm:text-right",children:["$",T.price.toFixed(2)]})]}),o.jsx("p",{className:"mobile-admin-item-description",children:T.description}),o.jsxs("div",{className:"bg-white rounded-lg p-2 sm:p-3 border border-orange-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:`text-sm sm:text-base font-medium ${P.expired?"text-green-600":"text-orange-600"}`,children:P.text})]}),!P.expired&&P.goLiveTime&&o.jsxs("p",{className:"text-xs text-gray-500",children:["Goes live: ",P.goLiveTime]})]}),o.jsxs("div",{className:"mobile-admin-item-details",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Seller:"})," ",T.sellerName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Approved:"})," ",(R=T.approvedAt)==null?void 0:R.toLocaleDateString()]}),T.barcodeData&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Barcode:"})," ",T.barcodeData]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Label Generated:"})," ",T.barcodeGeneratedAt?T.barcodeGeneratedAt instanceof Date?T.barcodeGeneratedAt.toLocaleDateString():new Date(T.barcodeGeneratedAt).toLocaleDateString():"N/A"]})]})]}),o.jsxs("div",{className:"mobile-admin-item-actions",children:[o.jsx("button",{onClick:()=>I(T),disabled:l===T.id||d(`send-back-${T.id}`),className:"mobile-admin-button mobile-admin-button-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:l===T.id?"Processing...":f(`send-back-${T.id}`)?"Sending...":"Send Back to Pending"}),o.jsx("button",{onClick:()=>j(T),disabled:l===T.id||d(`make-live-${T.id}`),className:"mobile-admin-button mobile-admin-button-approve disabled:opacity-50 disabled:cursor-not-allowed",children:l===T.id?"Processing...":f(`make-live-${T.id}`)?"Opening...":"Mark as Live"})]})]})]})},T.id)})})})]}),h&&x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Item Live"})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to make "',o.jsx("span",{className:"font-medium",children:x.title}),'" live? This will make it available to all customers immediately.',x.barcodeData?o.jsx("span",{className:"block mt-2 text-green-600 text-sm",children:" Barcode label has been generated and printed."}):o.jsx("span",{className:"block mt-2 text-amber-600 text-sm",children:" Note: No barcode label has been generated for this item."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:O,disabled:x?d(`confirm-make-live-${x.id}`):!1,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x&&f(`confirm-make-live-${x.id}`)?"Processing...":"Make Live Now"})]})]})}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:N}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:N}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]}):null},bae=({isOpen:t,onClose:e})=>{const{throttledAction:n,isActionDisabled:r}=g0(),[i,a]=k.useState("all"),[s,l]=k.useState(""),c=[{id:"auth-google",name:"Google Authentication",description:"Sign in with Google account using Firebase Auth",status:"untested",category:"Authentication",priority:"critical"},{id:"auth-phone",name:"Phone Number Authentication",description:"Sign in with phone number using SMS verification",status:"untested",category:"Authentication",priority:"critical"},{id:"auth-admin-toggle",name:"Admin Mode Toggle",description:"Switch between admin and regular user modes",status:"untested",category:"Authentication",priority:"high"},{id:"auth-logout",name:"User Logout",description:"Sign out functionality with proper session cleanup",status:"untested",category:"Authentication",priority:"high"},{id:"item-add",name:"Add New Item",description:"Create new consignment items with images, details, and pricing",status:"untested",category:"Item Management",priority:"critical"},{id:"item-edit",name:"Edit Item Details",description:"Modify existing item information, pricing, and status",status:"untested",category:"Item Management",priority:"high"},{id:"item-image-upload",name:"Image Upload & Management",description:"Upload, crop, and manage multiple item images",status:"untested",category:"Item Management",priority:"high"},{id:"item-status-workflow",name:"Item Status Workflow",description:"Pending  Approved  Live  Sold status transitions",status:"untested",category:"Item Management",priority:"critical"},{id:"item-archive",name:"Item Archival",description:"Archive items with reasons and restore functionality",status:"untested",category:"Item Management",priority:"medium"},{id:"item-discount",name:"Discount Management",description:"Apply discounts to items with percentage and reason tracking",status:"untested",category:"Item Management",priority:"medium"},{id:"inventory-filtering",name:"Advanced Filtering System",description:"Filter by category, gender, size, brand, color, price range",status:"untested",category:"Inventory",priority:"high"},{id:"inventory-search",name:"Search Functionality",description:"Text search across titles, descriptions, brands, and metadata",status:"untested",category:"Inventory",priority:"high"},{id:"inventory-sorting",name:"Sorting Options",description:"Sort by newest, oldest, price (low to high), price (high to low)",status:"untested",category:"Inventory",priority:"medium"},{id:"inventory-grid",name:"Responsive Item Grid",description:"Mobile-responsive grid layout with item cards",status:"untested",category:"Inventory",priority:"high"},{id:"inventory-pagination",name:"Infinite Scroll/Pagination",description:"Efficient loading of large item catalogs",status:"untested",category:"Inventory",priority:"medium"},{id:"cart-add-items",name:"Add Items to Cart",description:"Add items to shopping cart with quantity management",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"cart-management",name:"Cart Management",description:"View, modify, and remove items from cart",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"cart-persistence",name:"Cart Persistence",description:"User-specific cart storage and retrieval",status:"untested",category:"Shopping Cart",priority:"high"},{id:"checkout-process",name:"Checkout Process",description:"Complete purchase flow with payment processing",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"checkout-stripe",name:"Stripe Payment Integration",description:"Secure payment processing with Stripe",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"checkout-fulfillment",name:"Fulfillment Options",description:"Pickup vs shipping options for orders",status:"untested",category:"Shopping Cart",priority:"high"},{id:"bookmarks-add",name:"Add to Bookmarks",description:"Save items to personal bookmarks list",status:"untested",category:"Bookmarks",priority:"medium"},{id:"bookmarks-management",name:"Bookmark Management",description:"View and manage bookmarked items",status:"untested",category:"Bookmarks",priority:"medium"},{id:"bookmarks-persistence",name:"Bookmark Persistence",description:"User-specific bookmark storage and retrieval",status:"untested",category:"Bookmarks",priority:"medium"},{id:"admin-pending-approval",name:"Pending Items Approval",description:"Review and approve/reject pending items",status:"untested",category:"Admin Dashboard",priority:"critical"},{id:"admin-inventory-management",name:"Inventory Dashboard",description:"Comprehensive inventory management interface",status:"untested",category:"Admin Dashboard",priority:"critical"},{id:"admin-actions-dashboard",name:"Actions Dashboard",description:"Track and manage all administrative actions",status:"untested",category:"Admin Dashboard",priority:"high"},{id:"admin-user-analytics",name:"User Analytics",description:"Comprehensive user performance and analytics",status:"untested",category:"Admin Dashboard",priority:"high"},{id:"admin-bulk-operations",name:"Bulk Operations",description:"Bulk approve, archive, or modify multiple items",status:"untested",category:"Admin Dashboard",priority:"medium"},{id:"sales-in-store",name:"In-Store Sales",description:"Process in-store sales with cash/card payments",status:"untested",category:"Sales Management",priority:"critical"},{id:"sales-online",name:"Online Sales",description:"Process online orders with shipping/pickup",status:"untested",category:"Sales Management",priority:"critical"},{id:"sales-tracking",name:"Sales Tracking",description:"Track sales history and transaction details",status:"untested",category:"Sales Management",priority:"high"},{id:"sales-refunds",name:"Refund Processing",description:"Process refunds with reason tracking",status:"untested",category:"Sales Management",priority:"high"},{id:"shipping-labels",name:"Shipping Label Generation",description:"Generate shipping labels for online orders",status:"untested",category:"Shipping",priority:"high"},{id:"shipping-tracking",name:"Shipping Tracking",description:"Track shipment status and delivery updates",status:"untested",category:"Shipping",priority:"high"},{id:"shipping-notifications",name:"Shipping Notifications",description:"Automated notifications for shipping updates",status:"untested",category:"Shipping",priority:"medium"},{id:"barcode-generation",name:"Barcode Generation",description:"Generate unique barcodes for inventory items",status:"untested",category:"Barcode System",priority:"medium"},{id:"barcode-printing",name:"Barcode Printing",description:"Print barcode labels for physical inventory",status:"untested",category:"Barcode System",priority:"medium"},{id:"barcode-scanning",name:"Barcode Scanning",description:"Scan barcodes for quick item lookup",status:"untested",category:"Barcode System",priority:"low"},{id:"financial-earnings-split",name:"Earnings Split Calculation",description:"Automatic 75/25 split between seller and store",status:"untested",category:"Financial",priority:"critical"},{id:"financial-store-credit",name:"Store Credit System",description:"Manage store credit balances and transactions",status:"untested",category:"Financial",priority:"high"},{id:"financial-payment-tracking",name:"Payment Tracking",description:"Track payments made to consigners",status:"untested",category:"Financial",priority:"high"},{id:"financial-outstanding-balance",name:"Outstanding Balance Management",description:"Track and manage outstanding payments to users",status:"untested",category:"Financial",priority:"high"},{id:"analytics-sales-metrics",name:"Sales Analytics",description:"Comprehensive sales metrics and performance tracking",status:"untested",category:"Analytics",priority:"high"},{id:"analytics-user-performance",name:"User Performance Analytics",description:"Individual user sales and performance metrics",status:"untested",category:"Analytics",priority:"medium"},{id:"analytics-inventory-metrics",name:"Inventory Analytics",description:"Inventory turnover and performance metrics",status:"untested",category:"Analytics",priority:"medium"},{id:"analytics-financial-reports",name:"Financial Reporting",description:"Revenue, profit, and financial performance reports",status:"untested",category:"Analytics",priority:"high"},{id:"notifications-activity",name:"Activity Notifications",description:"Real-time notifications for item status changes",status:"untested",category:"Notifications",priority:"medium"},{id:"notifications-alerts",name:"System Alerts",description:"Important system alerts and notifications",status:"untested",category:"Notifications",priority:"medium"},{id:"notifications-email",name:"Email Notifications",description:"Automated email notifications for key events",status:"untested",category:"Notifications",priority:"low"},{id:"mobile-responsive-design",name:"Mobile Responsive Design",description:"Fully responsive design for mobile devices",status:"untested",category:"Mobile",priority:"critical"},{id:"mobile-touch-interface",name:"Touch-Friendly Interface",description:"Optimized touch interactions for mobile",status:"untested",category:"Mobile",priority:"high"},{id:"mobile-navigation",name:"Mobile Navigation",description:"Collapsible navigation and mobile-optimized menus",status:"untested",category:"Mobile",priority:"high"},{id:"security-firebase-rules",name:"Firebase Security Rules",description:"Proper security rules for database access",status:"untested",category:"Security",priority:"critical"},{id:"security-user-permissions",name:"User Permission System",description:"Role-based access control for admin functions",status:"untested",category:"Security",priority:"critical"},{id:"performance-image-optimization",name:"Image Optimization",description:"Optimized image loading and caching",status:"untested",category:"Performance",priority:"medium"},{id:"performance-lazy-loading",name:"Lazy Loading",description:"Efficient loading of images and components",status:"untested",category:"Performance",priority:"medium"},{id:"performance-button-throttling",name:"Button Throttling",description:"Prevent double-clicks and rapid API calls",status:"untested",category:"Performance",priority:"medium"},{id:"error-handling-api",name:"API Error Handling",description:"Proper error handling for API calls",status:"untested",category:"Error Handling",priority:"high"},{id:"error-handling-ui",name:"UI Error States",description:"User-friendly error messages and states",status:"untested",category:"Error Handling",priority:"medium"},{id:"error-handling-offline",name:"Offline Handling",description:"Graceful handling of offline states",status:"untested",category:"Error Handling",priority:"low"}],u=["all",...Array.from(new Set(c.map(g=>g.category))).sort()],d=c.filter(g=>{const v=i==="all"||g.category===i,b=s===""||g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||g.category.toLowerCase().includes(s.toLowerCase());return v&&b}),f=g=>{switch(g){case"passed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"testing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},h=g=>{switch(g){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},y={total:c.length,untested:c.filter(v=>v.status==="untested").length,testing:c.filter(v=>v.status==="testing").length,passed:c.filter(v=>v.status==="passed").length,failed:c.filter(v=>v.status==="failed").length};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Application Test & Performance"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive feature testing and performance monitoring"})]}),o.jsx("button",{onClick:()=>n("close_modal",()=>e()),disabled:r("close_modal"),className:"text-gray-400 hover:text-gray-600 focus:outline-none disabled:opacity-50",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Features"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.total})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Untested"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.untested})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Testing"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.testing})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.passed})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.failed})]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Features"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:s,onChange:g=>l(g.target.value),placeholder:"Search features...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{className:"sm:w-64",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsx("select",{value:i,onChange:g=>a(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:u.map(g=>o.jsx("option",{value:g,children:g==="all"?"All Categories":g},g))})]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Feature"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(g=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),o.jsx("div",{className:"text-sm text-gray-500 max-w-md",children:g.description})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:g.category})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h(g.priority)}`,children:g.priority.charAt(0).toUpperCase()+g.priority.slice(1)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(g.status)}`,children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[o.jsx("button",{className:"text-orange-600 hover:text-orange-900 mr-3",children:"Test"}),o.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Details"})]})]},g.id))})]})})}),d.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Features Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]})]})}):null},PC=({isOpen:t,onClose:e,onGoogleLogin:n,onPhoneLogin:r})=>{const[i,a]=k.useState(""),[s,l]=k.useState(!1),[c,u]=k.useState("selection"),[d,f]=k.useState(null);if(!t)return null;const h=async()=>{l(!0);try{await n(),e()}catch(x){console.error("Google login failed:",x),alert("Google login failed. Please try again.")}finally{l(!1)}},m=async()=>{if(!i.trim()){f("Please enter a phone number");return}if(i.replace(/\D/g,"").length!==10){f("Please enter a valid 10-digit phone number");return}l(!0),f(null);try{console.log("Starting phone login with:",i),await r(i),console.log("Phone login successful"),e(),y()}catch(_){console.error("Phone login failed:",_);const N=_ instanceof Error?_.message:"Phone login failed. Please try again.";f(N)}finally{l(!1)}},y=()=>{a(""),u("selection"),l(!1),f(null)},g=()=>{y(),e()},v=x=>{const _=x.replace(/\D/g,"");return _.length<=3?_:_.length<=6?`(${_.slice(0,3)}) ${_.slice(3)}`:`(${_.slice(0,3)}) ${_.slice(3,6)}-${_.slice(6,10)}`},b=x=>{const _=v(x.target.value);a(_)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c==="selection"?"Welcome to Summit Gear Exchange":"Sign In with Phone"}),o.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6",children:c==="selection"?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Choose how you'd like to sign in"}),o.jsxs("button",{onClick:h,disabled:s,className:"w-full flex items-center justify-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),o.jsxs("button",{onClick:()=>u("phone"),disabled:s,className:"w-full flex items-center justify-center px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone Number"]}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our terms and conditions"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>u("selection"),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm mb-4",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to sign in options"]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",id:"phone",value:i,onChange:b,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:14}),d&&o.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:d})]}),o.jsx("button",{onClick:m,disabled:s||!i.trim(),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Quick & Simple:"})," No verification needed! Just enter your phone number and you're ready to start buying and selling gear."]})})]})})]})})},wae=t=>{if(!t)return null;try{return t instanceof Date?t:t.toDate&&typeof t.toDate=="function"?t.toDate():t.seconds?new Date(t.seconds*1e3):new Date(t)}catch(e){return console.error("Error converting timestamp:",e),null}},Gi=t=>{const e=wae(t);return e?e.toLocaleDateString():"N/A"},lj=({isOpen:t,onClose:e,item:n,onItemUpdated:r})=>{var ce,pe,Z,je,Ae,ge;const{addToCart:i,isInCart:a,getCartItemQuantity:s,toggleBookmark:l,isBookmarked:c,cartItems:u,bookmarkedItems:d,isCartActionDisabled:f,isCartActionProcessing:h}=Sp(),{isAdmin:m,user:y}=Dl(),g=k.useRef(null),{throttledAction:v,isActionDisabled:b,isActionProcessing:x}=OS(),[_,N]=k.useState(!1),[A,E]=k.useState(""),[w,j]=k.useState(!1),[O,I]=k.useState(!1),[T,P]=k.useState(""),[R,V]=k.useState(""),[U,B]=k.useState(!1);if(k.useEffect(()=>{n&&(console.log("Bookmark state check for",n.title,"- Bookmarked:",c(n.id)),console.log("Total bookmarked items:",d.length))},[d,n,c]),k.useEffect(()=>{n&&E(n.price.toString())},[n]),!t||!n)return null;const L=ae=>{switch(ae){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=ae=>{switch(ae){case"pending":return"Pending Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return ae}},q=async()=>{console.log("Before adding to cart - Cart items count:",u.length),console.log("Item being added:",n.title,"ID:",n.id),console.log("Is item already in cart?",a(n.id)),console.log("Current cart quantity for this item:",s(n.id)),await i(n,y);const ae=document.createElement("div");ae.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",ae.textContent=`${n.title} added to cart!`,document.body.appendChild(ae),setTimeout(()=>{document.body.contains(ae)&&document.body.removeChild(ae)},2e3)},te=async()=>{await v(`bookmark-${n.id}`,async()=>{const ae=c(n.id);console.log("Before bookmark toggle - Item ID:",n.id,"Was bookmarked:",ae),console.log("Current bookmarked items count:",d.length),await l(n.id,y);const ve=document.createElement("div");ve.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",ve.textContent=ae?`Removed ${n.title} from bookmarks`:`${n.title} bookmarked!`,document.body.appendChild(ve),setTimeout(()=>{document.body.contains(ve)&&document.body.removeChild(ve)},2e3)})},ee=n.status==="live",W=()=>{N(!0)},M=async()=>{if(!(!A||parseFloat(A)<=0)){j(!0);try{const ae=sr(He,"items",n.id),ve=parseFloat(A);await Nr(ae,{status:"sold",soldAt:new Date,soldPrice:ve,saleType:"in-store"}),await Vt(y,"item_marked_sold",`Marked item as sold for $${ve}`,n.id,n.title),N(!1),E(""),setTimeout(()=>{e()},2e3)}finally{j(!1)}}},X=()=>{I(!0)},Y=()=>{I(!1),P(""),V("")},ye=()=>{N(!1),E("")},de=async()=>{var ae;if(!T.trim()){alert("Please provide a reason for the refund.");return}if(R!=="123"){alert("Invalid password. Please enter the correct password.");return}B(!0);try{const ve={id:`refund_${n.id}_${Date.now()}`,itemId:n.id,itemTitle:n.title,originalPrice:n.soldPrice||n.price,refundAmount:n.soldPrice||n.price,reason:T.trim(),refundedAt:new Date,refundedBy:(y==null?void 0:y.uid)||"",refundedByName:(y==null?void 0:y.displayName)||(y==null?void 0:y.email)||"Admin",originalBuyerId:n.buyerId||"",originalBuyerName:n.buyerName||((ae=n.buyerInfo)==null?void 0:ae.name)||"Unknown Buyer",sellerName:n.sellerName,sellerId:n.sellerId},Re=Ot(He,"refunds");await hh(Re,ve);const $e=sr(He,"items",n.id);await Nr($e,{status:"approved",soldAt:null,soldPrice:null,buyerId:null,buyerName:null,buyerEmail:null,saleType:null,refundedAt:new Date,refundReason:T.trim()}),await Vt(y,"item_refunded",`Issued refund: ${T}`,n.id,n.title),I(!1),P(""),V(""),setTimeout(()=>{e()},1500)}catch(ve){console.error("Error processing refund:",ve),alert("Error processing refund. Please try again.")}finally{B(!1)}},ke=ae=>{const ve=window.open("","_blank");ve&&(ve.document.write(`
        <html>
          <head>
            <title>Barcode Label - ${n.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
              .item-info { margin-bottom: 20px; border: 1px solid #ccc; padding: 15px; background-color: #f9f9f9; }
              .barcode-container { margin: 20px 0; }
              .print-info { margin-top: 20px; font-size: 12px; color: #666; }
              h2 { color: #333; margin-bottom: 10px; }
              .detail-row { margin: 5px 0; text-align: left; }
              .label { font-weight: bold; display: inline-block; width: 100px; }
            </style>
          </head>
          <body>
            <h2>Summit Gear Exchange</h2>
            <div class="item-info">
              <h3>${n.title}</h3>
              <div class="detail-row">
                <span class="label">Price:</span> $${n.price}
              </div>
              <div class="detail-row">
                <span class="label">Category:</span> ${n.category}
              </div>
              <div class="detail-row">
                <span class="label">Brand:</span> ${n.brand||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Size:</span> ${n.size||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Seller:</span> ${n.sellerName}
              </div>
              <div class="detail-row">
                <span class="label">Status:</span> ${n.status}
              </div>
            </div>
            <div class="barcode-container">
              <img src="${ae}" alt="Barcode: ${n.barcodeData}" style="max-width: 100%; height: auto;" />
            </div>
            <div class="print-info">
              <p>Barcode: ${n.barcodeData}</p>
              <p>Generated: ${Gi(n.barcodeGeneratedAt)||Gi(new Date)}</p>
              <p>Printed: ${new Date().toLocaleString()}</p>
            </div>
          </body>
        </html>
      `),ve.document.close(),ve.focus(),ve.print())},Q=async ae=>{if(n)try{const ve=sr(He,"items",n.id),Re={status:ae};ae==="live"?Re.liveAt=new Date:ae==="approved"?Re.approvedAt=new Date:ae==="archived"?Re.archivedAt=new Date:ae==="pending"&&(Re.approvedAt=null,Re.liveAt=null),await Nr(ve,Re);const $e=ae==="live"?"made item live":ae==="approved"?"moved item to approved":ae==="archived"?"removed/archived item":ae==="pending"?"moved item back to pending":`updated item to ${ae}`;await Vt(y,`item_${ae}`,`Admin ${$e}`,n.id,n.title);const ht=document.createElement("div");ht.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg";const Bt=ae==="live"?"made live":ae==="approved"?"moved to approved":ae==="archived"?"removed from listings":ae==="pending"?"moved to pending review":`updated to ${ae}`;ht.textContent=`Item ${Bt} successfully!`,document.body.appendChild(ht),setTimeout(()=>{document.body.contains(ht)&&document.body.removeChild(ht)},2e3),r&&r(),e()}catch(ve){console.error("Error updating item:",ve);const Re=document.createElement("div");Re.className="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",Re.textContent="Error updating item. Please try again.",document.body.appendChild(Re),setTimeout(()=>{document.body.contains(Re)&&document.body.removeChild(Re)},2e3)}};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[80] p-4",children:[o.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${n.status==="sold"?"max-w-7xl":"max-w-4xl"} w-full max-h-[90vh] overflow-hidden`,children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${L(n.status)}`,children:z(n.status)}),o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",n.price]})]}),m&&n.status!=="sold"&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.status==="approved"&&o.jsxs("button",{onClick:W,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark as Sold"]}),n.status!=="pending"&&o.jsxs("button",{onClick:()=>Q("pending"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Send to Pending"]}),n.status!=="approved"&&o.jsxs("button",{onClick:()=>Q("approved"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Send Back to Approved Items"]}),n.barcodeImageUrl&&o.jsxs("button",{onClick:()=>ke(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]}),m&&n.status==="sold"&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[o.jsxs("button",{onClick:X,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})}),"Issue Refund"]}),n.barcodeImageUrl&&o.jsxs("button",{onClick:()=>ke(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none ml-4",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:`${n.status==="sold"?"grid grid-cols-1 lg:grid-cols-2 gap-8":""}`,children:[n.images&&n.images.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:`grid ${n.status==="sold"?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2 gap-4"}`,children:n.images.slice(0,4).map((ae,ve)=>o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:o.jsx("img",{src:ae,alt:`${n.title} ${ve+1}`,className:"w-full h-full object-cover"})},ve))}),n.images.length>4&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["+",n.images.length-4," more images"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Category"}),o.jsx("p",{className:"text-gray-600",children:n.category})]}),n.brand&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Brand"}),o.jsx("p",{className:"text-gray-600",children:n.brand})]}),n.size&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Size"}),o.jsx("p",{className:"text-gray-600",children:n.size})]}),n.color&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Color"}),o.jsx("p",{className:"text-gray-600",children:n.color})]}),n.condition&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Condition"}),o.jsx("p",{className:"text-gray-600",children:n.condition})]}),n.gender&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Gender"}),o.jsx("p",{className:"text-gray-600",children:n.gender})]})]})]})]}),o.jsxs("div",{className:`${n.status==="sold"?"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6":"mt-6"}`,children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Seller Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"}),o.jsx("span",{className:"ml-2 font-medium",children:n.sellerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"ml-2",children:n.sellerEmail})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Listed:"}),o.jsx("span",{className:"ml-2",children:Gi(n.createdAt)})]}),n.approvedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Approved:"}),o.jsx("span",{className:"ml-2",children:Gi(n.approvedAt)})]})]})]}),m&&n.barcodeData&&o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Barcode Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Barcode ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.barcodeData})]}),n.barcodeGeneratedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Generated:"}),o.jsx("span",{className:"ml-2",children:Gi(n.barcodeGeneratedAt)})]}),n.barcodeImageUrl&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Barcode Image:"}),o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:n.barcodeImageUrl,alt:`Barcode: ${n.barcodeData}`,className:"max-w-xs bg-white p-2 border rounded"})})]})]})]})]})]}),!m&&ee?o.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:te,disabled:b(`bookmark-${n.id}`),className:`flex-shrink-0 p-3 rounded-lg border-2 transition-all duration-200 ${c(n.id)?"border-red-500 bg-red-50 text-red-600":"border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"} disabled:opacity-50 disabled:cursor-not-allowed`,title:x(`bookmark-${n.id}`)?"Processing...":c(n.id)?"Remove from bookmarks":"Add to bookmarks",children:o.jsx("svg",{className:"w-6 h-6",fill:c(n.id)?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),o.jsxs("button",{onClick:q,disabled:f(`add-to-cart-${n.id}`),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${a(n.id)?"bg-green-500 text-white hover:bg-green-600":"bg-orange-500 text-white hover:bg-orange-600"} flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),h(`add-to-cart-${n.id}`)?o.jsx("span",{children:"Adding..."}):a(n.id)?o.jsxs("span",{children:["In Cart (",s(n.id),")"]}):o.jsxs("span",{children:["Add to Cart - $",n.price]})]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:" Secure checkout with Stripe   Quality guaranteed   Local pickup available"})})]}):null,!ee&&n.status!=="sold"&&o.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-gray-600 font-medium",children:[n.status==="pending"&&"This item is currently under review",n.status==="approved"&&"This item is approved and will be available soon",n.status==="archived"&&"This item is no longer available"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back later or browse our other available items"})]})}),n.status==="sold"&&o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"font-medium text-green-800",children:"Item Sold"}),o.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:n.saleType==="online"?" Online":" In-Store"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Sold Price:"}),o.jsxs("span",{className:"ml-2 font-semibold text-green-700",children:["$",n.soldPrice||n.price]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Sold Date:"}),o.jsx("span",{className:"ml-2 font-medium",children:Gi(n.soldAt)})]}),n.saleTransactionId&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.saleTransactionId})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[n.barcodeData&&o.jsxs("button",{onClick:()=>{const ae=window.open("","_blank");ae&&(ae.document.write(`
                          <html>
                            <head>
                              <title>Barcode Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
                                .barcode-container { margin: 20px 0; }
                                .item-info { margin-bottom: 20px; }
                              </style>
                            </head>
                            <body>
                              <div class="item-info">
                                <h3>${n.title}</h3>
                                <p>Price: $${n.soldPrice||n.price} | Sold: ${Gi(n.soldAt)}</p>
                              </div>
                              <div class="barcode-container">
                                <p>Barcode: ${n.barcodeData}</p>
                                <p>Generated: ${Gi(n.barcodeGeneratedAt)||Gi(new Date)}</p>
                              </div>
                            </body>
                          </html>
                        `),ae.document.close(),ae.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-gray-500 text-white hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]}),n.saleType==="online"&&n.buyerInfo&&o.jsxs("button",{onClick:()=>{var ve,Re,$e,ht,Bt;const ae=window.open("","_blank");ae&&(ae.document.write(`
                          <html>
                            <head>
                              <title>Shipping Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; }
                                .shipping-label { border: 2px solid #000; padding: 20px; max-width: 600px; margin: 0 auto; }
                                .from, .to { margin-bottom: 20px; }
                                .to { border-top: 2px solid #000; padding-top: 20px; }
                                .item-details { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
                                h3 { margin: 0 0 10px 0; }
                              </style>
                            </head>
                            <body>
                              <div class="shipping-label">
                                <div class="from">
                                  <h3>FROM:</h3>
                                  <p><strong>Summit Gear Exchange</strong><br>
                                  123 Mountain View Drive<br>
                                  Summit, CO 80424<br>
                                  Phone: (555) 123-4567</p>
                                </div>
                                                                 <div class="to">
                                   <h3>TO:</h3>
                                   <p><strong>${((ve=n.buyerInfo)==null?void 0:ve.name)||"N/A"}</strong><br>
                                   ${((Re=n.buyerInfo)==null?void 0:Re.address)||"N/A"}<br>
                                   ${(($e=n.buyerInfo)==null?void 0:$e.city)||"N/A"}, ${((ht=n.buyerInfo)==null?void 0:ht.zipCode)||"N/A"}<br>
                                   Phone: ${((Bt=n.buyerInfo)==null?void 0:Bt.phone)||"N/A"}</p>
                                 </div>
                                <div class="item-details">
                                  <p><strong>Item:</strong> ${n.title}</p>
                                  <p><strong>Order ID:</strong> ${n.saleTransactionId||"N/A"}</p>
                                  <p><strong>Sold Date:</strong> ${Gi(n.soldAt)}</p>
                                </div>
                              </div>
                            </body>
                          </html>
                        `),ae.document.close(),ae.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7"})}),"Print Shipping Label"]})]}),n.saleType==="online"&&n.buyerInfo&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Buyer Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"})," ",o.jsx("span",{className:"ml-1",children:((ce=n.buyerInfo)==null?void 0:ce.name)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"})," ",o.jsx("span",{className:"ml-1",children:((pe=n.buyerInfo)==null?void 0:pe.email)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",o.jsx("span",{className:"ml-1",children:((Z=n.buyerInfo)==null?void 0:Z.phone)||"N/A"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Address:"}),o.jsxs("span",{className:"ml-1",children:[((je=n.buyerInfo)==null?void 0:je.address)||"N/A",", ",((Ae=n.buyerInfo)==null?void 0:Ae.city)||"N/A",", ",((ge=n.buyerInfo)==null?void 0:ge.zipCode)||"N/A"]})]})]})]})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[90]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mark Item as Sold"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter the sale price for this item:"}),o.jsx("input",{type:"number",value:A,onChange:ae=>E(ae.target.value),placeholder:"Enter sale price",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 mb-4",min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:ye,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:w,children:"Cancel"}),o.jsx("button",{onClick:M,disabled:w||!A||parseFloat(A)<=0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:w?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Confirm Sale"})]})]})}),O&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[90]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Issue Refund"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-gray-600 mb-2",children:["Item: ",o.jsx("strong",{children:n.title})]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Refund Amount: ",o.jsxs("strong",{children:["$",n.soldPrice||n.price]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Refund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:T,onChange:ae=>P(ae.target.value),placeholder:"Please describe why this refund is being issued...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Password ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"password",value:R,onChange:ae=>V(ae.target.value),placeholder:"Enter admin password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Testing password: 123"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:Y,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:U,children:"Cancel"}),o.jsx("button",{onClick:de,disabled:U||!T.trim()||!R,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:U?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Issue Refund"})]})]})}),o.jsx("canvas",{ref:g,style:{display:"none"}})]})},_ae=({isOpen:t,onClose:e,onCheckout:n})=>{const{cartItems:r,removeFromCart:i,updateQuantity:a,clearCart:s,getCartTotal:l,getCartItemCount:c}=Sp();if(!t)return null;const u=()=>{n(),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[c()," ",c()===1?"item":"items"," in your cart"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Add some gear to get started!"}),o.jsx("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Continue Shopping"})]}):o.jsx("div",{className:"space-y-4",children:r.map(d=>o.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:d.item.images&&d.item.images.length>0?o.jsx("img",{src:d.item.images[0],alt:d.item.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:d.item.title}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.item.description}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.item.category&&o.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:d.item.category}),d.item.size&&o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs",children:["Size ",d.item.size]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["Qty: ",d.quantity]}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Consignment item)"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(d.item.price*d.quantity).toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["$",d.item.price," each"]})]}),o.jsx("button",{onClick:()=>i(d.item.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Remove from cart",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},d.item.id))})}),r.length>0&&o.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: $",l().toFixed(2)]}),o.jsx("button",{onClick:s,className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"Clear Cart"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"}),o.jsxs("button",{onClick:u,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Checkout - $",l().toFixed(2)]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:" Secure payment with Stripe   Local pickup available   30-day return policy"})})]})]})})},Aae=({isOpen:t,onClose:e,items:n,onItemClick:r})=>{const{bookmarkedItems:i,toggleBookmark:a,addToCart:s}=Sp(),l=n.filter(c=>i.includes(c.id));return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Bookmarked Items"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[l.length," item",l.length!==1?"s":""," saved"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:l.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarked items"}),o.jsx("p",{className:"text-gray-500",children:"Items you bookmark will appear here for easy access."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative",children:[c.images&&c.images.length>0?o.jsx("img",{src:c.images[0],alt:c.title,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer",onClick:()=>r(c)}):o.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-t-lg flex items-center justify-center cursor-pointer",onClick:()=>r(c),children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2v12a2 2 0 002 2z"})})}),o.jsx("button",{onClick:()=>{a(c.id),console.log("Removed bookmark from bookmarks modal:",c.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`Removed ${c.title} from bookmarks`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"absolute top-2 right-2 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-red-500 fill-current",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>r(c),children:c.title}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 mb-3",children:["$",c.price]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c.status==="live"?"bg-green-100 text-green-800":c.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status==="live"?"Available":c.status==="approved"?"Approved":c.status}),o.jsx("span",{className:"text-sm text-gray-500",children:c.category})]}),c.status==="live"&&o.jsx("button",{onClick:()=>{s(c),console.log("Added to cart from bookmarks:",c.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`${c.title} added to cart!`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Add to Cart"})]})]},c.id))})})]})}):null};var qL="basil",Sae=function(e){return e===3?"v3":e},GL="https://js.stripe.com",jae="".concat(GL,"/").concat(qL,"/stripe.js"),Eae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Tae=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Nae=function(e){return Eae.test(e)||Tae.test(e)},Oae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(GL,'"]')),n=0;n<e.length;n++){var r=e[n];if(Nae(r.src))return r}return null},RC=function(e){var n="",r=document.createElement("script");r.src="".concat(jae).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Cae=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Fd=null,Om=null,Cm=null,kae=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Iae=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Pae=function(e){return Fd!==null?Fd:(Fd=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=Oae();if(!(i&&e)){if(!i)i=RC(e);else if(i&&Cm!==null&&Om!==null){var a;i.removeEventListener("load",Cm),i.removeEventListener("error",Om),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=RC(e)}}Cm=Iae(n,r),Om=kae(r),i.addEventListener("load",Cm),i.addEventListener("error",Om)}catch(s){r(s);return}}),Fd.catch(function(n){return Fd=null,Promise.reject(n)}))},Rae=function(e,n,r){if(e===null)return null;var i=n[0],a=i.match(/^pk_test/),s=Sae(e.version),l=qL;a&&s!==l&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return Cae(c,r),c},Hd,WL=!1,KL=function(){return Hd||(Hd=Pae(null).catch(function(e){return Hd=null,Promise.reject(e)}),Hd)};Promise.resolve().then(function(){return KL()}).catch(function(t){WL||console.warn(t)});var Mae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];WL=!0;var i=Date.now();return KL().then(function(a){return Rae(a,n,i)})},XL={exports:{}},Dae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$ae=Dae,Lae=$ae;function YL(){}function QL(){}QL.resetWarningCache=YL;var Bae=function(){function t(r,i,a,s,l,c){if(c!==Lae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QL,resetWarningCache:YL};return n.PropTypes=n,n};XL.exports=Bae();var Uae=XL.exports;const Ne=ft(Uae);function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){ZL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gg=function(e){return typeof e}:gg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function ZL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zae(t,e){if(t==null)return{};var n=Vae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JL(t,e){return Fae(t)||Hae(t,e)||qae(t,e)||Gae()}function Fae(t){if(Array.isArray(t))return t}function Hae(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function qae(t,e){if(t){if(typeof t=="string")return $C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $C(t,e)}}function $C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Br=function(e,n,r){var i=!!r,a=$.useRef(r);$.useEffect(function(){a.current=r},[r]),$.useEffect(function(){if(!i||!e)return function(){};var s=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,s),function(){e.off(n,s)}},[i,n,e,a])},$w=function(e){var n=$.useRef(e);return $.useEffect(function(){n.current=e},[e]),n.current},pu=function(e){return e!==null&&gg(e)==="object"},Wae=function(e){return pu(e)&&typeof e.then=="function"},Kae=function(e){return pu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},LC="[object Object]",Xae=function t(e,n){if(!pu(e)||!pu(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===LC,s=Object.prototype.toString.call(n)===LC;if(a!==s)return!1;if(!a&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=e,y=n,g=function(b){return t(m[b],y[b])};return h.every(g)},e5=function(e,n,r){return pu(e)?Object.keys(e).reduce(function(i,a){var s=!pu(n)||!Xae(e[a],n[a]);return r.includes(a)?(s&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):s?DC(DC({},i||{}),{},ZL({},a,e[a])):i},null):null},t5="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",BC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t5;if(e===null||Kae(e))return e;throw new Error(n)},Yae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t5;if(Wae(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return BC(i,n)})};var r=BC(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Qae=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},N0=$.createContext(null);N0.displayName="ElementsContext";var n5=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},r5=function(e){var n=e.stripe,r=e.options,i=e.children,a=$.useMemo(function(){return Yae(n)},[n]),s=$.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=JL(s,2),c=l[0],u=l[1];$.useEffect(function(){var h=!0,m=function(g){u(function(v){return v.stripe?v:{stripe:g,elements:g.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(y){y&&h&&m(y)}):a.tag==="sync"&&!c.stripe&&m(a.stripe),function(){h=!1}},[a,c,r]);var d=$w(n);$.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=$w(r);return $.useEffect(function(){if(c.elements){var h=e5(r,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,f,c.elements]),$.useEffect(function(){Qae(c.stripe)},[c.stripe]),$.createElement(N0.Provider,{value:c},i)};r5.propTypes={stripe:Ne.any,options:Ne.object};var Zae=function(e){var n=$.useContext(N0);return n5(n,e)},Jae=function(){var e=Zae("calls useElements()"),n=e.elements;return n};Ne.func.isRequired;var i5=$.createContext(null);i5.displayName="CheckoutSdkContext";var ese=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},tse=$.createContext(null);tse.displayName="CheckoutContext";Ne.any,Ne.shape({fetchClientSecret:Ne.func.isRequired,elementsOptions:Ne.object}).isRequired;var Lw=function(e){var n=$.useContext(i5),r=$.useContext(N0);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?ese(n,e):n5(r,e)},nse=["mode"],rse=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},yn=function(e,n){var r="".concat(rse(e),"Element"),i=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,y=c.onFocus,g=c.onReady,v=c.onChange,b=c.onEscape,x=c.onClick,_=c.onLoadError,N=c.onLoaderStart,A=c.onNetworksChange,E=c.onConfirm,w=c.onCancel,j=c.onShippingAddressChange,O=c.onShippingRateChange,I=Lw("mounts <".concat(r,">")),T="elements"in I?I.elements:null,P="checkoutSdk"in I?I.checkoutSdk:null,R=$.useState(null),V=JL(R,2),U=V[0],B=V[1],L=$.useRef(null),z=$.useRef(null);Br(U,"blur",m),Br(U,"focus",y),Br(U,"escape",b),Br(U,"click",x),Br(U,"loaderror",_),Br(U,"loaderstart",N),Br(U,"networkschange",A),Br(U,"confirm",E),Br(U,"cancel",w),Br(U,"shippingaddresschange",j),Br(U,"shippingratechange",O),Br(U,"change",v);var q;g&&(e==="expressCheckout"?q=g:q=function(){g(U)}),Br(U,"ready",q),$.useLayoutEffect(function(){if(L.current===null&&z.current!==null&&(T||P)){var ee=null;if(P)switch(e){case"payment":ee=P.createPaymentElement(h);break;case"address":if("mode"in h){var W=h.mode,M=zae(h,nse);if(W==="shipping")ee=P.createShippingAddressElement(M);else if(W==="billing")ee=P.createBillingAddressElement(M);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ee=P.createExpressCheckoutElement(h);break;case"currencySelector":ee=P.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else T&&(ee=T.create(e,h));L.current=ee,B(ee),ee&&ee.mount(z.current)}},[T,P,h]);var te=$w(h);return $.useEffect(function(){if(L.current){var ee=e5(h,te,["paymentRequest"]);ee&&"update"in L.current&&L.current.update(ee)}},[h,te]),$.useLayoutEffect(function(){return function(){if(L.current&&typeof L.current.destroy=="function")try{L.current.destroy(),L.current=null}catch{}}},[]),$.createElement("div",{id:u,className:d,ref:z})},a=function(c){Lw("mounts <".concat(r,">"));var u=c.id,d=c.className;return $.createElement("div",{id:u,className:d})},s=n?a:i;return s.propTypes={id:Ne.string,className:Ne.string,onChange:Ne.func,onBlur:Ne.func,onFocus:Ne.func,onReady:Ne.func,onEscape:Ne.func,onClick:Ne.func,onLoadError:Ne.func,onLoaderStart:Ne.func,onNetworksChange:Ne.func,onConfirm:Ne.func,onCancel:Ne.func,onShippingAddressChange:Ne.func,onShippingRateChange:Ne.func,options:Ne.object},s.displayName=r,s.__elementType=e,s},vn=typeof window>"u",ise=$.createContext(null);ise.displayName="EmbeddedCheckoutProviderContext";var ase=function(){var e=Lw("calls useStripe()"),n=e.stripe;return n};yn("auBankAccount",vn);var sse=yn("card",vn);yn("cardNumber",vn);yn("cardExpiry",vn);yn("cardCvc",vn);yn("fpxBank",vn);yn("iban",vn);yn("idealBank",vn);yn("p24Bank",vn);yn("epsBank",vn);yn("payment",vn);yn("expressCheckout",vn);yn("currencySelector",vn);yn("paymentRequestButton",vn);yn("linkAuthentication",vn);yn("address",vn);yn("shippingAddress",vn);yn("paymentMethodMessaging",vn);yn("affirmMessage",vn);yn("afterpayClearpayMessage",vn);const ose=Mae("pk_test_51Rbnai4cE043YuFEryAiYmPIDw6WPTfMk0JFoJyi3eSpEZZBDpTY0tIusq95YjDXqttmcrbAePTHNot0kf3J85Q100Gz9jtjn3"),lse=({onClose:t,onSuccess:e})=>{const n=ase(),r=Jae(),{cartItems:i,getCartTotal:a,clearCart:s}=Sp(),{user:l}=Dl(),[c,u]=k.useState(!1),[d,f]=k.useState(null),{throttledAction:h,isActionDisabled:m,isActionProcessing:y}=NS(),[g,v]=k.useState({name:(l==null?void 0:l.displayName)||"",email:(l==null?void 0:l.email)||"",phone:l&&"phoneNumber"in l?l.phoneNumber:"",address:"",city:"",zipCode:""}),[b,x]=k.useState("shipping"),_=async A=>{console.log("Processing purchase completion for items:",i.length);for(const E of i)try{const w=E.item;console.log(`Processing sold item: ${w.title} (${w.id})`);const j=sr(He,"items",w.id);if(await Nr(j,{status:"sold",soldAt:new Date,soldPrice:w.price,buyerId:(l==null?void 0:l.uid)||"anonymous",buyerInfo:{name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,zipCode:g.zipCode},saleTransactionId:A.paymentInfo.transactionId,saleType:"online",fulfillmentMethod:b,trackingNumber:b==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,shippingLabelGenerated:!1,userEarnings:w.price*.75,adminEarnings:w.price*.25}),await hh(Ot(He,"sales"),{itemId:w.id,itemTitle:w.title,itemCategory:w.category,itemBrand:w.brand||"N/A",itemSize:w.size||"N/A",sellerId:w.sellerId,sellerName:w.sellerName,buyerId:(l==null?void 0:l.uid)||"anonymous",buyerName:g.name,salePrice:w.price,sellerEarnings:w.price*.75,storeCommission:w.price*.25,soldAt:new Date,transactionId:A.paymentInfo.transactionId,orderNumber:A.orderNumber,paymentMethod:A.paymentInfo.method,shippingAddress:{name:g.name,address:g.address,city:g.city,zipCode:g.zipCode,phone:g.phone,email:g.email}}),w.sellerId&&!w.sellerId.startsWith("phone_"))try{await hh(Ot(He,"store_credits"),{userId:w.sellerId,amount:w.price*.75,source:"item_sale",itemId:w.id,itemTitle:w.title,salePrice:w.price,transactionId:A.paymentInfo.transactionId,createdAt:new Date,description:`Sale of "${w.title}"`}),console.log(`Added store credit for seller ${w.sellerId}: $${(w.price*.75).toFixed(2)}`)}catch(O){console.error("Error updating seller store credit:",O)}console.log(`Successfully processed sale for item: ${w.title}`)}catch(w){console.error(`Error processing item ${E.item.title}:`,w)}},N=async A=>{A.preventDefault(),!(!n||!r)&&await h("checkout-purchase",async()=>{u(!0),f(null);try{if(await new Promise(w=>setTimeout(w,2e3)),l){const w={id:Date.now().toString()+Math.random().toString(36).substr(2,9),orderNumber:`ORD-${Date.now().toString().slice(-6)}`,total:a()+(b==="shipping"?5.99:0),purchaseDate:new Date().toISOString(),items:i.map(j=>({id:j.item.id,title:j.item.title,price:j.item.price,quantity:j.quantity,category:j.item.category,brand:j.item.brand||"N/A",size:j.item.size||"N/A",images:j.item.images||[],sellerId:j.item.sellerId,sellerName:j.item.sellerName})),customerInfo:{name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,zipCode:g.zipCode},paymentInfo:{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Date.now().toString()+Math.random().toString(36).substr(2,9)}`},status:"completed",orderStatus:"processing",estimatedDelivery:b==="shipping"?new Date(Date.now()+6048e5).toISOString():void 0,trackingNumber:b==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,fulfillmentMethod:b,shippingLabelGenerated:!1};try{const j=localStorage.getItem(`purchase_history_${l.uid}`),O=j?JSON.parse(j):[];O.unshift(w),localStorage.setItem(`purchase_history_${l.uid}`,JSON.stringify(O)),await _(w),window.dispatchEvent(new StorageEvent("storage",{key:`purchase_history_${l.uid}`,newValue:JSON.stringify(O),storageArea:localStorage})),console.log("Purchase completed successfully:",w)}catch(j){throw console.error("Error saving purchase history:",j),j}}const E=a()+(b==="shipping"?5.99:0);await Vt(l,"item_purchased",`Purchased ${i.length} items for $${E.toFixed(2)} (${b})`),console.log("Clearing cart after successful checkout..."),await s(l),e()}catch(E){console.error("Payment error:",E),f("Payment processing failed. Please try again.")}finally{u(!1)}})};return o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2",children:[i.map(A=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[A.item.title,"  ",A.quantity]}),o.jsxs("span",{children:["$",(A.item.price*A.quantity).toFixed(2)]})]},A.item.id)),b==="shipping"&&o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:"$5.99"})]}),o.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",(a()+(b==="shipping"?5.99:0)).toFixed(2)]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fulfillment Method"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${b==="pickup"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>x("pickup"),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"pickup",checked:b==="pickup",onChange:()=>x("pickup"),className:"text-orange-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:" Store Pickup"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Pick up your items at Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free  Available next business day"})]})]})}),o.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${b==="shipping"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>x("shipping"),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"shipping",checked:b==="shipping",onChange:()=>x("shipping"),className:"text-orange-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:" Home Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"We'll ship your items to your address"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$5.99 shipping  5-7 business days"})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),o.jsx("input",{type:"text",value:g.name,onChange:A=>v(E=>({...E,name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:g.email,onChange:A=>v(E=>({...E,email:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:g.phone,onChange:A=>v(E=>({...E,phone:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),b==="shipping"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("input",{type:"text",value:g.address,onChange:A=>v(E=>({...E,address:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),o.jsx("input",{type:"text",value:g.city,onChange:A=>v(E=>({...E,city:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),o.jsx("input",{type:"text",value:g.zipCode,onChange:A=>v(E=>({...E,zipCode:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Information"}),o.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:o.jsx(sse,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}}}}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Demo Mode: Payment will be simulated (no actual charge)"})]}),d&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:o.jsx("p",{className:"text-red-600 text-sm",children:d})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!n||c||m("checkout-purchase"),className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c||y("checkout-purchase")?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Complete Order - $",(a()+(b==="shipping"?5.99:0)).toFixed(2)]})})]})]})},cse=({isOpen:t,onClose:e,onSuccess:n})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Checkout"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Complete your purchase securely"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsx(r5,{stripe:ose,children:o.jsx(lse,{onClose:e,onSuccess:n})})})]})}):null;function a5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a5(t))&&(r&&(r+=" "),r+=e);return r}var use=Array.isArray,Rr=use,dse=typeof Jp=="object"&&Jp&&Jp.Object===Object&&Jp,s5=dse,fse=s5,hse=typeof self=="object"&&self&&self.Object===Object&&self,pse=fse||hse||Function("return this")(),ga=pse,mse=ga,gse=mse.Symbol,Cp=gse,UC=Cp,o5=Object.prototype,yse=o5.hasOwnProperty,vse=o5.toString,qd=UC?UC.toStringTag:void 0;function xse(t){var e=yse.call(t,qd),n=t[qd];try{t[qd]=void 0;var r=!0}catch{}var i=vse.call(t);return r&&(e?t[qd]=n:delete t[qd]),i}var bse=xse,wse=Object.prototype,_se=wse.toString;function Ase(t){return _se.call(t)}var Sse=Ase,VC=Cp,jse=bse,Ese=Sse,Tse="[object Null]",Nse="[object Undefined]",zC=VC?VC.toStringTag:void 0;function Ose(t){return t==null?t===void 0?Nse:Tse:zC&&zC in Object(t)?jse(t):Ese(t)}var os=Ose;function Cse(t){return t!=null&&typeof t=="object"}var ls=Cse,kse=os,Ise=ls,Pse="[object Symbol]";function Rse(t){return typeof t=="symbol"||Ise(t)&&kse(t)==Pse}var od=Rse,Mse=Rr,Dse=od,$se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lse=/^\w*$/;function Bse(t,e){if(Mse(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Dse(t)?!0:Lse.test(t)||!$se.test(t)||e!=null&&t in Object(e)}var cj=Bse;function Use(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bo=Use;const ld=ft(bo);var Vse=os,zse=bo,Fse="[object AsyncFunction]",Hse="[object Function]",qse="[object GeneratorFunction]",Gse="[object Proxy]";function Wse(t){if(!zse(t))return!1;var e=Vse(t);return e==Hse||e==qse||e==Fse||e==Gse}var uj=Wse;const Pe=ft(uj);var Kse=ga,Xse=Kse["__core-js_shared__"],Yse=Xse,Mb=Yse,FC=function(){var t=/[^.]+$/.exec(Mb&&Mb.keys&&Mb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Qse(t){return!!FC&&FC in t}var Zse=Qse,Jse=Function.prototype,eoe=Jse.toString;function toe(t){if(t!=null){try{return eoe.call(t)}catch{}try{return t+""}catch{}}return""}var l5=toe,noe=uj,roe=Zse,ioe=bo,aoe=l5,soe=/[\\^$.*+?()[\]{}|]/g,ooe=/^\[object .+?Constructor\]$/,loe=Function.prototype,coe=Object.prototype,uoe=loe.toString,doe=coe.hasOwnProperty,foe=RegExp("^"+uoe.call(doe).replace(soe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hoe(t){if(!ioe(t)||roe(t))return!1;var e=noe(t)?foe:ooe;return e.test(aoe(t))}var poe=hoe;function moe(t,e){return t==null?void 0:t[e]}var goe=moe,yoe=poe,voe=goe;function xoe(t,e){var n=voe(t,e);return yoe(n)?n:void 0}var Ul=xoe,boe=Ul,woe=boe(Object,"create"),O0=woe,HC=O0;function _oe(){this.__data__=HC?HC(null):{},this.size=0}var Aoe=_oe;function Soe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var joe=Soe,Eoe=O0,Toe="__lodash_hash_undefined__",Noe=Object.prototype,Ooe=Noe.hasOwnProperty;function Coe(t){var e=this.__data__;if(Eoe){var n=e[t];return n===Toe?void 0:n}return Ooe.call(e,t)?e[t]:void 0}var koe=Coe,Ioe=O0,Poe=Object.prototype,Roe=Poe.hasOwnProperty;function Moe(t){var e=this.__data__;return Ioe?e[t]!==void 0:Roe.call(e,t)}var Doe=Moe,$oe=O0,Loe="__lodash_hash_undefined__";function Boe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$oe&&e===void 0?Loe:e,this}var Uoe=Boe,Voe=Aoe,zoe=joe,Foe=koe,Hoe=Doe,qoe=Uoe;function cd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cd.prototype.clear=Voe;cd.prototype.delete=zoe;cd.prototype.get=Foe;cd.prototype.has=Hoe;cd.prototype.set=qoe;var Goe=cd;function Woe(){this.__data__=[],this.size=0}var Koe=Woe;function Xoe(t,e){return t===e||t!==t&&e!==e}var dj=Xoe,Yoe=dj;function Qoe(t,e){for(var n=t.length;n--;)if(Yoe(t[n][0],e))return n;return-1}var C0=Qoe,Zoe=C0,Joe=Array.prototype,ele=Joe.splice;function tle(t){var e=this.__data__,n=Zoe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ele.call(e,n,1),--this.size,!0}var nle=tle,rle=C0;function ile(t){var e=this.__data__,n=rle(e,t);return n<0?void 0:e[n][1]}var ale=ile,sle=C0;function ole(t){return sle(this.__data__,t)>-1}var lle=ole,cle=C0;function ule(t,e){var n=this.__data__,r=cle(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var dle=ule,fle=Koe,hle=nle,ple=ale,mle=lle,gle=dle;function ud(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ud.prototype.clear=fle;ud.prototype.delete=hle;ud.prototype.get=ple;ud.prototype.has=mle;ud.prototype.set=gle;var k0=ud,yle=Ul,vle=ga,xle=yle(vle,"Map"),fj=xle,qC=Goe,ble=k0,wle=fj;function _le(){this.size=0,this.__data__={hash:new qC,map:new(wle||ble),string:new qC}}var Ale=_le;function Sle(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jle=Sle,Ele=jle;function Tle(t,e){var n=t.__data__;return Ele(e)?n[typeof e=="string"?"string":"hash"]:n.map}var I0=Tle,Nle=I0;function Ole(t){var e=Nle(this,t).delete(t);return this.size-=e?1:0,e}var Cle=Ole,kle=I0;function Ile(t){return kle(this,t).get(t)}var Ple=Ile,Rle=I0;function Mle(t){return Rle(this,t).has(t)}var Dle=Mle,$le=I0;function Lle(t,e){var n=$le(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ble=Lle,Ule=Ale,Vle=Cle,zle=Ple,Fle=Dle,Hle=Ble;function dd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dd.prototype.clear=Ule;dd.prototype.delete=Vle;dd.prototype.get=zle;dd.prototype.has=Fle;dd.prototype.set=Hle;var hj=dd,c5=hj,qle="Expected a function";function pj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qle);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(pj.Cache||c5),n}pj.Cache=c5;var u5=pj;const Gle=ft(u5);var Wle=u5,Kle=500;function Xle(t){var e=Wle(t,function(r){return n.size===Kle&&n.clear(),r}),n=e.cache;return e}var Yle=Xle,Qle=Yle,Zle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jle=/\\(\\)?/g,ece=Qle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zle,function(n,r,i,a){e.push(i?a.replace(Jle,"$1"):r||n)}),e}),tce=ece;function nce(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var mj=nce,GC=Cp,rce=mj,ice=Rr,ace=od,WC=GC?GC.prototype:void 0,KC=WC?WC.toString:void 0;function d5(t){if(typeof t=="string")return t;if(ice(t))return rce(t,d5)+"";if(ace(t))return KC?KC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sce=d5,oce=sce;function lce(t){return t==null?"":oce(t)}var f5=lce,cce=Rr,uce=cj,dce=tce,fce=f5;function hce(t,e){return cce(t)?t:uce(t,e)?[t]:dce(fce(t))}var h5=hce,pce=od;function mce(t){if(typeof t=="string"||pce(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var P0=mce,gce=h5,yce=P0;function vce(t,e){e=gce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[yce(e[n++])];return n&&n==r?t:void 0}var gj=vce,xce=gj;function bce(t,e,n){var r=t==null?void 0:xce(t,e);return r===void 0?n:r}var p5=bce;const ti=ft(p5);function wce(t){return t==null}var _ce=wce;const Ue=ft(_ce);var Ace=os,Sce=Rr,jce=ls,Ece="[object String]";function Tce(t){return typeof t=="string"||!Sce(t)&&jce(t)&&Ace(t)==Ece}var Nce=Tce;const bl=ft(Nce);var m5={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj=Symbol.for("react.element"),vj=Symbol.for("react.portal"),R0=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),Oce=Symbol.for("react.server_context"),B0=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),V0=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),Cce=Symbol.for("react.offscreen"),g5;g5=Symbol.for("react.module.reference");function Si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yj:switch(t=t.type,t){case R0:case D0:case M0:case U0:case V0:return t;default:switch(t=t&&t.$$typeof,t){case Oce:case L0:case B0:case F0:case z0:case $0:return t;default:return e}}case vj:return e}}}vt.ContextConsumer=L0;vt.ContextProvider=$0;vt.Element=yj;vt.ForwardRef=B0;vt.Fragment=R0;vt.Lazy=F0;vt.Memo=z0;vt.Portal=vj;vt.Profiler=D0;vt.StrictMode=M0;vt.Suspense=U0;vt.SuspenseList=V0;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(t){return Si(t)===L0};vt.isContextProvider=function(t){return Si(t)===$0};vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yj};vt.isForwardRef=function(t){return Si(t)===B0};vt.isFragment=function(t){return Si(t)===R0};vt.isLazy=function(t){return Si(t)===F0};vt.isMemo=function(t){return Si(t)===z0};vt.isPortal=function(t){return Si(t)===vj};vt.isProfiler=function(t){return Si(t)===D0};vt.isStrictMode=function(t){return Si(t)===M0};vt.isSuspense=function(t){return Si(t)===U0};vt.isSuspenseList=function(t){return Si(t)===V0};vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===R0||t===D0||t===M0||t===U0||t===V0||t===Cce||typeof t=="object"&&t!==null&&(t.$$typeof===F0||t.$$typeof===z0||t.$$typeof===$0||t.$$typeof===L0||t.$$typeof===B0||t.$$typeof===g5||t.getModuleId!==void 0)};vt.typeOf=Si;m5.exports=vt;var kce=m5.exports,Ice=os,Pce=ls,Rce="[object Number]";function Mce(t){return typeof t=="number"||Pce(t)&&Ice(t)==Rce}var y5=Mce;const Dce=ft(y5);var $ce=y5;function Lce(t){return $ce(t)&&t!=+t}var Bce=Lce;const fd=ft(Bce);var pr=function(e){return e===0?0:e>0?1:-1},Go=function(e){return bl(e)&&e.indexOf("%")===e.length-1},le=function(e){return Dce(e)&&!fd(e)},jn=function(e){return le(e)||bl(e)},Uce=0,Vl=function(e){var n=++Uce;return"".concat(e||"").concat(n)},mr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!bl(e))return r;var a;if(Go(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return fd(a)&&(a=r),i&&a>n&&(a=n),a},Cs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Vce=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_n=function(e,n){return le(e)&&le(n)?function(r){return e+r*(n-e)}:function(){return n}};function gy(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ti(r,e))===n})}var zce=function(e,n){return le(e)&&le(n)?e-n:bl(e)&&bl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Bw(t){"@babel/helpers - typeof";return Bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(t)}var Fce=["viewBox","children"],Hce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XC=["points","pathLength"],Db={svg:Fce,polygon:XC,polyline:XC},xj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yy=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!ld(r))return null;var i={};return Object.keys(r).forEach(function(a){xj.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},qce=function(e,n,r){return function(i){return e(n,r,i),null}},wl=function(e,n,r){if(!ld(e)||Bw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];xj.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=qce(s,n,r))}),i},Gce=["children"],Wce=["children"];function YC(t,e){if(t==null)return{};var n=Kce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uw(t){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(t)}var QC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ZC=null,$b=null,bj=function t(e){if(e===ZC&&Array.isArray($b))return $b;var n=[];return k.Children.forEach(e,function(r){Ue(r)||(kce.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),$b=n,ZC=e,n};function ni(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return qa(i)}):r=[qa(e)],bj(t).forEach(function(i){var a=ti(i,"type.displayName")||ti(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Fr(t,e){var n=ni(t,e);return n&&n[0]}var JC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!le(r)||r<=0||!le(i)||i<=0)},Xce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Yce=function(e){return e&&e.type&&bl(e.type)&&Xce.indexOf(e.type)>=0},v5=function(e){return e&&Uw(e)==="object"&&"clipDot"in e},Qce=function(e,n,r,i){var a,s=(a=Db==null?void 0:Db[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Pe(e)&&(i&&s.includes(n)||Hce.includes(n))||r&&xj.includes(n)},Se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!ld(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;Qce((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},Vw=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ek(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!ek(a,s))return!1}return!0},ek=function(e,n){if(Ue(e)&&Ue(n))return!0;if(!Ue(e)&&!Ue(n)){var r=e.props||{},i=r.children,a=YC(r,Gce),s=n.props||{},l=s.children,c=YC(s,Wce);return i&&l?Fc(a,c)&&Vw(i,l):!i&&!l?Fc(a,c):!1}return!1},tk=function(e,n){var r=[],i={};return bj(e).forEach(function(a,s){if(Yce(a))r.push(a);else if(a){var l=qa(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);r.push(f),i[l]=!0}}}),r},Zce=function(e){var n=e&&e.type;return n&&QC[n]?QC[n]:null},Jce=function(e,n){return bj(n).indexOf(e)},eue=["children","width","height","viewBox","className","style","title","desc"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}function tue(t,e){if(t==null)return{};var n=nue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,u=tue(t,eue),d=i||{width:n,height:r,x:0,y:0},f=Fe("recharts-surface",a);return $.createElement("svg",zw({},Se(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),e)}var rue=["children","className"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function iue(t,e){if(t==null)return{};var n=aue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qe=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=iue(t,rue),a=Fe("recharts-layer",r);return $.createElement("g",Hw({className:a},Se(i,!0),{ref:e}),n)}),Li=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function sue(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var oue=sue,lue=oue;function cue(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lue(t,e,n)}var uue=cue,due="\\ud800-\\udfff",fue="\\u0300-\\u036f",hue="\\ufe20-\\ufe2f",pue="\\u20d0-\\u20ff",mue=fue+hue+pue,gue="\\ufe0e\\ufe0f",yue="\\u200d",vue=RegExp("["+yue+due+mue+gue+"]");function xue(t){return vue.test(t)}var x5=xue;function bue(t){return t.split("")}var wue=bue,b5="\\ud800-\\udfff",_ue="\\u0300-\\u036f",Aue="\\ufe20-\\ufe2f",Sue="\\u20d0-\\u20ff",jue=_ue+Aue+Sue,Eue="\\ufe0e\\ufe0f",Tue="["+b5+"]",qw="["+jue+"]",Gw="\\ud83c[\\udffb-\\udfff]",Nue="(?:"+qw+"|"+Gw+")",w5="[^"+b5+"]",_5="(?:\\ud83c[\\udde6-\\uddff]){2}",A5="[\\ud800-\\udbff][\\udc00-\\udfff]",Oue="\\u200d",S5=Nue+"?",j5="["+Eue+"]?",Cue="(?:"+Oue+"(?:"+[w5,_5,A5].join("|")+")"+j5+S5+")*",kue=j5+S5+Cue,Iue="(?:"+[w5+qw+"?",qw,_5,A5,Tue].join("|")+")",Pue=RegExp(Gw+"(?="+Gw+")|"+Iue+kue,"g");function Rue(t){return t.match(Pue)||[]}var Mue=Rue,Due=wue,$ue=x5,Lue=Mue;function Bue(t){return $ue(t)?Lue(t):Due(t)}var Uue=Bue,Vue=uue,zue=x5,Fue=Uue,Hue=f5;function que(t){return function(e){e=Hue(e);var n=zue(e)?Fue(e):void 0,r=n?n[0]:e.charAt(0),i=n?Vue(n,1).join(""):e.slice(1);return r[t]()+i}}var Gue=que,Wue=Gue,Kue=Wue("toUpperCase"),Xue=Kue;const H0=ft(Xue);function Nt(t){return function(){return t}}const E5=Math.cos,vy=Math.sin,Hi=Math.sqrt,xy=Math.PI,q0=2*xy,Ww=Math.PI,Kw=2*Ww,Bo=1e-6,Yue=Kw-Bo;function T5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Que(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return T5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?T5:Que(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,u=i-n,d=s-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Bo)if(!(Math.abs(f*c-u*d)>Bo)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,y=i-l,g=c*c+u*u,v=m*m+y*y,b=Math.sqrt(g),x=Math.sqrt(h),_=a*Math.tan((Ww-Math.acos((g+h-v)/(2*b*x)))/2),N=_/x,A=_/b;Math.abs(N-1)>Bo&&this._append`L${e+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*y)},${this._x1=e+A*c},${this._y1=n+A*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Bo||Math.abs(this._y1-d)>Bo)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Kw+Kw),h>Yue?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Bo&&this._append`A${r},${r},0,${+(h>=Ww)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wj(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Zue(e)}function _j(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N5(t){this._context=t}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function G0(t){return new N5(t)}function O5(t){return t[0]}function C5(t){return t[1]}function k5(t,e){var n=Nt(!0),r=null,i=G0,a=null,s=wj(l);t=typeof t=="function"?t:t===void 0?O5:Nt(t),e=typeof e=="function"?e:e===void 0?C5:Nt(e);function l(c){var u,d=(c=_j(c)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Nt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Nt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Nt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function km(t,e,n){var r=null,i=Nt(!0),a=null,s=G0,l=null,c=wj(u);t=typeof t=="function"?t:t===void 0?O5:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?C5:Nt(+n);function u(f){var h,m,y,g=(f=_j(f)).length,v,b=!1,x,_=new Array(g),N=new Array(g);for(a==null&&(l=s(x=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(_[y],N[y]);l.lineEnd(),l.areaEnd()}b&&(_[h]=+t(v,h,f),N[h]=+e(v,h,f),l.point(r?+r(v,h,f):_[h],n?+n(v,h,f):N[h]))}if(x)return l=null,x+""||null}function d(){return k5().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class I5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Jue(t){return new I5(t,!0)}function ede(t){return new I5(t,!1)}const Aj={draw(t,e){const n=Hi(e/xy);t.moveTo(n,0),t.arc(0,0,n,0,q0)}},tde={draw(t,e){const n=Hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P5=Hi(1/3),nde=P5*2,rde={draw(t,e){const n=Hi(e/nde),r=n*P5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ide={draw(t,e){const n=Hi(e),r=-n/2;t.rect(r,r,n,n)}},ade=.8908130915292852,R5=vy(xy/10)/vy(7*xy/10),sde=vy(q0/10)*R5,ode=-E5(q0/10)*R5,lde={draw(t,e){const n=Hi(e*ade),r=sde*n,i=ode*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=q0*a/5,l=E5(s),c=vy(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Lb=Hi(3),cde={draw(t,e){const n=-Hi(e/(Lb*3));t.moveTo(0,n*2),t.lineTo(-Lb*n,-n),t.lineTo(Lb*n,-n),t.closePath()}},ai=-.5,si=Hi(3)/2,Xw=1/Hi(12),ude=(Xw/2+1)*3,dde={draw(t,e){const n=Hi(e/ude),r=n/2,i=n*Xw,a=r,s=n*Xw+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(ai*r-si*i,si*r+ai*i),t.lineTo(ai*a-si*s,si*a+ai*s),t.lineTo(ai*l-si*c,si*l+ai*c),t.lineTo(ai*r+si*i,ai*i-si*r),t.lineTo(ai*a+si*s,ai*s-si*a),t.lineTo(ai*l+si*c,ai*c-si*l),t.closePath()}};function fde(t,e){let n=null,r=wj(i);t=typeof t=="function"?t:Nt(t||Aj),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function by(){}function wy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function M5(t){this._context=t}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hde(t){return new M5(t)}function D5(t){this._context=t}D5.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:wy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pde(t){return new D5(t)}function $5(t){this._context=t}$5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mde(t){return new $5(t)}function L5(t){this._context=t}L5.prototype={areaStart:by,areaEnd:by,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gde(t){return new L5(t)}function nk(t){return t<0?-1:1}function rk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(nk(a)+nk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function ik(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function _y(t){this._context=t}_y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bb(this,this._t0,ik(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bb(this,ik(this,n=rk(this,t,e)),n);break;default:Bb(this,this._t0,n=rk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function B5(t){this._context=new U5(t)}(B5.prototype=Object.create(_y.prototype)).point=function(t,e){_y.prototype.point.call(this,e,t)};function U5(t){this._context=t}U5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function yde(t){return new _y(t)}function vde(t){return new B5(t)}function V5(t){this._context=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ak(t),i=ak(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ak(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function xde(t){return new V5(t)}function W0(t,e){this._context=t,this._t=e}W0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function bde(t){return new W0(t,.5)}function wde(t){return new W0(t,0)}function _de(t){return new W0(t,1)}function mu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Yw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ade(t,e){return t[e]}function Sde(t){const e=[];return e.key=t,e}function jde(){var t=Nt([]),e=Yw,n=mu,r=Ade;function i(a){var s=Array.from(t.apply(this,arguments),Sde),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+r(f,s[l].key,u,a)]).data=f;for(l=0,d=_j(e(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Yw:typeof a=="function"?a:Nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??mu,i):n},i}function Ede(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}mu(t,e)}}function Tde(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}mu(t,e)}}function Nde(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var g=t[e[y]],v=g[r][1]||0,b=g[r-1][1]||0;m+=v-b}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,mu(t,e)}}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}var Ode=["type","size","sizeType"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Cde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cde(t,e,n){return e=kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Ide(t,"string");return ph(e)=="symbol"?e:e+""}function Ide(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pde(t,e){if(t==null)return{};var n=Rde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z5={symbolCircle:Aj,symbolCross:tde,symbolDiamond:rde,symbolSquare:ide,symbolStar:lde,symbolTriangle:cde,symbolWye:dde},Mde=Math.PI/180,Dde=function(e){var n="symbol".concat(H0(e));return z5[n]||Aj},$de=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Mde;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Lde=function(e,n){z5["symbol".concat(H0(e))]=n},Sj=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=Pde(e,Ode),u=ok(ok({},c),{},{type:r,size:a,sizeType:l}),d=function(){var v=Dde(r),b=fde().type(v).size($de(a,l,r));return b()},f=u.className,h=u.cx,m=u.cy,y=Se(u,!0);return h===+h&&m===+m&&a===+a?$.createElement("path",Qw({},y,{className:Fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Sj.registerSymbol=Lde;function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H5(r.key),r)}}function zde(t,e,n){return e&&Vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fde(t,e,n){return e=Ay(e),Hde(t,F5()?Reflect.construct(e,n||[],Ay(t).constructor):e.apply(t,n))}function Hde(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(t)}function qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!t})()}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ay(t)}function Gde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function mh(t,e,n){return e=H5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=Wde(t,"string");return gu(e)=="symbol"?e:e+""}function Wde(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ni=32,jj=function(t){function e(){return Ude(this,e),Fde(this,e,arguments)}return Gde(e,t),zde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ni/2,s=Ni/6,l=Ni/3,c=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ni,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ni,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ni/8,"h").concat(Ni,"v").concat(Ni*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=Bde({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(Sj,{fill:c,cx:a,cy:a,size:Ni,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ni,height:Ni},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var g=m.formatter||c,v=Fe(mh(mh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Pe(m.value)?null:m.value;Li(!Pe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return $.createElement("li",Zw({className:v,style:f,key:"legend-item-".concat(y)},wl(r.props,m,y)),$.createElement(Fw,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(b,m,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);mh(jj,"displayName","Legend");mh(jj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kde=k0;function Xde(){this.__data__=new Kde,this.size=0}var Yde=Xde;function Qde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Zde=Qde;function Jde(t){return this.__data__.get(t)}var efe=Jde;function tfe(t){return this.__data__.has(t)}var nfe=tfe,rfe=k0,ife=fj,afe=hj,sfe=200;function ofe(t,e){var n=this.__data__;if(n instanceof rfe){var r=n.__data__;if(!ife||r.length<sfe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new afe(r)}return n.set(t,e),this.size=n.size,this}var lfe=ofe,cfe=k0,ufe=Yde,dfe=Zde,ffe=efe,hfe=nfe,pfe=lfe;function hd(t){var e=this.__data__=new cfe(t);this.size=e.size}hd.prototype.clear=ufe;hd.prototype.delete=dfe;hd.prototype.get=ffe;hd.prototype.has=hfe;hd.prototype.set=pfe;var q5=hd,mfe="__lodash_hash_undefined__";function gfe(t){return this.__data__.set(t,mfe),this}var yfe=gfe;function vfe(t){return this.__data__.has(t)}var xfe=vfe,bfe=hj,wfe=yfe,_fe=xfe;function Sy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bfe;++e<n;)this.add(t[e])}Sy.prototype.add=Sy.prototype.push=wfe;Sy.prototype.has=_fe;var G5=Sy;function Afe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var W5=Afe;function Sfe(t,e){return t.has(e)}var K5=Sfe,jfe=G5,Efe=W5,Tfe=K5,Nfe=1,Ofe=2;function Cfe(t,e,n,r,i,a){var s=n&Nfe,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&Ofe?new jfe:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var y=t[f],g=e[f];if(r)var v=s?r(g,y,f,e,t,a):r(y,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!Efe(e,function(b,x){if(!Tfe(m,x)&&(y===b||i(y,b,n,r,a)))return m.push(x)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var X5=Cfe,kfe=ga,Ife=kfe.Uint8Array,Pfe=Ife;function Rfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Mfe=Rfe;function Dfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Ej=Dfe,ck=Cp,uk=Pfe,$fe=dj,Lfe=X5,Bfe=Mfe,Ufe=Ej,Vfe=1,zfe=2,Ffe="[object Boolean]",Hfe="[object Date]",qfe="[object Error]",Gfe="[object Map]",Wfe="[object Number]",Kfe="[object RegExp]",Xfe="[object Set]",Yfe="[object String]",Qfe="[object Symbol]",Zfe="[object ArrayBuffer]",Jfe="[object DataView]",dk=ck?ck.prototype:void 0,Ub=dk?dk.valueOf:void 0;function ehe(t,e,n,r,i,a,s){switch(n){case Jfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zfe:return!(t.byteLength!=e.byteLength||!a(new uk(t),new uk(e)));case Ffe:case Hfe:case Wfe:return $fe(+t,+e);case qfe:return t.name==e.name&&t.message==e.message;case Kfe:case Yfe:return t==e+"";case Gfe:var l=Bfe;case Xfe:var c=r&Vfe;if(l||(l=Ufe),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=zfe,s.set(t,e);var d=Lfe(l(t),l(e),r,i,a,s);return s.delete(t),d;case Qfe:if(Ub)return Ub.call(t)==Ub.call(e)}return!1}var the=ehe;function nhe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Y5=nhe,rhe=Y5,ihe=Rr;function ahe(t,e,n){var r=e(t);return ihe(t)?r:rhe(r,n(t))}var she=ahe;function ohe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var lhe=ohe;function che(){return[]}var uhe=che,dhe=lhe,fhe=uhe,hhe=Object.prototype,phe=hhe.propertyIsEnumerable,fk=Object.getOwnPropertySymbols,mhe=fk?function(t){return t==null?[]:(t=Object(t),dhe(fk(t),function(e){return phe.call(t,e)}))}:fhe,ghe=mhe;function yhe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vhe=yhe,xhe=os,bhe=ls,whe="[object Arguments]";function _he(t){return bhe(t)&&xhe(t)==whe}var Ahe=_he,hk=Ahe,She=ls,Q5=Object.prototype,jhe=Q5.hasOwnProperty,Ehe=Q5.propertyIsEnumerable,The=hk(function(){return arguments}())?hk:function(t){return She(t)&&jhe.call(t,"callee")&&!Ehe.call(t,"callee")},Tj=The,jy={exports:{}};function Nhe(){return!1}var Ohe=Nhe;jy.exports;(function(t,e){var n=ga,r=Ohe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(jy,jy.exports);var Z5=jy.exports,Che=9007199254740991,khe=/^(?:0|[1-9]\d*)$/;function Ihe(t,e){var n=typeof t;return e=e??Che,!!e&&(n=="number"||n!="symbol"&&khe.test(t))&&t>-1&&t%1==0&&t<e}var Nj=Ihe,Phe=9007199254740991;function Rhe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Phe}var Oj=Rhe,Mhe=os,Dhe=Oj,$he=ls,Lhe="[object Arguments]",Bhe="[object Array]",Uhe="[object Boolean]",Vhe="[object Date]",zhe="[object Error]",Fhe="[object Function]",Hhe="[object Map]",qhe="[object Number]",Ghe="[object Object]",Whe="[object RegExp]",Khe="[object Set]",Xhe="[object String]",Yhe="[object WeakMap]",Qhe="[object ArrayBuffer]",Zhe="[object DataView]",Jhe="[object Float32Array]",epe="[object Float64Array]",tpe="[object Int8Array]",npe="[object Int16Array]",rpe="[object Int32Array]",ipe="[object Uint8Array]",ape="[object Uint8ClampedArray]",spe="[object Uint16Array]",ope="[object Uint32Array]",Rt={};Rt[Jhe]=Rt[epe]=Rt[tpe]=Rt[npe]=Rt[rpe]=Rt[ipe]=Rt[ape]=Rt[spe]=Rt[ope]=!0;Rt[Lhe]=Rt[Bhe]=Rt[Qhe]=Rt[Uhe]=Rt[Zhe]=Rt[Vhe]=Rt[zhe]=Rt[Fhe]=Rt[Hhe]=Rt[qhe]=Rt[Ghe]=Rt[Whe]=Rt[Khe]=Rt[Xhe]=Rt[Yhe]=!1;function lpe(t){return $he(t)&&Dhe(t.length)&&!!Rt[Mhe(t)]}var cpe=lpe;function upe(t){return function(e){return t(e)}}var J5=upe,Ey={exports:{}};Ey.exports;(function(t,e){var n=s5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(Ey,Ey.exports);var dpe=Ey.exports,fpe=cpe,hpe=J5,pk=dpe,mk=pk&&pk.isTypedArray,ppe=mk?hpe(mk):fpe,eB=ppe,mpe=vhe,gpe=Tj,ype=Rr,vpe=Z5,xpe=Nj,bpe=eB,wpe=Object.prototype,_pe=wpe.hasOwnProperty;function Ape(t,e){var n=ype(t),r=!n&&gpe(t),i=!n&&!r&&vpe(t),a=!n&&!r&&!i&&bpe(t),s=n||r||i||a,l=s?mpe(t.length,String):[],c=l.length;for(var u in t)(e||_pe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xpe(u,c)))&&l.push(u);return l}var Spe=Ape,jpe=Object.prototype;function Epe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jpe;return t===n}var Tpe=Epe;function Npe(t,e){return function(n){return t(e(n))}}var tB=Npe,Ope=tB,Cpe=Ope(Object.keys,Object),kpe=Cpe,Ipe=Tpe,Ppe=kpe,Rpe=Object.prototype,Mpe=Rpe.hasOwnProperty;function Dpe(t){if(!Ipe(t))return Ppe(t);var e=[];for(var n in Object(t))Mpe.call(t,n)&&n!="constructor"&&e.push(n);return e}var $pe=Dpe,Lpe=uj,Bpe=Oj;function Upe(t){return t!=null&&Bpe(t.length)&&!Lpe(t)}var kp=Upe,Vpe=Spe,zpe=$pe,Fpe=kp;function Hpe(t){return Fpe(t)?Vpe(t):zpe(t)}var K0=Hpe,qpe=she,Gpe=ghe,Wpe=K0;function Kpe(t){return qpe(t,Wpe,Gpe)}var Xpe=Kpe,gk=Xpe,Ype=1,Qpe=Object.prototype,Zpe=Qpe.hasOwnProperty;function Jpe(t,e,n,r,i,a){var s=n&Ype,l=gk(t),c=l.length,u=gk(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in e:Zpe.call(e,h)))return!1}var m=a.get(t),y=a.get(e);if(m&&y)return m==e&&y==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<c;){h=l[f];var b=t[h],x=e[h];if(r)var _=s?r(x,b,h,e,t,a):r(b,x,h,t,e,a);if(!(_===void 0?b===x||i(b,x,n,r,a):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(g=!1)}return a.delete(t),a.delete(e),g}var eme=Jpe,tme=Ul,nme=ga,rme=tme(nme,"DataView"),ime=rme,ame=Ul,sme=ga,ome=ame(sme,"Promise"),lme=ome,cme=Ul,ume=ga,dme=cme(ume,"Set"),nB=dme,fme=Ul,hme=ga,pme=fme(hme,"WeakMap"),mme=pme,e_=ime,t_=fj,n_=lme,r_=nB,i_=mme,rB=os,pd=l5,yk="[object Map]",gme="[object Object]",vk="[object Promise]",xk="[object Set]",bk="[object WeakMap]",wk="[object DataView]",yme=pd(e_),vme=pd(t_),xme=pd(n_),bme=pd(r_),wme=pd(i_),Uo=rB;(e_&&Uo(new e_(new ArrayBuffer(1)))!=wk||t_&&Uo(new t_)!=yk||n_&&Uo(n_.resolve())!=vk||r_&&Uo(new r_)!=xk||i_&&Uo(new i_)!=bk)&&(Uo=function(t){var e=rB(t),n=e==gme?t.constructor:void 0,r=n?pd(n):"";if(r)switch(r){case yme:return wk;case vme:return yk;case xme:return vk;case bme:return xk;case wme:return bk}return e});var _me=Uo,Vb=q5,Ame=X5,Sme=the,jme=eme,_k=_me,Ak=Rr,Sk=Z5,Eme=eB,Tme=1,jk="[object Arguments]",Ek="[object Array]",Im="[object Object]",Nme=Object.prototype,Tk=Nme.hasOwnProperty;function Ome(t,e,n,r,i,a){var s=Ak(t),l=Ak(e),c=s?Ek:_k(t),u=l?Ek:_k(e);c=c==jk?Im:c,u=u==jk?Im:u;var d=c==Im,f=u==Im,h=c==u;if(h&&Sk(t)){if(!Sk(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Vb),s||Eme(t)?Ame(t,e,n,r,i,a):Sme(t,e,c,n,r,i,a);if(!(n&Tme)){var m=d&&Tk.call(t,"__wrapped__"),y=f&&Tk.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return a||(a=new Vb),i(g,v,n,r,a)}}return h?(a||(a=new Vb),jme(t,e,n,r,i,a)):!1}var Cme=Ome,kme=Cme,Nk=ls;function iB(t,e,n,r,i){return t===e?!0:t==null||e==null||!Nk(t)&&!Nk(e)?t!==t&&e!==e:kme(t,e,n,r,iB,i)}var Cj=iB,Ime=q5,Pme=Cj,Rme=1,Mme=2;function Dme(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=n[i];var c=l[0],u=t[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Ime;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?Pme(d,u,Rme|Mme,r,f):h))return!1}}return!0}var $me=Dme,Lme=bo;function Bme(t){return t===t&&!Lme(t)}var aB=Bme,Ume=aB,Vme=K0;function zme(t){for(var e=Vme(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ume(i)]}return e}var Fme=zme;function Hme(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var sB=Hme,qme=$me,Gme=Fme,Wme=sB;function Kme(t){var e=Gme(t);return e.length==1&&e[0][2]?Wme(e[0][0],e[0][1]):function(n){return n===t||qme(n,t,e)}}var Xme=Kme;function Yme(t,e){return t!=null&&e in Object(t)}var Qme=Yme,Zme=h5,Jme=Tj,ege=Rr,tge=Nj,nge=Oj,rge=P0;function ige(t,e,n){e=Zme(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=rge(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&nge(i)&&tge(s,i)&&(ege(t)||Jme(t)))}var age=ige,sge=Qme,oge=age;function lge(t,e){return t!=null&&oge(t,e,sge)}var cge=lge,uge=Cj,dge=p5,fge=cge,hge=cj,pge=aB,mge=sB,gge=P0,yge=1,vge=2;function xge(t,e){return hge(t)&&pge(e)?mge(gge(t),e):function(n){var r=dge(n,t);return r===void 0&&r===e?fge(n,t):uge(e,r,yge|vge)}}var bge=xge;function wge(t){return t}var md=wge;function _ge(t){return function(e){return e==null?void 0:e[t]}}var Age=_ge,Sge=gj;function jge(t){return function(e){return Sge(e,t)}}var Ege=jge,Tge=Age,Nge=Ege,Oge=cj,Cge=P0;function kge(t){return Oge(t)?Tge(Cge(t)):Nge(t)}var Ige=kge,Pge=Xme,Rge=bge,Mge=md,Dge=Rr,$ge=Ige;function Lge(t){return typeof t=="function"?t:t==null?Mge:typeof t=="object"?Dge(t)?Rge(t[0],t[1]):Pge(t):$ge(t)}var ya=Lge;function Bge(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var oB=Bge;function Uge(t){return t!==t}var Vge=Uge;function zge(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Fge=zge,Hge=oB,qge=Vge,Gge=Fge;function Wge(t,e,n){return e===e?Gge(t,e,n):Hge(t,qge,n)}var Kge=Wge,Xge=Kge;function Yge(t,e){var n=t==null?0:t.length;return!!n&&Xge(t,e,0)>-1}var Qge=Yge;function Zge(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Jge=Zge;function eye(){}var tye=eye,zb=nB,nye=tye,rye=Ej,iye=1/0,aye=zb&&1/rye(new zb([,-0]))[1]==iye?function(t){return new zb(t)}:nye,sye=aye,oye=G5,lye=Qge,cye=Jge,uye=K5,dye=sye,fye=Ej,hye=200;function pye(t,e,n){var r=-1,i=lye,a=t.length,s=!0,l=[],c=l;if(n)s=!1,i=cye;else if(a>=hye){var u=e?null:dye(t);if(u)return fye(u);s=!1,i=uye,c=new oye}else c=e?[]:l;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var mye=pye,gye=ya,yye=mye;function vye(t,e){return t&&t.length?yye(t,gye(e)):[]}var xye=vye;const Ok=ft(xye);function lB(t,e,n){return e===!0?Ok(t,n):Pe(e)?Ok(t,e):t}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}var bye=["ref"];function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uB(r.key),r)}}function _ye(t,e,n){return e&&kk(t.prototype,e),n&&kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aye(t,e,n){return e=Ty(e),Sye(t,cB()?Reflect.construct(e,n||[],Ty(t).constructor):e.apply(t,n))}function Sye(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(t)}function jye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!t})()}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ty(t)}function Eye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function X0(t,e,n){return e=uB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uB(t){var e=Tye(t,"string");return yu(e)=="symbol"?e:e+""}function Tye(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nye(t,e){if(t==null)return{};var n=Oye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cye(t){return t.value}function kye(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Nye(e,bye);return $.createElement(jj,n)}var Ik=1,Hc=function(t){function e(){var n;wye(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Aye(this,e,[].concat(i)),X0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Eye(e,t),_ye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Ik||Math.abs(i.height-this.lastBoundingBox.height)>Ik)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ea({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ea(Ea({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ea(Ea({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},kye(a,Ea(Ea({},this.props),{},{payload:lB(d,u,Cye)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ea(Ea({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&le(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);X0(Hc,"displayName","Legend");X0(Hc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Pk=Cp,Iye=Tj,Pye=Rr,Rk=Pk?Pk.isConcatSpreadable:void 0;function Rye(t){return Pye(t)||Iye(t)||!!(Rk&&t&&t[Rk])}var Mye=Rye,Dye=Y5,$ye=Mye;function dB(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=$ye),i||(i=[]);++a<s;){var l=t[a];e>0&&n(l)?e>1?dB(l,e-1,n,r,i):Dye(i,l):r||(i[i.length]=l)}return i}var fB=dB;function Lye(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),l=s.length;l--;){var c=s[t?l:++i];if(n(a[c],c,a)===!1)break}return e}}var Bye=Lye,Uye=Bye,Vye=Uye(),zye=Vye,Fye=zye,Hye=K0;function qye(t,e){return t&&Fye(t,e,Hye)}var hB=qye,Gye=kp;function Wye(t,e){return function(n,r){if(n==null)return n;if(!Gye(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Kye=Wye,Xye=hB,Yye=Kye,Qye=Yye(Xye),kj=Qye,Zye=kj,Jye=kp;function eve(t,e){var n=-1,r=Jye(t)?Array(t.length):[];return Zye(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var pB=eve;function tve(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var nve=tve,Mk=od;function rve(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=Mk(t),s=e!==void 0,l=e===null,c=e===e,u=Mk(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}var ive=rve,ave=ive;function sve(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,l=n.length;++r<s;){var c=ave(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var ove=sve,Fb=mj,lve=gj,cve=ya,uve=pB,dve=nve,fve=J5,hve=ove,pve=md,mve=Rr;function gve(t,e,n){e.length?e=Fb(e,function(a){return mve(a)?function(s){return lve(s,a.length===1?a[0]:a)}:a}):e=[pve];var r=-1;e=Fb(e,fve(cve));var i=uve(t,function(a,s,l){var c=Fb(e,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return dve(i,function(a,s){return hve(a,s,n)})}var yve=gve;function vve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var xve=vve,bve=xve,Dk=Math.max;function wve(t,e,n){return e=Dk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Dk(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),bve(t,this,l)}}var _ve=wve;function Ave(t){return function(){return t}}var Sve=Ave,jve=Ul,Eve=function(){try{var t=jve(Object,"defineProperty");return t({},"",{}),t}catch{}}(),mB=Eve,Tve=Sve,$k=mB,Nve=md,Ove=$k?function(t,e){return $k(t,"toString",{configurable:!0,enumerable:!1,value:Tve(e),writable:!0})}:Nve,Cve=Ove,kve=800,Ive=16,Pve=Date.now;function Rve(t){var e=0,n=0;return function(){var r=Pve(),i=Ive-(r-n);if(n=r,i>0){if(++e>=kve)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Mve=Rve,Dve=Cve,$ve=Mve,Lve=$ve(Dve),Bve=Lve,Uve=md,Vve=_ve,zve=Bve;function Fve(t,e){return zve(Vve(t,e,Uve),t+"")}var Hve=Fve,qve=dj,Gve=kp,Wve=Nj,Kve=bo;function Xve(t,e,n){if(!Kve(n))return!1;var r=typeof e;return(r=="number"?Gve(n)&&Wve(e,n.length):r=="string"&&e in n)?qve(n[e],t):!1}var Y0=Xve,Yve=fB,Qve=yve,Zve=Hve,Lk=Y0,Jve=Zve(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Lk(t,e[0],e[1])?e=[]:n>2&&Lk(e[0],e[1],e[2])&&(e=[e[0]]),Qve(t,Yve(e,1),[])}),e0e=Jve;const Ij=ft(e0e);function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function t0e(t,e){return a0e(t)||i0e(t,e)||r0e(t,e)||n0e()}function n0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r0e(t,e){if(t){if(typeof t=="string")return Bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bk(t,e)}}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function a0e(t){if(Array.isArray(t))return t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){s0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s0e(t,e,n){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0e(t){var e=l0e(t,"string");return gh(e)=="symbol"?e:e+""}function l0e(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c0e(t){return Array.isArray(t)&&jn(t[0])&&jn(t[1])?t.join(" ~ "):t}var u0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,_=function(){if(d&&d.length){var P={padding:0,margin:0},R=(h?Ij(d,h):d).map(function(V,U){if(V.type==="none")return null;var B=Hb({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),L=V.formatter||f||c0e,z=V.value,q=V.name,te=z,ee=q;if(L&&te!=null&&ee!=null){var W=L(z,q,V,U,d);if(Array.isArray(W)){var M=t0e(W,2);te=M[0],ee=M[1]}else te=W}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:B},jn(ee)?$.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,jn(ee)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},te),$.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},N=Hb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=Hb({margin:0},u),E=!Ue(g),w=E?g:"",j=Fe("recharts-default-tooltip",m),O=Fe("recharts-tooltip-label",y);E&&v&&d!==void 0&&d!==null&&(w=v(g,d));var I=x?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",s_({className:j,style:N},I),$.createElement("p",{className:O,style:A},$.isValidElement(w)?w:"".concat(w)),_())};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Pm(t,e,n){return e=d0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d0e(t){var e=f0e(t,"string");return yh(e)=="symbol"?e:e+""}function f0e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gd="recharts-tooltip-wrapper",h0e={visibility:"hidden"};function p0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Fe(Gd,Pm(Pm(Pm(Pm({},"".concat(Gd,"-right"),le(n)&&e&&le(e.x)&&n>=e.x),"".concat(Gd,"-left"),le(n)&&e&&le(e.x)&&n<e.x),"".concat(Gd,"-bottom"),le(r)&&e&&le(e.y)&&r>=e.y),"".concat(Gd,"-top"),le(r)&&e&&le(e.y)&&r<e.y))}function Vk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&le(a[r]))return a[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,g=c[r]+u;return y>g?Math.max(d,c[r]):Math.max(f,c[r])}function m0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function g0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=Vk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Vk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=m0e({translateX:d,translateY:f,useTranslate3d:l})):u=h0e,{cssProperties:u,cssClasses:p0e({translateX:d,translateY:f,coordinate:n})}}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){l_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yB(r.key),r)}}function x0e(t,e,n){return e&&v0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b0e(t,e,n){return e=Ny(e),w0e(t,gB()?Reflect.construct(e,n||[],Ny(t).constructor):e.apply(t,n))}function w0e(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0e(t)}function _0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o_(t,e)}function l_(t,e,n){return e=yB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yB(t){var e=S0e(t,"string");return vu(e)=="symbol"?e:e+""}function S0e(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hk=1,j0e=function(t){function e(){var n;y0e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=b0e(this,e,[].concat(i)),l_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),l_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return A0e(e,t),x0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Hk||Math.abs(r.height-this.state.lastBoundingBox.height)>Hk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,_=g0e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),N=_.cssClasses,A=_.cssProperties,E=Fk(Fk({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return $.createElement("div",{tabIndex:-1,className:N,style:E,ref:function(j){r.wrapperNode=j}},u)}}])}(k.PureComponent),E0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wo={isSsr:E0e()};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){Pj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xB(r.key),r)}}function O0e(t,e,n){return e&&N0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C0e(t,e,n){return e=Oy(e),k0e(t,vB()?Reflect.construct(e,n||[],Oy(t).constructor):e.apply(t,n))}function k0e(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(t)}function I0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(t)}function P0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function Pj(t,e,n){return e=xB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xB(t){var e=R0e(t,"string");return xu(e)=="symbol"?e:e+""}function R0e(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M0e(t){return t.dataKey}function D0e(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(u0e,e)}var dr=function(t){function e(){return T0e(this,e),C0e(this,e,arguments)}return P0e(e,t),O0e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,N=i.wrapperStyle,A=y??[];f&&A.length&&(A=lB(y.filter(function(w){return w.value!=null&&(w.hide!==!0||r.props.includeHidden)}),g,M0e));var E=A.length>0;return $.createElement(j0e,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:E,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:_,wrapperStyle:N},D0e(u,Gk(Gk({},this.props),{},{payload:A})))}}])}(k.PureComponent);Pj(dr,"displayName","Tooltip");Pj(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $0e=ga,L0e=function(){return $0e.Date.now()},B0e=L0e,U0e=/\s/;function V0e(t){for(var e=t.length;e--&&U0e.test(t.charAt(e)););return e}var z0e=V0e,F0e=z0e,H0e=/^\s+/;function q0e(t){return t&&t.slice(0,F0e(t)+1).replace(H0e,"")}var G0e=q0e,W0e=G0e,Wk=bo,K0e=od,Kk=NaN,X0e=/^[-+]0x[0-9a-f]+$/i,Y0e=/^0b[01]+$/i,Q0e=/^0o[0-7]+$/i,Z0e=parseInt;function J0e(t){if(typeof t=="number")return t;if(K0e(t))return Kk;if(Wk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=W0e(t);var n=Y0e.test(t);return n||Q0e.test(t)?Z0e(t.slice(2),n?2:8):X0e.test(t)?Kk:+t}var bB=J0e,exe=bo,qb=B0e,Xk=bB,txe="Expected a function",nxe=Math.max,rxe=Math.min;function ixe(t,e,n){var r,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(txe);e=Xk(e)||0,exe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?nxe(Xk(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(E){var w=r,j=i;return r=i=void 0,u=E,s=t.apply(j,w),s}function y(E){return u=E,l=setTimeout(b,e),d?m(E):s}function g(E){var w=E-c,j=E-u,O=e-w;return f?rxe(O,a-j):O}function v(E){var w=E-c,j=E-u;return c===void 0||w>=e||w<0||f&&j>=a}function b(){var E=qb();if(v(E))return x(E);l=setTimeout(b,g(E))}function x(E){return l=void 0,h&&r?m(E):(r=i=void 0,s)}function _(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function N(){return l===void 0?s:x(qb())}function A(){var E=qb(),w=v(E);if(r=arguments,i=this,c=E,w){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(b,e),m(c)}return l===void 0&&(l=setTimeout(b,e)),s}return A.cancel=_,A.flush=N,A}var axe=ixe,sxe=axe,oxe=bo,lxe="Expected a function";function cxe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lxe);return oxe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sxe(t,e,{leading:r,maxWait:e,trailing:i})}var uxe=cxe;const wB=ft(uxe);function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){dxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dxe(t,e,n){return e=fxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fxe(t){var e=hxe(t,"string");return vh(e)=="symbol"?e:e+""}function hxe(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pxe(t,e){return vxe(t)||yxe(t,e)||gxe(t,e)||mxe()}function mxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gxe(t,e){if(t){if(typeof t=="string")return Qk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(t,e)}}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function vxe(t){if(Array.isArray(t))return t}var jc=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,b=t.className,x=t.onResize,_=t.style,N=_===void 0?{}:_,A=k.useRef(null),E=k.useRef();E.current=x,k.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var w=k.useState({containerWidth:i.width,containerHeight:i.height}),j=pxe(w,2),O=j[0],I=j[1],T=k.useCallback(function(R,V){I(function(U){var B=Math.round(R),L=Math.round(V);return U.containerWidth===B&&U.containerHeight===L?U:{containerWidth:B,containerHeight:L}})},[]);k.useEffect(function(){var R=function(q){var te,ee=q[0].contentRect,W=ee.width,M=ee.height;T(W,M),(te=E.current)===null||te===void 0||te.call(E,W,M)};g>0&&(R=wB(R,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(R),U=A.current.getBoundingClientRect(),B=U.width,L=U.height;return T(B,L),V.observe(A.current),function(){V.disconnect()}},[T,g]);var P=k.useMemo(function(){var R=O.containerWidth,V=O.containerHeight;if(R<0||V<0)return null;Li(Go(s)||Go(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Li(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Go(s)?R:s,B=Go(c)?V:c;n&&n>0&&(U?B=U/n:B&&(U=B*n),h&&B>h&&(B=h)),Li(U>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,B,s,c,d,f,n);var L=!Array.isArray(m)&&qa(m.type).endsWith("Chart");return $.Children.map(m,function(z){return $.isValidElement(z)?k.cloneElement(z,Rm({width:U,height:B},L?{style:Rm({height:"100%",width:"100%",maxHeight:B,maxWidth:U},z.props.style)}:{})):z})},[n,m,c,h,f,d,O,s]);return $.createElement("div",{id:v?"".concat(v):void 0,className:Fe("recharts-responsive-container",b),style:Rm(Rm({},N),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:A},P)}),bu=function(e){return null};bu.displayName="Cell";function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xxe(t,e,n){return e=bxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bxe(t){var e=wxe(t,"string");return xh(e)=="symbol"?e:e+""}function wxe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tc={widthCache:{},cacheCount:0},_xe=2e3,Axe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Jk="recharts_measurement_span";function Sxe(t){var e=u_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Mf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wo.isSsr)return{width:0,height:0};var r=Sxe(n),i=JSON.stringify({text:e,copyStyle:r});if(tc.widthCache[i])return tc.widthCache[i];try{var a=document.getElementById(Jk);a||(a=document.createElement("span"),a.setAttribute("id",Jk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=u_(u_({},Axe),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return tc.widthCache[i]=c,++tc.cacheCount>_xe&&(tc.cacheCount=0,tc.widthCache={}),c}catch{return{width:0,height:0}}},jxe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Cy(t,e){return Oxe(t)||Nxe(t,e)||Txe(t,e)||Exe()}function Exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Txe(t,e){if(t){if(typeof t=="string")return eI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(t,e)}}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Oxe(t){if(Array.isArray(t))return t}function Cxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ixe(r.key),r)}}function kxe(t,e,n){return e&&tI(t.prototype,e),n&&tI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ixe(t){var e=Pxe(t,"string");return bh(e)=="symbol"?e:e+""}function Pxe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_B={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dxe=Object.keys(_B),Ec="NaN";function $xe(t,e){return t*_B[e]}var Mm=function(){function t(e,n){Cxe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Rxe.test(n)&&(this.num=NaN,this.unit=""),Dxe.includes(n)&&(this.num=$xe(e,n),this.unit="px")}return kxe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Mxe.exec(n))!==null&&r!==void 0?r:[],a=Cy(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])}();function AB(t){if(t.includes(Ec))return Ec;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nI.exec(e))!==null&&n!==void 0?n:[],i=Cy(r,4),a=i[1],s=i[2],l=i[3],c=Mm.parse(a??""),u=Mm.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ec;e=e.replace(nI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=rI.exec(e))!==null&&f!==void 0?f:[],m=Cy(h,4),y=m[1],g=m[2],v=m[3],b=Mm.parse(y??""),x=Mm.parse(v??""),_=g==="+"?b.add(x):b.subtract(x);if(_.isNaN())return Ec;e=e.replace(rI,_.toString())}return e}var iI=/\(([^()]*)\)/;function Lxe(t){for(var e=t;e.includes("(");){var n=iI.exec(e),r=Cy(n,2),i=r[1];e=e.replace(iI,AB(i))}return e}function Bxe(t){var e=t.replace(/\s+/g,"");return e=Lxe(e),e=AB(e),e}function Uxe(t){try{return Bxe(t)}catch{return Ec}}function Gb(t){var e=Uxe(t.slice(5,-1));return e===Ec?"":e}var Vxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zxe=["dx","dy","angle","className","breakAll"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function aI(t,e){if(t==null)return{};var n=Fxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sI(t,e){return Wxe(t)||Gxe(t,e)||qxe(t,e)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return oI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(t,e)}}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Wxe(t){if(Array.isArray(t))return t}var SB=/[ \f\n\r\t\v\u2028\u2029]+/,jB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ue(n)||(r?a=n.toString().split(""):a=n.toString().split(SB));var s=a.map(function(c){return{word:c,width:Mf(c,i).width}}),l=r?0:Mf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Kxe=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=le(s),f=l,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(B,L){var z=L.word,q=L.width,te=B[B.length-1];if(te&&(i==null||a||te.width+q+r<Number(i)))te.words.push(z),te.width+=q+r;else{var ee={words:[z],width:q};B.push(ee)}return B},[])},m=h(n),y=function(U){return U.reduce(function(B,L){return B.width>L.width?B:L})};if(!d)return m;for(var g="",v=function(U){var B=f.slice(0,U),L=jB({breakAll:u,style:c,children:B+g}).wordsWithComputedWidth,z=h(L),q=z.length>s||y(z).width>Number(i);return[q,z]},b=0,x=f.length-1,_=0,N;b<=x&&_<=f.length-1;){var A=Math.floor((b+x)/2),E=A-1,w=v(E),j=sI(w,2),O=j[0],I=j[1],T=v(A),P=sI(T,1),R=P[0];if(!O&&!R&&(b=A+1),O&&R&&(x=A-1),!O&&R){N=I;break}_++}return N||m},lI=function(e){var n=Ue(e)?[]:e.toString().split(SB);return[{words:n}]},Xxe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!wo.isSsr){var c,u,d=jB({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return lI(i);return Kxe({breakAll:s,children:i,maxLines:l,style:a},c,u,n,r)}return lI(i)},cI="#808080",_l=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,b=v===void 0?cI:v,x=aI(e,Vxe),_=k.useMemo(function(){return Xxe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),N=x.dx,A=x.dy,E=x.angle,w=x.className,j=x.breakAll,O=aI(x,zxe);if(!jn(r)||!jn(a))return null;var I=r+(le(N)?N:0),T=a+(le(A)?A:0),P;switch(g){case"start":P=Gb("calc(".concat(u,")"));break;case"middle":P=Gb("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=Gb("calc(".concat(_.length-1," * -").concat(l,")"));break}var R=[];if(f){var V=_[0].width,U=x.width;R.push("scale(".concat((le(U)?U/V:1)/V,")"))}return E&&R.push("rotate(".concat(E,", ").concat(I,", ").concat(T,")")),R.length&&(O.transform=R.join(" ")),$.createElement("text",d_({},Se(O,!0),{x:I,y:T,className:Fe("recharts-text",w),textAnchor:m,fill:b.includes("url")?cI:b}),_.map(function(B,L){var z=B.words.join(j?"":" ");return $.createElement("tspan",{x:I,dy:L===0?P:l,key:"".concat(z,"-").concat(L)},z)}))};function Qs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rj(t){let e,n,r;t.length!==2?(e=Qs,n=(l,c)=>Qs(t(l),c),r=(l,c)=>t(l)-c):(e=t===Qs||t===Yxe?t:Qxe,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function Qxe(){return 0}function EB(t){return t===null?NaN:+t}function*Zxe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Jxe=Rj(Qs),Ip=Jxe.right;Rj(EB).center;class uI extends Map{constructor(e,n=nbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dI(this,e))}has(e){return super.has(dI(this,e))}set(e,n){return super.set(ebe(this,e),n)}delete(e){return super.delete(tbe(this,e))}}function dI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ebe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function nbe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rbe(t=Qs){if(t===Qs)return TB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function TB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ibe=Math.sqrt(50),abe=Math.sqrt(10),sbe=Math.sqrt(2);function ky(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ibe?10:a>=abe?5:a>=sbe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?ky(t,e,n*2):[l,c,u]}function f_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?ky(e,t,n):ky(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function h_(t,e,n){return e=+e,t=+t,n=+n,ky(t,e,n)[2]}function p_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?h_(e,t,n):h_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?TB:rbe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(r,Math.floor(e+(c-u)*f/c+h));NB(t,e,m,y,i)}const a=t[e];let s=n,l=r;for(Wd(t,n,e),i(t[r],a)>0&&Wd(t,n,r);s<l;){for(Wd(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Wd(t,n,l):(++l,Wd(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Wd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function obe(t,e,n){if(t=Float64Array.from(Zxe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hI(t);if(e>=1)return fI(t);var r,i=(r-1)*e,a=Math.floor(i),s=fI(NB(t,a).subarray(0,a+1)),l=hI(t.subarray(a+1));return s+(l-s)*(i-a)}}function lbe(t,e,n=EB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function cbe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const m_=Symbol("implicit");function Mj(){var t=new uI,e=[],n=[],r=m_;function i(a){let s=t.get(a);if(s===void 0){if(r!==m_)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new uI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mj(e,n).unknown(r)},ji.apply(i,arguments),i}function wh(){var t=Mj().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;a=(g-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(g-y-a*(h-c))*d,s=a*(1-c),l&&(y=Math.round(y),s=Math.round(s));var v=cbe(h).map(function(b){return y+a*b});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return wh(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ji.apply(f(),arguments)}function OB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OB(e())},t}function Df(){return OB(wh.apply(null,arguments).paddingInner(1))}function Dj(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pp(){}var _h=.7,Iy=1/_h,qc="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ube=/^#([0-9a-f]{3,8})$/,dbe=new RegExp(`^rgb\\(${qc},${qc},${qc}\\)$`),fbe=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),hbe=new RegExp(`^rgba\\(${qc},${qc},${qc},${Ah}\\)$`),pbe=new RegExp(`^rgba\\(${sa},${sa},${sa},${Ah}\\)$`),mbe=new RegExp(`^hsl\\(${Ah},${sa},${sa}\\)$`),gbe=new RegExp(`^hsla\\(${Ah},${sa},${sa},${Ah}\\)$`),pI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dj(Pp,Sh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mI,formatHex:mI,formatHex8:ybe,formatHsl:vbe,formatRgb:gI,toString:gI});function mI(){return this.rgb().formatHex()}function ybe(){return this.rgb().formatHex8()}function vbe(){return kB(this).formatHsl()}function gI(){return this.rgb().formatRgb()}function Sh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ube.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?yI(e):n===3?new Or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dbe.exec(t))?new Or(e[1],e[2],e[3],1):(e=fbe.exec(t))?new Or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hbe.exec(t))?Dm(e[1],e[2],e[3],e[4]):(e=pbe.exec(t))?Dm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mbe.exec(t))?bI(e[1],e[2]/100,e[3]/100,1):(e=gbe.exec(t))?bI(e[1],e[2]/100,e[3]/100,e[4]):pI.hasOwnProperty(t)?yI(pI[t]):t==="transparent"?new Or(NaN,NaN,NaN,0):null}function yI(t){return new Or(t>>16&255,t>>8&255,t&255,1)}function Dm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Or(t,e,n,r)}function xbe(t){return t instanceof Pp||(t=Sh(t)),t?(t=t.rgb(),new Or(t.r,t.g,t.b,t.opacity)):new Or}function g_(t,e,n,r){return arguments.length===1?xbe(t):new Or(t,e,n,r??1)}function Or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Dj(Or,g_,CB(Pp,{brighter(t){return t=t==null?Iy:Math.pow(Iy,t),new Or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_h:Math.pow(_h,t),new Or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Or(ol(this.r),ol(this.g),ol(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vI,formatHex:vI,formatHex8:bbe,formatRgb:xI,toString:xI}));function vI(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}`}function bbe(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}${Wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function xI(){const t=Py(this.opacity);return`${t===1?"rgb(":"rgba("}${ol(this.r)}, ${ol(this.g)}, ${ol(this.b)}${t===1?")":`, ${t})`}`}function Py(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ol(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wo(t){return t=ol(t),(t<16?"0":"")+t.toString(16)}function bI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pi(t,e,n,r)}function kB(t){if(t instanceof Pi)return new Pi(t.h,t.s,t.l,t.opacity);if(t instanceof Pp||(t=Sh(t)),!t)return new Pi;if(t instanceof Pi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Pi(s,l,c,t.opacity)}function wbe(t,e,n,r){return arguments.length===1?kB(t):new Pi(t,e,n,r??1)}function Pi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Dj(Pi,wbe,CB(Pp,{brighter(t){return t=t==null?Iy:Math.pow(Iy,t),new Pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_h:Math.pow(_h,t),new Pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Or(Wb(t>=240?t-240:t+120,i,r),Wb(t,i,r),Wb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pi(wI(this.h),$m(this.s),$m(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Py(this.opacity);return`${t===1?"hsl(":"hsla("}${wI(this.h)}, ${$m(this.s)*100}%, ${$m(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wI(t){return t=(t||0)%360,t<0?t+360:t}function $m(t){return Math.max(0,Math.min(1,t||0))}function Wb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $j=t=>()=>t;function _be(t,e){return function(n){return t+n*e}}function Abe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sbe(t){return(t=+t)==1?IB:function(e,n){return n-e?Abe(e,n,t):$j(isNaN(e)?n:e)}}function IB(t,e){var n=e-t;return n?_be(t,n):$j(isNaN(t)?e:t)}const _I=function t(e){var n=Sbe(e);function r(i,a){var s=n((i=g_(i)).r,(a=g_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=IB(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function jbe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ebe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tbe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=gd(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Nbe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ry(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Obe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var y_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kb=new RegExp(y_.source,"g");function Cbe(t){return function(){return t}}function kbe(t){return function(e){return t(e)+""}}function Ibe(t,e){var n=y_.lastIndex=Kb.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=y_.exec(t))&&(i=Kb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Ry(r,i)})),n=Kb.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?kbe(c[0].x):Cbe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?$j(e):(n==="number"?Ry:n==="string"?(r=Sh(e))?(e=r,_I):Ibe:e instanceof Sh?_I:e instanceof Date?Nbe:Ebe(e)?jbe:Array.isArray(e)?Tbe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Obe:Ry)(t,e)}function Lj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Pbe(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Rbe(t){return function(){return t}}function My(t){return+t}var AI=[0,1];function gr(t){return t}function v_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rbe(isNaN(e)?NaN:.5)}function Mbe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dbe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=v_(i,r),a=n(s,a)):(r=v_(r,i),a=n(a,s)),function(l){return a(r(l))}}function $be(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=v_(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=Ip(t,l,1,r)-1;return a[c](i[c](l))}}function Rp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Q0(){var t=AI,e=AI,n=gd,r,i,a,s=gr,l,c,u;function d(){var h=Math.min(t.length,e.length);return s!==gr&&(s=Mbe(t[0],t[h-1])),l=h>2?$be:Dbe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=l(e,t.map(r),Ry)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,My),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Lj,d()},f.clamp=function(h){return arguments.length?(s=h?!0:gr,d()):s!==gr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function Bj(){return Q0()(gr,gr)}function Lbe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Dy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wu(t){return t=Dy(Math.abs(t)),t?t[1]:NaN}function Bbe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Ube(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jh(t){if(!(e=Vbe.exec(t)))throw new Error("invalid format: "+t);var e;return new Uj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jh.prototype=Uj.prototype;function Uj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Uj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zbe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var PB;function Fbe(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(PB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Dy(t,Math.max(0,e+a-1))[0]}function SI(t,e){var n=Dy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Lbe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SI(t*100,e),r:SI,s:Fbe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function EI(t){return t}var TI=Array.prototype.map,NI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hbe(t){var e=t.grouping===void 0||t.thousands===void 0?EI:Bbe(TI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?EI:Ube(TI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=jh(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,b=f.width,x=f.comma,_=f.precision,N=f.trim,A=f.type;A==="n"?(x=!0,A="g"):jI[A]||(_===void 0&&(_=12),N=!0,A="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",w=g==="$"?r:/[%p]/.test(A)?s:"",j=jI[A],O=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(T){var P=E,R=w,V,U,B;if(A==="c")R=j(T)+R,T="";else{T=+T;var L=T<0||1/T<0;if(T=isNaN(T)?c:j(Math.abs(T),_),N&&(T=zbe(T)),L&&+T==0&&y!=="+"&&(L=!1),P=(L?y==="("?y:l:y==="-"||y==="("?"":y)+P,R=(A==="s"?NI[8+PB/3]:"")+R+(L&&y==="("?")":""),O){for(V=-1,U=T.length;++V<U;)if(B=T.charCodeAt(V),48>B||B>57){R=(B===46?i+T.slice(V+1):T.slice(V))+R,T=T.slice(0,V);break}}}x&&!v&&(T=e(T,1/0));var z=P.length+T.length+R.length,q=z<b?new Array(b-z+1).join(h):"";switch(x&&v&&(T=e(q+T,q.length?b-R.length:1/0),q=""),m){case"<":T=P+T+R+q;break;case"=":T=P+q+T+R;break;case"^":T=q.slice(0,z=q.length>>1)+P+T+R+q.slice(z);break;default:T=q+P+T+R;break}return a(T)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=jh(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(wu(h)/3)))*3,g=Math.pow(10,-y),v=NI[8+y/3];return function(b){return m(g*b)+v}}return{format:u,formatPrefix:d}}var Lm,Vj,RB;qbe({thousands:",",grouping:[3],currency:["$",""]});function qbe(t){return Lm=Hbe(t),Vj=Lm.format,RB=Lm.formatPrefix,Lm}function Gbe(t){return Math.max(0,-wu(Math.abs(t)))}function Wbe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wu(e)/3)))*3-wu(Math.abs(t)))}function Kbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wu(e)-wu(t))+1}function MB(t,e,n,r){var i=p_(t,e,n),a;switch(r=jh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Wbe(i,s))&&(r.precision=a),RB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Kbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Gbe(i))&&(r.precision=a-(r.type==="%")*2);break}}return Vj(r)}function _o(t){var e=t.domain;return t.ticks=function(n){var r=e();return f_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return MB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=h_(s,l,n),u===c)return r[i]=s,r[a]=l,e(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function $y(){var t=Bj();return t.copy=function(){return Rp(t,$y())},ji.apply(t,arguments),_o(t)}function DB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,My),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return DB(t).unknown(e)},t=arguments.length?Array.from(t,My):[0,1],_o(n)}function $B(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function OI(t){return Math.log(t)}function CI(t){return Math.exp(t)}function Xbe(t){return-Math.log(-t)}function Ybe(t){return-Math.exp(-t)}function Qbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zbe(t){return t===10?Qbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jbe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kI(t){return(e,n)=>-t(-e,n)}function zj(t){const e=t(OI,CI),n=e.domain;let r=10,i,a;function s(){return i=Jbe(r),a=Zbe(r),n()[0]<0?(i=kI(i),a=kI(a),t(Xbe,Ybe)):t(OI,CI),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,g;const v=l==null?10:+l;let b=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/a(-h):y*a(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/a(-h):y*a(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=f_(u,d,v))}else b=f_(h,m,Math.min(m-h,v)).map(a);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=jh(c)).precision==null&&(c.trim=!0),c=Vj(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n($B(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function LB(){const t=zj(Q0()).domain([1,10]);return t.copy=()=>Rp(t,LB()).base(t.base()),ji.apply(t,arguments),t}function II(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fj(t){var e=1,n=t(II(e),PI(e));return n.constant=function(r){return arguments.length?t(II(e=+r),PI(e)):e},_o(n)}function BB(){var t=Fj(Q0());return t.copy=function(){return Rp(t,BB()).constant(t.constant())},ji.apply(t,arguments)}function RI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function e1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function t1e(t){return t<0?-t*t:t*t}function Hj(t){var e=t(gr,gr),n=1;function r(){return n===1?t(gr,gr):n===.5?t(e1e,t1e):t(RI(n),RI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_o(e)}function qj(){var t=Hj(Q0());return t.copy=function(){return Rp(t,qj()).exponent(t.exponent())},ji.apply(t,arguments),t}function n1e(){return qj.apply(null,arguments).exponent(.5)}function MI(t){return Math.sign(t)*t*t}function r1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function UB(){var t=Bj(),e=[0,1],n=!1,r;function i(a){var s=r1e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(MI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,My)).map(MI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ji.apply(i,arguments),_o(i)}function VB(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=lbe(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ip(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Qs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return VB().domain(t).range(e).unknown(r)},ji.apply(a,arguments)}function zB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Ip(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return zB().domain([t,e]).range(i).unknown(a)},ji.apply(_o(s),arguments)}function FB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ip(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return FB().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}const Xb=new Date,Yb=new Date;function On(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<s);return c},i.filter=a=>On(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Xb.setTime(+a),Yb.setTime(+s),t(Xb),t(Yb),Math.floor(n(Xb,Yb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ly=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ly.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ly);Ly.range;const $a=1e3,yi=$a*60,La=yi*60,ns=La*24,Gj=ns*7,DI=ns*30,Qb=ns*365,Ko=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$a)},(t,e)=>(e-t)/$a,t=>t.getUTCSeconds());Ko.range;const Wj=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$a)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getMinutes());Wj.range;const Kj=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCMinutes());Kj.range;const Xj=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$a-t.getMinutes()*yi)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getHours());Xj.range;const Yj=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCHours());Yj.range;const Mp=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yi)/ns,t=>t.getDate()-1);Mp.range;const Z0=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>t.getUTCDate()-1);Z0.range;const HB=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>Math.floor(t/ns));HB.range;function zl(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yi)/Gj)}const J0=zl(0),By=zl(1),i1e=zl(2),a1e=zl(3),_u=zl(4),s1e=zl(5),o1e=zl(6);J0.range;By.range;i1e.range;a1e.range;_u.range;s1e.range;o1e.range;function Fl(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Gj)}const ex=Fl(0),Uy=Fl(1),l1e=Fl(2),c1e=Fl(3),Au=Fl(4),u1e=Fl(5),d1e=Fl(6);ex.range;Uy.range;l1e.range;c1e.range;Au.range;u1e.range;d1e.range;const Qj=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Qj.range;const Zj=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Zj.range;const rs=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rs.range;const is=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});is.range;function qB(t,e,n,r,i,a){const s=[[Ko,1,$a],[Ko,5,5*$a],[Ko,15,15*$a],[Ko,30,30*$a],[a,1,yi],[a,5,5*yi],[a,15,15*yi],[a,30,30*yi],[i,1,La],[i,3,3*La],[i,6,6*La],[i,12,12*La],[r,1,ns],[r,2,2*ns],[n,1,Gj],[e,1,DI],[e,3,3*DI],[t,1,Qb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=Rj(([,,v])=>v).right(s,h);if(m===s.length)return t.every(p_(u/Qb,d/Qb,f));if(m===0)return Ly.every(Math.max(p_(u,d,f),1));const[y,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(g)}return[l,c]}const[f1e,h1e]=qB(is,Zj,ex,HB,Yj,Kj),[p1e,m1e]=qB(rs,Qj,J0,Mp,Xj,Wj);function Zb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Jb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function g1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=Xd(i),d=Yd(i),f=Xd(a),h=Yd(a),m=Xd(s),y=Yd(s),g=Xd(l),v=Yd(l),b=Xd(c),x=Yd(c),_={a:L,A:z,b:q,B:te,c:null,d:zI,e:zI,f:B1e,g:X1e,G:Q1e,H:D1e,I:$1e,j:L1e,L:GB,m:U1e,M:V1e,p:ee,q:W,Q:qI,s:GI,S:z1e,u:F1e,U:H1e,V:q1e,w:G1e,W:W1e,x:null,X:null,y:K1e,Y:Y1e,Z:Z1e,"%":HI},N={a:M,A:X,b:Y,B:ye,c:null,d:FI,e:FI,f:nwe,g:fwe,G:pwe,H:J1e,I:ewe,j:twe,L:KB,m:rwe,M:iwe,p:de,q:ke,Q:qI,s:GI,S:awe,u:swe,U:owe,V:lwe,w:cwe,W:uwe,x:null,X:null,y:dwe,Y:hwe,Z:mwe,"%":HI},A={a:I,A:T,b:P,B:R,c:V,d:UI,e:UI,f:I1e,g:BI,G:LI,H:VI,I:VI,j:N1e,L:k1e,m:T1e,M:O1e,p:O,q:E1e,Q:R1e,s:M1e,S:C1e,u:w1e,U:_1e,V:A1e,w:b1e,W:S1e,x:U,X:B,y:BI,Y:LI,Z:j1e,"%":P1e};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),N.x=E(n,N),N.X=E(r,N),N.c=E(e,N);function E(Q,ce){return function(pe){var Z=[],je=-1,Ae=0,ge=Q.length,ae,ve,Re;for(pe instanceof Date||(pe=new Date(+pe));++je<ge;)Q.charCodeAt(je)===37&&(Z.push(Q.slice(Ae,je)),(ve=$I[ae=Q.charAt(++je)])!=null?ae=Q.charAt(++je):ve=ae==="e"?" ":"0",(Re=ce[ae])&&(ae=Re(pe,ve)),Z.push(ae),Ae=je+1);return Z.push(Q.slice(Ae,je)),Z.join("")}}function w(Q,ce){return function(pe){var Z=Kd(1900,void 0,1),je=j(Z,Q,pe+="",0),Ae,ge;if(je!=pe.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ce&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ae=Jb(Kd(Z.y,0,1)),ge=Ae.getUTCDay(),Ae=ge>4||ge===0?Uy.ceil(Ae):Uy(Ae),Ae=Z0.offset(Ae,(Z.V-1)*7),Z.y=Ae.getUTCFullYear(),Z.m=Ae.getUTCMonth(),Z.d=Ae.getUTCDate()+(Z.w+6)%7):(Ae=Zb(Kd(Z.y,0,1)),ge=Ae.getDay(),Ae=ge>4||ge===0?By.ceil(Ae):By(Ae),Ae=Mp.offset(Ae,(Z.V-1)*7),Z.y=Ae.getFullYear(),Z.m=Ae.getMonth(),Z.d=Ae.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),ge="Z"in Z?Jb(Kd(Z.y,0,1)).getUTCDay():Zb(Kd(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(ge+5)%7:Z.w+Z.U*7-(ge+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Jb(Z)):Zb(Z)}}function j(Q,ce,pe,Z){for(var je=0,Ae=ce.length,ge=pe.length,ae,ve;je<Ae;){if(Z>=ge)return-1;if(ae=ce.charCodeAt(je++),ae===37){if(ae=ce.charAt(je++),ve=A[ae in $I?ce.charAt(je++):ae],!ve||(Z=ve(Q,pe,Z))<0)return-1}else if(ae!=pe.charCodeAt(Z++))return-1}return Z}function O(Q,ce,pe){var Z=u.exec(ce.slice(pe));return Z?(Q.p=d.get(Z[0].toLowerCase()),pe+Z[0].length):-1}function I(Q,ce,pe){var Z=m.exec(ce.slice(pe));return Z?(Q.w=y.get(Z[0].toLowerCase()),pe+Z[0].length):-1}function T(Q,ce,pe){var Z=f.exec(ce.slice(pe));return Z?(Q.w=h.get(Z[0].toLowerCase()),pe+Z[0].length):-1}function P(Q,ce,pe){var Z=b.exec(ce.slice(pe));return Z?(Q.m=x.get(Z[0].toLowerCase()),pe+Z[0].length):-1}function R(Q,ce,pe){var Z=g.exec(ce.slice(pe));return Z?(Q.m=v.get(Z[0].toLowerCase()),pe+Z[0].length):-1}function V(Q,ce,pe){return j(Q,e,ce,pe)}function U(Q,ce,pe){return j(Q,n,ce,pe)}function B(Q,ce,pe){return j(Q,r,ce,pe)}function L(Q){return s[Q.getDay()]}function z(Q){return a[Q.getDay()]}function q(Q){return c[Q.getMonth()]}function te(Q){return l[Q.getMonth()]}function ee(Q){return i[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function M(Q){return s[Q.getUTCDay()]}function X(Q){return a[Q.getUTCDay()]}function Y(Q){return c[Q.getUTCMonth()]}function ye(Q){return l[Q.getUTCMonth()]}function de(Q){return i[+(Q.getUTCHours()>=12)]}function ke(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ce=E(Q+="",_);return ce.toString=function(){return Q},ce},parse:function(Q){var ce=w(Q+="",!1);return ce.toString=function(){return Q},ce},utcFormat:function(Q){var ce=E(Q+="",N);return ce.toString=function(){return Q},ce},utcParse:function(Q){var ce=w(Q+="",!0);return ce.toString=function(){return Q},ce}}}var $I={"-":"",_:" ",0:"0"},Un=/^\s*\d+/,y1e=/^%/,v1e=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function x1e(t){return t.replace(v1e,"\\$&")}function Xd(t){return new RegExp("^(?:"+t.map(x1e).join("|")+")","i")}function Yd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function b1e(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function w1e(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _1e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function A1e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function S1e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function LI(t,e,n){var r=Un.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function BI(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function j1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E1e(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function T1e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function UI(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function N1e(t,e,n){var r=Un.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function VI(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function O1e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function C1e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function k1e(t,e,n){var r=Un.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function I1e(t,e,n){var r=Un.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P1e(t,e,n){var r=y1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function R1e(t,e,n){var r=Un.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function M1e(t,e,n){var r=Un.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zI(t,e){return st(t.getDate(),e,2)}function D1e(t,e){return st(t.getHours(),e,2)}function $1e(t,e){return st(t.getHours()%12||12,e,2)}function L1e(t,e){return st(1+Mp.count(rs(t),t),e,3)}function GB(t,e){return st(t.getMilliseconds(),e,3)}function B1e(t,e){return GB(t,e)+"000"}function U1e(t,e){return st(t.getMonth()+1,e,2)}function V1e(t,e){return st(t.getMinutes(),e,2)}function z1e(t,e){return st(t.getSeconds(),e,2)}function F1e(t){var e=t.getDay();return e===0?7:e}function H1e(t,e){return st(J0.count(rs(t)-1,t),e,2)}function WB(t){var e=t.getDay();return e>=4||e===0?_u(t):_u.ceil(t)}function q1e(t,e){return t=WB(t),st(_u.count(rs(t),t)+(rs(t).getDay()===4),e,2)}function G1e(t){return t.getDay()}function W1e(t,e){return st(By.count(rs(t)-1,t),e,2)}function K1e(t,e){return st(t.getFullYear()%100,e,2)}function X1e(t,e){return t=WB(t),st(t.getFullYear()%100,e,2)}function Y1e(t,e){return st(t.getFullYear()%1e4,e,4)}function Q1e(t,e){var n=t.getDay();return t=n>=4||n===0?_u(t):_u.ceil(t),st(t.getFullYear()%1e4,e,4)}function Z1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function FI(t,e){return st(t.getUTCDate(),e,2)}function J1e(t,e){return st(t.getUTCHours(),e,2)}function ewe(t,e){return st(t.getUTCHours()%12||12,e,2)}function twe(t,e){return st(1+Z0.count(is(t),t),e,3)}function KB(t,e){return st(t.getUTCMilliseconds(),e,3)}function nwe(t,e){return KB(t,e)+"000"}function rwe(t,e){return st(t.getUTCMonth()+1,e,2)}function iwe(t,e){return st(t.getUTCMinutes(),e,2)}function awe(t,e){return st(t.getUTCSeconds(),e,2)}function swe(t){var e=t.getUTCDay();return e===0?7:e}function owe(t,e){return st(ex.count(is(t)-1,t),e,2)}function XB(t){var e=t.getUTCDay();return e>=4||e===0?Au(t):Au.ceil(t)}function lwe(t,e){return t=XB(t),st(Au.count(is(t),t)+(is(t).getUTCDay()===4),e,2)}function cwe(t){return t.getUTCDay()}function uwe(t,e){return st(Uy.count(is(t)-1,t),e,2)}function dwe(t,e){return st(t.getUTCFullYear()%100,e,2)}function fwe(t,e){return t=XB(t),st(t.getUTCFullYear()%100,e,2)}function hwe(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function pwe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Au(t):Au.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function mwe(){return"+0000"}function HI(){return"%"}function qI(t){return+t}function GI(t){return Math.floor(+t/1e3)}var nc,YB,QB;gwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gwe(t){return nc=g1e(t),YB=nc.format,nc.parse,QB=nc.utcFormat,nc.utcParse,nc}function ywe(t){return new Date(t)}function vwe(t){return t instanceof Date?+t:+new Date(+t)}function Jj(t,e,n,r,i,a,s,l,c,u){var d=Bj(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),_=u("%B"),N=u("%Y");function A(E){return(c(E)<E?m:l(E)<E?y:s(E)<E?g:a(E)<E?v:r(E)<E?i(E)<E?b:x:n(E)<E?_:N)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,vwe)):h().map(ywe)},d.ticks=function(E){var w=h();return t(w[0],w[w.length-1],E??10)},d.tickFormat=function(E,w){return w==null?A:u(w)},d.nice=function(E){var w=h();return(!E||typeof E.range!="function")&&(E=e(w[0],w[w.length-1],E??10)),E?h($B(w,E)):d},d.copy=function(){return Rp(d,Jj(t,e,n,r,i,a,s,l,c,u))},d}function xwe(){return ji.apply(Jj(p1e,m1e,rs,Qj,J0,Mp,Xj,Wj,Ko,YB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bwe(){return ji.apply(Jj(f1e,h1e,is,Zj,ex,Z0,Yj,Kj,Ko,QB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tx(){var t=0,e=1,n,r,i,a,s=gr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d(gd),u.rangeRound=d(Lj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ZB(){var t=_o(tx()(gr));return t.copy=function(){return Ao(t,ZB())},cs.apply(t,arguments)}function JB(){var t=zj(tx()).domain([1,10]);return t.copy=function(){return Ao(t,JB()).base(t.base())},cs.apply(t,arguments)}function e8(){var t=Fj(tx());return t.copy=function(){return Ao(t,e8()).constant(t.constant())},cs.apply(t,arguments)}function eE(){var t=Hj(tx());return t.copy=function(){return Ao(t,eE()).exponent(t.exponent())},cs.apply(t,arguments)}function wwe(){return eE.apply(null,arguments).exponent(.5)}function t8(){var t=[],e=gr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ip(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>obe(t,a/r))},n.copy=function(){return t8(e).domain(t)},cs.apply(n,arguments)}function nx(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,u=gr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(v){var b,x,_;return arguments.length?([b,x,_]=v,u=Pbe(g,[b,x,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(gd),m.rangeRound=y(Lj),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function n8(){var t=_o(nx()(gr));return t.copy=function(){return Ao(t,n8())},cs.apply(t,arguments)}function r8(){var t=zj(nx()).domain([.1,1,10]);return t.copy=function(){return Ao(t,r8()).base(t.base())},cs.apply(t,arguments)}function i8(){var t=Fj(nx());return t.copy=function(){return Ao(t,i8()).constant(t.constant())},cs.apply(t,arguments)}function tE(){var t=Hj(nx());return t.copy=function(){return Ao(t,tE()).exponent(t.exponent())},cs.apply(t,arguments)}function _we(){return tE.apply(null,arguments).exponent(.5)}const WI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wh,scaleDiverging:n8,scaleDivergingLog:r8,scaleDivergingPow:tE,scaleDivergingSqrt:_we,scaleDivergingSymlog:i8,scaleIdentity:DB,scaleImplicit:m_,scaleLinear:$y,scaleLog:LB,scaleOrdinal:Mj,scalePoint:Df,scalePow:qj,scaleQuantile:VB,scaleQuantize:zB,scaleRadial:UB,scaleSequential:ZB,scaleSequentialLog:JB,scaleSequentialPow:eE,scaleSequentialQuantile:t8,scaleSequentialSqrt:wwe,scaleSequentialSymlog:e8,scaleSqrt:n1e,scaleSymlog:BB,scaleThreshold:FB,scaleTime:xwe,scaleUtc:bwe,tickFormat:MB},Symbol.toStringTag,{value:"Module"}));var Awe=od;function Swe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(l===void 0?s===s&&!Awe(s):n(s,l)))var l=s,c=a}return c}var rx=Swe;function jwe(t,e){return t>e}var a8=jwe,Ewe=rx,Twe=a8,Nwe=md;function Owe(t){return t&&t.length?Ewe(t,Nwe,Twe):void 0}var Cwe=Owe;const Ds=ft(Cwe);function kwe(t,e){return t<e}var s8=kwe,Iwe=rx,Pwe=s8,Rwe=md;function Mwe(t){return t&&t.length?Iwe(t,Rwe,Pwe):void 0}var Dwe=Mwe;const ix=ft(Dwe);var $we=mj,Lwe=ya,Bwe=pB,Uwe=Rr;function Vwe(t,e){var n=Uwe(t)?$we:Bwe;return n(t,Lwe(e))}var zwe=Vwe,Fwe=fB,Hwe=zwe;function qwe(t,e){return Fwe(Hwe(t,e),1)}var Gwe=qwe;const Wwe=ft(Gwe);var Kwe=Cj;function Xwe(t,e){return Kwe(t,e)}var Ywe=Xwe;const Al=ft(Ywe);var yd=1e9,Qwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rE,Ht=!0,wi="[DecimalError] ",ll=wi+"Invalid argument: ",nE=wi+"Exponent out of range: ",vd=Math.floor,Vo=Math.pow,Zwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,Rn=1e7,Mt=7,o8=9007199254740991,Vy=vd(o8/Mt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return Ga(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return jt(Ga(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return gn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gr))throw Error(wi+"NaN");if(n.s<1)throw Error(wi+(n.s?"NaN":"-Infinity"));return n.eq(Gr)?new r(0):(Ht=!1,e=Ga(Eh(n,a),Eh(t,a),a),Ht=!0,jt(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?u8(e,t):l8(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wi+"NaN");return n.s?(Ht=!1,e=Ga(n,t,0,1).times(t),Ht=!0,n.minus(e)):jt(new r(n),i)};we.naturalExponential=we.exp=function(){return c8(this)};we.naturalLogarithm=we.ln=function(){return Eh(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?l8(e,t):u8(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ll+t);if(e=gn(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wi+"NaN")}for(t=gn(l),Ht=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Zi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Ga(l,a,s+2)).times(.5),Zi(a.d).slice(0,s)===(e=Zi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(jt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return Ht=!0,jt(r,n)};we.times=we.mul=function(t){var e,n,r,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+m[r]*h[i-r-1]+e,a[i--]=l%Rn|0,e=l/Rn|0;a[i]=(a[i]+e)%Rn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ht?jt(t,f.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fa(t,0,yd),e===void 0?e=r.rounding:fa(e,0,8),jt(n,t+gn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sl(r,!0):(fa(t,0,yd),e===void 0?e=i.rounding:fa(e,0,8),r=jt(new i(r),t+1,e),n=Sl(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Sl(i):(fa(t,0,yd),e===void 0?e=a.rounding:fa(e,0,8),r=jt(new a(i),t+gn(i)+1,e),n=Sl(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return jt(new e(t),gn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Gr);if(l=new c(l),!l.s){if(t.s<1)throw Error(wi+"Infinity");return l}if(l.eq(Gr))return l;if(r=c.precision,t.eq(Gr))return jt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=d<0?-d:d)<=o8){for(i=new c(Gr),e=Math.ceil(r/Mt+4),Ht=!1;n%2&&(i=i.times(l),XI(i.d,e)),n=vd(n/2),n!==0;)l=l.times(l),XI(l.d,e);return Ht=!0,t.s<0?new c(Gr).div(i):jt(i,r)}}else if(a<0)throw Error(wi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ht=!1,i=t.times(Eh(l,r+u)),Ht=!0,i=c8(i),i.s=a,i};we.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=gn(i),r=Sl(i,n<=a.toExpNeg||n>=a.toExpPos)):(fa(t,1,yd),e===void 0?e=a.rounding:fa(e,0,8),i=jt(new a(i),t,e),n=gn(i),r=Sl(i,t<=n||n<=a.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fa(t,1,yd),e===void 0?e=r.rounding:fa(e,0,8)),jt(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return Sl(t,e<=n.toExpNeg||e>=n.toExpPos)};function l8(t,e){var n,r,i,a,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ht?jt(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),s=Math.ceil(f/Mt),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Rn|0,c[a]%=Rn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ht?jt(e,f):e}function fa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ll+t)}function Zi(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(a+=ws(n)),a+=r;s=t[e],r=s+"",n=Mt-r.length,n&&(a+=ws(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ga=function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%Rn|0,s=a/Rn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Rn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,u,d,f,h,m,y,g,v,b,x,_,N,A,E,w,j,O=r.constructor,I=r.s==i.s?1:-1,T=r.d,P=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(wi+"Division by zero");for(c=r.e-i.e,w=P.length,A=T.length,m=new O(I),y=m.d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--c,a==null?x=a=O.precision:s?x=a+(gn(r)-gn(i))+1:x=a,x<0)return new O(0);if(x=x/Mt+2|0,u=0,w==1)for(d=0,P=P[0],x++;(u<A||d)&&x--;u++)_=d*Rn+(T[u]||0),y[u]=_/P|0,d=_%P|0;else{for(d=Rn/(P[0]+1)|0,d>1&&(P=t(P,d),T=t(T,d),w=P.length,A=T.length),N=w,g=T.slice(0,w),v=g.length;v<w;)g[v++]=0;j=P.slice(),j.unshift(0),E=P[0],P[1]>=Rn/2&&++E;do d=0,l=e(P,g,w,v),l<0?(b=g[0],w!=v&&(b=b*Rn+(g[1]||0)),d=b/E|0,d>1?(d>=Rn&&(d=Rn-1),f=t(P,d),h=f.length,v=g.length,l=e(f,g,h,v),l==1&&(d--,n(f,w<h?j:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),l==-1&&(v=g.length,l=e(P,g,w,v),l<1&&(d++,n(g,w<v?j:P,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=T[N]||0:(g=[T[N]],v=1);while((N++<A||g[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=c,jt(m,s?a+gn(m)+1:a)}}();function c8(t,e){var n,r,i,a,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(gn(t)>16)throw Error(nE+gn(t));if(!t.s)return new d(Gr);for(Ht=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Vo(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(Gr),d.precision=l;;){if(i=jt(i.times(t),l),n=n.times(++c),s=a.plus(Ga(i,n,l)),Zi(s.d).slice(0,l)===Zi(a.d).slice(0,l)){for(;u--;)a=jt(a.times(a),l);return d.precision=f,e==null?(Ht=!0,jt(a,f)):a}a=s}}function gn(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function e1(t,e,n){if(e>t.LN10.sd())throw Ht=!0,n&&(t.precision=n),Error(wi+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function ws(t){for(var e="";t--;)e+="0";return e}function Eh(t,e){var n,r,i,a,s,l,c,u,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(wi+(m.s?"NaN":"-Infinity"));if(m.eq(Gr))return new g(0);if(e==null?(Ht=!1,u=v):u=e,m.eq(10))return e==null&&(Ht=!0),e1(g,u);if(u+=h,g.precision=u,n=Zi(y),r=n.charAt(0),a=gn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Zi(m.d),r=n.charAt(0),f++;a=gn(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return c=e1(g,u+2,v).times(a+""),m=Eh(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=v,e==null?(Ht=!0,jt(m,v)):m;for(l=s=m=Ga(m.minus(Gr),m.plus(Gr),u),d=jt(m.times(m),u),i=3;;){if(s=jt(s.times(d),u),c=l.plus(Ga(s,new g(i),u)),Zi(c.d).slice(0,u)===Zi(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(e1(g,u+2,v).times(a+""))),l=Ga(l,new g(f),u),g.precision=v,e==null?(Ht=!0,jt(l,v)):l;l=c,i+=2}}function KI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vd(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Vy||t.e<-Vy))throw Error(nE+n)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,n){var r,i,a,s,l,c,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Mt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Mt),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=Mt,i=r-Mt+s}if(n!==void 0&&(a=Vo(10,s-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Vo(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=gn(t),f.length=1,e=e-a-1,f[0]=Vo(10,(Mt-e%Mt)%Mt),t.e=vd(-e/Mt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Vo(10,Mt-r),f[d]=i>0?(u/Vo(10,s-i)%Vo(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Rn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Rn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ht&&(t.e>Vy||t.e<-Vy))throw Error(nE+gn(t));return t}function u8(t,e){var n,r,i,a,s,l,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ht?jt(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(m/Mt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Rn-1;--c[a],c[i]+=Rn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ht?jt(e,m):e):new h(0)}function Sl(t,e,n){var r,i=gn(t),a=Zi(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ws(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ws(-i-1)+a,n&&(r=n-s)>0&&(a+=ws(r))):i>=s?(a+=ws(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ws(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ws(r))),t.s<0?"-"+a:a}function XI(t,e){if(t.length>e)return t.length=e,!0}function d8(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ll+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return KI(s,a.toString())}else if(typeof a!="string")throw Error(ll+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Zwe.test(a))KI(s,a);else throw Error(ll+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=d8,i.config=i.set=Jwe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Jwe(t){if(!t||typeof t!="object")throw Error(wi+"Object expected");var e,n,r,i=["precision",1,yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ll+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ll+n+": "+r);return this}var rE=d8(Qwe);Gr=new rE(1);const bt=rE;function e_e(t){return i_e(t)||r_e(t)||n_e(t)||t_e()}function t_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_e(t,e){if(t){if(typeof t=="string")return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(t,e)}}function r_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function i_e(t){if(Array.isArray(t))return x_(t)}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a_e=function(e){return e},f8={},h8=function(e){return e===f8},YI=function(e){return function n(){return arguments.length===0||arguments.length===1&&h8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},s_e=function t(e,n){return e===1?n:YI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==f8}).length;return s>=e?n.apply(void 0,i):t(e-s,YI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return h8(f)?c.shift():f});return n.apply(void 0,e_e(d).concat(c))}))})},ax=function(e){return s_e(e.length,e)},b_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},o_e=ax(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),l_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return a_e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},w_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},p8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function c_e(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function u_e(t,e,n){for(var r=new bt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var d_e=ax(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),f_e=ax(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),h_e=ax(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sx={rangeStep:u_e,getDigitCount:c_e,interpolateNumber:d_e,uninterpolateNumber:f_e,uninterpolateTruncation:h_e};function __(t){return g_e(t)||m_e(t)||m8(t)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function g_e(t){if(Array.isArray(t))return A_(t)}function Th(t,e){return x_e(t)||v_e(t,e)||m8(t,e)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v_e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function x_e(t){if(Array.isArray(t))return t}function g8(t){var e=Th(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function y8(t,e,n){if(t.lte(0))return new bt(0);var r=sx.getDigitCount(t.toNumber()),i=new bt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new bt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new bt(Math.ceil(c))}function b_e(t,e,n){var r=1,i=new bt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new bt(10).pow(sx.getDigitCount(t)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new bt(Math.floor(t)))}else t===0?i=new bt(Math.floor((e-1)/2)):n||(i=new bt(Math.floor(t)));var s=Math.floor((e-1)/2),l=l_e(o_e(function(c){return i.add(new bt(c-s).mul(r)).toNumber()}),b_);return l(0,e)}function v8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var a=y8(new bt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new bt(0):(s=new bt(t).add(e).div(2),s=s.sub(new bt(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new bt(e).sub(s).div(a).toNumber()),u=l+c+1;return u>n?v8(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:a,tickMin:s.sub(new bt(l).mul(a)),tickMax:s.add(new bt(c).mul(a))})}function w_e(t){var e=Th(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=g8([n,r]),c=Th(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(__(b_(0,i-1).map(function(){return 1/0}))):[].concat(__(b_(0,i-1).map(function(){return-1/0})),[d]);return n>r?w_(f):f}if(u===d)return b_e(u,i,a);var h=v8(u,d,s,a),m=h.step,y=h.tickMin,g=h.tickMax,v=sx.rangeStep(y,g.add(new bt(.1).mul(m)),m);return n>r?w_(v):v}function __e(t,e){var n=Th(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=g8([r,i]),l=Th(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=y8(new bt(u).sub(c).div(d-1),a,0),h=[].concat(__(sx.rangeStep(new bt(c),new bt(u).sub(new bt(.99).mul(f)),f)),[u]);return r>i?w_(h):h}var A_e=p8(w_e),S_e=p8(__e),j_e="Invariant failed";function jl(t,e){throw new Error(j_e)}var E_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function T_e(t,e){return k_e(t)||C_e(t,e)||O_e(t,e)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function k_e(t){if(Array.isArray(t))return t}function I_e(t,e){if(t==null)return{};var n=P_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w8(r.key),r)}}function D_e(t,e,n){return e&&M_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $_e(t,e,n){return e=Fy(e),L_e(t,x8()?Reflect.construct(e,n||[],Fy(t).constructor):e.apply(t,n))}function L_e(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B_e(t)}function B_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fy(t)}function U_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function b8(t,e,n){return e=w8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=V_e(t,"string");return Su(e)=="symbol"?e:e+""}function V_e(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dp=function(t){function e(){return R_e(this,e),$_e(this,e,arguments)}return U_e(e,t),D_e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=I_e(r,E_e),m=Se(h,!1);this.props.direction==="x"&&d.type!=="number"&&jl();var y=c.map(function(g){var v=u(g,l),b=v.x,x=v.y,_=v.value,N=v.errorVal;if(!N)return null;var A=[],E,w;if(Array.isArray(N)){var j=T_e(N,2);E=j[0],w=j[1]}else E=w=N;if(a==="vertical"){var O=d.scale,I=x+i,T=I+s,P=I-s,R=O(_-E),V=O(_+w);A.push({x1:V,y1:T,x2:V,y2:P}),A.push({x1:R,y1:I,x2:V,y2:I}),A.push({x1:R,y1:T,x2:R,y2:P})}else if(a==="horizontal"){var U=f.scale,B=b+i,L=B-s,z=B+s,q=U(_-E),te=U(_+w);A.push({x1:L,y1:te,x2:z,y2:te}),A.push({x1:B,y1:q,x2:B,y2:te}),A.push({x1:L,y1:q,x2:z,y2:q})}return $.createElement(Qe,zy({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),A.map(function(ee){return $.createElement("line",zy({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return $.createElement(Qe,{className:"recharts-errorBars"},y)}}])}($.Component);b8(Dp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});b8(Dp,"displayName","ErrorBar");function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){z_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z_e(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=H_e(t,"string");return Nh(e)=="symbol"?e:e+""}function H_e(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Fr(n,Hc);if(!s)return null;var l=Hc.defaultProps,c=l!==void 0?Io(Io({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Io(Io({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:y,type:c.iconType||v||"square",color:iE(f),value:g||y,payload:m}}),Io(Io(Io({},c),Hc.getWithHeight(s,i)),{},{payload:u,item:s})};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function JI(t){return K_e(t)||W_e(t)||G_e(t)||q_e()}function q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(t,e){if(t){if(typeof t=="string")return j_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j_(t,e)}}function W_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K_e(t){if(Array.isArray(t))return j_(t)}function j_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gc(t,e,n){return e=X_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_e(t){var e=Y_e(t,"string");return Oh(e)=="symbol"?e:e+""}function Y_e(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e,n){return Ue(t)||Ue(e)?n:jn(e)?ti(t,e,n):Pe(e)?e(t):n}function $f(t,e,n,r){var i=Wwe(t,function(l){return cn(l,e)});if(n==="number"){var a=i.filter(function(l){return le(l)||parseFloat(l)});return a.length?[ix(a),Ds(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Ue(l)}):i;return s.map(function(l){return jn(l)||l instanceof Date?l:""})}var Q_e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(pr(f-d)!==pr(h-f)){var y=[];if(pr(h-f)===pr(c[1]-c[0])){m=h;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var x=Math.min(d,h),_=Math.max(d,h);if(e>(x+f)/2&&e<=(_+f)/2){s=i[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},iE=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},Z_e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,b=g.filter(function(w){return qa(w.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,_=x!==void 0?tn(tn({},x),b[0].props):b[0].props,N=_.barSize,A=_[v];s[A]||(s[A]=[]);var E=Ue(N)?n:N;s[A].push({item:b[0],stackList:b.slice(1),barSize:Ue(E)?void 0:mr(E,r,0)})}}return s},J_e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=mr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/c,y=s.reduce(function(N,A){return N+A.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=c*m);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(N,A){var E={item:A.item,position:{offset:v.offset+v.size+u,size:h?m:A.barSize}},w=[].concat(JI(N),[E]);return v=w[w.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(j){w.push({item:j,position:v})}),w},f)}else{var b=mr(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var x=(i-2*b-(c-1)*u)/c;x>1&&(x>>=0);var _=l===+l?Math.min(x,l):x;d=s.reduce(function(N,A,E){var w=[].concat(JI(N),[{item:A.item,position:{offset:b+(x+u)*E+(x-_)/2,size:_}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(j){w.push({item:j,position:w[w.length-1].position})}),w},f)}return d},e2e=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),u=_8({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&le(e[m]))return tn(tn({},e),{},Gc({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&le(e[y]))return tn(tn({},e),{},Gc({},y,e[y]+(h||0)))}return e},t2e=function(e,n,r){return Ue(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},A8=function(e,n,r,i,a){var s=n.props.children,l=ni(s,Dp).filter(function(u){return t2e(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=cn(d,r);if(Ue(f))return u;var h=Array.isArray(f)?[ix(f),Ds(f)]:[f,f],m=c.reduce(function(y,g){var v=cn(d,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},n2e=function(e,n,r,i,a){var s=n.map(function(l){return A8(e,l,r,a,i)}).filter(function(l){return!Ue(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},S8=function(e,n,r,i,a){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&A8(e,c,u,i)||$f(e,u,r,a)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},j8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},E8=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},Ba=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?pr(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!fd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},t1=new WeakMap,Bm=function(e,n){if(typeof n!="function")return e;t1.has(e)||t1.set(e,new WeakMap);var r=t1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},T8=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:wh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:$y(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Df(),realScaleType:"point"}:a==="category"?{scale:wh(),realScaleType:"band"}:{scale:$y(),realScaleType:"linear"};if(bl(i)){var c="scale".concat(H0(i));return{scale:(WI[c]||Df)(),realScaleType:WI[c]?c:"point"}}return Pe(i)?{scale:i}:{scale:Df(),realScaleType:"point"}},tP=1e-4,N8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-tP,s=Math.max(i[0],i[1])+tP,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},r2e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},i2e=function(e,n){if(!n||n.length!==2||!le(n[0])||!le(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<r)&&(a[0]=r),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},a2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=fd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},s2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=fd(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},o2e={sign:a2e,expand:Ede,none:mu,silhouette:Tde,wiggle:Nde,positive:s2e},l2e=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=o2e[r],s=jde().keys(i).value(function(l,c){return+cn(l,c,0)}).order(Yw).offset(a);return s(e)},c2e=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},u=l.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?tn(tn({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var b=y[r],x=f[b]||{hasStack:!1,stackGroups:{}};if(jn(g)){var _=x.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[g]=_}else x.stackGroups[Vl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return tn(tn({},f),{},Gc({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var b=m.stackGroups[v];return tn(tn({},g),{},Gc({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:l2e(e,b.items,a)}))},y)}return tn(tn({},f),{},Gc({},h,m))},d)},O8=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=A_e(u,a,l);return e.domain([ix(d),Ds(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=S_e(f,a,l);return{niceTicks:h}}return null};function Hy(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ue(i[e.dataKey])){var l=gy(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=cn(i,Ue(s)?e.dataKey:s);return Ue(c)?null:e.scale(c)}var nP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=cn(s,n.dataKey,n.domain[l]);return Ue(c)?null:n.scale(c)-a/2+i},u2e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},d2e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(jn(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},f2e=function(e){return e.reduce(function(n,r){return[ix(r.concat([n[0]]).filter(le)),Ds(r.concat([n[1]]).filter(le))]},[1/0,-1/0])},C8=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(u,d){var f=f2e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E_=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(le(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(rP.test(e[0])){var a=+rP.exec(e[0])[1];i[0]=n[0]-a}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(le(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(iP.test(e[1])){var s=+iP.exec(e[1])[1];i[1]=n[1]+s}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qy=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Ij(n,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},aP=function(e,n,r){return!e||!e.length||Al(e,ti(r,"type.defaultProps.domain"))?n:e},k8=function(e,n){var r=e.type.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return tn(tn({},Se(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:iE(e),value:cn(n,i),type:c,payload:n,chartType:u,hide:d})};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){I8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I8(t,e,n){return e=h2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2e(t){var e=p2e(t,"string");return Ch(e)=="symbol"?e:e+""}function p2e(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m2e(t,e){return x2e(t)||v2e(t,e)||y2e(t,e)||g2e()}function g2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2e(t,e){if(t){if(typeof t=="string")return oP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function x2e(t){if(Array.isArray(t))return t}var Gy=Math.PI/180,b2e=function(e){return e*180/Math.PI},Ct=function(e,n,r,i){return{x:e+Math.cos(-Gy*i)*r,y:n+Math.sin(-Gy*i)*r}},P8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},w2e=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=mr(e.cx,s,s/2),f=mr(e.cy,l,l/2),h=P8(s,l,r),m=mr(e.innerRadius,h,0),y=mr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(v,b){var x=n[b],_=x.domain,N=x.reversed,A;if(Ue(x.range))i==="angleAxis"?A=[c,u]:i==="radiusAxis"&&(A=[m,y]),N&&(A=[A[1],A[0]]);else{A=x.range;var E=A,w=m2e(E,2);c=w[0],u=w[1]}var j=T8(x,a),O=j.realScaleType,I=j.scale;I.domain(_).range(A),N8(I);var T=O8(I,Ta(Ta({},x),{},{realScaleType:O})),P=Ta(Ta(Ta({},x),T),{},{range:A,radius:y,realScaleType:O,scale:I,cx:d,cy:f,innerRadius:m,outerRadius:y,startAngle:c,endAngle:u});return Ta(Ta({},v),{},I8({},b,P))},{})},_2e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},A2e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=_2e({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:b2e(u),angleInRadian:u}},S2e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},j2e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},lP=function(e,n){var r=e.x,i=e.y,a=A2e({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=S2e(n),f=d.startAngle,h=d.endAngle,m=l,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?Ta(Ta({},n),{},{radius:s,angle:j2e(m,n)}):null},R8=function(e){return!k.isValidElement(e)&&!Pe(e)&&typeof e!="boolean"?e.className:""};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}var E2e=["offset"];function T2e(t){return k2e(t)||C2e(t)||O2e(t)||N2e()}function N2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function C2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k2e(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I2e(t,e){if(t==null)return{};var n=P2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){R2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2e(t,e,n){return e=M2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M2e(t){var e=D2e(t,"string");return kh(e)=="symbol"?e:e+""}function D2e(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ih.apply(this,arguments)}var $2e=function(e){var n=e.value,r=e.formatter,i=Ue(e.children)?n:e.children;return Pe(r)?r(i):i},L2e=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},B2e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+h)/2,b=L2e(m,y),x=b>=0?1:-1,_,N;i==="insideStart"?(_=m+x*s,N=g):i==="insideEnd"?(_=y-x*s,N=!g):i==="end"&&(_=y+x*s,N=g),N=b<=0?N:!N;var A=Ct(u,d,v,_),E=Ct(u,d,v,_+(N?1:-1)*359),w="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(E.x,",").concat(E.y),j=Ue(e.id)?Vl("recharts-radial-line-"):e.id;return $.createElement("text",Ih({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:j,d:w})),$.createElement("textPath",{xlinkHref:"#".concat(j)},n))},U2e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=Ct(s,l,u+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Ct(s,l,v,h),x=b.x,_=b.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},V2e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*i,b=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var _={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return xn(xn({},_),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return xn(xn({},N),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var A={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return xn(xn({},A),r?{width:Math.max(A.x-r.x,0),height:d}:{})}if(a==="right"){var E={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return xn(xn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var w=r?{width:u,height:d}:{};return a==="insideLeft"?xn({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},w):a==="insideRight"?xn({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},w):a==="insideTop"?xn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},w):a==="insideBottom"?xn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},w):a==="insideTopLeft"?xn({x:l+v,y:c+h,textAnchor:x,verticalAnchor:y},w):a==="insideTopRight"?xn({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:y},w):a==="insideBottomLeft"?xn({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},w):a==="insideBottomRight"?xn({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},w):ld(a)&&(le(a.x)||Go(a.x))&&(le(a.y)||Go(a.y))?xn({x:l+mr(a.x,u),y:c+mr(a.y,d),textAnchor:"end",verticalAnchor:"end"},w):xn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},w)},z2e=function(e){return"cx"in e&&le(e.cx)};function $n(t){var e=t.offset,n=e===void 0?5:e,r=I2e(t,E2e),i=xn({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Ue(l)&&Ue(c)&&!k.isValidElement(u)&&!Pe(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var m;if(Pe(u)){if(m=k.createElement(u,i),k.isValidElement(m))return m}else m=$2e(i);var y=z2e(a),g=Se(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return B2e(i,m,g);var v=y?U2e(i):V2e(i);return $.createElement(_l,Ih({className:Fe("recharts-label",f)},g,v,{breakAll:h}),m)}$n.displayName="Label";var M8=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(le(g)&&le(v)){if(le(f)&&le(h))return{x:f,y:h,width:g,height:v};if(le(m)&&le(y))return{x:m,y,width:g,height:v}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(n)&&le(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},F2e=function(e,n){return e?e===!0?$.createElement($n,{key:"label-implicit",viewBox:n}):jn(e)?$.createElement($n,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===$n?k.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement($n,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?$.createElement($n,{key:"label-implicit",content:e,viewBox:n}):ld(e)?$.createElement($n,Ih({viewBox:n},e,{key:"label-implicit"})):null:null},H2e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=M8(e),s=ni(i,$n).map(function(c,u){return k.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var l=F2e(e.label,n||a);return[l].concat(T2e(s))};$n.parseViewBox=M8;$n.renderCallByParent=H2e;function q2e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var G2e=q2e;const W2e=ft(G2e);function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var K2e=["valueAccessor"],X2e=["data","dataKey","clockWise","id","textBreakAll"];function Y2e(t){return eAe(t)||J2e(t)||Z2e(t)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function J2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eAe(t){if(Array.isArray(t))return N_(t)}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){tAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tAe(t,e,n){return e=nAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nAe(t){var e=rAe(t,"string");return Ph(e)=="symbol"?e:e+""}function rAe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fP(t,e){if(t==null)return{};var n=iAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aAe=function(e){return Array.isArray(e.value)?W2e(e.value):e.value};function oa(t){var e=t.valueAccessor,n=e===void 0?aAe:e,r=fP(t,K2e),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=fP(r,X2e);return!i||!i.length?null:$.createElement(Qe,{className:"recharts-label-list"},i.map(function(d,f){var h=Ue(a)?n(d,f):cn(d&&d.payload,a),m=Ue(l)?{}:{id:"".concat(l,"-").concat(f)};return $.createElement($n,Wy({},Se(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:$n.parseViewBox(Ue(s)?d:dP(dP({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}oa.displayName="LabelList";function sAe(t,e){return t?t===!0?$.createElement(oa,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Pe(t)?$.createElement(oa,{key:"labelList-implicit",data:e,content:t}):ld(t)?$.createElement(oa,Wy({data:e},t,{key:"labelList-implicit"})):null:null}function oAe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ni(r,oa).map(function(s,l){return k.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=sAe(t.label,e);return[a].concat(Y2e(i))}oa.renderCallByParent=oAe;function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){lAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lAe(t,e,n){return e=cAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cAe(t){var e=uAe(t,"string");return Rh(e)=="symbol"?e:e+""}function uAe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dAe=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Um=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Gy,h=u?a:a+s*f,m=Ct(n,r,d,h),y=Ct(n,r,i,h),g=u?a-s*f:a,v=Ct(n,r,d*Math.cos(f*Gy),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},D8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=dAe(s,l),u=s+c,d=Ct(n,r,a,s),f=Ct(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Ct(n,r,i,s),y=Ct(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},fAe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=pr(d-u),h=Um({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=Um({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,_=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-_;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):D8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=Um({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),w=E.circleTangency,j=E.lineTangency,O=E.theta,I=Um({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),T=I.circleTangency,P=I.lineTangency,R=I.theta,V=c?Math.abs(u-d):Math.abs(u-d)-O-R;if(V<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},hAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$8=function(e){var n=pP(pP({},hAe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var m=Fe("recharts-sector",h),y=s-a,g=mr(l,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=fAe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=D8({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),$.createElement("path",O_({},Se(n,!0),{className:m,d:v,role:"img"}))};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){pAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pAe(t,e,n){return e=mAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mAe(t){var e=gAe(t,"string");return Mh(e)=="symbol"?e:e+""}function gAe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yP={curveBasisClosed:pde,curveBasisOpen:mde,curveBasis:hde,curveBumpX:Jue,curveBumpY:ede,curveLinearClosed:gde,curveLinear:G0,curveMonotoneX:yde,curveMonotoneY:vde,curveNatural:xde,curveStep:bde,curveStepAfter:_de,curveStepBefore:wde},Vm=function(e){return e.x===+e.x&&e.y===+e.y},Qd=function(e){return e.x},Zd=function(e){return e.y},yAe=function(e,n){if(Pe(e))return e;var r="curve".concat(H0(e));return(r==="curveMonotone"||r==="curveBump")&&n?yP["".concat(r).concat(n==="vertical"?"Y":"X")]:yP[r]||G0},vAe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=yAe(r,l),f=u?a.filter(function(g){return Vm(g)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return Vm(g)}):s,y=f.map(function(g,v){return gP(gP({},g),{},{base:m[v]})});return l==="vertical"?h=km().y(Zd).x1(Qd).x0(function(g){return g.base.x}):h=km().x(Qd).y1(Zd).y0(function(g){return g.base.y}),h.defined(Vm).curve(d),h(y)}return l==="vertical"&&le(s)?h=km().y(Zd).x1(Qd).x0(s):le(s)?h=km().x(Qd).y1(Zd).y0(s):h=k5().x(Qd).y(Zd),h.defined(Vm).curve(d),h(f)},cl=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?vAe(e):i;return $.createElement("path",C_({},Se(e,!1),yy(e),{className:Fe("recharts-curve",n),d:s,ref:a}))},xAe=Object.getOwnPropertyNames,bAe=Object.getOwnPropertySymbols,wAe=Object.prototype.hasOwnProperty;function vP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function zm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function xP(t){return xAe(t).concat(bAe(t))}var _Ae=Object.hasOwn||function(t,e){return wAe.call(t,e)};function Hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var AAe="__v",SAe="__o",jAe="_owner",bP=Object.getOwnPropertyDescriptor,wP=Object.keys;function EAe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function TAe(t,e){return Hl(t.getTime(),e.getTime())}function NAe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function OAe(t,e){return t===e}function _P(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=s.value,m=l.value;if(n.equals(h[0],m[0],c,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var CAe=Hl;function kAe(t,e,n){var r=wP(t),i=r.length;if(wP(e).length!==i)return!1;for(;i-- >0;)if(!L8(t,e,n,r[i]))return!1;return!0}function Jd(t,e,n){var r=xP(t),i=r.length;if(xP(e).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=r[i],!L8(t,e,n,a)||(s=bP(t,a),l=bP(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function IAe(t,e){return Hl(t.valueOf(),e.valueOf())}function PAe(t,e){return t.source===e.source&&t.flags===e.flags}function AP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,l;(s=a.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function RAe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function MAe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function L8(t,e,n,r){return(r===jAe||r===SAe||r===AAe)&&(t.$$typeof||e.$$typeof)?!0:_Ae(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var DAe="[object Arguments]",$Ae="[object Boolean]",LAe="[object Date]",BAe="[object Error]",UAe="[object Map]",VAe="[object Number]",zAe="[object Object]",FAe="[object RegExp]",HAe="[object Set]",qAe="[object String]",GAe="[object URL]",WAe=Array.isArray,SP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jP=Object.assign,KAe=Object.prototype.toString.call.bind(Object.prototype.toString);function XAe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var b=typeof y;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(y,g,v):b==="function"?i(y,g,v):!1;var x=y.constructor;if(x!==g.constructor)return!1;if(x===Object)return l(y,g,v);if(WAe(y))return e(y,g,v);if(SP!=null&&SP(y))return f(y,g,v);if(x===Date)return n(y,g,v);if(x===RegExp)return u(y,g,v);if(x===Map)return a(y,g,v);if(x===Set)return d(y,g,v);var _=KAe(y);return _===LAe?n(y,g,v):_===FAe?u(y,g,v):_===UAe?a(y,g,v):_===HAe?d(y,g,v):_===zAe?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):_===GAe?h(y,g,v):_===BAe?r(y,g,v):_===DAe?l(y,g,v):_===$Ae||_===VAe||_===qAe?c(y,g,v):!1}}function YAe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Jd:EAe,areDatesEqual:TAe,areErrorsEqual:NAe,areFunctionsEqual:OAe,areMapsEqual:r?vP(_P,Jd):_P,areNumbersEqual:CAe,areObjectsEqual:r?Jd:kAe,arePrimitiveWrappersEqual:IAe,areRegExpsEqual:PAe,areSetsEqual:r?vP(AP,Jd):AP,areTypedArraysEqual:r?Jd:RAe,areUrlsEqual:MAe};if(n&&(i=jP({},i,n(i))),e){var a=zm(i.areArraysEqual),s=zm(i.areMapsEqual),l=zm(i.areObjectsEqual),c=zm(i.areSetsEqual);i=jP({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function QAe(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function ZAe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,s)}}var JAe=So();So({strict:!0});So({circular:!0});So({circular:!0,strict:!0});So({createInternalComparator:function(){return Hl}});So({strict:!0,createInternalComparator:function(){return Hl}});So({circular:!0,createInternalComparator:function(){return Hl}});So({circular:!0,createInternalComparator:function(){return Hl},strict:!0});function So(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,l=YAe(t),c=XAe(l),u=r?r(c):QAe(c);return ZAe({circular:n,comparator:c,createState:i,equals:u,strict:s})}function eSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function EP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):eSe(i)};requestAnimationFrame(r)}function k_(t){"@babel/helpers - typeof";return k_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k_(t)}function tSe(t){return aSe(t)||iSe(t)||rSe(t)||nSe()}function nSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rSe(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aSe(t){if(Array.isArray(t))return t}function sSe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=tSe(s),c=l[0],u=l.slice(1);if(typeof c=="number"){EP(i.bind(null,u),c);return}i(c),EP(i.bind(null,u));return}k_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){B8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B8(t,e,n){return e=oSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oSe(t){var e=lSe(t,"string");return Dh(e)==="symbol"?e:String(e)}function lSe(t,e){if(Dh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cSe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},uSe=function(e){return e},dSe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lf=function(e,n){return Object.keys(n).reduce(function(r,i){return OP(OP({},r),{},B8({},i,e(i,n[i])))},{})},CP=function(e,n,r){return e.map(function(i){return"".concat(dSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function fSe(t,e){return mSe(t)||pSe(t,e)||U8(t,e)||hSe()}function hSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function mSe(t){if(Array.isArray(t))return t}function gSe(t){return xSe(t)||vSe(t)||U8(t)||ySe()}function ySe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function vSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xSe(t){if(Array.isArray(t))return I_(t)}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ky=1e-4,V8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},z8=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},kP=function(e,n){return function(r){var i=V8(e,n);return z8(i,r)}},bSe=function(e,n){return function(r){var i=V8(e,n),a=[].concat(gSe(i.map(function(s,l){return s*l}).slice(1)),[0]);return z8(a,r)}},IP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=fSe(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=kP(i,s),h=kP(a,l),m=bSe(i,s),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var x=b>1?1:b,_=x,N=0;N<8;++N){var A=f(_)-x,E=m(_);if(Math.abs(A-x)<Ky||E<Ky)return h(_);_=y(_-A/E)}return h(_)};return g.isStepper=!1,g},wSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*r,y=h*a,g=h+(m-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Ky&&Math.abs(g)<Ky?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},_Se=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IP(i);case"spring":return wSe();default:if(i.split("(")[0]==="cubic-bezier")return IP(i)}return typeof i=="function"?i:null};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function PP(t){return jSe(t)||SSe(t)||F8(t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jSe(t){if(Array.isArray(t))return R_(t)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P_(t,e,n){return e=ESe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ESe(t){var e=TSe(t,"string");return $h(e)==="symbol"?e:String(e)}function TSe(t,e){if($h(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NSe(t,e){return kSe(t)||CSe(t,e)||F8(t,e)||OSe()}function OSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8(t,e){if(t){if(typeof t=="string")return R_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R_(t,e)}}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function kSe(t){if(Array.isArray(t))return t}var Xy=function(e,n,r){return e+(n-e)*r},M_=function(e){var n=e.from,r=e.to;return n!==r},ISe=function t(e,n,r){var i=Lf(function(a,s){if(M_(s)){var l=e(s.from,s.to,s.velocity),c=NSe(l,2),u=c[0],d=c[1];return Fn(Fn({},s),{},{from:u,velocity:d})}return s},n);return r<1?Lf(function(a,s){return M_(s)?Fn(Fn({},s),{},{velocity:Xy(s.velocity,i[a].velocity,r),from:Xy(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const PSe=function(t,e,n,r,i){var a=cSe(t,e),s=a.reduce(function(v,b){return Fn(Fn({},v),{},P_({},b,[t[b],e[b]]))},{}),l=a.reduce(function(v,b){return Fn(Fn({},v),{},P_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Lf(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(M_).length},y=function(b){u||(u=b);var x=b-u,_=x/n.dt;l=ISe(n,l,_),i(Fn(Fn(Fn({},t),e),h())),u=b,m()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var x=(b-d)/r,_=Lf(function(A,E){return Xy.apply(void 0,PP(E).concat([n(x)]))},s);if(i(Fn(Fn(Fn({},t),e),_)),x<1)c=requestAnimationFrame(f);else{var N=Lf(function(A,E){return Xy.apply(void 0,PP(E).concat([n(1)]))},s);i(Fn(Fn(Fn({},t),e),N))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}var RSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function MSe(t,e){if(t==null)return{};var n=DSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n1(t){return USe(t)||BSe(t)||LSe(t)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(t,e){if(t){if(typeof t=="string")return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}}function BSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function USe(t){if(Array.isArray(t))return D_(t)}function D_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){df(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function df(t,e,n){return e=H8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H8(r.key),r)}}function FSe(t,e,n){return e&&zSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H8(t){var e=HSe(t,"string");return ju(e)==="symbol"?e:String(e)}function HSe(t,e){if(ju(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function GSe(t){var e=WSe();return function(){var r=Yy(t),i;if(e){var a=Yy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return L_(this,i)}}function L_(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B_(t)}function B_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yy(t)}var Vi=function(t){qSe(n,t);var e=GSe(n);function n(r,i){var a;VSe(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(B_(a)),a.changeStyle=a.changeStyle.bind(B_(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),L_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},L_(a);a.state={style:c?df({},c,u):u}}else a.state={style:{}};return a}return FSe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var m={style:c?df({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(JAe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var v={style:c?df({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Oi(Oi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=PSe(s,l,_Se(u),c,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,b){if(b===0)return g;var x=v.duration,_=v.easing,N=_===void 0?"ease":_,A=v.style,E=v.properties,w=v.onAnimationEnd,j=b>0?s[b-1]:v,O=E||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(n1(g),[a.runJSAnimation.bind(a,{from:j.style,to:A,duration:x,easing:N}),x]);var I=CP(O,x,N),T=Oi(Oi(Oi({},j.style),A),{},{transition:I});return[].concat(n1(g),[T,x,w]).filter(uSe)};return this.manager.start([c].concat(n1(s.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=sSe());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?df({},l,c):c,v=CP(Object.keys(g),s,u);y.start([d,a,Oi(Oi({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=MSe(i,RSe),u=k.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,b=y.className,x=k.cloneElement(m,Oi(Oi({},c),{},{style:Oi(Oi({},v),d),className:b}));return x};return u===1?f(k.Children.only(a)):$.createElement("div",null,k.Children.map(a,function(h){return f(h)}))}}]),n}(k.PureComponent);Vi.displayName="Animate";Vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vi.propTypes={from:Ne.oneOfType([Ne.object,Ne.string]),to:Ne.oneOfType([Ne.object,Ne.string]),attributeName:Ne.string,duration:Ne.number,begin:Ne.number,easing:Ne.oneOfType([Ne.string,Ne.func]),steps:Ne.arrayOf(Ne.shape({duration:Ne.number.isRequired,style:Ne.object.isRequired,easing:Ne.oneOfType([Ne.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ne.func]),properties:Ne.arrayOf("string"),onAnimationEnd:Ne.func})),children:Ne.oneOfType([Ne.node,Ne.func]),isActive:Ne.bool,canBegin:Ne.bool,onAnimationEnd:Ne.func,shouldReAnimate:Ne.bool,onAnimationStart:Ne.func,onAnimationReStart:Ne.func};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(this,arguments)}function KSe(t,e){return ZSe(t)||QSe(t,e)||YSe(t,e)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function ZSe(t){if(Array.isArray(t))return t}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){JSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JSe(t,e,n){return e=eje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eje(t){var e=tje(t,"string");return Lh(e)=="symbol"?e:e+""}function tje(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BP=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},nje=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},rje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aE=function(e){var n=LP(LP({},rje),e),r=k.useRef(),i=k.useState(-1),a=KSe(i,2),s=a[0],l=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=Fe("recharts-rectangle",m);return x?$.createElement(Vi,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:x},function(N){var A=N.width,E=N.height,w=N.x,j=N.y;return $.createElement(Vi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},$.createElement("path",Qy({},Se(n,!0),{className:_,d:BP(w,j,A,E,h),ref:r})))}):$.createElement("path",Qy({},Se(n,!0),{className:_,d:BP(c,u,d,f,h)}))},ije=["points","className","baseLinePoints","connectNulls"];function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function aje(t,e){if(t==null)return{};var n=sje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UP(t){return uje(t)||cje(t)||lje(t)||oje()}function oje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lje(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function cje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uje(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var VP=function(e){return e&&e.x===+e.x&&e.y===+e.y},dje=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){VP(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),VP(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Bf=function(e,n){var r=dje(e);n&&(r=[r.reduce(function(a,s){return[].concat(UP(a),UP(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},fje=function(e,n,r){var i=Bf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Bf(n.reverse(),r).slice(1))},hje=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=aje(e,ije);if(!n||!n.length)return null;var l=Fe("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=fje(n,i,a);return $.createElement("g",{className:l},$.createElement("path",Tc({},Se(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?$.createElement("path",Tc({},Se(s,!0),{fill:"none",d:Bf(n,a)})):null,c?$.createElement("path",Tc({},Se(s,!0),{fill:"none",d:Bf(i,a)})):null)}var d=Bf(n,a);return $.createElement("path",Tc({},Se(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}var $p=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=Fe("recharts-dot",a);return n===+n&&r===+r&&i===+i?$.createElement("circle",V_({},Se(e,!1),yy(e),{className:s,cx:n,cy:r,r:i})):null};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}var pje=["x","y","top","left","width","height","className"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mje(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){gje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gje(t,e,n){return e=yje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yje(t){var e=vje(t,"string");return Bh(e)=="symbol"?e:e+""}function vje(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xje(t,e){if(t==null)return{};var n=bje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wje=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},_je=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=xje(e,pje),v=mje({x:r,y:a,top:l,left:u,width:f,height:m},g);return!le(r)||!le(a)||!le(f)||!le(m)||!le(l)||!le(u)?null:$.createElement("path",z_({},Se(v,!0),{className:Fe("recharts-cross",y),d:wje(r,a,f,m,l,u)}))},Aje=rx,Sje=a8,jje=ya;function Eje(t,e){return t&&t.length?Aje(t,jje(e),Sje):void 0}var Tje=Eje;const Nje=ft(Tje);var Oje=rx,Cje=ya,kje=s8;function Ije(t,e){return t&&t.length?Oje(t,Cje(e),kje):void 0}var Pje=Ije;const Rje=ft(Pje);var Mje=["cx","cy","angle","ticks","axisLine"],Dje=["ticks","tick","angle","tickFormatter","stroke"];function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HP(t,e){if(t==null)return{};var n=$je(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $je(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G8(r.key),r)}}function Bje(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uje(t,e,n){return e=Zy(e),Vje(t,q8()?Reflect.construct(e,n||[],Zy(t).constructor):e.apply(t,n))}function Vje(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zje(t)}function zje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!t})()}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zy(t)}function Fje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function ox(t,e,n){return e=G8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G8(t){var e=Hje(t,"string");return Eu(e)=="symbol"?e:e+""}function Hje(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lx=function(t){function e(){return Lje(this,e),Uje(this,e,arguments)}return Fje(e,t),Bje(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return Ct(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=Nje(l,function(d){return d.coordinate||0}),u=Rje(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=r.axisLine,u=HP(r,Mje),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Ct(i,a,d[0],s),h=Ct(i,a,d[1],s),m=Po(Po(Po({},Se(u,!1)),{},{fill:"none"},Se(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",Uf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=HP(i,Dje),f=this.getTickTextAnchor(),h=Se(d,!1),m=Se(s,!1),y=a.map(function(g,v){var b=r.getTickValueCoord(g),x=Po(Po(Po(Po({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},b),{},{payload:g});return $.createElement(Qe,Uf({className:Fe("recharts-polar-radius-axis-tick",R8(s)),key:"tick-".concat(g.coordinate)},wl(r.props,g,v)),e.renderTickItem(s,x,c?c(g.value,v):g.value))});return $.createElement(Qe,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:$.createElement(Qe,{className:Fe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),$n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):Pe(r)?s=r(i):s=$.createElement(_l,Uf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(k.PureComponent);ox(lx,"displayName","PolarRadiusAxis");ox(lx,"axisType","radiusAxis");ox(lx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zo.apply(this,arguments)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){cx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K8(r.key),r)}}function Gje(t,e,n){return e&&WP(t.prototype,e),n&&WP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wje(t,e,n){return e=Jy(e),Kje(t,W8()?Reflect.construct(e,n||[],Jy(t).constructor):e.apply(t,n))}function Kje(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xje(t)}function Xje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!t})()}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jy(t)}function Yje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function cx(t,e,n){return e=K8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K8(t){var e=Qje(t,"string");return Tu(e)=="symbol"?e:e+""}function Qje(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zje=Math.PI/180,Jje=1e-5,ux=function(t){function e(){return qje(this,e),Wje(this,e,arguments)}return Yje(e,t),Gje(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Ct(a,s,l,r.coordinate),h=Ct(a,s,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Zje),s;return a>Jje?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,l=r.axisLine,c=r.axisLineType,u=Ro(Ro({},Se(this.props,!1)),{},{fill:"none"},Se(l,!1));if(c==="circle")return $.createElement($p,zo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Ct(i,a,s,h.coordinate)});return $.createElement(hje,zo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Se(this.props,!1),f=Se(s,!1),h=Ro(Ro({},d),{},{fill:"none"},Se(l,!1)),m=a.map(function(y,g){var v=r.getTickLineCoord(y),b=r.getTickTextAnchor(y),x=Ro(Ro(Ro({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return $.createElement(Qe,zo({className:Fe("recharts-polar-angle-axis-tick",R8(s)),key:"tick-".concat(y.coordinate)},wl(r.props,y,g)),l&&$.createElement("line",zo({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&e.renderTickItem(s,x,c?c(y.value,g):y.value))});return $.createElement(Qe,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:$.createElement(Qe,{className:Fe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):Pe(r)?s=r(i):s=$.createElement(_l,zo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(k.PureComponent);cx(ux,"displayName","PolarAngleAxis");cx(ux,"axisType","angleAxis");cx(ux,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eEe=tB,tEe=eEe(Object.getPrototypeOf,Object),nEe=tEe,rEe=os,iEe=nEe,aEe=ls,sEe="[object Object]",oEe=Function.prototype,lEe=Object.prototype,X8=oEe.toString,cEe=lEe.hasOwnProperty,uEe=X8.call(Object);function dEe(t){if(!aEe(t)||rEe(t)!=sEe)return!1;var e=iEe(t);if(e===null)return!0;var n=cEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&X8.call(n)==uEe}var fEe=dEe;const hEe=ft(fEe);var pEe=os,mEe=ls,gEe="[object Boolean]";function yEe(t){return t===!0||t===!1||mEe(t)&&pEe(t)==gEe}var vEe=yEe;const xEe=ft(vEe);function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function bEe(t,e){return SEe(t)||AEe(t,e)||_Ee(t,e)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(t,e){if(t){if(typeof t=="string")return KP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function SEe(t){if(Array.isArray(t))return t}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){jEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jEe(t,e,n){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EEe(t){var e=TEe(t,"string");return Uh(e)=="symbol"?e:e+""}function TEe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QP=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},NEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OEe=function(e){var n=YP(YP({},NEe),e),r=k.useRef(),i=k.useState(-1),a=bEe(i,2),s=a[0],l=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=Fe("recharts-trapezoid",m);return b?$.createElement(Vi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(_){var N=_.upperWidth,A=_.lowerWidth,E=_.height,w=_.x,j=_.y;return $.createElement(Vi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},$.createElement("path",ev({},Se(n,!0),{className:x,d:QP(w,j,N,A,E),ref:r})))}):$.createElement("g",null,$.createElement("path",ev({},Se(n,!0),{className:x,d:QP(c,u,d,f,h)})))},CEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function kEe(t,e){if(t==null)return{};var n=IEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){PEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PEe(t,e,n){return e=REe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function REe(t){var e=MEe(t,"string");return Vh(e)=="symbol"?e:e+""}function MEe(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DEe(t,e){return tv(tv({},e),t)}function $Ee(t,e){return t==="symbols"}function JP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(aE,n);case"trapezoid":return $.createElement(OEe,n);case"sector":return $.createElement($8,n);case"symbols":if($Ee(e))return $.createElement(Sj,n);break;default:return null}}function LEe(t){return k.isValidElement(t)?t.props:t}function Y8(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?DEe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=kEe(t,CEe),u;if(k.isValidElement(e))u=k.cloneElement(e,tv(tv({},c),LEe(e)));else if(Pe(e))u=e(c);else if(hEe(e)&&!xEe(e)){var d=i(e,c);u=$.createElement(JP,{shapeType:n,elementProps:d})}else{var f=c;u=$.createElement(JP,{shapeType:n,elementProps:f})}return l?$.createElement(Qe,{className:s},u):u}function dx(t,e){return e!=null&&"trapezoids"in t.props}function fx(t,e){return e!=null&&"sectors"in t.props}function zh(t,e){return e!=null&&"points"in t.props}function BEe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function UEe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function VEe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function zEe(t,e){var n;return dx(t,e)?n=BEe:fx(t,e)?n=UEe:zh(t,e)&&(n=VEe),n}function FEe(t,e){var n;return dx(t,e)?n="trapezoids":fx(t,e)?n="sectors":zh(t,e)&&(n="points"),n}function HEe(t,e){if(dx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(fx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return zh(t,e)?e.payload:{}}function qEe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=FEe(n,e),a=HEe(n,e),s=r.filter(function(c,u){var d=Al(a,c),f=n.props[i].filter(function(y){var g=zEe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(s[s.length-1]);return l}var yg;function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){mi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z8(r.key),r)}}function WEe(t,e,n){return e&&tR(t.prototype,e),n&&tR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function KEe(t,e,n){return e=nv(e),XEe(t,Q8()?Reflect.construct(e,n||[],nv(t).constructor):e.apply(t,n))}function XEe(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(t)}function YEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q8=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nv(t)}function QEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function mi(t,e,n){return e=Z8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z8(t){var e=ZEe(t,"string");return Nu(e)=="symbol"?e:e+""}function ZEe(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zi=function(t){function e(n){var r;return GEe(this,e),r=KEe(this,e,[n]),mi(r,"pieRef",null),mi(r,"sectorRefs",[]),mi(r,"id",Vl("recharts-pie-")),mi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(i)&&i()}),mi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return QEe(e,t),WEe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Se(this.props,!1),f=Se(s,!1),h=Se(l,!1),m=s&&s.offsetRadius||20,y=r.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,x=Ct(g.cx,g.cy,g.outerRadius+m,b),_=Tt(Tt(Tt(Tt({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(x.x,g.cx)},x),N=Tt(Tt(Tt(Tt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Ct(g.cx,g.cy,g.outerRadius,b),x]}),A=c;return Ue(c)&&Ue(u)?A="value":Ue(c)&&(A=u),$.createElement(Qe,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(s,_,cn(g,A)))});return $.createElement(Qe,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?s:h,y=Tt(Tt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return $.createElement(Qe,Nc({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},wl(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),$.createElement(Y8,Nc({option:m,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return $.createElement(Vi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],b=a&&a[0],x=b.startAngle;return a.forEach(function(_,N){var A=h&&h[N],E=N>0?ti(_,"paddingAngle",0):0;if(A){var w=_n(A.endAngle-A.startAngle,_.endAngle-_.startAngle),j=Tt(Tt({},_),{},{startAngle:x+E,endAngle:x+w(g)+E});v.push(j),x=j.endAngle}else{var O=_.endAngle,I=_.startAngle,T=_n(0,O-I),P=T(g),R=Tt(Tt({},_),{},{startAngle:x+E,endAngle:x+P+E});v.push(R),x=R.endAngle}}),$.createElement(Qe,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Al(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!le(u)||!le(d)||!le(f)||!le(h))return null;var g=Fe("recharts-pie",l);return $.createElement(Qe,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),$n.renderCallByParent(this.props,null,!1),(!m||y)&&oa.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);if(Pe(r))return r(i);var s=Fe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(cl,Nc({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);var s=a;if(Pe(r)&&(s=r(i),$.isValidElement(s)))return s;var l=Fe("recharts-pie-label-text",typeof r!="boolean"&&!Pe(r)?r.className:"");return $.createElement(_l,Nc({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(k.PureComponent);yg=zi;mi(zi,"displayName","Pie");mi(zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});mi(zi,"parseDeltaAngle",function(t,e){var n=pr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});mi(zi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Se(t,!1),i=ni(n,bu);return e&&e.length?e.map(function(a,s){return Tt(Tt(Tt({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Tt(Tt({},r),a.props)}):[]});mi(zi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=P8(i,a),l=r+mr(t.cx,i,i/2),c=n+mr(t.cy,a,a/2),u=mr(t.innerRadius,s,0),d=mr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});mi(zi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Tt(Tt({},e.type.defaultProps),e.props):e.props,i=yg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),y=yg.parseCoordinateOfPie(r,n),g=yg.parseDeltaAngle(s,l),v=Math.abs(g),b=u;Ue(u)&&Ue(f)?(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ue(u)&&(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=i.filter(function(j){return cn(j,b,0)!==0}).length,_=(v>=360?x:x-1)*c,N=v-x*m-_,A=i.reduce(function(j,O){var I=cn(O,b,0);return j+(le(I)?I:0)},0),E;if(A>0){var w;E=i.map(function(j,O){var I=cn(j,b,0),T=cn(j,d,O),P=(le(I)?I:0)/A,R;O?R=w.endAngle+pr(g)*c*(I!==0?1:0):R=s;var V=R+pr(g)*((I!==0?m:0)+P*N),U=(R+V)/2,B=(y.innerRadius+y.outerRadius)/2,L=[{name:T,value:I,payload:j,dataKey:b,type:h}],z=Ct(y.cx,y.cy,B,U);return w=Tt(Tt(Tt({percent:P,cornerRadius:a,name:T,tooltipPayload:L,midAngle:U,middleRadius:B,tooltipPosition:z},j),y),{},{value:cn(j,b),startAngle:R,endAngle:V,payload:j,paddingAngle:pr(g)*c}),w})}return Tt(Tt({},y),{},{sectors:E,data:i})});var JEe=Math.ceil,eTe=Math.max;function tTe(t,e,n,r){for(var i=-1,a=eTe(JEe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var nTe=tTe,rTe=bB,iTe=1/0,aTe=17976931348623157e292;function sTe(t){if(!t)return t===0?t:0;if(t=rTe(t),t===iTe||t===-1/0){var e=t<0?-1:1;return e*aTe}return t===t?t:0}var J8=sTe,oTe=nTe,lTe=Y0,r1=J8;function cTe(t){return function(e,n,r){return r&&typeof r!="number"&&lTe(e,n,r)&&(n=r=void 0),e=r1(e),n===void 0?(n=e,e=0):n=r1(n),r=r===void 0?e<n?1:-1:r1(r),oTe(e,n,r,t)}}var uTe=cTe,dTe=uTe,fTe=dTe(),hTe=fTe;const rv=ft(hTe);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){e9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e9(t,e,n){return e=pTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pTe(t){var e=mTe(t,"string");return Fh(e)=="symbol"?e:e+""}function mTe(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gTe=["Webkit","Moz","O","ms"],yTe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=gTe.reduce(function(a,s){return rR(rR({},a),{},e9({},s+r,n))},{});return i[e]=n,i};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function xTe(t,e,n){return e&&aR(t.prototype,e),n&&aR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bTe(t,e,n){return e=av(e),wTe(t,t9()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function wTe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Te(t)}function _Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(t)}function ATe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function Vr(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=STe(t,"string");return Ou(e)=="symbol"?e:e+""}function STe(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Df().domain(rv(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},sR=function(e){return e.changedTouches&&!!e.changedTouches.length},Cu=function(t){function e(n){var r;return vTe(this,e),r=bTe(this,e,[n]),Vr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vr(r,"handleSlideDragStart",function(i){var a=sR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ATe(e,t),xTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=cn(a[r],l,r);return Pe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var v=this.getIndex({startX:s+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:s+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=sR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[s]=u+x;var _=this.getIndex(b),N=_.startIndex,A=_.endIndex,E=function(){var j=v.length-1;return s==="startX"&&(l>c?N%g===0:A%g===0)||l<c&&A===j||s==="endX"&&(l>c?A%g===0:N%g===0)||l>c&&A===j};this.setState(Vr(Vr({},s,u+x),"brushMoveStartX",r.pageX),function(){y&&E()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Vr({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=k.Children.only(u);return f?$.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(r,this.props.x),x=i1(i1({},Se(this.props,!1)),{},{x:b,y:u,width:d,height:f}),_=m||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[v])===null||s===void 0?void 0:s.name);return $.createElement(Qe,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return $.createElement(Qe,{className:"recharts-brush-texts"},$.createElement(_l,iv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+l/2},y),this.getTextOfTick(i)),$.createElement(_l,iv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!le(l)||!le(c)||!le(u)||!le(d)||u<=0||d<=0)return null;var _=Fe("recharts-brush",a),N=$.Children.count(s)===1,A=yTe("userSelect","none");return $.createElement(Qe,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):Pe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return i1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?jTe({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])}(k.PureComponent);Vr(Cu,"displayName","Brush");Vr(Cu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ETe=kj;function TTe(t,e){var n;return ETe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var NTe=TTe,OTe=W5,CTe=ya,kTe=NTe,ITe=Rr,PTe=Y0;function RTe(t,e,n){var r=ITe(t)?OTe:kTe;return n&&PTe(t,e,n)&&(e=void 0),r(t,CTe(e))}var MTe=RTe;const DTe=ft(MTe);var la=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},oR=mB;function $Te(t,e,n){e=="__proto__"&&oR?oR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var LTe=$Te,BTe=LTe,UTe=hB,VTe=ya;function zTe(t,e){var n={};return e=VTe(e),UTe(t,function(r,i,a){BTe(n,i,e(r,i,a))}),n}var FTe=zTe;const HTe=ft(FTe);function qTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var GTe=qTe,WTe=kj;function KTe(t,e){var n=!0;return WTe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var XTe=KTe,YTe=GTe,QTe=XTe,ZTe=ya,JTe=Rr,eNe=Y0;function tNe(t,e,n){var r=JTe(t)?YTe:QTe;return n&&eNe(t,e,n)&&(e=void 0),r(t,ZTe(e))}var nNe=tNe;const r9=ft(nNe);var rNe=["x","y"];function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){iNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iNe(t,e,n){return e=aNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aNe(t){var e=sNe(t,"string");return Hh(e)=="symbol"?e:e+""}function sNe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oNe(t,e){if(t==null)return{};var n=lNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cNe(t,e){var n=t.x,r=t.y,i=oNe(t,rNe),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ef(ef(ef(ef(ef({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function cR(t){return $.createElement(Y8,W_({shapeType:"rectangle",propTransformer:cNe,activeClassName:"recharts-active-bar"},t))}var uNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||jl(),n)}},dNe=["value","background"],i9;function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function fNe(t,e){if(t==null)return{};var n=hNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){$s(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function mNe(t,e,n){return e&&dR(t.prototype,e),n&&dR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gNe(t,e,n){return e=ov(e),yNe(t,a9()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function yNe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(t)}function vNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function xNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function $s(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=bNe(t,"string");return ku(e)=="symbol"?e:e+""}function bNe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ql=function(t){function e(){var n;pNe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gNe(this,e,[].concat(i)),$s(n,"state",{isAnimationFinished:!1}),$s(n,"id",Vl("recharts-bar-")),$s(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),$s(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return xNe(e,t),mNe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Se(this.props,!1);return r&&r.map(function(f,h){var m=h===c,y=m?u:s,g=fn(fn(fn({},d),f),{},{isActive:m,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Qe,sv({className:"recharts-bar-rectangle"},wl(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(cR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(Vi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=a.map(function(v,b){var x=h&&h[b];if(x){var _=_n(x.x,v.x),N=_n(x.y,v.y),A=_n(x.width,v.width),E=_n(x.height,v.height);return fn(fn({},v),{},{x:_(y),y:N(y),width:A(y),height:E(y)})}if(s==="horizontal"){var w=_n(0,v.height),j=w(y);return fn(fn({},v),{},{y:v.y+v.height-j,height:j})}var O=_n(0,v.width),I=O(y);return fn(fn({},v),{},{width:I})});return $.createElement(Qe,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Al(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=Se(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=fNe(u,dNe);if(!f)return null;var m=fn(fn(fn(fn(fn({},h),{},{fill:"#eee"},f),c),wl(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(cR,sv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ni(d,Dp);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:cn(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Qe,y,f.map(function(g){return $.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=Fe("recharts-bar",s),x=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,N=x||_,A=Ue(g)?this.id:g;return $.createElement(Qe,{className:b},x||_?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(A)},$.createElement("rect",{x:x?u:u-f/2,y:_?d:d-h/2,width:x?f:f*2,height:_?h:h*2}))):null,$.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!m||v)&&oa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);i9=ql;$s(ql,"displayName","Bar");$s(ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$s(ql,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=r2e(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?fn(fn({},g),n.props):n.props,b=v.dataKey,x=v.children,_=v.minPointSize,N=y==="horizontal"?s:a,A=u?N.scale.domain():null,E=u2e({numericAxis:N}),w=ni(x,bu),j=f.map(function(O,I){var T,P,R,V,U,B;u?T=i2e(u[d+I],A):(T=cn(O,b),Array.isArray(T)||(T=[E,T]));var L=uNe(_,i9.defaultProps.minPointSize)(T[1],I);if(y==="horizontal"){var z,q=[s.scale(T[0]),s.scale(T[1])],te=q[0],ee=q[1];P=nP({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:O,index:I}),R=(z=ee??te)!==null&&z!==void 0?z:void 0,V=m.size;var W=te-ee;if(U=Number.isNaN(W)?0:W,B={x:P,y:s.y,width:V,height:s.height},Math.abs(L)>0&&Math.abs(U)<Math.abs(L)){var M=pr(U||L)*(Math.abs(L)-Math.abs(U));R-=M,U+=M}}else{var X=[a.scale(T[0]),a.scale(T[1])],Y=X[0],ye=X[1];if(P=Y,R=nP({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:O,index:I}),V=ye-Y,U=m.size,B={x:a.x,y:R,width:a.width,height:U},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var de=pr(V||L)*(Math.abs(L)-Math.abs(V));V+=de}}return fn(fn(fn({},O),{},{x:P,y:R,width:V,height:U,value:u?T:T[1],payload:O,background:B},w&&w[I]&&w[I].props),{},{tooltipPayload:[k8(n,O)],tooltipPosition:{x:P+V/2,y:R+U/2}})});return fn({data:j,layout:y},h)});function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function wNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function _Ne(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){hx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hx(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=ANe(t,"string");return qh(e)=="symbol"?e:e+""}function ANe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sE=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Fr(u,ql);return d.reduce(function(m,y){var g=n[y],v=g.orientation,b=g.domain,x=g.padding,_=x===void 0?{}:x,N=g.mirror,A=g.reversed,E="".concat(v).concat(N?"Mirror":""),w,j,O,I,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=b[1]-b[0],R=1/0,V=g.categoricalDomain.sort(zce);if(V.forEach(function(X,Y){Y>0&&(R=Math.min((X||0)-(V[Y-1]||0),R))}),Number.isFinite(R)){var U=R/P,B=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(w=U*B/2),g.padding==="no-gap"){var L=mr(e.barCategoryGap,U*B),z=U*B/2;w=z-L-(z-L)/B*L}}}i==="xAxis"?j=[r.left+(_.left||0)+(w||0),r.left+r.width-(_.right||0)-(w||0)]:i==="yAxis"?j=c==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(w||0),r.top+r.height-(_.bottom||0)-(w||0)]:j=g.range,A&&(j=[j[1],j[0]]);var q=T8(g,a,h),te=q.scale,ee=q.realScaleType;te.domain(b).range(j),N8(te);var W=O8(te,ki(ki({},g),{},{realScaleType:ee}));i==="xAxis"?(T=v==="top"&&!N||v==="bottom"&&N,O=r.left,I=f[E]-T*g.height):i==="yAxis"&&(T=v==="left"&&!N||v==="right"&&N,O=f[E]-T*g.width,I=r.top);var M=ki(ki(ki({},g),W),{},{realScaleType:ee,x:O,y:I,scale:te,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return M.bandSize=qy(M,W),!g.hide&&i==="xAxis"?f[E]+=(T?-1:1)*M.height:g.hide||(f[E]+=(T?-1:1)*M.width),ki(ki({},m),{},hx({},y,M))},{})},l9=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},SNe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return l9({x:n,y:r},{x:i,y:a})},c9=function(){function t(e){wNe(this,t),this.scale=e}return _Ne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();hx(c9,"EPS",1e-4);var oE=function(e){var n=Object.keys(e).reduce(function(r,i){return ki(ki({},r),{},hx({},i,c9.create(e[i])))},{});return ki(ki({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return HTe(i,function(c,u){return n[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return r9(i,function(a,s){return n[s].isInRange(a)})}})};function jNe(t){return(t%180+180)%180}var ENe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=jNe(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},TNe=ya,NNe=kp,ONe=K0;function CNe(t){return function(e,n,r){var i=Object(e);if(!NNe(e)){var a=TNe(n);e=ONe(e),n=function(l){return a(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var kNe=CNe,INe=J8;function PNe(t){var e=INe(t),n=e%1;return e===e?n?e-n:e:0}var RNe=PNe,MNe=oB,DNe=ya,$Ne=RNe,LNe=Math.max;function BNe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:$Ne(n);return i<0&&(i=LNe(r+i,0)),MNe(t,DNe(e),i)}var UNe=BNe,VNe=kNe,zNe=UNe,FNe=VNe(zNe),HNe=FNe;const qNe=ft(HNe);var GNe=Gle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lE=k.createContext(void 0),cE=k.createContext(void 0),u9=k.createContext(void 0),d9=k.createContext({}),f9=k.createContext(void 0),h9=k.createContext(0),p9=k.createContext(0),pR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=GNe(a);return $.createElement(lE.Provider,{value:r},$.createElement(cE.Provider,{value:i},$.createElement(d9.Provider,{value:a},$.createElement(u9.Provider,{value:d},$.createElement(f9.Provider,{value:s},$.createElement(h9.Provider,{value:u},$.createElement(p9.Provider,{value:c},l)))))))},WNe=function(){return k.useContext(f9)},m9=function(e){var n=k.useContext(lE);n==null&&jl();var r=n[e];return r==null&&jl(),r},KNe=function(){var e=k.useContext(lE);return Cs(e)},XNe=function(){var e=k.useContext(cE),n=qNe(e,function(r){return r9(r.domain,Number.isFinite)});return n||Cs(e)},g9=function(e){var n=k.useContext(cE);n==null&&jl();var r=n[e];return r==null&&jl(),r},YNe=function(){var e=k.useContext(u9);return e},QNe=function(){return k.useContext(d9)},uE=function(){return k.useContext(p9)},dE=function(){return k.useContext(h9)};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function ZNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v9(r.key),r)}}function eOe(t,e,n){return e&&JNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tOe(t,e,n){return e=lv(e),nOe(t,y9()?Reflect.construct(e,n||[],lv(t).constructor):e.apply(t,n))}function nOe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(t)}function rOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lv(t)}function iOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){fE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fE(t,e,n){return e=v9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v9(t){var e=aOe(t,"string");return Iu(e)=="symbol"?e:e+""}function aOe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sOe(t,e){return uOe(t)||cOe(t,e)||lOe(t,e)||oOe()}function oOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lOe(t,e){if(t){if(typeof t=="string")return yR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function uOe(t){if(Array.isArray(t))return t}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}var dOe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Pe(e)?r=e(n):r=$.createElement("line",Y_({},n,{className:"recharts-reference-line-line"})),r},fOe=function(e,n,r,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var y=u.y,g=e.y.apply(y,{position:s});if(la(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(n){var b=u.x,x=e.x.apply(b,{position:s});if(la(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:f+m},{x,y:f}];return l==="top"?_.reverse():_}if(i){var N=u.segment,A=N.map(function(E){return e.apply(E,{position:s})});return la(u,"discard")&&DTe(A,function(E){return!e.isInRange(E)})?null:A}return null};function hOe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=WNe(),d=m9(i),f=g9(a),h=YNe();if(!u||!h)return null;Li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=oE({x:d.scale,y:f.scale}),y=jn(e),g=jn(n),v=r&&r.length===2,b=fOe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var x=sOe(b,2),_=x[0],N=_.x,A=_.y,E=x[1],w=E.x,j=E.y,O=la(t,"hidden")?"url(#".concat(u,")"):void 0,I=gR(gR({clipPath:O},Se(t,!0)),{},{x1:N,y1:A,x2:w,y2:j});return $.createElement(Qe,{className:Fe("recharts-reference-line",l)},dOe(s,I),$n.renderCallByParent(t,SNe({x1:N,y1:A,x2:w,y2:j})))}var hE=function(t){function e(){return ZNe(this,e),tOe(this,e,arguments)}return iOe(e,t),eOe(e,[{key:"render",value:function(){return $.createElement(hOe,this.props)}}])}($.Component);fE(hE,"displayName","ReferenceLine");fE(hE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function gOe(t,e,n){return e&&mOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yOe(t,e,n){return e=cv(e),vOe(t,x9()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function vOe(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xOe(t)}function xOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x9=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}function bOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function px(t,e,n){return e=b9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t){var e=wOe(t,"string");return Pu(e)=="symbol"?e:e+""}function wOe(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Oe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=oE({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return la(e,"discard")&&!s.isInRange(l)?null:l},mx=function(t){function e(){return pOe(this,e),yOe(this,e,arguments)}return bOe(e,t),gOe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,u=jn(i),d=jn(a);if(Li(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_Oe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,b=la(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=xR(xR({clipPath:b},Se(this.props,!0)),{},{cx:h,cy:m});return $.createElement(Qe,{className:Fe("recharts-reference-dot",v)},e.renderDot(g,x),$n.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}($.Component);px(mx,"displayName","ReferenceDot");px(mx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});px(mx,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Pe(t)?n=t(e):n=$.createElement($p,Q_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){gx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_9(r.key),r)}}function jOe(t,e,n){return e&&SOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EOe(t,e,n){return e=uv(e),TOe(t,w9()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function TOe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NOe(t)}function NOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function OOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e2(t,e)}function e2(t,e){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e2(t,e)}function gx(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=COe(t,"string");return Ru(e)=="symbol"?e:e+""}function COe(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kOe=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=oE({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return la(a,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:l9(m,y)},yx=function(t){function e(){return AOe(this,e),EOe(this,e,arguments)}return OOe(e,t),jOe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Li(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=jn(i),h=jn(a),m=jn(s),y=jn(l),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=kOe(f,h,m,y,this.props);if(!v&&!g)return null;var b=la(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(Qe,{className:Fe("recharts-reference-area",c)},e.renderRect(g,wR(wR({clipPath:b},Se(this.props,!0)),v)),$n.renderCallByParent(this.props,v))}}])}($.Component);gx(yx,"displayName","ReferenceArea");gx(yx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gx(yx,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Pe(t)?n=t(e):n=$.createElement(aE,J_({},e,{className:"recharts-reference-area-rect"})),n});function A9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function IOe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ENe(r,n)}function POe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function dv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ROe(t,e){return A9(t,e+1)}function MOe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:A9(r,u)};var g=c,v,b=function(){return v===void 0&&(v=n(y,g)),v},x=y.coordinate,_=c===0||dv(t,x,b,d,l);_||(c=0,d=s,u+=1),_&&(d=x+t*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){DOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DOe(t,e,n){return e=$Oe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Oe(t){var e=LOe(t,"string");return Gh(e)=="symbol"?e:e+""}function LOe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BOe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,u=function(h){var m=a[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===s-1){var v=t*(m.coordinate+t*g()/2-c);a[h]=m=er(er({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else a[h]=m=er(er({},m),{},{tickCoord:m.coordinate});var b=dv(t,m.tickCoord,g,l,c);b&&(c=m.tickCoord-t*(g()/2+i),a[h]=er(er({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function UOe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,u=e.end;if(a){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);s[l-1]=d=er(er({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=dv(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),s[l-1]=er(er({},d),{},{isShow:!0}))}for(var y=a?l-1:l,g=function(x){var _=s[x],N,A=function(){return N===void 0&&(N=n(_,x)),N};if(x===0){var E=t*(_.coordinate-t*A()/2-c);s[x]=_=er(er({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else s[x]=_=er(er({},_),{},{tickCoord:_.coordinate});var w=dv(t,_.tickCoord,A,c,u);w&&(c=_.tickCoord+t*(A()/2+i),s[x]=er(er({},_),{},{isShow:!0}))},v=0;v<y;v++)g(v);return s}function pE(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(le(c)||wo.isSsr)return ROe(i,typeof c=="number"&&le(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",y=d&&m==="width"?Mf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,N){var A=Pe(u)?u(_.value,N):_.value;return m==="width"?IOe(Mf(A,{fontSize:e,letterSpacing:n}),y,f):Mf(A,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?pr(i[1].coordinate-i[0].coordinate):1,b=POe(a,v,m);return c==="equidistantPreserveStart"?MOe(v,b,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=UOe(v,b,g,i,s,c==="preserveStartEnd"):h=BOe(v,b,g,i,s),h.filter(function(x){return x.isShow}))}var VOe=["viewBox"],zOe=["viewBox"],FOe=["ticks"];function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){mE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a1(t,e){if(t==null)return{};var n=HOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j9(r.key),r)}}function GOe(t,e,n){return e&&SR(t.prototype,e),n&&SR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WOe(t,e,n){return e=fv(e),KOe(t,S9()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function KOe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XOe(t)}function XOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function YOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t2(t,e)}function mE(t,e,n){return e=j9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j9(t){var e=QOe(t,"string");return Mu(e)=="symbol"?e:e+""}function QOe(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xd=function(t){function e(n){var r;return qOe(this,e),r=WOe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return YOe(e,t),GOe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=a1(r,VOe),l=this.props,c=l.viewBox,u=a1(l,zOe);return!Fc(a,c)||!Fc(s,u)||!Fc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,b,x,_=f?-1:1,N=r.tickSize||d,A=le(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=y=r.coordinate,v=s+ +!f*c,g=v-_*N,x=g-_*h,b=A;break;case"left":g=v=r.coordinate,y=a+ +!f*l,m=y-_*N,b=m-_*h,x=A;break;case"right":g=v=r.coordinate,y=a+ +f*l,m=y+_*N,b=m+_*h,x=A;break;default:m=y=r.coordinate,v=s+ +f*c,g=v+_*N,x=g+_*h,b=A;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=ur(ur(ur({},Se(this.props,!1)),Se(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ur(ur({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=ur(ur({},f),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+l})}return $.createElement("line",Oc({},f,{className:Fe("recharts-cartesian-axis-line",ti(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=pE(ur(ur({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Se(this.props,!1),b=Se(d,!1),x=ur(ur({},v),{},{fill:"none"},Se(c,!1)),_=m.map(function(N,A){var E=s.getTickLineCoord(N),w=E.line,j=E.tick,O=ur(ur(ur(ur({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),j),{},{index:A,payload:N,visibleTicksCount:m.length,tickFormatter:f});return $.createElement(Qe,Oc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},wl(s.props,N,A)),c&&$.createElement("line",Oc({},x,w,{className:Fe("recharts-cartesian-axis-tick-line",ti(c,"className"))})),d&&e.renderTickItem(d,O,"".concat(Pe(f)?f(N.value,A):N.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=a1(f,FOe),y=h;return Pe(c)&&(y=h&&h.length>0?c(this.props):c(m)),s<=0||l<=0||!y||!y.length?null:$.createElement(Qe,{className:Fe("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),$n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):Pe(r)?s=r(i):s=$.createElement(_l,Oc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(k.Component);mE(xd,"displayName","CartesianAxis");mE(xd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZOe=["x1","y1","x2","y2","key"],JOe=["offset"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){eCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eCe(t,e,n){return e=tCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tCe(t){var e=nCe(t,"string");return El(e)=="symbol"?e:e+""}function nCe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}function ER(t,e){if(t==null)return{};var n=rCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return $.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function E9(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=ER(e,ZOe),u=Se(c,!1);u.offset;var d=ER(u,JOe);n=$.createElement("line",Xo({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function aCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=rr(rr({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return E9(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function sCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=rr(rr({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return E9(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function oCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?i+s-h:d[m+1]-h;if(g<=0)return null;var v=m%e.length;return $.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function lCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?a+l-h:d[m+1]-h;if(g<=0)return null;var v=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:c,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return E8(pE(rr(rr(rr({},xd.defaultProps),r),{},{ticks:Ba(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},uCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return E8(pE(rr(rr(rr({},xd.defaultProps),r),{},{ticks:Ba(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},rc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hv(t){var e,n,r,i,a,s,l=uE(),c=dE(),u=QNe(),d=rr(rr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:rc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:rc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:rc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:rc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:rc.verticalFill,x:le(t.x)?t.x:u.left,y:le(t.y)?t.y:u.top,width:le(t.width)?t.width:u.width,height:le(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=KNe(),_=XNe();if(!le(m)||m<=0||!le(y)||y<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||cCe,A=d.horizontalCoordinatesGenerator||uCe,E=d.horizontalPoints,w=d.verticalPoints;if((!E||!E.length)&&Pe(A)){var j=v&&v.length,O=A({yAxis:_?rr(rr({},_),{},{ticks:j?v:_.ticks}):void 0,width:l,height:c,offset:u},j?!0:g);Li(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(El(O),"]")),Array.isArray(O)&&(E=O)}if((!w||!w.length)&&Pe(N)){var I=b&&b.length,T=N({xAxis:x?rr(rr({},x),{},{ticks:I?b:x.ticks}):void 0,width:l,height:c,offset:u},I?!0:g);Li(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(El(T),"]")),Array.isArray(T)&&(w=T)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(iCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(aCe,Xo({},d,{offset:u,horizontalPoints:E,xAxis:x,yAxis:_})),$.createElement(sCe,Xo({},d,{offset:u,verticalPoints:w,xAxis:x,yAxis:_})),$.createElement(oCe,Xo({},d,{horizontalPoints:E})),$.createElement(lCe,Xo({},d,{verticalPoints:w})))}hv.displayName="CartesianGrid";var dCe=["type","layout","connectNulls","ref"],fCe=["key"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function TR(t,e){if(t==null)return{};var n=hCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ic(t){return yCe(t)||gCe(t)||mCe(t)||pCe()}function pCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mCe(t,e){if(t){if(typeof t=="string")return n2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n2(t,e)}}function gCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yCe(t){if(Array.isArray(t))return n2(t)}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N9(r.key),r)}}function xCe(t,e,n){return e&&OR(t.prototype,e),n&&OR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bCe(t,e,n){return e=pv(e),wCe(t,T9()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function wCe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ce(t)}function _Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r2(t,e)}function Ii(t,e,n){return e=N9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N9(t){var e=SCe(t,"string");return Du(e)=="symbol"?e:e+""}function SCe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lp=function(t){function e(){var n;vCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=bCe(this,e,[].concat(i)),Ii(n,"state",{isAnimationFinished:!0,totalLength:0}),Ii(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Ii(n,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return n.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,m=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){m=[].concat(ic(c.slice(0,y)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(ic(e.repeat(c,d)),ic(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ii(n,"id",Vl("recharts-line-")),Ii(n,"pathRef",function(s){n.mainCurve=s}),Ii(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ii(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ACe(e,t),xCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ni(d,Dp);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:cn(g.payload,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Qe,m,f.map(function(y){return $.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Se(this.props,!1),h=Se(c,!0),m=u.map(function(g,v){var b=Ur(Ur(Ur({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Qe,Vf({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(r,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=TR(l,dCe),h=Ur(Ur(Ur({},Se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:u,connectNulls:d});return $.createElement(cl,Vf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=s.animateNewValues,g=s.width,v=s.height,b=this.state,x=b.prevPoints,_=b.totalLength;return $.createElement(Vi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(x){var E=x.length/l.length,w=l.map(function(P,R){var V=Math.floor(R*E);if(x[V]){var U=x[V],B=_n(U.x,P.x),L=_n(U.y,P.y);return Ur(Ur({},P),{},{x:B(A),y:L(A)})}if(y){var z=_n(g*2,P.x),q=_n(v/2,P.y);return Ur(Ur({},P),{},{x:z(A),y:q(A)})}return Ur(Ur({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(w,r,i)}var j=_n(0,_),O=j(A),I;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});I=a.getStrokeDasharray(O,_,T)}else I=a.generateSimpleStrokeDasharray(_,O);return a.renderCurveStatically(l,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Al(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,_=Fe("recharts-line",c),N=u&&u.allowDataOverflow,A=d&&d.allowDataOverflow,E=N||A,w=Ue(v)?this.id:v,j=(r=Se(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=j.r,I=O===void 0?3:O,T=j.strokeWidth,P=T===void 0?2:T,R=v5(s)?s:{},V=R.clipDot,U=V===void 0?!0:V,B=I*2+P;return $.createElement(Qe,{className:_},N||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(w)},$.createElement("rect",{x:N?h:h-m/2,y:A?f:f-y/2,width:N?m:m*2,height:A?y:y*2})),!U&&$.createElement("clipPath",{id:"clipPath-dots-".concat(w)},$.createElement("rect",{x:h-B/2,y:f-B/2,width:m+B,height:y+B}))):null,!x&&this.renderCurve(E,w),this.renderErrorBar(E,w),(x||s)&&this.renderDots(E,U,w),(!g||b)&&oa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(ic(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(ic(s),ic(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if($.isValidElement(r))a=$.cloneElement(r,i);else if(Pe(r))a=r(i);else{var s=i.key,l=TR(i,fCe),c=Fe("recharts-line-dot",typeof r!="boolean"?r.className:"");a=$.createElement($p,Vf({key:s},l,{className:c}))}return a}}])}(k.PureComponent);Ii(Lp,"displayName","Line");Ii(Lp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ii(Lp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,m){var y=cn(h,s);return d==="horizontal"?{x:Hy({axis:n,ticks:i,bandSize:l,entry:h,index:m}),y:Ue(y)?null:r.scale(y),value:y,payload:h}:{x:Ue(y)?null:n.scale(y),y:Hy({axis:r,ticks:a,bandSize:l,entry:h,index:m}),value:y,payload:h}});return Ur({points:f,layout:d},u)});var jCe=["layout","type","stroke","connectNulls","isRange","ref"],ECe=["key"],O9;function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function C9(t,e){if(t==null)return{};var n=TCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I9(r.key),r)}}function OCe(t,e,n){return e&&kR(t.prototype,e),n&&kR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CCe(t,e,n){return e=mv(e),kCe(t,k9()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function kCe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(t)}function ICe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function PCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i2(t,e)}function Ji(t,e,n){return e=I9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9(t){var e=RCe(t,"string");return $u(e)=="symbol"?e:e+""}function RCe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jo=function(t){function e(){var n;NCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=CCe(this,e,[].concat(i)),Ji(n,"state",{isAnimationFinished:!0}),Ji(n,"id",Vl("recharts-area-")),Ji(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(s)&&s()}),Ji(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(s)&&s()}),n}return PCe(e,t),OCe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Se(this.props,!1),m=Se(u,!0),y=d.map(function(v,b){var x=vs(vs(vs({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Qe,Yo({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=r*Math.abs(c-u),f=Ds(s.map(function(h){return h.y||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ds(a.map(function(h){return h.y||0})),f)),le(f)?$.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=r*Math.abs(c-u),f=Ds(s.map(function(h){return h.x||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ds(a.map(function(h){return h.x||0})),f)),le(f)?$.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=C9(l,jCe);return $.createElement(Qe,{clipPath:a?"url(#clipPath-".concat(s,")"):null},$.createElement(cl,Yo({},Se(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&$.createElement(cl,Yo({},Se(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&$.createElement(cl,Yo({},Se(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return $.createElement(Vi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(g){var _=g.length/l.length,N=l.map(function(j,O){var I=Math.floor(O*_);if(g[I]){var T=g[I],P=_n(T.x,j.x),R=_n(T.y,j.y);return vs(vs({},j),{},{x:P(x),y:R(x)})}return j}),A;if(le(c)&&typeof c=="number"){var E=_n(v,c);A=E(x)}else if(Ue(c)||fd(c)){var w=_n(v,0);A=w(x)}else A=c.map(function(j,O){var I=Math.floor(O*_);if(v[I]){var T=v[I],P=_n(T.x,j.x),R=_n(T.y,j.y);return vs(vs({},j),{},{x:P(x),y:R(x)})}return j});return a.renderAreaStatically(N,A,r,i)}return $.createElement(Qe,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),$.createElement(Qe,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!Al(d,s)||!Al(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,_=Fe("recharts-area",c),N=f&&f.allowDataOverflow,A=h&&h.allowDataOverflow,E=N||A,w=Ue(v)?this.id:v,j=(r=Se(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=j.r,I=O===void 0?3:O,T=j.strokeWidth,P=T===void 0?2:T,R=v5(s)?s:{},V=R.clipDot,U=V===void 0?!0:V,B=I*2+P;return $.createElement(Qe,{className:_},N||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(w)},$.createElement("rect",{x:N?d:d-m/2,y:A?u:u-y/2,width:N?m:m*2,height:A?y:y*2})),!U&&$.createElement("clipPath",{id:"clipPath-dots-".concat(w)},$.createElement("rect",{x:d-B/2,y:u-B/2,width:m+B,height:y+B}))):null,x?null:this.renderArea(E,w),(s||x)&&this.renderDots(E,U,w),(!g||b)&&oa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(k.PureComponent);O9=jo;Ji(jo,"displayName","Area");Ji(jo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ji(jo,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(le(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ji(jo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,y=u&&u.length,g=O9.getBaseValue(e,n,r,i),v=m==="horizontal",b=!1,x=f.map(function(N,A){var E;y?E=u[d+A]:(E=cn(N,c),Array.isArray(E)?b=!0:E=[g,E]);var w=E[1]==null||y&&cn(N,c)==null;return v?{x:Hy({axis:r,ticks:a,bandSize:l,entry:N,index:A}),y:w?null:i.scale(E[1]),value:E,payload:N}:{x:w?null:r.scale(E[1]),y:Hy({axis:i,ticks:s,bandSize:l,entry:N,index:A}),value:E,payload:N}}),_;return y||b?_=x.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):_=v?i.scale(g):r.scale(g),vs({points:x,baseLine:_,layout:m,isRange:b},h)});Ji(jo,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=C9(e,ECe);n=$.createElement($p,Yo({},a,{key:i,className:r}))}return n});function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function MCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function $Ce(t,e,n){return e&&DCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LCe(t,e,n){return e=gv(e),BCe(t,P9()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function BCe(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(t)}function UCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function VCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a2(t,e)}function a2(t,e){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a2(t,e)}function R9(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=zCe(t,"string");return Lu(e)=="symbol"?e:e+""}function zCe(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s2.apply(this,arguments)}function FCe(t){var e=t.xAxisId,n=uE(),r=dE(),i=m9(e);return i==null?null:$.createElement(xd,s2({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ba(s,!0)}}))}var co=function(t){function e(){return MCe(this,e),LCe(this,e,arguments)}return VCe(e,t),$Ce(e,[{key:"render",value:function(){return $.createElement(FCe,this.props)}}])}($.Component);R9(co,"displayName","XAxis");R9(co,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function HCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L9(r.key),r)}}function GCe(t,e,n){return e&&qCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WCe(t,e,n){return e=yv(e),KCe(t,D9()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function KCe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(t)}function XCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D9=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function YCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o2(t,e)}function $9(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=QCe(t,"string");return Bu(e)=="symbol"?e:e+""}function QCe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(this,arguments)}var ZCe=function(e){var n=e.yAxisId,r=uE(),i=dE(),a=g9(n);return a==null?null:$.createElement(xd,l2({},a,{className:Fe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ba(l,!0)}}))},uo=function(t){function e(){return HCe(this,e),WCe(this,e,arguments)}return YCe(e,t),GCe(e,[{key:"render",value:function(){return $.createElement(ZCe,this.props)}}])}($.Component);$9(uo,"displayName","YAxis");$9(uo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IR(t){return nke(t)||tke(t)||eke(t)||JCe()}function JCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eke(t,e){if(t){if(typeof t=="string")return c2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c2(t,e)}}function tke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nke(t){if(Array.isArray(t))return c2(t)}function c2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u2=function(e,n,r,i,a){var s=ni(e,hE),l=ni(e,mx),c=[].concat(IR(s),IR(l)),u=ni(e,yx),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===r&&la(v.props,"extendDomain")&&le(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&la(v.props,"extendDomain")&&le(v.props[m])&&le(v.props[y])){var b=v.props[m],x=v.props[y];return[Math.min(g[0],b,x),Math.max(g[1],b,x)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return le(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},B9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,x,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];v.fn.apply(v.context,x)}else{var N=v.length,A;for(_=0;_<N;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!x)for(A=1,x=new Array(b-1);A<b;A++)x[A-1]=arguments[A];v[_].fn.apply(v[_].context,x)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(B9);var rke=B9.exports;const ike=ft(rke);var s1=new ike,o1="recharts.syncMouseEvents";function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function ake(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ske(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U9(r.key),r)}}function oke(t,e,n){return e&&ske(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l1(t,e,n){return e=U9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U9(t){var e=lke(t,"string");return Wh(e)=="symbol"?e:e+""}function lke(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cke=function(){function t(){ake(this,t),l1(this,"activeIndex",0),l1(this,"coordinateList",[]),l1(this,"layout","horizontal")}return oke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function uke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&le(r)&&le(i))return!0}return!1}function dke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ct(e,n,r,i),l=Ct(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function fke(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ct(l,c,u,f),m=Ct(l,c,d,f);r=h.x,i=h.y,a=m.x,s=m.y}else return V9(e);return[{x:r,y:i},{x:a,y:s}]}function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){hke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hke(t,e,n){return e=pke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pke(t){var e=mke(t,"string");return Kh(e)=="symbol"?e:e+""}function mke(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gke(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=cl;if(h==="ScatterChart")y=s,g=_je;else if(h==="BarChart")y=dke(f,s,c,d),g=aE;else if(f==="radial"){var v=V9(s),b=v.cx,x=v.cy,_=v.radius,N=v.startAngle,A=v.endAngle;y={cx:b,cy:x,startAngle:N,endAngle:A,innerRadius:_,outerRadius:_},g=$8}else y={points:fke(f,s,c)},g=cl;var E=Fm(Fm(Fm(Fm({stroke:"#ccc",pointerEvents:"none"},c),y),Se(m,!1)),{},{payload:l,payloadIndex:u,className:Fe("recharts-tooltip-cursor",m.className)});return k.isValidElement(m)?k.cloneElement(m,E):k.createElement(g,E)}var yke=["item"],vke=["children","className","width","height","style","compact","title","desc"];function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}function RR(t,e){return wke(t)||bke(t,e)||F9(t,e)||xke()}function xke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function wke(t){if(Array.isArray(t))return t}function MR(t,e){if(t==null)return{};var n=_ke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ake(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ske(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H9(r.key),r)}}function jke(t,e,n){return e&&Ske(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eke(t,e,n){return e=vv(e),Tke(t,z9()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function Tke(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nke(t)}function Nke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function Oke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d2(t,e)}function Vu(t){return Ike(t)||kke(t)||F9(t)||Cke()}function Cke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(t,e){if(t){if(typeof t=="string")return f2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f2(t,e)}}function kke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ike(t){if(Array.isArray(t))return f2(t)}function f2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ie(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=Pke(t,"string");return Uu(e)=="symbol"?e:e+""}function Pke(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rke={xAxis:["bottom","top"],yAxis:["left","right"]},Mke={width:"100%",height:"100%"},q9={x:0,y:0};function Hm(t){return t}var Dke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$ke=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return J(J(J({},i),Ct(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return J(J(J({},i),Ct(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return q9},vx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Vu(l),Vu(u)):l},[]);return s.length>0?s:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function G9(t){return t==="number"?[0,"auto"]:void 0}var h2=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=vx(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?l:f;h=gy(m,s.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Vu(c),[k8(u,h)]):c},[])},$R=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Dke(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Q_e(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=h2(e,n,d,f),m=$ke(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Lke=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=j8(d,a);return r.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?J(J({},g.type.defaultProps),g.props):g.props,x=b.type,_=b.dataKey,N=b.allowDataOverflow,A=b.allowDuplicatedCategory,E=b.scale,w=b.ticks,j=b.includeHidden,O=b[s];if(y[O])return y;var I=vx(e.data,{graphicalItems:i.filter(function(W){var M,X=s in W.props?W.props[s]:(M=W.type.defaultProps)===null||M===void 0?void 0:M[s];return X===O}),dataStartIndex:c,dataEndIndex:u}),T=I.length,P,R,V;uke(b.domain,N,x)&&(P=E_(b.domain,null,N),m&&(x==="number"||E!=="auto")&&(V=$f(I,_,"category")));var U=G9(x);if(!P||P.length===0){var B,L=(B=b.domain)!==null&&B!==void 0?B:U;if(_){if(P=$f(I,_,x),x==="category"&&m){var z=Vce(P);A&&z?(R=P,P=rv(0,T)):A||(P=aP(L,P,g).reduce(function(W,M){return W.indexOf(M)>=0?W:[].concat(Vu(W),[M])},[]))}else if(x==="category")A?P=P.filter(function(W){return W!==""&&!Ue(W)}):P=aP(L,P,g).reduce(function(W,M){return W.indexOf(M)>=0||M===""||Ue(M)?W:[].concat(Vu(W),[M])},[]);else if(x==="number"){var q=n2e(I,i.filter(function(W){var M,X,Y=s in W.props?W.props[s]:(M=W.type.defaultProps)===null||M===void 0?void 0:M[s],ye="hide"in W.props?W.props.hide:(X=W.type.defaultProps)===null||X===void 0?void 0:X.hide;return Y===O&&(j||!ye)}),_,a,d);q&&(P=q)}m&&(x==="number"||E!=="auto")&&(V=$f(I,_,"category"))}else m?P=rv(0,T):l&&l[O]&&l[O].hasStack&&x==="number"?P=h==="expand"?[0,1]:C8(l[O].stackGroups,c,u):P=S8(I,i.filter(function(W){var M=s in W.props?W.props[s]:W.type.defaultProps[s],X="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return M===O&&(j||!X)}),x,d,!0);if(x==="number")P=u2(f,P,O,a,w),L&&(P=E_(L,P,N));else if(x==="category"&&L){var te=L,ee=P.every(function(W){return te.indexOf(W)>=0});ee&&(P=te)}}return J(J({},y),{},Ie({},O,J(J({},b),{},{axisType:a,domain:P,categoricalDomain:V,duplicateDomain:R,originalDomain:(v=b.domain)!==null&&v!==void 0?v:U,isCategorical:m,layout:d})))},{})},Bke=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=vx(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=j8(d,a),g=-1;return r.reduce(function(v,b){var x=b.type.defaultProps!==void 0?J(J({},b.type.defaultProps),b.props):b.props,_=x[s],N=G9("number");if(!v[_]){g++;var A;return y?A=rv(0,m):l&&l[_]&&l[_].hasStack?(A=C8(l[_].stackGroups,c,u),A=u2(f,A,_,a)):(A=E_(N,S8(h,r.filter(function(E){var w,j,O=s in E.props?E.props[s]:(w=E.type.defaultProps)===null||w===void 0?void 0:w[s],I="hide"in E.props?E.props.hide:(j=E.type.defaultProps)===null||j===void 0?void 0:j.hide;return O===_&&!I}),"number",d),i.defaultProps.allowDataOverflow),A=u2(f,A,_,a)),J(J({},v),{},Ie({},_,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:ti(Rke,"".concat(a,".").concat(g%2),null),domain:A,originalDomain:N,isCategorical:y,layout:d})))}return v},{})},Uke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ni(d,a),m={};return h&&h.length?m=Lke(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=Bke(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Vke=function(e){var n=Cs(e),r=Ba(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Ij(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qy(n,r)}},LR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fr(n,Cu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},zke=function(e){return!e||!e.length?!1:e.some(function(n){var r=qa(n&&n.type);return r&&r.indexOf("Bar")>=0})},BR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fke=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Fr(f,Cu),y=Fr(f,Hc),g=Object.keys(c).reduce(function(A,E){var w=c[E],j=w.orientation;return!w.mirror&&!w.hide?J(J({},A),{},Ie({},j,A[j]+w.width)):A},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(A,E){var w=s[E],j=w.orientation;return!w.mirror&&!w.hide?J(J({},A),{},Ie({},j,ti(A,"".concat(j))+w.height)):A},{top:h.top||0,bottom:h.bottom||0}),b=J(J({},v),g),x=b.bottom;m&&(b.bottom+=m.props.height||Cu.defaultProps.height),y&&n&&(b=e2e(b,i,r,n));var _=u-b.left-b.right,N=d-b.top-b.bottom;return J(J({brushBottom:x},b),{},{width:Math.max(_,0),height:Math.max(N,0)})},Hke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},xx=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,x){var _=x.graphicalItems,N=x.stackGroups,A=x.offset,E=x.updateId,w=x.dataStartIndex,j=x.dataEndIndex,O=b.barSize,I=b.layout,T=b.barGap,P=b.barCategoryGap,R=b.maxBarSize,V=BR(I),U=V.numericAxisName,B=V.cateAxisName,L=zke(_),z=[];return _.forEach(function(q,te){var ee=vx(b.data,{graphicalItems:[q],dataStartIndex:w,dataEndIndex:j}),W=q.type.defaultProps!==void 0?J(J({},q.type.defaultProps),q.props):q.props,M=W.dataKey,X=W.maxBarSize,Y=W["".concat(U,"Id")],ye=W["".concat(B,"Id")],de={},ke=c.reduce(function(Bt,Qt){var F=x["".concat(Qt.axisType,"Map")],oe=W["".concat(Qt.axisType,"Id")];F&&F[oe]||Qt.axisType==="zAxis"||jl();var ne=F[oe];return J(J({},Bt),{},Ie(Ie({},Qt.axisType,ne),"".concat(Qt.axisType,"Ticks"),Ba(ne)))},de),Q=ke[B],ce=ke["".concat(B,"Ticks")],pe=N&&N[Y]&&N[Y].hasStack&&d2e(q,N[Y].stackGroups),Z=qa(q.type).indexOf("Bar")>=0,je=qy(Q,ce),Ae=[],ge=L&&Z_e({barSize:O,stackGroups:N,totalSize:Hke(ke,B)});if(Z){var ae,ve,Re=Ue(X)?R:X,$e=(ae=(ve=qy(Q,ce,!0))!==null&&ve!==void 0?ve:Re)!==null&&ae!==void 0?ae:0;Ae=J_e({barGap:T,barCategoryGap:P,bandSize:$e!==je?$e:je,sizeList:ge[ye],maxBarSize:Re}),$e!==je&&(Ae=Ae.map(function(Bt){return J(J({},Bt),{},{position:J(J({},Bt.position),{},{offset:Bt.position.offset-$e/2})})}))}var ht=q&&q.type&&q.type.getComposedData;ht&&z.push({props:J(J({},ht(J(J({},ke),{},{displayedData:ee,props:b,dataKey:M,item:q,bandSize:je,barPosition:Ae,offset:A,stackedData:pe,layout:I,dataStartIndex:w,dataEndIndex:j}))),{},Ie(Ie(Ie({key:q.key||"item-".concat(te)},U,ke[U]),B,ke[B]),"animationId",E)),childIndex:Jce(q,b.children),item:q})}),z},m=function(b,x){var _=b.props,N=b.dataStartIndex,A=b.dataEndIndex,E=b.updateId;if(!JC({props:_}))return null;var w=_.children,j=_.layout,O=_.stackOffset,I=_.data,T=_.reverseStackOrder,P=BR(j),R=P.numericAxisName,V=P.cateAxisName,U=ni(w,r),B=c2e(I,U,"".concat(R,"Id"),"".concat(V,"Id"),O,T),L=c.reduce(function(W,M){var X="".concat(M.axisType,"Map");return J(J({},W),{},Ie({},X,Uke(_,J(J({},M),{},{graphicalItems:U,stackGroups:M.axisType===R&&B,dataStartIndex:N,dataEndIndex:A}))))},{}),z=Fke(J(J({},L),{},{props:_,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(W){L[W]=d(_,L[W],z,W.replace("Map",""),n)});var q=L["".concat(V,"Map")],te=Vke(q),ee=h(_,J(J({},L),{},{dataStartIndex:N,dataEndIndex:A,updateId:E,graphicalItems:U,stackGroups:B,offset:z}));return J(J({formattedGraphicalItems:ee,graphicalItems:U,offset:z,stackGroups:B},te),L)},y=function(v){function b(x){var _,N,A;return Ake(this,b),A=Eke(this,b,[x]),Ie(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ie(A,"accessibilityManager",new cke),Ie(A,"handleLegendBBoxUpdate",function(E){if(E){var w=A.state,j=w.dataStartIndex,O=w.dataEndIndex,I=w.updateId;A.setState(J({legendBBox:E},m({props:A.props,dataStartIndex:j,dataEndIndex:O,updateId:I},J(J({},A.state),{},{legendBBox:E}))))}}),Ie(A,"handleReceiveSyncEvent",function(E,w,j){if(A.props.syncId===E){if(j===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(w)}}),Ie(A,"handleBrushChange",function(E){var w=E.startIndex,j=E.endIndex;if(w!==A.state.dataStartIndex||j!==A.state.dataEndIndex){var O=A.state.updateId;A.setState(function(){return J({dataStartIndex:w,dataEndIndex:j},m({props:A.props,dataStartIndex:w,dataEndIndex:j,updateId:O},A.state))}),A.triggerSyncEvent({dataStartIndex:w,dataEndIndex:j})}}),Ie(A,"handleMouseEnter",function(E){var w=A.getMouseInfo(E);if(w){var j=J(J({},w),{},{isTooltipActive:!0});A.setState(j),A.triggerSyncEvent(j);var O=A.props.onMouseEnter;Pe(O)&&O(j,E)}}),Ie(A,"triggeredAfterMouseMove",function(E){var w=A.getMouseInfo(E),j=w?J(J({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(j),A.triggerSyncEvent(j);var O=A.props.onMouseMove;Pe(O)&&O(j,E)}),Ie(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ie(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ie(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),Ie(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};A.setState(w),A.triggerSyncEvent(w);var j=A.props.onMouseLeave;Pe(j)&&j(w,E)}),Ie(A,"handleOuterEvent",function(E){var w=Zce(E),j=ti(A.props,"".concat(w));if(w&&Pe(j)){var O,I;/.*touch.*/i.test(w)?I=A.getMouseInfo(E.changedTouches[0]):I=A.getMouseInfo(E),j((O=I)!==null&&O!==void 0?O:{},E)}}),Ie(A,"handleClick",function(E){var w=A.getMouseInfo(E);if(w){var j=J(J({},w),{},{isTooltipActive:!0});A.setState(j),A.triggerSyncEvent(j);var O=A.props.onClick;Pe(O)&&O(j,E)}}),Ie(A,"handleMouseDown",function(E){var w=A.props.onMouseDown;if(Pe(w)){var j=A.getMouseInfo(E);w(j,E)}}),Ie(A,"handleMouseUp",function(E){var w=A.props.onMouseUp;if(Pe(w)){var j=A.getMouseInfo(E);w(j,E)}}),Ie(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ie(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),Ie(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),Ie(A,"handleDoubleClick",function(E){var w=A.props.onDoubleClick;if(Pe(w)){var j=A.getMouseInfo(E);w(j,E)}}),Ie(A,"handleContextMenu",function(E){var w=A.props.onContextMenu;if(Pe(w)){var j=A.getMouseInfo(E);w(j,E)}}),Ie(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&s1.emit(o1,A.props.syncId,E,A.eventEmitterSymbol)}),Ie(A,"applySyncEvent",function(E){var w=A.props,j=w.layout,O=w.syncMethod,I=A.state.updateId,T=E.dataStartIndex,P=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(J({dataStartIndex:T,dataEndIndex:P},m({props:A.props,dataStartIndex:T,dataEndIndex:P,updateId:I},A.state)));else if(E.activeTooltipIndex!==void 0){var R=E.chartX,V=E.chartY,U=E.activeTooltipIndex,B=A.state,L=B.offset,z=B.tooltipTicks;if(!L)return;if(typeof O=="function")U=O(z,E);else if(O==="value"){U=-1;for(var q=0;q<z.length;q++)if(z[q].value===E.activeLabel){U=q;break}}var te=J(J({},L),{},{x:L.left,y:L.top}),ee=Math.min(R,te.x+te.width),W=Math.min(V,te.y+te.height),M=z[U]&&z[U].value,X=h2(A.state,A.props.data,U),Y=z[U]?{x:j==="horizontal"?z[U].coordinate:ee,y:j==="horizontal"?W:z[U].coordinate}:q9;A.setState(J(J({},E),{},{activeLabel:M,activeCoordinate:Y,activePayload:X,activeTooltipIndex:U}))}else A.setState(E)}),Ie(A,"renderCursor",function(E){var w,j=A.state,O=j.isTooltipActive,I=j.activeCoordinate,T=j.activePayload,P=j.offset,R=j.activeTooltipIndex,V=j.tooltipAxisBandSize,U=A.getTooltipEventType(),B=(w=E.props.active)!==null&&w!==void 0?w:O,L=A.props.layout,z=E.key||"_recharts-cursor";return $.createElement(gke,{key:z,activeCoordinate:I,activePayload:T,activeTooltipIndex:R,chartName:n,element:E,isActive:B,layout:L,offset:P,tooltipAxisBandSize:V,tooltipEventType:U})}),Ie(A,"renderPolarAxis",function(E,w,j){var O=ti(E,"type.axisType"),I=ti(A.state,"".concat(O,"Map")),T=E.type.defaultProps,P=T!==void 0?J(J({},T),E.props):E.props,R=I&&I[P["".concat(O,"Id")]];return k.cloneElement(E,J(J({},R),{},{className:Fe(O,R.className),key:E.key||"".concat(w,"-").concat(j),ticks:Ba(R,!0)}))}),Ie(A,"renderPolarGrid",function(E){var w=E.props,j=w.radialLines,O=w.polarAngles,I=w.polarRadius,T=A.state,P=T.radiusAxisMap,R=T.angleAxisMap,V=Cs(P),U=Cs(R),B=U.cx,L=U.cy,z=U.innerRadius,q=U.outerRadius;return k.cloneElement(E,{polarAngles:Array.isArray(O)?O:Ba(U,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(I)?I:Ba(V,!0).map(function(te){return te.coordinate}),cx:B,cy:L,innerRadius:z,outerRadius:q,key:E.key||"polar-grid",radialLines:j})}),Ie(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,w=A.props,j=w.children,O=w.width,I=w.height,T=A.props.margin||{},P=O-(T.left||0)-(T.right||0),R=_8({children:j,formattedGraphicalItems:E,legendWidth:P,legendContent:u});if(!R)return null;var V=R.item,U=MR(R,yke);return k.cloneElement(V,J(J({},U),{},{chartWidth:O,chartHeight:I,margin:T,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ie(A,"renderTooltip",function(){var E,w=A.props,j=w.children,O=w.accessibilityLayer,I=Fr(j,dr);if(!I)return null;var T=A.state,P=T.isTooltipActive,R=T.activeCoordinate,V=T.activePayload,U=T.activeLabel,B=T.offset,L=(E=I.props.active)!==null&&E!==void 0?E:P;return k.cloneElement(I,{viewBox:J(J({},B),{},{x:B.left,y:B.top}),active:L,label:U,payload:L?V:[],coordinate:R,accessibilityLayer:O})}),Ie(A,"renderBrush",function(E){var w=A.props,j=w.margin,O=w.data,I=A.state,T=I.offset,P=I.dataStartIndex,R=I.dataEndIndex,V=I.updateId;return k.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Bm(A.handleBrushChange,E.props.onChange),data:O,x:le(E.props.x)?E.props.x:T.left,y:le(E.props.y)?E.props.y:T.top+T.height+T.brushBottom-(j.bottom||0),width:le(E.props.width)?E.props.width:T.width,startIndex:P,endIndex:R,updateId:"brush-".concat(V)})}),Ie(A,"renderReferenceElement",function(E,w,j){if(!E)return null;var O=A,I=O.clipPathId,T=A.state,P=T.xAxisMap,R=T.yAxisMap,V=T.offset,U=E.type.defaultProps||{},B=E.props,L=B.xAxisId,z=L===void 0?U.xAxisId:L,q=B.yAxisId,te=q===void 0?U.yAxisId:q;return k.cloneElement(E,{key:E.key||"".concat(w,"-").concat(j),xAxis:P[z],yAxis:R[te],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:I})}),Ie(A,"renderActivePoints",function(E){var w=E.item,j=E.activePoint,O=E.basePoint,I=E.childIndex,T=E.isRange,P=[],R=w.props.key,V=w.item.type.defaultProps!==void 0?J(J({},w.item.type.defaultProps),w.item.props):w.item.props,U=V.activeDot,B=V.dataKey,L=J(J({index:I,dataKey:B,cx:j.x,cy:j.y,r:4,fill:iE(w.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Se(U,!1)),yy(U));return P.push(b.renderActiveDot(U,L,"".concat(R,"-activePoint-").concat(I))),O?P.push(b.renderActiveDot(U,J(J({},L),{},{cx:O.x,cy:O.y}),"".concat(R,"-basePoint-").concat(I))):T&&P.push(null),P}),Ie(A,"renderGraphicChild",function(E,w,j){var O=A.filterFormatItem(E,w,j);if(!O)return null;var I=A.getTooltipEventType(),T=A.state,P=T.isTooltipActive,R=T.tooltipAxis,V=T.activeTooltipIndex,U=T.activeLabel,B=A.props.children,L=Fr(B,dr),z=O.props,q=z.points,te=z.isRange,ee=z.baseLine,W=O.item.type.defaultProps!==void 0?J(J({},O.item.type.defaultProps),O.item.props):O.item.props,M=W.activeDot,X=W.hide,Y=W.activeBar,ye=W.activeShape,de=!!(!X&&P&&L&&(M||Y||ye)),ke={};I!=="axis"&&L&&L.props.trigger==="click"?ke={onClick:Bm(A.handleItemMouseEnter,E.props.onClick)}:I!=="axis"&&(ke={onMouseLeave:Bm(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Bm(A.handleItemMouseEnter,E.props.onMouseEnter)});var Q=k.cloneElement(E,J(J({},O.props),ke));function ce(Qt){return typeof R.dataKey=="function"?R.dataKey(Qt.payload):null}if(de)if(V>=0){var pe,Z;if(R.dataKey&&!R.allowDuplicatedCategory){var je=typeof R.dataKey=="function"?ce:"payload.".concat(R.dataKey.toString());pe=gy(q,je,U),Z=te&&ee&&gy(ee,je,U)}else pe=q==null?void 0:q[V],Z=te&&ee&&ee[V];if(ye||Y){var Ae=E.props.activeIndex!==void 0?E.props.activeIndex:V;return[k.cloneElement(E,J(J(J({},O.props),ke),{},{activeIndex:Ae})),null,null]}if(!Ue(pe))return[Q].concat(Vu(A.renderActivePoints({item:O,activePoint:pe,basePoint:Z,childIndex:V,isRange:te})))}else{var ge,ae=(ge=A.getItemByXY(A.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:Q},ve=ae.graphicalItem,Re=ve.item,$e=Re===void 0?E:Re,ht=ve.childIndex,Bt=J(J(J({},O.props),ke),{},{activeIndex:ht});return[k.cloneElement($e,Bt),null,null]}return te?[Q,null,null]:[Q,null]}),Ie(A,"renderCustomized",function(E,w,j){return k.cloneElement(E,J(J({key:"recharts-customized-".concat(j)},A.props),A.state))}),Ie(A,"renderMap",{CartesianGrid:{handler:Hm,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Hm},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Hm},YAxis:{handler:Hm},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Vl("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=wB(A.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Oke(b,v),jke(b,[{key:"componentDidMount",value:function(){var _,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,N=_.children,A=_.data,E=_.height,w=_.layout,j=Fr(N,dr);if(j){var O=j.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,T=h2(this.state,A,O,I),P=this.state.tooltipTicks[O].coordinate,R=(this.state.offset.top+E)/2,V=w==="horizontal",U=V?{x:P,y:R}:{y:P,x:R},B=this.state.formattedGraphicalItems.find(function(z){var q=z.item;return q.type.name==="Scatter"});B&&(U=J(J({},U),B.props.points[O].tooltipPosition),T=B.props.points[O].tooltipPayload);var L={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:I,activePayload:T,activeCoordinate:U};this.setState(L),this.renderCursor(j),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){Vw([Fr(_.children,dr)],[Fr(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Fr(this.props.children,dr);if(_&&typeof _.props.shared=="boolean"){var N=_.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),E=jxe(A),w={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},j=A.width/N.offsetWidth||1,O=this.inRange(w.chartX,w.chartY,j);if(!O)return null;var I=this.state,T=I.xAxisMap,P=I.yAxisMap,R=this.getTooltipEventType(),V=$R(this.state,this.props.data,this.props.layout,O);if(R!=="axis"&&T&&P){var U=Cs(T).scale,B=Cs(P).scale,L=U&&U.invert?U.invert(w.chartX):null,z=B&&B.invert?B.invert(w.chartY):null;return J(J({},w),{},{xValue:L,yValue:z},V)}return V?J(J({},w),V):null}},{key:"inRange",value:function(_,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,w=_/A,j=N/A;if(E==="horizontal"||E==="vertical"){var O=this.state.offset,I=w>=O.left&&w<=O.left+O.width&&j>=O.top&&j<=O.top+O.height;return I?{x:w,y:j}:null}var T=this.state,P=T.angleAxisMap,R=T.radiusAxisMap;if(P&&R){var V=Cs(P);return lP({x:w,y:j},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,N=this.getTooltipEventType(),A=Fr(_,dr),E={};A&&N==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=yy(this.props,this.handleOuterEvent);return J(J({},w),E)}},{key:"addListener",value:function(){s1.on(o1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){s1.removeListener(o1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,N,A){for(var E=this.state.formattedGraphicalItems,w=0,j=E.length;w<j;w++){var O=E[w];if(O.item===_||O.props.key===_.key||N===qa(O.item.type)&&A===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,N=this.state.offset,A=N.left,E=N.top,w=N.height,j=N.width;return $.createElement("defs",null,$.createElement("clipPath",{id:_},$.createElement("rect",{x:A,y:E,height:w,width:j})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(N,A){var E=RR(A,2),w=E[0],j=E[1];return J(J({},N),{},Ie({},w,j.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(N,A){var E=RR(A,2),w=E[0],j=E[1];return J(J({},N),{},Ie({},w,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(_){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(_){var N=this.state,A=N.formattedGraphicalItems,E=N.activeItem;if(A&&A.length)for(var w=0,j=A.length;w<j;w++){var O=A[w],I=O.props,T=O.item,P=T.type.defaultProps!==void 0?J(J({},T.type.defaultProps),T.props):T.props,R=qa(T.type);if(R==="Bar"){var V=(I.data||[]).find(function(z){return nje(_,z)});if(V)return{graphicalItem:O,payload:V}}else if(R==="RadialBar"){var U=(I.data||[]).find(function(z){return lP(_,z)});if(U)return{graphicalItem:O,payload:U}}else if(dx(O,E)||fx(O,E)||zh(O,E)){var B=qEe({graphicalItem:O,activeTooltipItem:E,itemData:P.data}),L=P.activeIndex===void 0?B:P.activeIndex;return{graphicalItem:J(J({},O),{},{childIndex:L}),payload:zh(O,E)?P.data[B]:O.props.data[B]}}}return null}},{key:"render",value:function(){var _=this;if(!JC(this))return null;var N=this.props,A=N.children,E=N.className,w=N.width,j=N.height,O=N.style,I=N.compact,T=N.title,P=N.desc,R=MR(N,vke),V=Se(R,!1);if(I)return $.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(Fw,Cc({},V,{width:w,height:j,title:T,desc:P}),this.renderClipPath(),tk(A,this.renderMap)));if(this.props.accessibilityLayer){var U,B;V.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,V.role=(B=this.props.role)!==null&&B!==void 0?B:"application",V.onKeyDown=function(z){_.accessibilityManager.keyboardEvent(z)},V.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return $.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Cc({className:Fe("recharts-wrapper",E),style:J({position:"relative",cursor:"default",width:w,height:j},O)},L,{ref:function(q){_.container=q}}),$.createElement(Fw,Cc({},V,{width:w,height:j,title:T,desc:P,style:Mke}),this.renderClipPath(),tk(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Ie(y,"displayName",n),Ie(y,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ie(y,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,_=v.data,N=v.children,A=v.width,E=v.height,w=v.layout,j=v.stackOffset,O=v.margin,I=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var P=LR(v);return J(J(J({},P),{},{updateId:0},m(J(J({props:v},P),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:_,prevWidth:A,prevHeight:E,prevLayout:w,prevStackOffset:j,prevMargin:O,prevChildren:N})}if(x!==b.prevDataKey||_!==b.prevData||A!==b.prevWidth||E!==b.prevHeight||w!==b.prevLayout||j!==b.prevStackOffset||!Fc(O,b.prevMargin)){var R=LR(v),V={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=J(J({},$R(b,_,w)),{},{updateId:b.updateId+1}),B=J(J(J({},R),V),U);return J(J(J({},B),m(J({props:v},B),b)),{},{prevDataKey:x,prevData:_,prevWidth:A,prevHeight:E,prevLayout:w,prevStackOffset:j,prevMargin:O,prevChildren:N})}if(!Vw(N,b.prevChildren)){var L,z,q,te,ee=Fr(N,Cu),W=ee&&(L=(z=ee.props)===null||z===void 0?void 0:z.startIndex)!==null&&L!==void 0?L:I,M=ee&&(q=(te=ee.props)===null||te===void 0?void 0:te.endIndex)!==null&&q!==void 0?q:T,X=W!==I||M!==T,Y=!Ue(_),ye=Y&&!X?b.updateId:b.updateId+1;return J(J({updateId:ye},m(J(J({props:v},b),{},{updateId:ye,dataStartIndex:W,dataEndIndex:M}),b)),{},{prevChildren:N,dataStartIndex:W,dataEndIndex:M})}return null}),Ie(y,"renderActiveDot",function(v,b,x){var _;return k.isValidElement(v)?_=k.cloneElement(v,b):Pe(v)?_=v(b):_=$.createElement($p,b),$.createElement(Qe,{className:"recharts-active-dot",key:x},_)});var g=k.forwardRef(function(b,x){return $.createElement(y,Cc({},b,{ref:x}))});return g.displayName=y.displayName,g},qke=xx({chartName:"LineChart",GraphicalChild:Lp,axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:sE}),Gke=xx({chartName:"BarChart",GraphicalChild:ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:sE}),p2=xx({chartName:"PieChart",GraphicalChild:zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ux},{axisType:"radiusAxis",AxisComp:lx}],formatAxisMap:w2e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Wke=xx({chartName:"AreaChart",GraphicalChild:jo,axisComponents:[{axisType:"xAxis",AxisComp:co},{axisType:"yAxis",AxisComp:uo}],formatAxisMap:sE});const Kke=({isOpen:t,onClose:e,onItemClick:n})=>{var A;const[r,i]=k.useState([]),[a,s]=k.useState(!1),[l,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,y]=k.useState(null);Dl();const g=k.useRef(null);k.useEffect(()=>{t&&v()},[t]);const v=async()=>{s(!0);try{const E=Ot(He,"items"),w=wn(E,Sn("status","==","sold"),Sn("saleType","==","online"),Sn("fulfillmentMethod","==","shipping")),j=await Kt(w),O=[];j.forEach(I=>{var P,R,V,U;const T=I.data();T.shippedAt&&O.push({id:I.id,...T,createdAt:((P=T.createdAt)==null?void 0:P.toDate())||new Date,soldAt:((R=T.soldAt)==null?void 0:R.toDate())||new Date,shippedAt:(V=T.shippedAt)==null?void 0:V.toDate(),barcodeGeneratedAt:(U=T.barcodeGeneratedAt)==null?void 0:U.toDate()})}),O.sort((I,T)=>{const P=I.shippedAt||I.soldAt||I.createdAt;return(T.shippedAt||T.soldAt||T.createdAt).getTime()-P.getTime()}),i(O)}catch(E){console.error("Error fetching shipped items:",E)}finally{s(!1)}},b=E=>{y(E),h(!0)},x=E=>{n&&n(E)},_=E=>{var j,O,I;if(!E.buyerInfo||!E.trackingNumber)return;const w=window.open("","_blank");w&&(w.document.write(`
      <html>
        <head>
          <title>Shipping Label - ${E.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.4;
            }
            .shipping-label {
              border: 2px solid #000;
              padding: 20px;
              max-width: 600px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 1px solid #000;
              padding-bottom: 15px;
              margin-bottom: 15px;
            }
            .section {
              margin: 15px 0;
            }
            .section-title {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              text-transform: uppercase;
            }
            .address-block {
              border: 1px solid #000;
              padding: 10px;
              margin: 10px 0;
            }
            .tracking-section {
              text-align: center;
              margin: 20px 0;
            }
            .item-details {
              background-color: #f5f5f5;
              padding: 10px;
              margin: 10px 0;
            }
          </style>
        </head>
        <body>
          <div class="shipping-label">
            <div class="header">
              <h2>Summit Gear Exchange</h2>
              <p>Shipping Label - REPRINT</p>
            </div>
            
            <div class="section">
              <div class="section-title">Ship To:</div>
              <div class="address-block">
                <strong>${E.buyerInfo.name}</strong><br>
                ${E.buyerInfo.address}<br>
                ${E.buyerInfo.city}, ${E.buyerInfo.zipCode}<br>
                Phone: ${E.buyerInfo.phone}<br>
                Email: ${E.buyerInfo.email}
              </div>
            </div>

            <div class="section">
              <div class="section-title">Ship From:</div>
              <div class="address-block">
                <strong>Summit Gear Exchange</strong><br>
                123 Mountain View Drive<br>
                Boulder, CO 80301<br>
                Phone: (303) 555-0123
              </div>
            </div>

            <div class="tracking-section">
              <div class="section-title">Tracking Number:</div>
              <h3>${E.trackingNumber}</h3>
              ${E.barcodeImageUrl?`<img src="${E.barcodeImageUrl}" alt="Tracking Barcode" />`:""}
            </div>

            <div class="item-details">
              <div class="section-title">Item Details:</div>
              <strong>Item:</strong> ${E.title}<br>
              <strong>Price:</strong> $${E.soldPrice||E.price}<br>
              <strong>Category:</strong> ${E.category||"N/A"}<br>
              <strong>Brand:</strong> ${E.brand||"N/A"}<br>
              <strong>Size:</strong> ${E.size||"N/A"}<br>
              <strong>Order Date:</strong> ${((j=E.soldAt)==null?void 0:j.toLocaleDateString())||"N/A"}<br>
              <strong>Shipped Date:</strong> ${((O=E.shippedAt)==null?void 0:O.toLocaleDateString())||"N/A"}
            </div>

            <div class="section">
              <div class="section-title">Shipping Status:</div>
              <p> SHIPPED - ${(I=E.shippedAt)==null?void 0:I.toLocaleDateString()}</p>
            </div>
          </div>
        </body>
      </html>
    `),w.document.close(),w.focus(),w.print())},N=E=>`$${E.toFixed(2)}`;return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shipped Items"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["Online orders that have been shipped (",r.length,")"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Shipped Items"}),o.jsx("p",{className:"text-gray-600",children:"No online orders have been shipped yet."})]}):o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipped Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(E=>{var w,j,O;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[E.images&&E.images[0]&&o.jsx("img",{className:"h-12 w-12 rounded-lg object-cover mr-3",src:E.images[0],alt:E.title}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:E.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),o.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Shipped"})]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:E.sellerName}),o.jsx("div",{className:"text-xs text-gray-500",children:E.sellerEmail})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:((w=E.buyerInfo)==null?void 0:w.name)||"N/A"}),o.jsx("div",{className:"text-xs text-gray-500",children:((j=E.buyerInfo)==null?void 0:j.email)||"N/A"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:N(E.soldPrice||E.price)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:E.trackingNumber||"N/A"}),E.trackingNumber&&o.jsxs("div",{className:"text-xs text-gray-500",children:["Track: TRK-",E.trackingNumber.slice(-4)]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((O=E.shippedAt)==null?void 0:O.toLocaleDateString())||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsx("button",{onClick:()=>x(E),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-orange-500 text-white hover:bg-orange-600 transition-colors text-center",children:"View Details"}),E.barcodeImageUrl&&o.jsx("button",{onClick:()=>b(E),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors text-center",children:"View Barcode"}),o.jsx("button",{onClick:()=>_(E),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-green-500 text-white hover:bg-green-600 transition-colors text-center",children:"Reprint Label"})]})})]},E.id)})})]})})})}),o.jsx("canvas",{ref:g,style:{display:"none"}})]})}),f&&m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Item Barcode"}),o.jsx("p",{className:"text-gray-600",children:m.title})]}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 text-center",children:m.barcodeImageUrl?o.jsxs("div",{className:"space-y-4",children:[o.jsx("img",{src:m.barcodeImageUrl,alt:"Item Barcode",className:"mx-auto border border-gray-200 rounded-lg p-4 bg-white max-w-full h-auto"}),o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Barcode ID:"})," ",m.barcodeData]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Generated:"})," ",(A=m.barcodeGeneratedAt)==null?void 0:A.toLocaleDateString()]})]}),o.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[o.jsx("button",{onClick:()=>{var E;if(m.barcodeImageUrl){const w=window.open("","_blank");w&&(w.document.write(`
                              <html>
                                <head>
                                  <title>Barcode - ${m.title}</title>
                                  <style>
                                    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
                                    .barcode-container { margin: 20px 0; }
                                    img { max-width: 100%; height: auto; }
                                  </style>
                                </head>
                                <body>
                                  <h2>${m.title}</h2>
                                  <div class="barcode-container">
                                    <img src="${m.barcodeImageUrl}" alt="Barcode" />
                                  </div>
                                  <p>Barcode ID: ${m.barcodeData}</p>
                                  <p>Generated: ${(E=m.barcodeGeneratedAt)==null?void 0:E.toLocaleDateString()}</p>
                                </body>
                              </html>
                            `),w.document.close(),w.focus(),w.print())}},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Print Barcode"}),o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}):o.jsxs("div",{className:"py-8",children:[o.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:""}),o.jsx("p",{className:"text-gray-500",children:"No barcode image available"}),o.jsx("button",{onClick:()=>h(!1),className:"mt-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})})]})})]}):null},Xke=({isOpen:t,onClose:e,user:n,refreshTrigger:r=0,onItemClick:i})=>{const[a,s]=k.useState(!1),[l,c]=k.useState([]),[u,d]=k.useState(!1);k.useEffect(()=>{t&&f()},[t,r]);const f=async()=>{s(!0);try{const v=Ot(He,"items");let b=wn(v,Sn("status","==","sold"),Sn("saleType","==","online"),Sn("fulfillmentMethod","==","shipping"));const x=await Kt(b),_=[];x.forEach(N=>{var E,w,j,O,I,T;const A=N.data();A.shippedAt||_.push({id:N.id,...A,createdAt:((E=A.createdAt)==null?void 0:E.toDate())||new Date,approvedAt:(w=A.approvedAt)==null?void 0:w.toDate(),liveAt:(j=A.liveAt)==null?void 0:j.toDate(),soldAt:((O=A.soldAt)==null?void 0:O.toDate())||new Date,shippedAt:(I=A.shippedAt)==null?void 0:I.toDate(),deliveredAt:(T=A.deliveredAt)==null?void 0:T.toDate()})}),_.sort((N,A)=>{const E=N.soldAt||N.createdAt;return(A.soldAt||A.createdAt).getTime()-E.getTime()}),c(_)}catch(v){console.error("Error fetching unshipped items:",v)}finally{s(!1)}},h=async v=>{if(v.id){d(!0);try{const b=`TRK${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,x=sr(He,"items",v.id);await Nr(x,{shippedAt:new Date,trackingNumber:b,shippingLabelGenerated:!0}),await Vt(n,"item_shipped",`Item marked as shipped with tracking ${b}`,v.id,v.title),c(_=>_.filter(N=>N.id!==v.id))}catch(b){console.error("Error marking item as shipped:",b)}finally{d(!1)}}},m=v=>{i&&i(v)},y=v=>`$${v.toFixed(2)}`,g=v=>v.toLocaleDateString();return l.reduce((v,b)=>v+(b.soldPrice||b.price),0),l.reduce((v,b)=>{const x=b.soldPrice||b.price;return v+x*.25},0),l.reduce((v,b)=>{const x=b.soldPrice||b.price;return v+x*.75},0),t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Unshipped Items"}),o.jsx("p",{className:"text-gray-600",children:"Online orders awaiting shipment"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Items Awaiting Shipment (",l.length,")"]}),l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No items awaiting shipment"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All online orders have been shipped or are store pickups"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Pending"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(v=>{const b=v.soldPrice||v.price,x=Math.floor((new Date().getTime()-(v.soldAt||new Date).getTime())/(1e3*60*60*24));return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[v.images&&v.images[0]&&o.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:v.images[0],alt:v.title}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:v.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),o.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Awaiting Shipment"})]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.buyerInfo?v.buyerInfo.name:"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:y(b)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(v.soldAt||new Date)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x>3?"bg-red-100 text-red-800":x>1?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x," day",x!==1?"s":""]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>m(v),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"}),o.jsx("button",{onClick:()=>h(v),disabled:u,className:"text-orange-600 hover:text-orange-900 font-medium disabled:text-gray-400",children:u?"Shipping...":"Mark Shipped"})]})]},v.id)})})]})})]})})})]})}):null},Yke=({isOpen:t,onClose:e})=>{const[n,r]=k.useState([]),[i,a]=k.useState(!0),{throttledAction:s,isActionDisabled:l}=g0();k.useEffect(()=>{if(!t)return;const d=wn(Ot(He,"refunds"),Ap("refundedAt","desc")),f=E3(d,h=>{const m=h.docs.map(y=>{var g;return{id:y.id,...y.data(),refundedAt:((g=y.data().refundedAt)==null?void 0:g.toDate())||new Date}});r(m),a(!1)},h=>{console.error("Error fetching refunds:",h),a(!1)});return()=>f()},[t]);const c=d=>d.toLocaleDateString()+" "+d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),u=n.reduce((d,f)=>d+f.refundAmount,0);return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Issued Refunds"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"All refund transactions and records"})]}),o.jsx("button",{onClick:()=>s("close_modal",()=>e()),disabled:l("close_modal"),className:"text-gray-400 hover:text-gray-600 focus:outline-none disabled:opacity-50",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Total Refunds"}),o.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["$",u.toFixed(2)]})]})]})}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0v-1a4 4 0 114 0v1z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Avg Refund"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",n.length>0?(u/n.length).toFixed(2):"0.00"]})]})]})})]}),i?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Loading refunds..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Refunds Issued"}),o.jsx("p",{className:"text-gray-500",children:"No refund transactions have been processed yet."})]}):o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refund Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refunded By"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(d=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.itemTitle}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Seller: ",d.sellerName,d.originalBuyerName&&o.jsxs("span",{className:"block",children:["Original Buyer: ",d.originalBuyerName]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-red-600",children:["$",d.refundAmount.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Original: $",d.originalPrice.toFixed(2)]})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:d.reason,children:d.reason})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:d.refundedByName})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c(d.refundedAt)})]},d.id))})]})})})]})]})}):null},Qke=({user:t,isAdmin:e})=>{const[n,r]=k.useState("dashboard"),[i,a]=k.useState(!0),[s,l]=k.useState(null),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(null),[y,g]=k.useState(null),[v,b]=k.useState(!1),[x,_]=k.useState(!1),[N,A]=k.useState(!1),[E,w]=k.useState(!1),j=["#64748b","#94a3b8","#cbd5e1","#e2e8f0","#f1f5f9"];k.useEffect(()=>{n==="dashboard"?O():n==="users"&&e?I():n==="sold"?T():n==="shipped"&&e?_(!0):n==="unshipped"&&e?A(!0):n==="refunds"&&e&&w(!0)},[n,t,e]);const O=async()=>{a(!0);try{const L=Ot(He,"items"),z=await Kt(L),q=[];z.forEach(X=>{var ye,de,ke,Q;const Y=X.data();q.push({id:X.id,...Y,createdAt:((ye=Y.createdAt)==null?void 0:ye.toDate())||new Date,approvedAt:(de=Y.approvedAt)==null?void 0:de.toDate(),liveAt:(ke=Y.liveAt)==null?void 0:ke.toDate(),soldAt:(Q=Y.soldAt)==null?void 0:Q.toDate()})});const te=Ot(He,"users"),ee=await Kt(te),W=[];ee.forEach(X=>{W.push({id:X.id,...X.data()})});const M=P(q,W);l(M)}catch(L){console.error("Error fetching dashboard data:",L)}finally{a(!1)}},I=async()=>{a(!0);try{const L=[],z=new Map,q=Ot(He,"items");(await Kt(q)).forEach(ee=>{var Y,ye,de,ke;const W={id:ee.id,...ee.data(),createdAt:((Y=ee.data().createdAt)==null?void 0:Y.toDate())||new Date,approvedAt:(ye=ee.data().approvedAt)==null?void 0:ye.toDate(),liveAt:(de=ee.data().liveAt)==null?void 0:de.toDate(),soldAt:(ke=ee.data().soldAt)==null?void 0:ke.toDate()},M=W.sellerId;if(!z.has(M)){const Q={uid:M,email:W.sellerEmail,displayName:W.sellerName,photoURL:""};L.push(Q),z.set(M,{userId:M,userName:W.sellerName,userEmail:W.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const X=z.get(M);switch(X.totalItemsListed++,W.status){case"pending":X.pendingItems.push(W);break;case"approved":X.approvedItems.push(W);break;case"live":X.activeItems.push(W);break;case"sold":X.soldItems.push(W),X.totalItemsSold++;const Q=W.soldPrice||W.price,ce=W.userEarnings||Q*.75;X.totalEarnings+=ce;break}}),z.forEach(ee=>{ee.outstandingBalance=ee.totalEarnings-ee.totalPaid}),u(Array.from(z.values()))}catch(L){console.error("Error fetching user analytics:",L)}finally{a(!1)}},T=async()=>{a(!0);try{const L=Ot(He,"items"),z=wn(L,Sn("status","==","sold")),q=await Kt(z),te=[];q.forEach(ee=>{var M,X,Y,ye,de,ke;const W=ee.data();te.push({id:ee.id,...W,createdAt:((M=W.createdAt)==null?void 0:M.toDate())||new Date,approvedAt:(X=W.approvedAt)==null?void 0:X.toDate(),liveAt:(Y=W.liveAt)==null?void 0:Y.toDate(),soldAt:((ye=W.soldAt)==null?void 0:ye.toDate())||new Date,barcodeGeneratedAt:(de=W.barcodeGeneratedAt)==null?void 0:de.toDate(),printConfirmedAt:(ke=W.printConfirmedAt)==null?void 0:ke.toDate()})}),te.sort((ee,W)=>{const M=ee.soldAt||ee.createdAt;return(W.soldAt||W.createdAt).getTime()-M.getTime()}),f(te)}catch(L){console.error("Error fetching sold items:",L)}finally{a(!1)}},P=(L,z)=>{const q=new Date,te=L.filter(Q=>Q.status==="sold"),ee=te.reduce((Q,ce)=>Q+(ce.soldPrice||ce.price),0),W=new Set(L.map(Q=>Q.sellerId)),M=te.length>0?ee/te.length:0,X=[];for(let Q=11;Q>=0;Q--){const ce=new Date(q.getFullYear(),q.getMonth()-Q,1),pe=new Date(ce.getFullYear(),ce.getMonth(),1),Z=new Date(ce.getFullYear(),ce.getMonth()+1,0),je=te.filter(ge=>ge.soldAt&&ge.soldAt>=pe&&ge.soldAt<=Z),Ae=je.reduce((ge,ae)=>ge+(ae.soldPrice||ae.price),0);X.push({month:ce.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),revenue:Ae,items:je.length})}const Y=new Map;L.forEach(Q=>{const ce=Q.category||"Uncategorized";Y.has(ce)||Y.set(ce,{count:0,revenue:0});const pe=Y.get(ce);pe.count++,Q.status==="sold"&&(pe.revenue+=Q.soldPrice||Q.price)});const ye=Array.from(Y.entries()).map(([Q,ce])=>({category:Q,count:ce.count,revenue:ce.revenue})).sort((Q,ce)=>ce.count-Q.count),de=new Map;L.forEach(Q=>{de.set(Q.status,(de.get(Q.status)||0)+1)});const ke=Array.from(de.entries()).map(([Q,ce])=>({status:Q.charAt(0).toUpperCase()+Q.slice(1),count:ce,value:ce}));return{totalRevenue:ee,totalItems:L.length,activeUsers:W.size,avgItemPrice:M,monthlyRevenue:X,categoryBreakdown:ye,statusBreakdown:ke}},R=L=>{const z=new Date().toISOString().split("T")[0];if(L==="csv"){let q="";n==="dashboard"&&s?(q=`Month,Revenue,Items Sold
`,s.monthlyRevenue.forEach(M=>{q+=`${M.month},${M.revenue},${M.items}
`})):n==="sold"&&(q=`Title,Seller,Original Price,Sold Price,Date Sold
`,d.forEach(M=>{var X;q+=`"${M.title}","${M.sellerName}",${M.price},${M.soldPrice||M.price},"${(X=M.soldAt)==null?void 0:X.toLocaleDateString()}"
`}));const te=new Blob([q],{type:"text/csv"}),ee=window.URL.createObjectURL(te),W=document.createElement("a");W.href=ee,W.download=`analytics-${n}-${z}.csv`,W.click(),window.URL.revokeObjectURL(ee)}else{let q={};n==="dashboard"?q=s:n==="sold"?q={soldItems:d}:n==="users"&&(q={userAnalytics:c});const te=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),ee=window.URL.createObjectURL(te),W=document.createElement("a");W.href=ee,W.download=`analytics-${n}-${z}.json`,W.click(),window.URL.revokeObjectURL(ee)}},V=L=>`$${L.toFixed(2)}`,U=L=>{g(L),b(!0)},B=()=>{g(null),b(!1)};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive business insights and performance metrics"})]}),o.jsx("div",{className:"border-b border-gray-200 mb-8",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>r("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="dashboard"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dashboard Overview"}),o.jsx("button",{onClick:()=>r("sold"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sold"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sold Items"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("unshipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="unshipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Unshipped Items"}),o.jsx("button",{onClick:()=>r("shipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="shipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Shipped Items"}),o.jsx("button",{onClick:()=>r("refunds"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="refunds"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Refunds"}),o.jsx("button",{onClick:()=>r("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="users"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Analytics"})]})]})}),o.jsxs("div",{className:"mb-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>R("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export CSV"}),o.jsx("button",{onClick:()=>R("json"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export JSON"})]}),i?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-500"})}):o.jsxs(o.Fragment,{children:[n==="dashboard"&&s&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold",children:V(s.totalRevenue)})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Items"}),o.jsx("p",{className:"text-3xl font-bold",children:s.totalItems})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Sellers"}),o.jsx("p",{className:"text-3xl font-bold",children:s.activeUsers})]}),o.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg Item Price"}),o.jsx("p",{className:"text-3xl font-bold",children:V(s.avgItemPrice)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),o.jsx(jc,{width:"100%",height:300,children:o.jsxs(Wke,{data:s.monthlyRevenue,children:[o.jsx(hv,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(co,{dataKey:"month",stroke:"#64748b"}),o.jsx(uo,{stroke:"#64748b"}),o.jsx(dr,{formatter:L=>[V(L),"Revenue"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),o.jsx(jo,{type:"monotone",dataKey:"revenue",stroke:"#64748b",fill:"#94a3b8",fillOpacity:.3})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items Sold by Month"}),o.jsx(jc,{width:"100%",height:300,children:o.jsxs(Gke,{data:s.monthlyRevenue,children:[o.jsx(hv,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(co,{dataKey:"month",stroke:"#64748b"}),o.jsx(uo,{stroke:"#64748b"}),o.jsx(dr,{formatter:L=>[L,"Items Sold"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),o.jsx(ql,{dataKey:"items",fill:"#64748b"})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),o.jsx(jc,{width:"100%",height:300,children:o.jsxs(p2,{children:[o.jsx(zi,{data:s.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({category:L,count:z})=>`${L}: ${z}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:s.categoryBreakdown.map((L,z)=>o.jsx(bu,{fill:j[z%j.length]},`cell-${z}`))}),o.jsx(dr,{formatter:L=>[L,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Status Distribution"}),o.jsx(jc,{width:"100%",height:300,children:o.jsxs(p2,{children:[o.jsx(zi,{data:s.statusBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({status:L,count:z})=>`${L}: ${z}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.statusBreakdown.map((L,z)=>o.jsx(bu,{fill:j[z%j.length]},`cell-${z}`))}),o.jsx(dr,{formatter:L=>[L,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]})]})]}),n==="sold"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold",children:V(d.reduce((L,z)=>L+(z.soldPrice||z.price),0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Earnings (25%)"}),o.jsx("p",{className:"text-3xl font-bold",children:V(d.reduce((L,z)=>{const q=z.soldPrice||z.price;return L+(z.adminEarnings||q*.25)},0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Earnings (75%)"}),o.jsx("p",{className:"text-3xl font-bold",children:V(d.reduce((L,z)=>{const q=z.soldPrice||z.price;return L+(z.userEarnings||q*.75)},0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Items Sold"}),o.jsx("p",{className:"text-3xl font-bold",children:d.length})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sale Types"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{children:["In-Store: ",d.filter(L=>L.saleType==="in-store").length]}),o.jsxs("div",{children:["Online: ",d.filter(L=>L.saleType==="online").length]})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["All Sold Items (",d.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barcode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(L=>{const z=L.soldPrice||L.price;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[L.images&&L.images[0]&&o.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:L.images[0],alt:L.title}),o.jsx("div",{children:o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:L.title})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V(L.price)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:V(z)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:L.saleType==="online"?" Online":" In-Store"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.barcodeData?o.jsx("span",{className:"text-green-600",children:" Generated"}):o.jsx("span",{className:"text-gray-400",children:"No barcode"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(L.soldAt||new Date).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:()=>U(L),className:"text-slate-600 hover:text-slate-900",children:"View Details"})})]},L.id)})})]})})]})]}),n==="users"&&e&&o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["User Performance (",c.length," users)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Listed"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Earnings"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding Balance"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(L=>{const z=L.totalItemsListed>0?L.totalItemsSold/L.totalItemsListed*100:0;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:L.userEmail})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.totalItemsListed}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.totalItemsSold}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:V(L.totalEarnings)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-600",children:V(L.outstandingBalance)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[z.toFixed(1),"%"]})]},L.userId)})})]})})]})})]}),o.jsx(lj,{isOpen:v,onClose:B,item:y,onItemUpdated:()=>{O(),T()}}),o.jsx(Kke,{isOpen:x,onClose:()=>{_(!1),r("dashboard")},onItemClick:U}),o.jsx(Xke,{isOpen:N,onClose:()=>{A(!1),r("dashboard")},user:t,onItemClick:U}),o.jsx(Yke,{isOpen:E,onClose:()=>{w(!1),r("dashboard")}})]})})},Zke=({user:t})=>{const[e,n]=k.useState("overview"),[r,i]=k.useState(!0),[a,s]=k.useState(null),[l,c]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState(null),[m,y]=k.useState(!1),[g,v]=k.useState([]),[b,x]=k.useState(!1),[_,N]=k.useState(null),[A,E]=k.useState(!1),[w,j]=k.useState(null);k.useEffect(()=>{t&&I()},[t]),k.useEffect(()=>{const M=()=>{t&&(console.log("Window focused, refreshing purchase history..."),z())};return window.addEventListener("focus",M),()=>window.removeEventListener("focus",M)},[t]),k.useEffect(()=>{const M=X=>{X.key===`purchase_history_${t==null?void 0:t.uid}`&&t&&(console.log("Purchase history changed in localStorage, refreshing..."),z())};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[t]);const O=()=>{if(!t)return[];try{const M=localStorage.getItem(`purchase_history_${t.uid}`);if(M)return JSON.parse(M).map(Y=>({...Y,purchaseDate:new Date(Y.purchaseDate),orderNumber:Y.orderNumber||`ORD-${Y.id.slice(-6)}`,customerInfo:Y.customerInfo||{name:"N/A",email:"N/A",phone:"N/A",address:"N/A",city:"N/A",zipCode:"N/A"},paymentInfo:Y.paymentInfo||{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Y.id.slice(-8)}`},orderStatus:Y.orderStatus||"delivered",estimatedDelivery:Y.estimatedDelivery||new Date(Y.purchaseDate).toISOString(),trackingNumber:Y.trackingNumber||`TRK${Y.id.slice(-8)}`,items:Y.items.map(ye=>({...ye,category:ye.category||"N/A",brand:ye.brand||"N/A",size:ye.size||"N/A",images:ye.images||[]}))}))}catch(M){console.error("Error loading purchase history:",M)}return[]},I=async()=>{if(t){i(!0);try{await T();const M=O();v(M)}catch(M){console.error("Error fetching user data:",M)}finally{i(!1)}}},T=async()=>{if(t)try{const M=Ot(He,"items");let X,Y=[];try{X=wn(M,Sn("sellerId","==",t.uid),Ap("createdAt","desc")),(await Kt(X)).forEach(Ae=>{var ae,ve,Re,$e;const ge=Ae.data();Y.push({id:Ae.id,...ge,createdAt:((ae=ge.createdAt)==null?void 0:ae.toDate())||new Date,approvedAt:(ve=ge.approvedAt)==null?void 0:ve.toDate(),liveAt:(Re=ge.liveAt)==null?void 0:Re.toDate(),soldAt:($e=ge.soldAt)==null?void 0:$e.toDate()})})}catch(je){console.warn("Index not ready, using fallback query:",je.message),X=wn(M,Sn("sellerId","==",t.uid)),(await Kt(X)).forEach(ge=>{var ve,Re,$e,ht;const ae=ge.data();Y.push({id:ge.id,...ae,createdAt:((ve=ae.createdAt)==null?void 0:ve.toDate())||new Date,approvedAt:(Re=ae.approvedAt)==null?void 0:Re.toDate(),liveAt:($e=ae.liveAt)==null?void 0:$e.toDate(),soldAt:(ht=ae.soldAt)==null?void 0:ht.toDate()})}),Y.sort((ge,ae)=>{const ve=ge.createdAt||new Date(0);return(ae.createdAt||new Date(0)).getTime()-ve.getTime()})}c(Y);const ye=Y.filter(je=>je.status==="sold"),de=Y.filter(je=>je.status==="live"),ke=Y.filter(je=>je.status==="pending"),Q=ye.reduce((je,Ae)=>{const ge=Ae.soldPrice||Ae.price;return je+ge*.75},0),ce=O();v(ce);const pe=ce.reduce((je,Ae)=>je+Ae.total,0),Z=Math.max(0,Q-pe*.1);s({totalItemsListed:Y.length,totalItemsSold:ye.length,totalEarnings:Q,storeCredit:Z,activeListings:de.length,pendingListings:ke.length,totalPurchases:ce.length,totalSpent:pe}),d(ye)}catch(M){console.error("Error fetching my listings:",M),c([]),d([]),s({totalItemsListed:0,totalItemsSold:0,totalEarnings:0,storeCredit:0,activeListings:0,pendingListings:0,totalPurchases:0,totalSpent:0})}},P=M=>{h(M),y(!0)},R=()=>{h(null),y(!1)},V=M=>{switch(M){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},U=M=>{switch(M){case"pending":return"Under Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return M}},B=a?[{name:"Sold",value:a.totalItemsSold,color:"#10b981"},{name:"Active",value:a.activeListings,color:"#3b82f6"},{name:"Pending",value:a.pendingListings,color:"#f59e0b"}]:[],L=u.map((M,X)=>{var Y;return{name:`Sale ${X+1}`,earnings:(M.soldPrice||M.price)*.75,date:((Y=M.soldAt)==null?void 0:Y.toLocaleDateString())||"N/A"}}),z=()=>{if(!t)return;console.log("Refreshing purchase history...");const M=O();console.log("Updated purchase history:",M.length,"orders"),v(M);const X=M.reduce((Y,ye)=>Y+ye.total,0);s(Y=>Y?{...Y,totalPurchases:M.length,totalSpent:X}:null)},q=(M,X,Y)=>{N({trackingNumber:M,orderNumber:X,estimatedDelivery:Y}),x(!0)},te=M=>{j(M),E(!0)},ee=()=>{E(!1),j(null)},W=({isOpen:M,onClose:X,item:Y})=>{var Ae;const[ye,de]=k.useState("shipping"),[ke,Q]=k.useState(!1),[ce,pe]=k.useState(!1),Z=async()=>{pe(!0),await new Promise(ae=>setTimeout(ae,2e3));const ge={trackingNumber:`TRK${Date.now().toString().slice(-8)}`,carrier:"FedEx",service:"Ground",estimatedDelivery:new Date(Date.now()+5*24*60*60*1e3).toISOString(),labelUrl:`https://example.com/label/${Date.now()}`,cost:(Math.random()*10+5).toFixed(2)};console.log("Generated shipping label:",ge),Q(!0),pe(!1),alert(`Shipping label generated!
Tracking: ${ge.trackingNumber}
Estimated delivery: ${new Date(ge.estimatedDelivery).toLocaleDateString()}`)},je=()=>{var Re,$e,ht,Bt,Qt;const ge=window.open("","_blank");if(!ge||!Y)return;const ae=`TRK${Date.now().toString().slice(-8)}`,ve=`
        <html>
          <head>
            <title>Shipping Label - ${Y.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .label-container { border: 2px solid #000; padding: 20px; width: 600px; margin: 0 auto; }
              .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
              .section { margin: 15px 0; }
              .tracking { font-size: 24px; font-weight: bold; text-align: center; margin: 20px 0; padding: 10px; border: 1px solid #000; }
              .barcode { text-align: center; font-family: 'Courier New', monospace; font-size: 12px; margin: 10px 0; }
            </style>
          </head>
          <body>
            <div class="label-container">
              <div class="header">
                <h2>Summit Gear Exchange</h2>
                <p>Shipping Label</p>
              </div>
              <div class="section">
                <strong>FROM:</strong><br>
                Summit Gear Exchange<br>
                123 Mountain View Drive<br>
                Denver, CO 80202<br>
                (555) 123-4567
              </div>
              <div class="section">
                <strong>TO:</strong><br>
                ${((Re=Y.buyerInfo)==null?void 0:Re.name)||"Customer"}<br>
                ${(($e=Y.buyerInfo)==null?void 0:$e.address)||"Address"}<br>
                ${((ht=Y.buyerInfo)==null?void 0:ht.city)||"City"}, ${((Bt=Y.buyerInfo)==null?void 0:Bt.zipCode)||"ZIP"}<br>
                ${((Qt=Y.buyerInfo)==null?void 0:Qt.phone)||"Phone"}
              </div>
              <div class="tracking">TRACKING: ${ae}</div>
              <div class="barcode">||||| |||| | |||| ||||| | |||| |||||<br>${ae}</div>
              <div class="section">
                <strong>Item:</strong> ${Y.title}<br>
                <strong>Service:</strong> FedEx Ground<br>
                <strong>Date:</strong> ${new Date().toLocaleDateString()}
              </div>
            </div>
          </body>
        </html>
      `;ge.document.write(ve),ge.document.close(),ge.focus(),ge.print()};return!M||!Y?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sold Item Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage fulfillment for your sold item"})]}),o.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:Y.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Sale Price:"})," $",Y.soldPrice||Y.price]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Your Earnings:"})," $",((Y.soldPrice||Y.price)*.75).toFixed(2)]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Sold Date:"})," ",((Ae=Y.soldAt)==null?void 0:Ae.toLocaleDateString())||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",Y.saleTransactionId||"N/A"]})]})]}),Y.buyerInfo&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Buyer Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",Y.buyerInfo.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",Y.buyerInfo.email]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Phone:"})," ",Y.buyerInfo.phone]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"font-medium",children:"Address:"})," ",Y.buyerInfo.address,", ",Y.buyerInfo.city,", ",Y.buyerInfo.zipCode]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fulfillment Method"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"fulfillment",value:"shipping",checked:ye==="shipping",onChange:ge=>de(ge.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Ship to Customer"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Generate shipping label and send directly to buyer"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"fulfillment",value:"pickup",checked:ye==="pickup",onChange:ge=>de(ge.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"In-Store Pickup"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Customer will pick up item at store location"})]})]})]})]}),ye==="shipping"&&o.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Shipping Actions"}),ke?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-green-600 mb-3",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsx("span",{className:"font-medium",children:"Shipping label generated!"})]}),o.jsxs("button",{onClick:je,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Shipping Label"]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Generate a shipping label to send this item to the customer."}),o.jsx("button",{onClick:Z,disabled:ce,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ce?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Label..."]}):o.jsx(o.Fragment,{children:"Generate Shipping Label"})})]})]}),ye==="pickup"&&o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"In-Store Pickup"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Customer Instructions:"})," Please bring a valid ID and your order confirmation to pick up your item."]}),o.jsxs("div",{className:"bg-white rounded p-3 border",children:[o.jsx("p",{children:o.jsx("strong",{children:"Store Location:"})}),o.jsx("p",{children:"Summit Gear Exchange"}),o.jsx("p",{children:"123 Mountain View Drive"}),o.jsx("p",{children:"Denver, CO 80202"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hours:"})," Mon-Sat 9AM-7PM, Sun 10AM-6PM"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]}),o.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Mark as Ready for Pickup"})]})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsx("button",{onClick:X,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};return r?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My User History"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track your listings, sales, purchases, and store credit"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>{I(),z()},className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",title:"Refresh data",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Available Credit"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-4 md:space-x-8 px-4 md:px-6 overflow-x-auto scrollbar-hide",children:[{key:"overview",label:"Overview",icon:""},{key:"listings",label:"My Listings",icon:""},{key:"sales",label:"Sales History",icon:""},{key:"purchases",label:"Purchases",icon:""},{key:"orders",label:"My Orders",icon:""},{key:"credit",label:"Store Credit",icon:""}].map(M=>o.jsxs("button",{onClick:()=>n(M.key),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${e===M.key?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx("span",{className:"mr-2",children:M.icon}),o.jsx("span",{className:"hidden sm:inline",children:M.label}),o.jsx("span",{className:"sm:hidden",children:M.label.split(" ")[0]})]},M.key))})}),o.jsxs("div",{className:"p-6",children:[e==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.totalItemsListed)||0}),o.jsx("div",{className:"text-sm text-blue-600",children:"Items Listed"})]})]})}),o.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.totalItemsSold)||0}),o.jsx("div",{className:"text-sm text-green-600",children:"Items Sold"})]})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-purple-600",children:"Total Earnings"})]})]})}),o.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:(a==null?void 0:a.totalPurchases)||0}),o.jsx("div",{className:"text-sm text-indigo-600",children:"Purchases"})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-orange-600",children:"Store Credit"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Listings Status"}),o.jsx("div",{className:"h-64",children:o.jsx(jc,{width:"100%",height:"100%",children:o.jsxs(p2,{children:[o.jsx(zi,{data:B,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:B.map((M,X)=>o.jsx(bu,{fill:M.color},`cell-${X}`))}),o.jsx(dr,{})]})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings from Sales"}),o.jsx("div",{className:"h-64",children:L.length>0?o.jsx(jc,{width:"100%",height:"100%",children:o.jsxs(qke,{data:L,children:[o.jsx(hv,{strokeDasharray:"3 3"}),o.jsx(co,{dataKey:"name"}),o.jsx(uo,{}),o.jsx(dr,{}),o.jsx(Lp,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:2})]})}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{children:"No sales data yet"}),o.jsx("p",{className:"text-sm",children:"Start listing items to see your earnings here"})]})})})]})]})]}),e==="listings"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Listings (",l.length,")"]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("span",{className:"text-sm text-gray-500",children:["Active: ",(a==null?void 0:a.activeListings)||0," | Pending: ",(a==null?void 0:a.pendingListings)||0," | Sold: ",(a==null?void 0:a.totalItemsSold)||0]})})]}),l.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings yet"}),o.jsx("p",{className:"text-gray-500",children:"Start by listing your first item for consignment"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(M=>o.jsxs("div",{onClick:()=>P(M),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-900 truncate",children:M.title}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V(M.status)}`,children:U(M.status)})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",M.price]}),o.jsx("span",{className:"text-xs text-gray-500",children:M.createdAt.toLocaleDateString()})]}),M.status==="sold"&&o.jsxs("div",{className:"mt-2 text-xs text-green-600",children:["Earned: $",((M.soldPrice||M.price)*.75).toFixed(2)]})]},M.id))})]}),e==="sales"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sales History (",u.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Earned: $",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),u.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),o.jsx("p",{className:"text-gray-500",children:"Your earnings will appear here when items sell"})]}):o.jsx("div",{className:"space-y-3",children:u.map(M=>{var X;return o.jsx("div",{onClick:()=>te(M),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:M.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Sold on ",(X=M.soldAt)==null?void 0:X.toLocaleDateString()]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Sale price: $",(M.soldPrice||M.price).toFixed(2)]}),M.buyerInfo&&o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Buyer: ",M.buyerInfo.name,"  ",M.buyerInfo.city,", ",M.buyerInfo.zipCode]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+$",((M.soldPrice||M.price)*.75).toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-500",children:"your earnings"}),o.jsx("div",{className:"text-xs text-orange-600 mt-1",children:" Click to manage fulfillment"})]})]})},M.id)})})]}),e==="purchases"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Purchase History (",g.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),g.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No purchases yet"}),o.jsx("p",{className:"text-gray-500",children:"Your purchase history will appear here after you make your first purchase"}),o.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-3",children:g.map(M=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:["Order #",M.id.slice(-8)]}),o.jsx("p",{className:"text-sm text-gray-600",children:M.purchaseDate.toLocaleDateString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",M.total.toFixed(2)]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]})]}),o.jsxs("div",{className:"border-t pt-3",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Items purchased:"}),o.jsx("div",{className:"space-y-1",children:M.items.map((X,Y)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-900",children:X.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-gray-500",children:["Qty: ",X.quantity]}),o.jsxs("span",{className:"font-medium",children:["$",(X.price*X.quantity).toFixed(2)]})]})]},Y))})]})]},M.id))})]}),e==="orders"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Orders (",g.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),g.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),o.jsx("p",{className:"text-gray-500",children:"Your order history will appear here after you make your first purchase"}),o.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:g.map(M=>{var X,Y;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order ",M.orderNumber||`#${M.id.slice(-8)}`]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",M.purchaseDate.toLocaleDateString()," at ",M.purchaseDate.toLocaleTimeString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",M.total.toFixed(2)]}),o.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${M.orderStatus==="delivered"?"bg-green-100 text-green-800":M.orderStatus==="shipped"?"bg-blue-100 text-blue-800":M.orderStatus==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((X=M.orderStatus)==null?void 0:X.charAt(0).toUpperCase())+((Y=M.orderStatus)==null?void 0:Y.slice(1))||"Completed"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Items Ordered"}),o.jsx("div",{className:"space-y-3",children:M.items.map((ye,de)=>o.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:ye.images&&ye.images.length>0?o.jsx("img",{src:ye.images[0],alt:ye.title,className:"w-full h-full object-cover rounded-lg"}):o.jsx("span",{className:"text-gray-400 text-2xl",children:""})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h6",{className:"font-medium text-gray-900",children:ye.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:[ye.brand,"  ",ye.category,"  Size: ",ye.size]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",ye.quantity]}),o.jsxs("span",{className:"font-medium",children:["$",(ye.price*ye.quantity).toFixed(2)]})]})]})]},de))})]}),o.jsxs("div",{className:"space-y-4",children:[M.customerInfo&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium",children:M.customerInfo.name}),o.jsx("p",{children:M.customerInfo.address}),o.jsxs("p",{children:[M.customerInfo.city,", ",M.customerInfo.zipCode]}),o.jsx("p",{children:M.customerInfo.phone}),o.jsx("p",{children:M.customerInfo.email})]})]}),M.paymentInfo&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:[M.paymentInfo.method," ending in ",M.paymentInfo.last4]}),o.jsxs("p",{className:"text-xs",children:["Transaction ID: ",M.paymentInfo.transactionId]}),o.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${M.paymentInfo.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.paymentInfo.status})]})]}),M.trackingNumber&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Delivery"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Tracking: ",M.trackingNumber]}),M.estimatedDelivery&&o.jsxs("p",{children:["Estimated: ",new Date(M.estimatedDelivery).toLocaleDateString()]})]}),o.jsx("button",{onClick:()=>q(M.trackingNumber,M.orderNumber||`#${M.id.slice(-8)}`,M.estimatedDelivery),className:"mt-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Track Package"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx("button",{className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Invoice"})})]})]})})]},M.id)})})]}),e==="credit"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Store Credit Balance"}),o.jsxs("div",{className:"text-3xl font-bold mt-1",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Available for purchases"})]}),o.jsx("div",{className:"text-6xl opacity-20",children:""})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"How Store Credit Works"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:""}),o.jsx("span",{children:"Earn 75% of your item's final sale price"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:""}),o.jsx("span",{children:"Credit is added automatically when items sell"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:""}),o.jsx("span",{children:"Use credit for purchases in our store"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:""}),o.jsx("span",{children:"Credit never expires"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:""}),o.jsx("span",{children:"Redeem credit during checkout"})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Credit Summary"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Total Earned:"}),o.jsxs("span",{className:"font-medium text-green-600",children:["+$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Total Used:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-$",(((a==null?void 0:a.totalEarnings)||0)-((a==null?void 0:a.storeCredit)||0)).toFixed(2)]})]}),o.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-900 font-semibold",children:"Current Balance:"}),o.jsxs("span",{className:"font-bold text-orange-600 text-lg",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Start Shopping"})})]})]}),u.length>0&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Credit Activity"}),o.jsx("div",{className:"space-y-2",children:u.slice(0,5).map(M=>{var X;return o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-900",children:M.title}),o.jsxs("span",{className:"text-gray-500 ml-2",children:["sold ",(X=M.soldAt)==null?void 0:X.toLocaleDateString()]})]}),o.jsxs("span",{className:"text-green-600 font-medium",children:["+$",((M.soldPrice||M.price)*.75).toFixed(2)]})]},M.id)})})]})]})]})]}),o.jsx(lj,{isOpen:m,onClose:R,item:f,onItemUpdated:()=>{I(),T()}}),b&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Tracking"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.orderNumber})]}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Package In Transit"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Your order is on its way!"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),o.jsx("span",{className:"text-sm text-gray-900 font-mono",children:_.trackingNumber})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),o.jsx("span",{className:"text-sm text-gray-900",children:new Date(_.estimatedDelivery).toLocaleDateString()})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:"Tracking History"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Package shipped"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Denver, CO - 2 days ago"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"In transit"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Salt Lake City, UT - 1 day ago"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Out for delivery"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Your city - Today"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Delivered"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Expected by end of day"})]})]})]})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t",children:o.jsx("button",{onClick:()=>x(!1),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Close"})})]})]})}),o.jsx(W,{isOpen:A,onClose:ee,item:w})]})},Jke=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,a]=k.useState([]),[s,l]=k.useState(!0),[c,u]=k.useState(""),[d,f]=k.useState("all"),[h,m]=k.useState("all"),[y,g]=k.useState("all"),[v,b]=k.useState("all"),[x,_]=k.useState("all"),[N,A]=k.useState([]),[E,w]=k.useState("newest"),[j,O]=k.useState(!1),[I,T]=k.useState("individual"),[P,R]=k.useState(!1),[V,U]=k.useState(null),[B,L]=k.useState(!1),[z,q]=k.useState(!1),{user:te}=Dl(),[ee,W]=k.useState([]),[M,X]=k.useState([]),[Y,ye]=k.useState([]),[de,ke]=k.useState([]);k.useEffect(()=>{Q()},[]),k.useEffect(()=>{pe(),ce()},[t,c,d,h,y,v,x,E]),k.useEffect(()=>{I==="grouped"&&Z()},[n,I]);const Q=async()=>{try{const F=Ot(He,"items"),oe=wn(F,Ap("createdAt","desc")),ne=await Kt(oe),_e=[];ne.forEach(me=>{var Zt,ue,Oe,it;const Et=me.data();_e.push({id:me.id,...Et,createdAt:((Zt=Et.createdAt)==null?void 0:Zt.toDate())||new Date,approvedAt:(ue=Et.approvedAt)==null?void 0:ue.toDate(),liveAt:(Oe=Et.liveAt)==null?void 0:Oe.toDate(),soldAt:(it=Et.soldAt)==null?void 0:it.toDate()})}),e(_e)}catch(F){console.error("Error fetching items:",F)}finally{l(!1)}},ce=()=>{const F=[...new Set(t.map(me=>me.category).filter(me=>!!me&&me!==""))].sort(),oe=[...new Set(t.map(me=>me.brand).filter(me=>!!me&&me!==""))].sort(),ne=[...new Set(t.map(me=>me.condition).filter(Boolean).filter(me=>me!==""))].sort(),_e=[...new Set(t.map(me=>me.gender).filter(Boolean).filter(me=>me!==""))].sort();W(F),X(oe),ye(ne),ke(_e)},pe=()=>{let F=[...t];if(d!=="all"&&(F=F.filter(oe=>oe.status===d)),h!=="all"&&(F=F.filter(oe=>oe.category===h)),y!=="all"&&(F=F.filter(oe=>oe.brand===y)),v!=="all"&&(F=F.filter(oe=>oe.condition===v)),x!=="all"&&(F=F.filter(oe=>oe.gender===x)),c){const oe=c.toLowerCase();F=F.filter(ne=>{var _e,me,Et,Zt,ue,Oe,it;return((_e=ne.title)==null?void 0:_e.toLowerCase().includes(oe))||((me=ne.description)==null?void 0:me.toLowerCase().includes(oe))||((Et=ne.brand)==null?void 0:Et.toLowerCase().includes(oe))||((Zt=ne.category)==null?void 0:Zt.toLowerCase().includes(oe))||((ue=ne.sellerName)==null?void 0:ue.toLowerCase().includes(oe))||((Oe=ne.material)==null?void 0:Oe.toLowerCase().includes(oe))||((it=ne.color)==null?void 0:it.toLowerCase().includes(oe))||ne.id.toLowerCase().includes(oe)})}switch(E){case"oldest":F.sort((oe,ne)=>oe.createdAt.getTime()-ne.createdAt.getTime());break;case"price-high":F.sort((oe,ne)=>ne.price-oe.price);break;case"price-low":F.sort((oe,ne)=>oe.price-ne.price);break;case"shelf-time":F.sort((oe,ne)=>{const _e=oe.liveAt||oe.createdAt,me=ne.liveAt||ne.createdAt;return _e.getTime()-me.getTime()});break;case"shelf-time-newest":F.sort((oe,ne)=>{const _e=oe.liveAt||oe.createdAt;return(ne.liveAt||ne.createdAt).getTime()-_e.getTime()});break;case"newest":default:F.sort((oe,ne)=>ne.createdAt.getTime()-oe.createdAt.getTime());break}r(F)},Z=()=>{const F={};n.forEach(ne=>{var me,Et,Zt,ue;const _e=`${(me=ne.title)==null?void 0:me.toLowerCase()}-${(Et=ne.category)==null?void 0:Et.toLowerCase()}-${(Zt=ne.brand)==null?void 0:Zt.toLowerCase()}-${(ue=ne.condition)==null?void 0:ue.toLowerCase()}`;F[_e]||(F[_e]=[]),F[_e].push(ne)});const oe=Object.values(F).map(ne=>{const _e=ne[0];return{id:`group-${_e.id}`,title:_e.title,category:_e.category||"",brand:_e.brand||"",condition:_e.condition||"",price:_e.price,quantity:ne.length,items:ne,representativeItem:_e}});a(oe)},je=F=>{A(oe=>oe.includes(F)?oe.filter(ne=>ne!==F):[...oe,F])},Ae=()=>{N.length===n.length?A([]):A(n.map(F=>F.id))},ge=async F=>{try{const oe=N.map(async ne=>{const _e=sr(He,"items",ne),me={status:F};return F==="live"?me.liveAt=new Date:F==="approved"&&(me.approvedAt=new Date),Nr(_e,me)});await Promise.all(oe),await Vt(te,"bulk_action",`Bulk updated ${N.length} items to ${F}`),await Q(),A([]),O(!1)}catch(oe){console.error("Error updating items:",oe)}},ae=async(F,oe)=>{try{const ne=sr(He,"items",F),_e={status:oe};oe==="live"||oe==="approved"||oe==="archived"&&(_e.archivedAt=new Date),await Nr(ne,_e);const me=t.find(Et=>Et.id===F);me&&await Vt(te,`item_${oe}`,`Updated item status to ${oe}`,F,me.title),await Q()}catch(ne){console.error("Error updating item:",ne)}},ve=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-purple-100 text-purple-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Re=F=>{const oe=F.liveAt||F.createdAt,_e=new Date().getTime()-oe.getTime(),me=Math.floor(_e/(1e3*60*60*24));return me===0?"Today":me===1?"1 day":`${me} days`},$e=F=>{const oe=F.liveAt||F.createdAt,_e=new Date().getTime()-oe.getTime();return Math.floor(_e/(1e3*60*60*24))},ht=F=>{U(F),R(!0)},Bt=async(F,oe)=>{if(V)try{const ne=sr(He,"items",V.id),_e=V.originalPrice||V.price,me=_e*(1-F/100);await Nr(ne,{originalPrice:_e,price:Math.round(me*100)/100,discountPercentage:F,discountAppliedAt:new Date,discountReason:oe}),await Vt(te,"item_discounted",`Applied ${F}% discount: ${oe}`,V.id,V.title),await Q(),R(!1),U(null)}catch(ne){console.error("Error applying discount:",ne)}},Qt=async(F,oe)=>{try{const ne=n.filter(me=>me.status!=="live"?!1:$e(me)>=F),_e=ne.map(async me=>{const Et=sr(He,"items",me.id),Zt=me.originalPrice||me.price,ue=Zt*(1-oe/100);return Nr(Et,{originalPrice:Zt,price:Math.round(ue*100)/100,discountPercentage:oe,discountAppliedAt:new Date,discountReason:`Auto-discount: ${F}+ days on shelf`})});await Promise.all(_e),await Vt(te,"bulk_discount",`Applied ${oe}% discount to ${ne.length} items with ${F}+ days on shelf`),await Q(),L(!1)}catch(ne){console.error("Error applying bulk discount:",ne)}};return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage all items across all statuses"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>q(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Data"]}),o.jsxs("button",{onClick:()=>L(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Auto-Discount"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," items | Filtered: ",n.length," items"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg border p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View Mode:"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{onClick:()=>T("individual"),className:`px-4 py-2 text-sm font-medium ${I==="individual"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Individual Items"}),o.jsx("button",{onClick:()=>T("grouped"),className:`px-4 py-2 text-sm font-medium ${I==="grouped"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grouped by Similarity"})]})]}),o.jsx("div",{className:"text-sm text-gray-500",children:I==="individual"?`Showing ${n.length} individual items`:`Showing ${i.length} item groups`})]})}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsx("input",{type:"text",value:c,onChange:F=>u(F.target.value),placeholder:"Search items, brands, sellers...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:d,onChange:F=>f(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"live",children:"Live"}),o.jsx("option",{value:"sold",children:"Sold"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Categories"}),ee.map(F=>o.jsx("option",{value:F,children:F},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsxs("select",{value:y,onChange:F=>g(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Brands"}),M.map(F=>o.jsx("option",{value:F,children:F},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),o.jsxs("select",{value:v,onChange:F=>b(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Conditions"}),Y.map(F=>o.jsx("option",{value:F,children:F},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{value:x,onChange:F=>_(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Genders"}),de.map(F=>o.jsx("option",{value:F,children:F},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),o.jsxs("select",{value:E,onChange:F=>w(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"shelf-time",children:"Longest on Shelf"}),o.jsx("option",{value:"shelf-time-newest",children:"Shortest on Shelf"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Actions"}),o.jsxs("button",{onClick:()=>O(!j),disabled:N.length===0,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed text-sm",children:["Actions (",N.length,")"]})]})]}),j&&N.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>ge("approved"),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",children:"Move to Approved"}),o.jsx("button",{onClick:()=>ge("live"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600",children:"Make Live"}),o.jsx("button",{onClick:()=>ge("archived"),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Archive Items"}),o.jsx("button",{onClick:()=>O(!1),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Cancel"})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:o.jsx("input",{type:"checkbox",checked:N.length===n.length&&n.length>0,onChange:Ae,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shelf Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I==="individual"?n.map(F=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:N.includes(F.id),onChange:()=>je(F.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[F.images&&F.images.length>0&&o.jsx("img",{src:F.images[0],alt:F.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.title}),o.jsxs("div",{className:"text-sm text-gray-500",children:[F.category&&`${F.category}  `,F.brand&&`${F.brand}  `,F.condition&&`${F.condition}`,F.gender&&`  ${F.gender}`,F.size&&`  Size ${F.size}`]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ve(F.status)}`,children:F.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:F.discountPercentage?"text-red-600 font-medium":"",children:["$",F.price]}),F.discountPercentage&&o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsxs("span",{className:"line-through",children:["$",F.originalPrice]}),o.jsxs("span",{className:"ml-1 text-red-600",children:["-",F.discountPercentage,"%"]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:F.status==="live"?o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`${$e(F)>=30?"text-red-600 font-medium":$e(F)>=14?"text-orange-600 font-medium":$e(F)>=7?"text-yellow-600 font-medium":"text-gray-500"}`,children:Re(F)}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",$e(F)," days)"]})]}):o.jsx("span",{className:"text-gray-500",children:"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[F.status==="live"&&o.jsx("button",{onClick:()=>ht(F),className:"text-orange-600 hover:text-orange-900",children:"Discount"}),F.status!=="archived"&&o.jsx("button",{onClick:()=>ae(F.id,"archived"),className:"text-gray-600 hover:text-gray-900",children:"Archive"})]})})]},F.id)):i.map(F=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:F.items.every(oe=>N.includes(oe.id)),onChange:()=>{const oe=F.items.every(ne=>N.includes(ne.id));A(oe?ne=>ne.filter(_e=>!F.items.some(me=>me.id===_e)):ne=>[...ne,...F.items.map(_e=>_e.id)])},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[F.representativeItem.images&&F.representativeItem.images.length>0&&o.jsx("img",{src:F.representativeItem.images[0],alt:F.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.title}),o.jsxs("div",{className:"text-sm text-gray-500",children:[F.category&&`${F.category}  `,F.brand&&`${F.brand}  `,F.condition]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:[...new Set(F.items.map(oe=>oe.status))].map(oe=>o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${ve(oe)}`,children:oe},oe))})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Math.min(...F.items.map(oe=>oe.price)),F.items.length>1&&` - $${Math.max(...F.items.map(oe=>oe.price))}`]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:F.quantity})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.items.some(oe=>oe.status==="live")?Re(F.items.find(oe=>oe.status==="live")):"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[...new Set(F.items.map(oe=>oe.sellerName))].join(", ")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>{F.items.forEach(oe=>{oe.status!=="archived"&&ae(oe.id,"archived")})},className:"text-gray-600 hover:text-gray-900",children:"Archive All"})})})]},F.id))})]})}),(I==="individual"?n.length===0:i.length===0)&&o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:t.length===0?"No items found":"No items match your filters"})})]}),P&&V&&o.jsx(eIe,{item:V,onApply:Bt,onClose:()=>{R(!1),U(null)}}),B&&o.jsx(tIe,{items:n,onApply:Qt,onClose:()=>L(!1),getShelfDays:$e}),z&&o.jsx(nIe,{onClose:()=>q(!1),onImportComplete:()=>{q(!1),Q()}})]})},eIe=({item:t,onApply:e,onClose:n})=>{const[r,i]=k.useState(10),[a,s]=k.useState(""),l=t.originalPrice||t.price,c=l*(1-r/100),u=d=>{d.preventDefault(),e(r,a||"Manual discount applied")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Apply Discount"}),o.jsx("p",{className:"text-gray-600 mt-1",children:t.title})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("form",{onSubmit:u,className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage"}),o.jsx("input",{type:"number",min:"1",max:"50",value:r,onChange:d=>i(Number(d.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),o.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"e.g., Shelf time over 30 days",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Original Price:"}),o.jsxs("span",{className:"font-medium",children:["$",l]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),o.jsxs("span",{className:"text-red-600",children:["-",r,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[o.jsx("span",{className:"font-medium",children:"New Price:"}),o.jsxs("span",{className:"font-bold text-lg text-green-600",children:["$",c.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Apply Discount"})]})]})]})})},tIe=({items:t,onApply:e,onClose:n,getShelfDays:r})=>{const i=[{days:7,discount:10,label:"7+ days - 10% off"},{days:14,discount:15,label:"14+ days - 15% off"},{days:21,discount:20,label:"21+ days - 20% off"},{days:30,discount:25,label:"30+ days - 25% off"},{days:45,discount:30,label:"45+ days - 30% off"},{days:60,discount:35,label:"60+ days - 35% off"}],a=s=>t.filter(l=>l.status!=="live"?!1:r(l)>=s).length;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Auto-Discount by Shelf Time"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Apply discounts to items based on how long they've been on the shelf"})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsx("div",{className:"grid gap-3",children:i.map(s=>{const l=a(s.days);return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:s.label}),o.jsxs("div",{className:"text-sm text-gray-500",children:[l," eligible items"]})]}),o.jsxs("button",{onClick:()=>e(s.days,s.discount),disabled:l===0,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Apply to ",l]})]},s.days)})}),o.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Note:"}),' Discounts will only be applied to items with "live" status. Items that already have discounts will have their discount updated based on the original price.']})]})}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Close"})})]})]})})},nIe=({onClose:t,onImportComplete:e})=>{const[n,r]=k.useState(null),[i,a]=k.useState("csv"),[s,l]=k.useState(!1),[c,u]=k.useState(0),[d,f]=k.useState([]),[h,m]=k.useState(!1),{user:y}=Dl(),g=_=>{var A,E;const N=(A=_.target.files)==null?void 0:A[0];if(N){r(N);const w=(E=N.name.split(".").pop())==null?void 0:E.toLowerCase();w==="csv"?a("csv"):w==="json"?a("json"):w==="sql"&&a("sql"),(w==="csv"||w==="json")&&v(N,w)}},v=async(_,N)=>{const A=new FileReader;A.onload=E=>{var j;const w=(j=E.target)==null?void 0:j.result;if(N==="csv"){const O=w.split(`
`).filter(P=>P.trim()),I=O[0].split(",").map(P=>P.trim().replace(/"/g,"")),T=O.slice(1,6).map(P=>{const R=P.split(",").map(U=>U.trim().replace(/"/g,"")),V={};return I.forEach((U,B)=>{V[U]=R[B]||""}),V});f(T)}else if(N==="json")try{const O=JSON.parse(w);f(Array.isArray(O)?O.slice(0,5):[O])}catch{console.error("Invalid JSON format")}m(!0)},A.readAsText(_)},b=async()=>{if(!(!n||!y)){l(!0),u(0);try{const _=setInterval(()=>{u(A=>A>=90?(clearInterval(_),90):A+10)},200),N=new FileReader;N.onload=async A=>{var j;const E=(j=A.target)==null?void 0:j.result;let w=[];try{if(i==="csv"){const O=E.split(`
`).filter(T=>T.trim()),I=O[0].split(",").map(T=>T.trim().replace(/"/g,""));w=O.slice(1).map(T=>{const P=T.split(",").map(V=>V.trim().replace(/"/g,"")),R={};return I.forEach((V,U)=>{R[V]=P[U]||""}),R})}else if(i==="json"){const O=JSON.parse(E);w=Array.isArray(O)?O:[O]}await Vt(y,"data_import",`Imported ${w.length} items from ${i.toUpperCase()} file`,n.name,`${w.length} items`),clearInterval(_),u(100),setTimeout(()=>{e()},1e3)}catch(O){console.error("Import error:",O),clearInterval(_),l(!1)}},N.readAsText(n)}catch(_){console.error("Import failed:",_),l(!1)}}},x=_=>{if(_===0)return"0 Bytes";const N=1024,A=["Bytes","KB","MB","GB"],E=Math.floor(Math.log(_)/Math.log(N));return parseFloat((_/Math.pow(N,E)).toFixed(2))+" "+A[E]};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Import Data"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Upload CSV, JSON, or SQL data sheets to import inventory items"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mb-4",children:o.jsx("svg",{className:"mx-auto h-16 w-16 text-blue-500 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Importing Data..."}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("div",{className:"text-sm text-gray-600",children:[c,"% complete"]}),c===100&&o.jsx("div",{className:"mt-4 text-green-600 font-medium",children:"Import completed successfully!"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Import Format"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[o.jsxs("button",{onClick:()=>a("csv"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="csv"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"CSV"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Comma Separated Values"})]}),o.jsxs("button",{onClick:()=>a("json"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="json"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"JSON"}),o.jsx("div",{className:"text-sm text-gray-500",children:"JavaScript Object Notation"})]}),o.jsxs("button",{onClick:()=>a("sql"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="sql"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"SQL"}),o.jsx("div",{className:"text-sm text-gray-500",children:"SQL Insert Statements"})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[o.jsx("input",{type:"file",accept:i==="csv"?".csv":i==="json"?".json":".sql",onChange:g,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:o.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Click to upload or drag and drop"}),o.jsxs("div",{className:"text-sm text-gray-500",children:[i.toUpperCase()," files only"]})]})]}),n&&o.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:n.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:[x(n.size),"  ",i.toUpperCase()]})]}),o.jsx("button",{onClick:()=>{r(null),m(!1),f([])},className:"text-red-500 hover:text-red-700",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}),h&&d.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Preview"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:Object.keys(d[0]||{}).map(_=>o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:_},_))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((_,N)=>o.jsx("tr",{children:Object.values(_).map((A,E)=>o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:[String(A).substring(0,50),String(A).length>50?"...":""]},E))},N))})]})})}),o.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Showing first ",d.length," rows"]})]}),o.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Import Guidelines:"}),o.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"CSV files should have headers in the first row"}),o.jsx("li",{children:"JSON files should contain an array of objects or a single object"}),o.jsx("li",{children:"SQL files should contain INSERT statements"}),o.jsx("li",{children:"Required fields: title, price, category, condition"}),o.jsx("li",{children:"Optional fields: brand, size, color, material, description"})]})]})]})})]})}),!s&&o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:b,disabled:!n,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Data"]})]})})]})})},rIe=({isOpen:t,onClose:e,user:n,isAdmin:r=!1,refreshTrigger:i=0})=>{const[a,s]=k.useState(!1),[l,c]=k.useState(null),[u,d]=k.useState([]),[f,h]=k.useState(null),[m,y]=k.useState([]),[g,v]=k.useState([]),[b,x]=k.useState(null),[_,N]=k.useState(!1),[A,E]=k.useState(!1),[w,j]=k.useState(""),[O,I]=k.useState(""),[T,P]=k.useState(!1),[R,V]=k.useState(""),[U,B]=k.useState([]),[L,z]=k.useState(!1),[q,te]=k.useState(null),[ee,W]=k.useState(!1),[M,X]=k.useState(null),[Y,ye]=k.useState(""),[de,ke]=k.useState("totalEarnings"),[Q,ce]=k.useState("desc"),[pe,Z]=k.useState([]),[je,Ae]=k.useState(!1),[ge,ae]=k.useState(""),[ve,Re]=k.useState(null);k.useEffect(()=>{console.log("UserAnalyticsModal useEffect triggered:",{isOpen:t,isAdmin:r,refreshTrigger:i,userId:n==null?void 0:n.uid}),t&&(r?(console.log("Fetching ALL user analytics (admin mode)"),$e()):n&&(console.log("Fetching single user analytics (user mode):",n.uid),ht(n.uid)))},[t,r,n,i]),k.useEffect(()=>{l&&r&&Bt(l)},[l,r]);const $e=async()=>{s(!0);try{console.log("Fetching all user analytics...");const ue=[],Oe=new Map,it=Ot(He,"items"),_t=await Kt(it);console.log("Found",_t.size,"items"),_t.forEach(Ce=>{var un,xr,ii,Ei;const Ke={id:Ce.id,...Ce.data(),createdAt:((un=Ce.data().createdAt)==null?void 0:un.toDate())||new Date,approvedAt:(xr=Ce.data().approvedAt)==null?void 0:xr.toDate(),liveAt:(ii=Ce.data().liveAt)==null?void 0:ii.toDate(),soldAt:(Ei=Ce.data().soldAt)==null?void 0:Ei.toDate()},Cn=Ke.sellerId;if(!Oe.has(Cn)){const va={uid:Cn,email:Ke.sellerEmail,displayName:Ke.sellerName,photoURL:""};ue.push(va),Oe.set(Cn,{userId:Cn,userName:Ke.sellerName,userEmail:Ke.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const ct=Oe.get(Cn);switch(ct.totalItemsListed++,Ke.status){case"pending":ct.pendingItems.push(Ke);break;case"approved":ct.approvedItems.push(Ke);break;case"live":ct.activeItems.push(Ke);break;case"sold":ct.soldItems.push(Ke),ct.totalItemsSold++;const va=Ke.soldPrice||Ke.price,br=Ke.userEarnings||va*.75;ct.totalEarnings+=br;break;case"archived":ct.archivedItems||(ct.archivedItems=[]),ct.archivedItems.push(Ke);break}});try{const Ce=Ot(He,"users"),Ke=await Kt(Ce);console.log("Found",Ke.size,"users in users collection"),Ke.forEach(Cn=>{const ct=Cn.data(),un=Cn.id;if(!Oe.has(un)){const xr={uid:un,email:ct.email||"",displayName:ct.displayName||ct.name||"Unknown User",photoURL:ct.photoURL||""};ue.push(xr),Oe.set(un,{userId:un,userName:xr.displayName,userEmail:xr.email||ct.phoneNumber||"",totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:Math.random()*100,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}})}catch{console.warn("Users collection not found, using only item sellers")}try{const Ce=Ot(He,"payments");(await Kt(Ce)).forEach(Cn=>{const ct=Cn.data(),un=Oe.get(ct.userId);un&&(un.totalPaid+=ct.amount)})}catch(Ce){console.warn("Error fetching payments:",Ce)}Oe.forEach(Ce=>{Ce.outstandingBalance=Math.max(0,Ce.totalEarnings-Ce.totalPaid)});const Ve=Array.from(Oe.values());console.log("Final user analytics:",Ve),d(Ve),v(ue)}catch(ue){console.error("Error fetching user analytics:",ue)}finally{s(!1)}},ht=async ue=>{s(!0);try{console.log("Fetching analytics for user:",ue);const Oe=Ot(He,"items"),it=wn(Oe,Sn("sellerId","==",ue)),_t=await Kt(it),Ve={userId:ue,userName:(n==null?void 0:n.displayName)||"User",userEmail:(n==null?void 0:n.email)||"",totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]};_t.forEach(Ce=>{var Cn,ct,un,xr;const Ke={id:Ce.id,...Ce.data(),createdAt:((Cn=Ce.data().createdAt)==null?void 0:Cn.toDate())||new Date,approvedAt:(ct=Ce.data().approvedAt)==null?void 0:ct.toDate(),liveAt:(un=Ce.data().liveAt)==null?void 0:un.toDate(),soldAt:(xr=Ce.data().soldAt)==null?void 0:xr.toDate()};switch(Ve.totalItemsListed++,Ke.status){case"pending":Ve.pendingItems.push(Ke);break;case"approved":Ve.approvedItems.push(Ke);break;case"live":Ve.activeItems.push(Ke);break;case"sold":Ve.soldItems.push(Ke),Ve.totalItemsSold++;const ii=Ke.soldPrice||Ke.price,Ei=Ke.userEarnings||ii*.75;Ve.totalEarnings+=Ei;break}});try{const Ce=Ot(He,"payments"),Ke=wn(Ce,Sn("userId","==",ue));(await Kt(Ke)).forEach(ct=>{const un=ct.data();Ve.totalPaid+=un.amount})}catch(Ce){console.warn("Error fetching user payments:",Ce)}Ve.outstandingBalance=Math.max(0,Ve.totalEarnings-Ve.totalPaid),console.log("User analytics calculated:",Ve),h(Ve)}catch(Oe){console.error("Error fetching user analytics:",Oe)}finally{s(!1)}},Bt=async ue=>{try{const Oe=Ot(He,"payments"),it=wn(Oe,Sn("userId","==",ue),Ap("paidAt","desc")),_t=await Kt(it),Ve=[];_t.forEach(Ce=>{var Ke;Ve.push({id:Ce.id,...Ce.data(),paidAt:((Ke=Ce.data().paidAt)==null?void 0:Ke.toDate())||new Date})}),B(Ve)}catch(Oe){console.error("Error fetching payment history:",Oe),B([])}},Qt=ue=>{de===ue?ce(Q==="asc"?"desc":"asc"):(ke(ue),ce("desc"))},F=async ue=>{Re(ue),Ae(!0);try{const Oe=yL(it=>{const _t=it.filter(Ve=>Ve.userId===ue.userId).map(Ve=>{var Ce;return{...Ve,timestamp:(Ce=Ve.timestamp)!=null&&Ce.toDate?Ve.timestamp.toDate():new Date}}).sort((Ve,Ce)=>Ce.timestamp.getTime()-Ve.timestamp.getTime());Z(_t)});window.userActionsUnsubscribe=Oe}catch(Oe){console.error("Error fetching user actions:",Oe)}},oe=u.filter(ue=>ue.userName.toLowerCase().includes(ge.toLowerCase())||ue.userEmail.toLowerCase().includes(ge.toLowerCase())).sort((ue,Oe)=>{const it=ue[de],_t=Oe[de],Ve=Q==="asc"?1:-1;return(it-_t)*Ve}),ne=ue=>de!==ue?"":Q==="asc"?"":"",_e=ue=>{switch(ue){case"item_listed":return"";case"item_approved":return"";case"item_purchased":return"";case"item_sold":return"";case"item_archived":return"";case"user_login":return"";case"user_logout":return"";case"item_bookmarked":return"";case"cart_updated":return"";default:return""}},me=ue=>{const it=new Date().getTime()-ue.getTime(),_t=Math.floor(it/(1e3*60)),Ve=Math.floor(it/(1e3*60*60)),Ce=Math.floor(it/(1e3*60*60*24));return _t<1?"Just now":_t<60?`${_t}m ago`:Ve<24?`${Ve}h ago`:`${Ce}d ago`},Et=ue=>ue.totalItemsListed===0?0:ue.totalItemsSold/ue.totalItemsListed*100,Zt=ue=>{const Oe=[...ue.activeItems,...ue.soldItems,...ue.approvedItems,...ue.pendingItems];return Oe.length===0?new Date(0):Oe.reduce((it,_t)=>{const Ve=_t.createdAt||new Date(0);return Ve>it?Ve:it},new Date(0))};return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Analytics Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive user performance and statistics"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(95vh-200px)]",children:[o.jsxs("div",{className:"mb-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[o.jsx("div",{className:"flex-1 max-w-md",children:o.jsx("input",{type:"text",value:ge,onChange:ue=>ae(ue.target.value),placeholder:"Search users by name or email...",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",oe.length," of ",u.length," users"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.reduce((ue,Oe)=>ue+Oe.totalItemsListed,0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items Listed"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.reduce((ue,Oe)=>ue+Oe.totalItemsSold,0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items Sold"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",u.reduce((ue,Oe)=>ue+Oe.totalEarnings,0).toFixed(2)]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total User Earnings"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",u.reduce((ue,Oe)=>ue+Oe.storeCredit,0).toFixed(2)]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Store Credit"})]})]})]}),a?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-3 text-gray-600",children:"Loading user statistics..."})]}):o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Qt("totalItemsSold"),children:["Items Sold ",ne("totalItemsSold")]}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Qt("totalEarnings"),children:["Total Earned ",ne("totalEarnings")]}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Qt("outstandingBalance"),children:["Outstanding Balance ",ne("outstandingBalance")]}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Qt("storeCredit"),children:["Store Credit ",ne("storeCredit")]}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:oe.map(ue=>{const Oe=Et(ue),it=Zt(ue);return o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>F(ue),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:ue.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:ue.userEmail}),o.jsxs("div",{className:"text-xs text-gray-400",children:[ue.totalItemsListed," listed  ",ue.activeItems.length," active  ",ue.pendingItems.length," pending"]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-semibold text-green-600",children:ue.totalItemsSold})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-semibold text-purple-600",children:["$",ue.totalEarnings.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:`text-sm font-semibold ${ue.outstandingBalance>0?"text-red-600":"text-gray-400"}`,children:["$",ue.outstandingBalance.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-semibold text-orange-600",children:["$",ue.storeCredit.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:`text-sm font-semibold ${Oe>=70?"text-green-600":Oe>=40?"text-yellow-600":"text-red-600"}`,children:[Oe.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:me(it)})]},ue.userId)})})]})})}),oe.length===0&&!a&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),o.jsx("p",{className:"text-gray-500",children:"No users match your search criteria."})]})]})]})}),je&&ve&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[80] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:ve.userName}),o.jsx("p",{className:"text-gray-600 mt-1",children:"User Activity & Action History"})]}),o.jsx("button",{onClick:()=>{Ae(!1),Re(null),window.userActionsUnsubscribe&&window.userActionsUnsubscribe()},className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(95vh-200px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900",children:ve.totalItemsListed}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items Listed"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900",children:ve.totalItemsSold}),o.jsx("div",{className:"text-sm text-gray-600",children:"Items Sold"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",ve.totalEarnings.toFixed(2)]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[Et(ve).toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),o.jsx("p",{className:"text-sm text-gray-600",children:"All actions performed by this user"})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:pe.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{children:"No activity found for this user"})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:pe.map((ue,Oe)=>o.jsx("div",{className:"p-4 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-2xl",children:_e(ue.action)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:ue.action.replace("_"," ")}),o.jsx("p",{className:"text-sm text-gray-500",children:me(ue.timestamp)})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ue.details}),ue.itemTitle&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Item: ",ue.itemTitle]})]})]})},Oe))})})]})]})]})})]}):null},iIe=({user:t,isAdmin:e})=>{const[n,r]=k.useState([]),[i,a]=k.useState([]),[s,l]=k.useState(!0),[c,u]=k.useState(""),[d,f]=k.useState("all"),[h,m]=k.useState("all"),[y,g]=k.useState("24h"),[v,b]=k.useState(!1);k.useEffect(()=>{const w=yL(j=>{const O=j.map(P=>{var R;return{...P,timestamp:(R=P.timestamp)!=null&&R.toDate?P.timestamp.toDate():new Date}}),I=x(),T=O.filter(P=>P.timestamp.getTime()>=I);r(T),l(!1)});return()=>w()},[y]),k.useEffect(()=>{_()},[n,c,d,h]);const x=()=>{const w=new Date;switch(y){case"1h":return w.getTime()-1e3*60*60;case"24h":return w.getTime()-1e3*60*60*24;case"7d":return w.getTime()-1e3*60*60*24*7;case"30d":return w.getTime()-1e3*60*60*24*30;default:return 0}},_=()=>{let w=[...n];if(d!=="all"&&(w=w.filter(j=>j.action===d)),h!=="all"&&(h==="admin"?w=w.filter(j=>j.isAdmin===!0):h==="user"&&(w=w.filter(j=>j.isAdmin!==!0))),c){const j=c.toLowerCase();w=w.filter(O=>O.userName.toLowerCase().includes(j)||O.userEmail.toLowerCase().includes(j)||O.action.toLowerCase().includes(j)||O.details.toLowerCase().includes(j)||O.itemTitle&&O.itemTitle.toLowerCase().includes(j))}a(w)},N=w=>{switch(w){case"item_listed":return"";case"item_approved":return"";case"item_purchased":return"";case"item_sold":return"";case"item_archived":return"";case"item_discounted":return"";case"bulk_discount":return"";case"user_login":return"";case"user_logout":return"";case"bulk_action":return"";case"item_bookmarked":return"";case"cart_updated":return"";case"status_changed":return"";case"barcode_generated":return"";case"shipping_label_generated":return"";case"item_shipped":return"";default:return""}},A=w=>{switch(w){case"item_listed":return"bg-blue-100 text-blue-800";case"item_approved":return"bg-green-100 text-green-800";case"item_purchased":return"bg-purple-100 text-purple-800";case"item_sold":return"bg-yellow-100 text-yellow-800";case"item_archived":return"bg-gray-100 text-gray-800";case"item_discounted":return"bg-orange-100 text-orange-800";case"bulk_discount":return"bg-red-100 text-red-800";case"user_login":return"bg-indigo-100 text-indigo-800";case"user_logout":return"bg-red-100 text-red-800";case"bulk_action":return"bg-orange-100 text-orange-800";case"item_bookmarked":return"bg-pink-100 text-pink-800";case"cart_updated":return"bg-teal-100 text-teal-800";case"status_changed":return"bg-cyan-100 text-cyan-800";case"barcode_generated":return"bg-emerald-100 text-emerald-800";case"shipping_label_generated":return"bg-blue-100 text-blue-800";case"item_shipped":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},E=w=>{const O=new Date().getTime()-w.getTime(),I=Math.floor(O/(1e3*60)),T=Math.floor(O/(1e3*60*60)),P=Math.floor(O/(1e3*60*60*24));return I<1?"Just now":I<60?`${I}m ago`:T<24?`${T}h ago`:`${P}d ago`};return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Actions Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Track all user and admin activities"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[e&&o.jsxs("button",{onClick:()=>b(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User Analytics"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",n.length," actions | Filtered: ",i.length," actions",h==="admin"&&" | Admin Actions Only",h==="user"&&" | User Actions Only"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg border p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsx("input",{type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"Search users, actions, items...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),o.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Actions"}),o.jsx("option",{value:"item_listed",children:"Item Listed"}),o.jsx("option",{value:"item_approved",children:"Item Approved"}),o.jsx("option",{value:"item_purchased",children:"Item Purchased"}),o.jsx("option",{value:"item_sold",children:"Item Sold"}),o.jsx("option",{value:"item_archived",children:"Item Archived"}),o.jsx("option",{value:"item_discounted",children:"Item Discounted"}),o.jsx("option",{value:"bulk_discount",children:"Bulk Discount"}),o.jsx("option",{value:"status_changed",children:"Status Changed"}),o.jsx("option",{value:"barcode_generated",children:"Barcode Generated"}),o.jsx("option",{value:"shipping_label_generated",children:"Shipping Label Generated"}),o.jsx("option",{value:"item_shipped",children:"Item Shipped"}),o.jsx("option",{value:"user_login",children:"User Login"}),o.jsx("option",{value:"bulk_action",children:"Bulk Actions"}),o.jsx("option",{value:"item_bookmarked",children:"Item Bookmarked"}),o.jsx("option",{value:"cart_updated",children:"Cart Updated"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),o.jsxs("select",{value:h,onChange:w=>m(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Users"}),o.jsx("option",{value:"admin",children:"Admin Only"}),o.jsx("option",{value:"user",children:"Users Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),o.jsxs("select",{value:y,onChange:w=>g(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"1h",children:"Last Hour"}),o.jsx("option",{value:"24h",children:"Last 24 Hours"}),o.jsx("option",{value:"7d",children:"Last 7 Days"}),o.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export"}),o.jsx("button",{onClick:()=>{console.log("Export actions to CSV")},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Export CSV"})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(w=>o.jsx("div",{className:"p-6 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"text-2xl",children:N(w.action)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A(w.action)}`,children:w.action.replace("_"," ")}),w.isAdmin&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:" Admin"}),o.jsx("span",{className:"text-sm text-gray-500",children:E(w.timestamp)})]}),o.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[o.jsxs("span",{className:"font-medium",children:[w.isAdmin&&o.jsx("span",{className:"text-red-600",children:" "}),w.userName]}),o.jsxs("span",{className:"text-gray-500",children:[" (",w.userEmail,")"]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[w.details,w.itemTitle&&o.jsxs("span",{className:"font-medium text-gray-900",children:["  ",w.itemTitle]})]})]}),o.jsx("div",{className:"flex-shrink-0 text-sm text-gray-500",children:w.timestamp.toLocaleString()})]})},w.id))}),i.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:n.length===0?"No actions found for this time period":"No actions match your filters"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.filter(w=>w.action.includes("item_")).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Item Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.filter(w=>w.isAdmin===!0).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Admin Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.filter(w=>w.isAdmin!==!0).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"User Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(n.map(w=>w.userId)).size}),o.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]})]}),o.jsx(rIe,{isOpen:v,onClose:()=>b(!1),user:t,isAdmin:e})]})},aIe=()=>{const{user:t,loading:e,signInWithGoogle:n,signInWithPhone:r,logout:i,isAuthenticated:a,isAdmin:s,toggleAdmin:l}=Dl(),{getCartItemCount:c,getBookmarkCount:u,switchUser:d}=Sp(),[f,h]=k.useState([]),[m,y]=k.useState(!1),[g,v]=k.useState(!1),[b,x]=k.useState(!1),[_,N]=k.useState(!1),[A,E]=k.useState(!1),[w,j]=k.useState(!1),[O,I]=k.useState(!1),[T,P]=k.useState(!1),[R,V]=k.useState(!1),[U,B]=k.useState(!1),[L,z]=k.useState(!1),[q,te]=k.useState(!1),[ee,W]=k.useState(!1),[M,X]=k.useState(!1),[Y,ye]=k.useState(!0),[de,ke]=k.useState(!1),[Q,ce]=k.useState(0),[pe,Z]=k.useState(!1),je=k.useRef(null),[Ae,ge]=k.useState(!1),[ae,ve]=k.useState(!1),Re=k.useRef(null),[$e,ht]=k.useState([]),[Bt,Qt]=k.useState(null),[F,oe]=k.useState(!1),[ne,_e]=k.useState({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""}),[me,Et]=k.useState({pending:0,approved:0,sold:0}),[Zt,ue]=k.useState(!1),Oe=k.useRef(null);k.useEffect(()=>{a?(Ve(),it()):(ye(!1),ke(!1))},[a,s]),k.useEffect(()=>{d((t==null?void 0:t.uid)||null)},[t,d]),k.useEffect(()=>{const G=fe=>{je.current&&!je.current.contains(fe.target)&&Z(!1),Re.current&&!Re.current.contains(fe.target)&&ve(!1),Oe.current&&!Oe.current.contains(fe.target)&&window.innerWidth<1024&&ue(!1)};return(pe||ae||Zt)&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[pe,ae,Zt]);const it=()=>{t&&(console.log("Admin status check:",{userId:t.uid,userIsAdmin:s,adminStatus:s}),ke(s))},_t=k.useCallback(async()=>{if(t)try{const G=Ot(He,"items"),fe=wn(G,Sn("status","==","pending")),Ee=await Kt(fe),mt=wn(G,Sn("status","==","approved")),Gt=await Kt(mt),Yn=wn(G,Sn("status","==","sold")),ut=await Kt(Yn),rt=new Date(Date.now()-24*60*60*1e3);let Ze=0;ut.forEach(It=>{var In;const Vn=(In=It.data().soldAt)==null?void 0:In.toDate();Vn&&Vn>=rt&&Ze++});const wr={pending:Ee.size,approved:Gt.size,sold:Ze};console.log("Updating notification counts:",wr),Et(wr)}catch(G){console.error("Error fetching notification counts:",G)}},[t]),Ve=async()=>{try{const G=Ot(He,"items"),fe=wn(G,Sn("status","==","live")),Ee=await Kt(fe),mt=[];Ee.forEach(Gt=>{var ut,rt,Ze;const Yn=Gt.data();mt.push({id:Gt.id,...Yn,createdAt:((ut=Yn.createdAt)==null?void 0:ut.toDate())||new Date,approvedAt:(rt=Yn.approvedAt)==null?void 0:rt.toDate(),liveAt:(Ze=Yn.liveAt)==null?void 0:Ze.toDate()})}),mt.sort((Gt,Yn)=>{const ut=Gt.liveAt||Gt.createdAt;return(Yn.liveAt||Yn.createdAt).getTime()-ut.getTime()}),h(mt)}catch(G){console.error("Error fetching items:",G),h([])}finally{ye(!1)}},Ce=k.useCallback(async()=>{if(t)try{const G=Ot(He,"items"),fe=new Date(Date.now()-24*60*60*1e3);let Ee=[];if(de){const Gt=wn(G);(await Kt(Gt)).forEach(ut=>{var It,kn,Vn,In;const rt=ut.data(),Ze={id:ut.id,...rt,createdAt:((It=rt.createdAt)==null?void 0:It.toDate())||new Date,approvedAt:(kn=rt.approvedAt)==null?void 0:kn.toDate(),liveAt:(Vn=rt.liveAt)==null?void 0:Vn.toDate(),soldAt:(In=rt.soldAt)==null?void 0:In.toDate()};(Ze.createdAt&&Ze.createdAt>=fe||Ze.approvedAt&&Ze.approvedAt>=fe||Ze.liveAt&&Ze.liveAt>=fe||Ze.soldAt&&Ze.soldAt>=fe)&&Ee.push(Ze)}),Ee.sort((ut,rt)=>{var It,kn,Vn,In,ba,us,ds,To;const Ze=Math.max(((It=ut.createdAt)==null?void 0:It.getTime())||0,((kn=ut.approvedAt)==null?void 0:kn.getTime())||0,((Vn=ut.liveAt)==null?void 0:Vn.getTime())||0,((In=ut.soldAt)==null?void 0:In.getTime())||0);return Math.max(((ba=rt.createdAt)==null?void 0:ba.getTime())||0,((us=rt.approvedAt)==null?void 0:us.getTime())||0,((ds=rt.liveAt)==null?void 0:ds.getTime())||0,((To=rt.soldAt)==null?void 0:To.getTime())||0)-Ze})}else{const Gt=wn(G,Sn("sellerUid","==",t.uid));(await Kt(Gt)).forEach(ut=>{var It,kn,Vn,In;const rt=ut.data(),Ze={id:ut.id,...rt,createdAt:((It=rt.createdAt)==null?void 0:It.toDate())||new Date,approvedAt:(kn=rt.approvedAt)==null?void 0:kn.toDate(),liveAt:(Vn=rt.liveAt)==null?void 0:Vn.toDate(),soldAt:(In=rt.soldAt)==null?void 0:In.toDate()};(Ze.createdAt&&Ze.createdAt>=fe||Ze.approvedAt&&Ze.approvedAt>=fe||Ze.liveAt&&Ze.liveAt>=fe||Ze.soldAt&&Ze.soldAt>=fe)&&Ee.push(Ze)}),Ee.sort((ut,rt)=>{var It,kn,Vn,In,ba,us,ds,To;const Ze=Math.max(((It=ut.createdAt)==null?void 0:It.getTime())||0,((kn=ut.approvedAt)==null?void 0:kn.getTime())||0,((Vn=ut.liveAt)==null?void 0:Vn.getTime())||0,((In=ut.soldAt)==null?void 0:In.getTime())||0);return Math.max(((ba=rt.createdAt)==null?void 0:ba.getTime())||0,((us=rt.approvedAt)==null?void 0:us.getTime())||0,((ds=rt.liveAt)==null?void 0:ds.getTime())||0,((To=rt.soldAt)==null?void 0:To.getTime())||0)-Ze})}const mt=Ee.slice(0,15);console.log("Updating recent items:",mt.length,"items for",de?"admin":"user"),ht(mt)}catch(G){console.error("Error fetching recent items:",G)}},[t,de]);k.useEffect(()=>{if(a&&t){Ce();const G=setInterval(Ce,3e4);return()=>clearInterval(G)}},[a,t,Ce]),k.useEffect(()=>{if(de&&t){_t();const G=setInterval(_t,3e4);return()=>clearInterval(G)}},[de,t,_t]);const Ke=async()=>{await Vt(t,"modal_opened","Opened Add Item modal"),y(!0)},Cn=()=>{y(!1),Ve(),Ce(),de&&_t()},ct=async()=>{await Vt(t,"modal_opened","Opened Admin modal"),v(!0)},un=()=>{v(!1),Ve(),Ce(),de&&_t()},xr=async()=>{await Vt(t,"modal_opened","Opened Approved Items modal"),x(!0)},ii=()=>{x(!1),Ve(),Ce(),de&&_t()},Ei=()=>{E(!0)},va=()=>{E(!1)},br=async G=>{await Vt(t,"item_viewed","Viewed item details",G.id,G.title),Qt(G),oe(!0),ve(!1)},Bp=()=>{Qt(null),oe(!1)},Gl=()=>{W(!0)},Up=()=>{W(!1)},Eo=()=>{W(!1),X(!0),setTimeout(()=>{X(!1)},5e3)},bd=G=>{const fe=new Date(Date.now()-864e5),Ee=[];return G.soldAt&&G.soldAt>=fe&&Ee.push({type:"sold",time:G.soldAt,icon:"",message:"Sold",color:"text-green-600"}),G.liveAt&&G.liveAt>=fe&&Ee.push({type:"live",time:G.liveAt,icon:"",message:"Went Live",color:"text-green-600"}),G.approvedAt&&G.approvedAt>=fe&&Ee.push({type:"approved",time:G.approvedAt,icon:"",message:"Approved",color:"text-blue-600"}),G.createdAt&&G.createdAt>=fe&&Ee.push({type:"created",time:G.createdAt,icon:"",message:"Listed",color:"text-purple-600"}),Ee.length>0?(Ee.sort((mt,Gt)=>Gt.time.getTime()-mt.time.getTime()),Ee[0]):null},pt=(G,fe)=>{_e(Ee=>({...Ee,[G]:fe})),G!=="searchQuery"&&window.innerWidth<1024&&ue(!1)},wd=()=>{_e({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""})},xa=()=>{let G=[...f];if(ne.searchQuery){const fe=ne.searchQuery.toLowerCase();G=G.filter(Ee=>{var mt,Gt,Yn,ut,rt,Ze,wr,It,kn;return((mt=Ee.title)==null?void 0:mt.toLowerCase().includes(fe))||((Gt=Ee.description)==null?void 0:Gt.toLowerCase().includes(fe))||((Yn=Ee.brand)==null?void 0:Yn.toLowerCase().includes(fe))||((ut=Ee.category)==null?void 0:ut.toLowerCase().includes(fe))||((rt=Ee.color)==null?void 0:rt.toLowerCase().includes(fe))||((Ze=Ee.size)==null?void 0:Ze.toLowerCase().includes(fe))||((wr=Ee.condition)==null?void 0:wr.toLowerCase().includes(fe))||((It=Ee.gender)==null?void 0:It.toLowerCase().includes(fe))||((kn=Ee.sellerName)==null?void 0:kn.toLowerCase().includes(fe))})}if(ne.category&&(G=G.filter(fe=>fe.category===ne.category)),ne.gender&&(G=G.filter(fe=>fe.gender===ne.gender)),ne.size&&(G=G.filter(fe=>fe.size===ne.size)),ne.brand&&(G=G.filter(fe=>{var Ee;return(Ee=fe.brand)==null?void 0:Ee.toLowerCase().includes(ne.brand.toLowerCase())})),ne.color&&(G=G.filter(fe=>{var Ee;return(Ee=fe.color)==null?void 0:Ee.toLowerCase().includes(ne.color.toLowerCase())})),ne.priceRange){const[fe,Ee]=ne.priceRange.split("-").map(Number);G=G.filter(mt=>Ee?mt.price>=fe&&mt.price<=Ee:mt.price>=fe)}switch(ne.sortBy){case"price-low":G.sort((fe,Ee)=>fe.price-Ee.price);break;case"price-high":G.sort((fe,Ee)=>Ee.price-fe.price);break;case"oldest":G.sort((fe,Ee)=>fe.createdAt.getTime()-Ee.createdAt.getTime());break;case"popular":G.sort((fe,Ee)=>{const mt=(Date.now()-fe.createdAt.getTime())/864e5+fe.price/100,Gt=(Date.now()-Ee.createdAt.getTime())/(1e3*60*60*24)+Ee.price/100;return mt-Gt});break;case"alphabetical":G.sort((fe,Ee)=>fe.title.localeCompare(Ee.title));break;case"category":G.sort((fe,Ee)=>{const mt=fe.category||"",Gt=Ee.category||"";return mt===Gt?fe.title.localeCompare(Ee.title):mt.localeCompare(Gt)});break;case"newest":default:G.sort((fe,Ee)=>Ee.createdAt.getTime()-fe.createdAt.getTime());break}return G};return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-white",children:"Loading Summit Gear..."})]})}):a?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!T&&!R&&!U&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"desktop-nav-header",children:o.jsx("div",{className:"desktop-nav-container",children:o.jsxs("div",{className:"desktop-nav-content",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),o.jsxs("div",{className:"desktop-nav-actions",children:[o.jsxs("div",{className:"desktop-nav-buttons",children:[o.jsxs("button",{onClick:Ke,className:"desktop-button-primary",children:[o.jsx("span",{className:"hidden sm:inline",children:"List Item"}),o.jsx("span",{className:"sm:hidden",children:"List"})]}),de&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:ct,className:"desktop-button-secondary relative",children:[o.jsx("span",{className:"hidden sm:inline",children:"Pending Items"}),o.jsx("span",{className:"sm:hidden",children:"Pending"}),me.pending>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:me.pending>9?"9+":me.pending})]}),o.jsxs("button",{onClick:xr,className:"desktop-button-secondary relative",children:[o.jsx("span",{className:"hidden sm:inline",children:"Approved Items"}),o.jsx("span",{className:"sm:hidden",children:"Approved"}),me.approved>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:me.approved>9?"9+":me.approved})]})]})]}),o.jsxs("div",{className:"desktop-nav-icons",children:[!de&&o.jsxs("button",{onClick:()=>te(!0),className:"desktop-icon-button",title:"Bookmarked Items",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:u()>9?"9+":u()})]}),!de&&o.jsxs("button",{onClick:()=>z(!0),className:"desktop-icon-button",title:"Shopping Cart",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),c()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:c()>9?"9+":c()})]}),o.jsxs("div",{ref:Re,className:"relative",children:[o.jsxs("button",{onClick:()=>ve(!ae),className:"desktop-icon-button",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),$e.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:$e.length>9?"9+":$e.length})]}),ae&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:de?"Platform Activity":"My Item Updates"}),o.jsx("p",{className:"text-xs text-gray-500",children:de?"All item activity in the last 24 hours":"Your items with recent activity"})]}),o.jsx("div",{className:"max-h-72 overflow-y-auto",children:$e.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("p",{className:"text-sm",children:de?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:$e.map(G=>{const fe=bd(G);return o.jsx("button",{onClick:()=>br(G),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:o.jsxs("div",{className:"flex items-start gap-3",children:[G.images&&G.images.length>0?o.jsx("img",{src:G.images[0],alt:G.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):o.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.title}),o.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",G.price]})]}),o.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${G.status==="pending"?"bg-yellow-100 text-yellow-800":G.status==="approved"?"bg-blue-100 text-blue-800":G.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status==="pending"?"Pending":G.status==="approved"?"Approved":G.status==="live"?"Live":G.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["by ",G.sellerName]}),fe&&o.jsxs("div",{className:`flex items-center gap-1 text-xs ${fe.color} font-medium`,children:[o.jsx("span",{children:fe.icon}),o.jsx("span",{children:fe.message}),o.jsx("span",{className:"text-gray-400",children:fe.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},G.id)})})}),$e.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:de?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),o.jsxs("div",{ref:je,className:"desktop-nav-user-section",children:[o.jsxs("button",{onClick:()=>Z(!pe),className:"desktop-nav-user-button mobile-touch-target",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[o.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),de&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),o.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 text-gray-500 transition-transform ${pe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),pe&&o.jsx("div",{className:"mobile-backdrop",onClick:()=>Z(!1),"aria-hidden":"true"}),pe&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 mobile-user-menu",children:[o.jsx("div",{className:"p-4 sm:p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover flex-shrink-0"}):o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.displayName}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")}),de&&o.jsx("span",{className:"inline-block mt-1 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full",children:"Admin"})]})]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),o.jsxs("button",{onClick:()=>{P(!0),V(!1),B(!1),Z(!1)},className:`mobile-user-menu-item ${T?"mobile-user-menu-item-active":"mobile-user-menu-item-default"}`,children:[" ",de?"Analytics Dashboard":"My User History"]}),de&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{V(!0),P(!1),B(!1),Z(!1)},className:`mobile-user-menu-item ${R?"mobile-user-menu-item-active":"mobile-user-menu-item-default"}`,children:" Inventory Dashboard"}),o.jsx("button",{onClick:()=>{B(!0),P(!1),V(!1),Z(!1)},className:`mobile-user-menu-item ${U?"mobile-user-menu-item-active":"mobile-user-menu-item-default"}`,children:" Actions Dashboard"}),o.jsx("button",{onClick:()=>{Ei(),Z(!1)},className:"mobile-user-menu-item mobile-user-menu-item-default",children:" Application Test & Performance"})]}),o.jsx("div",{className:"border-t border-gray-200 my-3 sm:my-2"}),o.jsxs("button",{onClick:()=>{l(),Z(!1)},className:"mobile-user-menu-item mobile-user-menu-item-default",children:[" ",de?"Exit Admin Mode":"Enter Admin Mode"]}),o.jsx("button",{onClick:()=>{i(),Z(!1)},className:"mobile-user-menu-item mobile-user-menu-item-danger",children:"Sign Out"})]})]})]})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8",children:[o.jsxs("div",{ref:Oe,className:"w-full lg:w-64 lg:flex-shrink-0",children:[o.jsxs("button",{onClick:()=>ue(!Zt),className:"w-full lg:hidden mb-4 bg-white rounded-lg shadow-sm border p-4 flex items-center justify-between text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707v4.586a1 1 0 01-1.414.924l-2-1A1 1 0 0110 17.414V13.414a1 1 0 00-.293-.707L3.293 6.293A1 1 0 013 5.586V4z"})}),o.jsx("span",{className:"font-medium text-gray-900",children:"Filters & Search"}),(ne.category||ne.gender||ne.size||ne.brand||ne.color||ne.priceRange||ne.searchQuery)&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Active"})]}),o.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${Zt?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-4 sm:p-6 lg:sticky lg:top-8 ${Zt?"block":"hidden lg:block"}`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Filters"}),o.jsx("button",{onClick:wd,className:"text-sm text-orange-600 hover:text-orange-700",children:"Clear All"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:ne.searchQuery,onChange:G=>pt("searchQuery",G.target.value),placeholder:"Search items...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),ne.searchQuery&&o.jsx("button",{onClick:()=>pt("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ne.searchQuery&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Searching in titles, descriptions, brands, and more"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),o.jsxs("select",{value:ne.sortBy,onChange:G=>pt("sortBy",G.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:ne.category,onChange:G=>pt("category",G.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Categories"}),o.jsx("option",{value:"Climbing",children:"Climbing "}),o.jsx("option",{value:"Skiing",children:"Skiing "}),o.jsx("option",{value:"Hiking",children:"Hiking "}),o.jsx("option",{value:"Camping",children:"Camping "}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering "}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding "}),o.jsx("option",{value:"Cycling",children:"Cycling "}),o.jsx("option",{value:"Water Sports",children:"Water Sports "}),o.jsx("option",{value:"Apparel",children:"Apparel "}),o.jsx("option",{value:"Footwear",children:"Footwear "})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{value:ne.gender,onChange:G=>pt("gender",G.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),o.jsxs("select",{value:ne.size,onChange:G=>pt("size",G.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Sizes"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsx("input",{type:"text",value:ne.brand,onChange:G=>pt("brand",G.target.value),placeholder:"Search brands...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("select",{value:ne.color,onChange:G=>pt("color",G.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Colors"}),o.jsx("option",{value:"Black",children:"Black"}),o.jsx("option",{value:"White",children:"White"}),o.jsx("option",{value:"Gray",children:"Gray"}),o.jsx("option",{value:"Red",children:"Red"}),o.jsx("option",{value:"Blue",children:"Blue"}),o.jsx("option",{value:"Green",children:"Green"}),o.jsx("option",{value:"Yellow",children:"Yellow"}),o.jsx("option",{value:"Orange",children:"Orange"}),o.jsx("option",{value:"Purple",children:"Purple"}),o.jsx("option",{value:"Pink",children:"Pink"}),o.jsx("option",{value:"Brown",children:"Brown"}),o.jsx("option",{value:"Navy",children:"Navy"}),o.jsx("option",{value:"Burgundy",children:"Burgundy"}),o.jsx("option",{value:"Olive",children:"Olive"}),o.jsx("option",{value:"Tan",children:"Tan"}),o.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),o.jsxs("select",{value:ne.priceRange,onChange:G=>pt("priceRange",G.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"Any Price"}),o.jsx("option",{value:"0-25",children:"Under $25"}),o.jsx("option",{value:"25-50",children:"$25 - $50"}),o.jsx("option",{value:"50-100",children:"$50 - $100"}),o.jsx("option",{value:"100-200",children:"$100 - $200"}),o.jsx("option",{value:"200-500",children:"$200 - $500"}),o.jsx("option",{value:"500",children:"$500+"})]})]})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Gear"}),o.jsx("p",{className:"text-gray-600",children:"Quality mountain equipment from fellow outdoor enthusiasts"})]}),o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:ne.searchQuery,onChange:G=>pt("searchQuery",G.target.value),placeholder:"Search gear...",className:"w-full pl-10 pr-10 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white shadow-sm"}),ne.searchQuery&&o.jsx("button",{onClick:()=>pt("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-6 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),o.jsx("span",{className:"font-medium",children:"Sort by:"})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:[{key:"newest",label:"Newest",desc:"Recently added",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{key:"popular",label:"Popular",desc:"Trending items",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{key:"price-low",label:"Price ",desc:"Low to high",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"price-high",label:"Price ",desc:"High to low",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"alphabetical",label:"A-Z",desc:"Alphabetical",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})},{key:"category",label:"Category",desc:"By type",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}].map(G=>o.jsxs("button",{onClick:()=>pt("sortBy",G.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${ne.sortBy===G.key?"bg-orange-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,title:G.desc,children:[G.icon,G.label]},G.key))}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),o.jsxs("span",{children:[f.length," items"]})]}),xa().length!==f.length&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),o.jsxs("span",{children:[xa().length," filtered"]})]})]})]})})]}),Y?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):(()=>{const G=xa();return G.length===0?o.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:f.length===0?"No items available yet":ne.searchQuery?`No results found for "${ne.searchQuery}"`:"No items match your filters"}),o.jsx("p",{className:"text-gray-500 mb-6",children:f.length===0?"Be the first to list your mountain gear!":ne.searchQuery?"Try different keywords or check your spelling":"Try adjusting your search criteria"}),f.length===0?o.jsx("button",{onClick:Ke,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"List Your First Item"}):o.jsx("button",{onClick:wd,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Clear Filters"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("div",{className:"text-sm text-gray-600",children:ne.searchQuery?o.jsxs("span",{children:["Found ",o.jsx("span",{className:"font-semibold",children:G.length})," results",G.length!==f.length&&o.jsxs("span",{children:[" of ",f.length," total items"]}),ne.searchQuery&&o.jsxs("span",{children:[' for "',o.jsx("span",{className:"font-medium text-gray-900",children:ne.searchQuery}),'"']})]}):o.jsxs("span",{children:["Showing ",G.length," of ",f.length," items"]})}),ne.searchQuery&&o.jsxs("button",{onClick:()=>pt("searchQuery",""),className:"text-xs text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear search"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:G.map(fe=>o.jsx(hJ,{item:fe,isAdmin:de,onClick:br},fe.id))})]})})()]})]})})]}),(T||R||U)&&o.jsx("div",{className:"fixed inset-0 bg-white z-[60] overflow-auto",children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"desktop-nav-header",children:o.jsx("div",{className:"desktop-nav-container",children:o.jsxs("div",{className:"desktop-nav-content",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),o.jsxs("div",{className:"desktop-nav-actions",children:[o.jsx("div",{className:"desktop-nav-buttons",children:o.jsxs("button",{onClick:()=>{P(!1),V(!1),B(!1)},className:"bg-gray-500 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm sm:text-base flex-shrink-0",children:[o.jsx("span",{className:"hidden sm:inline",children:"Back to Store"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]})}),o.jsxs("div",{className:"desktop-nav-icons",children:[!de&&o.jsxs("button",{onClick:()=>te(!0),className:"desktop-icon-button",title:"Bookmarked Items",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:u()>9?"9+":u()})]}),!de&&o.jsxs("button",{onClick:()=>z(!0),className:"desktop-icon-button",title:"Shopping Cart",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),c()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:c()>9?"9+":c()})]}),o.jsxs("div",{ref:Re,className:"relative",children:[o.jsxs("button",{onClick:()=>ve(!ae),className:"desktop-icon-button",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),$e.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:$e.length>9?"9+":$e.length})]}),ae&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:de?"Platform Activity":"My Item Updates"}),o.jsx("p",{className:"text-xs text-gray-500",children:de?"All item activity in the last 24 hours":"Your items with recent activity"})]}),o.jsx("div",{className:"max-h-72 overflow-y-auto",children:$e.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("p",{className:"text-sm",children:de?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:$e.map(G=>{const fe=bd(G);return o.jsx("button",{onClick:()=>br(G),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:o.jsxs("div",{className:"flex items-start gap-3",children:[G.images&&G.images.length>0?o.jsx("img",{src:G.images[0],alt:G.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):o.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:G.title}),o.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",G.price]})]}),o.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${G.status==="pending"?"bg-yellow-100 text-yellow-800":G.status==="approved"?"bg-blue-100 text-blue-800":G.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status==="pending"?"Pending":G.status==="approved"?"Approved":G.status==="live"?"Live":G.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["by ",G.sellerName]}),fe&&o.jsxs("div",{className:`flex items-center gap-1 text-xs ${fe.color} font-medium`,children:[o.jsx("span",{children:fe.icon}),o.jsx("span",{children:fe.message}),o.jsx("span",{className:"text-gray-400",children:fe.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},G.id)})})}),$e.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:de?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),o.jsxs("div",{ref:je,className:"relative flex items-center gap-2 sm:gap-3 pl-2 sm:pl-4 border-l border-gray-200 flex-shrink-0",children:[o.jsxs("button",{onClick:()=>Z(!pe),className:`flex items-center gap-2 sm:gap-3 hover:bg-gray-50 active:bg-gray-100 rounded-lg p-2 sm:p-2 transition-colors touch-manipulation
                                                    /* Ensure minimum touch target size on mobile */
                                                    min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0`,children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[o.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),de&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),o.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 text-gray-500 transition-transform ${pe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),pe&&o.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-25 sm:hidden",onClick:()=>Z(!1),"aria-hidden":"true"}),pe&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[80vh] overflow-y-auto max-w-[calc(100vw-2rem)] overflow-x-hidden shadow-xl sm:shadow-lg transform transition-all duration-200 ease-out opacity-100 scale-100 translate-y-0",children:[o.jsx("div",{className:"p-4 sm:p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover flex-shrink-0"}):o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.displayName}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")}),de&&o.jsx("span",{className:"inline-block mt-1 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full",children:"Admin"})]})]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),o.jsxs("button",{onClick:()=>{P(!0),V(!1),B(!1),Z(!1)},className:`w-full text-left px-3 py-3 sm:py-2 text-sm rounded-lg transition-colors touch-manipulation ${T?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50 active:bg-gray-100"}`,children:[" ",de?"Analytics Dashboard":"My User History"]}),de&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{V(!0),P(!1),B(!1),Z(!1)},className:`w-full text-left px-3 py-3 sm:py-2 text-sm rounded-lg transition-colors touch-manipulation ${R?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50 active:bg-gray-100"}`,children:" Inventory Dashboard"}),o.jsx("button",{onClick:()=>{B(!0),P(!1),V(!1),Z(!1)},className:`w-full text-left px-3 py-3 sm:py-2 text-sm rounded-lg transition-colors touch-manipulation ${U?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50 active:bg-gray-100"}`,children:" Actions Dashboard"}),o.jsx("button",{onClick:()=>{Ei(),Z(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:" Application Test & Performance"})]}),o.jsx("div",{className:"border-t border-gray-200 my-3 sm:my-2"}),o.jsxs("button",{onClick:()=>{l(),Z(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:[" ",de?"Exit Admin Mode":"Enter Admin Mode"]}),o.jsx("button",{onClick:()=>{i(),Z(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-red-600 hover:bg-red-50 active:bg-red-100 rounded-lg transition-colors touch-manipulation",children:"Sign Out"})]})]})]})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:R?o.jsx(Jke,{user:t,isAdmin:de}):U?o.jsx(iIe,{user:t,isAdmin:de}):de?o.jsx(Qke,{user:t,isAdmin:de}):o.jsx(Zke,{user:t})})]})}),o.jsx(pJ,{isOpen:m,onClose:Cn,user:t}),de&&o.jsxs(o.Fragment,{children:[o.jsx(yae,{isOpen:g,onClose:un,user:t}),o.jsx(xae,{isOpen:b,onClose:ii,user:t}),o.jsx(bae,{isOpen:A,onClose:va})]}),o.jsx(PC,{isOpen:Ae,onClose:()=>ge(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async G=>{await r(G)}}),o.jsx(lj,{isOpen:F,onClose:Bp,item:Bt,onItemUpdated:()=>{Ve(),Ce(),_t()}}),o.jsx(_ae,{isOpen:L,onClose:()=>z(!1),onCheckout:Gl}),o.jsx(Aae,{isOpen:q,onClose:()=>te(!1),items:f,onItemClick:br}),o.jsx(cse,{isOpen:ee,onClose:Up,onSuccess:Eo}),M&&o.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Order Successful!"}),o.jsx("p",{className:"text-sm opacity-90",children:"Thank you for your purchase. You'll receive a confirmation email soon."})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[o.jsx("nav",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-300",children:"Mountain Consignment Store"})]})]}),o.jsxs("button",{onClick:()=>ge(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors flex items-center gap-2",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign In"]})]})})}),o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-blue-900/70 z-10"}),o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-blue-900"}),o.jsx("svg",{className:"absolute bottom-0 w-full h-64 text-slate-700",fill:"currentColor",viewBox:"0 0 1200 300",children:o.jsx("path",{d:"M0,300 L0,200 L100,150 L200,100 L300,120 L400,80 L500,90 L600,50 L700,70 L800,40 L900,60 L1000,30 L1100,50 L1200,20 L1200,300 Z"})})]}),o.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Premium Mountain",o.jsx("span",{className:"block text-orange-400",children:"Gear Exchange"})]}),o.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Buy and sell quality outdoor equipment. From climbing gear to skiing essentials, find everything you need for your next mountain adventure."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>ge(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Enter Store"]}),o.jsx("button",{onClick:()=>ge(!0),className:"border-2 border-orange-400 text-orange-400 hover:bg-orange-400 hover:text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Selling"})]})]})})]}),o.jsx("div",{className:"py-24 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Choose Summit Gear Exchange?"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"The trusted marketplace for mountain enthusiasts"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quality Guaranteed"}),o.jsx("p",{className:"text-gray-400",children:"Every item is inspected by our mountain gear experts before listing"})]}),o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Fair Pricing"}),o.jsx("p",{className:"text-gray-400",children:"Competitive prices for both buyers and sellers in the outdoor community"})]}),o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Community Focused"}),o.jsx("p",{className:"text-gray-400",children:"Built by climbers, for climbers. Join our community of mountain enthusiasts"})]})]})]})}),o.jsx("div",{className:"py-24 bg-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Popular Categories"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Find gear for every mountain adventure"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{name:"Climbing",icon:"",color:"from-red-500 to-orange-500"},{name:"Skiing",icon:"",color:"from-blue-500 to-cyan-500"},{name:"Hiking",icon:"",color:"from-green-500 to-emerald-500"},{name:"Camping",icon:"",color:"from-purple-500 to-pink-500"},{name:"Mountaineering",icon:"",color:"from-gray-500 to-slate-500"},{name:"Snowboarding",icon:"",color:"from-indigo-500 to-blue-500"},{name:"Cycling",icon:"",color:"from-yellow-500 to-orange-500"},{name:"Water Sports",icon:"",color:"from-teal-500 to-cyan-500"}].map((G,fe)=>o.jsxs("div",{className:`bg-gradient-to-br ${G.color} rounded-xl p-6 text-center cursor-pointer hover:scale-105 transition-transform`,children:[o.jsx("div",{className:"text-4xl mb-3",children:G.icon}),o.jsx("h3",{className:"text-white font-semibold",children:G.name})]},fe))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx("button",{onClick:()=>ge(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Sign In to Browse All Items"})})]})}),o.jsx("div",{className:"py-24 bg-gradient-to-r from-orange-600 to-orange-500",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Gear Up?"}),o.jsx("p",{className:"text-xl text-orange-100 mb-8",children:"Join thousands of mountain enthusiasts buying and selling quality gear"}),o.jsxs("button",{onClick:()=>ge(!0),className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2 mx-auto",children:[o.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Get Started Now"]})]})}),o.jsx(PC,{isOpen:Ae,onClose:()=>ge(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async G=>{await r(G)}})]})};function sIe(){return o.jsx(fJ,{children:o.jsx(kF,{children:o.jsx("div",{className:"min-h-screen bg-gray-100",children:o.jsx(oF,{children:o.jsx(WD,{path:"/",element:o.jsx(aIe,{})})})})})})}sz.createRoot(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(sIe,{})}));
