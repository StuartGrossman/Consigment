(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DR={exports:{}},uy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oU=Symbol.for("react.transitional.element"),lU=Symbol.for("react.fragment");function $R(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:oU,type:t,key:r,ref:e!==void 0?e:null,props:n}}uy.Fragment=lU;uy.jsx=$R;uy.jsxs=$R;DR.exports=uy;var o=DR.exports,LR={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=Symbol.for("react.transitional.element"),cU=Symbol.for("react.portal"),uU=Symbol.for("react.fragment"),dU=Symbol.for("react.strict_mode"),fU=Symbol.for("react.profiler"),hU=Symbol.for("react.consumer"),pU=Symbol.for("react.context"),mU=Symbol.for("react.forward_ref"),gU=Symbol.for("react.suspense"),vU=Symbol.for("react.memo"),BR=Symbol.for("react.lazy"),Gj=Symbol.iterator;function yU(t){return t===null||typeof t!="object"?null:(t=Gj&&t[Gj]||t["@@iterator"],typeof t=="function"?t:null)}var UR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VR=Object.assign,zR={};function Iu(t,e,n){this.props=t,this.context=e,this.refs=zR,this.updater=n||UR}Iu.prototype.isReactComponent={};Iu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Iu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FR(){}FR.prototype=Iu.prototype;function uA(t,e,n){this.props=t,this.context=e,this.refs=zR,this.updater=n||UR}var dA=uA.prototype=new FR;dA.constructor=uA;VR(dA,Iu.prototype);dA.isPureReactComponent=!0;var Wj=Array.isArray,kt={H:null,A:null,T:null,S:null,V:null},HR=Object.prototype.hasOwnProperty;function fA(t,e,n,r,i,a){return n=a.ref,{$$typeof:cA,type:t,key:e,ref:n!==void 0?n:null,props:a}}function xU(t,e){return fA(t.type,e,void 0,void 0,void 0,t.props)}function hA(t){return typeof t=="object"&&t!==null&&t.$$typeof===cA}function bU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kj=/\/+/g;function Ax(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bU(""+t.key):e.toString(36)}function Xj(){}function _U(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Xj,Xj):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Kl(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case cA:case cU:s=!0;break;case BR:return s=t._init,Kl(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Ax(t,0):r,Wj(i)?(n="",s!=null&&(n=s.replace(Kj,"$&/")+"/"),Kl(i,e,n,"",function(u){return u})):i!=null&&(hA(i)&&(i=xU(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Kj,"$&/")+"/")+s)),e.push(i)),1;s=0;var l=r===""?".":r+":";if(Wj(t))for(var c=0;c<t.length;c++)r=t[c],a=l+Ax(r,c),s+=Kl(r,e,n,a,i);else if(c=yU(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,a=l+Ax(r,c++),s+=Kl(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Kl(_U(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function qp(t,e,n){if(t==null)return t;var r=[],i=0;return Kl(t,r,"","",function(a){return e.call(n,a,i++)}),r}function wU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yj=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function AU(){}Le.Children={map:qp,forEach:function(t,e,n){qp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qp(t,function(){e++}),e},toArray:function(t){return qp(t,function(e){return e})||[]},only:function(t){if(!hA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Iu;Le.Fragment=uU;Le.Profiler=fU;Le.PureComponent=uA;Le.StrictMode=dU;Le.Suspense=gU;Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;Le.__COMPILER_RUNTIME={__proto__:null,c:function(t){return kt.H.useMemoCache(t)}};Le.cache=function(t){return function(){return t.apply(null,arguments)}};Le.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=VR({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!HR.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}return fA(t.type,i,void 0,void 0,a,r)};Le.createContext=function(t){return t={$$typeof:pU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:hU,_context:t},t};Le.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)HR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return fA(t,a,void 0,void 0,null,i)};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:mU,render:t}};Le.isValidElement=hA;Le.lazy=function(t){return{$$typeof:BR,_payload:{_status:-1,_result:t},_init:wU}};Le.memo=function(t,e){return{$$typeof:vU,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=kt.T,n={};kt.T=n;try{var r=t(),i=kt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(AU,Yj)}catch(a){Yj(a)}finally{kt.T=e}};Le.unstable_useCacheRefresh=function(){return kt.H.useCacheRefresh()};Le.use=function(t){return kt.H.use(t)};Le.useActionState=function(t,e,n){return kt.H.useActionState(t,e,n)};Le.useCallback=function(t,e){return kt.H.useCallback(t,e)};Le.useContext=function(t){return kt.H.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t,e){return kt.H.useDeferredValue(t,e)};Le.useEffect=function(t,e,n){var r=kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Le.useId=function(){return kt.H.useId()};Le.useImperativeHandle=function(t,e,n){return kt.H.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return kt.H.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return kt.H.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return kt.H.useMemo(t,e)};Le.useOptimistic=function(t,e){return kt.H.useOptimistic(t,e)};Le.useReducer=function(t,e,n){return kt.H.useReducer(t,e,n)};Le.useRef=function(t){return kt.H.useRef(t)};Le.useState=function(t){return kt.H.useState(t)};Le.useSyncExternalStore=function(t,e,n){return kt.H.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return kt.H.useTransition()};Le.version="19.1.0";LR.exports=Le;var k=LR.exports;const D=it(k);var qR={exports:{}},dy={},GR={exports:{}},WR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,L){var U=B.length;B.push(L);e:for(;0<U;){var W=U-1>>>1,G=B[W];if(0<i(G,L))B[W]=L,B[U]=G,U=W;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var L=B[0],U=B.pop();if(U!==L){B[0]=U;e:for(var W=0,G=B.length,te=G>>>1;W<te;){var F=2*(W+1)-1,$=B[F],X=F+1,Z=B[X];if(0>i($,U))X<G&&0>i(Z,$)?(B[W]=Z,B[X]=U,W=X):(B[W]=$,B[F]=U,W=F);else if(X<G&&0>i(Z,U))B[W]=Z,B[X]=U,W=X;else break e}}return L}function i(B,L){var U=B.sortIndex-L.sortIndex;return U!==0?U:B.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,y=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function j(B){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=B)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function w(B){if(y=!1,j(B),!v)if(n(c)!==null)v=!0,T||(T=!0,R());else{var L=n(u);L!==null&&V(w,L.startTime-B)}}var T=!1,S=-1,A=5,N=-1;function I(){return b?!0:!(t.unstable_now()-N<A)}function C(){if(b=!1,T){var B=t.unstable_now();N=B;var L=!0;try{e:{v=!1,y&&(y=!1,x(S),S=-1),m=!0;var U=h;try{t:{for(j(B),f=n(c);f!==null&&!(f.expirationTime>B&&I());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=B);if(B=t.unstable_now(),typeof G=="function"){f.callback=G,j(B),L=!0;break t}f===n(c)&&r(c),j(B)}else r(c);f=n(c)}if(f!==null)L=!0;else{var te=n(u);te!==null&&V(w,te.startTime-B),L=!1}}break e}finally{f=null,h=U,m=!1}L=void 0}}finally{L?R():T=!1}}}var R;if(typeof g=="function")R=function(){g(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,z=P.port2;P.port1.onmessage=C,R=function(){z.postMessage(null)}}else R=function(){_(C,0)};function V(B,L){S=_(function(){B(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return B()}finally{h=U}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=h;h=B;try{return L()}finally{h=U}},t.unstable_scheduleCallback=function(B,L,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,B={id:d++,callback:L,priorityLevel:B,startTime:U,expirationTime:G,sortIndex:-1},U>W?(B.sortIndex=U,e(u,B),n(c)===null&&B===n(u)&&(y?(x(S),S=-1):y=!0,V(w,U-W))):(B.sortIndex=G,e(c,B),v||m||(v=!0,T||(T=!0,R()))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var L=h;return function(){var U=h;h=L;try{return B.apply(this,arguments)}finally{h=U}}}})(WR);GR.exports=WR;var SU=GR.exports,KR={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EU=k;function XR(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function is(){}var ir={d:{f:is,r:function(){throw Error(XR(522))},D:is,C:is,L:is,m:is,X:is,S:is,M:is},p:0,findDOMNode:null},jU=Symbol.for("react.portal");function TU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jU,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var tf=EU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ir;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(XR(299));return TU(t,e,null,n)};lr.flushSync=function(t){var e=tf.T,n=ir.p;try{if(tf.T=null,ir.p=2,t)return t()}finally{tf.T=e,ir.p=n,ir.d.f()}};lr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ir.d.C(t,e))};lr.prefetchDNS=function(t){typeof t=="string"&&ir.d.D(t)};lr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=fy(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ir.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&ir.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};lr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=fy(e.as,e.crossOrigin);ir.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ir.d.M(t)};lr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=fy(n,e.crossOrigin);ir.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};lr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=fy(e.as,e.crossOrigin);ir.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ir.d.m(t)};lr.requestFormReset=function(t){ir.d.r(t)};lr.unstable_batchedUpdates=function(t,e){return t(e)};lr.useFormState=function(t,e,n){return tf.H.useFormState(t,e,n)};lr.useFormStatus=function(){return tf.H.useHostTransitionStatus()};lr.version="19.1.0";function YR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YR)}catch(t){console.error(t)}}YR(),KR.exports=lr;var NU=KR.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pn=SU,QR=k,OU=NU;function ae(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ZR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qj(t){if(Bh(t)!==t)throw Error(ae(188))}function CU(t){var e=t.alternate;if(!e){if(e=Bh(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qj(i),t;if(a===r)return Qj(i),e;a=a.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function eM(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=eM(t),e!==null)return e;t=t.sibling}return null}var Nt=Object.assign,IU=Symbol.for("react.element"),Gp=Symbol.for("react.transitional.element"),qd=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),kU=Symbol.for("react.provider"),nM=Symbol.for("react.consumer"),ba=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),mA=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),s1=Symbol.for("react.activity"),PU=Symbol.for("react.memo_cache_sentinel"),Zj=Symbol.iterator;function bd(t){return t===null||typeof t!="object"?null:(t=Zj&&t[Zj]||t["@@iterator"],typeof t=="function"?t:null)}var RU=Symbol.for("react.client.reference");function o1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===RU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nc:return"Fragment";case r1:return"Profiler";case tM:return"StrictMode";case i1:return"Suspense";case a1:return"SuspenseList";case s1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case qd:return"Portal";case ba:return(t.displayName||"Context")+".Provider";case nM:return(t._context.displayName||"Context")+".Consumer";case pA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mA:return e=t.displayName||null,e!==null?e:o1(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return o1(t(e))}catch{}}return null}var Gd=Array.isArray,Ie=QR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=OU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Uo={pending:!1,data:null,method:null,action:null},l1=[],rc=-1;function ia(t){return{current:t}}function En(t){0>rc||(t.current=l1[rc],l1[rc]=null,rc--)}function Pt(t,e){rc++,l1[rc]=t.current,t.current=e}var qi=ia(null),kf=ia(null),Ns=ia(null),cg=ia(null);function ug(t,e){switch(Pt(Ns,e),Pt(kf,t),Pt(qi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?rN(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=rN(e),t=x4(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}En(qi),Pt(qi,t)}function Dc(){En(qi),En(kf),En(Ns)}function c1(t){t.memoizedState!==null&&Pt(cg,t);var e=qi.current,n=x4(e,t.type);e!==n&&(Pt(kf,t),Pt(qi,n))}function dg(t){kf.current===t&&(En(qi),En(kf)),cg.current===t&&(En(cg),zf._currentValue=Uo)}var u1=Object.prototype.hasOwnProperty,gA=pn.unstable_scheduleCallback,Sx=pn.unstable_cancelCallback,MU=pn.unstable_shouldYield,DU=pn.unstable_requestPaint,Gi=pn.unstable_now,$U=pn.unstable_getCurrentPriorityLevel,rM=pn.unstable_ImmediatePriority,iM=pn.unstable_UserBlockingPriority,fg=pn.unstable_NormalPriority,LU=pn.unstable_LowPriority,aM=pn.unstable_IdlePriority,BU=pn.log,UU=pn.unstable_setDisableYieldValue,Uh=null,Lr=null;function _s(t){if(typeof BU=="function"&&UU(t),Lr&&typeof Lr.setStrictMode=="function")try{Lr.setStrictMode(Uh,t)}catch{}}var Br=Math.clz32?Math.clz32:FU,VU=Math.log,zU=Math.LN2;function FU(t){return t>>>=0,t===0?32:31-(VU(t)/zU|0)|0}var Wp=256,Kp=4194304;function So(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hy(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=r&134217727;return l!==0?(r=l&~a,r!==0?i=So(r):(s&=l,s!==0?i=So(s):n||(n=l&~t,n!==0&&(i=So(n))))):(l=r&~a,l!==0?i=So(l):s!==0?i=So(s):n||(n=r&~t,n!==0&&(i=So(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Vh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function HU(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sM(){var t=Wp;return Wp<<=1,!(Wp&4194048)&&(Wp=256),t}function oM(){var t=Kp;return Kp<<=1,!(Kp&62914560)&&(Kp=4194304),t}function Ex(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qU(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Br(n),f=1<<d;l[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&lM(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function lM(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Br(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function cM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function vA(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yA(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function uM(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:O4(t.type))}function GU(t,e){var n=tt.p;try{return tt.p=t,e()}finally{tt.p=n}}var to=Math.random().toString(36).slice(2),Xn="__reactFiber$"+to,br="__reactProps$"+to,ku="__reactContainer$"+to,d1="__reactEvents$"+to,WU="__reactListeners$"+to,KU="__reactHandles$"+to,Jj="__reactResources$"+to,Fh="__reactMarker$"+to;function xA(t){delete t[Xn],delete t[br],delete t[d1],delete t[WU],delete t[KU]}function ic(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ku]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sN(t);t!==null;){if(n=t[Xn])return n;t=sN(t)}return e}t=n,n=t.parentNode}return null}function Pu(t){if(t=t[Xn]||t[ku]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Wd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ae(33))}function bc(t){var e=t[Jj];return e||(e=t[Jj]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function wn(t){t[Fh]=!0}var dM=new Set,fM={};function gl(t,e){$c(t,e),$c(t+"Capture",e)}function $c(t,e){for(fM[t]=e,t=0;t<e.length;t++)dM.add(e[t])}var XU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eT={},tT={};function YU(t){return u1.call(tT,t)?!0:u1.call(eT,t)?!1:XU.test(t)?tT[t]=!0:(eT[t]=!0,!1)}function Dm(t,e,n){if(YU(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Xp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ha(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var jx,nT;function Xl(t){if(jx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jx=e&&e[1]||"",nT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jx+t+nT}var Tx=!1;function Nx(t,e){if(!t||Tx)return"";Tx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var c=s.split(`
`),u=l.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{Tx=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Xl(n):""}function QU(t){switch(t.tag){case 26:case 27:case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 15:return Nx(t.type,!1);case 11:return Nx(t.type.render,!1);case 1:return Nx(t.type,!0);case 31:return Xl("Activity");default:return""}}function rT(t){try{var e="";do e+=QU(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Yr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZU(t){var e=hM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hg(t){t._valueTracker||(t._valueTracker=ZU(t))}function pM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var JU=/[\n"\\]/g;function Jr(t){return t.replace(JU,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function f1(t,e,n,r,i,a,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Yr(e)):t.value!==""+Yr(e)&&(t.value=""+Yr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?h1(t,s,Yr(e)):n!=null?h1(t,s,Yr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Yr(l):t.removeAttribute("name")}function mM(t,e,n,r,i,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Yr(n):"",e=e!=null?""+Yr(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=l?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function h1(t,e,n){e==="number"&&pg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function _c(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gM(t,e,n){if(e!=null&&(e=""+Yr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Yr(n):""}function vM(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(ae(92));if(Gd(r)){if(1<r.length)throw Error(ae(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Yr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Lc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eV=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||eV.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function yM(t,e,n){if(e!=null&&typeof e!="object")throw Error(ae(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&iT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&iT(t,a,e[a])}function bA(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tV=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nV=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $m(t){return nV.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var p1=null;function _A(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ac=null,wc=null;function aT(t){var e=Pu(t);if(e&&(t=e.stateNode)){var n=t[br]||null;e:switch(t=e.stateNode,e.type){case"input":if(f1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[br]||null;if(!i)throw Error(ae(90));f1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&pM(r)}break e;case"textarea":gM(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&_c(t,!!n.multiple,e,!1)}}}var Ox=!1;function xM(t,e,n){if(Ox)return t(e,n);Ox=!0;try{var r=t(e);return r}finally{if(Ox=!1,(ac!==null||wc!==null)&&(Ay(),ac&&(e=ac,t=wc,wc=ac=null,aT(e),t)))for(e=0;e<t.length;e++)aT(t[e])}}function Pf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[br]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var $a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m1=!1;if($a)try{var _d={};Object.defineProperty(_d,"passive",{get:function(){m1=!0}}),window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{m1=!1}var ws=null,wA=null,Lm=null;function bM(){if(Lm)return Lm;var t,e=wA,n=e.length,r,i="value"in ws?ws.value:ws.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Lm=i.slice(t,1<r?1-r:void 0)}function Bm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yp(){return!0}function sT(){return!1}function _r(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yp:sT,this.isPropagationStopped=sT,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yp)},persist:function(){},isPersistent:Yp}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},py=_r(vl),Hh=Nt({},vl,{view:0,detail:0}),rV=_r(Hh),Cx,Ix,wd,my=Nt({},Hh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wd&&(wd&&t.type==="mousemove"?(Cx=t.screenX-wd.screenX,Ix=t.screenY-wd.screenY):Ix=Cx=0,wd=t),Cx)},movementY:function(t){return"movementY"in t?t.movementY:Ix}}),oT=_r(my),iV=Nt({},my,{dataTransfer:0}),aV=_r(iV),sV=Nt({},Hh,{relatedTarget:0}),kx=_r(sV),oV=Nt({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),lV=_r(oV),cV=Nt({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uV=_r(cV),dV=Nt({},vl,{data:0}),lT=_r(dV),fV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pV[t])?!!e[t]:!1}function AA(){return mV}var gV=Nt({},Hh,{key:function(t){if(t.key){var e=fV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AA,charCode:function(t){return t.type==="keypress"?Bm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vV=_r(gV),yV=Nt({},my,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cT=_r(yV),xV=Nt({},Hh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AA}),bV=_r(xV),_V=Nt({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wV=_r(_V),AV=Nt({},my,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SV=_r(AV),EV=Nt({},vl,{newState:0,oldState:0}),jV=_r(EV),TV=[9,13,27,32],SA=$a&&"CompositionEvent"in window,nf=null;$a&&"documentMode"in document&&(nf=document.documentMode);var NV=$a&&"TextEvent"in window&&!nf,_M=$a&&(!SA||nf&&8<nf&&11>=nf),uT=" ",dT=!1;function wM(t,e){switch(t){case"keyup":return TV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sc=!1;function OV(t,e){switch(t){case"compositionend":return AM(e);case"keypress":return e.which!==32?null:(dT=!0,uT);case"textInput":return t=e.data,t===uT&&dT?null:t;default:return null}}function CV(t,e){if(sc)return t==="compositionend"||!SA&&wM(t,e)?(t=bM(),Lm=wA=ws=null,sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _M&&e.locale!=="ko"?null:e.data;default:return null}}var IV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IV[t.type]:e==="textarea"}function SM(t,e,n,r){ac?wc?wc.push(r):wc=[r]:ac=r,e=kg(e,"onChange"),0<e.length&&(n=new py("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rf=null,Rf=null;function kV(t){g4(t,0)}function gy(t){var e=Wd(t);if(pM(e))return t}function hT(t,e){if(t==="change")return e}var EM=!1;if($a){var Px;if($a){var Rx="oninput"in document;if(!Rx){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),Rx=typeof pT.oninput=="function"}Px=Rx}else Px=!1;EM=Px&&(!document.documentMode||9<document.documentMode)}function mT(){rf&&(rf.detachEvent("onpropertychange",jM),Rf=rf=null)}function jM(t){if(t.propertyName==="value"&&gy(Rf)){var e=[];SM(e,Rf,t,_A(t)),xM(kV,e)}}function PV(t,e,n){t==="focusin"?(mT(),rf=e,Rf=n,rf.attachEvent("onpropertychange",jM)):t==="focusout"&&mT()}function RV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gy(Rf)}function MV(t,e){if(t==="click")return gy(e)}function DV(t,e){if(t==="input"||t==="change")return gy(e)}function $V(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:$V;function Mf(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u1.call(e,i)||!Gr(t[i],e[i]))return!1}return!0}function gT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vT(t,e){var n=gT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gT(n)}}function TM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NM(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=pg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pg(t.document)}return e}function EA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var LV=$a&&"documentMode"in document&&11>=document.documentMode,oc=null,g1=null,af=null,v1=!1;function yT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v1||oc==null||oc!==pg(r)||(r=oc,"selectionStart"in r&&EA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),af&&Mf(af,r)||(af=r,r=kg(g1,"onSelect"),0<r.length&&(e=new py("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oc)))}function bo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lc={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionrun:bo("Transition","TransitionRun"),transitionstart:bo("Transition","TransitionStart"),transitioncancel:bo("Transition","TransitionCancel"),transitionend:bo("Transition","TransitionEnd")},Mx={},OM={};$a&&(OM=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function yl(t){if(Mx[t])return Mx[t];if(!lc[t])return t;var e=lc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OM)return Mx[t]=e[n];return t}var CM=yl("animationend"),IM=yl("animationiteration"),kM=yl("animationstart"),BV=yl("transitionrun"),UV=yl("transitionstart"),VV=yl("transitioncancel"),PM=yl("transitionend"),RM=new Map,y1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y1.push("scrollEnd");function ki(t,e){RM.set(t,e),gl(e,[t])}var xT=new WeakMap;function ei(t,e){if(typeof t=="object"&&t!==null){var n=xT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:rT(e)},xT.set(t,e),e)}return{value:t,source:e,stack:rT(e)}}var Xr=[],cc=0,jA=0;function vy(){for(var t=cc,e=jA=cc=0;e<t;){var n=Xr[e];Xr[e++]=null;var r=Xr[e];Xr[e++]=null;var i=Xr[e];Xr[e++]=null;var a=Xr[e];if(Xr[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&MM(n,i,a)}}function yy(t,e,n,r){Xr[cc++]=t,Xr[cc++]=e,Xr[cc++]=n,Xr[cc++]=r,jA|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function TA(t,e,n,r){return yy(t,e,n,r),mg(t)}function Ru(t,e){return yy(t,null,null,e),mg(t)}function MM(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Br(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function mg(t){if(50<mf)throw mf=0,B1=null,Error(ae(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var uc={};function zV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new zV(t,e,n,r)}function NA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ca(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function DM(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Um(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")NA(t)&&(s=1);else if(typeof t=="string")s=H7(t,n,qi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case s1:return t=Pr(31,n,e,i),t.elementType=s1,t.lanes=a,t;case nc:return Vo(n.children,i,a,e);case tM:s=8,i|=24;break;case r1:return t=Pr(12,n,e,i|2),t.elementType=r1,t.lanes=a,t;case i1:return t=Pr(13,n,e,i),t.elementType=i1,t.lanes=a,t;case a1:return t=Pr(19,n,e,i),t.elementType=a1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kU:case ba:s=10;break e;case nM:s=9;break e;case pA:s=11;break e;case mA:s=14;break e;case cs:s=16,r=null;break e}s=29,n=Error(ae(130,t===null?"null":typeof t,"")),r=null}return e=Pr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Vo(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Dx(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function $x(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var dc=[],fc=0,gg=null,vg=0,Qr=[],Zr=0,zo=null,_a=1,wa="";function Eo(t,e){dc[fc++]=vg,dc[fc++]=gg,gg=t,vg=e}function $M(t,e,n){Qr[Zr++]=_a,Qr[Zr++]=wa,Qr[Zr++]=zo,zo=t;var r=_a;t=wa;var i=32-Br(r)-1;r&=~(1<<i),n+=1;var a=32-Br(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_a=1<<32-Br(e)+i|n<<i|r,wa=a+t}else _a=1<<a|n<<i|r,wa=t}function OA(t){t.return!==null&&(Eo(t,1),$M(t,1,0))}function CA(t){for(;t===gg;)gg=dc[--fc],dc[fc]=null,vg=dc[--fc],dc[fc]=null;for(;t===zo;)zo=Qr[--Zr],Qr[Zr]=null,wa=Qr[--Zr],Qr[Zr]=null,_a=Qr[--Zr],Qr[Zr]=null}var rr=null,zt=null,et=!1,Fo=null,Bi=!1,x1=Error(ae(519));function Jo(t){var e=Error(ae(418,""));throw Df(ei(e,t)),x1}function bT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Xn]=t,e[br]=r,n){case"dialog":ze("cancel",e),ze("close",e);break;case"iframe":case"object":case"embed":ze("load",e);break;case"video":case"audio":for(n=0;n<Bf.length;n++)ze(Bf[n],e);break;case"source":ze("error",e);break;case"img":case"image":case"link":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"input":ze("invalid",e),mM(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),hg(e);break;case"select":ze("invalid",e);break;case"textarea":ze("invalid",e),vM(e,r.value,r.defaultValue,r.children),hg(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||y4(e.textContent,n)?(r.popover!=null&&(ze("beforetoggle",e),ze("toggle",e)),r.onScroll!=null&&ze("scroll",e),r.onScrollEnd!=null&&ze("scrollend",e),r.onClick!=null&&(e.onclick=jy),e=!0):e=!1,e||Jo(t)}function _T(t){for(rr=t.return;rr;)switch(rr.tag){case 5:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:rr=rr.return}}function Ad(t){if(t!==rr)return!1;if(!et)return _T(t),et=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||q1(t.type,t.memoizedProps)),n=!n),n&&zt&&Jo(t),_T(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){zt=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}zt=null}}else e===27?(e=zt,no(t.type)?(t=K1,K1=null,zt=t):zt=e):zt=rr?Si(t.stateNode.nextSibling):null;return!0}function qh(){zt=rr=null,et=!1}function wT(){var t=Fo;return t!==null&&(fr===null?fr=t:fr.push.apply(fr,t),Fo=null),t}function Df(t){Fo===null?Fo=[t]:Fo.push(t)}var b1=ia(null),xl=null,Aa=null;function fs(t,e,n){Pt(b1,e._currentValue),e._currentValue=n}function Ia(t){t._currentValue=b1.current,En(b1)}function _1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function w1(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_1(a.return,n,t),r||(s=null);break e}a=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(ae(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_1(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Gh(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(ae(387));if(s=s.memoizedProps,s!==null){var l=i.type;Gr(i.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(i===cg.current){if(s=i.alternate,s===null)throw Error(ae(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(zf):t=[zf])}i=i.return}t!==null&&w1(e,t,n,r),e.flags|=262144}function yg(t){for(t=t.firstContext;t!==null;){if(!Gr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function el(t){xl=t,Aa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yn(t){return LM(xl,t)}function Qp(t,e){return xl===null&&el(t),LM(t,e)}function LM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Aa===null){if(t===null)throw Error(ae(308));Aa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Aa=Aa.next=e;return n}var FV=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},HV=pn.unstable_scheduleCallback,qV=pn.unstable_NormalPriority,ln={$$typeof:ba,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function IA(){return{controller:new FV,data:new Map,refCount:0}}function Wh(t){t.refCount--,t.refCount===0&&HV(qV,function(){t.controller.abort()})}var sf=null,A1=0,Bc=0,Ac=null;function GV(t,e){if(sf===null){var n=sf=[];A1=0,Bc=eS(),Ac={status:"pending",value:void 0,then:function(r){n.push(r)}}}return A1++,e.then(AT,AT),e}function AT(){if(--A1===0&&sf!==null){Ac!==null&&(Ac.status="fulfilled");var t=sf;sf=null,Bc=0,Ac=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function WV(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var ST=Ie.S;Ie.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&GV(t,e),ST!==null&&ST(t,e)};var Ho=ia(null);function kA(){var t=Ho.current;return t!==null?t:wt.pooledCache}function Vm(t,e){e===null?Pt(Ho,Ho.current):Pt(Ho,e.pool)}function BM(){var t=kA();return t===null?null:{parent:ln._currentValue,pool:t}}var Kh=Error(ae(460)),UM=Error(ae(474)),xy=Error(ae(542)),S1={then:function(){}};function ET(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zp(){}function VM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Zp,Zp),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,TT(t),t;default:if(typeof e.status=="string")e.then(Zp,Zp);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(ae(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,TT(t),t}throw of=e,Kh}}var of=null;function jT(){if(of===null)throw Error(ae(459));var t=of;return of=null,t}function TT(t){if(t===Kh||t===xy)throw Error(ae(483))}var us=!1;function PA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function E1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=mg(t),MM(t,null,n),e}return yy(t,r,e,n),mg(t)}function lf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cM(t,n)}}function Lx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var j1=!1;function cf(){if(j1){var t=Ac;if(t!==null)throw t}}function uf(t,e,n,r){j1=!1;var i=t.updateQueue;us=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(Ye&h)===h:(r&h)===h){h!==0&&h===Bc&&(j1=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=t,y=l;h=e;var b=n;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(b,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(b,f,h):v,h==null)break e;f=Nt({},f,h);break e;case 2:us=!0}}h=l.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),Hs|=s,t.lanes=s,t.memoizedState=f}}function zM(t,e){if(typeof t!="function")throw Error(ae(191,t));t.call(e)}function FM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)zM(n[t],e)}var Uc=ia(null),xg=ia(0);function NT(t,e){t=Ua,Pt(xg,t),Pt(Uc,e),Ua=t|e.baseLanes}function T1(){Pt(xg,Ua),Pt(Uc,Uc.current)}function RA(){Ua=xg.current,En(Uc),En(xg)}var zs=0,Ue=null,ht=null,Jt=null,bg=!1,Sc=!1,tl=!1,_g=0,$f=0,Ec=null,KV=0;function Wt(){throw Error(ae(321))}function MA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function DA(t,e,n,r,i,a){return zs=a,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ie.H=t===null||t.memoizedState===null?bD:_D,tl=!1,a=n(r,i),tl=!1,Sc&&(a=qM(e,n,r,i)),HM(t),a}function HM(t){Ie.H=wg;var e=ht!==null&&ht.next!==null;if(zs=0,Jt=ht=Ue=null,bg=!1,$f=0,Ec=null,e)throw Error(ae(300));t===null||Sn||(t=t.dependencies,t!==null&&yg(t)&&(Sn=!0))}function qM(t,e,n,r){Ue=t;var i=0;do{if(Sc&&(Ec=null),$f=0,Sc=!1,25<=i)throw Error(ae(301));if(i+=1,Jt=ht=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ie.H=t7,a=e(n,r)}while(Sc);return a}function XV(){var t=Ie.H,e=t.useState()[0];return e=typeof e.then=="function"?Xh(e):e,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(Ue.flags|=1024),e}function $A(){var t=_g!==0;return _g=0,t}function LA(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function BA(t){if(bg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}bg=!1}zs=0,Jt=ht=Ue=null,Sc=!1,$f=_g=0,Ec=null}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ue.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function nn(){if(ht===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=Jt===null?Ue.memoizedState:Jt.next;if(e!==null)Jt=e,ht=t;else{if(t===null)throw Ue.alternate===null?Error(ae(467)):Error(ae(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Jt===null?Ue.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function UA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xh(t){var e=$f;return $f+=1,Ec===null&&(Ec=[]),t=VM(Ec,t,e),e=Ue,(Jt===null?e.memoizedState:Jt.next)===null&&(e=e.alternate,Ie.H=e===null||e.memoizedState===null?bD:_D),t}function by(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xh(t);if(t.$$typeof===ba)return Yn(t)}throw Error(ae(438,String(t)))}function VA(t){var e=null,n=Ue.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=UA(),Ue.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=PU;return e.index++,n}function La(t,e){return typeof e=="function"?e(t):e}function zm(t){var e=nn();return zA(e,ht,t)}function zA(t,e,n){var r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var l=s=null,c=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ye&f)===f:(zs&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Bc&&(d=!0);else if((zs&h)===h){u=u.next,h===Bc&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,s=a):c=c.next=f,Ue.lanes|=h,Hs|=h;f=u.action,tl&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,s=a):c=c.next=h,Ue.lanes|=f,Hs|=f;u=u.next}while(u!==null&&u!==e);if(c===null?s=a:c.next=l,!Gr(a,t.memoizedState)&&(Sn=!0,d&&(n=Ac,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=c,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Bx(t){var e=nn(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Gr(a,e.memoizedState)||(Sn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function GM(t,e,n){var r=Ue,i=nn(),a=et;if(a){if(n===void 0)throw Error(ae(407));n=n()}else n=e();var s=!Gr((ht||i).memoizedState,n);s&&(i.memoizedState=n,Sn=!0),i=i.queue;var l=XM.bind(null,r,i,t);if(Yh(2048,8,l,[t]),i.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,Vc(9,_y(),KM.bind(null,r,i,n,e),null),wt===null)throw Error(ae(349));a||zs&124||WM(r,e,n)}return n}function WM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e=UA(),Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KM(t,e,n,r){e.value=n,e.getSnapshot=r,YM(e)&&QM(t)}function XM(t,e,n){return n(function(){YM(e)&&QM(t)})}function YM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function QM(t){var e=Ru(t,2);e!==null&&Vr(e,t,2)}function N1(t){var e=ur();if(typeof t=="function"){var n=t;if(t=n(),tl){_s(!0);try{n()}finally{_s(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:t},e}function ZM(t,e,n,r){return t.baseState=n,zA(t,ht,typeof r=="function"?r:La)}function YV(t,e,n,r,i){if(wy(t))throw Error(ae(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Ie.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,JM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function JM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Ie.T,s={};Ie.T=s;try{var l=n(i,r),c=Ie.S;c!==null&&c(s,l),OT(t,e,l)}catch(u){O1(t,e,u)}finally{Ie.T=a}}else try{a=n(i,r),OT(t,e,a)}catch(u){O1(t,e,u)}}function OT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){CT(t,e,r)},function(r){return O1(t,e,r)}):CT(t,e,n)}function CT(t,e,n){e.status="fulfilled",e.value=n,eD(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,JM(t,n)))}function O1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,eD(e),e=e.next;while(e!==r)}t.action=null}function eD(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function tD(t,e){return e}function IT(t,e){if(et){var n=wt.formState;if(n!==null){e:{var r=Ue;if(et){if(zt){t:{for(var i=zt,a=Bi;i.nodeType!==8;){if(!a){i=null;break t}if(i=Si(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){zt=Si(i.nextSibling),r=i.data==="F!";break e}}Jo(r)}r=!1}r&&(e=n[0])}}return n=ur(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tD,lastRenderedState:e},n.queue=r,n=vD.bind(null,Ue,r),r.dispatch=n,r=N1(!1),a=GA.bind(null,Ue,!1,r.queue),r=ur(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=YV.bind(null,Ue,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function kT(t){var e=nn();return nD(e,ht,t)}function nD(t,e,n){if(e=zA(t,e,tD)[0],t=zm(La)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Xh(e)}catch(s){throw s===Kh?xy:s}else r=e;e=nn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Ue.flags|=2048,Vc(9,_y(),QV.bind(null,i,n),null)),[r,a,t]}function QV(t,e){t.action=e}function PT(t){var e=nn(),n=ht;if(n!==null)return nD(e,n,t);nn(),e=e.memoizedState,n=nn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Vc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ue.updateQueue,e===null&&(e=UA(),Ue.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function _y(){return{destroy:void 0,resource:void 0}}function rD(){return nn().memoizedState}function Fm(t,e,n,r){var i=ur();r=r===void 0?null:r,Ue.flags|=t,i.memoizedState=Vc(1|e,_y(),n,r)}function Yh(t,e,n,r){var i=nn();r=r===void 0?null:r;var a=i.memoizedState.inst;ht!==null&&r!==null&&MA(r,ht.memoizedState.deps)?i.memoizedState=Vc(e,a,n,r):(Ue.flags|=t,i.memoizedState=Vc(1|e,a,n,r))}function RT(t,e){Fm(8390656,8,t,e)}function iD(t,e){Yh(2048,8,t,e)}function aD(t,e){return Yh(4,2,t,e)}function sD(t,e){return Yh(4,4,t,e)}function oD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lD(t,e,n){n=n!=null?n.concat([t]):null,Yh(4,4,oD.bind(null,e,t),n)}function FA(){}function cD(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&MA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uD(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&MA(e,r[1]))return r[0];if(r=t(),tl){_s(!0);try{t()}finally{_s(!1)}}return n.memoizedState=[r,e],r}function HA(t,e,n){return n===void 0||zs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=e4(),Ue.lanes|=t,Hs|=t,n)}function dD(t,e,n,r){return Gr(n,e)?n:Uc.current!==null?(t=HA(t,n,r),Gr(t,e)||(Sn=!0),t):zs&42?(t=e4(),Ue.lanes|=t,Hs|=t,e):(Sn=!0,t.memoizedState=n)}function fD(t,e,n,r,i){var a=tt.p;tt.p=a!==0&&8>a?a:8;var s=Ie.T,l={};Ie.T=l,GA(t,!1,e,n);try{var c=i(),u=Ie.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=WV(c,r);df(t,e,d,Ur(t))}else df(t,e,r,Ur(t))}catch(f){df(t,e,{then:function(){},status:"rejected",reason:f},Ur())}finally{tt.p=a,Ie.T=s}}function ZV(){}function C1(t,e,n,r){if(t.tag!==5)throw Error(ae(476));var i=hD(t).queue;fD(t,i,e,Uo,n===null?ZV:function(){return pD(t),n(r)})}function hD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Uo,baseState:Uo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:Uo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function pD(t){var e=hD(t).next.queue;df(t,e,{},Ur())}function qA(){return Yn(zf)}function mD(){return nn().memoizedState}function gD(){return nn().memoizedState}function JV(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ur();t=Os(n);var r=Cs(e,t,n);r!==null&&(Vr(r,e,n),lf(r,e,n)),e={cache:IA()},t.payload=e;return}e=e.return}}function e7(t,e,n){var r=Ur();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},wy(t)?yD(e,n):(n=TA(t,e,n,r),n!==null&&(Vr(n,t,r),xD(n,e,r)))}function vD(t,e,n){var r=Ur();df(t,e,n,r)}function df(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(wy(t))yD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,Gr(l,s))return yy(t,e,i,0),wt===null&&vy(),!1}catch{}finally{}if(n=TA(t,e,i,r),n!==null)return Vr(n,t,r),xD(n,e,r),!0}return!1}function GA(t,e,n,r){if(r={lane:2,revertLane:eS(),action:r,hasEagerState:!1,eagerState:null,next:null},wy(t)){if(e)throw Error(ae(479))}else e=TA(t,n,r,2),e!==null&&Vr(e,t,2)}function wy(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function yD(t,e){Sc=bg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xD(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cM(t,n)}}var wg={readContext:Yn,use:by,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},bD={readContext:Yn,use:by,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:RT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Fm(4194308,4,oD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fm(4194308,4,t,e)},useInsertionEffect:function(t,e){Fm(4,2,t,e)},useMemo:function(t,e){var n=ur();e=e===void 0?null:e;var r=t();if(tl){_s(!0);try{t()}finally{_s(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ur();if(n!==void 0){var i=n(e);if(tl){_s(!0);try{n(e)}finally{_s(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=e7.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:function(t){t=N1(t);var e=t.queue,n=vD.bind(null,Ue,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:FA,useDeferredValue:function(t,e){var n=ur();return HA(n,t,e)},useTransition:function(){var t=N1(!1);return t=fD.bind(null,Ue,t.queue,!0,!1),ur().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ue,i=ur();if(et){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),wt===null)throw Error(ae(349));Ye&124||WM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,RT(XM.bind(null,r,a,t),[t]),r.flags|=2048,Vc(9,_y(),KM.bind(null,r,a,n,e),null),n},useId:function(){var t=ur(),e=wt.identifierPrefix;if(et){var n=wa,r=_a;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=_g++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=KV++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:qA,useFormState:IT,useActionState:IT,useOptimistic:function(t){var e=ur();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=GA.bind(null,Ue,!0,n),n.dispatch=e,[t,e]},useMemoCache:VA,useCacheRefresh:function(){return ur().memoizedState=JV.bind(null,Ue)}},_D={readContext:Yn,use:by,useCallback:cD,useContext:Yn,useEffect:iD,useImperativeHandle:lD,useInsertionEffect:aD,useLayoutEffect:sD,useMemo:uD,useReducer:zm,useRef:rD,useState:function(){return zm(La)},useDebugValue:FA,useDeferredValue:function(t,e){var n=nn();return dD(n,ht.memoizedState,t,e)},useTransition:function(){var t=zm(La)[0],e=nn().memoizedState;return[typeof t=="boolean"?t:Xh(t),e]},useSyncExternalStore:GM,useId:mD,useHostTransitionStatus:qA,useFormState:kT,useActionState:kT,useOptimistic:function(t,e){var n=nn();return ZM(n,ht,t,e)},useMemoCache:VA,useCacheRefresh:gD},t7={readContext:Yn,use:by,useCallback:cD,useContext:Yn,useEffect:iD,useImperativeHandle:lD,useInsertionEffect:aD,useLayoutEffect:sD,useMemo:uD,useReducer:Bx,useRef:rD,useState:function(){return Bx(La)},useDebugValue:FA,useDeferredValue:function(t,e){var n=nn();return ht===null?HA(n,t,e):dD(n,ht.memoizedState,t,e)},useTransition:function(){var t=Bx(La)[0],e=nn().memoizedState;return[typeof t=="boolean"?t:Xh(t),e]},useSyncExternalStore:GM,useId:mD,useHostTransitionStatus:qA,useFormState:PT,useActionState:PT,useOptimistic:function(t,e){var n=nn();return ht!==null?ZM(n,ht,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:VA,useCacheRefresh:gD},jc=null,Lf=0;function Jp(t){var e=Lf;return Lf+=1,jc===null&&(jc=[]),VM(jc,t,e)}function Sd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function em(t,e){throw e.$$typeof===IU?Error(ae(525)):(t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function MT(t){var e=t._init;return e(t._payload)}function wD(t){function e(_,x){if(t){var g=_.deletions;g===null?(_.deletions=[x],_.flags|=16):g.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_){for(var x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(_,x){return _=Ca(_,x),_.index=0,_.sibling=null,_}function a(_,x,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<x?(_.flags|=67108866,x):g):(_.flags|=67108866,x)):(_.flags|=1048576,x)}function s(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function l(_,x,g,j){return x===null||x.tag!==6?(x=Dx(g,_.mode,j),x.return=_,x):(x=i(x,g),x.return=_,x)}function c(_,x,g,j){var w=g.type;return w===nc?d(_,x,g.props.children,j,g.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cs&&MT(w)===x.type)?(x=i(x,g.props),Sd(x,g),x.return=_,x):(x=Um(g.type,g.key,g.props,null,_.mode,j),Sd(x,g),x.return=_,x)}function u(_,x,g,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=$x(g,_.mode,j),x.return=_,x):(x=i(x,g.children||[]),x.return=_,x)}function d(_,x,g,j,w){return x===null||x.tag!==7?(x=Vo(g,_.mode,j,w),x.return=_,x):(x=i(x,g),x.return=_,x)}function f(_,x,g){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Dx(""+x,_.mode,g),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gp:return g=Um(x.type,x.key,x.props,null,_.mode,g),Sd(g,x),g.return=_,g;case qd:return x=$x(x,_.mode,g),x.return=_,x;case cs:var j=x._init;return x=j(x._payload),f(_,x,g)}if(Gd(x)||bd(x))return x=Vo(x,_.mode,g,null),x.return=_,x;if(typeof x.then=="function")return f(_,Jp(x),g);if(x.$$typeof===ba)return f(_,Qp(_,x),g);em(_,x)}return null}function h(_,x,g,j){var w=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:l(_,x,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gp:return g.key===w?c(_,x,g,j):null;case qd:return g.key===w?u(_,x,g,j):null;case cs:return w=g._init,g=w(g._payload),h(_,x,g,j)}if(Gd(g)||bd(g))return w!==null?null:d(_,x,g,j,null);if(typeof g.then=="function")return h(_,x,Jp(g),j);if(g.$$typeof===ba)return h(_,x,Qp(_,g),j);em(_,g)}return null}function m(_,x,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _=_.get(g)||null,l(x,_,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Gp:return _=_.get(j.key===null?g:j.key)||null,c(x,_,j,w);case qd:return _=_.get(j.key===null?g:j.key)||null,u(x,_,j,w);case cs:var T=j._init;return j=T(j._payload),m(_,x,g,j,w)}if(Gd(j)||bd(j))return _=_.get(g)||null,d(x,_,j,w,null);if(typeof j.then=="function")return m(_,x,g,Jp(j),w);if(j.$$typeof===ba)return m(_,x,g,Qp(x,j),w);em(x,j)}return null}function v(_,x,g,j){for(var w=null,T=null,S=x,A=x=0,N=null;S!==null&&A<g.length;A++){S.index>A?(N=S,S=null):N=S.sibling;var I=h(_,S,g[A],j);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(_,S),x=a(I,x,A),T===null?w=I:T.sibling=I,T=I,S=N}if(A===g.length)return n(_,S),et&&Eo(_,A),w;if(S===null){for(;A<g.length;A++)S=f(_,g[A],j),S!==null&&(x=a(S,x,A),T===null?w=S:T.sibling=S,T=S);return et&&Eo(_,A),w}for(S=r(S);A<g.length;A++)N=m(S,_,A,g[A],j),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?A:N.key),x=a(N,x,A),T===null?w=N:T.sibling=N,T=N);return t&&S.forEach(function(C){return e(_,C)}),et&&Eo(_,A),w}function y(_,x,g,j){if(g==null)throw Error(ae(151));for(var w=null,T=null,S=x,A=x=0,N=null,I=g.next();S!==null&&!I.done;A++,I=g.next()){S.index>A?(N=S,S=null):N=S.sibling;var C=h(_,S,I.value,j);if(C===null){S===null&&(S=N);break}t&&S&&C.alternate===null&&e(_,S),x=a(C,x,A),T===null?w=C:T.sibling=C,T=C,S=N}if(I.done)return n(_,S),et&&Eo(_,A),w;if(S===null){for(;!I.done;A++,I=g.next())I=f(_,I.value,j),I!==null&&(x=a(I,x,A),T===null?w=I:T.sibling=I,T=I);return et&&Eo(_,A),w}for(S=r(S);!I.done;A++,I=g.next())I=m(S,_,A,I.value,j),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?A:I.key),x=a(I,x,A),T===null?w=I:T.sibling=I,T=I);return t&&S.forEach(function(R){return e(_,R)}),et&&Eo(_,A),w}function b(_,x,g,j){if(typeof g=="object"&&g!==null&&g.type===nc&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Gp:e:{for(var w=g.key;x!==null;){if(x.key===w){if(w=g.type,w===nc){if(x.tag===7){n(_,x.sibling),j=i(x,g.props.children),j.return=_,_=j;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cs&&MT(w)===x.type){n(_,x.sibling),j=i(x,g.props),Sd(j,g),j.return=_,_=j;break e}n(_,x);break}else e(_,x);x=x.sibling}g.type===nc?(j=Vo(g.props.children,_.mode,j,g.key),j.return=_,_=j):(j=Um(g.type,g.key,g.props,null,_.mode,j),Sd(j,g),j.return=_,_=j)}return s(_);case qd:e:{for(w=g.key;x!==null;){if(x.key===w)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){n(_,x.sibling),j=i(x,g.children||[]),j.return=_,_=j;break e}else{n(_,x);break}else e(_,x);x=x.sibling}j=$x(g,_.mode,j),j.return=_,_=j}return s(_);case cs:return w=g._init,g=w(g._payload),b(_,x,g,j)}if(Gd(g))return v(_,x,g,j);if(bd(g)){if(w=bd(g),typeof w!="function")throw Error(ae(150));return g=w.call(g),y(_,x,g,j)}if(typeof g.then=="function")return b(_,x,Jp(g),j);if(g.$$typeof===ba)return b(_,x,Qp(_,g),j);em(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,x!==null&&x.tag===6?(n(_,x.sibling),j=i(x,g),j.return=_,_=j):(n(_,x),j=Dx(g,_.mode,j),j.return=_,_=j),s(_)):n(_,x)}return function(_,x,g,j){try{Lf=0;var w=b(_,x,g,j);return jc=null,w}catch(S){if(S===Kh||S===xy)throw S;var T=Pr(29,S,null,_.mode);return T.lanes=j,T.return=_,T}finally{}}}var zc=wD(!0),AD=wD(!1),si=ia(null),Wi=null;function hs(t){var e=t.alternate;Pt(un,un.current&1),Pt(si,t),Wi===null&&(e===null||Uc.current!==null||e.memoizedState!==null)&&(Wi=t)}function SD(t){if(t.tag===22){if(Pt(un,un.current),Pt(si,t),Wi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Wi=t)}}else ps()}function ps(){Pt(un,un.current),Pt(si,si.current)}function Sa(t){En(si),Wi===t&&(Wi=null),En(un)}var un=ia(0);function Ag(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||W1(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ux(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var I1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=Os(r);i.payload=e,n!=null&&(i.callback=n),e=Cs(t,i,r),e!==null&&(Vr(e,t,r),lf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=Os(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cs(t,i,r),e!==null&&(Vr(e,t,r),lf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=Os(n);r.tag=2,e!=null&&(r.callback=e),e=Cs(t,r,n),e!==null&&(Vr(e,t,n),lf(e,t,n))}};function DT(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Mf(n,r)||!Mf(i,a):!0}function $T(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&I1.enqueueReplaceState(e,e.state,null)}function nl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Nt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Sg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ED(t){Sg(t)}function jD(t){console.error(t)}function TD(t){Sg(t)}function Eg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function LT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function k1(t,e,n){return n=Os(n),n.tag=3,n.payload={element:null},n.callback=function(){Eg(t,e)},n}function ND(t){return t=Os(t),t.tag=3,t}function OD(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){LT(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){LT(e,n,r),typeof i!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function n7(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Gh(e,n,i,!0),n=si.current,n!==null){switch(n.tag){case 13:return Wi===null?U1():n.alternate===null&&Ht===0&&(Ht=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===S1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Qx(t,r,i)),!1;case 22:return n.flags|=65536,r===S1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Qx(t,r,i)),!1}throw Error(ae(435,n.tag))}return Qx(t,r,i),U1(),!1}if(et)return e=si.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==x1&&(t=Error(ae(422),{cause:r}),Df(ei(t,n)))):(r!==x1&&(e=Error(ae(423),{cause:r}),Df(ei(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=ei(r,n),i=k1(t.stateNode,r,i),Lx(t,i),Ht!==4&&(Ht=2)),!1;var a=Error(ae(520),{cause:r});if(a=ei(a,n),pf===null?pf=[a]:pf.push(a),Ht!==4&&(Ht=2),e===null)return!0;r=ei(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=k1(n.stateNode,r,t),Lx(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Is===null||!Is.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=ND(i),OD(i,t,n,r),Lx(n,i),!1}n=n.return}while(n!==null);return!1}var CD=Error(ae(461)),Sn=!1;function Cn(t,e,n,r){e.child=t===null?AD(e,null,n,r):zc(e,t.child,n,r)}function BT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}else s=r;return el(e),r=DA(t,e,n,s,a,i),l=$A(),t!==null&&!Sn?(LA(t,e,i),Ba(t,e,i)):(et&&l&&OA(e),e.flags|=1,Cn(t,e,r,i),e.child)}function UT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!NA(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,ID(t,e,a,r,i)):(t=Um(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!WA(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Mf,n(s,r)&&t.ref===e.ref)return Ba(t,e,i)}return e.flags|=1,t=Ca(a,r),t.ref=e.ref,t.return=e,e.child=t}function ID(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Mf(a,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=a,WA(t,i))t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,Ba(t,e,i)}return P1(t,e,n,r,i)}function kD(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return VT(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vm(e,a!==null?a.cachePool:null),a!==null?NT(e,a):T1(),SD(e);else return e.lanes=e.childLanes=536870912,VT(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Vm(e,a.cachePool),NT(e,a),ps(),e.memoizedState=null):(t!==null&&Vm(e,null),T1(),ps());return Cn(t,e,i,n),e.child}function VT(t,e,n,r){var i=kA();return i=i===null?null:{parent:ln._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Vm(e,null),T1(),SD(e),t!==null&&Gh(t,e,r,!0),null}function Hm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ae(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function P1(t,e,n,r,i){return el(e),n=DA(t,e,n,r,void 0,i),r=$A(),t!==null&&!Sn?(LA(t,e,i),Ba(t,e,i)):(et&&r&&OA(e),e.flags|=1,Cn(t,e,n,i),e.child)}function zT(t,e,n,r,i,a){return el(e),e.updateQueue=null,n=qM(e,r,n,i),HM(t),r=$A(),t!==null&&!Sn?(LA(t,e,a),Ba(t,e,a)):(et&&r&&OA(e),e.flags|=1,Cn(t,e,n,a),e.child)}function FT(t,e,n,r,i){if(el(e),e.stateNode===null){var a=uc,s=n.contextType;typeof s=="object"&&s!==null&&(a=Yn(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=I1,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},PA(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Yn(s):uc,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Ux(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&I1.enqueueReplaceState(a,a.state,null),uf(e,r,a,i),cf(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,c=nl(n,l);a.props=c;var u=a.context,d=n.contextType;s=uc,typeof d=="object"&&d!==null&&(s=Yn(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==s)&&$T(e,a,r,s),us=!1;var h=e.memoizedState;a.state=h,uf(e,r,a,i),cf(),u=e.memoizedState,l||h!==u||us?(typeof f=="function"&&(Ux(e,n,f,r),u=e.memoizedState),(c=us||DT(e,n,c,r,h,u,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,E1(t,e),s=e.memoizedProps,d=nl(n,s),a.props=d,f=e.pendingProps,h=a.context,u=n.contextType,c=uc,typeof u=="object"&&u!==null&&(c=Yn(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==c)&&$T(e,a,r,c),us=!1,h=e.memoizedState,a.state=h,uf(e,r,a,i),cf();var m=e.memoizedState;s!==f||h!==m||us||t!==null&&t.dependencies!==null&&yg(t.dependencies)?(typeof l=="function"&&(Ux(e,n,l,r),m=e.memoizedState),(d=us||DT(e,n,d,r,h,m,c)||t!==null&&t.dependencies!==null&&yg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Hm(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=zc(e,t.child,null,i),e.child=zc(e,null,n,i)):Cn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Ba(t,e,i),t}function HT(t,e,n,r){return qh(),e.flags|=256,Cn(t,e,n,r),e.child}var Vx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zx(t){return{baseLanes:t,cachePool:BM()}}function Fx(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ii),t}function PD(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(un.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(et){if(i?hs(e):ps(),et){var l=zt,c;if(c=l){e:{for(c=l,l=Bi;c.nodeType!==8;){if(!l){l=null;break e}if(c=Si(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(e.memoizedState={dehydrated:l,treeContext:zo!==null?{id:_a,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},c=Pr(18,null,null,0),c.stateNode=l,c.return=e,e.child=c,rr=e,zt=null,c=!0):c=!1}c||Jo(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return W1(l)?e.lanes=32:e.lanes=536870912,null;Sa(e)}return l=r.children,r=r.fallback,i?(ps(),i=e.mode,l=jg({mode:"hidden",children:l},i),r=Vo(r,i,n,null),l.return=e,r.return=e,l.sibling=r,e.child=l,i=e.child,i.memoizedState=zx(n),i.childLanes=Fx(t,s,n),e.memoizedState=Vx,r):(hs(e),R1(e,l))}if(c=t.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(a)e.flags&256?(hs(e),e.flags&=-257,e=Hx(t,e,n)):e.memoizedState!==null?(ps(),e.child=t.child,e.flags|=128,e=null):(ps(),i=r.fallback,l=e.mode,r=jg({mode:"visible",children:r.children},l),i=Vo(i,l,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,zc(e,t.child,null,n),r=e.child,r.memoizedState=zx(n),r.childLanes=Fx(t,s,n),e.memoizedState=Vx,e=i);else if(hs(e),W1(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(ae(419)),r.stack="",r.digest=s,Df({value:r,source:null,stack:null}),e=Hx(t,e,n)}else if(Sn||Gh(t,e,n,!1),s=(n&t.childLanes)!==0,Sn||s){if(s=wt,s!==null&&(r=n&-n,r=r&42?1:vA(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,Ru(t,r),Vr(s,t,r),CD;l.data==="$?"||U1(),e=Hx(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,zt=Si(l.nextSibling),rr=e,et=!0,Fo=null,Bi=!1,t!==null&&(Qr[Zr++]=_a,Qr[Zr++]=wa,Qr[Zr++]=zo,_a=t.id,wa=t.overflow,zo=e),e=R1(e,r.children),e.flags|=4096);return e}return i?(ps(),i=r.fallback,l=e.mode,c=t.child,u=c.sibling,r=Ca(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Ca(u,i):(i=Vo(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l===null?l=zx(n):(c=l.cachePool,c!==null?(u=ln._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=BM(),l={baseLanes:l.baseLanes|n,cachePool:c}),i.memoizedState=l,i.childLanes=Fx(t,s,n),e.memoizedState=Vx,r):(hs(e),n=t.child,t=n.sibling,n=Ca(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function R1(t,e){return e=jg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function jg(t,e){return t=Pr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hx(t,e,n){return zc(e,t.child,null,n),t=R1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_1(t.return,e,n)}function qx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function RD(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Cn(t,e,r.children,n),r=un.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qT(t,n,e);else if(t.tag===19)qT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Pt(un,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ag(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ag(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qx(e,!0,n,null,a);break;case"together":qx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ba(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(n&e.childLanes))if(t!==null){if(Gh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ca(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ca(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WA(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&yg(t)))}function r7(t,e,n){switch(e.tag){case 3:ug(e,e.stateNode.containerInfo),fs(e,ln,t.memoizedState.cache),qh();break;case 27:case 5:c1(e);break;case 4:ug(e,e.stateNode.containerInfo);break;case 10:fs(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(hs(e),e.flags|=128,null):n&e.child.childLanes?PD(t,e,n):(hs(e),t=Ba(t,e,n),t!==null?t.sibling:null);hs(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Gh(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return RD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(un,un.current),r)break;return null;case 22:case 23:return e.lanes=0,kD(t,e,n);case 24:fs(e,ln,t.memoizedState.cache)}return Ba(t,e,n)}function MD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Sn=!0;else{if(!WA(t,n)&&!(e.flags&128))return Sn=!1,r7(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,et&&e.flags&1048576&&$M(e,vg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")NA(r)?(t=nl(r,t),e.tag=1,e=FT(null,e,r,t,n)):(e.tag=0,e=P1(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===pA){e.tag=11,e=BT(null,e,r,t,n);break e}else if(i===mA){e.tag=14,e=UT(null,e,r,t,n);break e}}throw e=o1(r)||r,Error(ae(306,e,""))}}return e;case 0:return P1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=nl(r,e.pendingProps),FT(t,e,r,i,n);case 3:e:{if(ug(e,e.stateNode.containerInfo),t===null)throw Error(ae(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,E1(t,e),uf(e,r,null,n);var s=e.memoizedState;if(r=s.cache,fs(e,ln,r),r!==a.cache&&w1(e,[ln],n,!0),cf(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=HT(t,e,r,n);break e}else if(r!==i){i=ei(Error(ae(424)),e),Df(i),e=HT(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(zt=Si(t.firstChild),rr=e,et=!0,Fo=null,Bi=!0,n=AD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(qh(),r===i){e=Ba(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 26:return Hm(t,e),t===null?(n=lN(e.type,null,e.pendingProps,null))?e.memoizedState=n:et||(n=e.type,t=e.pendingProps,r=Pg(Ns.current).createElement(n),r[Xn]=e,r[br]=t,Mn(r,n,t),wn(r),e.stateNode=r):e.memoizedState=lN(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return c1(e),t===null&&et&&(r=e.stateNode=_4(e.type,e.pendingProps,Ns.current),rr=e,Bi=!0,i=zt,no(e.type)?(K1=i,zt=Si(r.firstChild)):zt=i),Cn(t,e,e.pendingProps.children,n),Hm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&et&&((i=r=zt)&&(r=I7(r,e.type,e.pendingProps,Bi),r!==null?(e.stateNode=r,rr=e,zt=Si(r.firstChild),Bi=!1,i=!0):i=!1),i||Jo(e)),c1(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,q1(i,a)?r=null:s!==null&&q1(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=DA(t,e,XV,null,null,n),zf._currentValue=i),Hm(t,e),Cn(t,e,r,n),e.child;case 6:return t===null&&et&&((t=n=zt)&&(n=k7(n,e.pendingProps,Bi),n!==null?(e.stateNode=n,rr=e,zt=null,t=!0):t=!1),t||Jo(e)),null;case 13:return PD(t,e,n);case 4:return ug(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zc(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return BT(t,e,e.type,e.pendingProps,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,fs(e,e.type,r.value),Cn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,el(e),i=Yn(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return UT(t,e,e.type,e.pendingProps,n);case 15:return ID(t,e,e.type,e.pendingProps,n);case 19:return RD(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=jg(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ca(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return kD(t,e,n);case 24:return el(e),r=Yn(ln),t===null?(i=kA(),i===null&&(i=wt,a=IA(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},PA(e),fs(e,ln,i)):(t.lanes&n&&(E1(t,e),uf(e,null,null,n),cf()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),fs(e,ln,r)):(r=a.cache,fs(e,ln,r),r!==i.cache&&w1(e,[ln],n,!0))),Cn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(ae(156,e.tag))}function pa(t){t.flags|=4}function GT(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!S4(e)){if(e=si.current,e!==null&&((Ye&4194048)===Ye?Wi!==null:(Ye&62914560)!==Ye&&!(Ye&536870912)||e!==Wi))throw of=S1,UM;t.flags|=8192}}function tm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?oM():536870912,t.lanes|=e,Fc|=e)}function Ed(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i7(t,e,n){var r=e.pendingProps;switch(CA(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return Dt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ia(ln),Dc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ad(e)?pa(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wT())),Dt(e),null;case 26:return n=e.memoizedState,t===null?(pa(e),n!==null?(Dt(e),GT(e,n)):(Dt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(pa(e),Dt(e),GT(e,n)):(Dt(e),e.flags&=-16777217):(t.memoizedProps!==r&&pa(e),Dt(e),e.flags&=-16777217),null;case 27:dg(e),n=Ns.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Dt(e),null}t=qi.current,Ad(e)?bT(e):(t=_4(i,r,n),e.stateNode=t,pa(e))}return Dt(e),null;case 5:if(dg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Dt(e),null}if(t=qi.current,Ad(e))bT(e);else{switch(i=Pg(Ns.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Xn]=e,t[br]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Mn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pa(e)}}return Dt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(t=Ns.current,Ad(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=rr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Xn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||y4(t.nodeValue,n)),t||Jo(e)}else t=Pg(t).createTextNode(r),t[Xn]=e,e.stateNode=t}return Dt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ae(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ae(317));i[Xn]=e}else qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),i=!1}else i=wT(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Sa(e),e):(Sa(e),null)}if(Sa(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),tm(e,e.updateQueue),Dt(e),null;case 4:return Dc(),t===null&&tS(e.stateNode.containerInfo),Dt(e),null;case 10:return Ia(e.type),Dt(e),null;case 19:if(En(un),i=e.memoizedState,i===null)return Dt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ed(i,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ag(t),a!==null){for(e.flags|=128,Ed(i,!1),t=a.updateQueue,e.updateQueue=t,tm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)DM(n,t),n=n.sibling;return Pt(un,un.current&1|2),e.child}t=t.sibling}i.tail!==null&&Gi()>Ng&&(e.flags|=128,r=!0,Ed(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ag(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,tm(e,t),Ed(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return Dt(e),null}else 2*Gi()-i.renderingStartTime>Ng&&n!==536870912&&(e.flags|=128,r=!0,Ed(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Gi(),e.sibling=null,t=un.current,Pt(un,r?t&1|2:t&1),e):(Dt(e),null);case 22:case 23:return Sa(e),RA(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),n=e.updateQueue,n!==null&&tm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&En(Ho),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ia(ln),Dt(e),null;case 25:return null;case 30:return null}throw Error(ae(156,e.tag))}function a7(t,e){switch(CA(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(ln),Dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return dg(e),null;case 13:if(Sa(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return En(un),null;case 4:return Dc(),null;case 10:return Ia(e.type),null;case 22:case 23:return Sa(e),RA(),t!==null&&En(Ho),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ia(ln),null;case 25:return null;default:return null}}function DD(t,e){switch(CA(e),e.tag){case 3:Ia(ln),Dc();break;case 26:case 27:case 5:dg(e);break;case 4:Dc();break;case 13:Sa(e);break;case 19:En(un);break;case 10:Ia(e.type);break;case 22:case 23:Sa(e),RA(),t!==null&&En(Ho);break;case 24:Ia(ln)}}function Qh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(l){vt(e,e.return,l)}}function Fs(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=e;var c=n,u=l;try{u()}catch(d){vt(i,c,d)}}}r=r.next}while(r!==a)}}catch(d){vt(e,e.return,d)}}function $D(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{FM(e,n)}catch(r){vt(t,t.return,r)}}}function LD(t,e,n){n.props=nl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){vt(t,e,r)}}function ff(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){vt(t,e,i)}}function Ui(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){vt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){vt(t,e,i)}else n.current=null}function BD(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){vt(t,t.return,i)}}function Gx(t,e,n){try{var r=t.stateNode;j7(r,t.type,n,e),r[br]=e}catch(i){vt(t,t.return,i)}}function UD(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&no(t.type)||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&no(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function M1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jy));else if(r!==4&&(r===27&&no(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(M1(t,e,n),t=t.sibling;t!==null;)M1(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&no(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function VD(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Mn(e,r,n),e[Xn]=t,e[br]=n}catch(a){vt(t,t.return,a)}}var ya=!1,Kt=!1,Kx=!1,WT=typeof WeakSet=="function"?WeakSet:Set,_n=null;function s7(t,e){if(t=t.containerInfo,F1=$g,t=NM(t),EA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=s),h===a&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(H1={focusedElem:t,selectionRange:n},$g=!1,_n=e;_n!==null;)if(e=_n,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,_n=t;else for(;_n!==null;){switch(e=_n,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=nl(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){vt(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)G1(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":G1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ae(163))}if(t=e.sibling,t!==null){t.return=e.return,_n=t;break}_n=e.return}}function zD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:as(t,n),r&4&&Qh(5,n);break;case 1:if(as(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){vt(n,n.return,s)}else{var i=nl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){vt(n,n.return,s)}}r&64&&$D(n),r&512&&ff(n,n.return);break;case 3:if(as(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{FM(t,e)}catch(s){vt(n,n.return,s)}}break;case 27:e===null&&r&4&&VD(n);case 26:case 5:as(t,n),e===null&&r&4&&BD(n),r&512&&ff(n,n.return);break;case 12:as(t,n);break;case 13:as(t,n),r&4&&qD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=m7.bind(null,n),P7(t,n))));break;case 22:if(r=n.memoizedState!==null||ya,!r){e=e!==null&&e.memoizedState!==null||Kt,i=ya;var a=Kt;ya=r,(Kt=e)&&!a?os(t,n,(n.subtreeFlags&8772)!==0):as(t,n),ya=i,Kt=a}break;case 30:break;default:as(t,n)}}function FD(t){var e=t.alternate;e!==null&&(t.alternate=null,FD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&xA(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,dr=!1;function ma(t,e,n){for(n=n.child;n!==null;)HD(t,e,n),n=n.sibling}function HD(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 26:Kt||Ui(n,e),ma(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Kt||Ui(n,e);var r=It,i=dr;no(n.type)&&(It=n.stateNode,dr=!1),ma(t,e,n),gf(n.stateNode),It=r,dr=i;break;case 5:Kt||Ui(n,e);case 6:if(r=It,i=dr,It=null,ma(t,e,n),It=r,dr=i,It!==null)if(dr)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(n.stateNode)}catch(a){vt(n,e,a)}else try{It.removeChild(n.stateNode)}catch(a){vt(n,e,a)}break;case 18:It!==null&&(dr?(t=It,aN(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),qf(t)):aN(It,n.stateNode));break;case 4:r=It,i=dr,It=n.stateNode.containerInfo,dr=!0,ma(t,e,n),It=r,dr=i;break;case 0:case 11:case 14:case 15:Kt||Fs(2,n,e),Kt||Fs(4,n,e),ma(t,e,n);break;case 1:Kt||(Ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&LD(n,e,r)),ma(t,e,n);break;case 21:ma(t,e,n);break;case 22:Kt=(r=Kt)||n.memoizedState!==null,ma(t,e,n),Kt=r;break;default:ma(t,e,n)}}function qD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qf(t)}catch(n){vt(e,e.return,n)}}function o7(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new WT),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new WT),e;default:throw Error(ae(435,t.tag))}}function Xx(t,e){var n=o7(t);e.forEach(function(r){var i=g7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(no(l.type)){It=l.stateNode,dr=!1;break e}break;case 5:It=l.stateNode,dr=!1;break e;case 3:case 4:It=l.stateNode.containerInfo,dr=!0;break e}l=l.return}if(It===null)throw Error(ae(160));HD(a,s,i),It=null,dr=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)GD(e,t),e=e.sibling}var xi=null;function GD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Er(e,t),jr(t),r&4&&(Fs(3,t,t.return),Qh(3,t),Fs(5,t,t.return));break;case 1:Er(e,t),jr(t),r&512&&(Kt||n===null||Ui(n,n.return)),r&64&&ya&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=xi;if(Er(e,t),jr(t),r&512&&(Kt||n===null||Ui(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Fh]||a[Xn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Mn(a,r,n),a[Xn]=t,wn(a),r=a;break e;case"link":var s=uN("link","href",i).get(r+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=i.createElement(r),Mn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=uN("meta","content",i).get(r+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=i.createElement(r),Mn(a,r,n),i.head.appendChild(a);break;default:throw Error(ae(468,r))}a[Xn]=t,wn(a),r=a}t.stateNode=r}else dN(i,t.type,t.stateNode);else t.stateNode=cN(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?dN(i,t.type,t.stateNode):cN(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Gx(t,t.memoizedProps,n.memoizedProps)}break;case 27:Er(e,t),jr(t),r&512&&(Kt||n===null||Ui(n,n.return)),n!==null&&r&4&&Gx(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Er(e,t),jr(t),r&512&&(Kt||n===null||Ui(n,n.return)),t.flags&32){i=t.stateNode;try{Lc(i,"")}catch(m){vt(t,t.return,m)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Gx(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Kx=!0);break;case 6:if(Er(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(ae(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){vt(t,t.return,m)}}break;case 3:if(Wm=null,i=xi,xi=Rg(e.containerInfo),Er(e,t),xi=i,jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qf(e.containerInfo)}catch(m){vt(t,t.return,m)}Kx&&(Kx=!1,WD(t));break;case 4:r=xi,xi=Rg(t.stateNode.containerInfo),Er(e,t),jr(t),xi=r;break;case 12:Er(e,t),jr(t);break;case 13:Er(e,t),jr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ZA=Gi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xx(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ya,d=Kt;if(ya=u||i,Kt=d||c,Er(e,t),Kt=d,ya=u,jr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||ya||Kt||jo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){vt(c,c.return,m)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){vt(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Xx(t,n))));break;case 19:Er(e,t),jr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xx(t,r)));break;case 30:break;case 21:break;default:Er(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(UD(r)){n=r;break}r=r.return}if(n==null)throw Error(ae(160));switch(n.tag){case 27:var i=n.stateNode,a=Wx(t);Tg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Lc(s,""),n.flags&=-33);var l=Wx(t);Tg(t,l,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Wx(t);M1(t,u,c);break;default:throw Error(ae(161))}}catch(d){vt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WD(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;WD(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function as(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zD(t,e.alternate,e),e=e.sibling}function jo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Fs(4,e,e.return),jo(e);break;case 1:Ui(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&LD(e,e.return,n),jo(e);break;case 27:gf(e.stateNode);case 26:case 5:Ui(e,e.return),jo(e);break;case 22:e.memoizedState===null&&jo(e);break;case 30:jo(e);break;default:jo(e)}t=t.sibling}}function os(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:os(i,a,n),Qh(4,a);break;case 1:if(os(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){vt(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var l=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)zM(c[i],l)}catch(u){vt(r,r.return,u)}}n&&s&64&&$D(a),ff(a,a.return);break;case 27:VD(a);case 26:case 5:os(i,a,n),n&&r===null&&s&4&&BD(a),ff(a,a.return);break;case 12:os(i,a,n);break;case 13:os(i,a,n),n&&s&4&&qD(i,a);break;case 22:a.memoizedState===null&&os(i,a,n),ff(a,a.return);break;case 30:break;default:os(i,a,n)}e=e.sibling}}function KA(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Wh(n))}function XA(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wh(t))}function Di(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)KD(t,e,n,r),e=e.sibling}function KD(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Di(t,e,n,r),i&2048&&Qh(9,e);break;case 1:Di(t,e,n,r);break;case 3:Di(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wh(t)));break;case 12:if(i&2048){Di(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){vt(e,e.return,c)}}else Di(t,e,n,r);break;case 13:Di(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Di(t,e,n,r):hf(t,e):a._visibility&2?Di(t,e,n,r):(a._visibility|=2,Yl(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&KA(s,e);break;case 24:Di(t,e,n,r),i&2048&&XA(e.alternate,e);break;default:Di(t,e,n,r)}}function Yl(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,l=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Yl(a,s,l,c,i),Qh(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Yl(a,s,l,c,i):hf(a,s):(d._visibility|=2,Yl(a,s,l,c,i)),i&&u&2048&&KA(s.alternate,s);break;case 24:Yl(a,s,l,c,i),i&&u&2048&&XA(s.alternate,s);break;default:Yl(a,s,l,c,i)}e=e.sibling}}function hf(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:hf(n,r),i&2048&&KA(r.alternate,r);break;case 24:hf(n,r),i&2048&&XA(r.alternate,r);break;default:hf(n,r)}e=e.sibling}}var Kd=8192;function Bl(t){if(t.subtreeFlags&Kd)for(t=t.child;t!==null;)XD(t),t=t.sibling}function XD(t){switch(t.tag){case 26:Bl(t),t.flags&Kd&&t.memoizedState!==null&&G7(xi,t.memoizedState,t.memoizedProps);break;case 5:Bl(t);break;case 3:case 4:var e=xi;xi=Rg(t.stateNode.containerInfo),Bl(t),xi=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Kd,Kd=16777216,Bl(t),Kd=e):Bl(t));break;default:Bl(t)}}function YD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function jd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_n=r,ZD(r,t)}YD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)QD(t),t=t.sibling}function QD(t){switch(t.tag){case 0:case 11:case 15:jd(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:jd(t);break;case 12:jd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,qm(t)):jd(t);break;default:jd(t)}}function qm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_n=r,ZD(r,t)}YD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Fs(8,e,e.return),qm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,qm(e));break;default:qm(e)}t=t.sibling}}function ZD(t,e){for(;_n!==null;){var n=_n;switch(n.tag){case 0:case 11:case 15:Fs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Wh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,_n=r;else e:for(n=t;_n!==null;){r=_n;var i=r.sibling,a=r.return;if(FD(r),r===n){_n=null;break e}if(i!==null){i.return=a,_n=i;break e}_n=a}}}var l7={getCacheForType:function(t){var e=Yn(ln),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},c7=typeof WeakMap=="function"?WeakMap:Map,st=0,wt=null,Fe=null,Ye=0,at=0,Ir=null,As=!1,Mu=!1,YA=!1,Ua=0,Ht=0,Hs=0,qo=0,QA=0,ii=0,Fc=0,pf=null,fr=null,D1=!1,ZA=0,Ng=1/0,Og=null,Is=null,Pn=0,ks=null,Hc=null,Tc=0,$1=0,L1=null,JD=null,mf=0,B1=null;function Ur(){if(st&2&&Ye!==0)return Ye&-Ye;if(Ie.T!==null){var t=Bc;return t!==0?t:eS()}return uM()}function e4(){ii===0&&(ii=!(Ye&536870912)||et?sM():536870912);var t=si.current;return t!==null&&(t.flags|=32),ii}function Vr(t,e,n){(t===wt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(qc(t,0),Ss(t,Ye,ii,!1)),zh(t,n),(!(st&2)||t!==wt)&&(t===wt&&(!(st&2)&&(qo|=n),Ht===4&&Ss(t,Ye,ii,!1)),aa(t))}function t4(t,e,n){if(st&6)throw Error(ae(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Vh(t,e),i=r?f7(t,e):Yx(t,e,!0),a=r;do{if(i===0){Mu&&!r&&Ss(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!u7(n)){i=Yx(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;i=pf;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),s=Yx(l,s,!1),s!==2){if(YA&&!c){l.errorRecoveryDisabledLanes|=a,qo|=a,i=4;break e}a=fr,fr=i,a!==null&&(fr===null?fr=a:fr.push.apply(fr,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){qc(t,0),Ss(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(ae(345));case 4:if((e&4194048)!==e)break;case 6:Ss(r,e,ii,!As);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(ae(329))}if((e&62914560)===e&&(i=ZA+300-Gi(),10<i)){if(Ss(r,e,ii,!As),hy(r,0,!0)!==0)break e;r.timeoutHandle=b4(KT.bind(null,r,n,fr,Og,D1,e,ii,qo,Fc,As,a,2,-0,0),i);break e}KT(r,n,fr,Og,D1,e,ii,qo,Fc,As,a,0,-0,0)}}break}while(!0);aa(t)}function KT(t,e,n,r,i,a,s,l,c,u,d,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Vf={stylesheets:null,count:0,unsuspend:q7},XD(e),f=W7(),f!==null)){t.cancelPendingCommit=f(YT.bind(null,t,e,a,n,r,i,s,l,c,d,1,h,m)),Ss(t,a,s,!u);return}YT(t,e,a,n,r,i,s,l,c)}function u7(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gr(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e,n,r){e&=~QA,e&=~qo,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Br(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&lM(t,n,e)}function Ay(){return st&6?!0:(Zh(0),!1)}function JA(){if(Fe!==null){if(at===0)var t=Fe.return;else t=Fe,Aa=xl=null,BA(t),jc=null,Lf=0,t=Fe;for(;t!==null;)DD(t.alternate,t),t=t.return;Fe=null}}function qc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,N7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),JA(),wt=t,Fe=n=Ca(t.current,null),Ye=e,at=0,Ir=null,As=!1,Mu=Vh(t,e),YA=!1,Fc=ii=QA=qo=Hs=Ht=0,fr=pf=null,D1=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Br(r),a=1<<i;e|=t[i],r&=~a}return Ua=e,vy(),n}function n4(t,e){Ue=null,Ie.H=wg,e===Kh||e===xy?(e=jT(),at=3):e===UM?(e=jT(),at=4):at=e===CD?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ir=e,Fe===null&&(Ht=1,Eg(t,ei(e,t.current)))}function r4(){var t=Ie.H;return Ie.H=wg,t===null?wg:t}function i4(){var t=Ie.A;return Ie.A=l7,t}function U1(){Ht=4,As||(Ye&4194048)!==Ye&&si.current!==null||(Mu=!0),!(Hs&134217727)&&!(qo&134217727)||wt===null||Ss(wt,Ye,ii,!1)}function Yx(t,e,n){var r=st;st|=2;var i=r4(),a=i4();(wt!==t||Ye!==e)&&(Og=null,qc(t,e)),e=!1;var s=Ht;e:do try{if(at!==0&&Fe!==null){var l=Fe,c=Ir;switch(at){case 8:JA(),s=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(e=!0);var u=at;if(at=0,Ir=null,hc(t,l,c,u),n&&Mu){s=0;break e}break;default:u=at,at=0,Ir=null,hc(t,l,c,u)}}d7(),s=Ht;break}catch(d){n4(t,d)}while(!0);return e&&t.shellSuspendCounter++,Aa=xl=null,st=r,Ie.H=i,Ie.A=a,Fe===null&&(wt=null,Ye=0,vy()),s}function d7(){for(;Fe!==null;)a4(Fe)}function f7(t,e){var n=st;st|=2;var r=r4(),i=i4();wt!==t||Ye!==e?(Og=null,Ng=Gi()+500,qc(t,e)):Mu=Vh(t,e);e:do try{if(at!==0&&Fe!==null){e=Fe;var a=Ir;t:switch(at){case 1:at=0,Ir=null,hc(t,e,a,1);break;case 2:case 9:if(ET(a)){at=0,Ir=null,XT(e);break}e=function(){at!==2&&at!==9||wt!==t||(at=7),aa(t)},a.then(e,e);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:ET(a)?(at=0,Ir=null,XT(e)):(at=0,Ir=null,hc(t,e,a,7));break;case 5:var s=null;switch(Fe.tag){case 26:s=Fe.memoizedState;case 5:case 27:var l=Fe;if(!s||S4(s)){at=0,Ir=null;var c=l.sibling;if(c!==null)Fe=c;else{var u=l.return;u!==null?(Fe=u,Sy(u)):Fe=null}break t}}at=0,Ir=null,hc(t,e,a,5);break;case 6:at=0,Ir=null,hc(t,e,a,6);break;case 8:JA(),Ht=6;break e;default:throw Error(ae(462))}}h7();break}catch(d){n4(t,d)}while(!0);return Aa=xl=null,Ie.H=r,Ie.A=i,st=n,Fe!==null?0:(wt=null,Ye=0,vy(),Ht)}function h7(){for(;Fe!==null&&!MU();)a4(Fe)}function a4(t){var e=MD(t.alternate,t,Ua);t.memoizedProps=t.pendingProps,e===null?Sy(t):Fe=e}function XT(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=zT(n,e,e.pendingProps,e.type,void 0,Ye);break;case 11:e=zT(n,e,e.pendingProps,e.type.render,e.ref,Ye);break;case 5:BA(e);default:DD(n,e),e=Fe=DM(e,Ua),e=MD(n,e,Ua)}t.memoizedProps=t.pendingProps,e===null?Sy(t):Fe=e}function hc(t,e,n,r){Aa=xl=null,BA(e),jc=null,Lf=0;var i=e.return;try{if(n7(t,i,e,n,Ye)){Ht=1,Eg(t,ei(n,t.current)),Fe=null;return}}catch(a){if(i!==null)throw Fe=i,a;Ht=1,Eg(t,ei(n,t.current)),Fe=null;return}e.flags&32768?(et||r===1?t=!0:Mu||Ye&536870912?t=!1:(As=t=!0,(r===2||r===9||r===3||r===6)&&(r=si.current,r!==null&&r.tag===13&&(r.flags|=16384))),s4(e,t)):Sy(e)}function Sy(t){var e=t;do{if(e.flags&32768){s4(e,As);return}t=e.return;var n=i7(e.alternate,e,Ua);if(n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ht===0&&(Ht=5)}function s4(t,e){do{var n=a7(t.alternate,t);if(n!==null){n.flags&=32767,Fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=n}while(t!==null);Ht=6,Fe=null}function YT(t,e,n,r,i,a,s,l,c){t.cancelPendingCommit=null;do Ey();while(Pn!==0);if(st&6)throw Error(ae(327));if(e!==null){if(e===t.current)throw Error(ae(177));if(a=e.lanes|e.childLanes,a|=jA,qU(t,n,a,s,l,c),t===wt&&(Fe=wt=null,Ye=0),Hc=e,ks=t,Tc=n,$1=a,L1=i,JD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,v7(fg,function(){return d4(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ie.T,Ie.T=null,i=tt.p,tt.p=2,s=st,st|=4;try{s7(t,e,n)}finally{st=s,tt.p=i,Ie.T=r}}Pn=1,o4(),l4(),c4()}}function o4(){if(Pn===1){Pn=0;var t=ks,e=Hc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ie.T,Ie.T=null;var r=tt.p;tt.p=2;var i=st;st|=4;try{GD(e,t);var a=H1,s=NM(t.containerInfo),l=a.focusedElem,c=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&TM(l.ownerDocument.documentElement,l)){if(c!==null&&EA(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=l.textContent.length,y=Math.min(c.start,v),b=c.end===void 0?y:Math.min(c.end,v);!m.extend&&y>b&&(s=b,b=y,y=s);var _=vT(l,y),x=vT(l,b);if(_&&x&&(m.rangeCount!==1||m.anchorNode!==_.node||m.anchorOffset!==_.offset||m.focusNode!==x.node||m.focusOffset!==x.offset)){var g=f.createRange();g.setStart(_.node,_.offset),m.removeAllRanges(),y>b?(m.addRange(g),m.extend(x.node,x.offset)):(g.setEnd(x.node,x.offset),m.addRange(g))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var j=f[l];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}$g=!!F1,H1=F1=null}finally{st=i,tt.p=r,Ie.T=n}}t.current=e,Pn=2}}function l4(){if(Pn===2){Pn=0;var t=ks,e=Hc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ie.T,Ie.T=null;var r=tt.p;tt.p=2;var i=st;st|=4;try{zD(t,e.alternate,e)}finally{st=i,tt.p=r,Ie.T=n}}Pn=3}}function c4(){if(Pn===4||Pn===3){Pn=0,DU();var t=ks,e=Hc,n=Tc,r=JD;e.subtreeFlags&10256||e.flags&10256?Pn=5:(Pn=0,Hc=ks=null,u4(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Is=null),yA(n),e=e.stateNode,Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Uh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ie.T,i=tt.p,tt.p=2,Ie.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var l=r[s];a(l.value,{componentStack:l.stack})}}finally{Ie.T=e,tt.p=i}}Tc&3&&Ey(),aa(t),i=t.pendingLanes,n&4194090&&i&42?t===B1?mf++:(mf=0,B1=t):mf=0,Zh(0)}}function u4(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Wh(e)))}function Ey(t){return o4(),l4(),c4(),d4()}function d4(){if(Pn!==5)return!1;var t=ks,e=$1;$1=0;var n=yA(Tc),r=Ie.T,i=tt.p;try{tt.p=32>n?32:n,Ie.T=null,n=L1,L1=null;var a=ks,s=Tc;if(Pn=0,Hc=ks=null,Tc=0,st&6)throw Error(ae(331));var l=st;if(st|=4,QD(a.current),KD(a,a.current,s,n),st=l,Zh(0,!1),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Uh,a)}catch{}return!0}finally{tt.p=i,Ie.T=r,u4(t,e)}}function QT(t,e,n){e=ei(n,e),e=k1(t.stateNode,e,2),t=Cs(t,e,2),t!==null&&(zh(t,2),aa(t))}function vt(t,e,n){if(t.tag===3)QT(t,t,n);else for(;e!==null;){if(e.tag===3){QT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){t=ei(n,t),n=ND(2),r=Cs(e,n,2),r!==null&&(OD(n,r,e,t),zh(r,2),aa(r));break}}e=e.return}}function Qx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(YA=!0,i.add(n),t=p7.bind(null,t,e,n),e.then(t,t))}function p7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,wt===t&&(Ye&n)===n&&(Ht===4||Ht===3&&(Ye&62914560)===Ye&&300>Gi()-ZA?!(st&2)&&qc(t,0):QA|=n,Fc===Ye&&(Fc=0)),aa(t)}function f4(t,e){e===0&&(e=oM()),t=Ru(t,e),t!==null&&(zh(t,e),aa(t))}function m7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),f4(t,n)}function g7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(ae(314))}r!==null&&r.delete(e),f4(t,n)}function v7(t,e){return gA(t,e)}var Cg=null,Ql=null,V1=!1,Ig=!1,Zx=!1,Go=0;function aa(t){t!==Ql&&t.next===null&&(Ql===null?Cg=Ql=t:Ql=Ql.next=t),Ig=!0,V1||(V1=!0,x7())}function Zh(t,e){if(!Zx&&Ig){Zx=!0;do for(var n=!1,r=Cg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,l=r.pingedLanes;a=(1<<31-Br(42|t)+1)-1,a&=i&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ZT(r,a))}else a=Ye,a=hy(r,r===wt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Vh(r,a)||(n=!0,ZT(r,a));r=r.next}while(n);Zx=!1}}function y7(){h4()}function h4(){Ig=V1=!1;var t=0;Go!==0&&(T7()&&(t=Go),Go=0);for(var e=Gi(),n=null,r=Cg;r!==null;){var i=r.next,a=p4(r,e);a===0?(r.next=null,n===null?Cg=i:n.next=i,i===null&&(Ql=n)):(n=r,(t!==0||a&3)&&(Ig=!0)),r=i}Zh(t)}function p4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Br(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=HU(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}if(e=wt,n=Ye,n=hy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(at===2||at===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Sx(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Vh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Sx(r),yA(n)){case 2:case 8:n=iM;break;case 32:n=fg;break;case 268435456:n=aM;break;default:n=fg}return r=m4.bind(null,t),n=gA(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Sx(r),t.callbackPriority=2,t.callbackNode=null,2}function m4(t,e){if(Pn!==0&&Pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ey()&&t.callbackNode!==n)return null;var r=Ye;return r=hy(t,t===wt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(t4(t,r,e),p4(t,Gi()),t.callbackNode!=null&&t.callbackNode===n?m4.bind(null,t):null)}function ZT(t,e){if(Ey())return null;t4(t,e,!0)}function x7(){O7(function(){st&6?gA(rM,y7):h4()})}function eS(){return Go===0&&(Go=sM()),Go}function JT(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$m(""+t)}function eN(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function b7(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=JT((i[br]||null).action),s=r.submitter;s&&(e=(e=s[br]||null)?JT(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var l=new py("action","action",null,r,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Go!==0){var c=s?eN(i,s):new FormData(i);C1(n,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(l.preventDefault(),c=s?eN(i,s):new FormData(i),C1(n,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var Jx=0;Jx<y1.length;Jx++){var eb=y1[Jx],_7=eb.toLowerCase(),w7=eb[0].toUpperCase()+eb.slice(1);ki(_7,"on"+w7)}ki(CM,"onAnimationEnd");ki(IM,"onAnimationIteration");ki(kM,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(BV,"onTransitionRun");ki(UV,"onTransitionStart");ki(VV,"onTransitionCancel");ki(PM,"onTransitionEnd");$c("onMouseEnter",["mouseout","mouseover"]);$c("onMouseLeave",["mouseout","mouseover"]);$c("onPointerEnter",["pointerout","pointerover"]);$c("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bf));function g4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){Sg(d)}i.currentTarget=null,a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){Sg(d)}i.currentTarget=null,a=c}}}}function ze(t,e){var n=e[d1];n===void 0&&(n=e[d1]=new Set);var r=t+"__bubble";n.has(r)||(v4(e,t,2,!1),n.add(r))}function tb(t,e,n){var r=0;e&&(r|=4),v4(n,t,r,e)}var nm="_reactListening"+Math.random().toString(36).slice(2);function tS(t){if(!t[nm]){t[nm]=!0,dM.forEach(function(n){n!=="selectionchange"&&(A7.has(n)||tb(n,!1,t),tb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nm]||(e[nm]=!0,tb("selectionchange",!1,e))}}function v4(t,e,n,r){switch(O4(e)){case 2:var i=Y7;break;case 8:i=Q7;break;default:i=aS}n=i.bind(null,e,n,t),i=void 0,!m1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=ic(l),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=a=s;continue e}l=l.parentNode}}r=r.return}xM(function(){var u=a,d=_A(n),f=[];e:{var h=RM.get(t);if(h!==void 0){var m=py,v=t;switch(t){case"keypress":if(Bm(n)===0)break e;case"keydown":case"keyup":m=vV;break;case"focusin":v="focus",m=kx;break;case"focusout":v="blur",m=kx;break;case"beforeblur":case"afterblur":m=kx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bV;break;case CM:case IM:case kM:m=lV;break;case PM:m=wV;break;case"scroll":case"scrollend":m=rV;break;case"wheel":m=SV;break;case"copy":case"cut":case"paste":m=uV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cT;break;case"toggle":case"beforetoggle":m=jV}var y=(e&4)!==0,b=!y&&(t==="scroll"||t==="scrollend"),_=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,g;x!==null;){var j=x;if(g=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||g===null||_===null||(j=Pf(x,_),j!=null&&y.push(Uf(x,j,g))),b)break;x=x.return}0<y.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==p1&&(v=n.relatedTarget||n.fromElement)&&(ic(v)||v[ku]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?ic(v):null,v!==null&&(b=Bh(v),y=v.tag,v!==b||y!==5&&y!==27&&y!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=oT,j="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=cT,j="onPointerLeave",_="onPointerEnter",x="pointer"),b=m==null?h:Wd(m),g=v==null?h:Wd(v),h=new y(j,x+"leave",m,n,d),h.target=b,h.relatedTarget=g,j=null,ic(d)===u&&(y=new y(_,x+"enter",v,n,d),y.target=g,y.relatedTarget=b,j=y),b=j,m&&v)t:{for(y=m,_=v,x=0,g=y;g;g=Ul(g))x++;for(g=0,j=_;j;j=Ul(j))g++;for(;0<x-g;)y=Ul(y),x--;for(;0<g-x;)_=Ul(_),g--;for(;x--;){if(y===_||_!==null&&y===_.alternate)break t;y=Ul(y),_=Ul(_)}y=null}else y=null;m!==null&&tN(f,h,m,y,!1),v!==null&&b!==null&&tN(f,b,v,y,!0)}}e:{if(h=u?Wd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=hT;else if(fT(h))if(EM)w=DV;else{w=RV;var T=PV}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&bA(u.elementType)&&(w=hT):w=MV;if(w&&(w=w(t,u))){SM(f,w,n,d);break e}T&&T(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&h1(h,"number",h.value)}switch(T=u?Wd(u):window,t){case"focusin":(fT(T)||T.contentEditable==="true")&&(oc=T,g1=u,af=null);break;case"focusout":af=g1=oc=null;break;case"mousedown":v1=!0;break;case"contextmenu":case"mouseup":case"dragend":v1=!1,yT(f,n,d);break;case"selectionchange":if(LV)break;case"keydown":case"keyup":yT(f,n,d)}var S;if(SA)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else sc?wM(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(_M&&n.locale!=="ko"&&(sc||A!=="onCompositionStart"?A==="onCompositionEnd"&&sc&&(S=bM()):(ws=d,wA="value"in ws?ws.value:ws.textContent,sc=!0)),T=kg(u,A),0<T.length&&(A=new lT(A,t,null,n,d),f.push({event:A,listeners:T}),S?A.data=S:(S=AM(n),S!==null&&(A.data=S)))),(S=NV?OV(t,n):CV(t,n))&&(A=kg(u,"onBeforeInput"),0<A.length&&(T=new lT("onBeforeInput","beforeinput",null,n,d),f.push({event:T,listeners:A}),T.data=S)),b7(f,t,u,n,d)}g4(f,e)})}function Uf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Pf(t,n),i!=null&&r.unshift(Uf(t,i,a)),i=Pf(t,e),i!=null&&r.push(Uf(t,i,a))),t.tag===3)return r;t=t.return}return[]}function Ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tN(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===r)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=Pf(n,a),u!=null&&s.unshift(Uf(n,u,c))):i||(u=Pf(n,a),u!=null&&s.push(Uf(n,u,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var S7=/\r\n?/g,E7=/\u0000|\uFFFD/g;function nN(t){return(typeof t=="string"?t:""+t).replace(S7,`
`).replace(E7,"")}function y4(t,e){return e=nN(e),nN(t)===e}function jy(){}function dt(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Lc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Lc(t,""+r);break;case"className":Xp(t,"class",r);break;case"tabIndex":Xp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xp(t,n,r);break;case"style":yM(t,r,a);break;case"data":if(e!=="object"){Xp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$m(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&dt(t,e,"name",i.name,i,null),dt(t,e,"formEncType",i.formEncType,i,null),dt(t,e,"formMethod",i.formMethod,i,null),dt(t,e,"formTarget",i.formTarget,i,null)):(dt(t,e,"encType",i.encType,i,null),dt(t,e,"method",i.method,i,null),dt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$m(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=jy);break;case"onScroll":r!=null&&ze("scroll",t);break;case"onScrollEnd":r!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ae(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ae(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=$m(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Dm(t,"popover",r);break;case"xlinkActuate":ha(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ha(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ha(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ha(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ha(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ha(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ha(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ha(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ha(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Dm(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tV.get(n)||n,Dm(t,n,r))}}function z1(t,e,n,r,i,a){switch(n){case"style":yM(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ae(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ae(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Lc(t,r):(typeof r=="number"||typeof r=="bigint")&&Lc(t,""+r);break;case"onScroll":r!=null&&ze("scroll",t);break;case"onScrollEnd":r!=null&&ze("scrollend",t);break;case"onClick":r!=null&&(t.onclick=jy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[br]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Dm(t,n,r)}}}function Mn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,e));default:dt(t,e,a,s,n,null)}}i&&dt(t,e,"srcSet",n.srcSet,n,null),r&&dt(t,e,"src",n.src,n,null);return;case"input":ze("invalid",t);var l=a=s=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ae(137,e));break;default:dt(t,e,r,d,n,null)}}mM(t,a,l,c,u,s,i,!1),hg(t);return;case"select":ze("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:dt(t,e,i,l,n,null)}e=a,n=s,t.multiple=!!r,e!=null?_c(t,!!r,e,!1):n!=null&&_c(t,!!r,n,!0);return;case"textarea":ze("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(ae(91));break;default:dt(t,e,s,l,n,null)}vM(t,r,i,a),hg(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:dt(t,e,c,r,n,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(r=0;r<Bf.length;r++)ze(Bf[r],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,e));default:dt(t,e,u,r,n,null)}return;default:if(bA(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&z1(t,e,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&dt(t,e,l,r,n,null))}function j7(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||dt(t,e,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ae(137,e));break;default:m!==f&&dt(t,e,h,m,r,f)}}f1(t,s,l,c,u,d,a,i);return;case"select":m=s=l=h=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||dt(t,e,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&dt(t,e,i,a,r,c)}e=l,n=s,r=m,h!=null?_c(t,!!n,h,!1):!!r!=!!n&&(e!=null?_c(t,!!n,e,!0):_c(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:dt(t,e,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ae(91));break;default:i!==a&&dt(t,e,s,i,r,a)}gM(t,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:dt(t,e,v,null,r,h)}for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:dt(t,e,c,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&dt(t,e,y,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ae(137,e));break;default:dt(t,e,u,h,r,m)}return;default:if(bA(e)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!r.hasOwnProperty(b)&&z1(t,e,b,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||z1(t,e,d,h,r,m);return}}for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!r.hasOwnProperty(_)&&dt(t,e,_,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||dt(t,e,f,h,r,m)}var F1=null,H1=null;function Pg(t){return t.nodeType===9?t:t.ownerDocument}function rN(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x4(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function q1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rb=null;function T7(){var t=window.event;return t&&t.type==="popstate"?t===rb?!1:(rb=t,!0):(rb=null,!1)}var b4=typeof setTimeout=="function"?setTimeout:void 0,N7=typeof clearTimeout=="function"?clearTimeout:void 0,iN=typeof Promise=="function"?Promise:void 0,O7=typeof queueMicrotask=="function"?queueMicrotask:typeof iN<"u"?function(t){return iN.resolve(null).then(t).catch(C7)}:b4;function C7(t){setTimeout(function(){throw t})}function no(t){return t==="head"}function aN(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&gf(s.documentElement),n&2&&gf(s.body),n&4)for(n=s.head,gf(n),s=n.firstChild;s;){var l=s.nextSibling,c=s.nodeName;s[Fh]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(i===0){t.removeChild(a),qf(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);qf(e)}function G1(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":G1(n),xA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function I7(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Fh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Si(t.nextSibling),t===null)break}return null}function k7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Si(t.nextSibling),t===null))return null;return t}function W1(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function P7(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var K1=null;function sN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function _4(t,e,n){switch(e=Pg(n),t){case"html":if(t=e.documentElement,!t)throw Error(ae(452));return t;case"head":if(t=e.head,!t)throw Error(ae(453));return t;case"body":if(t=e.body,!t)throw Error(ae(454));return t;default:throw Error(ae(451))}}function gf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);xA(t)}var oi=new Map,oN=new Set;function Rg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xa=tt.d;tt.d={f:R7,r:M7,D:D7,C:$7,L:L7,m:B7,X:V7,S:U7,M:z7};function R7(){var t=Xa.f(),e=Ay();return t||e}function M7(t){var e=Pu(t);e!==null&&e.tag===5&&e.type==="form"?pD(e):Xa.r(t)}var Du=typeof document>"u"?null:document;function w4(t,e,n){var r=Du;if(r&&typeof e=="string"&&e){var i=Jr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),oN.has(i)||(oN.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Mn(e,"link",t),wn(e),r.head.appendChild(e)))}}function D7(t){Xa.D(t),w4("dns-prefetch",t,null)}function $7(t,e){Xa.C(t,e),w4("preconnect",t,e)}function L7(t,e,n){Xa.L(t,e,n);var r=Du;if(r&&t&&e){var i='link[rel="preload"][as="'+Jr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Jr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Jr(n.imageSizes)+'"]')):i+='[href="'+Jr(t)+'"]';var a=i;switch(e){case"style":a=Gc(t);break;case"script":a=$u(t)}oi.has(a)||(t=Nt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),oi.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Jh(a))||e==="script"&&r.querySelector(ep(a))||(e=r.createElement("link"),Mn(e,"link",t),wn(e),r.head.appendChild(e)))}}function B7(t,e){Xa.m(t,e);var n=Du;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Jr(r)+'"][href="'+Jr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=$u(t)}if(!oi.has(a)&&(t=Nt({rel:"modulepreload",href:t},e),oi.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ep(a)))return}r=n.createElement("link"),Mn(r,"link",t),wn(r),n.head.appendChild(r)}}}function U7(t,e,n){Xa.S(t,e,n);var r=Du;if(r&&t){var i=bc(r).hoistableStyles,a=Gc(t);e=e||"default";var s=i.get(a);if(!s){var l={loading:0,preload:null};if(s=r.querySelector(Jh(a)))l.loading=5;else{t=Nt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=oi.get(a))&&nS(t,n);var c=s=r.createElement("link");wn(c),Mn(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Gm(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(a,s)}}}function V7(t,e){Xa.X(t,e);var n=Du;if(n&&t){var r=bc(n).hoistableScripts,i=$u(t),a=r.get(i);a||(a=n.querySelector(ep(i)),a||(t=Nt({src:t,async:!0},e),(e=oi.get(i))&&rS(t,e),a=n.createElement("script"),wn(a),Mn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function z7(t,e){Xa.M(t,e);var n=Du;if(n&&t){var r=bc(n).hoistableScripts,i=$u(t),a=r.get(i);a||(a=n.querySelector(ep(i)),a||(t=Nt({src:t,async:!0,type:"module"},e),(e=oi.get(i))&&rS(t,e),a=n.createElement("script"),wn(a),Mn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function lN(t,e,n,r){var i=(i=Ns.current)?Rg(i):null;if(!i)throw Error(ae(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Gc(n.href),n=bc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Gc(n.href);var a=bc(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Jh(t)))&&!a._p&&(s.instance=a,s.state.loading=5),oi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},oi.set(t,n),a||F7(i,t,n,s.state))),e&&r===null)throw Error(ae(528,""));return s}if(e&&r!==null)throw Error(ae(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=$u(n),n=bc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ae(444,t))}}function Gc(t){return'href="'+Jr(t)+'"'}function Jh(t){return'link[rel="stylesheet"]['+t+"]"}function A4(t){return Nt({},t,{"data-precedence":t.precedence,precedence:null})}function F7(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Mn(e,"link",n),wn(e),t.head.appendChild(e))}function $u(t){return'[src="'+Jr(t)+'"]'}function ep(t){return"script[async]"+t}function cN(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Jr(n.href)+'"]');if(r)return e.instance=r,wn(r),r;var i=Nt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),wn(r),Mn(r,"style",i),Gm(r,n.precedence,t),e.instance=r;case"stylesheet":i=Gc(n.href);var a=t.querySelector(Jh(i));if(a)return e.state.loading|=4,e.instance=a,wn(a),a;r=A4(n),(i=oi.get(i))&&nS(r,i),a=(t.ownerDocument||t).createElement("link"),wn(a);var s=a;return s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Mn(a,"link",r),e.state.loading|=4,Gm(a,n.precedence,t),e.instance=a;case"script":return a=$u(n.src),(i=t.querySelector(ep(a)))?(e.instance=i,wn(i),i):(r=n,(i=oi.get(a))&&(r=Nt({},n),rS(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),wn(i),Mn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ae(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Gm(r,n.precedence,t));return e.instance}function Gm(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var l=r[s];if(l.dataset.precedence===e)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function nS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function rS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Wm=null;function uN(t,e,n){if(Wm===null){var r=new Map,i=Wm=new Map;i.set(n,r)}else i=Wm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Fh]||a[Xn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var l=r.get(s);l?l.push(a):r.set(s,[a])}}return r}function dN(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function H7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function S4(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Vf=null;function q7(){}function G7(t,e,n){if(Vf===null)throw Error(ae(475));var r=Vf;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Gc(n.href),a=t.querySelector(Jh(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Mg.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,wn(a);return}a=t.ownerDocument||t,n=A4(n),(i=oi.get(i))&&nS(n,i),a=a.createElement("link"),wn(a);var s=a;s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Mn(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Mg.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function W7(){if(Vf===null)throw Error(ae(475));var t=Vf;return t.stylesheets&&t.count===0&&X1(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&X1(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Mg(){if(this.count--,this.count===0){if(this.stylesheets)X1(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dg=null;function X1(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dg=new Map,e.forEach(K7,t),Dg=null,Mg.call(t))}function K7(t,e){if(!(e.state.loading&4)){var n=Dg.get(t);if(n)var r=n.get(null);else{n=new Map,Dg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Mg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var zf={$$typeof:ba,Provider:null,Consumer:null,_currentValue:Uo,_currentValue2:Uo,_threadCount:0};function X7(t,e,n,r,i,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ex(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ex(0),this.hiddenUpdates=Ex(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function E4(t,e,n,r,i,a,s,l,c,u,d,f){return t=new X7(t,e,n,s,l,c,u,f),e=1,a===!0&&(e|=24),a=Pr(3,null,null,e),t.current=a,a.stateNode=t,e=IA(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},PA(a),t}function j4(t){return t?(t=uc,t):uc}function T4(t,e,n,r,i,a){i=j4(i),r.context===null?r.context=i:r.pendingContext=i,r=Os(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Cs(t,r,e),n!==null&&(Vr(n,t,e),lf(n,t,e))}function fN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iS(t,e){fN(t,e),(t=t.alternate)&&fN(t,e)}function N4(t){if(t.tag===13){var e=Ru(t,67108864);e!==null&&Vr(e,t,67108864),iS(t,67108864)}}var $g=!0;function Y7(t,e,n,r){var i=Ie.T;Ie.T=null;var a=tt.p;try{tt.p=2,aS(t,e,n,r)}finally{tt.p=a,Ie.T=i}}function Q7(t,e,n,r){var i=Ie.T;Ie.T=null;var a=tt.p;try{tt.p=8,aS(t,e,n,r)}finally{tt.p=a,Ie.T=i}}function aS(t,e,n,r){if($g){var i=Y1(r);if(i===null)nb(t,e,r,Lg,n),hN(t,r);else if(J7(i,t,e,n,r))r.stopPropagation();else if(hN(t,r),e&4&&-1<Z7.indexOf(t)){for(;i!==null;){var a=Pu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=So(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var c=1<<31-Br(s);l.entanglements[1]|=c,s&=~c}aa(a),!(st&6)&&(Ng=Gi()+500,Zh(0))}}break;case 13:l=Ru(a,2),l!==null&&Vr(l,a,2),Ay(),iS(a,2)}if(a=Y1(r),a===null&&nb(t,e,r,Lg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else nb(t,e,r,null,n)}}function Y1(t){return t=_A(t),sS(t)}var Lg=null;function sS(t){if(Lg=null,t=ic(t),t!==null){var e=Bh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=JR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Lg=t,null}function O4(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($U()){case rM:return 2;case iM:return 8;case fg:case LU:return 32;case aM:return 268435456;default:return 32}default:return 32}}var Q1=!1,Ps=null,Rs=null,Ms=null,Ff=new Map,Hf=new Map,ms=[],Z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hN(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Ff.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(e.pointerId)}}function Td(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Pu(e),e!==null&&N4(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J7(t,e,n,r,i){switch(e){case"focusin":return Ps=Td(Ps,t,e,n,r,i),!0;case"dragenter":return Rs=Td(Rs,t,e,n,r,i),!0;case"mouseover":return Ms=Td(Ms,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ff.set(a,Td(Ff.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Hf.set(a,Td(Hf.get(a)||null,t,e,n,r,i)),!0}return!1}function C4(t){var e=ic(t.target);if(e!==null){var n=Bh(e);if(n!==null){if(e=n.tag,e===13){if(e=JR(n),e!==null){t.blockedOn=e,GU(t.priority,function(){if(n.tag===13){var r=Ur();r=vA(r);var i=Ru(n,r);i!==null&&Vr(i,n,r),iS(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Km(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Y1(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);p1=r,n.target.dispatchEvent(r),p1=null}else return e=Pu(n),e!==null&&N4(e),t.blockedOn=n,!1;e.shift()}return!0}function pN(t,e,n){Km(t)&&n.delete(e)}function ez(){Q1=!1,Ps!==null&&Km(Ps)&&(Ps=null),Rs!==null&&Km(Rs)&&(Rs=null),Ms!==null&&Km(Ms)&&(Ms=null),Ff.forEach(pN),Hf.forEach(pN)}function rm(t,e){t.blockedOn===e&&(t.blockedOn=null,Q1||(Q1=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,ez)))}var im=null;function mN(t){im!==t&&(im=t,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,function(){im===t&&(im=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(sS(r||n)===null)continue;break}var a=Pu(n);a!==null&&(t.splice(e,3),e-=3,C1(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function qf(t){function e(c){return rm(c,t)}Ps!==null&&rm(Ps,t),Rs!==null&&rm(Rs,t),Ms!==null&&rm(Ms,t),Ff.forEach(e),Hf.forEach(e);for(var n=0;n<ms.length;n++){var r=ms[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)C4(n),n.blockedOn===null&&ms.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[br]||null;if(typeof a=="function")s||mN(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[br]||null)l=s.formAction;else if(sS(i)!==null)continue}else l=s.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),mN(n)}}}function oS(t){this._internalRoot=t}Ty.prototype.render=oS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));var n=e.current,r=Ur();T4(n,r,t,e,null,null)};Ty.prototype.unmount=oS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;T4(t.current,2,null,t,null,null),Ay(),e[ku]=null}};function Ty(t){this._internalRoot=t}Ty.prototype.unstable_scheduleHydration=function(t){if(t){var e=uM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ms.length&&e!==0&&e<ms[n].priority;n++);ms.splice(n,0,t),n===0&&C4(t)}};var gN=QR.version;if(gN!=="19.1.0")throw Error(ae(527,gN,"19.1.0"));tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=CU(e),t=t!==null?eM(t):null,t=t===null?null:t.stateNode,t};var tz={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!am.isDisabled&&am.supportsFiber)try{Uh=am.inject(tz),Lr=am}catch{}}dy.createRoot=function(t,e){if(!ZR(t))throw Error(ae(299));var n=!1,r="",i=ED,a=jD,s=TD,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=E4(t,1,!1,null,null,n,r,i,a,s,l,null),t[ku]=e.current,tS(t),new oS(e)};dy.hydrateRoot=function(t,e,n){if(!ZR(t))throw Error(ae(299));var r=!1,i="",a=ED,s=jD,l=TD,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=E4(t,1,!0,e,n??null,r,i,a,s,l,c,u),e.context=j4(null),n=e.current,r=Ur(),r=vA(r),i=Os(r),i.callback=null,Cs(n,i,r),n=r,e.current.lanes=n,zh(e,n),aa(e),t[ku]=e.current,tS(t),new Ty(e)};dy.version="19.1.0";function I4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I4)}catch(t){console.error(t)}}I4(),qR.exports=dy;var nz=qR.exports,lS={};Object.defineProperty(lS,"__esModule",{value:!0});lS.parse=cz;lS.serialize=uz;const rz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,iz=/^[\u0021-\u003A\u003C-\u007E]*$/,az=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,sz=/^[\u0020-\u003A\u003D-\u007E]*$/,oz=Object.prototype.toString,lz=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function cz(t,e){const n=new lz,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||dz;let a=0;do{const s=t.indexOf("=",a);if(s===-1)break;const l=t.indexOf(";",a),c=l===-1?r:l;if(s>c){a=t.lastIndexOf(";",s-1)+1;continue}const u=vN(t,a,s),d=yN(t,s,u),f=t.slice(u,d);if(n[f]===void 0){let h=vN(t,s+1,c),m=yN(t,c,h);const v=i(t.slice(h,m));n[f]=v}a=c+1}while(a<r);return n}function vN(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function yN(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function uz(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!rz.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!iz.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!az.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!sz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!fz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function dz(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function fz(t){return oz.call(t)==="[object Date]"}var xN="popstate";function hz(t={}){function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return Z1("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gf(i)}return mz(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ea(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pz(){return Math.random().toString(36).substring(2,10)}function bN(t,e){return{usr:t.state,key:t.key,idx:e}}function Z1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lu(e):e,state:n,key:e&&e.key||r||pz()}}function Gf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let b=d(),_=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:_})}function h(b,_){l="PUSH";let x=Z1(y.location,b,_);u=d()+1;let g=bN(x,u),j=y.createHref(x);try{s.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(j)}a&&c&&c({action:l,location:y.location,delta:1})}function m(b,_){l="REPLACE";let x=Z1(y.location,b,_);u=d();let g=bN(x,u),j=y.createHref(x);s.replaceState(g,"",j),a&&c&&c({action:l,location:y.location,delta:0})}function v(b){return gz(b)}let y={get action(){return l},get location(){return t(i,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xN,f),c=b,()=>{i.removeEventListener(xN,f),c=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let _=v(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(b){return s.go(b)}};return y}function gz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function k4(t,e,n="/"){return vz(t,e,n,!1)}function vz(t,e,n,r){let i=typeof e=="string"?Lu(e):e,a=Va(i.pathname||"/",n);if(a==null)return null;let s=P4(t);yz(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=Oz(a);l=Tz(s[c],u,r)}return l}function P4(t,e=[],n=[],r=""){let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ka([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&($t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),P4(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Ez(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of R4(a.path))i(a,s,c)}),e}function R4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=R4(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function yz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xz=/^:[\w-]+$/,bz=3,_z=2,wz=1,Az=10,Sz=-2,_N=t=>t==="*";function Ez(t,e){let n=t.split("/"),r=n.length;return n.some(_N)&&(r+=Sz),e&&(r+=_z),n.filter(i=>!_N(i)).reduce((i,a)=>i+(xz.test(a)?bz:a===""?wz:Az),r)}function jz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Tz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=Bg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Bg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ka([a,f.pathname]),pathnameBase:Pz(ka([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ka([a,f.pathnameBase]))}return s}function Bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=l[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Nz(t,e=!1,n=!0){ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Oz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ea(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Va(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lu(t):t;return{pathname:n?n.startsWith("/")?n:Iz(n,e):e,search:Rz(r),hash:Mz(i)}}function Iz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ib(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M4(t){let e=kz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function D4(t,e,n,r=!1){let i;typeof t=="string"?i=Lu(t):(i={...t},$t(!i.pathname||!i.pathname.includes("?"),ib("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),ib("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),ib("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=Cz(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ka=t=>t.join("/").replace(/\/\/+/g,"/"),Pz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Mz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $4=["POST","PUT","PATCH","DELETE"];new Set($4);var $z=["GET",...$4];new Set($z);var Bu=k.createContext(null);Bu.displayName="DataRouter";var Ny=k.createContext(null);Ny.displayName="DataRouterState";var L4=k.createContext({isTransitioning:!1});L4.displayName="ViewTransition";var Lz=k.createContext(new Map);Lz.displayName="Fetchers";var Bz=k.createContext(null);Bz.displayName="Await";var sa=k.createContext(null);sa.displayName="Navigation";var tp=k.createContext(null);tp.displayName="Location";var Ya=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ya.displayName="Route";var cS=k.createContext(null);cS.displayName="RouteError";function Uz(t,{relative:e}={}){$t(np(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(sa),{hash:i,pathname:a,search:s}=rp(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:ka([n,a])),r.createHref({pathname:l,search:s,hash:i})}function np(){return k.useContext(tp)!=null}function bl(){return $t(np(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(tp).location}var B4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U4(t){k.useContext(sa).static||k.useLayoutEffect(t)}function Vz(){let{isDataRoute:t}=k.useContext(Ya);return t?eF():zz()}function zz(){$t(np(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Bu),{basename:e,navigator:n}=k.useContext(sa),{matches:r}=k.useContext(Ya),{pathname:i}=bl(),a=JSON.stringify(M4(r)),s=k.useRef(!1);return U4(()=>{s.current=!0}),k.useCallback((c,u={})=>{if(ea(s.current,B4),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=D4(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ka([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}k.createContext(null);function rp(t,{relative:e}={}){let{matches:n}=k.useContext(Ya),{pathname:r}=bl(),i=JSON.stringify(M4(n));return k.useMemo(()=>D4(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Fz(t,e){return V4(t,e)}function V4(t,e,n,r){var _;$t(np(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(sa),{matches:a}=k.useContext(Ya),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let x=d&&d.path||"";z4(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=bl(),h;if(e){let x=typeof e=="string"?Lu(e):e;$t(u==="/"||((_=x.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),h=x}else h=f;let m=h.pathname||"/",v=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=k4(t,{pathname:v});ea(d||y!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ea(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Kz(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ka([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ka([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,r);return e&&b?k.createElement(tp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},b):b}function Hz(){let t=Jz(),e=Dz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}var qz=k.createElement(Hz,null),Gz=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Ya.Provider,{value:this.props.routeContext},k.createElement(cS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wz({routeContext:t,match:e,children:n}){let r=k.useContext(Bu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Ya.Provider,{value:t},n)}function Kz(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);$t(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,h=!1,m=null,v=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||qz,s&&(l<0&&d===0?(z4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):l===d&&(h=!0,v=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,d+1)),b=()=>{let _;return f?_=m:h?_=v:u.route.Component?_=k.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,k.createElement(Wz,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?k.createElement(Gz,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function uS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xz(t){let e=k.useContext(Bu);return $t(e,uS(t)),e}function Yz(t){let e=k.useContext(Ny);return $t(e,uS(t)),e}function Qz(t){let e=k.useContext(Ya);return $t(e,uS(t)),e}function dS(t){let e=Qz(t),n=e.matches[e.matches.length-1];return $t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Zz(){return dS("useRouteId")}function Jz(){var r;let t=k.useContext(cS),e=Yz("useRouteError"),n=dS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function eF(){let{router:t}=Xz("useNavigate"),e=dS("useNavigate"),n=k.useRef(!1);return U4(()=>{n.current=!0}),k.useCallback(async(i,a={})=>{ea(n.current,B4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var wN={};function z4(t,e,n){!e&&!wN[t]&&(wN[t]=!0,ea(!1,n))}k.memo(tF);function tF({routes:t,future:e,state:n}){return V4(t,void 0,n,e)}function F4(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){$t(!np(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Lu(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,m=k.useMemo(()=>{let v=Va(c,s);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:r}},[s,c,u,d,f,h,r]);return ea(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(sa.Provider,{value:l},k.createElement(tp.Provider,{children:e,value:m}))}function rF({children:t,location:e}){return Fz(J1(t),e)}function J1(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){n.push.apply(n,J1(r.props.children,a));return}$t(r.type===F4,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=J1(r.props.children,a)),n.push(s)}),n}var Xm="get",Ym="application/x-www-form-urlencoded";function Oy(t){return t!=null&&typeof t.tagName=="string"}function iF(t){return Oy(t)&&t.tagName.toLowerCase()==="button"}function aF(t){return Oy(t)&&t.tagName.toLowerCase()==="form"}function sF(t){return Oy(t)&&t.tagName.toLowerCase()==="input"}function oF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lF(t,e){return t.button===0&&(!e||e==="_self")&&!oF(t)}var sm=null;function cF(){if(sm===null)try{new FormData(document.createElement("form"),0),sm=!1}catch{sm=!0}return sm}var uF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ab(t){return t!=null&&!uF.has(t)?(ea(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ym}"`),null):t}function dF(t,e){let n,r,i,a,s;if(aF(t)){let l=t.getAttribute("action");r=l?Va(l,e):null,n=t.getAttribute("method")||Xm,i=ab(t.getAttribute("enctype"))||Ym,a=new FormData(t)}else if(iF(t)||sF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Va(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Xm,i=ab(t.getAttribute("formenctype"))||ab(l.getAttribute("enctype"))||Ym,a=new FormData(l,t),!cF()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Oy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xm,r=null,i=Ym,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function fS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function fF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await fF(a,n);return s.links?s.links():[]}return[]}));return yF(r.flat(1).filter(hF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AN(t,e,n,r,i,a){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function mF(t,e,{includeHydrateFallback:n}={}){return gF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function gF(t){return[...new Set(t)]}function vF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function yF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(vF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xF=new Set([100,101,204,205]);function bF(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Va(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function H4(){let t=k.useContext(Bu);return fS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _F(){let t=k.useContext(Ny);return fS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hS=k.createContext(void 0);hS.displayName="FrameworkContext";function q4(){let t=k.useContext(hS);return fS(t,"You must render this element inside a <HydratedRouter> element"),t}function wF(t,e){let n=k.useContext(hS),[r,i]=k.useState(!1),[a,s]=k.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=k.useRef(null);k.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=_=>{_.forEach(x=>{s(x.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[t]),k.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Nd(l,m),onBlur:Nd(c,v),onMouseEnter:Nd(u,m),onMouseLeave:Nd(d,v),onTouchStart:Nd(f,m)}]:[!1,h,{}]}function Nd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AF({page:t,...e}){let{router:n}=H4(),r=k.useMemo(()=>k4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(EF,{page:t,matches:r,...e}):null}function SF(t){let{manifest:e,routeModules:n}=q4(),[r,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return pF(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function EF({page:t,matches:e,...n}){let r=bl(),{manifest:i,routeModules:a}=q4(),{basename:s}=H4(),{loaderData:l,matches:c}=_F(),u=k.useMemo(()=>AN(t,e,c,i,r,"data"),[t,e,c,i,r]),d=k.useMemo(()=>AN(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(e.forEach(_=>{var g;let x=i.routes[_.route.id];!x||!x.hasLoader||(!u.some(j=>j.route.id===_.route.id)&&_.route.id in l&&((g=a[_.route.id])!=null&&g.shouldRevalidate)||x.hasClientLoader?y=!0:v.add(_.route.id))}),v.size===0)return[];let b=bF(t,s);return y&&v.size>0&&b.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[b.pathname+b.search]},[s,l,r,i,u,e,t,a]),h=k.useMemo(()=>mF(d,i),[d,i]),m=SF(d);return k.createElement(k.Fragment,null,f.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:y})=>k.createElement("link",{key:v,...y})))}function jF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var G4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G4&&(window.__reactRouterVersion="7.6.2")}catch{}function TF({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=hz({window:n,v5Compat:!0}));let i=r.current,[a,s]=k.useState({action:i.action,location:i.location}),l=k.useCallback(c=>{k.startTransition(()=>s(c))},[s]);return k.useLayoutEffect(()=>i.listen(l),[i,l]),k.createElement(nF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var W4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K4=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:v}=k.useContext(sa),y=typeof u=="string"&&W4.test(u),b,_=!1;if(typeof u=="string"&&y&&(b=u,G4))try{let N=new URL(window.location.href),I=u.startsWith("//")?new URL(N.protocol+u):new URL(u),C=Va(I.pathname,v);I.origin===N.origin&&C!=null?u=C+I.search+I.hash:_=!0}catch{ea(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=Uz(u,{relative:i}),[g,j,w]=wF(r,h),T=IF(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function S(N){e&&e(N),N.defaultPrevented||T(N)}let A=k.createElement("a",{...h,...w,href:b||x,onClick:_||a?e:S,ref:jF(m,j),target:c,"data-discover":!y&&n==="render"?"true":void 0});return g&&!y?k.createElement(k.Fragment,null,A,k.createElement(AF,{page:x})):A});K4.displayName="Link";var NF=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let f=rp(s,{relative:u.relative}),h=bl(),m=k.useContext(Ny),{navigator:v,basename:y}=k.useContext(sa),b=m!=null&&DF(f)&&l===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),g=g?g.toLowerCase():null,_=_.toLowerCase()),g&&y&&(g=Va(g,y)||g);const j=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let w=x===_||!i&&x.startsWith(_)&&x.charAt(j)==="/",T=g!=null&&(g===_||!i&&g.startsWith(_)&&g.charAt(_.length)==="/"),S={isActive:w,isPending:T,isTransitioning:b},A=w?e:void 0,N;typeof r=="function"?N=r(S):N=[r,w?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(S):a;return k.createElement(K4,{...u,"aria-current":A,className:N,ref:d,style:I,to:s,viewTransition:l},typeof c=="function"?c(S):c)});NF.displayName="NavLink";var OF=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Xm,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let v=RF(),y=MF(l,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&W4.test(l),x=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,w=(j==null?void 0:j.getAttribute("formmethod"))||s;v(j||g.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return k.createElement("form",{ref:m,method:b,action:y,onSubmit:r?c:x,...h,"data-discover":!_&&t==="render"?"true":void 0})});OF.displayName="Form";function CF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X4(t){let e=k.useContext(Bu);return $t(e,CF(t)),e}function IF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=Vz(),c=bl(),u=rp(t,{relative:a});return k.useCallback(d=>{if(lF(d,e)){d.preventDefault();let f=n!==void 0?n:Gf(c)===Gf(u);l(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,u,n,r,e,t,i,a,s])}var kF=0,PF=()=>`__${String(++kF)}__`;function RF(){let{router:t}=X4("useSubmit"),{basename:e}=k.useContext(sa),n=Zz();return k.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:u}=dF(r,e);if(i.navigate===!1){let d=i.fetcherKey||PF();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function MF(t,{relative:e}={}){let{basename:n}=k.useContext(sa),r=k.useContext(Ya);$t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...rp(t||".",{relative:e})},s=bl();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ka([n,a.pathname])),Gf(a)}function DF(t,e={}){let n=k.useContext(L4);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X4("useViewTransitionState"),i=rp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Va(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bg(i.pathname,s)!=null||Bg(i.pathname,a)!=null}[...xF];const $F=()=>{};var SN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Q4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,m=u&63;c||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||f==null)throw new BF;const h=a<<2|l>>4;if(r.push(h),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UF=function(t){const e=Y4(t);return Q4.encodeByteArray(e,!0)},Ug=function(t){return UF(t).replace(/\./g,"")},Z4=function(t){try{return Q4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=()=>VF().__FIREBASE_DEFAULTS__,FF=()=>{if(typeof process>"u"||typeof SN>"u")return;const t=SN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z4(t[1]);return e&&JSON.parse(e)},Cy=()=>{try{return $F()||zF()||FF()||HF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},J4=t=>{var e,n;return(n=(e=Cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},e6=t=>{const e=J4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t6=()=>{var t;return(t=Cy())===null||t===void 0?void 0:t.config},n6=t=>{var e;return(e=Cy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){return t.endsWith(".cloudworkstations.dev")}async function pS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ug(JSON.stringify(n)),Ug(JSON.stringify(s)),""].join(".")}const vf={};function GF(){const t={prod:[],emulator:[]};for(const e of Object.keys(vf))vf[e]?t.emulator.push(e):t.prod.push(e);return t}function WF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EN=!1;function mS(t,e){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||vf[t]===e||vf[t]||EN)return;vf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=GF().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{EN=!0,s()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=WF(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const g=h.element;l(g),d(b,y);const j=u();c(x,_),g.append(x,v,b,j),document.body.appendChild(g)}a?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}function XF(){var t;const e=(t=Cy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZF(){const t=Jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JF(){return!XF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a6(){try{return typeof indexedDB=="object"}catch{return!1}}function s6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function eH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tH,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?nH(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new ui(i,l,r)}}function nH(t,e){return t.replace(rH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rH=/\{\$([^}]+)}/g;function iH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(jN(a)&&jN(s)){if(!qs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aH(t,e){const n=new sH(t,e);return n.subscribe.bind(n)}class sH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sb),i.error===void 0&&(i.error=sb),i.complete===void 0&&(i.complete=sb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=1e3,cH=2,uH=4*60*60*1e3,dH=.5;function TN(t,e=lH,n=cH){const r=e*Math.pow(n,t),i=Math.round(dH*r*(Math.random()-.5)*2);return Math.min(uH,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pH(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hH(t){return t===To?void 0:t}function pH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const gH={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},vH=Ge.INFO,yH={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},xH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=vH,this._logHandler=xH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const bH=(t,e)=>e.some(n=>t instanceof n);let NN,ON;function _H(){return NN||(NN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wH(){return ON||(ON=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o6=new WeakMap,e_=new WeakMap,l6=new WeakMap,ob=new WeakMap,gS=new WeakMap;function AH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ds(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&o6.set(n,t)}).catch(()=>{}),gS.set(e,t),e}function SH(t){if(e_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});e_.set(t,e)}let t_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EH(t){t_=t(t_)}function jH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lb(this),e,...n);return l6.set(r,e.sort?e.sort():[e]),Ds(r)}:wH().includes(t)?function(...e){return t.apply(lb(this),e),Ds(o6.get(this))}:function(...e){return Ds(t.apply(lb(this),e))}}function TH(t){return typeof t=="function"?jH(t):(t instanceof IDBTransaction&&SH(t),bH(t,_H())?new Proxy(t,t_):t)}function Ds(t){if(t instanceof IDBRequest)return AH(t);if(ob.has(t))return ob.get(t);const e=TH(t);return e!==t&&(ob.set(t,e),gS.set(e,t)),e}const lb=t=>gS.get(t);function c6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Ds(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ds(s.result),c.oldVersion,c.newVersion,Ds(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const NH=["get","getKey","getAll","getAllKeys","count"],OH=["put","add","delete","clear"],cb=new Map;function CN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cb.get(e))return cb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NH.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return cb.set(e,a),a}EH(t=>({...t,get:(e,n,r)=>CN(e,n)||t.get(e,n,r),has:(e,n)=>!!CN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n_="@firebase/app",IN="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Iy("@firebase/app"),kH="@firebase/app-compat",PH="@firebase/analytics-compat",RH="@firebase/analytics",MH="@firebase/app-check-compat",DH="@firebase/app-check",$H="@firebase/auth",LH="@firebase/auth-compat",BH="@firebase/database",UH="@firebase/data-connect",VH="@firebase/database-compat",zH="@firebase/functions",FH="@firebase/functions-compat",HH="@firebase/installations",qH="@firebase/installations-compat",GH="@firebase/messaging",WH="@firebase/messaging-compat",KH="@firebase/performance",XH="@firebase/performance-compat",YH="@firebase/remote-config",QH="@firebase/remote-config-compat",ZH="@firebase/storage",JH="@firebase/storage-compat",eq="@firebase/firestore",tq="@firebase/ai",nq="@firebase/firestore-compat",rq="firebase",iq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="[DEFAULT]",aq={[n_]:"fire-core",[kH]:"fire-core-compat",[RH]:"fire-analytics",[PH]:"fire-analytics-compat",[DH]:"fire-app-check",[MH]:"fire-app-check-compat",[$H]:"fire-auth",[LH]:"fire-auth-compat",[BH]:"fire-rtdb",[UH]:"fire-data-connect",[VH]:"fire-rtdb-compat",[zH]:"fire-fn",[FH]:"fire-fn-compat",[HH]:"fire-iid",[qH]:"fire-iid-compat",[GH]:"fire-fcm",[WH]:"fire-fcm-compat",[KH]:"fire-perf",[XH]:"fire-perf-compat",[YH]:"fire-rc",[QH]:"fire-rc-compat",[ZH]:"fire-gcs",[JH]:"fire-gcs-compat",[eq]:"fire-fst",[nq]:"fire-fst-compat",[tq]:"fire-vertex","fire-js":"fire-js",[rq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new Map,sq=new Map,i_=new Map;function kN(t,e){try{t.container.addComponent(e)}catch(n){za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ni(t){const e=t.name;if(i_.has(e))return za.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(const n of Vg.values())kN(n,t);for(const n of sq.values())kN(n,t);return!0}function io(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new _l("app","Firebase",oq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=iq;function u6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:r_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw $s.create("bad-app-name",{appName:String(i)});if(n||(n=t6()),!n)throw $s.create("no-options");const a=Vg.get(i);if(a){if(qs(n,a.options)&&qs(r,a.config))return a;throw $s.create("duplicate-app",{appName:i})}const s=new mH(i);for(const c of i_.values())s.addComponent(c);const l=new lq(n,r,s);return Vg.set(i,l),l}function ky(t=r_){const e=Vg.get(t);if(!e&&t===r_&&t6())return u6();if(!e)throw $s.create("no-app",{appName:t});return e}function yr(t,e,n){var r;let i=(r=aq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),za.warn(l.join(" "));return}Ni(new li(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq="firebase-heartbeat-database",uq=1,Wf="firebase-heartbeat-store";let ub=null;function d6(){return ub||(ub=c6(cq,uq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),ub}async function dq(t){try{const n=(await d6()).transaction(Wf),r=await n.objectStore(Wf).get(f6(t));return await n.done,r}catch(e){if(e instanceof ui)za.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});za.warn(n.message)}}}async function PN(t,e){try{const r=(await d6()).transaction(Wf,"readwrite");await r.objectStore(Wf).put(e,f6(t)),await r.done}catch(n){if(n instanceof ui)za.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});za.warn(r.message)}}}function f6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=1024,hq=30;class pq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=RN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hq){const s=vq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){za.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RN(),{heartbeatsToSend:r,unsentEntries:i}=mq(this._heartbeatsCache.heartbeats),a=Ug(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return za.warn(n),""}}}function RN(){return new Date().toISOString().substring(0,10)}function mq(t,e=fq){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),MN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a6()?s6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MN(t){return Ug(JSON.stringify({version:2,heartbeats:t})).length}function vq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t){Ni(new li("platform-logger",e=>new CH(e),"PRIVATE")),Ni(new li("heartbeat",e=>new pq(e),"PRIVATE")),yr(n_,IN,t),yr(n_,IN,"esm2017"),yr("fire-js","")}yq("");function vS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function h6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xq=h6,p6=new _l("auth","Firebase",h6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Iy("@firebase/auth");function bq(t,...e){zg.logLevel<=Ge.WARN&&zg.warn(`Auth (${wl}): ${t}`,...e)}function Qm(t,...e){zg.logLevel<=Ge.ERROR&&zg.error(`Auth (${wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,...e){throw xS(t,...e)}function Ei(t,...e){return xS(t,...e)}function yS(t,e,n){const r=Object.assign(Object.assign({},xq()),{[e]:n});return new _l("auth","Firebase",r).create(e,{appName:t.name})}function Wo(t){return yS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _q(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ta(t,"argument-error"),yS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p6.create(t,...e)}function ke(t,e,...n){if(!t)throw xS(e,...n)}function Ea(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qm(e),new Error(e)}function Fa(t,e){t||Ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wq(){return DN()==="http:"||DN()==="https:"}function DN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wq()||i6()||"connection"in navigator)?navigator.onLine:!0}function Sq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fa(n>e,"Short delay should be less than long delay!"),this.isMobile=KF()||QF()}get(){return Aq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e){Fa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tq=new ap(3e4,6e4);function _S(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Uu(t,e,n,r,i={}){return g6(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=ip(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return YF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ro(t.emulatorConfig.host)&&(u.credentials="include"),m6.fetch()(await v6(t,t.config.apiHost,n,l),u)})}async function g6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Eq),e);try{const i=new Oq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw om(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw om(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw om(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yS(t,d,u);ta(t,d)}}catch(i){if(i instanceof ui)throw i;ta(t,"network-request-failed",{message:String(i)})}}async function Nq(t,e,n,r,i={}){const a=await Uu(t,e,n,r,i);return"mfaPendingCredential"in a&&ta(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function v6(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?bS(t.config,i):`${t.config.apiScheme}://${i}`;return jq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class Oq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),Tq.get())})}}function om(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ei(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e){return Uu(t,"POST","/v1/accounts:delete",e)}async function Fg(t,e){return Uu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Iq(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=wS(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:yf(db(i.auth_time)),issuedAtTime:yf(db(i.iat)),expirationTime:yf(db(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function db(t){return Number(t)*1e3}function wS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Z4(n);return i?JSON.parse(i):(Qm("Failed to decode base64 JWT payload"),null)}catch(i){return Qm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $N(t){const e=wS(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&kq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yf(this.lastLoginAt),this.creationTime=yf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kf(t,Fg(n,{idToken:r}));ke(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?y6(a.providerUserInfo):[],l=Mq(t.providerData,s),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new s_(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Rq(t){const e=Mt(t);await Hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y6(t){return t.map(e=>{var{providerId:n}=e,r=vS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dq(t,e){const n=await g6(t,{},async()=>{const r=ip({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await v6(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&ro(t.emulatorConfig.host)&&(c.credentials="include"),m6.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $q(t,e){return Uu(t,"POST","/v2/accounts:revokeToken",_S(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$N(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=$N(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Dq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Nc;return r&&(ke(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=vS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new s_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Kf(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Iq(this,e)}reload(){return Rq(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Wo(this.auth));const e=await this.getIdToken();return await Kf(this,Cq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:g,emailVerified:j,isAnonymous:w,providerData:T,stsTokenManager:S}=n;ke(g&&S,e,"internal-error");const A=Nc.fromJSON(this.name,S);ke(typeof g=="string",e,"internal-error"),ss(f,e.name),ss(h,e.name),ke(typeof j=="boolean",e,"internal-error"),ke(typeof w=="boolean",e,"internal-error"),ss(m,e.name),ss(v,e.name),ss(y,e.name),ss(b,e.name),ss(_,e.name),ss(x,e.name);const N=new Ai({uid:g,auth:e,email:h,emailVerified:j,displayName:f,isAnonymous:w,photoURL:v,phoneNumber:m,tenantId:y,stsTokenManager:A,createdAt:_,lastLoginAt:x});return T&&Array.isArray(T)&&(N.providerData=T.map(I=>Object.assign({},I))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nc;i.updateFromServerResponse(n);const a=new Ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?y6(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Nc;l.updateFromIdToken(r);const c=new Ai({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new s_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Map;function ja(t){Fa(t instanceof Function,"Expected a class definition");let e=LN.get(t);return e?(Fa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x6.type="NONE";const BN=x6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e,n){return`firebase:${t}:${e}:${n}`}class Oc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fg(this.auth,{idToken:e}).catch(()=>{});return n?Ai._fromGetAccountInfoResponse(this.auth,n,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oc(ja(BN),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ja(BN);const s=Zm(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await Fg(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Ai._fromGetAccountInfoResponse(e,h,d)}else f=Ai._fromJSON(e,d);u!==a&&(l=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Oc(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Oc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E6(e))return"Blackberry";if(j6(e))return"Webos";if(_6(e))return"Safari";if((e.includes("chrome/")||w6(e))&&!e.includes("edge/"))return"Chrome";if(S6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b6(t=Jn()){return/firefox\//i.test(t)}function _6(t=Jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w6(t=Jn()){return/crios\//i.test(t)}function A6(t=Jn()){return/iemobile/i.test(t)}function S6(t=Jn()){return/android/i.test(t)}function E6(t=Jn()){return/blackberry/i.test(t)}function j6(t=Jn()){return/webos/i.test(t)}function AS(t=Jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lq(t=Jn()){var e;return AS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bq(){return ZF()&&document.documentMode===10}function T6(t=Jn()){return AS(t)||S6(t)||j6(t)||E6(t)||/windows phone/i.test(t)||A6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t,e=[]){let n;switch(t){case"Browser":n=UN(Jn());break;case"Worker":n=`${UN(Jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(t,e={}){return Uu(t,"GET","/v2/passwordPolicy",_S(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=6;class Fq{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VN(this),this.idTokenSubscription=new VN(this),this.beforeStateQueue=new Uq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ja(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Oc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fg(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ti(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Wo(this));const n=e?Mt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vq(this),n=new Fq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $q(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ja(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Oc.create(this,[ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Py(t){return Mt(t)}class VN{constructor(e){this.auth=e,this.observer=null,this.addObserver=aH(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qq(t){SS=t}function Gq(t){return SS.loadJS(t)}function Wq(){return SS.gapiScript}function Kq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t,e){const n=io(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(qs(a,e??{}))return i;ta(i,"already-initialized")}return n.initialize({options:e})}function Yq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ja);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qq(t,e,n){const r=Py(t);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=O6(e),{host:s,port:l}=Zq(e),c=l===null?"":`:${l}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(qs(u,r.config.emulator)&&qs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ro(s)?(pS(`${a}//${s}${c}`),mS("Auth",!0)):Jq()}function O6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zq(t){const e=O6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:zN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:zN(s)}}}function zN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ea("not implemented")}_getIdTokenResponse(e){return Ea("not implemented")}_linkToIdToken(e,n){return Ea("not implemented")}_getReauthenticationResolver(e){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t,e){return Nq(t,"POST","/v1/accounts:signInWithIdp",_S(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG="http://localhost";class rl extends C6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ta("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=vS(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new rl(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Cc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cc(e,n)}buildRequest(){const e={requestUri:eG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ip(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends sp{constructor(){super("facebook.com")}static credential(e){return rl._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends sp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rl._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xa.credential(n,r)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends sp{constructor(){super("github.com")}static credential(e){return rl._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends sp{constructor(){super("twitter.com")}static credential(e,n){return rl._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ai._fromIdTokenResponse(e,r,i),s=FN(r);return new Wc({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FN(r);return new Wc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends ui{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qg(e,n,r,i)}}function I6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qg._fromErrorAndOperation(t,a,e,r):a})}async function tG(t,e,n=!1){const r=await Kf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e,n=!1){const{auth:r}=t;if(ti(r.app))return Promise.reject(Wo(r));const i="reauthenticate";try{const a=await Kf(t,I6(r,i,e,t),n);ke(a.idToken,r,"internal-error");const s=wS(a.idToken);ke(s,r,"internal-error");const{sub:l}=s;return ke(t.uid===l,r,"user-mismatch"),Wc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ta(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,e,n=!1){if(ti(t.app))return Promise.reject(Wo(t));const r="signIn",i=await I6(t,r,e),a=await Wc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function iG(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function aG(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function sG(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function oG(t){return Mt(t).signOut()}const Gg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gg,"1"),this.storage.removeItem(Gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG=1e3,cG=10;class P6 extends k6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Bq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P6.type="LOCAL";const uG=P6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6 extends k6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}R6.type="SESSION";const M6=R6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async u=>u(n.origin,a)),c=await dG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ry.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const u=jS("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function hG(t){Ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function pG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gG(){return D6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebaseLocalStorageDb",vG=1,Wg="firebaseLocalStorage",L6="fbase_key";class op{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function My(t,e){return t.transaction([Wg],e?"readwrite":"readonly").objectStore(Wg)}function yG(){const t=indexedDB.deleteDatabase($6);return new op(t).toPromise()}function o_(){const t=indexedDB.open($6,vG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wg,{keyPath:L6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wg)?e(r):(r.close(),await yG(),e(await o_()))})})}async function HN(t,e,n){const r=My(t,!0).put({[L6]:e,value:n});return new op(r).toPromise()}async function xG(t,e){const n=My(t,!1).get(e),r=await new op(n).toPromise();return r===void 0?null:r.value}function qN(t,e){const n=My(t,!0).delete(e);return new op(n).toPromise()}const bG=800,_G=3;class B6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_G)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ry._getInstance(gG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pG(),!this.activeServiceWorker)return;this.sender=new fG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o_();return await HN(e,Gg,"1"),await qN(e,Gg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=My(i,!1).getAll();return new op(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B6.type="LOCAL";const wG=B6;new ap(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e){return e?ja(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends C6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AG(t){return rG(t.auth,new TS(t),t.bypassAuthState)}function SG(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),nG(n,new TS(t),t.bypassAuthState)}async function EG(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),tG(n,new TS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AG;case"linkViaPopup":case"linkViaRedirect":return EG;case"reauthViaPopup":case"reauthViaRedirect":return SG;default:ta(this.auth,"internal-error")}}resolve(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=new ap(2e3,1e4);async function TG(t,e,n){if(ti(t.app))return Promise.reject(Ei(t,"operation-not-supported-in-this-environment"));const r=Py(t);_q(t,e,ES);const i=U6(r,n);return new ko(r,"signInViaPopup",e,i).executeNotNull()}class ko extends V6{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Fa(this.filter.length===1,"Popup operations only handle one event");const e=jS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jG.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="pendingRedirect",Jm=new Map;class OG extends V6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jm.get(this.auth._key());if(!e){try{const r=await CG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jm.set(this.auth._key(),e)}return this.bypassAuthState||Jm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CG(t,e){const n=PG(e),r=kG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IG(t,e){Jm.set(t._key(),e)}function kG(t){return ja(t._redirectPersistence)}function PG(t){return Zm(NG,t.config.apiKey,t.name)}async function RG(t,e,n=!1){if(ti(t.app))return Promise.reject(Wo(t));const r=Py(t),i=U6(r,e),s=await new OG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=10*60*1e3;class DG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$G(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!z6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MG&&this.cachedEventUids.clear(),this.cachedEventUids.has(GN(e))}saveEventToCache(e){this.cachedEventUids.add(GN(e)),this.lastProcessedEventTime=Date.now()}}function GN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $G(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LG(t,e={}){return Uu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UG=/^https?/;async function VG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LG(t);for(const n of e)try{if(zG(n))return}catch{}ta(t,"unauthorized-domain")}function zG(t){const e=a_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!UG.test(n))return!1;if(BG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=new ap(3e4,6e4);function WN(){const t=Ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HG(t){return new Promise((e,n)=>{var r,i,a;function s(){WN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WN(),n(Ei(t,"network-request-failed"))},timeout:FG.get()})}if(!((i=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ki().gapi)===null||a===void 0)&&a.load)s();else{const l=Kq("iframefcb");return Ki()[l]=()=>{gapi.load?s():n(Ei(t,"network-request-failed"))},Gq(`${Wq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw eg=null,e})}let eg=null;function qG(t){return eg=eg||HG(t),eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=new ap(5e3,15e3),WG="__/auth/iframe",KG="emulator/auth/iframe",XG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QG(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bS(e,KG):`https://${t.config.authDomain}/${WG}`,r={apiKey:e.apiKey,appName:t.name,v:wl},i=YG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ip(r).slice(1)}`}async function ZG(t){const e=await qG(t),n=Ki().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:QG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Ei(t,"network-request-failed"),l=Ki().setTimeout(()=>{a(s)},GG.get());function c(){Ki().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eW=500,tW=600,nW="_blank",rW="http://localhost";class KN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iW(t,e,n,r=eW,i=tW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},JG),{width:r.toString(),height:i.toString(),top:a,left:s}),u=Jn().toLowerCase();n&&(l=w6(u)?nW:n),b6(u)&&(e=e||rW,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(Lq(u)&&l!=="_self")return aW(e||"",l),new KN(null);const f=window.open(e||"",l,d);ke(f,t,"popup-blocked");try{f.focus()}catch{}return new KN(f)}function aW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW="__/auth/handler",oW="emulator/auth/handler",lW=encodeURIComponent("fac");async function XN(t,e,n,r,i,a){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wl,eventId:i};if(e instanceof ES){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",iH(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof sp){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${lW}=${encodeURIComponent(c)}`:"";return`${cW(t)}?${ip(l).slice(1)}${u}`}function cW({config:t}){return t.emulator?bS(t,oW):`https://${t.authDomain}/${sW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="webStorageSupport";class uW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M6,this._completeRedirectFn=RG,this._overrideRedirectResult=IG}async _openPopup(e,n,r,i){var a;Fa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await XN(e,n,r,a_(),i);return iW(e,s,jS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await XN(e,n,r,a_(),i);return hG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZG(e),r=new DG(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fb,{type:fb},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[fb];s!==void 0&&n(!!s),ta(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T6()||_6()||AS()}}const dW=uW;var YN="@firebase/auth",QN="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pW(t){Ni(new li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;ke(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N6(t)},u=new Hq(r,i,a,c);return Yq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ni(new li("auth-internal",e=>{const n=Py(e.getProvider("auth").getImmediate());return(r=>new fW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(YN,QN,hW(t)),yr(YN,QN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=5*60,gW=n6("authIdTokenMaxAge")||mW;let ZN=null;const vW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gW)return;const i=n==null?void 0:n.token;ZN!==i&&(ZN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yW(t=ky()){const e=io(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Xq(t,{popupRedirectResolver:dW,persistence:[wG,uG,M6]}),r=n6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=vW(a.toString());aG(n,s,()=>s(n.currentUser)),iG(n,l=>s(l))}}const i=J4("auth");return i&&Qq(n,`http://${i}`),n}function xW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ei("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",xW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pW("Browser");var JN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,F6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function N(){}N.prototype=A.prototype,S.D=A.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(I,C,R){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return A.prototype[C].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,N){N||(N=0);var I=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)I[C]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(C=0;16>C;++C)I[C]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=S.g[0],N=S.g[1],C=S.g[2];var R=S.g[3],P=A+(R^N&(C^R))+I[0]+3614090360&4294967295;A=N+(P<<7&4294967295|P>>>25),P=R+(C^A&(N^C))+I[1]+3905402710&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(N^R&(A^N))+I[2]+606105819&4294967295,C=R+(P<<17&4294967295|P>>>15),P=N+(A^C&(R^A))+I[3]+3250441966&4294967295,N=C+(P<<22&4294967295|P>>>10),P=A+(R^N&(C^R))+I[4]+4118548399&4294967295,A=N+(P<<7&4294967295|P>>>25),P=R+(C^A&(N^C))+I[5]+1200080426&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(N^R&(A^N))+I[6]+2821735955&4294967295,C=R+(P<<17&4294967295|P>>>15),P=N+(A^C&(R^A))+I[7]+4249261313&4294967295,N=C+(P<<22&4294967295|P>>>10),P=A+(R^N&(C^R))+I[8]+1770035416&4294967295,A=N+(P<<7&4294967295|P>>>25),P=R+(C^A&(N^C))+I[9]+2336552879&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(N^R&(A^N))+I[10]+4294925233&4294967295,C=R+(P<<17&4294967295|P>>>15),P=N+(A^C&(R^A))+I[11]+2304563134&4294967295,N=C+(P<<22&4294967295|P>>>10),P=A+(R^N&(C^R))+I[12]+1804603682&4294967295,A=N+(P<<7&4294967295|P>>>25),P=R+(C^A&(N^C))+I[13]+4254626195&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(N^R&(A^N))+I[14]+2792965006&4294967295,C=R+(P<<17&4294967295|P>>>15),P=N+(A^C&(R^A))+I[15]+1236535329&4294967295,N=C+(P<<22&4294967295|P>>>10),P=A+(C^R&(N^C))+I[1]+4129170786&4294967295,A=N+(P<<5&4294967295|P>>>27),P=R+(N^C&(A^N))+I[6]+3225465664&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^N&(R^A))+I[11]+643717713&4294967295,C=R+(P<<14&4294967295|P>>>18),P=N+(R^A&(C^R))+I[0]+3921069994&4294967295,N=C+(P<<20&4294967295|P>>>12),P=A+(C^R&(N^C))+I[5]+3593408605&4294967295,A=N+(P<<5&4294967295|P>>>27),P=R+(N^C&(A^N))+I[10]+38016083&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^N&(R^A))+I[15]+3634488961&4294967295,C=R+(P<<14&4294967295|P>>>18),P=N+(R^A&(C^R))+I[4]+3889429448&4294967295,N=C+(P<<20&4294967295|P>>>12),P=A+(C^R&(N^C))+I[9]+568446438&4294967295,A=N+(P<<5&4294967295|P>>>27),P=R+(N^C&(A^N))+I[14]+3275163606&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^N&(R^A))+I[3]+4107603335&4294967295,C=R+(P<<14&4294967295|P>>>18),P=N+(R^A&(C^R))+I[8]+1163531501&4294967295,N=C+(P<<20&4294967295|P>>>12),P=A+(C^R&(N^C))+I[13]+2850285829&4294967295,A=N+(P<<5&4294967295|P>>>27),P=R+(N^C&(A^N))+I[2]+4243563512&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^N&(R^A))+I[7]+1735328473&4294967295,C=R+(P<<14&4294967295|P>>>18),P=N+(R^A&(C^R))+I[12]+2368359562&4294967295,N=C+(P<<20&4294967295|P>>>12),P=A+(N^C^R)+I[5]+4294588738&4294967295,A=N+(P<<4&4294967295|P>>>28),P=R+(A^N^C)+I[8]+2272392833&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^N)+I[11]+1839030562&4294967295,C=R+(P<<16&4294967295|P>>>16),P=N+(C^R^A)+I[14]+4259657740&4294967295,N=C+(P<<23&4294967295|P>>>9),P=A+(N^C^R)+I[1]+2763975236&4294967295,A=N+(P<<4&4294967295|P>>>28),P=R+(A^N^C)+I[4]+1272893353&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^N)+I[7]+4139469664&4294967295,C=R+(P<<16&4294967295|P>>>16),P=N+(C^R^A)+I[10]+3200236656&4294967295,N=C+(P<<23&4294967295|P>>>9),P=A+(N^C^R)+I[13]+681279174&4294967295,A=N+(P<<4&4294967295|P>>>28),P=R+(A^N^C)+I[0]+3936430074&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^N)+I[3]+3572445317&4294967295,C=R+(P<<16&4294967295|P>>>16),P=N+(C^R^A)+I[6]+76029189&4294967295,N=C+(P<<23&4294967295|P>>>9),P=A+(N^C^R)+I[9]+3654602809&4294967295,A=N+(P<<4&4294967295|P>>>28),P=R+(A^N^C)+I[12]+3873151461&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^N)+I[15]+530742520&4294967295,C=R+(P<<16&4294967295|P>>>16),P=N+(C^R^A)+I[2]+3299628645&4294967295,N=C+(P<<23&4294967295|P>>>9),P=A+(C^(N|~R))+I[0]+4096336452&4294967295,A=N+(P<<6&4294967295|P>>>26),P=R+(N^(A|~C))+I[7]+1126891415&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~N))+I[14]+2878612391&4294967295,C=R+(P<<15&4294967295|P>>>17),P=N+(R^(C|~A))+I[5]+4237533241&4294967295,N=C+(P<<21&4294967295|P>>>11),P=A+(C^(N|~R))+I[12]+1700485571&4294967295,A=N+(P<<6&4294967295|P>>>26),P=R+(N^(A|~C))+I[3]+2399980690&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~N))+I[10]+4293915773&4294967295,C=R+(P<<15&4294967295|P>>>17),P=N+(R^(C|~A))+I[1]+2240044497&4294967295,N=C+(P<<21&4294967295|P>>>11),P=A+(C^(N|~R))+I[8]+1873313359&4294967295,A=N+(P<<6&4294967295|P>>>26),P=R+(N^(A|~C))+I[15]+4264355552&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~N))+I[6]+2734768916&4294967295,C=R+(P<<15&4294967295|P>>>17),P=N+(R^(C|~A))+I[13]+1309151649&4294967295,N=C+(P<<21&4294967295|P>>>11),P=A+(C^(N|~R))+I[4]+4149444226&4294967295,A=N+(P<<6&4294967295|P>>>26),P=R+(N^(A|~C))+I[11]+3174756917&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~N))+I[2]+718787259&4294967295,C=R+(P<<15&4294967295|P>>>17),P=N+(R^(C|~A))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var N=A-this.blockSize,I=this.B,C=this.h,R=0;R<A;){if(C==0)for(;R<=N;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<A;)if(I[C++]=S.charCodeAt(R++),C==this.blockSize){i(this,I),C=0;break}}else for(;R<A;)if(I[C++]=S[R++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var N=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=N&255,N/=256;for(this.u(S),S=Array(16),A=N=0;4>A;++A)for(var I=0;32>I;I+=8)S[N++]=this.g[A]>>>I&255;return S};function a(S,A){var N=l;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=A(S)}function s(S,A){this.h=A;for(var N=[],I=!0,C=S.length-1;0<=C;C--){var R=S[C]|0;I&&R==A||(N[C]=R,I=!1)}this.g=N}var l={};function c(S){return-128<=S&&128>S?a(S,function(A){return new s([A|0],0>A?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(u(-S));for(var A=[],N=1,I=0;S>=N;I++)A[I]=S/N|0,N*=4294967296;return new s(A,0)}function d(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return b(d(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(A,8)),I=f,C=0;C<S.length;C+=8){var R=Math.min(8,S.length-C),P=parseInt(S.substring(C,C+R),A);8>R?(R=u(Math.pow(A,R)),I=I.j(R).add(u(P))):(I=I.j(N),I=I.add(u(P)))}return I}var f=c(0),h=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,A=1,N=0;N<this.g.length;N++){var I=this.i(N);S+=(0<=I?I:4294967296+I)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var A=u(Math.pow(S,6)),N=this,I="";;){var C=j(N,A).g;N=_(N,C.j(A));var R=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=C,v(N))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=_(this,S),y(S)?-1:v(S)?0:1};function b(S){for(var A=S.g.length,N=[],I=0;I<A;I++)N[I]=~S.g[I];return new s(N,~S.h).add(h)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],I=0,C=0;C<=A;C++){var R=I+(this.i(C)&65535)+(S.i(C)&65535),P=(R>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);I=P>>>16,R&=65535,P&=65535,N[C]=P<<16|R}return new s(N,N[N.length-1]&-2147483648?-1:0)};function _(S,A){return S.add(b(A))}t.j=function(S){if(v(this)||v(S))return f;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var A=this.g.length+S.g.length,N=[],I=0;I<2*A;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<S.g.length;C++){var R=this.i(I)>>>16,P=this.i(I)&65535,z=S.i(C)>>>16,V=S.i(C)&65535;N[2*I+2*C]+=P*V,x(N,2*I+2*C),N[2*I+2*C+1]+=R*V,x(N,2*I+2*C+1),N[2*I+2*C+1]+=P*z,x(N,2*I+2*C+1),N[2*I+2*C+2]+=R*z,x(N,2*I+2*C+2)}for(I=0;I<A;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=A;I<2*A;I++)N[I]=0;return new s(N,0)};function x(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function g(S,A){this.g=S,this.h=A}function j(S,A){if(v(A))throw Error("division by zero");if(v(S))return new g(f,f);if(y(S))return A=j(b(S),A),new g(b(A.g),b(A.h));if(y(A))return A=j(S,b(A)),new g(b(A.g),A.h);if(30<S.g.length){if(y(S)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var N=h,I=A;0>=I.l(S);)N=w(N),I=w(I);var C=T(N,1),R=T(I,1);for(I=T(I,2),N=T(N,2);!v(I);){var P=R.add(I);0>=P.l(S)&&(C=C.add(N),R=P),I=T(I,1),N=T(N,1)}return A=_(S,C.j(A)),new g(C,A)}for(C=f;0<=S.l(A);){for(N=Math.max(1,Math.floor(S.m()/A.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=u(N),P=R.j(A);y(P)||0<P.l(S);)N-=I,R=u(N),P=R.j(A);v(R)&&(R=h),C=C.add(R),S=_(S,P)}return new g(C,S)}t.A=function(S){return j(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],I=0;I<A;I++)N[I]=this.i(I)&S.i(I);return new s(N,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],I=0;I<A;I++)N[I]=this.i(I)|S.i(I);return new s(N,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],I=0;I<A;I++)N[I]=this.i(I)^S.i(I);return new s(N,this.h^S.h)};function w(S){for(var A=S.g.length+1,N=[],I=0;I<A;I++)N[I]=S.i(I)<<1|S.i(I-1)>>>31;return new s(N,S.h)}function T(S,A){var N=A>>5;A%=32;for(var I=S.g.length-N,C=[],R=0;R<I;R++)C[R]=0<A?S.i(R+N)>>>A|S.i(R+N+1)<<32-A:S.i(R+N);return new s(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F6=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ls=s}).apply(typeof JN<"u"?JN:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H6,Xd,q6,tg,l_,G6,W6,K6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,O){return p==Array.prototype||p==Object.prototype||(p[E]=O.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var E=0;E<p.length;++E){var O=p[E];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var O=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var q=p[M];if(!(q in O))break e;O=O[q]}p=p[p.length-1],M=O[p],E=E(M),E!=M&&E!=null&&e(O,p,{configurable:!0,writable:!0,value:E})}}function a(p,E){p instanceof String&&(p+="");var O=0,M=!1,q={next:function(){if(!M&&O<p.length){var Y=O++;return{value:E(Y,p[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(p){return p||function(){return a(this,function(E,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function u(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function d(p,E,O){return p.call.apply(p.bind,arguments)}function f(p,E,O){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,M),p.apply(E,q)}}return function(){return p.apply(E,arguments)}}function h(p,E,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(p,E){var O=Array.prototype.slice.call(arguments,1);return function(){var M=O.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function v(p,E){function O(){}O.prototype=E.prototype,p.aa=E.prototype,p.prototype=new O,p.prototype.constructor=p,p.Qb=function(M,q,Y){for(var ce=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)ce[mt-2]=arguments[mt];return E.prototype[q].apply(M,ce)}}function y(p){const E=p.length;if(0<E){const O=Array(E);for(let M=0;M<E;M++)O[M]=p[M];return O}return[]}function b(p,E){for(let O=1;O<arguments.length;O++){const M=arguments[O];if(c(M)){const q=p.length||0,Y=M.length||0;p.length=q+Y;for(let ce=0;ce<Y;ce++)p[q+ce]=M[ce]}else p.push(M)}}class _{constructor(E,O){this.i=E,this.j=O,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(p){return/^[\s\xa0]*$/.test(p)}function g(){var p=l.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var w=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function T(p,E,O){for(const M in p)E.call(O,p[M],M,p)}function S(p,E){for(const O in p)E.call(void 0,p[O],O,p)}function A(p){const E={};for(const O in p)E[O]=p[O];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,E){let O,M;for(let q=1;q<arguments.length;q++){M=arguments[q];for(O in M)p[O]=M[O];for(let Y=0;Y<N.length;Y++)O=N[Y],Object.prototype.hasOwnProperty.call(M,O)&&(p[O]=M[O])}}function C(p){var E=1;p=p.split(":");const O=[];for(;0<E&&p.length;)O.push(p.shift()),E--;return p.length&&O.push(p.join(":")),O}function R(p){l.setTimeout(()=>{throw p},0)}function P(){var p=W;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class z{constructor(){this.h=this.g=null}add(E,O){const M=V.get();M.set(E,O),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new _(()=>new B,p=>p.reset());class B{constructor(){this.next=this.g=this.h=null}set(E,O){this.h=E,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let L,U=!1,W=new z,G=()=>{const p=l.Promise.resolve(void 0);L=()=>{p.then(te)}};var te=()=>{for(var p;p=P();){try{p.h.call(p.g)}catch(O){R(O)}var E=V;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}U=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};l.addEventListener("test",O,E),l.removeEventListener("test",O,E)}catch{}return p}();function Z(p,E){if($.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var O=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(w){e:{try{j(E.nodeName);var q=!0;break e}catch{}q=!1}q||(E=null)}}else O=="mouseover"?E=p.fromElement:O=="mouseout"&&(E=p.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ve[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Z.aa.h.call(this)}}v(Z,$);var ve={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Q(p,E,O,M,q){this.listener=p,this.proxy=null,this.src=E,this.type=O,this.capture=!!M,this.ha=q,this.key=++Ee,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ne(p){this.src=p,this.g={},this.h=0}ne.prototype.add=function(p,E,O,M,q){var Y=p.toString();p=this.g[Y],p||(p=this.g[Y]=[],this.h++);var ce=he(p,E,M,q);return-1<ce?(E=p[ce],O||(E.fa=!1)):(E=new Q(E,this.src,Y,!!M,q),E.fa=O,p.push(E)),E};function K(p,E){var O=E.type;if(O in p.g){var M=p.g[O],q=Array.prototype.indexOf.call(M,E,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(M,q,1),Y&&(le(E),p.g[O].length==0&&(delete p.g[O],p.h--))}}function he(p,E,O,M){for(var q=0;q<p.length;++q){var Y=p[q];if(!Y.da&&Y.listener==E&&Y.capture==!!O&&Y.ha==M)return q}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),fe={};function Ae(p,E,O,M,q){if(Array.isArray(E)){for(var Y=0;Y<E.length;Y++)Ae(p,E[Y],O,M,q);return null}return O=pe(O),p&&p[De]?p.K(E,O,u(M)?!!M.capture:!1,q):Je(p,E,O,!1,M,q)}function Je(p,E,O,M,q,Y){if(!E)throw Error("Invalid event type");var ce=u(q)?!!q.capture:!!q,mt=H(p);if(mt||(p[xe]=mt=new ne(p)),O=mt.add(E,O,M,ce,Y),O.proxy)return O;if(M=At(),O.proxy=M,M.src=p,M.listener=O,p.addEventListener)X||(q=ce),q===void 0&&(q=!1),p.addEventListener(E.toString(),M,q);else if(p.attachEvent)p.attachEvent(vn(E.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return O}function At(){function p(O){return E.call(p.src,p.listener,O)}const E=Te;return p}function lt(p,E,O,M,q){if(Array.isArray(E))for(var Y=0;Y<E.length;Y++)lt(p,E[Y],O,M,q);else M=u(M)?!!M.capture:!!M,O=pe(O),p&&p[De]?(p=p.i,E=String(E).toString(),E in p.g&&(Y=p.g[E],O=he(Y,O,M,q),-1<O&&(le(Y[O]),Array.prototype.splice.call(Y,O,1),Y.length==0&&(delete p.g[E],p.h--)))):p&&(p=H(p))&&(E=p.g[E.toString()],p=-1,E&&(p=he(E,O,M,q)),(O=-1<p?E[p]:null)&&gn(O))}function gn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[De])K(E.i,p);else{var O=p.type,M=p.proxy;E.removeEventListener?E.removeEventListener(O,M,p.capture):E.detachEvent?E.detachEvent(vn(O),M):E.addListener&&E.removeListener&&E.removeListener(M),(O=H(E))?(K(O,p),O.h==0&&(O.src=null,E[xe]=null)):le(p)}}}function vn(p){return p in fe?fe[p]:fe[p]="on"+p}function Te(p,E){if(p.da)p=!0;else{E=new Z(E,this);var O=p.listener,M=p.ha||p.src;p.fa&&gn(p),p=O.call(M,E)}return p}function H(p){return p=p[xe],p instanceof ne?p:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(p){return typeof p=="function"?p:(p[se]||(p[se]=function(E){return p.handleEvent(E)}),p[se])}function be(){F.call(this),this.i=new ne(this),this.M=this,this.F=null}v(be,F),be.prototype[De]=!0,be.prototype.removeEventListener=function(p,E,O,M){lt(this,p,E,O,M)};function de(p,E){var O,M=p.F;if(M)for(O=[];M;M=M.F)O.push(M);if(p=p.M,M=E.type||E,typeof E=="string")E=new $(E,p);else if(E instanceof $)E.target=E.target||p;else{var q=E;E=new $(M,p),I(E,q)}if(q=!0,O)for(var Y=O.length-1;0<=Y;Y--){var ce=E.g=O[Y];q=pt(ce,M,!0,E)&&q}if(ce=E.g=p,q=pt(ce,M,!0,E)&&q,q=pt(ce,M,!1,E)&&q,O)for(Y=0;Y<O.length;Y++)ce=E.g=O[Y],q=pt(ce,M,!1,E)&&q}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var O=p.g[E],M=0;M<O.length;M++)le(O[M]);delete p.g[E],p.h--}}this.F=null},be.prototype.K=function(p,E,O,M){return this.i.add(String(p),E,!1,O,M)},be.prototype.L=function(p,E,O,M){return this.i.add(String(p),E,!0,O,M)};function pt(p,E,O,M){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var q=!0,Y=0;Y<E.length;++Y){var ce=E[Y];if(ce&&!ce.da&&ce.capture==O){var mt=ce.listener,Nn=ce.ha||ce.src;ce.fa&&K(p.i,ce),q=mt.call(Nn,M)!==!1&&q}}return q&&!M.defaultPrevented}function Bt(p,E,O){if(typeof p=="function")O&&(p=h(p,O));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(p,E||0)}function $n(p){p.g=Bt(()=>{p.g=null,p.i&&(p.i=!1,$n(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class ca extends F{constructor(E,O){super(),this.m=E,this.l=O,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(p){F.call(this),this.h=p,this.g={}}v(Ar,F);var Np=[];function Op(p){T(p.g,function(E,O){this.g.hasOwnProperty(O)&&gn(E)},p),p.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),Op(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cd=l.JSON.stringify,ud=l.JSON.parse,dx=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function dd(){}dd.prototype.h=null;function Cp(p){return p.h||(p.h=p.i())}function Ip(){}var go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){$.call(this,"d")}v(Tn,$);function Ml(){$.call(this,"c")}v(Ml,$);var pi={},J=null;function ue(){return J=J||new be}pi.La="serverreachability";function we(p){$.call(this,pi.La,p)}v(we,$);function ct(p){const E=ue();de(E,new we(E))}pi.STAT_EVENT="statevent";function Ct(p,E){$.call(this,pi.STAT_EVENT,p),this.stat=E}v(Ct,$);function nt(p){const E=ue();de(E,new Ct(E,p))}pi.Ma="timingevent";function ut(p,E){$.call(this,pi.Ma,p),this.size=E}v(ut,$);function qe(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},E)}function Ve(){this.g=!0}Ve.prototype.xa=function(){this.g=!1};function mi(p,E,O,M,q,Y){p.info(function(){if(p.g)if(Y)for(var ce="",mt=Y.split("&"),Nn=0;Nn<mt.length;Nn++){var Qe=mt[Nn].split("=");if(1<Qe.length){var Un=Qe[0];Qe=Qe[1];var Vn=Un.split("_");ce=2<=Vn.length&&Vn[1]=="type"?ce+(Un+"="+Qe+"&"):ce+(Un+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+M+") [attempt "+q+"]: "+E+`
`+O+`
`+ce})}function yn(p,E,O,M,q,Y,ce){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+q+"]: "+E+`
`+O+`
`+Y+" "+ce})}function Ut(p,E,O,M){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+Bn(p,O)+(M?" "+M:"")})}function Ln(p,E){p.info(function(){return"TIMEOUT: "+E})}Ve.prototype.info=function(){};function Bn(p,E){if(!p.g)return E;if(!E)return null;try{var O=JSON.parse(E);if(O){for(p=0;p<O.length;p++)if(Array.isArray(O[p])){var M=O[p];if(!(2>M.length)){var q=M[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return cd(O)}catch{return E}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ua;function Mi(){}v(Mi,dd),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},ua=new Mi;function ts(p,E,O,M){this.j=p,this.i=E,this.l=O,this.R=M||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lj}function lj(){this.i=null,this.g="",this.h=!1}var cj={},fx={};function hx(p,E,O){p.L=1,p.v=Mp(da(E)),p.m=O,p.P=!0,uj(p,null)}function uj(p,E){p.F=Date.now(),kp(p),p.A=da(p.v);var O=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),Sj(O.i,"t",M),p.C=0,O=p.j.J,p.h=new lj,p.g=zj(p.j,O?E:null,!p.m),0<p.O&&(p.M=new ca(h(p.Y,p,p.g),p.O)),E=p.U,O=p.g,M=p.ca;var q="readystatechange";Array.isArray(q)||(q&&(Np[0]=q.toString()),q=Np);for(var Y=0;Y<q.length;Y++){var ce=Ae(O,q[Y],M||E.handleEvent,!1,E.h||E);if(!ce)break;E.g[ce.key]=ce}E=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),ct(),mi(p.i,p.u,p.A,p.l,p.R,p.m)}ts.prototype.ca=function(p){p=p.target;const E=this.M;E&&fa(p)==3?E.j():this.Y(p)},ts.prototype.Y=function(p){try{if(p==this.g)e:{const Vn=fa(this.g);var E=this.g.Ba();const Ll=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||Ij(this.g)))){this.J||Vn!=4||E==7||(E==8||0>=Ll?ct(3):ct(2)),px(this);var O=this.g.Z();this.X=O;t:if(dj(this)){var M=Ij(this.g);p="";var q=M.length,Y=fa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),fd(this);var ce="";break t}this.h.i=new l.TextDecoder}for(E=0;E<q;E++)this.h.h=!0,p+=this.h.i.decode(M[E],{stream:!(Y&&E==q-1)});M.length=0,this.h.g+=p,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=O==200,yn(this.i,this.u,this.A,this.l,this.R,Vn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Nn=this.g;if((mt=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(mt)){var Qe=mt;break t}}Qe=null}if(O=Qe)Ut(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mx(this,O);else{this.o=!1,this.s=3,nt(12),vo(this),fd(this);break e}}if(this.P){O=!0;let gi;for(;!this.J&&this.C<ce.length;)if(gi=z9(this,ce),gi==fx){Vn==4&&(this.s=4,nt(14),O=!1),Ut(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==cj){this.s=4,nt(15),Ut(this.i,this.l,ce,"[Invalid Chunk]"),O=!1;break}else Ut(this.i,this.l,gi,null),mx(this,gi);if(dj(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||ce.length!=0||this.h.h||(this.s=1,nt(16),O=!1),this.o=this.o&&O,!O)Ut(this.i,this.l,ce,"[Invalid Chunked Response]"),vo(this),fd(this);else if(0<ce.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),_x(Un),Un.M=!0,nt(11))}}else Ut(this.i,this.l,ce,null),mx(this,ce);Vn==4&&vo(this),this.o&&!this.J&&(Vn==4?Lj(this.j,this):(this.o=!1,kp(this)))}else aU(this.g),O==400&&0<ce.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),vo(this),fd(this)}}}catch{}finally{}};function dj(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function z9(p,E){var O=p.C,M=E.indexOf(`
`,O);return M==-1?fx:(O=Number(E.substring(O,M)),isNaN(O)?cj:(M+=1,M+O>E.length?fx:(E=E.slice(M,M+O),p.C=M+O,E)))}ts.prototype.cancel=function(){this.J=!0,vo(this)};function kp(p){p.S=Date.now()+p.I,fj(p,p.I)}function fj(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=qe(h(p.ba,p),E)}function px(p){p.B&&(l.clearTimeout(p.B),p.B=null)}ts.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ln(this.i,this.A),this.L!=2&&(ct(),nt(17)),vo(this),this.s=2,fd(this)):fj(this,this.S-p)};function fd(p){p.j.G==0||p.J||Lj(p.j,p)}function vo(p){px(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Op(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function mx(p,E){try{var O=p.j;if(O.G!=0&&(O.g==p||gx(O.h,p))){if(!p.K&&gx(O.h,p)&&O.G==3){try{var M=O.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var q=M;if(q[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<p.F)Vp(O),Bp(O);else break e;bx(O),nt(18)}}else O.za=q[1],0<O.za-O.T&&37500>q[2]&&O.F&&O.v==0&&!O.C&&(O.C=qe(h(O.Za,O),6e3));if(1>=mj(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else xo(O,11)}else if((p.K||O.g==p)&&Vp(O),!x(E))for(q=O.Da.g.parse(E),E=0;E<q.length;E++){let Qe=q[E];if(O.T=Qe[0],Qe=Qe[1],O.G==2)if(Qe[0]=="c"){O.K=Qe[1],O.ia=Qe[2];const Un=Qe[3];Un!=null&&(O.la=Un,O.j.info("VER="+O.la));const Vn=Qe[4];Vn!=null&&(O.Aa=Vn,O.j.info("SVER="+O.Aa));const Ll=Qe[5];Ll!=null&&typeof Ll=="number"&&0<Ll&&(M=1.5*Ll,O.L=M,O.j.info("backChannelRequestTimeoutMs_="+M)),M=O;const gi=p.g;if(gi){const Fp=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fp){var Y=M.h;Y.g||Fp.indexOf("spdy")==-1&&Fp.indexOf("quic")==-1&&Fp.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(vx(Y,Y.h),Y.h=null))}if(M.D){const wx=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;wx&&(M.ya=wx,St(M.I,M.D,wx))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-p.F,O.j.info("Handshake RTT: "+O.R+"ms")),M=O;var ce=p;if(M.qa=Vj(M,M.J?M.ia:null,M.W),ce.K){gj(M.h,ce);var mt=ce,Nn=M.L;Nn&&(mt.I=Nn),mt.B&&(px(mt),kp(mt)),M.g=ce}else Dj(M);0<O.i.length&&Up(O)}else Qe[0]!="stop"&&Qe[0]!="close"||xo(O,7);else O.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?xo(O,7):xx(O):Qe[0]!="noop"&&O.l&&O.l.ta(Qe),O.v=0)}}ct(4)}catch{}}var F9=class{constructor(p,E){this.g=p,this.map=E}};function hj(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pj(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function mj(p){return p.h?1:p.g?p.g.size:0}function gx(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function vx(p,E){p.g?p.g.add(E):p.h=E}function gj(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}hj.prototype.cancel=function(){if(this.i=vj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function vj(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const O of p.g.values())E=E.concat(O.D);return E}return y(p.i)}function H9(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var E=[],O=p.length,M=0;M<O;M++)E.push(p[M]);return E}E=[],O=0;for(M in p)E[O++]=p[M];return E}function q9(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var E=[];p=p.length;for(var O=0;O<p;O++)E.push(O);return E}E=[],O=0;for(const M in p)E[O++]=M;return E}}}function yj(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var O=q9(p),M=H9(p),q=M.length,Y=0;Y<q;Y++)E.call(void 0,M[Y],O&&O[Y],p)}var xj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G9(p,E){if(p){p=p.split("&");for(var O=0;O<p.length;O++){var M=p[O].indexOf("="),q=null;if(0<=M){var Y=p[O].substring(0,M);q=p[O].substring(M+1)}else Y=p[O];E(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yo(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof yo){this.h=p.h,Pp(this,p.j),this.o=p.o,this.g=p.g,Rp(this,p.s),this.l=p.l;var E=p.i,O=new md;O.i=E.i,E.g&&(O.g=new Map(E.g),O.h=E.h),bj(this,O),this.m=p.m}else p&&(E=String(p).match(xj))?(this.h=!1,Pp(this,E[1]||"",!0),this.o=hd(E[2]||""),this.g=hd(E[3]||"",!0),Rp(this,E[4]),this.l=hd(E[5]||"",!0),bj(this,E[6]||"",!0),this.m=hd(E[7]||"")):(this.h=!1,this.i=new md(null,this.h))}yo.prototype.toString=function(){var p=[],E=this.j;E&&p.push(pd(E,_j,!0),":");var O=this.g;return(O||E=="file")&&(p.push("//"),(E=this.o)&&p.push(pd(E,_j,!0),"@"),p.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&p.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(pd(O,O.charAt(0)=="/"?X9:K9,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",pd(O,Q9)),p.join("")};function da(p){return new yo(p)}function Pp(p,E,O){p.j=O?hd(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Rp(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function bj(p,E,O){E instanceof md?(p.i=E,Z9(p.i,p.h)):(O||(E=pd(E,Y9)),p.i=new md(E,p.h))}function St(p,E,O){p.i.set(E,O)}function Mp(p){return St(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function hd(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function pd(p,E,O){return typeof p=="string"?(p=encodeURI(p).replace(E,W9),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function W9(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var _j=/[#\/\?@]/g,K9=/[#\?:]/g,X9=/[#\?]/g,Y9=/[#\?@]/g,Q9=/#/g;function md(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ns(p){p.g||(p.g=new Map,p.h=0,p.i&&G9(p.i,function(E,O){p.add(decodeURIComponent(E.replace(/\+/g," ")),O)}))}t=md.prototype,t.add=function(p,E){ns(this),this.i=null,p=Dl(this,p);var O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(E),this.h+=1,this};function wj(p,E){ns(p),E=Dl(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Aj(p,E){return ns(p),E=Dl(p,E),p.g.has(E)}t.forEach=function(p,E){ns(this),this.g.forEach(function(O,M){O.forEach(function(q){p.call(E,q,M,this)},this)},this)},t.na=function(){ns(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),O=[];for(let M=0;M<E.length;M++){const q=p[M];for(let Y=0;Y<q.length;Y++)O.push(E[M])}return O},t.V=function(p){ns(this);let E=[];if(typeof p=="string")Aj(this,p)&&(E=E.concat(this.g.get(Dl(this,p))));else{p=Array.from(this.g.values());for(let O=0;O<p.length;O++)E=E.concat(p[O])}return E},t.set=function(p,E){return ns(this),this.i=null,p=Dl(this,p),Aj(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function Sj(p,E,O){wj(p,E),0<O.length&&(p.i=null,p.g.set(Dl(p,E),y(O)),p.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var O=0;O<E.length;O++){var M=E[O];const Y=encodeURIComponent(String(M)),ce=this.V(M);for(M=0;M<ce.length;M++){var q=Y;ce[M]!==""&&(q+="="+encodeURIComponent(String(ce[M]))),p.push(q)}}return this.i=p.join("&")};function Dl(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Z9(p,E){E&&!p.j&&(ns(p),p.i=null,p.g.forEach(function(O,M){var q=M.toLowerCase();M!=q&&(wj(this,M),Sj(this,q,O))},p)),p.j=E}function J9(p,E){const O=new Ve;if(l.Image){const M=new Image;M.onload=m(rs,O,"TestLoadImage: loaded",!0,E,M),M.onerror=m(rs,O,"TestLoadImage: error",!1,E,M),M.onabort=m(rs,O,"TestLoadImage: abort",!1,E,M),M.ontimeout=m(rs,O,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else E(!1)}function eU(p,E){const O=new Ve,M=new AbortController,q=setTimeout(()=>{M.abort(),rs(O,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:M.signal}).then(Y=>{clearTimeout(q),Y.ok?rs(O,"TestPingServer: ok",!0,E):rs(O,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(q),rs(O,"TestPingServer: error",!1,E)})}function rs(p,E,O,M,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),M(O)}catch{}}function tU(){this.g=new dx}function nU(p,E,O){const M=O||"";try{yj(p,function(q,Y){let ce=q;u(q)&&(ce=cd(q)),E.push(M+Y+"="+encodeURIComponent(ce))})}catch(q){throw E.push(M+"type="+encodeURIComponent("_badmap")),q}}function Dp(p){this.l=p.Ub||null,this.j=p.eb||!1}v(Dp,dd),Dp.prototype.g=function(){return new $p(this.l,this.j)},Dp.prototype.i=function(p){return function(){return p}}({});function $p(p,E){be.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v($p,be),t=$p.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,vd(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gd(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vd(this)),this.g&&(this.readyState=3,vd(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ej(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ej(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?gd(this):vd(this),this.readyState==3&&Ej(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,gd(this))},t.Qa=function(p){this.g&&(this.response=p,gd(this))},t.ga=function(){this.g&&gd(this)};function gd(p){p.readyState=4,p.l=null,p.j=null,p.v=null,vd(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var O=E.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=E.next();return p.join(`\r
`)};function vd(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty($p.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function jj(p){let E="";return T(p,function(O,M){E+=M,E+=":",E+=O,E+=`\r
`}),E}function yx(p,E,O){e:{for(M in O){var M=!1;break e}M=!0}M||(O=jj(O),typeof p=="string"?O!=null&&encodeURIComponent(String(O)):St(p,E,O))}function Vt(p){be.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Vt,be);var rU=/^https?$/i,iU=["POST","PUT"];t=Vt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,O,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ua.g(),this.v=this.o?Cp(this.o):Cp(ua),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(Y){Tj(this,Y);return}if(p=O||"",O=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var q in M)O.set(q,M[q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())O.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(O.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=l.FormData&&p instanceof l.FormData,!(0<=Array.prototype.indexOf.call(iU,E,void 0))||M||q||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of O)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cj(this),this.u=!0,this.g.send(p),this.u=!1}catch(Y){Tj(this,Y)}};function Tj(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Nj(p),Lp(p)}function Nj(p){p.A||(p.A=!0,de(p,"complete"),de(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,de(this,"complete"),de(this,"abort"),Lp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lp(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oj(this):this.bb())},t.bb=function(){Oj(this)};function Oj(p){if(p.h&&typeof s<"u"&&(!p.v[1]||fa(p)!=4||p.Z()!=2)){if(p.u&&fa(p)==4)Bt(p.Ea,0,p);else if(de(p,"readystatechange"),fa(p)==4){p.h=!1;try{const ce=p.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var O;if(!(O=E)){var M;if(M=ce===0){var q=String(p.D).match(xj)[1]||null;!q&&l.self&&l.self.location&&(q=l.self.location.protocol.slice(0,-1)),M=!rU.test(q?q.toLowerCase():"")}O=M}if(O)de(p,"complete"),de(p,"success");else{p.m=6;try{var Y=2<fa(p)?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.Z()+"]",Nj(p)}}finally{Lp(p)}}}}function Lp(p,E){if(p.g){Cj(p);const O=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||de(p,"ready");try{O.onreadystatechange=M}catch{}}}function Cj(p){p.I&&(l.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function fa(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<fa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),ud(E)}};function Ij(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function aU(p){const E={};p=(p.g&&2<=fa(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(x(p[M]))continue;var O=C(p[M]);const q=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Y=E[q]||[];E[q]=Y,Y.push(O)}S(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yd(p,E,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||E}function kj(p){this.Aa=0,this.i=[],this.j=new Ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yd("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yd("baseRetryDelayMs",5e3,p),this.cb=yd("retryDelaySeedMs",1e4,p),this.Wa=yd("forwardChannelMaxRetries",2,p),this.wa=yd("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new hj(p&&p.concurrentRequestLimit),this.Da=new tU,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kj.prototype,t.la=8,t.G=1,t.connect=function(p,E,O,M){nt(0),this.W=p,this.H=E||{},O&&M!==void 0&&(this.H.OSID=O,this.H.OAID=M),this.F=this.X,this.I=Vj(this,null,this.W),Up(this)};function xx(p){if(Pj(p),p.G==3){var E=p.U++,O=da(p.I);if(St(O,"SID",p.K),St(O,"RID",E),St(O,"TYPE","terminate"),xd(p,O),E=new ts(p,p.j,E),E.L=2,E.v=Mp(da(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!O&&l.Image&&(new Image().src=E.v,O=!0),O||(E.g=zj(E.j,null),E.g.ea(E.v)),E.F=Date.now(),kp(E)}Uj(p)}function Bp(p){p.g&&(_x(p),p.g.cancel(),p.g=null)}function Pj(p){Bp(p),p.u&&(l.clearTimeout(p.u),p.u=null),Vp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&l.clearTimeout(p.s),p.s=null)}function Up(p){if(!pj(p.h)&&!p.s){p.s=!0;var E=p.Ga;L||G(),U||(L(),U=!0),W.add(E,p),p.B=0}}function sU(p,E){return mj(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=qe(h(p.Ga,p,E),Bj(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const q=new ts(this,this.j,p);let Y=this.o;if(this.S&&(Y?(Y=A(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var E=0,O=0;O<this.i.length;O++){t:{var M=this.i[O];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=O;break e}if(E===4096||O===this.i.length-1){E=O+1;break e}}E=1e3}else E=1e3;E=Mj(this,q,E),O=da(this.I),St(O,"RID",p),St(O,"CVER",22),this.D&&St(O,"X-HTTP-Session-Id",this.D),xd(this,O),Y&&(this.O?E="headers="+encodeURIComponent(String(jj(Y)))+"&"+E:this.m&&yx(O,this.m,Y)),vx(this.h,q),this.Ua&&St(O,"TYPE","init"),this.P?(St(O,"$req",E),St(O,"SID","null"),q.T=!0,hx(q,O,null)):hx(q,O,E),this.G=2}}else this.G==3&&(p?Rj(this,p):this.i.length==0||pj(this.h)||Rj(this))};function Rj(p,E){var O;E?O=E.l:O=p.U++;const M=da(p.I);St(M,"SID",p.K),St(M,"RID",O),St(M,"AID",p.T),xd(p,M),p.m&&p.o&&yx(M,p.m,p.o),O=new ts(p,p.j,O,p.B+1),p.m===null&&(O.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Mj(p,O,1e3),O.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),vx(p.h,O),hx(O,M,E)}function xd(p,E){p.H&&T(p.H,function(O,M){St(E,M,O)}),p.l&&yj({},function(O,M){St(E,M,O)})}function Mj(p,E,O){O=Math.min(p.i.length,O);var M=p.l?h(p.l.Na,p.l,p):null;e:{var q=p.i;let Y=-1;for(;;){const ce=["count="+O];Y==-1?0<O?(Y=q[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let mt=!0;for(let Nn=0;Nn<O;Nn++){let Qe=q[Nn].g;const Un=q[Nn].map;if(Qe-=Y,0>Qe)Y=Math.max(0,q[Nn].g-100),mt=!1;else try{nU(Un,ce,"req"+Qe+"_")}catch{M&&M(Un)}}if(mt){M=ce.join("&");break e}}}return p=p.i.splice(0,O),E.D=p,M}function Dj(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;L||G(),U||(L(),U=!0),W.add(E,p),p.v=0}}function bx(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=qe(h(p.Fa,p),Bj(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,$j(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=qe(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Bp(this),$j(this))};function _x(p){p.A!=null&&(l.clearTimeout(p.A),p.A=null)}function $j(p){p.g=new ts(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=da(p.qa);St(E,"RID","rpc"),St(E,"SID",p.K),St(E,"AID",p.T),St(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&St(E,"TO",p.ja),St(E,"TYPE","xmlhttp"),xd(p,E),p.m&&p.o&&yx(E,p.m,p.o),p.L&&(p.g.I=p.L);var O=p.g;p=p.ia,O.L=1,O.v=Mp(da(E)),O.m=null,O.P=!0,uj(O,p)}t.Za=function(){this.C!=null&&(this.C=null,Bp(this),bx(this),nt(19))};function Vp(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function Lj(p,E){var O=null;if(p.g==E){Vp(p),_x(p),p.g=null;var M=2}else if(gx(p.h,E))O=E.D,gj(p.h,E),M=1;else return;if(p.G!=0){if(E.o)if(M==1){O=E.m?E.m.length:0,E=Date.now()-E.F;var q=p.B;M=ue(),de(M,new ut(M,O)),Up(p)}else Dj(p);else if(q=E.s,q==3||q==0&&0<E.X||!(M==1&&sU(p,E)||M==2&&bx(p)))switch(O&&0<O.length&&(E=p.h,E.i=E.i.concat(O)),q){case 1:xo(p,5);break;case 4:xo(p,10);break;case 3:xo(p,6);break;default:xo(p,2)}}}function Bj(p,E){let O=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(O*=2),O*E}function xo(p,E){if(p.j.info("Error code "+E),E==2){var O=h(p.fb,p),M=p.Xa;const q=!M;M=new yo(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pp(M,"https"),Mp(M),q?J9(M.toString(),O):eU(M.toString(),O)}else nt(2);p.G=0,p.l&&p.l.sa(E),Uj(p),Pj(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Uj(p){if(p.G=0,p.ka=[],p.l){const E=vj(p.h);(E.length!=0||p.i.length!=0)&&(b(p.ka,E),b(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function Vj(p,E,O){var M=O instanceof yo?da(O):new yo(O);if(M.g!="")E&&(M.g=E+"."+M.g),Rp(M,M.s);else{var q=l.location;M=q.protocol,E=E?E+"."+q.hostname:q.hostname,q=+q.port;var Y=new yo(null);M&&Pp(Y,M),E&&(Y.g=E),q&&Rp(Y,q),O&&(Y.l=O),M=Y}return O=p.D,E=p.ya,O&&E&&St(M,O,E),St(M,"VER",p.la),xd(p,M),M}function zj(p,E,O){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new Vt(new Dp({eb:O})):new Vt(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fj(){}t=Fj.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zp(){}zp.prototype.g=function(p,E){return new Sr(p,E)};function Sr(p,E){be.call(this),this.g=new kj(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!x(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new $l(this)}v(Sr,be),Sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){xx(this.g)},Sr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.u&&(O={},O.__data__=cd(p),p=O);E.i.push(new F9(E.Ya++,p)),E.G==3&&Up(E)},Sr.prototype.N=function(){this.g.l=null,delete this.j,xx(this.g),delete this.g,Sr.aa.N.call(this)};function Hj(p){Tn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const O in E){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}v(Hj,Tn);function qj(){Ml.call(this),this.status=1}v(qj,Ml);function $l(p){this.g=p}v($l,Fj),$l.prototype.ua=function(){de(this.g,"a")},$l.prototype.ta=function(p){de(this.g,new Hj(p))},$l.prototype.sa=function(p){de(this.g,new qj)},$l.prototype.ra=function(){de(this.g,"b")},zp.prototype.createWebChannel=zp.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,K6=function(){return new zp},W6=function(){return ue()},G6=pi,l_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,tg=Ri,es.COMPLETE="complete",q6=es,Ip.EventType=go,go.OPEN="a",go.CLOSE="b",go.ERROR="c",go.MESSAGE="d",be.prototype.listen=be.prototype.K,Xd=Ip,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,H6=Vt}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const eO="@firebase/firestore",tO="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new Iy("@firebase/firestore");function Zl(){return il.logLevel}function me(t,...e){if(il.logLevel<=Ge.DEBUG){const n=e.map(NS);il.debug(`Firestore (${Vu}): ${t}`,...n)}}function Ha(t,...e){if(il.logLevel<=Ge.ERROR){const n=e.map(NS);il.error(`Firestore (${Vu}): ${t}`,...n)}}function Kc(t,...e){if(il.logLevel<=Ge.WARN){const n=e.map(NS);il.warn(`Firestore (${Vu}): ${t}`,...n)}}function NS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,X6(t,r,n)}function X6(t,e,n){let r=`FIRESTORE (${Vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ha(r),new Error(r)}function rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||X6(e,i,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class _W{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wW{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Pa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new Y6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class AW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new AW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function c_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Be(r,i);{const a=Q6(),s=TW(a.encode(rO(t,n)),a.encode(rO(e,n)));return s!==0?s:Be(r,i)}}n+=r>65535?2:1}return Be(t.length,e.length)}function rO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Be(t[n],e[n]);return Be(t.length,e.length)}function Xc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=-62135596800,aO=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aO);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iO)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aO}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new fn(0,0))}static max(){return new Pe(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Li.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Be(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),i=Li.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Li.extractNumericId(e).compare(Li.extractNumericId(n)):c_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Tt extends Li{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const NW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Li{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return NW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sO}static keyField(){return new Rn([sO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Tt.fromString(e))}static fromName(e){return new Se(Tt.fromString(e).popFirst(5))}static empty(){return new Se(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=-1;function OW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Gs(i,Se.empty(),e)}function CW(t){return new Gs(t.readTime,t.key,Xf)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(Pe.min(),Se.empty(),Xf)}static max(){return new Gs(Pe.max(),Se.empty(),Xf)}}function IW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==kW)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,a=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++a,s&&a===i&&n()},c=>r(c))}),s=!0,a===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++l,l===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ie((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function RW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=-1;function $y(t){return t==null}function Kg(t){return t===0&&1/t==-1/0}function MW(t){return typeof t=="number"&&Number.isInteger(t)&&!Kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="";function DW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oO(e)),e=$W(t.get(n),e);return oO(e)}function $W(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case J6:n+="";break;default:n+=a}}return n}function oO(t){return t+J6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}}class cm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new In(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cO(this.data.getIterator())}getIteratorFrom(e){return new cO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class cO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new hn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new t$("Invalid base64 string: "+a):a}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const LW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=LW.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$="server_timestamp",r$="__type__",i$="__previous_value__",a$="__local_write_time__";function CS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[r$])===null||n===void 0?void 0:n.stringValue)===n$}function Ly(t){const e=t.mapValue.fields[i$];return CS(e)?Ly(e):e}function Yf(t){const e=Ws(t.mapValue.fields[a$].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n,r,i,a,s,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Xg="(default)";class Qf{constructor(e,n){this.projectId=e,this.database=n||Xg}static empty(){return new Qf("","")}get isDefaultDatabase(){return this.database===Xg}isEqual(e){return e instanceof Qf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="__type__",UW="__max__",um={mapValue:{}},o$="__vector__",Yg="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CS(t)?4:zW(t)?9007199254740991:VW(t)?10:11:Ce(28295,{value:t})}function na(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yf(t).isEqual(Yf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ws(i.timestampValue),l=Ws(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ks(i.bytesValue).isEqual(Ks(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Xt(i.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xt(i.integerValue)===Xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Xt(i.doubleValue),l=Xt(a.doubleValue);return s===l?Kg(s)===Kg(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Xc(t.arrayValue.values||[],e.arrayValue.values||[],na);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(lO(s)!==lO(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!na(s[c],l[c])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function Zf(t,e){return(t.values||[]).find(n=>na(n,e))!==void 0}function Yc(t,e){if(t===e)return 0;const n=Xs(t),r=Xs(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=Xt(a.integerValue||a.doubleValue),c=Xt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return uO(t.timestampValue,e.timestampValue);case 4:return uO(Yf(t),Yf(e));case 5:return c_(t.stringValue,e.stringValue);case 6:return function(a,s){const l=Ks(a),c=Ks(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),c=s.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Be(l[u],c[u]);if(d!==0)return d}return Be(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=Be(Xt(a.latitude),Xt(s.latitude));return l!==0?l:Be(Xt(a.longitude),Xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dO(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,c,u,d;const f=a.fields||{},h=s.fields||{},m=(l=f[Yg])===null||l===void 0?void 0:l.arrayValue,v=(c=h[Yg])===null||c===void 0?void 0:c.arrayValue,y=Be(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:dO(m,v)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===um.mapValue&&s===um.mapValue)return 0;if(a===um.mapValue)return 1;if(s===um.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=c_(c[f],d[f]);if(h!==0)return h;const m=Yc(l[c[f]],u[d[f]]);if(m!==0)return m}return Be(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{Pe:n})}}function uO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ws(t),r=Ws(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function dO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Yc(n[i],r[i]);if(a)return a}return Be(n.length,r.length)}function Qc(t){return u_(t)}function u_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=u_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${u_(n.fields[s])}`;return i+"}"}(t.mapValue):Ce(61005,{value:t})}function ng(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ly(t);return e?16+ng(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ng(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ao(r.fields,(a,s)=>{i+=a.length+ng(s)}),i}(t.mapValue);default:throw Ce(13486,{value:t})}}function fO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d_(t){return!!t&&"integerValue"in t}function IS(t){return!!t&&"arrayValue"in t}function hO(t){return!!t&&"nullValue"in t}function pO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function VW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[s$])===null||n===void 0?void 0:n.stringValue)===o$}function xf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xf(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=xf(s):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mr(xf(this.value))}}function l$(t){const e=[];return ao(t.fields,(n,r)=>{const i=new Rn([n]);if(rg(r)){const a=l$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new qn(e,0,Pe.min(),Pe.min(),Pe.min(),mr.empty(),0)}static newFoundDocument(e,n,r,i){return new qn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new qn(e,2,n,Pe.min(),Pe.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Pe.min(),Pe.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.position=e,this.inclusive=n}}function mO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(s.referenceValue),n.key):r=Yc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function gO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!na(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function FW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${}class en extends c${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qW(e,n,r):n==="array-contains"?new KW(e,r):n==="in"?new XW(e,r):n==="not-in"?new YW(e,r):n==="array-contains-any"?new QW(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GW(e,r):new WW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yc(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(Yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends c${constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Oi(e,n)}matches(e){return u$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function u$(t){return t.op==="and"}function d$(t){return HW(t)&&u$(t)}function HW(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function f_(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Qc(t.value);if(d$(t))return t.filters.map(e=>f_(e)).join(",");{const e=t.filters.map(n=>f_(n)).join(",");return`${t.op}(${e})`}}function f$(t,e){return t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.field.isEqual(i.field)&&na(r.value,i.value)}(t,e):t instanceof Oi?function(r,i){return i instanceof Oi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,l)=>a&&f$(s,i.filters[l]),!0):!1}(t,e):void Ce(19439)}function h$(t){return t instanceof en?function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`}(t):t instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(h$).join(" ,")+"}"}(t):"Filter"}class qW extends en{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class GW extends en{constructor(e,n){super(e,"in",n),this.keys=p$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WW extends en{constructor(e,n){super(e,"not-in",n),this.keys=p$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class KW extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return IS(n)&&Zf(n.arrayValue,this.value)}}class XW extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zf(this.value.arrayValue,n)}}class YW extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zf(this.value.arrayValue,n)}}class QW extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!IS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Ie=null}}function vO(t,e=null,n=[],r=[],i=null,a=null,s=null){return new ZW(t,e,n,r,i,a,s)}function kS(t){const e=Me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>f_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qc(r)).join(",")),e.Ie=n}return e.Ie}function PS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gO(t.startAt,e.startAt)&&gO(t.endAt,e.endAt)}function h_(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JW(t,e,n,r,i,a,s,l){return new Hu(t,e,n,r,i,a,s,l)}function By(t){return new Hu(t)}function yO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m$(t){return t.collectionGroup!==null}function bf(t){const e=Me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new hn(Rn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Jf(a,r))}),n.has(Rn.keyField().canonicalString())||e.Ee.push(new Jf(Rn.keyField(),r))}return e.Ee}function Xi(t){const e=Me(t);return e.de||(e.de=eK(e,bf(t))),e.de}function eK(t,e){if(t.limitType==="F")return vO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Jf(i.field,a)});const n=t.endAt?new Qg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qg(t.startAt.position,t.startAt.inclusive):null;return vO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p_(t,e){const n=t.filters.concat([e]);return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function m_(t,e,n){return new Hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uy(t,e){return PS(Xi(t),Xi(e))&&t.limitType===e.limitType}function g$(t){return`${kS(Xi(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h$(i)).join(", ")}]`),$y(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qc(i)).join(",")),`Target(${r})`}(Xi(t))}; limitType=${t.limitType})`}function Vy(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of bf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,c){const u=mO(s,l,c);return s.inclusive?u<=0:u<0}(r.startAt,bf(r),i)||r.endAt&&!function(s,l,c){const u=mO(s,l,c);return s.inclusive?u>=0:u>0}(r.endAt,bf(r),i))}(t,e)}function tK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v$(t){return(e,n)=>{let r=!1;for(const i of bf(t)){const a=nK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function nK(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(a,s,l){const c=s.data.field(a),u=l.data.field(a);return c!==null&&u!==null?Yc(c,u):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return e$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK=new Lt(Se.comparator);function qa(){return rK}const y$=new Lt(Se.comparator);function Yd(...t){let e=y$;for(const n of t)e=e.insert(n.key,n);return e}function x$(t){let e=y$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return _f()}function b$(){return _f()}function _f(){return new Al(t=>t.toString(),(t,e)=>t.isEqual(e))}const iK=new Lt(Se.comparator),aK=new hn(Se.comparator);function We(...t){let e=aK;for(const n of t)e=e.add(n);return e}const sK=new hn(Be);function oK(){return sK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(e)?"-0":e}}function _$(t){return{integerValue:""+t}}function lK(t,e){return MW(e)?_$(e):RS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this._=void 0}}function cK(t,e,n){return t instanceof eh?function(i,a){const s={fields:{[r$]:{stringValue:n$},[a$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&CS(a)&&(a=Ly(a)),a&&(s.fields[i$]=a),{mapValue:s}}(n,e):t instanceof th?A$(t,e):t instanceof nh?S$(t,e):function(i,a){const s=w$(i,a),l=xO(s)+xO(i.Re);return d_(s)&&d_(i.Re)?_$(l):RS(i.serializer,l)}(t,e)}function uK(t,e,n){return t instanceof th?A$(t,e):t instanceof nh?S$(t,e):n}function w$(t,e){return t instanceof Zg?function(r){return d_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class eh extends zy{}class th extends zy{constructor(e){super(),this.elements=e}}function A$(t,e){const n=E$(e);for(const r of t.elements)n.some(i=>na(i,r))||n.push(r);return{arrayValue:{values:n}}}class nh extends zy{constructor(e){super(),this.elements=e}}function S$(t,e){let n=E$(e);for(const r of t.elements)n=n.filter(i=>!na(i,r));return{arrayValue:{values:n}}}class Zg extends zy{constructor(e,n){super(),this.serializer=e,this.Re=n}}function xO(t){return Xt(t.integerValue||t.doubleValue)}function E$(t){return IS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n){this.field=e,this.transform=n}}function fK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof th&&i instanceof th||r instanceof nh&&i instanceof nh?Xc(r.elements,i.elements,na):r instanceof Zg&&i instanceof Zg?na(r.Re,i.Re):r instanceof eh&&i instanceof eh}(t.transform,e.transform)}class hK{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fy{}function j$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N$(t.key,ji.none()):new lp(t.key,t.data,ji.none());{const n=t.data,r=mr.empty();let i=new hn(Rn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new so(t.key,r,new Dr(i.toArray()),ji.none())}}function pK(t,e,n){t instanceof lp?function(i,a,s){const l=i.value.clone(),c=_O(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof so?function(i,a,s){if(!ig(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=_O(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(T$(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wf(t,e,n,r){return t instanceof lp?function(a,s,l,c){if(!ig(a.precondition,s))return l;const u=a.value.clone(),d=wO(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof so?function(a,s,l,c){if(!ig(a.precondition,s))return l;const u=wO(a.fieldTransforms,c,s),d=s.data;return d.setAll(T$(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,l){return ig(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function mK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=w$(r.transform,i||null);a!=null&&(n===null&&(n=mr.empty()),n.set(r.field,a))}return n||null}function bO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xc(r,i,(a,s)=>fK(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lp extends Fy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class so extends Fy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function T$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _O(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,uK(s,l,n[i]))}return r}function wO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,cK(a,s,e))}return r}class N$ extends Fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gK extends Fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&pK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b$();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=j$(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,(n,r)=>bO(n,r))&&Xc(this.baseMutations,e.baseMutations,(n,r)=>bO(n,r))}}class MS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return iK}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new MS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Xe;function bK(t){switch(t){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function O$(t){if(t===void 0)return Ha("GRPC error has no .code"),re.UNKNOWN;switch(t){case Qt.OK:return re.OK;case Qt.CANCELLED:return re.CANCELLED;case Qt.UNKNOWN:return re.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return re.INTERNAL;case Qt.UNAVAILABLE:return re.UNAVAILABLE;case Qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Qt.NOT_FOUND:return re.NOT_FOUND;case Qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Qt.ABORTED:return re.ABORTED;case Qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Qt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:t})}}(Xe=Qt||(Qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=new Ls([4294967295,4294967295],0);function AO(t){const e=Q6().encode(t),n=new F6;return n.update(e),new Uint8Array(n.digest())}function SO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([i,a],0)]}class DS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qd(`Invalid padding: ${n}`);if(r<0)throw new Qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ls.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ls.fromNumber(r)));return i.compare(_K)===1&&(i=new Ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=AO(e),[r,i]=SO(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new DS(a,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const n=AO(e),[r,i]=SO(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hy(Pe.min(),i,new Lt(Be),qa(),We())}}class cp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cp(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class C${constructor(e,n){this.targetId=e,this.Ce=n}}class I${constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EO{constructor(){this.Fe=0,this.Me=jO(),this.xe=Dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),n=We(),r=We();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:a})}}),new cp(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=jO()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wK{constructor(e){this.ze=e,this.je=new Map,this.He=qa(),this.Je=dm(),this.Ye=dm(),this.Ze=new Lt(Be)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(h_(a))if(r===0){const s=new Se(a.path);this.tt(n,s,qn.newNoDocument(s,Pe.min()))}else rt(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=Ks(r).toUint8Array()}catch(c){if(c instanceof t$)return Kc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new DS(s,i,a)}catch(c){return Kc(c instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,s)=>{const l=this._t(s);if(l){if(a.current&&h_(l.target)){const c=new Se(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,qn.newNoDocument(c,e))}a.Le&&(n.set(s,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,s)=>{let l=!0;s.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new Hy(e,n,this.Ze,this.He,r);return this.He=qa(),this.Je=dm(),this.Ye=dm(),this.Ze=new Lt(Be),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new EO,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hn(Be),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hn(Be),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new EO),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function dm(){return new Lt(Se.comparator)}function jO(){return new Lt(Se.comparator)}const AK={asc:"ASCENDING",desc:"DESCENDING"},SK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EK={and:"AND",or:"OR"};class jK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g_(t,e){return t.useProto3Json||$y(e)?e:{value:e}}function Jg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TK(t,e){return Jg(t,e.toTimestamp())}function Yi(t){return rt(!!t,49232),Pe.fromTimestamp(function(n){const r=Ws(n);return new fn(r.seconds,r.nanos)}(t))}function $S(t,e){return v_(t,e).canonicalString()}function v_(t,e){const n=function(i){return new Tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function P$(t){const e=Tt.fromString(t);return rt(L$(e),10190,{key:e.toString()}),e}function y_(t,e){return $S(t.databaseId,e.path)}function hb(t,e){const n=P$(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(M$(n))}function R$(t,e){return $S(t.databaseId,e)}function NK(t){const e=P$(t);return e.length===4?Tt.emptyPath():M$(e)}function x_(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M$(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TO(t,e,n){return{name:y_(t,e),fields:n.value.mapValue.fields}}function OK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(rt(d===void 0||typeof d=="string",58123),Dn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){const d=u.code===void 0?re.UNKNOWN:O$(u.code);return new ge(d,u.message||"")}(s);n=new I$(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hb(t,r.document.name),a=Yi(r.document.updateTime),s=r.document.createTime?Yi(r.document.createTime):Pe.min(),l=new mr({mapValue:{fields:r.document.fields}}),c=qn.newFoundDocument(i,a,s,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ag(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hb(t,r.document),a=r.readTime?Yi(r.readTime):Pe.min(),s=qn.newNoDocument(i,a),l=r.removedTargetIds||[];n=new ag([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hb(t,r.document),a=r.removedTargetIds||[];n=new ag([],a,i,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new xK(i,a),l=r.targetId;n=new C$(l,s)}}return n}function CK(t,e){let n;if(e instanceof lp)n={update:TO(t,e.key,e.value)};else if(e instanceof N$)n={delete:y_(t,e.key)};else if(e instanceof so)n={update:TO(t,e.key,e.data),updateMask:BK(e.fieldMask)};else{if(!(e instanceof gK))return Ce(16599,{ft:e.type});n={verify:y_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const l=s.transform;if(l instanceof eh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof th)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zg)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw Ce(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:TK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)}(t,e.precondition)),n}function IK(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Yi(i.updateTime):Yi(a);return s.isEqual(Pe.min())&&(s=Yi(a)),new hK(s,i.transformResults||[])}(n,e))):[]}function kK(t,e){return{documents:[R$(t,e.path)]}}function PK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=R$(t,i);const a=function(u){if(u.length!==0)return $$(Oi.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ec(h.field),direction:DK(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=g_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function RK(t){let e=NK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(f){const h=D$(f);return h instanceof Oi&&d$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Jf(tc(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,$y(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new Qg(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Qg(m,h)}(n.endAt)),JW(e,i,s,a,l,"F",c,u)}function MK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function D$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tc(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=tc(n.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=tc(n.unaryFilter.field);return en.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tc(n.unaryFilter.field);return en.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return en.create(tc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oi.create(n.compositeFilter.filters.map(r=>D$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function DK(t){return AK[t]}function $K(t){return SK[t]}function LK(t){return EK[t]}function ec(t){return{fieldPath:t.canonicalString()}}function tc(t){return Rn.fromServerFormat(t.fieldPath)}function $$(t){return t instanceof en?function(n){if(n.op==="=="){if(pO(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NAN"}};if(hO(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pO(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NOT_NAN"}};if(hO(n.value))return{unaryFilter:{field:ec(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(n.field),op:$K(n.op),value:n.value}}}(t):t instanceof Oi?function(n){const r=n.getFilters().map(i=>$$(i));return r.length===1?r[0]:{compositeFilter:{op:LK(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function BK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function L$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,i,a=Pe.min(),s=Pe.min(),l=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e){this.wt=e}}function VK(t){const e=RK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(){this.Cn=new FK}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Gs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class FK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(Tt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B$=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(B$,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Zc(0)}static lr(){return new Zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="LruGarbageCollector",HK=1048576;function CO([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class qK{constructor(e){this.Er=e,this.buffer=new hn(CO),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(OO,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fu(n)?me(OO,"Ignoring IndexedDB error during garbage collection: ",n):await zu(n)}await this.mr(3e5)})}}class WK{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Dy.le);const r=new qK(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(NO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NO):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,s,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Zl()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function KK(t,e){return new WK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(){this.changes=new Al(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wf(r.mutation,i,Dr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Yd();return a.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let a=qa();const s=_f(),l=function(){return _f()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof so)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),wf(d.mutation,u,d.mutation.getFieldMask(),fn.now())):s.set(u.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new YK(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=_f();let i=new Lt((s,l)=>s-l),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Dr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||We()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=b$();d.forEach(h=>{if(!a.has(h)){const m=j$(n.get(h),r.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ie.resolve(Po());let l=Xf,c=a;return s.next(u=>ie.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(d)?ie.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,We())).next(d=>({batchId:l,changes:x$(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let i=Yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Yd();return this.indexManager.getCollectionParents(e,a).next(l=>ie.forEach(l,c=>{const u=function(f,h){return new Hu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,qn.newInvalidDocument(d)))});let l=Yd();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&wf(d.mutation,u,Dr.empty(),fn.now()),Vy(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yi(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:VK(i.bundledQuery),readTime:Yi(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(){this.overlays=new Lt(Se.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Po();return ie.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Po(),a=n.length+1,s=new Se(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Lt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=Po(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Po(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return ie.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yK(n,r));let a=this.Qr.get(n);a===void 0&&(a=We(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.$r=new hn(xn.Ur),this.Kr=new hn(xn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new xn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new xn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Se(new Tt([])),r=new xn(n,e),i=new xn(n,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Se(new Tt([])),r=new xn(n,e),i=new xn(n,e+1);let a=We();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new xn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Se.comparator(e.key,n.key)||Be(e.Zr,n.Zr)}static Wr(e,n){return Be(e.Zr,n.Zr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new hn(xn.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vK(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new xn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?OS:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const l=this.ei(s.Zr);a.push(l)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Be);return n.forEach(i=>{const a=new xn(i,0),s=new xn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],l=>{r=r.add(l.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const s=new xn(new Se(a),0);let l=new hn(Be);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Zr)),!0)},s),ie.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(n.mutations,i=>{const a=new xn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new xn(n,0),i=this.Xr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.ii=e,this.docs=function(){return new Lt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=qa();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():qn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=qa();const s=n.path,l=new Se(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||IW(CW(d),r)<=0||(i.has(d.key)||Vy(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}si(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rX(this)}getSize(e){return ie.resolve(this.size)}}class rX extends XK{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.persistence=e,this.oi=new Al(n=>kS(n),PS),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this._i=0,this.ai=new LS,this.targetCount=0,this.ui=Zc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.ci={},this.overlays={},this.li=new Dy(0),this.hi=!1,this.hi=!0,this.Pi=new eX,this.referenceDelegate=e(this),this.Ti=new iX(this),this.indexManager=new zK,this.remoteDocumentCache=function(i){return new nX(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new UK(n),this.Ei=new ZK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new tX(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new aX(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class aX extends PW{constructor(e){super(),this.currentSequenceNumber=e}}class BS{constructor(e){this.persistence=e,this.Vi=new LS,this.mi=null}static fi(e){return new BS(e)}get gi(){if(this.mi)return this.mi;throw Ce(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const i=Se.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,Pe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ev{constructor(e,n){this.persistence=e,this.yi=new Al(r=>DW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=KK(this,n)}static fi(e,n){return new ev(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(l=>{l||(r++,a.removeEntry(s,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ng(e.data.value)),n}Dr(e,n,r){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=We(),i=We();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new US(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JF()?8:RW(Jn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new sX;return this.Ss(e,n,s).next(l=>{if(a.result=l,this.fs)return this.Ds(e,n,s,l.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Zl()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(Zl()<=Ge.DEBUG&&me("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Zl()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):ie.resolve())}ws(e,n){if(yO(n))return ie.resolve(null);let r=Xi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m_(n,null,"F"),r=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=We(...a);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,s,c.readTime)?this.ws(e,m_(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return yO(n)||i.isEqual(Pe.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(n,a);return this.Cs(n,s,r,i)?ie.resolve(null):(Zl()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(n)),this.Fs(e,s,n,OW(i,Xf)).next(l=>l))})}vs(e,n){let r=new hn(v$(e));return n.forEach((i,a)=>{Vy(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Zl()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.ys.getDocumentsMatchingQuery(e,n,Gs.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="LocalStore",lX=3e8;class cX{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Lt(Be),this.Os=new Al(a=>kS(a),PS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QK(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function uX(t,e,n,r){return new cX(t,e,n,r)}async function V$(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],l=[];let c=We();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:l}))})})}function dX(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let m=ie.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(y=>{const b=u.docVersions.get(v);rt(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=We();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function z$(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function fX(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ti.removeMatchingKeys(a,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(a,d.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Dn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=lX?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,d)&&l.push(n.Ti.updateTargetData(a,m))});let c=qa(),u=We();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(hX(a,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(Pe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(a).next(f=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(d)}return ie.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.xs=i,a))}function hX(t,e,n){let r=We(),i=We();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=qa();return n.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):me(VS,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function pX(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=OS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mX(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Es(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function b_(t,e,n){const r=Me(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Fu(s))throw s;me(VS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function IO(t,e,n){const r=Me(t);let i=Pe.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=Me(c),h=f.Os.get(d);return h!==void 0?ie.resolve(f.xs.get(h)):f.Ti.getTargetData(u,d)}(r,s,Xi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:Pe.min(),n?a:We())).next(l=>(gX(r,tK(e),l),{documents:l,$s:a})))}function gX(t,e,n){let r=t.Ns.get(e)||Pe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class kO{constructor(){this.activeTargetIds=oK()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vX{constructor(){this.xo=new kO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new kO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="ConnectivityMonitor";class RO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(PO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(PO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm=null;function __(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,"0x"+fm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="RestConnection",xX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Xg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const s=__(),l=this.jo(e,n.toUriEncodedString());me(pb,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:u}=new URL(l),d=ro(u);return this.Jo(e,l,c,r,d).then(f=>(me(pb,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Kc(pb,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",r),f})}Yo(e,n,r,i,a,s){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=xX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class wX extends bX{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=__();return new Promise((l,c)=>{const u=new H6;u.setWithCredentials(!0),u.listenOnce(q6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tg.NO_ERROR:const f=u.getResponseJson();me(zn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case tg.TIMEOUT:me(zn,`RPC '${e}' ${s} timed out`),c(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const h=u.getStatus();if(me(zn,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const y=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(v.status);c(new ge(y,v.message))}else c(new ge(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{me(zn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);me(zn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}I_(e,n,r){const i=__(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K6(),l=W6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");me(zn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);this.E_(f);let h=!1,m=!1;const v=new _X({Zo:b=>{m?me(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(me(zn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),me(zn,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},Xo:()=>f.close()}),y=(b,_,x)=>{b.listen(_,g=>{try{x(g)}catch(j){setTimeout(()=>{throw j},0)}})};return y(f,Xd.EventType.OPEN,()=>{m||(me(zn,`RPC '${e}' stream ${i} transport opened.`),v.__())}),y(f,Xd.EventType.CLOSE,()=>{m||(m=!0,me(zn,`RPC '${e}' stream ${i} transport closed`),v.u_(),this.d_(f))}),y(f,Xd.EventType.ERROR,b=>{m||(m=!0,Kc(zn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),v.u_(new ge(re.UNAVAILABLE,"The operation could not be completed")))}),y(f,Xd.EventType.MESSAGE,b=>{var _;if(!m){const x=b.data[0];rt(!!x,16349);const g=x,j=(g==null?void 0:g.error)||((_=g[0])===null||_===void 0?void 0:_.error);if(j){me(zn,`RPC '${e}' stream ${i} received error:`,j);const w=j.status;let T=function(N){const I=Qt[N];if(I!==void 0)return O$(I)}(w),S=j.message;T===void 0&&(T=re.INTERNAL,S="Unknown error status: "+w+" with message "+j.message),m=!0,v.u_(new ge(T,S)),f.close()}else me(zn,`RPC '${e}' stream ${i} received:`,x),v.c_(x)}}),y(l,G6.STAT_EVENT,b=>{b.stat===l_.PROXY?me(zn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===l_.NOPROXY&&me(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function mb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){return new jK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="PersistentStream";class H${constructor(e,n,r,i,a,s,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new F$(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ha(n.toString()),Ha("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new ge(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return me(MO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(me(MO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AX extends H${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=OK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Pe.min():s.readTime?Yi(s.readTime):Pe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=x_(this.serializer),n.addTarget=function(a,s){let l;const c=s.target;if(l=h_(c)?{documents:kK(a,c)}:{query:PK(a,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=k$(a,s.resumeToken);const u=g_(a,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(Pe.min())>0){l.readTime=Jg(a,s.snapshotVersion.toTimestamp());const u=g_(a,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=MK(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=x_(this.serializer),n.removeTarget=e,this.Q_(n)}}class SX extends H${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=IK(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=x_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CK(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{}class jX extends EX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,v_(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(re.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,v_(n,r),i,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(re.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class TX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ha(n),this.ua=!1):me("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="RemoteStore";class NX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(s=>{r.enqueueAndForget(async()=>{Sl(this)&&(me(al,"Restarting streams for network reachability change."),await async function(c){const u=Me(c);u.da.add(4),await up(u),u.Va.set("Unknown"),u.da.delete(4),await Gy(u)}(this))})}),this.Va=new TX(r,i)}}async function Gy(t){if(Sl(t))for(const e of t.Aa)await e(!0)}async function up(t){for(const e of t.Aa)await e(!1)}function q$(t,e){const n=Me(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),qS(n)?HS(n):qu(n).N_()&&FS(n,e))}function zS(t,e){const n=Me(t),r=qu(n);n.Ea.delete(e),r.N_()&&G$(n,e),n.Ea.size===0&&(r.N_()?r.k_():Sl(n)&&n.Va.set("Unknown"))}function FS(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qu(t).Z_(e)}function G$(t,e){t.ma.Ke(e),qu(t).X_(e)}function HS(t){t.ma=new wK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.Va.ca()}function qS(t){return Sl(t)&&!qu(t).O_()&&t.Ea.size>0}function Sl(t){return Me(t).da.size===0}function W$(t){t.ma=void 0}async function OX(t){t.Va.set("Online")}async function CX(t){t.Ea.forEach((e,n)=>{FS(t,e)})}async function IX(t,e){W$(t),qS(t)?(t.Va.Pa(e),HS(t)):t.Va.set("Unknown")}async function kX(t,e,n){if(t.Va.set("Online"),e instanceof I$&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){me(al,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tv(t,r)}else if(e instanceof ag?t.ma.Xe(e):e instanceof C$?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Pe.min()))try{const r=await z$(t.localStore);n.compareTo(r)>=0&&await function(a,s){const l=a.ma.It(s);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ea.get(u);d&&a.Ea.set(u,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ea.get(c);if(!d)return;a.Ea.set(c,d.withResumeToken(Dn.EMPTY_BYTE_STRING,d.snapshotVersion)),G$(a,c);const f=new Es(d.target,c,u,d.sequenceNumber);FS(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){me(al,"Failed to raise snapshot:",r),await tv(t,r)}}async function tv(t,e,n){if(!Fu(e))throw e;t.da.add(1),await up(t),t.Va.set("Offline"),n||(n=()=>z$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(al,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Gy(t)})}function K$(t,e){return e().catch(n=>tv(t,n,e))}async function Wy(t){const e=Me(t),n=Ys(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:OS;for(;PX(e);)try{const i=await pX(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,RX(e,i)}catch(i){await tv(e,i)}X$(e)&&Y$(e)}function PX(t){return Sl(t)&&t.Ia.length<10}function RX(t,e){t.Ia.push(e);const n=Ys(t);n.N_()&&n.ea&&n.ta(e.mutations)}function X$(t){return Sl(t)&&!Ys(t).O_()&&t.Ia.length>0}function Y$(t){Ys(t).start()}async function MX(t){Ys(t).ia()}async function DX(t){const e=Ys(t);for(const n of t.Ia)e.ta(n.mutations)}async function $X(t,e,n){const r=t.Ia.shift(),i=MS.from(r,e,n);await K$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wy(t)}async function LX(t,e){e&&Ys(t).ea&&await async function(r,i){if(function(s){return bK(s)&&s!==re.ABORTED}(i.code)){const a=r.Ia.shift();Ys(r).L_(),await K$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Wy(r)}}(t,e),X$(t)&&Y$(t)}async function DO(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),me(al,"RemoteStore received new credentials");const r=Sl(n);n.da.add(3),await up(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Gy(n)}async function BX(t,e){const n=Me(t);e?(n.da.delete(2),await Gy(n)):e||(n.da.add(2),await up(n),n.Va.set("Unknown"))}function qu(t){return t.fa||(t.fa=function(n,r,i){const a=Me(n);return a.oa(),new AX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:OX.bind(null,t),n_:CX.bind(null,t),i_:IX.bind(null,t),Y_:kX.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),qS(t)?HS(t):t.Va.set("Unknown")):(await t.fa.stop(),W$(t))})),t.fa}function Ys(t){return t.ga||(t.ga=function(n,r,i){const a=Me(n);return a.oa(),new SX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:MX.bind(null,t),i_:LX.bind(null,t),na:DX.bind(null,t),ra:$X.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Wy(t)):(await t.ga.stop(),t.Ia.length>0&&(me(al,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new GS(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WS(t,e){if(Ha("AsyncQueue",`${e}: ${t}`),Fu(t))return new ge(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{static emptySet(e){return new Ic(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Yd(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.pa=new Lt(Se.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jc{constructor(e,n,r,i,a,s,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Jc(e,n,Ic.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class VX{constructor(){this.queries=LO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Me(n),a=i.queries;i.queries=LO(),a.forEach((s,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function LO(){return new Al(t=>g$(t),Uy)}async function KS(t,e){const n=Me(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new UX,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=WS(s,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&YS(n)}async function XS(t,e){const n=Me(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zX(t,e){const n=Me(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Ma(i)&&(r=!0);s.ba=i}}r&&YS(n)}function FX(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function YS(t){t.Ca.forEach(e=>{e.next()})}var w_,BO;(BO=w_||(w_={})).xa="default",BO.Cache="cache";class QS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==w_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.key=e}}class Z${constructor(e){this.key=e}}class HX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=v$(e),this.Xa=new Ic(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new $O,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Vy(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;h&&m?h.data.isEqual(m.data)?v!==y&&(r.track({type:3,doc:m}),b=!0):this.ru(h,m)||(r.track({type:2,doc:m}),b=!0,(c&&this.Za(m,c)>0||u&&this.Za(m,u)<0)&&(l=!0)):!h&&m?(r.track({type:0,doc:m}),b=!0):h&&!m&&(r.track({type:1,doc:h}),b=!0,(c||u)&&(l=!0)),b&&(m?(s=s.add(m),a=y?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Xa:s,nu:r,Cs:l,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((d,f)=>function(m,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:b})}};return y(m)-y(v)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,s.length!==0||u?{snapshot:new Jc(this.query,e.Xa,a,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $O,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Z$(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Q$(r))}),n}au(e){this.Ha=e.$s,this.Ya=We();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Jc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ZS="SyncEngine";class qX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GX{constructor(e){this.key=e,this.cu=!1}}class WX{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Al(l=>g$(l),Uy),this.Pu=new Map,this.Tu=new Set,this.Iu=new Lt(Se.comparator),this.Eu=new Map,this.du=new LS,this.Au={},this.Ru=new Map,this.Vu=Zc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function KX(t,e,n=!0){const r=i3(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await J$(r,e,n,!0),i}async function XX(t,e){const n=i3(t);await J$(n,e,!0,!1)}async function J$(t,e,n,r){const i=await mX(t.localStore,Xi(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await YX(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&q$(t.remoteStore,i),l}async function YX(t,e,n,r,i){t.fu=(f,h,m)=>async function(y,b,_,x){let g=b.view.tu(_);g.Cs&&(g=await IO(y.localStore,b.query,!1).then(({documents:S})=>b.view.tu(S,g)));const j=x&&x.targetChanges.get(b.targetId),w=x&&x.targetMismatches.get(b.targetId)!=null,T=b.view.applyChanges(g,y.isPrimaryClient,j,w);return VO(y,b.targetId,T.ou),T.snapshot}(t,f,h,m);const a=await IO(t.localStore,e,!0),s=new HX(e,a.$s),l=s.tu(a.documents),c=cp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(l,t.isPrimaryClient,c);VO(t,n,u.ou);const d=new qX(e,n,s);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function QX(t,e,n){const r=Me(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(s=>!Uy(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await b_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zS(r.remoteStore,i.targetId),A_(r,i.targetId)}).catch(zu)):(A_(r,i.targetId),await b_(r.localStore,i.targetId,!0))}async function ZX(t,e){const n=Me(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zS(n.remoteStore,r.targetId))}async function JX(t,e,n){const r=sY(t);try{const i=await function(s,l){const c=Me(s),u=fn.now(),d=l.reduce((m,v)=>m.add(v.key),We());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=qa(),y=We();return c.Bs.getEntries(m,d).next(b=>{v=b,v.forEach((_,x)=>{x.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(b=>{f=b;const _=[];for(const x of l){const g=mK(x,f.get(x.key).overlayedDocument);g!=null&&_.push(new so(x.key,g,l$(g.value.mapValue),ji.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,l)}).next(b=>{h=b;const _=b.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:h.batchId,changes:x$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let u=s.Au[s.currentUser.toKey()];u||(u=new Lt(Be)),u=u.insert(l,c),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await dp(r,i.changes),await Wy(r.remoteStore)}catch(i){const a=WS(i,"Failed to persist write");n.reject(a)}}async function e3(t,e){const n=Me(t);try{const r=await fX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Eu.get(a);s&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?rt(s.cu,14607):i.removedDocuments.size>0&&(rt(s.cu,42227),s.cu=!1))}),await dp(n,r,e)}catch(r){await zu(r)}}function UO(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,s)=>{const l=s.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=Me(s);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.Fa(l)&&(u=!0)}),u&&YS(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eY(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new Lt(Se.comparator);s=s.insert(a,qn.newNoDocument(a,Pe.min()));const l=We().add(a),c=new Hy(Pe.min(),new Map,new Lt(Be),s,l);await e3(r,c),r.Iu=r.Iu.remove(a),r.Eu.delete(e),JS(r)}else await b_(r.localStore,e,!1).then(()=>A_(r,e,n)).catch(zu)}async function tY(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await dX(n.localStore,e);n3(n,r,null),t3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dp(n,i)}catch(i){await zu(i)}}async function nY(t,e,n){const r=Me(t);try{const i=await function(s,l){const c=Me(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(rt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);n3(r,e,n),t3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dp(r,i)}catch(i){await zu(i)}}function t3(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function n3(t,e,n){const r=Me(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function A_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||r3(t,r)})}function r3(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(zS(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),JS(t))}function VO(t,e,n){for(const r of n)r instanceof Q$?(t.du.addReference(r.key,e),rY(t,r)):r instanceof Z$?(me(ZS,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||r3(t,r.key)):Ce(19791,{pu:r})}function rY(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(me(ZS,"New document in limbo: "+n),t.Tu.add(r),JS(t))}function JS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Se(Tt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new GX(n)),t.Iu=t.Iu.insert(n,r),q$(t.remoteStore,new Es(Xi(By(n.path)),r,"TargetPurposeLimboResolution",Dy.le))}}async function dp(t,e,n){const r=Me(t),i=[],a=[],s=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{s.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=US.Rs(c.targetId,u);a.push(f)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(c,u){const d=Me(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(u,h=>ie.forEach(h.ds,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ie.forEach(h.As,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Fu(f))throw f;me(VS,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.xs.get(h),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(h,y)}}}(r.localStore,a))}async function iY(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){me(ZS,"User change. New user:",e.toKey());const r=await V$(n.localStore,e);n.currentUser=e,function(a,s){a.Ru.forEach(l=>{l.forEach(c=>{c.reject(new ge(re.CANCELLED,s))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dp(n,r.ks)}}function aY(t,e){const n=Me(t),r=n.Eu.get(e);if(r&&r.cu)return We().add(r.key);{let i=We();const a=n.Pu.get(e);if(!a)return i;for(const s of a){const l=n.hu.get(s);i=i.unionWith(l.view.eu)}return i}}function i3(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eY.bind(null,e),e.lu.Y_=zX.bind(null,e.eventManager),e.lu.gu=FX.bind(null,e.eventManager),e}function sY(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nY.bind(null,e),e}class nv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return uX(this.persistence,new oX,e.initialUser,this.serializer)}Su(e){return new U$(BS.fi,this.serializer)}bu(e){return new vX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nv.provider={build:()=>new nv};class oY extends nv{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){rt(this.persistence.referenceDelegate instanceof ev,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new GK(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new U$(r=>ev.fi(r,n),this.serializer)}}class S_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iY.bind(null,this.syncEngine),await BX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VX}()}createDatastore(e){const n=qy(e.databaseInfo.databaseId),r=function(a){return new wX(a)}(e.databaseInfo);return function(a,s,l,c){return new jX(a,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,l){return new NX(r,i,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>UO(this.syncEngine,n,0),function(){return RO.C()?new RO:new yX}())}createSyncEngine(e,n){return function(i,a,s,l,c,u,d){const f=new WX(i,a,s,l,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Me(i);me(al,"RemoteStore shutting down."),a.da.add(5),await up(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}S_.provider={build:()=>new S_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ha("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class lY{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=Z6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{me(Qs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(me(Qs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=WS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gb(t,e){t.asyncQueue.verifyOperationInProgress(),me(Qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cY(t);me(Qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>DO(e.remoteStore,i)),t._onlineComponents=e}async function cY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Qs,"Using user provided OfflineComponentProvider");try{await gb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Kc("Error using user provided cache. Falling back to memory cache: "+n),await gb(t,new nv)}}else me(Qs,"Using default OfflineComponentProvider"),await gb(t,new oY(void 0));return t._offlineComponents}async function a3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Qs,"Using user provided OnlineComponentProvider"),await zO(t,t._uninitializedComponentsProvider._online)):(me(Qs,"Using default OnlineComponentProvider"),await zO(t,new S_))),t._onlineComponents}function uY(t){return a3(t).then(e=>e.syncEngine)}async function rv(t){const e=await a3(t),n=e.eventManager;return n.onListen=KX.bind(null,e.syncEngine),n.onUnlisten=QX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZX.bind(null,e.syncEngine),n}function dY(t,e,n={}){const r=new Pa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,u){const d=new e2({next:h=>{d.xu(),s.enqueueAndForget(()=>XS(a,f));const m=h.docs.has(l);!m&&h.fromCache?u.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new QS(By(l.path),d,{includeMetadataChanges:!0,Qa:!0});return KS(a,f)}(await rv(t),t.asyncQueue,e,n,r)),r.promise}function fY(t,e,n={}){const r=new Pa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,u){const d=new e2({next:h=>{d.xu(),s.enqueueAndForget(()=>XS(a,f)),h.fromCache&&c.source==="server"?u.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new QS(l,d,{includeMetadataChanges:!0,Qa:!0});return KS(a,f)}(await rv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e,n){if(!n)throw new ge(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hY(t,e,n,r){if(e===!0&&r===!0)throw new ge(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HO(t){if(!Se.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qO(t){if(Se.isDocumentKey(t))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ky(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ky(t);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firestore.googleapis.com",GO=!0;class WO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l3,this.ssl=GO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HK)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bW;switch(r.type){case"firstParty":return new SW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FO.get(n);r&&(me("ComponentProvider","Removing Datastore"),FO.delete(n),r.terminate())}(this),Promise.resolve()}}function pY(t,e,n,r={}){var i;t=zr(t,Xy);const a=ro(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(pS(`https://${c}`),mS("Firestore",!0)),s.host!==l3&&s.host!==c&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!qs(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Hn.MOCK_USER;else{d=r6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Hn(h)}t._authCredentials=new _W(new Y6(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class Zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Bs extends oo{constructor(e,n,r){super(e,n,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Se(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function tn(t,e,...n){if(t=Mt(t),o3("collection","path",e),t instanceof Xy){const r=Tt.fromString(e,...n);return qO(r),new Bs(t,null,r)}{if(!(t instanceof Zn||t instanceof Bs))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return qO(r),new Bs(t.firestore,null,r)}}function Qn(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=Z6.newId()),o3("doc","path",e),t instanceof Xy){const r=Tt.fromString(e,...n);return HO(r),new Zn(t,null,new Se(r))}{if(!(t instanceof Zn||t instanceof Bs))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return HO(r),new Zn(t.firestore,t instanceof Bs?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="AsyncQueue";class XO{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new F$(this,"async_queue_retry"),this.rc=()=>{const r=mb();r&&me(KO,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=mb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=mb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Pa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fu(e))throw e;me(KO,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ha("INTERNAL UNHANDLED ERROR: ",YO(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=GS.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Ce(47125,{cc:YO(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function YO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Zs extends Xy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XO(e),this._firestoreClient=void 0,await e}}}function mY(t,e){const n=typeof t=="object"?t:ky(),r=typeof t=="string"?t:Xg,i=io(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=e6("firestore");a&&pY(i,...a)}return i}function Yy(t){if(t._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gY(t),t._firestoreClient}function gY(t){var e,n,r;const i=t._freezeSettings(),a=function(l,c,u,d){return new BW(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,s3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lY(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(Dn.fromBase64String(e))}catch(n){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eu(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=/^__.*__$/;class yY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new lp(e,this.data,n,this.fieldTransforms)}}class c3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new so(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ic:t})}}class r2{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new r2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return iv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(u3(this.Ic)&&vY.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class xY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qy(e)}bc(e,n,r,i=!1){return new r2({Ic:e,methodName:n,wc:r,path:Rn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jy(t){const e=t._freezeSettings(),n=qy(t._databaseId);return new xY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d3(t,e,n,r,i,a={}){const s=t.bc(a.merge||a.mergeFields?2:0,e,n,i);a2("Data must be an object, but it was:",s,r);const l=f3(r,s);let c,u;if(a.merge)c=new Dr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=E_(e,f,n);if(!s.contains(h))throw new ge(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);p3(d,h)||d.push(h)}c=new Dr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new yY(new mr(l),c,u)}class e0 extends Zy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e0}}class i2 extends Zy{_toFieldTransform(e){return new dK(e.path,new eh)}isEqual(e){return e instanceof i2}}function bY(t,e,n,r){const i=t.bc(1,e,n);a2("Data must be an object, but it was:",i,r);const a=[],s=mr.empty();ao(r,(c,u)=>{const d=s2(e,c,n);u=Mt(u);const f=i.mc(d);if(u instanceof e0)a.push(d);else{const h=fp(u,f);h!=null&&(a.push(d),s.set(d,h))}});const l=new Dr(a);return new c3(s,l,i.fieldTransforms)}function _Y(t,e,n,r,i,a){const s=t.bc(1,e,n),l=[E_(e,r,n)],c=[i];if(a.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)l.push(E_(e,a[h])),c.push(a[h+1]);const u=[],d=mr.empty();for(let h=l.length-1;h>=0;--h)if(!p3(u,l[h])){const m=l[h];let v=c[h];v=Mt(v);const y=s.mc(m);if(v instanceof e0)u.push(m);else{const b=fp(v,y);b!=null&&(u.push(m),d.set(m,b))}}const f=new Dr(u);return new c3(d,f,s.fieldTransforms)}function wY(t,e,n,r=!1){return fp(n,t.bc(r?4:3,e))}function fp(t,e){if(h3(t=Mt(t)))return a2("Unsupported field value:",e,t),f3(t,e);if(t instanceof Zy)return function(r,i){if(!u3(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const l of r){let c=fp(l,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:Jg(i.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jg(i.serializer,a)}}if(r instanceof t2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eu)return{bytesValue:k$(i.serializer,r._byteString)};if(r instanceof Zn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$S(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof n2)return function(s,l){return{mapValue:{fields:{[s$]:{stringValue:o$},[Yg]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return RS(l.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Ky(r)}`)}(t,e)}function f3(t,e){const n={};return e$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,i)=>{const a=fp(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function h3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof t2||t instanceof eu||t instanceof Zn||t instanceof Zy||t instanceof n2)}function a2(t,e,n){if(!h3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ky(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function E_(t,e,n){if((e=Mt(e))instanceof Qy)return e._internalPath;if(typeof e=="string")return s2(t,e);throw iv("Field path arguments must be of type string or ",t,!1,void 0,n)}const AY=new RegExp("[~\\*/\\[\\]]");function s2(t,e,n){if(e.search(AY)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qy(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ge(re.INVALID_ARGUMENT,l+t+c)}function p3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SY extends m3{data(){return super.data()}}function t0(t,e){return typeof e=="string"?s2(t,e):e instanceof Qy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o2{}class v3 extends o2{}function Gn(t,e,...n){let r=[];e instanceof o2&&r.push(e),r=r.concat(n),function(a){const s=a.filter(c=>c instanceof l2).length,l=a.filter(c=>c instanceof n0).length;if(s>1||s>0&&l>0)throw new ge(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class n0 extends v3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new n0(e,n,r)}_apply(e){const n=this._parse(e);return y3(e._query,n),new oo(e.firestore,e.converter,p_(e._query,n))}_parse(e){const n=Jy(e.firestore);return function(a,s,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){JO(f,d);const v=[];for(const y of f)v.push(ZO(c,a,y));h={arrayValue:{values:v}}}else h=ZO(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||JO(f,d),h=wY(l,s,f,d==="in"||d==="not-in");return en.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kn(t,e,n){const r=e,i=t0("where",t);return n0._create(i,r,n)}class l2 extends o2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)y3(s,c),s=p_(s,c)}(e._query,n),new oo(e.firestore,e.converter,p_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c2 extends v3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c2(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ge(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jf(a,s)}(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Hu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function r0(t,e="asc"){const n=e,r=t0("orderBy",t);return c2._create(r,n)}function ZO(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m$(e)&&n.indexOf("/")!==-1)throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Se.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fO(t,new Se(r))}if(n instanceof Zn)return fO(t,n._key);throw new ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ky(n)}.`)}function JO(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y3(t,e){const n=function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EY{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Yg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Xt(s.doubleValue));return new n2(a)}convertGeoPoint(e){return new t2(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);rt(L$(r),9688,{name:e});const i=new Qf(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(n)||Ha(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b3 extends m3{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sg extends b3{data(e={}){return super.data(e)}}class _3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sg(this._firestore,this._userDataWriter,r.key,r,new Zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const c=new sg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new sg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Zd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:jY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(t){t=zr(t,Zn);const e=zr(t.firestore,Zs);return dY(Yy(e),t._key).then(n=>A3(e,t,n))}class u2 extends EY{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function kn(t){t=zr(t,oo);const e=zr(t.firestore,Zs),n=Yy(e),r=new u2(e);return g3(t._query),fY(n,t._query).then(i=>new _3(e,r,t,i))}function eC(t,e,n){t=zr(t,Zn);const r=zr(t.firestore,Zs),i=x3(t.converter,e,n);return d2(r,[d3(Jy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ji.none())])}function gr(t,e,n,...r){t=zr(t,Zn);const i=zr(t.firestore,Zs),a=Jy(i);let s;return s=typeof(e=Mt(e))=="string"||e instanceof Qy?_Y(a,"updateDoc",t._key,e,n,r):bY(a,"updateDoc",t._key,e),d2(i,[s.toMutation(t._key,ji.exists(!0))])}function rh(t,e){const n=zr(t.firestore,Zs),r=Qn(t),i=x3(t.converter,e);return d2(n,[d3(Jy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ji.exists(!1))]).then(()=>r)}function w3(t,...e){var n,r,i;t=Mt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QO(e[s])||(a=e[s],s++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(QO(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Zn)u=zr(t.firestore,Zs),d=By(t._key.path),c={next:f=>{e[s]&&e[s](A3(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=zr(t,oo);u=zr(f.firestore,Zs),d=f._query;const h=new u2(u);c={next:m=>{e[s]&&e[s](new _3(u,h,f,m))},error:e[s+1],complete:e[s+2]},g3(t._query)}return function(h,m,v,y){const b=new e2(y),_=new QS(m,b,v);return h.asyncQueue.enqueueAndForget(async()=>KS(await rv(h),_)),()=>{b.xu(),h.asyncQueue.enqueueAndForget(async()=>XS(await rv(h),_))}}(Yy(u),d,l,c)}function d2(t,e){return function(r,i){const a=new Pa;return r.asyncQueue.enqueueAndForget(async()=>JX(await uY(r),i,a)),a.promise}(Yy(t),e)}function A3(t,e,n){const r=n.docs.get(e._key),i=new u2(t);return new b3(t,i,e._key,r,new Zd(n.hasPendingWrites,n.fromCache),e.converter)}function i0(){return new i2("serverTimestamp")}(function(e,n=!0){(function(i){Vu=i})(wl),Ni(new li("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new Zs(new wW(r.getProvider("auth-internal")),new EW(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(u.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),yr(eO,tO,e),yr(eO,tO,"esm2017")})();var NY="firebase",OY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(NY,OY,"app");const S3="@firebase/installations",f2="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=1e4,j3=`w:${f2}`,T3="FIS_v2",CY="https://firebaseinstallations.googleapis.com/v1",IY=60*60*1e3,kY="installations",PY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sl=new _l(kY,PY,RY);function N3(t){return t instanceof ui&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3({projectId:t}){return`${CY}/projects/${t}/installations`}function C3(t){return{token:t.token,requestStatus:2,expiresIn:DY(t.expiresIn),creationTime:Date.now()}}async function I3(t,e){const r=(await e.json()).error;return sl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function k3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MY(t,{refreshToken:e}){const n=k3(t);return n.append("Authorization",$Y(e)),n}async function P3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DY(t){return Number(t.replace("s","000"))}function $Y(t){return`${T3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=O3(t),i=k3(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:T3,appId:t.appId,sdkVersion:j3},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await P3(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:C3(u.authToken)}}else throw await I3("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=/^[cdef][\w-]{21}$/,j_="";function VY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zY(t);return UY.test(n)?n:j_}catch{return j_}}function zY(t){return BY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Map;function D3(t,e){const n=a0(t);$3(n,e),FY(n,e)}function $3(t,e){const n=M3.get(t);if(n)for(const r of n)r(e)}function FY(t,e){const n=HY();n&&n.postMessage({key:t,fid:e}),qY()}let Ro=null;function HY(){return!Ro&&"BroadcastChannel"in self&&(Ro=new BroadcastChannel("[Firebase] FID Change"),Ro.onmessage=t=>{$3(t.data.key,t.data.fid)}),Ro}function qY(){M3.size===0&&Ro&&(Ro.close(),Ro=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY="firebase-installations-database",WY=1,ol="firebase-installations-store";let vb=null;function h2(){return vb||(vb=c6(GY,WY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ol)}}})),vb}async function av(t,e){const n=a0(t),i=(await h2()).transaction(ol,"readwrite"),a=i.objectStore(ol),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&D3(t,e.fid),e}async function L3(t){const e=a0(t),r=(await h2()).transaction(ol,"readwrite");await r.objectStore(ol).delete(e),await r.done}async function s0(t,e){const n=a0(t),i=(await h2()).transaction(ol,"readwrite"),a=i.objectStore(ol),s=await a.get(n),l=e(s);return l===void 0?await a.delete(n):await a.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&D3(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t){let e;const n=await s0(t.appConfig,r=>{const i=KY(r),a=XY(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===j_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function KY(t){const e=t||{fid:VY(),registrationStatus:0};return B3(e)}function XY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(sl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=YY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QY(t)}:{installationEntry:e}}async function YY(t,e){try{const n=await LY(t,e);return av(t.appConfig,n)}catch(n){throw N3(n)&&n.customData.serverCode===409?await L3(t.appConfig):await av(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function QY(t){let e=await tC(t.appConfig);for(;e.registrationStatus===1;)await R3(100),e=await tC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await p2(t);return r||n}return e}function tC(t){return s0(t,e=>{if(!e)throw sl.create("installation-not-found");return B3(e)})}function B3(t){return ZY(t)?{fid:t.fid,registrationStatus:0}:t}function ZY(t){return t.registrationStatus===1&&t.registrationTime+E3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY({appConfig:t,heartbeatServiceProvider:e},n){const r=eQ(t,n),i=MY(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:j3,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await P3(()=>fetch(r,l));if(c.ok){const u=await c.json();return C3(u)}else throw await I3("Generate Auth Token",c)}function eQ(t,{fid:e}){return`${O3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e=!1){let n;const r=await s0(t.appConfig,a=>{if(!U3(a))throw sl.create("not-registered");const s=a.authToken;if(!e&&rQ(s))return a;if(s.requestStatus===1)return n=tQ(t,e),a;{if(!navigator.onLine)throw sl.create("app-offline");const l=aQ(a);return n=nQ(t,l),l}});return n?await n:r.authToken}async function tQ(t,e){let n=await nC(t.appConfig);for(;n.authToken.requestStatus===1;)await R3(100),n=await nC(t.appConfig);const r=n.authToken;return r.requestStatus===0?m2(t,e):r}function nC(t){return s0(t,e=>{if(!U3(e))throw sl.create("not-registered");const n=e.authToken;return sQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nQ(t,e){try{const n=await JY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await av(t.appConfig,r),n}catch(n){if(N3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await L3(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await av(t.appConfig,r)}throw n}}function U3(t){return t!==void 0&&t.registrationStatus===2}function rQ(t){return t.requestStatus===2&&!iQ(t)}function iQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IY}function aQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function sQ(t){return t.requestStatus===1&&t.requestTime+E3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await p2(e);return r?r.catch(console.error):m2(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lQ(t,e=!1){const n=t;return await cQ(n),(await m2(n,e)).token}async function cQ(t){const{registrationPromise:e}=await p2(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){if(!t||!t.options)throw yb("App Configuration");if(!t.name)throw yb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yb(t){return sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="installations",dQ="installations-internal",fQ=t=>{const e=t.getProvider("app").getImmediate(),n=uQ(e),r=io(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hQ=t=>{const e=t.getProvider("app").getImmediate(),n=io(e,V3).getImmediate();return{getId:()=>oQ(n),getToken:i=>lQ(n,i)}};function pQ(){Ni(new li(V3,fQ,"PUBLIC")),Ni(new li(dQ,hQ,"PRIVATE"))}pQ();yr(S3,f2);yr(S3,f2,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="analytics",mQ="firebase_id",gQ="origin",vQ=60*1e3,yQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",g2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Iy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fr=new _l("analytics","Analytics",xQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){if(!t.startsWith(g2)){const e=Fr.create("invalid-gtag-resource",{gtagURL:t});return xr.warn(e.message),""}return t}function z3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _Q(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function wQ(t,e){const n=_Q("firebase-js-sdk-policy",{createScriptURL:bQ}),r=document.createElement("script"),i=`${g2}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function AQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function SQ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const c=(await z3(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){xr.error(l)}t("config",i,a)}async function EQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await z3(n);for(const c of s){const u=l.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){xr.error(a)}}function jQ(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[l,c]=s;await EQ(t,e,n,l,c)}else if(a==="config"){const[l,c]=s;await SQ(t,e,n,r,l,c)}else if(a==="consent"){const[l,c]=s;t("consent",l,c)}else if(a==="get"){const[l,c,u]=s;t("get",l,c,u)}else if(a==="set"){const[l]=s;t("set",l)}else t(a,...s)}catch(l){xr.error(l)}}return i}function TQ(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=jQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function NQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(g2)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=30,CQ=1e3;class IQ{constructor(e={},n=CQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const F3=new IQ;function kQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PQ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:kQ(r)},a=yQ.replace("{app-id}",n),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function RQ(t,e=F3,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Fr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Fr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new $Q;return setTimeout(async()=>{l.abort()},vQ),H3({appId:r,apiKey:i,measurementId:a},s,l,e)}async function H3(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=F3){var a;const{appId:s,measurementId:l}=t;try{await MQ(r,e)}catch(c){if(l)return xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:l};throw c}try{const c=await PQ(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!DQ(u)){if(i.deleteThrottleMetadata(s),l)return xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:l};throw c}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?TN(n,i.intervalMillis,OQ):TN(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,f),xr.debug(`Calling attemptFetch again in ${d} millis`),H3(t,f,r,i)}}function MQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function DQ(t){if(!(t instanceof ui)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $Q{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function LQ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s=Object.assign(Object.assign({},r),{send_to:a});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BQ(){if(a6())try{await s6()}catch(t){return xr.warn(Fr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return xr.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function UQ(t,e,n,r,i,a,s){var l;const c=RQ(t);c.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&xr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>xr.error(m)),e.push(c);const u=BQ().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([c,u]);NQ(a)||wQ(a,d.measurementId),i("js",new Date);const h=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return h[gQ]="firebase",h.update=!0,f!=null&&(h[mQ]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e){this.app=e}_delete(){return delete Af[this.app.options.appId],Promise.resolve()}}let Af={},rC=[];const iC={};let xb="dataLayer",zQ="gtag",aC,q3,sC=!1;function FQ(){const t=[];if(i6()&&t.push("This is a browser extension environment."),eH()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Fr.create("invalid-analytics-context",{errorInfo:e});xr.warn(n.message)}}function HQ(t,e,n){FQ();const r=t.options.appId;if(!r)throw Fr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fr.create("no-api-key");if(Af[r]!=null)throw Fr.create("already-exists",{id:r});if(!sC){AQ(xb);const{wrappedGtag:a,gtagCore:s}=TQ(Af,rC,iC,xb,zQ);q3=a,aC=s,sC=!0}return Af[r]=UQ(t,rC,iC,e,aC,xb,n),new VQ(t)}function qQ(t=ky()){t=Mt(t);const e=io(t,sv);return e.isInitialized()?e.getImmediate():GQ(t)}function GQ(t,e={}){const n=io(t,sv);if(n.isInitialized()){const i=n.getImmediate();if(qs(e,n.getOptions()))return i;throw Fr.create("already-initialized")}return n.initialize({options:e})}function WQ(t,e,n,r){t=Mt(t),LQ(q3,Af[t.app.options.appId],e,n,r).catch(i=>xr.error(i))}const oC="@firebase/analytics",lC="0.10.16";function KQ(){Ni(new li(sv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return HQ(r,i,n)},"PUBLIC")),Ni(new li("analytics-internal",t,"PRIVATE")),yr(oC,lC),yr(oC,lC,"esm2017");function t(e){try{const n=e.getProvider(sv).getImmediate();return{logEvent:(r,i,a)=>WQ(n,r,i,a)}}catch(n){throw Fr.create("interop-component-reg-failed",{reason:n})}}}KQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="firebasestorage.googleapis.com",W3="storageBucket",XQ=2*60*1e3,YQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends ui{constructor(e,n,r=0){super(bb(e),`Firebase Storage: ${n} (${bb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qt||(qt={}));function bb(t){return"storage/"+t}function v2(){const t="An unknown error occurred, please check the error payload for server response.";return new Gt(qt.UNKNOWN,t)}function QQ(t){return new Gt(qt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ZQ(t){return new Gt(qt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(qt.UNAUTHENTICATED,t)}function eZ(){return new Gt(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tZ(t){return new Gt(qt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nZ(){return new Gt(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rZ(){return new Gt(qt.CANCELED,"User canceled the upload/download.")}function iZ(t){return new Gt(qt.INVALID_URL,"Invalid URL '"+t+"'.")}function aZ(t){return new Gt(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sZ(){return new Gt(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W3+"' property when initializing the app?")}function oZ(){return new Gt(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lZ(){return new Gt(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cZ(t){return new Gt(qt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T_(t){return new Gt(qt.INVALID_ARGUMENT,t)}function K3(){return new Gt(qt.APP_DELETED,"The Firebase app was deleted.")}function uZ(t){return new Gt(qt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sf(t,e){return new Gt(qt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Od(t){throw new Gt(qt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$r.makeFromUrl(e,n)}catch{return new $r(e,"")}if(r.path==="")return r;throw aZ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},y=n===G3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${b}`,"i"),g=[{regex:l,indices:c,postModify:a},{regex:m,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<g.length;j++){const w=g[j],T=w.regex.exec(e);if(T){const S=T[w.indices.bucket];let A=T[w.indices.path];A||(A=""),r=new $r(S,A),w.postModify(r);break}}if(r==null)throw iZ(e);return r}}class dZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(m,c())},b)}function h(){a&&clearTimeout(a)}function m(b,..._){if(u){h();return}if(b){h(),d.call(null,b,..._);return}if(c()||s){h(),d.call(null,b,..._);return}r<64&&(r*=2);let g;l===1?(l=2,g=0):g=(r+Math.random())*1e3,f(g)}let v=!1;function y(b){v||(v=!0,h(),!u&&(i!==null?(b||(l=2),clearTimeout(i),f(0)):b||(l=1)))}return f(0),a=setTimeout(()=>{s=!0,y(!0)},n),y}function hZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t){return t!==void 0}function mZ(t){return typeof t=="object"&&!Array.isArray(t)}function y2(t){return typeof t=="string"||t instanceof String}function cC(t){return x2()&&t instanceof Blob}function x2(){return typeof Blob<"u"}function uC(t,e,n,r){if(r<e)throw T_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw T_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function X3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ko;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ko||(Ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vZ{constructor(e,n,r,i,a,s,l,c,u,d,f,h=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===Ko.NO_ERROR,c=a.getStatus();if(!l||gZ(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Ko.ABORT;r(!1,new hm(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new hm(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());pZ(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=v2();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?K3():rZ();s(c)}else{const c=nZ();s(c)}};this.canceled_?n(!1,new hm(!1,null,!0)):this.backoffId_=fZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _Z(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wZ(t,e,n,r,i,a,s=!0,l=!1){const c=X3(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return bZ(d,e),yZ(d,n),xZ(d,a),_Z(d,r),new vZ(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SZ(...t){const e=AZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(x2())return new Blob(t);throw new Gt(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZ(t){if(typeof atob>"u")throw cZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _b{constructor(e,n){this.data=e,this.contentType=n||null}}function TZ(t,e){switch(t){case Vi.RAW:return new _b(Y3(e));case Vi.BASE64:case Vi.BASE64URL:return new _b(Q3(t,e));case Vi.DATA_URL:return new _b(OZ(e),CZ(e))}throw v2()}function Y3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Sf(Vi.DATA_URL,"Malformed data URL.")}return Y3(e)}function Q3(t,e){switch(t){case Vi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Sf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Sf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jZ(e)}catch(i){throw i.message.includes("polyfill")?i:Sf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Z3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sf(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=IZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OZ(t){const e=new Z3(t);return e.base64?Q3(Vi.BASE64,e.rest):NZ(e.rest)}function CZ(t){return new Z3(t).contentType}function IZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){let r=0,i="";cC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cC(this.data_)){const r=this.data_,i=EZ(r,e,n);return i===null?null:new xs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xs(r,!0)}}static getBlob(...e){if(x2()){const n=e.map(r=>r instanceof xs?r.data_:r);return new xs(SZ.apply(null,n))}else{const n=e.map(s=>y2(s)?TZ(Vi.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new xs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t){let e;try{e=JSON.parse(t)}catch{return null}return mZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(t,e){return e}class er{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RZ}}let pm=null;function MZ(t){return!y2(t)||t.length<2?t:eL(t)}function tL(){if(pm)return pm;const t=[];t.push(new er("bucket")),t.push(new er("generation")),t.push(new er("metageneration")),t.push(new er("name","fullPath",!0));function e(a,s){return MZ(s)}const n=new er("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new er("size");return i.xform=r,t.push(i),t.push(new er("timeCreated")),t.push(new er("updated")),t.push(new er("md5Hash",null,!0)),t.push(new er("cacheControl",null,!0)),t.push(new er("contentDisposition",null,!0)),t.push(new er("contentEncoding",null,!0)),t.push(new er("contentLanguage",null,!0)),t.push(new er("contentType",null,!0)),t.push(new er("metadata","customMetadata",!0)),pm=t,pm}function DZ(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new $r(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function $Z(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return DZ(r,t),r}function nL(t,e,n){const r=J3(e);return r===null?null:$Z(t,r,n)}function LZ(t,e,n,r){const i=J3(e);if(i===null||!y2(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+s(d)+"/o/"+s(f),m=b2(h,n,r),v=X3({alt:"media",token:u});return m+v})[0]}function BZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class rL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){if(!t)throw v2()}function UZ(t,e){function n(r,i){const a=nL(t,i,e);return iL(a!==null),a}return n}function VZ(t,e){function n(r,i){const a=nL(t,i,e);return iL(a!==null),LZ(a,i,t.host,t._protocol)}return n}function aL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eZ():i=JQ():n.getStatus()===402?i=ZQ(t.bucket):n.getStatus()===403?i=tZ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zZ(t){const e=aL(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=QQ(t.path)),a.serverResponse=i.serverResponse,a}return n}function FZ(t,e,n){const r=e.fullServerUrl(),i=b2(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new rL(i,a,VZ(t,n),s);return l.errorHandler=zZ(e),l}function HZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function qZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=HZ(null,e)),r}function GZ(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let g="";for(let j=0;j<2;j++)g=g+Math.random().toString().slice(2);return g}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const u=qZ(e,r,i),d=BZ(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",m=xs.getBlob(f,r,h);if(m===null)throw oZ();const v={name:u.fullPath},y=b2(a,t.host,t._protocol),b="POST",_=t.maxUploadRetryTime,x=new rL(y,b,UZ(t,n),_);return x.urlParams=v,x.headers=s,x.body=m.uploadData(),x.errorHandler=aL(e),x}class WZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Od("cannot .send() more than once");if(ro(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Od("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Od("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Od("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Od("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KZ extends WZ{initXhr(){this.xhr_.responseType="text"}}function sL(){return new KZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this._service=e,n instanceof $r?this._location=n:this._location=$r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ll(e,n)}get root(){const e=new $r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eL(this._location.path)}get storage(){return this._service}get parent(){const e=kZ(this._location.path);if(e===null)return null;const n=new $r(this._location.bucket,e);return new ll(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uZ(e)}}function XZ(t,e,n){t._throwIfRoot("uploadBytes");const r=GZ(t.storage,t._location,tL(),new xs(e,!0),n);return t.storage.makeRequestWithTokens(r,sL).then(i=>({metadata:i,ref:t}))}function YZ(t){t._throwIfRoot("getDownloadURL");const e=FZ(t.storage,t._location,tL());return t.storage.makeRequestWithTokens(e,sL).then(n=>{if(n===null)throw lZ();return n})}function QZ(t,e){const n=PZ(t._location.path,e),r=new $r(t._location.bucket,n);return new ll(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZZ(t){return/^[A-Za-z]+:\/\//.test(t)}function JZ(t,e){return new ll(t,e)}function oL(t,e){if(t instanceof _2){const n=t;if(n._bucket==null)throw sZ();const r=new ll(n,n._bucket);return e!=null?oL(r,e):r}else return e!==void 0?QZ(t,e):t}function eJ(t,e){if(e&&ZZ(e)){if(t instanceof _2)return JZ(t,e);throw T_("To use ref(service, url), the first argument must be a Storage instance.")}else return oL(t,e)}function dC(t,e){const n=e==null?void 0:e[W3];return n==null?null:$r.makeFromBucketSpec(n,t)}function tJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=ro(e);i&&(pS(`https://${t.host}/b`),mS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:r6(a,t.app.options.projectId))}class _2{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=G3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XQ,this._maxUploadRetryTime=YQ,this._requests=new Set,i!=null?this._bucket=$r.makeFromBucketSpec(i,this._host):this._bucket=dC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$r.makeFromBucketSpec(this._url,e):this._bucket=dC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ll(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new dZ(K3());{const s=wZ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fC="@firebase/storage",hC="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="storage";function cL(t,e,n){return t=Mt(t),XZ(t,e,n)}function uL(t){return t=Mt(t),YZ(t)}function dL(t,e){return t=Mt(t),eJ(t,e)}function nJ(t=ky(),e){t=Mt(t);const r=io(t,lL).getImmediate({identifier:e}),i=e6("storage");return i&&rJ(r,...i),r}function rJ(t,e,n,r={}){tJ(t,e,n,r)}function iJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _2(n,r,i,e,wl)}function aJ(){Ni(new li(lL,iJ,"PUBLIC").setMultipleInstances(!0)),yr(fC,hC,""),yr(fC,hC,"esm2017")}aJ();const sJ={apiKey:"AIzaSyCs378LldkmXoZ3w9aPQEj-gJ1XgzFzhD0",authDomain:"consignment-store-4a564.firebaseapp.com",projectId:"consignment-store-4a564",storageBucket:"consignment-store-4a564.firebasestorage.app",messagingSenderId:"723799732977",appId:"1:723799732977:web:fa12372a7a91682807af50",measurementId:"G-K6DPX8D0SD"},o0=u6(sJ);qQ(o0);const Ke=mY(o0),wb=yW(o0),fL=nJ(o0),oJ=new xa,gt=async(t,e,n,r,i)=>{if(t)try{const a={userId:t.uid,userName:t.displayName||"Anonymous",userEmail:t.email||"",action:e,details:n,timestamp:i0(),itemId:r,itemTitle:i,userAgent:navigator.userAgent,isAdmin:t.email==="stuartjamessmith@gmail.com"};await rh(tn(Ke,"actionLogs"),a)}catch(a){console.error("Error logging user action:",a)}},lJ=t=>{const e=Gn(tn(Ke,"actionLogs"),r0("timestamp","desc"));return w3(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("Error subscribing to action logs:",n)})},El=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!0),[i,a]=k.useState(!1);k.useEffect(()=>{const f=sG(wb,async h=>{try{const m=localStorage.getItem("phoneUserSession"),v=localStorage.getItem("phoneUser");if(m==="active"&&v){const y=JSON.parse(v);console.log("Loading phone user from session:",y),e(y),r(!1);return}h?(console.log("Loading Firebase user:",h.uid),await s(h),e(h)):e(null)}catch(m){console.error("Error in auth state change:",m),e(null)}finally{r(!1)}});return()=>f()},[]),k.useEffect(()=>{if(t){const f=localStorage.getItem(`adminMode_${t.uid}`);a(f==="true")}},[t]);const s=async f=>{try{const h=Qn(Ke,"users",f.uid),m=await TY(h),v={email:f.email||"",displayName:f.displayName,photoURL:f.photoURL||"",phoneNumber:"phoneNumber"in f?f.phoneNumber:"",isPhoneUser:"isPhoneUser"in f?f.isPhoneUser:!1,lastSignIn:new Date};m.exists()?await eC(h,v,{merge:!0}):await eC(h,{...v,createdAt:new Date})}catch(h){console.error("Error storing user data:",h)}};return{user:t,loading:n,signInWithGoogle:async()=>{try{const f=await TG(wb,oJ);return await gt(f.user,"user_login","User logged in with Google"),f.user}catch(f){throw console.error("Error signing in with Google:",f),f}},signInWithPhone:async f=>{try{const h=f.replace(/\D/g,"");if(h.length!==10)throw new Error("Please enter a valid 10-digit phone number");const m=`+1${h}`;console.log("Attempting phone sign-in with:",m);const y={uid:`phone_${h}_${Date.now()}`,phoneNumber:m,displayName:`📱 ${f}`,email:void 0,photoURL:void 0,isPhoneUser:!0};return console.log("Created phone user object:",y),localStorage.setItem("phoneUser",JSON.stringify(y)),localStorage.setItem("phoneUserSession","active"),await s(y),e(y),await gt(y,"user_login","User logged in with phone number"),console.log("Phone authentication completed successfully"),y}catch(h){throw console.error("Error signing in with phone:",h),h instanceof Error?h.message.includes("phone number")?new Error("Please enter a valid phone number"):h.message.includes("auth")?new Error("Authentication service is currently unavailable. Please try again later."):new Error(`Sign-in failed: ${h.message}`):new Error("Phone sign-in failed. Please try again.")}},logout:async()=>{try{t&&await gt(t,"user_logout","User logged out"),localStorage.getItem("phoneUserSession")==="active"?(localStorage.removeItem("phoneUser"),localStorage.removeItem("phoneUserSession"),console.log("Phone user logged out")):await oG(wb),t&&localStorage.removeItem(`adminMode_${t.uid}`),e(null),a(!1)}catch(f){throw console.error("Error signing out:",f),f}},isAuthenticated:!!t,isAdmin:i,toggleAdmin:()=>{if(t){const f=!i;a(f),localStorage.setItem(`adminMode_${t.uid}`,f.toString()),console.log(`Toggling admin mode: ${i} → ${f}. Refreshing page...`),setTimeout(()=>{window.location.reload()},100)}}}},hL=k.createContext(void 0),cJ=({children:t})=>{const[e,n]=k.useState([]),[r,i]=k.useState([]),[a,s]=k.useState(!1);k.useEffect(()=>{console.log("Loading cart and bookmarks from localStorage...");const g=localStorage.getItem("shopping_cart"),j=localStorage.getItem("bookmarked_items");if(console.log("Saved cart:",g),console.log("Saved bookmarks:",j),g)try{const T=JSON.parse(g).map(S=>({...S,addedAt:new Date(S.addedAt)}));console.log("Loaded cart items:",T.length),n(T)}catch(w){console.error("Error loading cart from localStorage:",w)}if(j)try{const w=JSON.parse(j);console.log("Loaded bookmarks:",w.length),i(w)}catch(w){console.error("Error loading bookmarks from localStorage:",w)}s(!0)},[]),k.useEffect(()=>{a&&(console.log("Saving cart to localStorage:",e.length,"items"),localStorage.setItem("shopping_cart",JSON.stringify(e)))},[e,a]),k.useEffect(()=>{a&&(console.log("Saving bookmarks to localStorage:",r.length,"items"),localStorage.setItem("bookmarked_items",JSON.stringify(r)))},[r,a]);const l=async(g,j,w=1)=>{if(console.log("addToCart called:",g.title,"Current cart size:",e.length),j&&await gt(j,"cart_updated","Added item to cart",g.id,g.title),e.findIndex(S=>S.item.id===g.id)>=0){console.log("Item already in cart, not adding again (consignment items are unique)");return}else{const S={item:g,quantity:1,addedAt:new Date};console.log("Adding new item to cart:",S),n(A=>{const N=[...A,S];return console.log("New cart size will be:",N.length),N})}},c=async(g,j)=>{const w=e.find(T=>T.item.id===g);j&&w&&await gt(j,"cart_updated","Removed item from cart",w.item.id,w.item.title),n(T=>T.filter(S=>S.item.id!==g))},x={cartItems:e,bookmarkedItems:r,addToCart:l,removeFromCart:c,updateQuantity:async(g,j,w)=>{if(j<=0){await c(g,w);return}const T=e.find(S=>S.item.id===g);w&&T&&await gt(w,"cart_updated",`Updated item quantity to ${j}`,T.item.id,T.item.title),n(S=>S.map(A=>A.item.id===g?{...A,quantity:j}:A))},clearCart:async g=>{g&&await gt(g,"cart_updated",`Cleared cart with ${e.length} items`),n([])},isInCart:g=>e.some(j=>j.item.id===g),getCartItemQuantity:g=>{const j=e.find(w=>w.item.id===g);return(j==null?void 0:j.quantity)||0},toggleBookmark:async(g,j)=>{console.log("toggleBookmark called:",g,"Current bookmarks:",r.length);const w=r.includes(g);j&&await gt(j,"item_bookmarked",w?"Removed bookmark":"Added bookmark",g),i(T=>{if(T.includes(g)){const S=T.filter(A=>A!==g);return console.log("Removed bookmark, new count:",S.length),S}else{const S=[...T,g];return console.log("Added bookmark, new count:",S.length),S}})},isBookmarked:g=>r.includes(g),getCartTotal:()=>e.reduce((g,j)=>g+j.item.price*j.quantity,0),getCartItemCount:()=>e.reduce((g,j)=>g+j.quantity,0),getBookmarkCount:()=>r.length};return o.jsx(hL.Provider,{value:x,children:t})},hp=()=>{const t=k.useContext(hL);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},uJ=({item:t,isAdmin:e=!1,onClick:n})=>{const[r,i]=k.useState(0),a=()=>{i(u=>(u+1)%t.images.length)},s=()=>{i(u=>(u-1+t.images.length)%t.images.length)},l=()=>{n&&n(t)},c=u=>{u.stopPropagation()};return o.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer",onClick:l,children:[o.jsx("div",{className:"relative h-48 bg-gray-200",children:t.images.length>0?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:t.images[r],alt:t.title,className:"w-full h-full object-cover"}),t.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:u=>{c(u),s()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:u=>{c(u),a()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),o.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.images.map((u,d)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${d===r?"bg-white":"bg-white bg-opacity-50"}`},d))})]})]}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:t.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.description}),(t.category||t.brand||t.size||t.condition||t.color)&&o.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-md",children:o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.category&&o.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.category}),t.brand&&o.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:t.brand}),t.size&&o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["Size ",t.size]}),t.condition&&o.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t.condition}),t.gender&&o.jsx("span",{className:"bg-pink-100 text-pink-800 px-2 py-1 rounded-full",children:t.gender}),t.color&&o.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full",children:t.color})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.price.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.sellerName]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[o.jsxs("span",{children:["Listed ",new Date(t.createdAt).toLocaleDateString()]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="live"?"bg-green-100 text-green-800":t.status==="approved"?"bg-blue-100 text-blue-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]})})]})]})},dJ=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState(""),[a,s]=k.useState(""),[l,c]=k.useState(""),[u,d]=k.useState([]),[f,h]=k.useState(!1),[m,v]=k.useState(!1),[y,b]=k.useState(!1),[_,x]=k.useState(""),[g,j]=k.useState(""),[w,T]=k.useState(""),[S,A]=k.useState(""),[N,I]=k.useState(""),[C,R]=k.useState(""),[P,z]=k.useState("");if(!t)return null;const V=F=>{if(F.target.files){const $=Array.from(F.target.files);d(X=>[...X,...$].slice(0,5))}},B=F=>{d($=>$.filter((X,Z)=>Z!==F))},L=async F=>{const $=F.map(async(X,Z)=>{const ve=`items/${n==null?void 0:n.uid}/${Date.now()}_${Z}_${X.name}`,De=dL(fL,ve);try{const Ee=await cL(De,X);return await uL(Ee.ref)}catch(Ee){throw console.error("Error uploading image:",Ee),Ee}});return Promise.all($)},U=()=>{if(!r.trim()||!a.trim()||!l.trim()||u.length===0){alert("Please fill in all required fields before previewing");return}const F=parseFloat(l);if(isNaN(F)||F<=0){alert("Please enter a valid price greater than 0");return}v(!0)},W=async()=>{if(n){h(!0);try{const F=await L(u),$={title:r.trim(),description:a.trim(),price:parseFloat(l),images:F,sellerId:n.uid,sellerName:n.displayName||"Anonymous",sellerEmail:n.email||("phoneNumber"in n?n.phoneNumber:""),status:"pending",createdAt:i0()};_&&_.trim()&&($.category=_.trim()),g&&g.trim()&&($.gender=g),w&&w.trim()&&($.size=w.trim()),S&&S.trim()&&($.brand=S.trim()),N&&N.trim()&&($.condition=N),C&&C.trim()&&($.material=C.trim()),P&&P.trim()&&($.color=P.trim());const X=await rh(tn(Ke,"items"),$);await gt(n,"item_listed","Listed new item for consignment",X.id,r.trim()),b(!0),v(!1)}catch(F){console.error("Error adding item:",F),alert("Error adding item. Please try again."),h(!1)}}},G=()=>{i(""),s(""),c(""),d([]),v(!1),b(!1),h(!1),x(""),j(""),T(""),A(""),I(""),R(""),z("")},te=()=>{G(),e()};return y?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Item Submitted Successfully!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your item has been submitted for review. Please bring the physical item to the front desk so our team can inspect and approve it."}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Next Steps:"}),o.jsx("br",{}),"1. Bring your item to the front desk",o.jsx("br",{}),"2. Our team will inspect and approve it",o.jsx("br",{}),"3. Then it goes live for all customers"]})}),o.jsx("button",{onClick:te,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Got it!"})]})})}):m?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Preview Item"}),o.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"relative h-64 bg-gray-200",children:[u.length>0&&o.jsx("img",{src:URL.createObjectURL(u[0]),alt:"Preview",className:"w-full h-full object-cover"}),u.length>1&&o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:["+",u.length-1," more"]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:r}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",parseFloat(l).toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["by ",n==null?void 0:n.displayName]})]}),(_||g||w||S||N||C||P)&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Item Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[_&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Category:"})," ",o.jsx("span",{className:"font-medium",children:_})]}),g&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Gender:"})," ",o.jsx("span",{className:"font-medium",children:g})]}),w&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Size:"})," ",o.jsx("span",{className:"font-medium",children:w})]}),S&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Brand:"})," ",o.jsx("span",{className:"font-medium",children:S})]}),N&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",o.jsx("span",{className:"font-medium",children:N})]}),C&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Material:"})," ",o.jsx("span",{className:"font-medium",children:C})]}),P&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Color:"})," ",o.jsx("span",{className:"font-medium",children:P})]})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"pending review"})})]})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx("button",{onClick:()=>v(!1),disabled:f,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-colors",children:"Edit"}),o.jsx("button",{onClick:W,disabled:f,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Confirm & Submit"})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Item for Consignment"}),o.jsx("button",{onClick:te,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Title *"}),o.jsx("input",{type:"text",id:"title",value:r,onChange:F=>i(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{id:"description",value:a,onChange:F=>s(F.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe your item in detail...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Asking Price *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),o.jsx("input",{type:"text",id:"price",value:l,onChange:F=>{const $=F.target.value;($===""||/^\d*\.?\d*$/.test($))&&c($)},className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details (Optional but Recommended)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{id:"category",value:_,onChange:F=>x(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),o.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),o.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),o.jsx("option",{value:"Camping",children:"Camping ⛺"}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),o.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),o.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),o.jsx("option",{value:"Apparel",children:"Apparel 👕"}),o.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{id:"gender",value:g,onChange:F=>j(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),o.jsxs("select",{id:"size",value:w,onChange:F=>T(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsx("input",{type:"text",id:"brand",value:S,onChange:F=>A(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Patagonia, REI, North Face"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),o.jsxs("select",{id:"condition",value:N,onChange:F=>I(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Condition"}),o.jsx("option",{value:"New",children:"New - Never used"}),o.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),o.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),o.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-700 mb-2",children:"Material/Fabric"}),o.jsx("input",{type:"text",id:"material",value:C,onChange:F=>R(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Gore-Tex, Merino Wool, Cotton"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("select",{id:"color",value:P,onChange:F=>z(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Color"}),o.jsx("option",{value:"Black",children:"Black"}),o.jsx("option",{value:"White",children:"White"}),o.jsx("option",{value:"Gray",children:"Gray"}),o.jsx("option",{value:"Red",children:"Red"}),o.jsx("option",{value:"Blue",children:"Blue"}),o.jsx("option",{value:"Green",children:"Green"}),o.jsx("option",{value:"Yellow",children:"Yellow"}),o.jsx("option",{value:"Orange",children:"Orange"}),o.jsx("option",{value:"Purple",children:"Purple"}),o.jsx("option",{value:"Pink",children:"Pink"}),o.jsx("option",{value:"Brown",children:"Brown"}),o.jsx("option",{value:"Navy",children:"Navy"}),o.jsx("option",{value:"Burgundy",children:"Burgundy"}),o.jsx("option",{value:"Olive",children:"Olive"}),o.jsx("option",{value:"Tan",children:"Tan"}),o.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos * (Max 5)"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:V,className:"hidden",id:"image-upload",disabled:u.length>=5}),o.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${u.length>=5?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("span",{className:"text-gray-600",children:u.length>=5?"Maximum 5 images reached":"Click to add photos"})]})]}),u.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:u.map((F,$)=>o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:URL.createObjectURL(F),alt:`Preview ${$+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>B($),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},$))})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:te,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:U,disabled:!r.trim()||!a.trim()||!l.trim()||u.length===0,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Preview Item"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your item will be reviewed by our team before appearing in the store."})]})]})})};var w2={},l0={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var hJ=function t(e,n){fJ(this,t),this.data=e,this.text=n.text||e,this.options=n};cr.default=hJ;Object.defineProperty(l0,"__esModule",{value:!0});l0.CODE39=void 0;var pJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mJ=cr,gJ=vJ(mJ);function vJ(t){return t&&t.__esModule?t:{default:t}}function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _J=function(t){bJ(e,t);function e(n,r){return yJ(this,e),n=n.toUpperCase(),r.mod43&&(n+=SJ(EJ(n))),xJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return pJ(e,[{key:"encode",value:function(){for(var r=Ab("*"),i=0;i<this.data.length;i++)r+=Ab(this.data[i])+"0";return r+=Ab("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(gJ.default),pL=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],wJ=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Ab(t){return AJ(mL(t))}function AJ(t){return wJ[t].toString(2)}function SJ(t){return pL[t]}function mL(t){return pL.indexOf(t)}function EJ(t){for(var e=0,n=0;n<t.length;n++)e+=mL(t[n]);return e=e%43,e}l0.CODE39=_J;var zi={},A2={},Gu={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});var Cd;function Sb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gL=Ot.SET_A=0,vL=Ot.SET_B=1,yL=Ot.SET_C=2;Ot.SHIFT=98;var jJ=Ot.START_A=103,TJ=Ot.START_B=104,NJ=Ot.START_C=105;Ot.MODULO=103;Ot.STOP=106;Ot.FNC1=207;Ot.SET_BY_CODE=(Cd={},Sb(Cd,jJ,gL),Sb(Cd,TJ,vL),Sb(Cd,NJ,yL),Cd);Ot.SWAP={101:gL,100:vL,99:yL};Ot.A_START_CHAR="Ð";Ot.B_START_CHAR="Ñ";Ot.C_START_CHAR="Ò";Ot.A_CHARS="[\0-_È-Ï]";Ot.B_CHARS="[ -È-Ï]";Ot.C_CHARS="(Ï*[0-9]{2}Ï*)";Ot.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Gu,"__esModule",{value:!0});var OJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),CJ=cr,IJ=kJ(CJ),Tr=Ot;function kJ(t){return t&&t.__esModule?t:{default:t}}function PJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DJ=function(t){MJ(e,t);function e(n,r){PJ(this,e);var i=RJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(a){return a.charCodeAt(0)}),i}return OJ(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,a=Tr.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(Tr.FNC1);var s=e.next(r,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+s.result+e.getBar((s.checksum+i)%Tr.MODULO)+e.getBar(Tr.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return Tr.BARS[r]?Tr.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===Tr.SET_A){var a=r.shift();return a<32?a+64:a-32}else return i===Tr.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,a){if(!r.length)return{result:"",checksum:0};var s=void 0,l=void 0;if(r[0]>=200){l=r.shift()-105;var c=Tr.SWAP[l];c!==void 0?s=e.next(r,i+1,c):((a===Tr.SET_A||a===Tr.SET_B)&&l===Tr.SHIFT&&(r[0]=a===Tr.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,i+1,a))}else l=e.correctIndex(r,a),s=e.next(r,i+1,a);var u=e.getBar(l),d=l*i;return{result:u+s.result,checksum:d+s.checksum}}}]),e}(IJ.default);Gu.default=DJ;var S2={};Object.defineProperty(S2,"__esModule",{value:!0});var Us=Ot,xL=function(e){return e.match(new RegExp("^"+Us.A_CHARS+"*"))[0].length},bL=function(e){return e.match(new RegExp("^"+Us.B_CHARS+"*"))[0].length},_L=function(e){return e.match(new RegExp("^"+Us.C_CHARS+"*"))[0]};function E2(t,e){var n=e?Us.A_CHARS:Us.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"Ì"+wL(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+E2(t.substring(i.length),!e)}function wL(t){var e=_L(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=xL(t)>=bL(t);return e+String.fromCharCode(r?206:205)+E2(t,r)}S2.default=function(t){var e=void 0,n=_L(t).length;if(n>=2)e=Us.C_START_CHAR+wL(t);else{var r=xL(t)>bL(t);e=(r?Us.A_START_CHAR:Us.B_START_CHAR)+E2(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return"Ë"+a})};Object.defineProperty(A2,"__esModule",{value:!0});var $J=Gu,LJ=AL($J),BJ=S2,UJ=AL(BJ);function AL(t){return t&&t.__esModule?t:{default:t}}function VJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FJ=function(t){zJ(e,t);function e(n,r){if(VJ(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=Eb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,UJ.default)(n),r));else var i=Eb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Eb(i)}return e}(LJ.default);A2.default=FJ;var j2={};Object.defineProperty(j2,"__esModule",{value:!0});var HJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qJ=Gu,GJ=WJ(qJ),pC=Ot;function WJ(t){return t&&t.__esModule?t:{default:t}}function KJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QJ=function(t){YJ(e,t);function e(n,r){return KJ(this,e),XJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,pC.A_START_CHAR+n,r))}return HJ(e,[{key:"valid",value:function(){return new RegExp("^"+pC.A_CHARS+"+$").test(this.data)}}]),e}(GJ.default);j2.default=QJ;var T2={};Object.defineProperty(T2,"__esModule",{value:!0});var ZJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),JJ=Gu,eee=tee(JJ),mC=Ot;function tee(t){return t&&t.__esModule?t:{default:t}}function nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ree(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aee=function(t){iee(e,t);function e(n,r){return nee(this,e),ree(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,mC.B_START_CHAR+n,r))}return ZJ(e,[{key:"valid",value:function(){return new RegExp("^"+mC.B_CHARS+"+$").test(this.data)}}]),e}(eee.default);T2.default=aee;var N2={};Object.defineProperty(N2,"__esModule",{value:!0});var see=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oee=Gu,lee=cee(oee),gC=Ot;function cee(t){return t&&t.__esModule?t:{default:t}}function uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hee=function(t){fee(e,t);function e(n,r){return uee(this,e),dee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,gC.C_START_CHAR+n,r))}return see(e,[{key:"valid",value:function(){return new RegExp("^"+gC.C_CHARS+"+$").test(this.data)}}]),e}(lee.default);N2.default=hee;Object.defineProperty(zi,"__esModule",{value:!0});zi.CODE128C=zi.CODE128B=zi.CODE128A=zi.CODE128=void 0;var pee=A2,mee=c0(pee),gee=j2,vee=c0(gee),yee=T2,xee=c0(yee),bee=N2,_ee=c0(bee);function c0(t){return t&&t.__esModule?t:{default:t}}zi.CODE128=mee.default;zi.CODE128A=vee.default;zi.CODE128B=xee.default;zi.CODE128C=_ee.default;var pr={},O2={},di={};Object.defineProperty(di,"__esModule",{value:!0});di.SIDE_BIN="101";di.MIDDLE_BIN="01010";di.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};di.EAN2_STRUCTURE=["LL","LG","GL","GG"];di.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];di.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var u0={},jl={};Object.defineProperty(jl,"__esModule",{value:!0});var wee=di,Aee=function(e,n,r){var i=e.split("").map(function(s,l){return wee.BINARIES[n[l]]}).map(function(s,l){return s?s[e[l]]:""});if(r){var a=e.length-1;i=i.map(function(s,l){return l<a?s+r:s})}return i.join("")};jl.default=Aee;Object.defineProperty(u0,"__esModule",{value:!0});var See=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Vl=di,Eee=jl,vC=SL(Eee),jee=cr,Tee=SL(jee);function SL(t){return t&&t.__esModule?t:{default:t}}function Nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Iee=function(t){Cee(e,t);function e(n,r){Nee(this,e);var i=Oee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return See(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,vC.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,vC.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Vl.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Vl.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Vl.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Vl.SIDE_BIN,this.leftEncode(),Vl.MIDDLE_BIN,this.rightEncode(),Vl.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(Tee.default);u0.default=Iee;Object.defineProperty(O2,"__esModule",{value:!0});var kee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Id=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},Pee=di,Ree=u0,Mee=Dee(Ree);function Dee(t){return t&&t.__esModule?t:{default:t}}function $ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yC=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*3:r+i},0);return(10-n%10)%10},Uee=function(t){Bee(e,t);function e(n,r){$ee(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=yC(n));var i=Lee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return kee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===yC(this.data)}},{key:"leftText",value:function(){return Id(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=Pee.EAN13_STRUCTURE[this.data[0]];return Id(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Id(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Id(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Id(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(Mee.default);O2.default=Uee;var C2={};Object.defineProperty(C2,"__esModule",{value:!0});var Vee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mm=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},zee=u0,Fee=Hee(zee);function Hee(t){return t&&t.__esModule?t:{default:t}}function qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xC=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i:r+i*3},0);return(10-n%10)%10},Kee=function(t){Wee(e,t);function e(n,r){return qee(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=xC(n)),Gee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Vee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===xC(this.data)}},{key:"leftText",value:function(){return mm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return mm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return mm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return mm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(Fee.default);C2.default=Kee;var I2={};Object.defineProperty(I2,"__esModule",{value:!0});var Xee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Yee=di,Qee=jl,Zee=EL(Qee),Jee=cr,ete=EL(Jee);function EL(t){return t&&t.__esModule?t:{default:t}}function tte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ite=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*9:r+i*3},0);return n%10},ate=function(t){rte(e,t);function e(n,r){return tte(this,e),nte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Xee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=Yee.EAN5_STRUCTURE[ite(this.data)];return{data:"1011"+(0,Zee.default)(this.data,r,"01"),text:this.text}}}]),e}(ete.default);I2.default=ate;var k2={};Object.defineProperty(k2,"__esModule",{value:!0});var ste=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ote=di,lte=jl,cte=jL(lte),ute=cr,dte=jL(ute);function jL(t){return t&&t.__esModule?t:{default:t}}function fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mte=function(t){pte(e,t);function e(n,r){return fte(this,e),hte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ste(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=ote.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,cte.default)(this.data,r,"01"),text:this.text}}}]),e}(dte.default);k2.default=mte;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});var gte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();pp.checksum=N_;var vte=jl,zl=TL(vte),yte=cr,xte=TL(yte);function TL(t){return t&&t.__esModule?t:{default:t}}function bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _te(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ate=function(t){wte(e,t);function e(n,r){bte(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=N_(n));var i=_te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return gte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==N_(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,zl.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,zl.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,zl.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,zl.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,zl.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,zl.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(xte.default);function N_(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}pp.default=Ate;var P2={};Object.defineProperty(P2,"__esModule",{value:!0});var Ste=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ete=jl,jte=NL(Ete),Tte=cr,Nte=NL(Tte),Ote=pp;function NL(t){return t&&t.__esModule?t:{default:t}}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kte=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Pte=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Rte=function(t){Ite(e,t);function e(n,r){Cte(this,e);var i=jb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=bC(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=bC(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return jb(i);else return jb(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Ste(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],a=Pte[parseInt(i)][parseInt(r)];return(0,jte.default)(this.middleDigits,a)}}]),e}(Nte.default);function bC(t,e){for(var n=parseInt(t[t.length-1]),r=kte[n],i="",a=0,s=0;s<r.length;s++){var l=r[s];l==="X"?i+=t[a++]:i+=l}return i=""+e+i,""+i+(0,Ote.checksum)(i)}P2.default=Rte;Object.defineProperty(pr,"__esModule",{value:!0});pr.UPCE=pr.UPC=pr.EAN2=pr.EAN5=pr.EAN8=pr.EAN13=void 0;var Mte=O2,Dte=Wu(Mte),$te=C2,Lte=Wu($te),Bte=I2,Ute=Wu(Bte),Vte=k2,zte=Wu(Vte),Fte=pp,Hte=Wu(Fte),qte=P2,Gte=Wu(qte);function Wu(t){return t&&t.__esModule?t:{default:t}}pr.EAN13=Dte.default;pr.EAN8=Lte.default;pr.EAN5=Ute.default;pr.EAN2=zte.default;pr.UPC=Hte.default;pr.UPCE=Gte.default;var tu={},d0={},mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.START_BIN="1010";mp.END_BIN="11101";mp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(d0,"__esModule",{value:!0});var Wte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gm=mp,Kte=cr,Xte=Yte(Kte);function Yte(t){return t&&t.__esModule?t:{default:t}}function Qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ene=function(t){Jte(e,t);function e(){return Qte(this,e),Zte(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Wte(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(a){return r.encodePair(a)}).join("");return{data:gm.START_BIN+i+gm.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=gm.BINARIES[r[1]];return gm.BINARIES[r[0]].split("").map(function(a,s){return(a==="1"?"111":"1")+(i[s]==="1"?"000":"0")}).join("")}}]),e}(Xte.default);d0.default=ene;var R2={};Object.defineProperty(R2,"__esModule",{value:!0});var tne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nne=d0,rne=ine(nne);function ine(t){return t&&t.__esModule?t:{default:t}}function ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function one(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _C=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,a){return r+i*(3-a%2*2)},0);return Math.ceil(n/10)*10-n},lne=function(t){one(e,t);function e(n,r){return ane(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=_C(n)),sne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return tne(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===_C(this.data)}}]),e}(rne.default);R2.default=lne;Object.defineProperty(tu,"__esModule",{value:!0});tu.ITF14=tu.ITF=void 0;var cne=d0,une=OL(cne),dne=R2,fne=OL(dne);function OL(t){return t&&t.__esModule?t:{default:t}}tu.ITF=une.default;tu.ITF14=fne.default;var ni={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});var hne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pne=cr,mne=gne(pne);function gne(t){return t&&t.__esModule?t:{default:t}}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bne=function(t){xne(e,t);function e(n,r){return vne(this,e),yne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return hne(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),s=a.toString(2);s=_ne(s,4-s.length);for(var l=0;l<s.length;l++)r+=s[l]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(mne.default);function _ne(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Tl.default=bne;var M2={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.mod10=wne;Nl.mod11=Ane;function wne(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function Ane(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(M2,"__esModule",{value:!0});var Sne=Tl,Ene=Tne(Sne),jne=Nl;function Tne(t){return t&&t.__esModule?t:{default:t}}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function One(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ine=function(t){Cne(e,t);function e(n,r){return Nne(this,e),One(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,jne.mod10)(n),r))}return e}(Ene.default);M2.default=Ine;var D2={};Object.defineProperty(D2,"__esModule",{value:!0});var kne=Tl,Pne=Mne(kne),Rne=Nl;function Mne(t){return t&&t.__esModule?t:{default:t}}function Dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bne=function(t){Lne(e,t);function e(n,r){return Dne(this,e),$ne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Rne.mod11)(n),r))}return e}(Pne.default);D2.default=Bne;var $2={};Object.defineProperty($2,"__esModule",{value:!0});var Une=Tl,Vne=zne(Une),wC=Nl;function zne(t){return t&&t.__esModule?t:{default:t}}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gne=function(t){qne(e,t);function e(n,r){return Fne(this,e),n+=(0,wC.mod10)(n),n+=(0,wC.mod10)(n),Hne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Vne.default);$2.default=Gne;var L2={};Object.defineProperty(L2,"__esModule",{value:!0});var Wne=Tl,Kne=Xne(Wne),AC=Nl;function Xne(t){return t&&t.__esModule?t:{default:t}}function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jne=function(t){Zne(e,t);function e(n,r){return Yne(this,e),n+=(0,AC.mod11)(n),n+=(0,AC.mod10)(n),Qne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Kne.default);L2.default=Jne;Object.defineProperty(ni,"__esModule",{value:!0});ni.MSI1110=ni.MSI1010=ni.MSI11=ni.MSI10=ni.MSI=void 0;var ere=Tl,tre=gp(ere),nre=M2,rre=gp(nre),ire=D2,are=gp(ire),sre=$2,ore=gp(sre),lre=L2,cre=gp(lre);function gp(t){return t&&t.__esModule?t:{default:t}}ni.MSI=tre.default;ni.MSI10=rre.default;ni.MSI11=are.default;ni.MSI1010=ore.default;ni.MSI1110=cre.default;var f0={};Object.defineProperty(f0,"__esModule",{value:!0});f0.pharmacode=void 0;var ure=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),dre=cr,fre=hre(dre);function hre(t){return t&&t.__esModule?t:{default:t}}function pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vre=function(t){gre(e,t);function e(n,r){pre(this,e);var i=mre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return ure(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(fre.default);f0.pharmacode=vre;var h0={};Object.defineProperty(h0,"__esModule",{value:!0});h0.codabar=void 0;var yre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xre=cr,bre=_re(xre);function _re(t){return t&&t.__esModule?t:{default:t}}function wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Are(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ere=function(t){Sre(e,t);function e(n,r){wre(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=Are(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return yre(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),a=0;a<this.data.length;a++)r.push(i[this.data.charAt(a)]),a!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(bre.default);h0.codabar=Ere;var nu={},p0={},vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"];vp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];vp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(p0,"__esModule",{value:!0});var jre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),vm=vp,Tre=cr,Nre=Ore(Tre);function Ore(t){return t&&t.__esModule?t:{default:t}}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ire(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pre=function(t){kre(e,t);function e(n,r){return Cre(this,e),Ire(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return jre(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(l){return vm.MULTI_SYMBOLS[l]||l}),i=r.map(function(l){return e.getEncoding(l)}).join(""),a=e.checksum(r,20),s=e.checksum(r.concat(a),15);return{text:this.text,data:e.getEncoding("ÿ")+i+e.getEncoding(a)+e.getEncoding(s)+e.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return vm.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return vm.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return vm.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var a=r.slice().reverse().reduce(function(s,l,c){var u=c%i+1;return s+e.symbolValue(l)*u},0);return e.getSymbol(a%47)}}]),e}(Nre.default);p0.default=Pre;var B2={};Object.defineProperty(B2,"__esModule",{value:!0});var Rre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Mre=p0,Dre=$re(Mre);function $re(t){return t&&t.__esModule?t:{default:t}}function Lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vre=function(t){Ure(e,t);function e(n,r){return Lre(this,e),Bre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Rre(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Dre.default);B2.default=Vre;Object.defineProperty(nu,"__esModule",{value:!0});nu.CODE93FullASCII=nu.CODE93=void 0;var zre=p0,Fre=CL(zre),Hre=B2,qre=CL(Hre);function CL(t){return t&&t.__esModule?t:{default:t}}nu.CODE93=Fre.default;nu.CODE93FullASCII=qre.default;var m0={};Object.defineProperty(m0,"__esModule",{value:!0});m0.GenericBarcode=void 0;var Gre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Wre=cr,Kre=Xre(Wre);function Xre(t){return t&&t.__esModule?t:{default:t}}function Yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jre=function(t){Zre(e,t);function e(n,r){return Yre(this,e),Qre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Gre(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Kre.default);m0.GenericBarcode=Jre;Object.defineProperty(w2,"__esModule",{value:!0});var eie=l0,ym=zi,Fl=pr,SC=tu,kd=ni,tie=f0,nie=h0,EC=nu,rie=m0;w2.default={CODE39:eie.CODE39,CODE128:ym.CODE128,CODE128A:ym.CODE128A,CODE128B:ym.CODE128B,CODE128C:ym.CODE128C,EAN13:Fl.EAN13,EAN8:Fl.EAN8,EAN5:Fl.EAN5,EAN2:Fl.EAN2,UPC:Fl.UPC,UPCE:Fl.UPCE,ITF14:SC.ITF14,ITF:SC.ITF,MSI:kd.MSI,MSI10:kd.MSI10,MSI11:kd.MSI11,MSI1010:kd.MSI1010,MSI1110:kd.MSI1110,pharmacode:tie.pharmacode,codabar:nie.codabar,CODE93:EC.CODE93,CODE93FullASCII:EC.CODE93FullASCII,GenericBarcode:rie.GenericBarcode};var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});var iie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Ku.default=function(t,e){return iie({},t,e)};var U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.default=aie;function aie(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.default=sie;function sie(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var z2={},F2={},g0={};Object.defineProperty(g0,"__esModule",{value:!0});g0.default=oie;function oie(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var v0={};Object.defineProperty(v0,"__esModule",{value:!0});var lie={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};v0.default=lie;Object.defineProperty(F2,"__esModule",{value:!0});var cie=g0,uie=IL(cie),die=v0,jC=IL(die);function IL(t){return t&&t.__esModule?t:{default:t}}function fie(t){var e={};for(var n in jC.default)jC.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,uie.default)(e),e}F2.default=fie;var H2={},q2={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getTotalWidthOfEncodings=Rr.calculateEncodingAttributes=Rr.getBarcodePadding=Rr.getEncodingHeight=Rr.getMaximumHeightOfEncodings=void 0;var hie=Ku,pie=mie(hie);function mie(t){return t&&t.__esModule?t:{default:t}}function kL(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function PL(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function gie(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=(0,pie.default)(e,i.options),s;a.displayValue?s=xie(i.text,a,n):s=0;var l=i.data.length*a.width;i.width=Math.ceil(Math.max(s,l)),i.height=kL(i,a),i.barcodePadding=PL(s,l,a)}}function vie(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function yie(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function xie(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var a=i.width;return a}Rr.getMaximumHeightOfEncodings=yie;Rr.getEncodingHeight=kL;Rr.getBarcodePadding=PL;Rr.calculateEncodingAttributes=gie;Rr.getTotalWidthOfEncodings=vie;Object.defineProperty(q2,"__esModule",{value:!0});var bie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_ie=Ku,wie=Aie(_ie),Tb=Rr;function Aie(t){return t&&t.__esModule?t:{default:t}}function Sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Eie=function(){function t(e,n,r){Sie(this,t),this.canvas=e,this.encodings=n,this.options=r}return bie(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,wie.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Tb.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Tb.getTotalWidthOfEncodings)(this.encodings),i=(0,Tb.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),a=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,i.fillStyle=n.lineColor;for(var l=0;l<a.length;l++){var c=l*n.width+r.barcodePadding;a[l]==="1"?i.fillRect(c,s,n.width,n.height):a[l]&&i.fillRect(c,s,n.width,n.height*a[l])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),a=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,l;n.textPosition=="top"?l=n.marginTop+n.fontSize-n.textMargin:l=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=a,n.textAlign=="left"||r.barcodePadding>0?(s=0,i.textAlign="left"):n.textAlign=="right"?(s=r.width-1,i.textAlign="right"):(s=r.width/2,i.textAlign="center"),i.fillText(r.text,s,l)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();q2.default=Eie;var G2={};Object.defineProperty(G2,"__esModule",{value:!0});var jie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Tie=Ku,Nie=Oie(Tie),Nb=Rr;function Oie(t){return t&&t.__esModule?t:{default:t}}function Cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var xm="http://www.w3.org/2000/svg",Iie=function(){function t(e,n,r){Cie(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return jie(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],a=(0,Nie.default)(this.options,i.options),s=this.createGroup(n,a.marginTop,this.svg);this.setGroupOptions(s,a),this.drawSvgBarcode(s,a,i),this.drawSVGText(s,a,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Nb.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Nb.getTotalWidthOfEncodings)(this.encodings),r=(0,Nb.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a=i.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var l=0,c=0,u=0;u<a.length;u++)c=u*r.width+i.barcodePadding,a[u]==="1"?l++:l>0&&(this.drawRect(c-r.width*l,s,r.width*l,r.height,n),l=0);l>0&&this.drawRect(c-r.width*(l-1),s,r.width*l,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a=this.document.createElementNS(xm,"text");if(r.displayValue){var s,l;a.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?l=r.fontSize-r.textMargin:l=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(s=0,a.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=i.width-1,a.setAttribute("text-anchor","end")):(s=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",s),a.setAttribute("y",l),a.appendChild(this.document.createTextNode(i.text)),n.appendChild(a)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",xm),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var a=this.document.createElementNS(xm,"g");return a.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,a,s){var l=this.document.createElementNS(xm,"rect");return l.setAttribute("x",n),l.setAttribute("y",r),l.setAttribute("width",i),l.setAttribute("height",a),s.appendChild(l),l}}]),t}();G2.default=Iie;var W2={};Object.defineProperty(W2,"__esModule",{value:!0});var kie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Rie=function(){function t(e,n,r){Pie(this,t),this.object=e,this.encodings=n,this.options=r}return kie(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();W2.default=Rie;Object.defineProperty(H2,"__esModule",{value:!0});var Mie=q2,Die=K2(Mie),$ie=G2,Lie=K2($ie),Bie=W2,Uie=K2(Bie);function K2(t){return t&&t.__esModule?t:{default:t}}H2.default={CanvasRenderer:Die.default,SVGRenderer:Lie.default,ObjectRenderer:Uie.default};var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});function X2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Q2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vie=function(t){Q2(e,t);function e(n,r){X2(this,e);var i=Y2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),zie=function(t){Q2(e,t);function e(){X2(this,e);var n=Y2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),Fie=function(t){Q2(e,t);function e(){X2(this,e);var n=Y2(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Xu.InvalidInputException=Vie;Xu.InvalidElementException=zie;Xu.NoElementException=Fie;Object.defineProperty(z2,"__esModule",{value:!0});var Hie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qie=F2,O_=RL(qie),Gie=H2,Jd=RL(Gie),Wie=Xu;function RL(t){return t&&t.__esModule?t:{default:t}}function Z2(t){if(typeof t=="string")return Kie(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(Z2(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Xie(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,O_.default)(t),renderer:Jd.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,O_.default)(t),renderer:Jd.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Jd.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Hie(t))==="object"&&!t.nodeName)return{element:t,renderer:Jd.default.ObjectRenderer};throw new Wie.InvalidElementException}}function Kie(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(Z2(e[r]));return n}}function Xie(t){var e=document.createElement("canvas");return{element:e,options:(0,O_.default)(t),renderer:Jd.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}z2.default=Z2;var J2={};Object.defineProperty(J2,"__esModule",{value:!0});var Yie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Zie=function(){function t(e){Qie(this,t),this.api=e}return Yie(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();J2.default=Zie;var Jie=w2,Xo=lo(Jie),eae=Ku,yp=lo(eae),tae=U2,ML=lo(tae),nae=V2,TC=lo(nae),rae=z2,iae=lo(rae),aae=g0,sae=lo(aae),oae=J2,lae=lo(oae),DL=Xu,cae=v0,$L=lo(cae);function lo(t){return t&&t.__esModule?t:{default:t}}var Ra=function(){},y0=function(e,n,r){var i=new Ra;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,iae.default)(e),i._encodings=[],i._options=$L.default,i._errorHandler=new lae.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=BL()),i.options(r)[r.format](n,r).render()),i};y0.getModule=function(t){return Xo.default[t]};for(var NC in Xo.default)Xo.default.hasOwnProperty(NC)&&uae(Xo.default,NC);function uae(t,e){Ra.prototype[e]=Ra.prototype[e.toUpperCase()]=Ra.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var a=(0,yp.default)(i._options,r);a=(0,sae.default)(a);var s=t[e],l=LL(n,s,a);return i._encodings.push(l),i})}}function LL(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new DL.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,ML.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,yp.default)(n,i[a].options);return i}function BL(){return Xo.default.CODE128?"CODE128":Object.keys(Xo.default)[0]}Ra.prototype.options=function(t){return this._options=(0,yp.default)(this._options,t),this};Ra.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Ra.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,yp.default)(this._options,t.options);n.format=="auto"&&(n.format=BL()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=Xo.default[n.format.toUpperCase()],a=LL(r,i,n);C_(t,a,n)})}}};Ra.prototype.render=function(){if(!this._renderProperties)throw new DL.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)C_(this._renderProperties[t],this._encodings,this._options);else C_(this._renderProperties,this._encodings,this._options);return this};Ra.prototype._defaults=$L.default;function C_(t,e,n){e=(0,ML.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,yp.default)(n,e[r].options),(0,TC.default)(e[r].options);(0,TC.default)(n);var i=t.renderer,a=new i(t.element,e,n);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=y0);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),y0(n,t,e)});var dae=y0;const fae=it(dae),hae=({isOpen:t,onClose:e,item:n,onConfirmPrint:r})=>{const[i,a]=k.useState(""),[s,l]=k.useState(!1),[c,u]=k.useState(!1),d=k.useRef(null),{user:f}=El();k.useEffect(()=>{t&&n&&(h(),u(!1))},[t,n]);const h=()=>{if(!n)return;l(!0);const y=new Date;y.getTime().toString();const b=y.toISOString().split("T")[0].replace(/-/g,""),_=y.toTimeString().split(" ")[0].replace(/:/g,""),x=`${n.id.slice(-8)}${b}${_}`.slice(0,12);if(a(x),d.current)try{fae(d.current,x,{format:"CODE128",width:2,height:80,displayValue:!0,fontSize:12,margin:10}),l(!1)}catch(g){console.error("Error generating barcode:",g),l(!1)}},m=()=>{if(!d.current||!n)return;const y=window.open("","_blank");if(!y)return;const _=d.current.toDataURL("image/png");y.document.write(`
      <html>
        <head>
          <title>Item Barcode - ${n.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              text-align: center;
            }
            .item-info {
              margin-bottom: 20px;
              border: 1px solid #ccc;
              padding: 15px;
              background-color: #f9f9f9;
            }
            .barcode-container {
              margin: 20px 0;
            }
            .print-info {
              margin-top: 20px;
              font-size: 12px;
              color: #666;
            }
            h2 {
              color: #333;
              margin-bottom: 10px;
            }
            .detail-row {
              margin: 5px 0;
              text-align: left;
            }
            .label {
              font-weight: bold;
              display: inline-block;
              width: 100px;
            }
          </style>
        </head>
        <body>
          <h2>Summit Gear Exchange</h2>
          <div class="item-info">
            <h3>${n.title}</h3>
            <div class="detail-row">
              <span class="label">Price:</span> $${n.price}
            </div>
            <div class="detail-row">
              <span class="label">Category:</span> ${n.category}
            </div>
            <div class="detail-row">
              <span class="label">Brand:</span> ${n.brand||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Size:</span> ${n.size||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Seller:</span> ${n.sellerName}
            </div>
            <div class="detail-row">
              <span class="label">Approved:</span> ${new Date().toLocaleString()}
            </div>
          </div>
          <div class="barcode-container">
            <img src="${_}" alt="Barcode: ${i}" />
          </div>
          <div class="print-info">
            <p>Barcode: ${i}</p>
            <p>Generated: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),y.document.close(),y.focus(),y.print()},v=async()=>{if(!(!n||!i||!d.current)){u(!0);try{let y="";await new Promise(_=>{d.current.toBlob(async x=>{if(x)try{const g=dL(fL,`barcodes/${n.id}_${i}.png`);await cL(g,x),y=await uL(g)}catch(g){console.error("Error uploading barcode image:",g)}_()},"image/png")});const b=Qn(Ke,"items",n.id);await gr(b,{barcodeData:i,barcodeGeneratedAt:new Date,barcodeImageUrl:y,printConfirmedAt:new Date,status:"approved",approvedAt:new Date}),await gt(f,"item_approved","Generated barcode and approved item",n.id,n.title),r(n,i),e()}catch(y){console.error("Error updating item with barcode:",y)}finally{u(!1)}}};return!t||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Item Barcode"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create and print barcode before approving item"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:n.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Price:"})," $",n.price]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",n.category]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Brand:"})," ",n.brand||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Size:"})," ",n.size||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Seller:"})," ",n.sellerName]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",n.status]})]})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Generated Barcode"}),s?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Generating barcode..."})]}):o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 inline-block",children:[o.jsx("canvas",{ref:d,className:"mx-auto"}),i&&o.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Barcode ID:"})," ",i]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Generated:"})," ",new Date().toLocaleString()]})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Print Label"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Print this barcode label and attach it to the item before adding to inventory."})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:o.jsxs("button",{onClick:m,disabled:s||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white disabled:text-gray-500",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Label"]})})]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{onClick:v,disabled:c||s||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Printed"]})})]})})]})})},pae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState([]),[a,s]=k.useState(!0),[l,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,v]=k.useState(!1),[y,b]=k.useState(!1),[_,x]=k.useState(!1),[g,j]=k.useState(null),[w,T]=k.useState(""),[S,A]=k.useState(""),[N,I]=k.useState(null);k.useEffect(()=>{t&&n&&C()},[t,n]);const C=async()=>{s(!0);try{const G=tn(Ke,"items"),te=Gn(G,Kn("status","==","pending")),F=await kn(te),$=[];F.forEach(X=>{var ve,De,Ee;const Z=X.data();$.push({id:X.id,...Z,createdAt:((ve=Z.createdAt)==null?void 0:ve.toDate())||new Date,approvedAt:(De=Z.approvedAt)==null?void 0:De.toDate(),liveAt:(Ee=Z.liveAt)==null?void 0:Ee.toDate()})}),$.sort((X,Z)=>Z.createdAt.getTime()-X.createdAt.getTime()),i($)}catch(G){console.error("Error fetching pending items:",G)}finally{s(!1)}},R=G=>{j(G),d(!0)},P=G=>{j(G),T(""),v(!0)},z=()=>{g&&(d(!1),h(!0))},V=async(G,te)=>{i(F=>F.filter($=>$.id!==G.id)),j(null)},B=()=>{h(!1),j(null)},L=async()=>{if(g){c(g.id),v(!1);try{await gr(Qn(Ke,"items",g.id),{status:"rejected",rejectedAt:i0(),rejectionReason:w||"No reason provided"}),i(G=>G.filter(te=>te.id!==g.id)),A("Item rejected."),b(!0)}catch(G){console.error("Error rejecting item:",G),A("Error rejecting item. Please try again."),x(!0)}finally{c(null),j(null)}}},U=G=>{I(G)},W=async G=>{c(G.id);try{await gr(Qn(Ke,"items",G.id),{title:G.title,description:G.description,price:G.price,category:G.category||null,gender:G.gender||null,size:G.size||null,brand:G.brand||null,condition:G.condition||null,material:G.material||null}),i(te=>te.map(F=>F.id===G.id?G:F)),I(null),A("Item updated successfully!"),b(!0)}catch(te){console.error("Error updating item:",te),A("Error updating item. Please try again."),x(!0)}finally{c(null)}};return t?o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Manage Pending Items"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No pending items to review"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All items have been processed!"})]}):o.jsx("div",{className:"space-y-6",children:r.map(G=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:G.images.length>0?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:G.images[0],alt:G.title,className:"w-32 h-32 object-cover rounded-lg"}),G.images.length>1&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",G.images.length-1]})]}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:G.title}),o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",G.price.toFixed(2)]})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:G.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 mb-4",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Seller:"})," ",G.sellerName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",G.sellerEmail]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted:"})," ",G.createdAt.toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Images:"})," ",G.images.length]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>U(G),disabled:l===G.id,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Edit Details"}),o.jsx("button",{onClick:()=>R(G),disabled:l===G.id,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l===G.id?"Processing...":"Approve Item"}),o.jsx("button",{onClick:()=>P(G),disabled:l===G.id,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l===G.id?"Processing...":"Reject Item"})]})]})]})},G.id))})})]}),u&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"✅"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Item"})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Approving "',o.jsx("span",{className:"font-medium",children:g.title}),'" will generate a barcode label that must be printed. After printing, the item will be available to employees for 3 days before going live to all customers.']}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:z,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Generate Label & Approve"})]})]})}),m&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"❌"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Item"})]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to reject "',o.jsx("span",{className:"font-medium",children:g.title}),'"?']}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection (optional)"}),o.jsx("textarea",{value:w,onChange:G=>T(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"Enter reason for rejection..."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:L,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Reject Item"})]})]})}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"🎉"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:S}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:S}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})}),N&&o.jsx(mae,{item:N,onSave:W,onCancel:()=>I(null),isProcessing:l===N.id}),f&&g&&o.jsx(hae,{isOpen:f,onClose:B,item:g,onConfirmPrint:V})]}):null},mae=({item:t,onSave:e,onCancel:n,isProcessing:r})=>{const[i,a]=k.useState(t.title),[s,l]=k.useState(t.description),[c,u]=k.useState(t.price.toString()),[d,f]=k.useState(t.category||""),[h,m]=k.useState(t.gender||""),[v,y]=k.useState(t.size||""),[b,_]=k.useState(t.brand||""),[x,g]=k.useState(t.condition||""),[j,w]=k.useState(t.material||""),[T,S]=k.useState(!1),[A,N]=k.useState(""),I=()=>{if(!i.trim()||!s.trim()||!c.trim()){N("Please fill in all required fields"),S(!0);return}const C=parseFloat(c);if(isNaN(C)||C<=0){N("Please enter a valid price greater than 0"),S(!0);return}e({...t,title:i.trim(),description:s.trim(),price:C,category:d||void 0,gender:h||void 0,size:v||void 0,brand:b.trim()||void 0,condition:x||void 0,material:j.trim()||void 0})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Item Details"})}),o.jsxs("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),o.jsx("input",{type:"text",value:i,onChange:C=>a(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("textarea",{value:s,onChange:C=>l(C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),o.jsx("input",{type:"text",value:c,onChange:C=>{const R=C.target.value;(R===""||/^\d*\.?\d*$/.test(R))&&u(R)},className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Additional Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:d,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),o.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),o.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),o.jsx("option",{value:"Camping",children:"Camping ⛺"}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),o.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),o.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),o.jsx("option",{value:"Apparel",children:"Apparel 👕"}),o.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),o.jsxs("select",{value:h,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),o.jsxs("select",{value:v,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),o.jsxs("select",{value:x,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Condition"}),o.jsx("option",{value:"New",children:"New - Never used"}),o.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),o.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),o.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),o.jsx("input",{type:"text",value:b,onChange:C=>_(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Patagonia, REI"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),o.jsx("input",{type:"text",value:j,onChange:C=>w(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gore-Tex, Cotton"})]})]})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:I,disabled:r,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r?"Saving...":"Save Changes"})]}),T&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Validation Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:A}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]})})},gae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState([]),[a,s]=k.useState(!0),[l,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,v]=k.useState(!1),[y,b]=k.useState(null),[_,x]=k.useState("");k.useEffect(()=>{t&&n&&g()},[t,n]);const g=async()=>{s(!0);try{const A=tn(Ke,"items"),N=Gn(A,Kn("status","==","approved")),I=await kn(N),C=[];I.forEach(R=>{var z,V,B,L,U;const P=R.data();C.push({id:R.id,...P,createdAt:((z=P.createdAt)==null?void 0:z.toDate())||new Date,approvedAt:((V=P.approvedAt)==null?void 0:V.toDate())||new Date,liveAt:(B=P.liveAt)==null?void 0:B.toDate(),barcodeGeneratedAt:(L=P.barcodeGeneratedAt)==null?void 0:L.toDate(),printConfirmedAt:(U=P.printConfirmedAt)==null?void 0:U.toDate()})}),C.sort((R,P)=>{var z,V;return(((z=P.approvedAt)==null?void 0:z.getTime())||0)-(((V=R.approvedAt)==null?void 0:V.getTime())||0)}),i(C)}catch(A){console.error("Error fetching approved items:",A)}finally{s(!1)}},j=A=>{const I=new Date(A.getTime()+2592e5),C=new Date,R=I.getTime()-C.getTime();if(R<=0)return{expired:!0,text:"Ready to go live!"};const P=Math.floor(R/(24*60*60*1e3)),z=Math.floor(R%(24*60*60*1e3)/(60*60*1e3)),V=Math.floor(R%(60*60*1e3)/(60*1e3));return{expired:!1,text:`${P}d ${z}h ${V}m remaining`,goLiveTime:I.toLocaleDateString()+" "+I.toLocaleTimeString()}},w=A=>{b(A),d(!0)},T=async()=>{if(y){d(!1),c(y.id);try{await gr(Qn(Ke,"items",y.id),{status:"live",liveAt:i0()}),i(A=>A.filter(N=>N.id!==y.id)),e()}catch(A){console.error("Error making item live:",A),x("Error making item live. Please try again."),v(!0)}finally{c(null),b(null)}}},S=async A=>{c(A.id);try{await gr(Qn(Ke,"items",A.id),{status:"pending",liveAt:null}),i(N=>N.filter(I=>I.id!==A.id)),x("Item sent back to pending queue."),h(!0)}catch(N){console.error("Error sending item back to pending:",N),x("Error sending item back to pending. Please try again."),v(!0)}finally{c(null)}};return t?o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Approved Items (Employee Preview)"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Items approved for 3-day employee preview before going live to all customers"})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No approved items"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Items will appear here after approval"})]}):o.jsx("div",{className:"space-y-6",children:r.map(A=>{var I;const N=j(A.approvedAt);return o.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gradient-to-r from-orange-50 to-yellow-50",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"flex-shrink-0",children:A.images.length>0?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:A.images[0],alt:A.title,className:"w-32 h-32 object-cover rounded-lg"}),A.images.length>1&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",A.images.length-1]})]}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:A.title}),o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",A.price.toFixed(2)]})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:A.description}),o.jsxs("div",{className:"bg-white rounded-lg p-3 mb-4 border border-orange-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:`font-medium ${N.expired?"text-green-600":"text-orange-600"}`,children:N.text})]}),!N.expired&&N.goLiveTime&&o.jsxs("p",{className:"text-xs text-gray-500",children:["Goes live: ",N.goLiveTime]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 mb-4",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Seller:"})," ",A.sellerName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Approved:"})," ",(I=A.approvedAt)==null?void 0:I.toLocaleDateString()]}),A.barcodeData&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Barcode:"})," ",A.barcodeData]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Label Generated:"})," ",A.barcodeGeneratedAt?A.barcodeGeneratedAt instanceof Date?A.barcodeGeneratedAt.toLocaleDateString():new Date(A.barcodeGeneratedAt).toLocaleDateString():"N/A"]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>S(A),disabled:l===A.id,className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l===A.id?"Processing...":"Send Back to Pending"}),o.jsx("button",{onClick:()=>w(A),disabled:l===A.id,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l===A.id?"Processing...":"Mark as Live"})]})]})]})},A.id)})})})]}),u&&y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"🚀"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Item Live"})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to make "',o.jsx("span",{className:"font-medium",children:y.title}),'" live? This will make it available to all customers immediately.',y.barcodeData?o.jsx("span",{className:"block mt-2 text-green-600 text-sm",children:"✓ Barcode label has been generated and printed."}):o.jsx("span",{className:"block mt-2 text-amber-600 text-sm",children:"⚠ Note: No barcode label has been generated for this item."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:T,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Make Live Now"})]})]})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"🎉"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:_}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:_}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]}):null},OC=({isOpen:t,onClose:e,onGoogleLogin:n,onPhoneLogin:r})=>{const[i,a]=k.useState(""),[s,l]=k.useState(!1),[c,u]=k.useState("selection"),[d,f]=k.useState(null);if(!t)return null;const h=async()=>{l(!0);try{await n(),e()}catch(x){console.error("Google login failed:",x),alert("Google login failed. Please try again.")}finally{l(!1)}},m=async()=>{if(!i.trim()){f("Please enter a phone number");return}if(i.replace(/\D/g,"").length!==10){f("Please enter a valid 10-digit phone number");return}l(!0),f(null);try{console.log("Starting phone login with:",i),await r(i),console.log("Phone login successful"),e(),v()}catch(g){console.error("Phone login failed:",g);const j=g instanceof Error?g.message:"Phone login failed. Please try again.";f(j)}finally{l(!1)}},v=()=>{a(""),u("selection"),l(!1),f(null)},y=()=>{v(),e()},b=x=>{const g=x.replace(/\D/g,"");return g.length<=3?g:g.length<=6?`(${g.slice(0,3)}) ${g.slice(3)}`:`(${g.slice(0,3)}) ${g.slice(3,6)}-${g.slice(6,10)}`},_=x=>{const g=b(x.target.value);a(g)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c==="selection"?"Welcome to Summit Gear Exchange":"Sign In with Phone"}),o.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6",children:c==="selection"?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Choose how you'd like to sign in"}),o.jsxs("button",{onClick:h,disabled:s,className:"w-full flex items-center justify-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),o.jsxs("button",{onClick:()=>u("phone"),disabled:s,className:"w-full flex items-center justify-center px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone Number"]}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our terms and conditions"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>u("selection"),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm mb-4",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to sign in options"]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",id:"phone",value:i,onChange:_,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:14}),d&&o.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:d})]}),o.jsx("button",{onClick:m,disabled:s||!i.trim(),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Quick & Simple:"})," No verification needed! Just enter your phone number and you're ready to start buying and selling gear."]})})]})})]})})},vae=t=>{if(!t)return null;try{return t instanceof Date?t:t.toDate&&typeof t.toDate=="function"?t.toDate():t.seconds?new Date(t.seconds*1e3):new Date(t)}catch(e){return console.error("Error converting timestamp:",e),null}},$i=t=>{const e=vae(t);return e?e.toLocaleDateString():"N/A"},eE=({isOpen:t,onClose:e,item:n,onItemUpdated:r})=>{var Z,ve,De,Ee,Q,le;const{addToCart:i,isInCart:a,getCartItemQuantity:s,toggleBookmark:l,isBookmarked:c,cartItems:u,bookmarkedItems:d}=hp(),{isAdmin:f,user:h}=El(),m=k.useRef(null),[v,y]=k.useState(!1),[b,_]=k.useState(""),[x,g]=k.useState(!1),[j,w]=k.useState(!1),[T,S]=k.useState(""),[A,N]=k.useState(""),[I,C]=k.useState(!1);if(k.useEffect(()=>{n&&(console.log("Bookmark state check for",n.title,"- Bookmarked:",c(n.id)),console.log("Total bookmarked items:",d.length))},[d,n,c]),k.useEffect(()=>{n&&_(n.price.toString())},[n]),!t||!n)return null;const R=ne=>{switch(ne){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},P=ne=>{switch(ne){case"pending":return"Pending Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return ne}},z=async()=>{console.log("Before adding to cart - Cart items count:",u.length),console.log("Item being added:",n.title,"ID:",n.id),console.log("Is item already in cart?",a(n.id)),console.log("Current cart quantity for this item:",s(n.id)),await i(n,h);const ne=document.createElement("div");ne.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",ne.textContent=`${n.title} added to cart!`,document.body.appendChild(ne),setTimeout(()=>{document.body.contains(ne)&&document.body.removeChild(ne)},2e3)},V=async()=>{const ne=c(n.id);console.log("Before bookmark toggle - Item ID:",n.id,"Was bookmarked:",ne),console.log("Current bookmarked items count:",d.length),await l(n.id,h);const K=document.createElement("div");K.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",K.textContent=ne?`Removed ${n.title} from bookmarks`:`${n.title} bookmarked!`,document.body.appendChild(K),setTimeout(()=>{document.body.contains(K)&&document.body.removeChild(K)},2e3)},B=n.status==="live",L=()=>{y(!0)},U=async()=>{if(!(!b||parseFloat(b)<=0)){g(!0);try{const ne=Qn(Ke,"items",n.id),K=parseFloat(b);await gr(ne,{status:"sold",soldAt:new Date,soldPrice:K,saleType:"in-store"}),await gt(h,"item_marked_sold",`Marked item as sold for $${K}`,n.id,n.title),y(!1),_(""),setTimeout(()=>{e()},2e3)}finally{g(!1)}}},W=()=>{w(!0)},G=()=>{w(!1),S(""),N("")},te=()=>{y(!1),_("")},F=async()=>{var ne;if(!T.trim()){alert("Please provide a reason for the refund.");return}if(A!=="123"){alert("Invalid password. Please enter the correct password.");return}C(!0);try{const K={id:`refund_${n.id}_${Date.now()}`,itemId:n.id,itemTitle:n.title,originalPrice:n.soldPrice||n.price,refundAmount:n.soldPrice||n.price,reason:T.trim(),refundedAt:new Date,refundedBy:(h==null?void 0:h.uid)||"",refundedByName:(h==null?void 0:h.displayName)||(h==null?void 0:h.email)||"Admin",originalBuyerId:n.buyerId||"",originalBuyerName:n.buyerName||((ne=n.buyerInfo)==null?void 0:ne.name)||"Unknown Buyer",sellerName:n.sellerName,sellerId:n.sellerId},he=tn(Ke,"refunds");await rh(he,K);const xe=Qn(Ke,"items",n.id);await gr(xe,{status:"approved",soldAt:null,soldPrice:null,buyerId:null,buyerName:null,buyerEmail:null,saleType:null,refundedAt:new Date,refundReason:T.trim()}),await gt(h,"item_refunded",`Issued refund: ${T}`,n.id,n.title),w(!1),S(""),N(""),setTimeout(()=>{e()},1500)}catch(K){console.error("Error processing refund:",K),alert("Error processing refund. Please try again.")}finally{C(!1)}},$=ne=>{const K=window.open("","_blank");K&&(K.document.write(`
        <html>
          <head>
            <title>Barcode Label - ${n.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
              .item-info { margin-bottom: 20px; border: 1px solid #ccc; padding: 15px; background-color: #f9f9f9; }
              .barcode-container { margin: 20px 0; }
              .print-info { margin-top: 20px; font-size: 12px; color: #666; }
              h2 { color: #333; margin-bottom: 10px; }
              .detail-row { margin: 5px 0; text-align: left; }
              .label { font-weight: bold; display: inline-block; width: 100px; }
            </style>
          </head>
          <body>
            <h2>Summit Gear Exchange</h2>
            <div class="item-info">
              <h3>${n.title}</h3>
              <div class="detail-row">
                <span class="label">Price:</span> $${n.price}
              </div>
              <div class="detail-row">
                <span class="label">Category:</span> ${n.category}
              </div>
              <div class="detail-row">
                <span class="label">Brand:</span> ${n.brand||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Size:</span> ${n.size||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Seller:</span> ${n.sellerName}
              </div>
              <div class="detail-row">
                <span class="label">Status:</span> ${n.status}
              </div>
            </div>
            <div class="barcode-container">
              <img src="${ne}" alt="Barcode: ${n.barcodeData}" style="max-width: 100%; height: auto;" />
            </div>
            <div class="print-info">
              <p>Barcode: ${n.barcodeData}</p>
              <p>Generated: ${$i(n.barcodeGeneratedAt)||$i(new Date)}</p>
              <p>Printed: ${new Date().toLocaleString()}</p>
            </div>
          </body>
        </html>
      `),K.document.close(),K.focus(),K.print())},X=async ne=>{if(n)try{const K=Qn(Ke,"items",n.id),he={status:ne};ne==="live"?he.liveAt=new Date:ne==="approved"?he.approvedAt=new Date:ne==="archived"?he.archivedAt=new Date:ne==="pending"&&(he.approvedAt=null,he.liveAt=null),await gr(K,he);const xe=ne==="live"?"made item live":ne==="approved"?"moved item to approved":ne==="archived"?"removed/archived item":ne==="pending"?"moved item back to pending":`updated item to ${ne}`;await gt(h,`item_${ne}`,`Admin ${xe}`,n.id,n.title);const fe=document.createElement("div");fe.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg";const Ae=ne==="live"?"made live":ne==="approved"?"moved to approved":ne==="archived"?"removed from listings":ne==="pending"?"moved to pending review":`updated to ${ne}`;fe.textContent=`Item ${Ae} successfully!`,document.body.appendChild(fe),setTimeout(()=>{document.body.contains(fe)&&document.body.removeChild(fe)},2e3),r&&r(),e()}catch(K){console.error("Error updating item:",K);const he=document.createElement("div");he.className="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",he.textContent="Error updating item. Please try again.",document.body.appendChild(he),setTimeout(()=>{document.body.contains(he)&&document.body.removeChild(he)},2e3)}};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[80] p-4",children:[o.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${n.status==="sold"?"max-w-7xl":"max-w-4xl"} w-full max-h-[90vh] overflow-hidden`,children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${R(n.status)}`,children:P(n.status)}),o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",n.price]})]}),f&&n.status!=="sold"&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.status==="approved"&&o.jsxs("button",{onClick:L,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark as Sold"]}),n.status!=="pending"&&o.jsxs("button",{onClick:()=>X("pending"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Send to Pending"]}),n.status!=="approved"&&o.jsxs("button",{onClick:()=>X("approved"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Send Back to Approved Items"]}),n.barcodeImageUrl&&o.jsxs("button",{onClick:()=>$(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]}),f&&n.status==="sold"&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[o.jsxs("button",{onClick:W,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})}),"Issue Refund"]}),n.barcodeImageUrl&&o.jsxs("button",{onClick:()=>$(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none ml-4",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:`${n.status==="sold"?"grid grid-cols-1 lg:grid-cols-2 gap-8":""}`,children:[n.images&&n.images.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:`grid ${n.status==="sold"?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2 gap-4"}`,children:n.images.slice(0,4).map((ne,K)=>o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:o.jsx("img",{src:ne,alt:`${n.title} ${K+1}`,className:"w-full h-full object-cover"})},K))}),n.images.length>4&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["+",n.images.length-4," more images"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Category"}),o.jsx("p",{className:"text-gray-600",children:n.category})]}),n.brand&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Brand"}),o.jsx("p",{className:"text-gray-600",children:n.brand})]}),n.size&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Size"}),o.jsx("p",{className:"text-gray-600",children:n.size})]}),n.color&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Color"}),o.jsx("p",{className:"text-gray-600",children:n.color})]}),n.condition&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Condition"}),o.jsx("p",{className:"text-gray-600",children:n.condition})]}),n.gender&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Gender"}),o.jsx("p",{className:"text-gray-600",children:n.gender})]})]})]})]}),o.jsxs("div",{className:`${n.status==="sold"?"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6":"mt-6"}`,children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Seller Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"}),o.jsx("span",{className:"ml-2 font-medium",children:n.sellerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"ml-2",children:n.sellerEmail})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Listed:"}),o.jsx("span",{className:"ml-2",children:$i(n.createdAt)})]}),n.approvedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Approved:"}),o.jsx("span",{className:"ml-2",children:$i(n.approvedAt)})]})]})]}),f&&n.barcodeData&&o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Barcode Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Barcode ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.barcodeData})]}),n.barcodeGeneratedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Generated:"}),o.jsx("span",{className:"ml-2",children:$i(n.barcodeGeneratedAt)})]}),n.barcodeImageUrl&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Barcode Image:"}),o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:n.barcodeImageUrl,alt:`Barcode: ${n.barcodeData}`,className:"max-w-xs bg-white p-2 border rounded"})})]})]})]})]})]}),!f&&B?o.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:V,className:`flex-shrink-0 p-3 rounded-lg border-2 transition-all duration-200 ${c(n.id)?"border-red-500 bg-red-50 text-red-600":"border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"}`,title:c(n.id)?"Remove from bookmarks":"Add to bookmarks",children:o.jsx("svg",{className:"w-6 h-6",fill:c(n.id)?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),o.jsxs("button",{onClick:z,className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${a(n.id)?"bg-green-500 text-white hover:bg-green-600":"bg-orange-500 text-white hover:bg-orange-600"} flex items-center justify-center gap-2`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),a(n.id)?o.jsxs("span",{children:["In Cart (",s(n.id),")"]}):o.jsxs("span",{children:["Add to Cart - $",n.price]})]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"✓ Secure checkout with Stripe • ✓ Quality guaranteed • ✓ Local pickup available"})})]}):null,!B&&n.status!=="sold"&&o.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-gray-600 font-medium",children:[n.status==="pending"&&"This item is currently under review",n.status==="approved"&&"This item is approved and will be available soon",n.status==="archived"&&"This item is no longer available"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back later or browse our other available items"})]})}),n.status==="sold"&&o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"font-medium text-green-800",children:"Item Sold"}),o.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:n.saleType==="online"?"🌐 Online":"🏪 In-Store"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Sold Price:"}),o.jsxs("span",{className:"ml-2 font-semibold text-green-700",children:["$",n.soldPrice||n.price]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Sold Date:"}),o.jsx("span",{className:"ml-2 font-medium",children:$i(n.soldAt)})]}),n.saleTransactionId&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.saleTransactionId})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[n.barcodeData&&o.jsxs("button",{onClick:()=>{const ne=window.open("","_blank");ne&&(ne.document.write(`
                          <html>
                            <head>
                              <title>Barcode Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
                                .barcode-container { margin: 20px 0; }
                                .item-info { margin-bottom: 20px; }
                              </style>
                            </head>
                            <body>
                              <div class="item-info">
                                <h3>${n.title}</h3>
                                <p>Price: $${n.soldPrice||n.price} | Sold: ${$i(n.soldAt)}</p>
                              </div>
                              <div class="barcode-container">
                                <p>Barcode: ${n.barcodeData}</p>
                                <p>Generated: ${$i(n.barcodeGeneratedAt)||$i(new Date)}</p>
                              </div>
                            </body>
                          </html>
                        `),ne.document.close(),ne.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-gray-500 text-white hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]}),n.saleType==="online"&&n.buyerInfo&&o.jsxs("button",{onClick:()=>{var K,he,xe,fe,Ae;const ne=window.open("","_blank");ne&&(ne.document.write(`
                          <html>
                            <head>
                              <title>Shipping Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; }
                                .shipping-label { border: 2px solid #000; padding: 20px; max-width: 600px; margin: 0 auto; }
                                .from, .to { margin-bottom: 20px; }
                                .to { border-top: 2px solid #000; padding-top: 20px; }
                                .item-details { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
                                h3 { margin: 0 0 10px 0; }
                              </style>
                            </head>
                            <body>
                              <div class="shipping-label">
                                <div class="from">
                                  <h3>FROM:</h3>
                                  <p><strong>Summit Gear Exchange</strong><br>
                                  123 Mountain View Drive<br>
                                  Summit, CO 80424<br>
                                  Phone: (555) 123-4567</p>
                                </div>
                                                                 <div class="to">
                                   <h3>TO:</h3>
                                   <p><strong>${((K=n.buyerInfo)==null?void 0:K.name)||"N/A"}</strong><br>
                                   ${((he=n.buyerInfo)==null?void 0:he.address)||"N/A"}<br>
                                   ${((xe=n.buyerInfo)==null?void 0:xe.city)||"N/A"}, ${((fe=n.buyerInfo)==null?void 0:fe.zipCode)||"N/A"}<br>
                                   Phone: ${((Ae=n.buyerInfo)==null?void 0:Ae.phone)||"N/A"}</p>
                                 </div>
                                <div class="item-details">
                                  <p><strong>Item:</strong> ${n.title}</p>
                                  <p><strong>Order ID:</strong> ${n.saleTransactionId||"N/A"}</p>
                                  <p><strong>Sold Date:</strong> ${$i(n.soldAt)}</p>
                                </div>
                              </div>
                            </body>
                          </html>
                        `),ne.document.close(),ne.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7"})}),"Print Shipping Label"]})]}),n.saleType==="online"&&n.buyerInfo&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Buyer Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"})," ",o.jsx("span",{className:"ml-1",children:((Z=n.buyerInfo)==null?void 0:Z.name)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"})," ",o.jsx("span",{className:"ml-1",children:((ve=n.buyerInfo)==null?void 0:ve.email)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",o.jsx("span",{className:"ml-1",children:((De=n.buyerInfo)==null?void 0:De.phone)||"N/A"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Address:"}),o.jsxs("span",{className:"ml-1",children:[((Ee=n.buyerInfo)==null?void 0:Ee.address)||"N/A",", ",((Q=n.buyerInfo)==null?void 0:Q.city)||"N/A",", ",((le=n.buyerInfo)==null?void 0:le.zipCode)||"N/A"]})]})]})]})]})})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[90]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mark Item as Sold"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter the sale price for this item:"}),o.jsx("input",{type:"number",value:b,onChange:ne=>_(ne.target.value),placeholder:"Enter sale price",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 mb-4",min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:te,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:x,children:"Cancel"}),o.jsx("button",{onClick:U,disabled:x||!b||parseFloat(b)<=0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:x?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Confirm Sale"})]})]})}),j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[90]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Issue Refund"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-gray-600 mb-2",children:["Item: ",o.jsx("strong",{children:n.title})]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Refund Amount: ",o.jsxs("strong",{children:["$",n.soldPrice||n.price]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Refund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:T,onChange:ne=>S(ne.target.value),placeholder:"Please describe why this refund is being issued...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Password ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"password",value:A,onChange:ne=>N(ne.target.value),placeholder:"Enter admin password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Testing password: 123"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:G,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:I,children:"Cancel"}),o.jsx("button",{onClick:F,disabled:I||!T.trim()||!A,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:I?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Issue Refund"})]})]})}),o.jsx("canvas",{ref:m,style:{display:"none"}})]})},yae=({isOpen:t,onClose:e,onCheckout:n})=>{const{cartItems:r,removeFromCart:i,updateQuantity:a,clearCart:s,getCartTotal:l,getCartItemCount:c}=hp();if(!t)return null;const u=()=>{n(),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[c()," ",c()===1?"item":"items"," in your cart"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Add some gear to get started!"}),o.jsx("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Continue Shopping"})]}):o.jsx("div",{className:"space-y-4",children:r.map(d=>o.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:d.item.images&&d.item.images.length>0?o.jsx("img",{src:d.item.images[0],alt:d.item.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:d.item.title}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.item.description}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.item.category&&o.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:d.item.category}),d.item.size&&o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs",children:["Size ",d.item.size]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["Qty: ",d.quantity]}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Consignment item)"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(d.item.price*d.quantity).toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["$",d.item.price," each"]})]}),o.jsx("button",{onClick:()=>i(d.item.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Remove from cart",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},d.item.id))})}),r.length>0&&o.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: $",l().toFixed(2)]}),o.jsx("button",{onClick:s,className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"Clear Cart"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"}),o.jsxs("button",{onClick:u,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Checkout - $",l().toFixed(2)]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"✓ Secure payment with Stripe • ✓ Local pickup available • ✓ 30-day return policy"})})]})]})})},xae=({isOpen:t,onClose:e,items:n,onItemClick:r})=>{const{bookmarkedItems:i,toggleBookmark:a,addToCart:s}=hp(),l=n.filter(c=>i.includes(c.id));return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Bookmarked Items"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[l.length," item",l.length!==1?"s":""," saved"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:l.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarked items"}),o.jsx("p",{className:"text-gray-500",children:"Items you bookmark will appear here for easy access."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative",children:[c.images&&c.images.length>0?o.jsx("img",{src:c.images[0],alt:c.title,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer",onClick:()=>r(c)}):o.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-t-lg flex items-center justify-center cursor-pointer",onClick:()=>r(c),children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2v12a2 2 0 002 2z"})})}),o.jsx("button",{onClick:()=>{a(c.id),console.log("Removed bookmark from bookmarks modal:",c.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`Removed ${c.title} from bookmarks`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"absolute top-2 right-2 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-red-500 fill-current",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>r(c),children:c.title}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 mb-3",children:["$",c.price]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c.status==="live"?"bg-green-100 text-green-800":c.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status==="live"?"Available":c.status==="approved"?"Approved":c.status}),o.jsx("span",{className:"text-sm text-gray-500",children:c.category})]}),c.status==="live"&&o.jsx("button",{onClick:()=>{s(c),console.log("Added to cart from bookmarks:",c.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`${c.title} added to cart!`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Add to Cart"})]})]},c.id))})})]})}):null};var UL="basil",bae=function(e){return e===3?"v3":e},VL="https://js.stripe.com",_ae="".concat(VL,"/").concat(UL,"/stripe.js"),wae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Aae=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Sae=function(e){return wae.test(e)||Aae.test(e)},Eae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(VL,'"]')),n=0;n<e.length;n++){var r=e[n];if(Sae(r.src))return r}return null},CC=function(e){var n="",r=document.createElement("script");r.src="".concat(_ae).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},jae=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Pd=null,bm=null,_m=null,Tae=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Nae=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Oae=function(e){return Pd!==null?Pd:(Pd=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=Eae();if(!(i&&e)){if(!i)i=CC(e);else if(i&&_m!==null&&bm!==null){var a;i.removeEventListener("load",_m),i.removeEventListener("error",bm),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=CC(e)}}_m=Nae(n,r),bm=Tae(r),i.addEventListener("load",_m),i.addEventListener("error",bm)}catch(s){r(s);return}}),Pd.catch(function(n){return Pd=null,Promise.reject(n)}))},Cae=function(e,n,r){if(e===null)return null;var i=n[0],a=i.match(/^pk_test/),s=bae(e.version),l=UL;a&&s!==l&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return jae(c,r),c},Rd,zL=!1,FL=function(){return Rd||(Rd=Oae(null).catch(function(e){return Rd=null,Promise.reject(e)}),Rd)};Promise.resolve().then(function(){return FL()}).catch(function(t){zL||console.warn(t)});var Iae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];zL=!0;var i=Date.now();return FL().then(function(a){return Cae(a,n,i)})},HL={exports:{}},kae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pae=kae,Rae=Pae;function qL(){}function GL(){}GL.resetWarningCache=qL;var Mae=function(){function t(r,i,a,s,l,c){if(c!==Rae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GL,resetWarningCache:qL};return n.PropTypes=n,n};HL.exports=Mae();var Dae=HL.exports;const je=it(Dae);function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){WL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function og(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(e){return typeof e}:og=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function WL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lae(t,e){if(t==null)return{};var n=$ae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KL(t,e){return Bae(t)||Uae(t,e)||Vae(t,e)||zae()}function Bae(t){if(Array.isArray(t))return t}function Uae(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Vae(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nr=function(e,n,r){var i=!!r,a=D.useRef(r);D.useEffect(function(){a.current=r},[r]),D.useEffect(function(){if(!i||!e)return function(){};var s=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,s),function(){e.off(n,s)}},[i,n,e,a])},I_=function(e){var n=D.useRef(e);return D.useEffect(function(){n.current=e},[e]),n.current},ru=function(e){return e!==null&&og(e)==="object"},Fae=function(e){return ru(e)&&typeof e.then=="function"},Hae=function(e){return ru(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},RC="[object Object]",qae=function t(e,n){if(!ru(e)||!ru(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===RC,s=Object.prototype.toString.call(n)===RC;if(a!==s)return!1;if(!a&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=e,v=n,y=function(_){return t(m[_],v[_])};return h.every(y)},XL=function(e,n,r){return ru(e)?Object.keys(e).reduce(function(i,a){var s=!ru(n)||!qae(e[a],n[a]);return r.includes(a)?(s&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):s?kC(kC({},i||{}),{},WL({},a,e[a])):i},null):null},YL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",MC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YL;if(e===null||Hae(e))return e;throw new Error(n)},Gae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YL;if(Fae(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return MC(i,n)})};var r=MC(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Wae=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},x0=D.createContext(null);x0.displayName="ElementsContext";var QL=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},ZL=function(e){var n=e.stripe,r=e.options,i=e.children,a=D.useMemo(function(){return Gae(n)},[n]),s=D.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=KL(s,2),c=l[0],u=l[1];D.useEffect(function(){var h=!0,m=function(y){u(function(b){return b.stripe?b:{stripe:y,elements:y.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(v){v&&h&&m(v)}):a.tag==="sync"&&!c.stripe&&m(a.stripe),function(){h=!1}},[a,c,r]);var d=I_(n);D.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=I_(r);return D.useEffect(function(){if(c.elements){var h=XL(r,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,f,c.elements]),D.useEffect(function(){Wae(c.stripe)},[c.stripe]),D.createElement(x0.Provider,{value:c},i)};ZL.propTypes={stripe:je.any,options:je.object};var Kae=function(e){var n=D.useContext(x0);return QL(n,e)},Xae=function(){var e=Kae("calls useElements()"),n=e.elements;return n};je.func.isRequired;var JL=D.createContext(null);JL.displayName="CheckoutSdkContext";var Yae=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Qae=D.createContext(null);Qae.displayName="CheckoutContext";je.any,je.shape({fetchClientSecret:je.func.isRequired,elementsOptions:je.object}).isRequired;var k_=function(e){var n=D.useContext(JL),r=D.useContext(x0);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Yae(n,e):QL(r,e)},Zae=["mode"],Jae=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},an=function(e,n){var r="".concat(Jae(e),"Element"),i=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,v=c.onFocus,y=c.onReady,b=c.onChange,_=c.onEscape,x=c.onClick,g=c.onLoadError,j=c.onLoaderStart,w=c.onNetworksChange,T=c.onConfirm,S=c.onCancel,A=c.onShippingAddressChange,N=c.onShippingRateChange,I=k_("mounts <".concat(r,">")),C="elements"in I?I.elements:null,R="checkoutSdk"in I?I.checkoutSdk:null,P=D.useState(null),z=KL(P,2),V=z[0],B=z[1],L=D.useRef(null),U=D.useRef(null);Nr(V,"blur",m),Nr(V,"focus",v),Nr(V,"escape",_),Nr(V,"click",x),Nr(V,"loaderror",g),Nr(V,"loaderstart",j),Nr(V,"networkschange",w),Nr(V,"confirm",T),Nr(V,"cancel",S),Nr(V,"shippingaddresschange",A),Nr(V,"shippingratechange",N),Nr(V,"change",b);var W;y&&(e==="expressCheckout"?W=y:W=function(){y(V)}),Nr(V,"ready",W),D.useLayoutEffect(function(){if(L.current===null&&U.current!==null&&(C||R)){var te=null;if(R)switch(e){case"payment":te=R.createPaymentElement(h);break;case"address":if("mode"in h){var F=h.mode,$=Lae(h,Zae);if(F==="shipping")te=R.createShippingAddressElement($);else if(F==="billing")te=R.createBillingAddressElement($);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":te=R.createExpressCheckoutElement(h);break;case"currencySelector":te=R.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else C&&(te=C.create(e,h));L.current=te,B(te),te&&te.mount(U.current)}},[C,R,h]);var G=I_(h);return D.useEffect(function(){if(L.current){var te=XL(h,G,["paymentRequest"]);te&&"update"in L.current&&L.current.update(te)}},[h,G]),D.useLayoutEffect(function(){return function(){if(L.current&&typeof L.current.destroy=="function")try{L.current.destroy(),L.current=null}catch{}}},[]),D.createElement("div",{id:u,className:d,ref:U})},a=function(c){k_("mounts <".concat(r,">"));var u=c.id,d=c.className;return D.createElement("div",{id:u,className:d})},s=n?a:i;return s.propTypes={id:je.string,className:je.string,onChange:je.func,onBlur:je.func,onFocus:je.func,onReady:je.func,onEscape:je.func,onClick:je.func,onLoadError:je.func,onLoaderStart:je.func,onNetworksChange:je.func,onConfirm:je.func,onCancel:je.func,onShippingAddressChange:je.func,onShippingRateChange:je.func,options:je.object},s.displayName=r,s.__elementType=e,s},sn=typeof window>"u",ese=D.createContext(null);ese.displayName="EmbeddedCheckoutProviderContext";var tse=function(){var e=k_("calls useStripe()"),n=e.stripe;return n};an("auBankAccount",sn);var nse=an("card",sn);an("cardNumber",sn);an("cardExpiry",sn);an("cardCvc",sn);an("fpxBank",sn);an("iban",sn);an("idealBank",sn);an("p24Bank",sn);an("epsBank",sn);an("payment",sn);an("expressCheckout",sn);an("currencySelector",sn);an("paymentRequestButton",sn);an("linkAuthentication",sn);an("address",sn);an("shippingAddress",sn);an("paymentMethodMessaging",sn);an("affirmMessage",sn);an("afterpayClearpayMessage",sn);const rse=Iae("pk_test_51Rbnai4cE043YuFEryAiYmPIDw6WPTfMk0JFoJyi3eSpEZZBDpTY0tIusq95YjDXqttmcrbAePTHNot0kf3J85Q100Gz9jtjn3"),ise=({onClose:t,onSuccess:e})=>{const n=tse(),r=Xae(),{cartItems:i,getCartTotal:a,clearCart:s}=hp(),{user:l}=El(),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState({name:(l==null?void 0:l.displayName)||"",email:(l==null?void 0:l.email)||"",phone:l&&"phoneNumber"in l?l.phoneNumber:"",address:"",city:"",zipCode:""}),[v,y]=k.useState("shipping"),b=async x=>{console.log("Processing purchase completion for items:",i.length);for(const g of i)try{const j=g.item;console.log(`Processing sold item: ${j.title} (${j.id})`);const w=Qn(Ke,"items",j.id);if(await gr(w,{status:"sold",soldAt:new Date,soldPrice:j.price,buyerId:(l==null?void 0:l.uid)||"anonymous",buyerInfo:{name:h.name,email:h.email,phone:h.phone,address:h.address,city:h.city,zipCode:h.zipCode},saleTransactionId:x.paymentInfo.transactionId,saleType:"online",fulfillmentMethod:v,trackingNumber:v==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,shippingLabelGenerated:!1,userEarnings:j.price*.75,adminEarnings:j.price*.25}),await rh(tn(Ke,"sales"),{itemId:j.id,itemTitle:j.title,itemCategory:j.category,itemBrand:j.brand||"N/A",itemSize:j.size||"N/A",sellerId:j.sellerId,sellerName:j.sellerName,buyerId:(l==null?void 0:l.uid)||"anonymous",buyerName:h.name,salePrice:j.price,sellerEarnings:j.price*.75,storeCommission:j.price*.25,soldAt:new Date,transactionId:x.paymentInfo.transactionId,orderNumber:x.orderNumber,paymentMethod:x.paymentInfo.method,shippingAddress:{name:h.name,address:h.address,city:h.city,zipCode:h.zipCode,phone:h.phone,email:h.email}}),j.sellerId&&!j.sellerId.startsWith("phone_"))try{await rh(tn(Ke,"store_credits"),{userId:j.sellerId,amount:j.price*.75,source:"item_sale",itemId:j.id,itemTitle:j.title,salePrice:j.price,transactionId:x.paymentInfo.transactionId,createdAt:new Date,description:`Sale of "${j.title}"`}),console.log(`Added store credit for seller ${j.sellerId}: $${(j.price*.75).toFixed(2)}`)}catch(T){console.error("Error updating seller store credit:",T)}console.log(`Successfully processed sale for item: ${j.title}`)}catch(j){console.error(`Error processing item ${g.item.title}:`,j)}},_=async x=>{if(x.preventDefault(),!(!n||!r)){u(!0),f(null);try{if(await new Promise(j=>setTimeout(j,2e3)),l){const j={id:Date.now().toString()+Math.random().toString(36).substr(2,9),orderNumber:`ORD-${Date.now().toString().slice(-6)}`,total:a()+(v==="shipping"?5.99:0),purchaseDate:new Date().toISOString(),items:i.map(w=>({id:w.item.id,title:w.item.title,price:w.item.price,quantity:w.quantity,category:w.item.category,brand:w.item.brand||"N/A",size:w.item.size||"N/A",images:w.item.images||[],sellerId:w.item.sellerId,sellerName:w.item.sellerName})),customerInfo:{name:h.name,email:h.email,phone:h.phone,address:h.address,city:h.city,zipCode:h.zipCode},paymentInfo:{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Date.now().toString()+Math.random().toString(36).substr(2,9)}`},status:"completed",orderStatus:"processing",estimatedDelivery:v==="shipping"?new Date(Date.now()+6048e5).toISOString():void 0,trackingNumber:v==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,fulfillmentMethod:v,shippingLabelGenerated:!1};try{const w=localStorage.getItem(`purchase_history_${l.uid}`),T=w?JSON.parse(w):[];T.unshift(j),localStorage.setItem(`purchase_history_${l.uid}`,JSON.stringify(T)),await b(j),window.dispatchEvent(new StorageEvent("storage",{key:`purchase_history_${l.uid}`,newValue:JSON.stringify(T),storageArea:localStorage})),console.log("Purchase completed successfully:",j)}catch(w){throw console.error("Error saving purchase history:",w),w}}const g=a()+(v==="shipping"?5.99:0);await gt(l,"item_purchased",`Purchased ${i.length} items for $${g.toFixed(2)} (${v})`),console.log("Clearing cart after successful checkout..."),await s(l),e()}catch(g){console.error("Payment error:",g),f("Payment processing failed. Please try again.")}finally{u(!1)}}};return o.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2",children:[i.map(x=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[x.item.title," × ",x.quantity]}),o.jsxs("span",{children:["$",(x.item.price*x.quantity).toFixed(2)]})]},x.item.id)),v==="shipping"&&o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:"$5.99"})]}),o.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",(a()+(v==="shipping"?5.99:0)).toFixed(2)]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fulfillment Method"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${v==="pickup"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>y("pickup"),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"pickup",checked:v==="pickup",onChange:()=>y("pickup"),className:"text-orange-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"🏪 Store Pickup"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Pick up your items at Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free • Available next business day"})]})]})}),o.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${v==="shipping"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>y("shipping"),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"shipping",checked:v==="shipping",onChange:()=>y("shipping"),className:"text-orange-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"📦 Home Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"We'll ship your items to your address"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$5.99 shipping • 5-7 business days"})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),o.jsx("input",{type:"text",value:h.name,onChange:x=>m(g=>({...g,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:h.email,onChange:x=>m(g=>({...g,email:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:h.phone,onChange:x=>m(g=>({...g,phone:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),v==="shipping"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("input",{type:"text",value:h.address,onChange:x=>m(g=>({...g,address:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),o.jsx("input",{type:"text",value:h.city,onChange:x=>m(g=>({...g,city:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),o.jsx("input",{type:"text",value:h.zipCode,onChange:x=>m(g=>({...g,zipCode:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Information"}),o.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:o.jsx(nse,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}}}}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"🔒 Demo Mode: Payment will be simulated (no actual charge)"})]}),d&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:o.jsx("p",{className:"text-red-600 text-sm",children:d})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!n||c,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Complete Order - $",(a()+(v==="shipping"?5.99:0)).toFixed(2)]})})]})]})},ase=({isOpen:t,onClose:e,onSuccess:n})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Checkout"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Complete your purchase securely"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsx(ZL,{stripe:rse,children:o.jsx(ise,{onClose:e,onSuccess:n})})})]})}):null;function e5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=e5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=e5(t))&&(r&&(r+=" "),r+=e);return r}var sse=Array.isArray,wr=sse,ose=typeof Hp=="object"&&Hp&&Hp.Object===Object&&Hp,t5=ose,lse=t5,cse=typeof self=="object"&&self&&self.Object===Object&&self,use=lse||cse||Function("return this")(),oa=use,dse=oa,fse=dse.Symbol,xp=fse,DC=xp,n5=Object.prototype,hse=n5.hasOwnProperty,pse=n5.toString,Md=DC?DC.toStringTag:void 0;function mse(t){var e=hse.call(t,Md),n=t[Md];try{t[Md]=void 0;var r=!0}catch{}var i=pse.call(t);return r&&(e?t[Md]=n:delete t[Md]),i}var gse=mse,vse=Object.prototype,yse=vse.toString;function xse(t){return yse.call(t)}var bse=xse,$C=xp,_se=gse,wse=bse,Ase="[object Null]",Sse="[object Undefined]",LC=$C?$C.toStringTag:void 0;function Ese(t){return t==null?t===void 0?Sse:Ase:LC&&LC in Object(t)?_se(t):wse(t)}var Qa=Ese;function jse(t){return t!=null&&typeof t=="object"}var Za=jse,Tse=Qa,Nse=Za,Ose="[object Symbol]";function Cse(t){return typeof t=="symbol"||Nse(t)&&Tse(t)==Ose}var Yu=Cse,Ise=wr,kse=Yu,Pse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rse=/^\w*$/;function Mse(t,e){if(Ise(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kse(t)?!0:Rse.test(t)||!Pse.test(t)||e!=null&&t in Object(e)}var tE=Mse;function Dse(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var co=Dse;const Qu=it(co);var $se=Qa,Lse=co,Bse="[object AsyncFunction]",Use="[object Function]",Vse="[object GeneratorFunction]",zse="[object Proxy]";function Fse(t){if(!Lse(t))return!1;var e=$se(t);return e==Use||e==Vse||e==Bse||e==zse}var nE=Fse;const Oe=it(nE);var Hse=oa,qse=Hse["__core-js_shared__"],Gse=qse,Ob=Gse,BC=function(){var t=/[^.]+$/.exec(Ob&&Ob.keys&&Ob.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wse(t){return!!BC&&BC in t}var Kse=Wse,Xse=Function.prototype,Yse=Xse.toString;function Qse(t){if(t!=null){try{return Yse.call(t)}catch{}try{return t+""}catch{}}return""}var r5=Qse,Zse=nE,Jse=Kse,eoe=co,toe=r5,noe=/[\\^$.*+?()[\]{}|]/g,roe=/^\[object .+?Constructor\]$/,ioe=Function.prototype,aoe=Object.prototype,soe=ioe.toString,ooe=aoe.hasOwnProperty,loe=RegExp("^"+soe.call(ooe).replace(noe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function coe(t){if(!eoe(t)||Jse(t))return!1;var e=Zse(t)?loe:roe;return e.test(toe(t))}var uoe=coe;function doe(t,e){return t==null?void 0:t[e]}var foe=doe,hoe=uoe,poe=foe;function moe(t,e){var n=poe(t,e);return hoe(n)?n:void 0}var Ol=moe,goe=Ol,voe=goe(Object,"create"),b0=voe,UC=b0;function yoe(){this.__data__=UC?UC(null):{},this.size=0}var xoe=yoe;function boe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _oe=boe,woe=b0,Aoe="__lodash_hash_undefined__",Soe=Object.prototype,Eoe=Soe.hasOwnProperty;function joe(t){var e=this.__data__;if(woe){var n=e[t];return n===Aoe?void 0:n}return Eoe.call(e,t)?e[t]:void 0}var Toe=joe,Noe=b0,Ooe=Object.prototype,Coe=Ooe.hasOwnProperty;function Ioe(t){var e=this.__data__;return Noe?e[t]!==void 0:Coe.call(e,t)}var koe=Ioe,Poe=b0,Roe="__lodash_hash_undefined__";function Moe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Poe&&e===void 0?Roe:e,this}var Doe=Moe,$oe=xoe,Loe=_oe,Boe=Toe,Uoe=koe,Voe=Doe;function Zu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zu.prototype.clear=$oe;Zu.prototype.delete=Loe;Zu.prototype.get=Boe;Zu.prototype.has=Uoe;Zu.prototype.set=Voe;var zoe=Zu;function Foe(){this.__data__=[],this.size=0}var Hoe=Foe;function qoe(t,e){return t===e||t!==t&&e!==e}var rE=qoe,Goe=rE;function Woe(t,e){for(var n=t.length;n--;)if(Goe(t[n][0],e))return n;return-1}var _0=Woe,Koe=_0,Xoe=Array.prototype,Yoe=Xoe.splice;function Qoe(t){var e=this.__data__,n=Koe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Yoe.call(e,n,1),--this.size,!0}var Zoe=Qoe,Joe=_0;function ele(t){var e=this.__data__,n=Joe(e,t);return n<0?void 0:e[n][1]}var tle=ele,nle=_0;function rle(t){return nle(this.__data__,t)>-1}var ile=rle,ale=_0;function sle(t,e){var n=this.__data__,r=ale(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ole=sle,lle=Hoe,cle=Zoe,ule=tle,dle=ile,fle=ole;function Ju(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ju.prototype.clear=lle;Ju.prototype.delete=cle;Ju.prototype.get=ule;Ju.prototype.has=dle;Ju.prototype.set=fle;var w0=Ju,hle=Ol,ple=oa,mle=hle(ple,"Map"),iE=mle,VC=zoe,gle=w0,vle=iE;function yle(){this.size=0,this.__data__={hash:new VC,map:new(vle||gle),string:new VC}}var xle=yle;function ble(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _le=ble,wle=_le;function Ale(t,e){var n=t.__data__;return wle(e)?n[typeof e=="string"?"string":"hash"]:n.map}var A0=Ale,Sle=A0;function Ele(t){var e=Sle(this,t).delete(t);return this.size-=e?1:0,e}var jle=Ele,Tle=A0;function Nle(t){return Tle(this,t).get(t)}var Ole=Nle,Cle=A0;function Ile(t){return Cle(this,t).has(t)}var kle=Ile,Ple=A0;function Rle(t,e){var n=Ple(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Mle=Rle,Dle=xle,$le=jle,Lle=Ole,Ble=kle,Ule=Mle;function ed(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ed.prototype.clear=Dle;ed.prototype.delete=$le;ed.prototype.get=Lle;ed.prototype.has=Ble;ed.prototype.set=Ule;var aE=ed,i5=aE,Vle="Expected a function";function sE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vle);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(sE.Cache||i5),n}sE.Cache=i5;var a5=sE;const zle=it(a5);var Fle=a5,Hle=500;function qle(t){var e=Fle(t,function(r){return n.size===Hle&&n.clear(),r}),n=e.cache;return e}var Gle=qle,Wle=Gle,Kle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xle=/\\(\\)?/g,Yle=Wle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kle,function(n,r,i,a){e.push(i?a.replace(Xle,"$1"):r||n)}),e}),Qle=Yle;function Zle(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var oE=Zle,zC=xp,Jle=oE,ece=wr,tce=Yu,FC=zC?zC.prototype:void 0,HC=FC?FC.toString:void 0;function s5(t){if(typeof t=="string")return t;if(ece(t))return Jle(t,s5)+"";if(tce(t))return HC?HC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var nce=s5,rce=nce;function ice(t){return t==null?"":rce(t)}var o5=ice,ace=wr,sce=tE,oce=Qle,lce=o5;function cce(t,e){return ace(t)?t:sce(t,e)?[t]:oce(lce(t))}var l5=cce,uce=Yu;function dce(t){if(typeof t=="string"||uce(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var S0=dce,fce=l5,hce=S0;function pce(t,e){e=fce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[hce(e[n++])];return n&&n==r?t:void 0}var lE=pce,mce=lE;function gce(t,e,n){var r=t==null?void 0:mce(t,e);return r===void 0?n:r}var c5=gce;const Hr=it(c5);function vce(t){return t==null}var yce=vce;const Re=it(yce);var xce=Qa,bce=wr,_ce=Za,wce="[object String]";function Ace(t){return typeof t=="string"||!bce(t)&&_ce(t)&&xce(t)==wce}var Sce=Ace;const cl=it(Sce);var u5={exports:{}},ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=Symbol.for("react.element"),uE=Symbol.for("react.portal"),E0=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),Ece=Symbol.for("react.server_context"),C0=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),k0=Symbol.for("react.suspense_list"),P0=Symbol.for("react.memo"),R0=Symbol.for("react.lazy"),jce=Symbol.for("react.offscreen"),d5;d5=Symbol.for("react.module.reference");function fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cE:switch(t=t.type,t){case E0:case T0:case j0:case I0:case k0:return t;default:switch(t=t&&t.$$typeof,t){case Ece:case O0:case C0:case R0:case P0:case N0:return t;default:return e}}case uE:return e}}}ot.ContextConsumer=O0;ot.ContextProvider=N0;ot.Element=cE;ot.ForwardRef=C0;ot.Fragment=E0;ot.Lazy=R0;ot.Memo=P0;ot.Portal=uE;ot.Profiler=T0;ot.StrictMode=j0;ot.Suspense=I0;ot.SuspenseList=k0;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return fi(t)===O0};ot.isContextProvider=function(t){return fi(t)===N0};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cE};ot.isForwardRef=function(t){return fi(t)===C0};ot.isFragment=function(t){return fi(t)===E0};ot.isLazy=function(t){return fi(t)===R0};ot.isMemo=function(t){return fi(t)===P0};ot.isPortal=function(t){return fi(t)===uE};ot.isProfiler=function(t){return fi(t)===T0};ot.isStrictMode=function(t){return fi(t)===j0};ot.isSuspense=function(t){return fi(t)===I0};ot.isSuspenseList=function(t){return fi(t)===k0};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===E0||t===T0||t===j0||t===I0||t===k0||t===jce||typeof t=="object"&&t!==null&&(t.$$typeof===R0||t.$$typeof===P0||t.$$typeof===N0||t.$$typeof===O0||t.$$typeof===C0||t.$$typeof===d5||t.getModuleId!==void 0)};ot.typeOf=fi;u5.exports=ot;var Tce=u5.exports,Nce=Qa,Oce=Za,Cce="[object Number]";function Ice(t){return typeof t=="number"||Oce(t)&&Nce(t)==Cce}var f5=Ice;const kce=it(f5);var Pce=f5;function Rce(t){return Pce(t)&&t!=+t}var Mce=Rce;const td=it(Mce);var ar=function(e){return e===0?0:e>0?1:-1},Mo=function(e){return cl(e)&&e.indexOf("%")===e.length-1},oe=function(e){return kce(e)&&!td(e)},dn=function(e){return oe(e)||cl(e)},Dce=0,Cl=function(e){var n=++Dce;return"".concat(e||"").concat(n)},sr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!cl(e))return r;var a;if(Mo(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return td(a)&&(a=r),i&&a>n&&(a=n),a},bs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$ce=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},cn=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function ov(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Hr(r,e))===n})}var Lce=function(e,n){return oe(e)&&oe(n)?e-n:cl(e)&&cl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function kc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function P_(t){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(t)}var Bce=["viewBox","children"],Uce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qC=["points","pathLength"],Cb={svg:Bce,polygon:qC,polyline:qC},dE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!Qu(r))return null;var i={};return Object.keys(r).forEach(function(a){dE.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Vce=function(e,n,r){return function(i){return e(n,r,i),null}},ul=function(e,n,r){if(!Qu(e)||P_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];dE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Vce(s,n,r))}),i},zce=["children"],Fce=["children"];function GC(t,e){if(t==null)return{};var n=Hce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R_(t){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(t)}var WC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ma=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},KC=null,Ib=null,fE=function t(e){if(e===KC&&Array.isArray(Ib))return Ib;var n=[];return k.Children.forEach(e,function(r){Re(r)||(Tce.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ib=n,KC=e,n};function qr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ma(i)}):r=[Ma(e)],fE(t).forEach(function(i){var a=Hr(i,"type.displayName")||Hr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function kr(t,e){var n=qr(t,e);return n&&n[0]}var XC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},qce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gce=function(e){return e&&e.type&&cl(e.type)&&qce.indexOf(e.type)>=0},h5=function(e){return e&&R_(e)==="object"&&"clipDot"in e},Wce=function(e,n,r,i){var a,s=(a=Cb==null?void 0:Cb[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Oe(e)&&(i&&s.includes(n)||Uce.includes(n))||r&&dE.includes(n)},_e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!Qu(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;Wce((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},M_=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return YC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!YC(a,s))return!1}return!0},YC=function(e,n){if(Re(e)&&Re(n))return!0;if(!Re(e)&&!Re(n)){var r=e.props||{},i=r.children,a=GC(r,zce),s=n.props||{},l=s.children,c=GC(s,Fce);return i&&l?kc(a,c)&&M_(i,l):!i&&!l?kc(a,c):!1}return!1},QC=function(e,n){var r=[],i={};return fE(e).forEach(function(a,s){if(Gce(a))r.push(a);else if(a){var l=Ma(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);r.push(f),i[l]=!0}}}),r},Kce=function(e){var n=e&&e.type;return n&&WC[n]?WC[n]:null},Xce=function(e,n){return fE(n).indexOf(e)},Yce=["children","width","height","viewBox","className","style","title","desc"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function Qce(t,e){if(t==null)return{};var n=Zce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,u=Qce(t,Yce),d=i||{width:n,height:r,x:0,y:0},f=$e("recharts-surface",a);return D.createElement("svg",D_({},_e(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,l),D.createElement("desc",null,c),e)}var Jce=["children","className"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function eue(t,e){if(t==null)return{};var n=tue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var He=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=eue(t,Jce),a=$e("recharts-layer",r);return D.createElement("g",L_({className:a},_e(i,!0),{ref:e}),n)}),Ti=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function nue(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var rue=nue,iue=rue;function aue(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:iue(t,e,n)}var sue=aue,oue="\\ud800-\\udfff",lue="\\u0300-\\u036f",cue="\\ufe20-\\ufe2f",uue="\\u20d0-\\u20ff",due=lue+cue+uue,fue="\\ufe0e\\ufe0f",hue="\\u200d",pue=RegExp("["+hue+oue+due+fue+"]");function mue(t){return pue.test(t)}var p5=mue;function gue(t){return t.split("")}var vue=gue,m5="\\ud800-\\udfff",yue="\\u0300-\\u036f",xue="\\ufe20-\\ufe2f",bue="\\u20d0-\\u20ff",_ue=yue+xue+bue,wue="\\ufe0e\\ufe0f",Aue="["+m5+"]",B_="["+_ue+"]",U_="\\ud83c[\\udffb-\\udfff]",Sue="(?:"+B_+"|"+U_+")",g5="[^"+m5+"]",v5="(?:\\ud83c[\\udde6-\\uddff]){2}",y5="[\\ud800-\\udbff][\\udc00-\\udfff]",Eue="\\u200d",x5=Sue+"?",b5="["+wue+"]?",jue="(?:"+Eue+"(?:"+[g5,v5,y5].join("|")+")"+b5+x5+")*",Tue=b5+x5+jue,Nue="(?:"+[g5+B_+"?",B_,v5,y5,Aue].join("|")+")",Oue=RegExp(U_+"(?="+U_+")|"+Nue+Tue,"g");function Cue(t){return t.match(Oue)||[]}var Iue=Cue,kue=vue,Pue=p5,Rue=Iue;function Mue(t){return Pue(t)?Rue(t):kue(t)}var Due=Mue,$ue=sue,Lue=p5,Bue=Due,Uue=o5;function Vue(t){return function(e){e=Uue(e);var n=Lue(e)?Bue(e):void 0,r=n?n[0]:e.charAt(0),i=n?$ue(n,1).join(""):e.slice(1);return r[t]()+i}}var zue=Vue,Fue=zue,Hue=Fue("toUpperCase"),que=Hue;const M0=it(que);function bt(t){return function(){return t}}const _5=Math.cos,cv=Math.sin,Pi=Math.sqrt,uv=Math.PI,D0=2*uv,V_=Math.PI,z_=2*V_,No=1e-6,Gue=z_-No;function w5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Wue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Kue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w5:Wue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,u=i-n,d=s-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>No)if(!(Math.abs(f*c-u*d)>No)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-s,v=i-l,y=c*c+u*u,b=m*m+v*v,_=Math.sqrt(y),x=Math.sqrt(h),g=a*Math.tan((V_-Math.acos((y+h-b)/(2*_*x)))/2),j=g/x,w=g/_;Math.abs(j-1)>No&&this._append`L${e+j*d},${n+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=e+w*c},${this._y1=n+w*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>No||Math.abs(this._y1-d)>No)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%z_+z_),h>Gue?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>No&&this._append`A${r},${r},0,${+(h>=V_)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Kue(e)}function pE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function A5(t){this._context=t}A5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $0(t){return new A5(t)}function S5(t){return t[0]}function E5(t){return t[1]}function j5(t,e){var n=bt(!0),r=null,i=$0,a=null,s=hE(l);t=typeof t=="function"?t:t===void 0?S5:bt(t),e=typeof e=="function"?e:e===void 0?E5:bt(e);function l(c){var u,d=(c=pE(c)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function wm(t,e,n){var r=null,i=bt(!0),a=null,s=$0,l=null,c=hE(u);t=typeof t=="function"?t:t===void 0?S5:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?E5:bt(+n);function u(f){var h,m,v,y=(f=pE(f)).length,b,_=!1,x,g=new Array(y),j=new Array(y);for(a==null&&(l=s(x=c())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===_)if(_=!_)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(g[v],j[v]);l.lineEnd(),l.areaEnd()}_&&(g[h]=+t(b,h,f),j[h]=+e(b,h,f),l.point(r?+r(b,h,f):g[h],n?+n(b,h,f):j[h]))}if(x)return l=null,x+""||null}function d(){return j5().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:bt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class T5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xue(t){return new T5(t,!0)}function Yue(t){return new T5(t,!1)}const mE={draw(t,e){const n=Pi(e/uv);t.moveTo(n,0),t.arc(0,0,n,0,D0)}},Que={draw(t,e){const n=Pi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},N5=Pi(1/3),Zue=N5*2,Jue={draw(t,e){const n=Pi(e/Zue),r=n*N5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ede={draw(t,e){const n=Pi(e),r=-n/2;t.rect(r,r,n,n)}},tde=.8908130915292852,O5=cv(uv/10)/cv(7*uv/10),nde=cv(D0/10)*O5,rde=-_5(D0/10)*O5,ide={draw(t,e){const n=Pi(e*tde),r=nde*n,i=rde*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=D0*a/5,l=_5(s),c=cv(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},kb=Pi(3),ade={draw(t,e){const n=-Pi(e/(kb*3));t.moveTo(0,n*2),t.lineTo(-kb*n,-n),t.lineTo(kb*n,-n),t.closePath()}},Wr=-.5,Kr=Pi(3)/2,F_=1/Pi(12),sde=(F_/2+1)*3,ode={draw(t,e){const n=Pi(e/sde),r=n/2,i=n*F_,a=r,s=n*F_+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(Wr*r-Kr*i,Kr*r+Wr*i),t.lineTo(Wr*a-Kr*s,Kr*a+Wr*s),t.lineTo(Wr*l-Kr*c,Kr*l+Wr*c),t.lineTo(Wr*r+Kr*i,Wr*i-Kr*r),t.lineTo(Wr*a+Kr*s,Wr*s-Kr*a),t.lineTo(Wr*l+Kr*c,Wr*c-Kr*l),t.closePath()}};function lde(t,e){let n=null,r=hE(i);t=typeof t=="function"?t:bt(t||mE),e=typeof e=="function"?e:bt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:bt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:bt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function dv(){}function fv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cde(t){return new C5(t)}function I5(t){this._context=t}I5.prototype={areaStart:dv,areaEnd:dv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ude(t){return new I5(t)}function k5(t){this._context=t}k5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dde(t){return new k5(t)}function P5(t){this._context=t}P5.prototype={areaStart:dv,areaEnd:dv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fde(t){return new P5(t)}function ZC(t){return t<0?-1:1}function JC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(ZC(a)+ZC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function eI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Pb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function hv(t){this._context=t}hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pb(this,this._t0,eI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Pb(this,eI(this,n=JC(this,t,e)),n);break;default:Pb(this,this._t0,n=JC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function R5(t){this._context=new M5(t)}(R5.prototype=Object.create(hv.prototype)).point=function(t,e){hv.prototype.point.call(this,e,t)};function M5(t){this._context=t}M5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function hde(t){return new hv(t)}function pde(t){return new R5(t)}function D5(t){this._context=t}D5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=tI(t),i=tI(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function tI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mde(t){return new D5(t)}function L0(t,e){this._context=t,this._t=e}L0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gde(t){return new L0(t,.5)}function vde(t){return new L0(t,0)}function yde(t){return new L0(t,1)}function iu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function H_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xde(t,e){return t[e]}function bde(t){const e=[];return e.key=t,e}function _de(){var t=bt([]),e=H_,n=iu,r=xde;function i(a){var s=Array.from(t.apply(this,arguments),bde),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+r(f,s[l].key,u,a)]).data=f;for(l=0,d=pE(e(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:bt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:bt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?H_:typeof a=="function"?a:bt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??iu,i):n},i}function wde(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}iu(t,e)}}function Ade(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}iu(t,e)}}function Sde(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var y=t[e[v]],b=y[r][1]||0,_=y[r-1][1]||0;m+=b-_}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,iu(t,e)}}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}var Ede=["type","size","sizeType"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e,n){return e=Tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=Nde(t,"string");return ih(e)=="symbol"?e:e+""}function Nde(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ode(t,e){if(t==null)return{};var n=Cde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $5={symbolCircle:mE,symbolCross:Que,symbolDiamond:Jue,symbolSquare:ede,symbolStar:ide,symbolTriangle:ade,symbolWye:ode},Ide=Math.PI/180,kde=function(e){var n="symbol".concat(M0(e));return $5[n]||mE},Pde=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Ide;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Rde=function(e,n){$5["symbol".concat(M0(e))]=n},gE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=Ode(e,Ede),u=rI(rI({},c),{},{type:r,size:a,sizeType:l}),d=function(){var b=kde(r),_=lde().type(b).size(Pde(a,l,r));return _()},f=u.className,h=u.cx,m=u.cy,v=_e(u,!0);return h===+h&&m===+m&&a===+a?D.createElement("path",q_({},v,{className:$e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};gE.registerSymbol=Rde;function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B5(r.key),r)}}function Lde(t,e,n){return e&&$de(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bde(t,e,n){return e=pv(e),Ude(t,L5()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function Ude(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vde(t)}function Vde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function ah(t,e,n){return e=B5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B5(t){var e=Fde(t,"string");return au(e)=="symbol"?e:e+""}function Fde(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vi=32,vE=function(t){function e(){return Dde(this,e),Bde(this,e,arguments)}return zde(e,t),Lde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=vi/2,s=vi/6,l=vi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:vi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(vi,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(vi/8,"h").concat(vi,"v").concat(vi*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=Mde({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(gE,{fill:c,cx:a,cy:a,size:vi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:vi,height:vi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,v){var y=m.formatter||c,b=$e(ah(ah({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=Oe(m.value)?null:m.value;Ti(!Oe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return D.createElement("li",G_({className:b,style:f,key:"legend-item-".concat(v)},ul(r.props,m,v)),D.createElement($_,{width:s,height:s,viewBox:d,style:h},r.renderIcon(m)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(_,m,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);ah(vE,"displayName","Legend");ah(vE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hde=w0;function qde(){this.__data__=new Hde,this.size=0}var Gde=qde;function Wde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Kde=Wde;function Xde(t){return this.__data__.get(t)}var Yde=Xde;function Qde(t){return this.__data__.has(t)}var Zde=Qde,Jde=w0,efe=iE,tfe=aE,nfe=200;function rfe(t,e){var n=this.__data__;if(n instanceof Jde){var r=n.__data__;if(!efe||r.length<nfe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tfe(r)}return n.set(t,e),this.size=n.size,this}var ife=rfe,afe=w0,sfe=Gde,ofe=Kde,lfe=Yde,cfe=Zde,ufe=ife;function nd(t){var e=this.__data__=new afe(t);this.size=e.size}nd.prototype.clear=sfe;nd.prototype.delete=ofe;nd.prototype.get=lfe;nd.prototype.has=cfe;nd.prototype.set=ufe;var U5=nd,dfe="__lodash_hash_undefined__";function ffe(t){return this.__data__.set(t,dfe),this}var hfe=ffe;function pfe(t){return this.__data__.has(t)}var mfe=pfe,gfe=aE,vfe=hfe,yfe=mfe;function mv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gfe;++e<n;)this.add(t[e])}mv.prototype.add=mv.prototype.push=vfe;mv.prototype.has=yfe;var V5=mv;function xfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var z5=xfe;function bfe(t,e){return t.has(e)}var F5=bfe,_fe=V5,wfe=z5,Afe=F5,Sfe=1,Efe=2;function jfe(t,e,n,r,i,a){var s=n&Sfe,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&Efe?new _fe:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var v=t[f],y=e[f];if(r)var b=s?r(y,v,f,e,t,a):r(v,y,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!wfe(e,function(_,x){if(!Afe(m,x)&&(v===_||i(v,_,n,r,a)))return m.push(x)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var H5=jfe,Tfe=oa,Nfe=Tfe.Uint8Array,Ofe=Nfe;function Cfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ife=Cfe;function kfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var yE=kfe,aI=xp,sI=Ofe,Pfe=rE,Rfe=H5,Mfe=Ife,Dfe=yE,$fe=1,Lfe=2,Bfe="[object Boolean]",Ufe="[object Date]",Vfe="[object Error]",zfe="[object Map]",Ffe="[object Number]",Hfe="[object RegExp]",qfe="[object Set]",Gfe="[object String]",Wfe="[object Symbol]",Kfe="[object ArrayBuffer]",Xfe="[object DataView]",oI=aI?aI.prototype:void 0,Rb=oI?oI.valueOf:void 0;function Yfe(t,e,n,r,i,a,s){switch(n){case Xfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Kfe:return!(t.byteLength!=e.byteLength||!a(new sI(t),new sI(e)));case Bfe:case Ufe:case Ffe:return Pfe(+t,+e);case Vfe:return t.name==e.name&&t.message==e.message;case Hfe:case Gfe:return t==e+"";case zfe:var l=Mfe;case qfe:var c=r&$fe;if(l||(l=Dfe),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=Lfe,s.set(t,e);var d=Rfe(l(t),l(e),r,i,a,s);return s.delete(t),d;case Wfe:if(Rb)return Rb.call(t)==Rb.call(e)}return!1}var Qfe=Yfe;function Zfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var q5=Zfe,Jfe=q5,ehe=wr;function the(t,e,n){var r=e(t);return ehe(t)?r:Jfe(r,n(t))}var nhe=the;function rhe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var ihe=rhe;function ahe(){return[]}var she=ahe,ohe=ihe,lhe=she,che=Object.prototype,uhe=che.propertyIsEnumerable,lI=Object.getOwnPropertySymbols,dhe=lI?function(t){return t==null?[]:(t=Object(t),ohe(lI(t),function(e){return uhe.call(t,e)}))}:lhe,fhe=dhe;function hhe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var phe=hhe,mhe=Qa,ghe=Za,vhe="[object Arguments]";function yhe(t){return ghe(t)&&mhe(t)==vhe}var xhe=yhe,cI=xhe,bhe=Za,G5=Object.prototype,_he=G5.hasOwnProperty,whe=G5.propertyIsEnumerable,Ahe=cI(function(){return arguments}())?cI:function(t){return bhe(t)&&_he.call(t,"callee")&&!whe.call(t,"callee")},xE=Ahe,gv={exports:{}};function She(){return!1}var Ehe=She;gv.exports;(function(t,e){var n=oa,r=Ehe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(gv,gv.exports);var W5=gv.exports,jhe=9007199254740991,The=/^(?:0|[1-9]\d*)$/;function Nhe(t,e){var n=typeof t;return e=e??jhe,!!e&&(n=="number"||n!="symbol"&&The.test(t))&&t>-1&&t%1==0&&t<e}var bE=Nhe,Ohe=9007199254740991;function Che(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ohe}var _E=Che,Ihe=Qa,khe=_E,Phe=Za,Rhe="[object Arguments]",Mhe="[object Array]",Dhe="[object Boolean]",$he="[object Date]",Lhe="[object Error]",Bhe="[object Function]",Uhe="[object Map]",Vhe="[object Number]",zhe="[object Object]",Fhe="[object RegExp]",Hhe="[object Set]",qhe="[object String]",Ghe="[object WeakMap]",Whe="[object ArrayBuffer]",Khe="[object DataView]",Xhe="[object Float32Array]",Yhe="[object Float64Array]",Qhe="[object Int8Array]",Zhe="[object Int16Array]",Jhe="[object Int32Array]",epe="[object Uint8Array]",tpe="[object Uint8ClampedArray]",npe="[object Uint16Array]",rpe="[object Uint32Array]",Et={};Et[Xhe]=Et[Yhe]=Et[Qhe]=Et[Zhe]=Et[Jhe]=Et[epe]=Et[tpe]=Et[npe]=Et[rpe]=!0;Et[Rhe]=Et[Mhe]=Et[Whe]=Et[Dhe]=Et[Khe]=Et[$he]=Et[Lhe]=Et[Bhe]=Et[Uhe]=Et[Vhe]=Et[zhe]=Et[Fhe]=Et[Hhe]=Et[qhe]=Et[Ghe]=!1;function ipe(t){return Phe(t)&&khe(t.length)&&!!Et[Ihe(t)]}var ape=ipe;function spe(t){return function(e){return t(e)}}var K5=spe,vv={exports:{}};vv.exports;(function(t,e){var n=t5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(vv,vv.exports);var ope=vv.exports,lpe=ape,cpe=K5,uI=ope,dI=uI&&uI.isTypedArray,upe=dI?cpe(dI):lpe,X5=upe,dpe=phe,fpe=xE,hpe=wr,ppe=W5,mpe=bE,gpe=X5,vpe=Object.prototype,ype=vpe.hasOwnProperty;function xpe(t,e){var n=hpe(t),r=!n&&fpe(t),i=!n&&!r&&ppe(t),a=!n&&!r&&!i&&gpe(t),s=n||r||i||a,l=s?dpe(t.length,String):[],c=l.length;for(var u in t)(e||ype.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mpe(u,c)))&&l.push(u);return l}var bpe=xpe,_pe=Object.prototype;function wpe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||_pe;return t===n}var Ape=wpe;function Spe(t,e){return function(n){return t(e(n))}}var Y5=Spe,Epe=Y5,jpe=Epe(Object.keys,Object),Tpe=jpe,Npe=Ape,Ope=Tpe,Cpe=Object.prototype,Ipe=Cpe.hasOwnProperty;function kpe(t){if(!Npe(t))return Ope(t);var e=[];for(var n in Object(t))Ipe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ppe=kpe,Rpe=nE,Mpe=_E;function Dpe(t){return t!=null&&Mpe(t.length)&&!Rpe(t)}var bp=Dpe,$pe=bpe,Lpe=Ppe,Bpe=bp;function Upe(t){return Bpe(t)?$pe(t):Lpe(t)}var B0=Upe,Vpe=nhe,zpe=fhe,Fpe=B0;function Hpe(t){return Vpe(t,Fpe,zpe)}var qpe=Hpe,fI=qpe,Gpe=1,Wpe=Object.prototype,Kpe=Wpe.hasOwnProperty;function Xpe(t,e,n,r,i,a){var s=n&Gpe,l=fI(t),c=l.length,u=fI(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in e:Kpe.call(e,h)))return!1}var m=a.get(t),v=a.get(e);if(m&&v)return m==e&&v==t;var y=!0;a.set(t,e),a.set(e,t);for(var b=s;++f<c;){h=l[f];var _=t[h],x=e[h];if(r)var g=s?r(x,_,h,e,t,a):r(_,x,h,t,e,a);if(!(g===void 0?_===x||i(_,x,n,r,a):g)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var j=t.constructor,w=e.constructor;j!=w&&"constructor"in t&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof w=="function"&&w instanceof w)&&(y=!1)}return a.delete(t),a.delete(e),y}var Ype=Xpe,Qpe=Ol,Zpe=oa,Jpe=Qpe(Zpe,"DataView"),eme=Jpe,tme=Ol,nme=oa,rme=tme(nme,"Promise"),ime=rme,ame=Ol,sme=oa,ome=ame(sme,"Set"),Q5=ome,lme=Ol,cme=oa,ume=lme(cme,"WeakMap"),dme=ume,K_=eme,X_=iE,Y_=ime,Q_=Q5,Z_=dme,Z5=Qa,rd=r5,hI="[object Map]",fme="[object Object]",pI="[object Promise]",mI="[object Set]",gI="[object WeakMap]",vI="[object DataView]",hme=rd(K_),pme=rd(X_),mme=rd(Y_),gme=rd(Q_),vme=rd(Z_),Oo=Z5;(K_&&Oo(new K_(new ArrayBuffer(1)))!=vI||X_&&Oo(new X_)!=hI||Y_&&Oo(Y_.resolve())!=pI||Q_&&Oo(new Q_)!=mI||Z_&&Oo(new Z_)!=gI)&&(Oo=function(t){var e=Z5(t),n=e==fme?t.constructor:void 0,r=n?rd(n):"";if(r)switch(r){case hme:return vI;case pme:return hI;case mme:return pI;case gme:return mI;case vme:return gI}return e});var yme=Oo,Mb=U5,xme=H5,bme=Qfe,_me=Ype,yI=yme,xI=wr,bI=W5,wme=X5,Ame=1,_I="[object Arguments]",wI="[object Array]",Am="[object Object]",Sme=Object.prototype,AI=Sme.hasOwnProperty;function Eme(t,e,n,r,i,a){var s=xI(t),l=xI(e),c=s?wI:yI(t),u=l?wI:yI(e);c=c==_I?Am:c,u=u==_I?Am:u;var d=c==Am,f=u==Am,h=c==u;if(h&&bI(t)){if(!bI(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Mb),s||wme(t)?xme(t,e,n,r,i,a):bme(t,e,c,n,r,i,a);if(!(n&Ame)){var m=d&&AI.call(t,"__wrapped__"),v=f&&AI.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,b=v?e.value():e;return a||(a=new Mb),i(y,b,n,r,a)}}return h?(a||(a=new Mb),_me(t,e,n,r,i,a)):!1}var jme=Eme,Tme=jme,SI=Za;function J5(t,e,n,r,i){return t===e?!0:t==null||e==null||!SI(t)&&!SI(e)?t!==t&&e!==e:Tme(t,e,n,r,J5,i)}var wE=J5,Nme=U5,Ome=wE,Cme=1,Ime=2;function kme(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=n[i];var c=l[0],u=t[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Nme;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?Ome(d,u,Cme|Ime,r,f):h))return!1}}return!0}var Pme=kme,Rme=co;function Mme(t){return t===t&&!Rme(t)}var eB=Mme,Dme=eB,$me=B0;function Lme(t){for(var e=$me(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Dme(i)]}return e}var Bme=Lme;function Ume(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tB=Ume,Vme=Pme,zme=Bme,Fme=tB;function Hme(t){var e=zme(t);return e.length==1&&e[0][2]?Fme(e[0][0],e[0][1]):function(n){return n===t||Vme(n,t,e)}}var qme=Hme;function Gme(t,e){return t!=null&&e in Object(t)}var Wme=Gme,Kme=l5,Xme=xE,Yme=wr,Qme=bE,Zme=_E,Jme=S0;function ege(t,e,n){e=Kme(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Jme(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Zme(i)&&Qme(s,i)&&(Yme(t)||Xme(t)))}var tge=ege,nge=Wme,rge=tge;function ige(t,e){return t!=null&&rge(t,e,nge)}var age=ige,sge=wE,oge=c5,lge=age,cge=tE,uge=eB,dge=tB,fge=S0,hge=1,pge=2;function mge(t,e){return cge(t)&&uge(e)?dge(fge(t),e):function(n){var r=oge(n,t);return r===void 0&&r===e?lge(n,t):sge(e,r,hge|pge)}}var gge=mge;function vge(t){return t}var id=vge;function yge(t){return function(e){return e==null?void 0:e[t]}}var xge=yge,bge=lE;function _ge(t){return function(e){return bge(e,t)}}var wge=_ge,Age=xge,Sge=wge,Ege=tE,jge=S0;function Tge(t){return Ege(t)?Age(jge(t)):Sge(t)}var Nge=Tge,Oge=qme,Cge=gge,Ige=id,kge=wr,Pge=Nge;function Rge(t){return typeof t=="function"?t:t==null?Ige:typeof t=="object"?kge(t)?Cge(t[0],t[1]):Oge(t):Pge(t)}var la=Rge;function Mge(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var nB=Mge;function Dge(t){return t!==t}var $ge=Dge;function Lge(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Bge=Lge,Uge=nB,Vge=$ge,zge=Bge;function Fge(t,e,n){return e===e?zge(t,e,n):Uge(t,Vge,n)}var Hge=Fge,qge=Hge;function Gge(t,e){var n=t==null?0:t.length;return!!n&&qge(t,e,0)>-1}var Wge=Gge;function Kge(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Xge=Kge;function Yge(){}var Qge=Yge,Db=Q5,Zge=Qge,Jge=yE,eve=1/0,tve=Db&&1/Jge(new Db([,-0]))[1]==eve?function(t){return new Db(t)}:Zge,nve=tve,rve=V5,ive=Wge,ave=Xge,sve=F5,ove=nve,lve=yE,cve=200;function uve(t,e,n){var r=-1,i=ive,a=t.length,s=!0,l=[],c=l;if(n)s=!1,i=ave;else if(a>=cve){var u=e?null:ove(t);if(u)return lve(u);s=!1,i=sve,c=new rve}else c=e?[]:l;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var dve=uve,fve=la,hve=dve;function pve(t,e){return t&&t.length?hve(t,fve(e)):[]}var mve=pve;const EI=it(mve);function rB(t,e,n){return e===!0?EI(t,n):Oe(e)?EI(t,e):t}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var gve=["ref"];function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){U0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aB(r.key),r)}}function yve(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t,e,n){return e=yv(e),bve(t,iB()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function bve(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ve(t)}function _ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function wve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function U0(t,e,n){return e=aB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aB(t){var e=Ave(t,"string");return su(e)=="symbol"?e:e+""}function Ave(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sve(t,e){if(t==null)return{};var n=Eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jve(t){return t.value}function Tve(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Sve(e,gve);return D.createElement(vE,n)}var NI=1,Pc=function(t){function e(){var n;vve(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=xve(this,e,[].concat(i)),U0(n,"lastBoundingBox",{width:-1,height:-1}),n}return wve(e,t),yve(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>NI||Math.abs(i.height-this.lastBoundingBox.height)>NI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ga({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ga(ga({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=ga(ga({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Tve(a,ga(ga({},this.props),{},{payload:rB(d,u,jve)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ga(ga({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&oe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);U0(Pc,"displayName","Legend");U0(Pc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OI=xp,Nve=xE,Ove=wr,CI=OI?OI.isConcatSpreadable:void 0;function Cve(t){return Ove(t)||Nve(t)||!!(CI&&t&&t[CI])}var Ive=Cve,kve=q5,Pve=Ive;function sB(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Pve),i||(i=[]);++a<s;){var l=t[a];e>0&&n(l)?e>1?sB(l,e-1,n,r,i):kve(i,l):r||(i[i.length]=l)}return i}var oB=sB;function Rve(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),l=s.length;l--;){var c=s[t?l:++i];if(n(a[c],c,a)===!1)break}return e}}var Mve=Rve,Dve=Mve,$ve=Dve(),Lve=$ve,Bve=Lve,Uve=B0;function Vve(t,e){return t&&Bve(t,e,Uve)}var lB=Vve,zve=bp;function Fve(t,e){return function(n,r){if(n==null)return n;if(!zve(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Hve=Fve,qve=lB,Gve=Hve,Wve=Gve(qve),AE=Wve,Kve=AE,Xve=bp;function Yve(t,e){var n=-1,r=Xve(t)?Array(t.length):[];return Kve(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var cB=Yve;function Qve(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Zve=Qve,II=Yu;function Jve(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=II(t),s=e!==void 0,l=e===null,c=e===e,u=II(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}var eye=Jve,tye=eye;function nye(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,l=n.length;++r<s;){var c=tye(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var rye=nye,$b=oE,iye=lE,aye=la,sye=cB,oye=Zve,lye=K5,cye=rye,uye=id,dye=wr;function fye(t,e,n){e.length?e=$b(e,function(a){return dye(a)?function(s){return iye(s,a.length===1?a[0]:a)}:a}):e=[uye];var r=-1;e=$b(e,lye(aye));var i=sye(t,function(a,s,l){var c=$b(e,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return oye(i,function(a,s){return cye(a,s,n)})}var hye=fye;function pye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mye=pye,gye=mye,kI=Math.max;function vye(t,e,n){return e=kI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=kI(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),gye(t,this,l)}}var yye=vye;function xye(t){return function(){return t}}var bye=xye,_ye=Ol,wye=function(){try{var t=_ye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uB=wye,Aye=bye,PI=uB,Sye=id,Eye=PI?function(t,e){return PI(t,"toString",{configurable:!0,enumerable:!1,value:Aye(e),writable:!0})}:Sye,jye=Eye,Tye=800,Nye=16,Oye=Date.now;function Cye(t){var e=0,n=0;return function(){var r=Oye(),i=Nye-(r-n);if(n=r,i>0){if(++e>=Tye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Iye=Cye,kye=jye,Pye=Iye,Rye=Pye(kye),Mye=Rye,Dye=id,$ye=yye,Lye=Mye;function Bye(t,e){return Lye($ye(t,e,Dye),t+"")}var Uye=Bye,Vye=rE,zye=bp,Fye=bE,Hye=co;function qye(t,e,n){if(!Hye(n))return!1;var r=typeof e;return(r=="number"?zye(n)&&Fye(e,n.length):r=="string"&&e in n)?Vye(n[e],t):!1}var V0=qye,Gye=oB,Wye=hye,Kye=Uye,RI=V0,Xye=Kye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&RI(t,e[0],e[1])?e=[]:n>2&&RI(e[0],e[1],e[2])&&(e=[e[0]]),Wye(t,Gye(e,1),[])}),Yye=Xye;const SE=it(Yye);function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function Qye(t,e){return t0e(t)||e0e(t,e)||Jye(t,e)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jye(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function t0e(t){if(Array.isArray(t))return t}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){n0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0e(t,e,n){return e=r0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r0e(t){var e=i0e(t,"string");return sh(e)=="symbol"?e:e+""}function i0e(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a0e(t){return Array.isArray(t)&&dn(t[0])&&dn(t[1])?t.join(" ~ "):t}var s0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,_=e.accessibilityLayer,x=_===void 0?!1:_,g=function(){if(d&&d.length){var R={padding:0,margin:0},P=(h?SE(d,h):d).map(function(z,V){if(z.type==="none")return null;var B=Lb({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),L=z.formatter||f||a0e,U=z.value,W=z.name,G=U,te=W;if(L&&G!=null&&te!=null){var F=L(U,W,z,V,d);if(Array.isArray(F)){var $=Qye(F,2);G=$[0],te=$[1]}else G=F}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:B},dn(te)?D.createElement("span",{className:"recharts-tooltip-item-name"},te):null,dn(te)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:R},P)}return null},j=Lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Lb({margin:0},u),T=!Re(y),S=T?y:"",A=$e("recharts-default-tooltip",m),N=$e("recharts-tooltip-label",v);T&&b&&d!==void 0&&d!==null&&(S=b(y,d));var I=x?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",ew({className:A,style:j},I),D.createElement("p",{className:N,style:w},D.isValidElement(S)?S:"".concat(S)),g())};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function Sm(t,e,n){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0e(t){var e=l0e(t,"string");return oh(e)=="symbol"?e:e+""}function l0e(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dd="recharts-tooltip-wrapper",c0e={visibility:"hidden"};function u0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return $e(Dd,Sm(Sm(Sm(Sm({},"".concat(Dd,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(Dd,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(Dd,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(Dd,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function $I(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&oe(a[r]))return a[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+l,y=c[r]+u;return v>y?Math.max(d,c[r]):Math.max(f,c[r])}function d0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function f0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=$I({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=$I({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=d0e({translateX:d,translateY:f,useTranslate3d:l})):u=c0e,{cssProperties:u,cssClasses:u0e({translateX:d,translateY:f,coordinate:n})}}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function m0e(t,e,n){return e&&p0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g0e(t,e,n){return e=xv(e),v0e(t,dB()?Reflect.construct(e,n||[],xv(t).constructor):e.apply(t,n))}function v0e(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y0e(t)}function y0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(t)}function x0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function nw(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=b0e(t,"string");return ou(e)=="symbol"?e:e+""}function b0e(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UI=1,_0e=function(t){function e(){var n;h0e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=g0e(this,e,[].concat(i)),nw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return x0e(e,t),m0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>UI||Math.abs(r.height-this.state.lastBoundingBox.height)>UI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,x=i.wrapperStyle,g=f0e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),j=g.cssClasses,w=g.cssProperties,T=BI(BI({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return D.createElement("div",{tabIndex:-1,className:j,style:T,ref:function(A){r.wrapperNode=A}},u)}}])}(k.PureComponent),w0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uo={isSsr:w0e()};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){EE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pB(r.key),r)}}function E0e(t,e,n){return e&&S0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j0e(t,e,n){return e=bv(e),T0e(t,hB()?Reflect.construct(e,n||[],bv(t).constructor):e.apply(t,n))}function T0e(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N0e(t)}function N0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hB=function(){return!!t})()}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(t)}function O0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rw(t,e)}function EE(t,e,n){return e=pB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t){var e=C0e(t,"string");return lu(e)=="symbol"?e:e+""}function C0e(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I0e(t){return t.dataKey}function k0e(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(s0e,e)}var nr=function(t){function e(){return A0e(this,e),j0e(this,e,arguments)}return O0e(e,t),E0e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,_=i.reverseDirection,x=i.useTranslate3d,g=i.viewBox,j=i.wrapperStyle,w=v??[];f&&w.length&&(w=rB(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,I0e));var T=w.length>0;return D.createElement(_0e,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:T,offset:m,position:b,reverseDirection:_,useTranslate3d:x,viewBox:g,wrapperStyle:j},k0e(u,zI(zI({},this.props),{},{payload:w})))}}])}(k.PureComponent);EE(nr,"displayName","Tooltip");EE(nr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var P0e=oa,R0e=function(){return P0e.Date.now()},M0e=R0e,D0e=/\s/;function $0e(t){for(var e=t.length;e--&&D0e.test(t.charAt(e)););return e}var L0e=$0e,B0e=L0e,U0e=/^\s+/;function V0e(t){return t&&t.slice(0,B0e(t)+1).replace(U0e,"")}var z0e=V0e,F0e=z0e,FI=co,H0e=Yu,HI=NaN,q0e=/^[-+]0x[0-9a-f]+$/i,G0e=/^0b[01]+$/i,W0e=/^0o[0-7]+$/i,K0e=parseInt;function X0e(t){if(typeof t=="number")return t;if(H0e(t))return HI;if(FI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=FI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=F0e(t);var n=G0e.test(t);return n||W0e.test(t)?K0e(t.slice(2),n?2:8):q0e.test(t)?HI:+t}var mB=X0e,Y0e=co,Bb=M0e,qI=mB,Q0e="Expected a function",Z0e=Math.max,J0e=Math.min;function exe(t,e,n){var r,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Q0e);e=qI(e)||0,Y0e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?Z0e(qI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(T){var S=r,A=i;return r=i=void 0,u=T,s=t.apply(A,S),s}function v(T){return u=T,l=setTimeout(_,e),d?m(T):s}function y(T){var S=T-c,A=T-u,N=e-S;return f?J0e(N,a-A):N}function b(T){var S=T-c,A=T-u;return c===void 0||S>=e||S<0||f&&A>=a}function _(){var T=Bb();if(b(T))return x(T);l=setTimeout(_,y(T))}function x(T){return l=void 0,h&&r?m(T):(r=i=void 0,s)}function g(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function j(){return l===void 0?s:x(Bb())}function w(){var T=Bb(),S=b(T);if(r=arguments,i=this,c=T,S){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(_,e),m(c)}return l===void 0&&(l=setTimeout(_,e)),s}return w.cancel=g,w.flush=j,w}var txe=exe,nxe=txe,rxe=co,ixe="Expected a function";function axe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ixe);return rxe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nxe(t,e,{leading:r,maxWait:e,trailing:i})}var sxe=axe;const gB=it(sxe);function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oxe(t,e,n){return e=lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lxe(t){var e=cxe(t,"string");return lh(e)=="symbol"?e:e+""}function cxe(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uxe(t,e){return pxe(t)||hxe(t,e)||fxe(t,e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function pxe(t){if(Array.isArray(t))return t}var pc=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,_=t.className,x=t.onResize,g=t.style,j=g===void 0?{}:g,w=k.useRef(null),T=k.useRef();T.current=x,k.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=k.useState({containerWidth:i.width,containerHeight:i.height}),A=uxe(S,2),N=A[0],I=A[1],C=k.useCallback(function(P,z){I(function(V){var B=Math.round(P),L=Math.round(z);return V.containerWidth===B&&V.containerHeight===L?V:{containerWidth:B,containerHeight:L}})},[]);k.useEffect(function(){var P=function(W){var G,te=W[0].contentRect,F=te.width,$=te.height;C(F,$),(G=T.current)===null||G===void 0||G.call(T,F,$)};y>0&&(P=gB(P,y,{trailing:!0,leading:!1}));var z=new ResizeObserver(P),V=w.current.getBoundingClientRect(),B=V.width,L=V.height;return C(B,L),z.observe(w.current),function(){z.disconnect()}},[C,y]);var R=k.useMemo(function(){var P=N.containerWidth,z=N.containerHeight;if(P<0||z<0)return null;Ti(Mo(s)||Mo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Mo(s)?P:s,B=Mo(c)?z:c;n&&n>0&&(V?B=V/n:B&&(V=B*n),h&&B>h&&(B=h)),Ti(V>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,B,s,c,d,f,n);var L=!Array.isArray(m)&&Ma(m.type).endsWith("Chart");return D.Children.map(m,function(U){return D.isValidElement(U)?k.cloneElement(U,Em({width:V,height:B},L?{style:Em({height:"100%",width:"100%",maxHeight:B,maxWidth:V},U.props.style)}:{})):U})},[n,m,c,h,f,d,N,s]);return D.createElement("div",{id:b?"".concat(b):void 0,className:$e("recharts-responsive-container",_),style:Em(Em({},j),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},R)}),cu=function(e){return null};cu.displayName="Cell";function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){mxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e,n){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gxe(t){var e=vxe(t,"string");return ch(e)=="symbol"?e:e+""}function vxe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hl={widthCache:{},cacheCount:0},yxe=2e3,xxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XI="recharts_measurement_span";function bxe(t){var e=iw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ef=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uo.isSsr)return{width:0,height:0};var r=bxe(n),i=JSON.stringify({text:e,copyStyle:r});if(Hl.widthCache[i])return Hl.widthCache[i];try{var a=document.getElementById(XI);a||(a=document.createElement("span"),a.setAttribute("id",XI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=iw(iw({},xxe),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Hl.widthCache[i]=c,++Hl.cacheCount>yxe&&(Hl.cacheCount=0,Hl.widthCache={}),c}catch{return{width:0,height:0}}},_xe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function _v(t,e){return Exe(t)||Sxe(t,e)||Axe(t,e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(t,e){if(t){if(typeof t=="string")return YI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Exe(t){if(Array.isArray(t))return t}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nxe(r.key),r)}}function Txe(t,e,n){return e&&QI(t.prototype,e),n&&QI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nxe(t){var e=Oxe(t,"string");return uh(e)=="symbol"?e:e+""}function Oxe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ixe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kxe=Object.keys(vB),mc="NaN";function Pxe(t,e){return t*vB[e]}var jm=function(){function t(e,n){jxe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Cxe.test(n)&&(this.num=NaN,this.unit=""),kxe.includes(n)&&(this.num=Pxe(e,n),this.unit="px")}return Txe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ixe.exec(n))!==null&&r!==void 0?r:[],a=_v(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])}();function yB(t){if(t.includes(mc))return mc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=ZI.exec(e))!==null&&n!==void 0?n:[],i=_v(r,4),a=i[1],s=i[2],l=i[3],c=jm.parse(a??""),u=jm.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mc;e=e.replace(ZI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=JI.exec(e))!==null&&f!==void 0?f:[],m=_v(h,4),v=m[1],y=m[2],b=m[3],_=jm.parse(v??""),x=jm.parse(b??""),g=y==="+"?_.add(x):_.subtract(x);if(g.isNaN())return mc;e=e.replace(JI,g.toString())}return e}var ek=/\(([^()]*)\)/;function Rxe(t){for(var e=t;e.includes("(");){var n=ek.exec(e),r=_v(n,2),i=r[1];e=e.replace(ek,yB(i))}return e}function Mxe(t){var e=t.replace(/\s+/g,"");return e=Rxe(e),e=yB(e),e}function Dxe(t){try{return Mxe(t)}catch{return mc}}function Ub(t){var e=Dxe(t.slice(5,-1));return e===mc?"":e}var $xe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lxe=["dx","dy","angle","className","breakAll"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function tk(t,e){if(t==null)return{};var n=Bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nk(t,e){return Fxe(t)||zxe(t,e)||Vxe(t,e)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(t,e){if(t){if(typeof t=="string")return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Fxe(t){if(Array.isArray(t))return t}var xB=/[ \f\n\r\t\v\u2028\u2029]+/,bB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Re(n)||(r?a=n.toString().split(""):a=n.toString().split(xB));var s=a.map(function(c){return{word:c,width:Ef(c,i).width}}),l=r?0:Ef(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Hxe=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=oe(s),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(B,L){var U=L.word,W=L.width,G=B[B.length-1];if(G&&(i==null||a||G.width+W+r<Number(i)))G.words.push(U),G.width+=W+r;else{var te={words:[U],width:W};B.push(te)}return B},[])},m=h(n),v=function(V){return V.reduce(function(B,L){return B.width>L.width?B:L})};if(!d)return m;for(var y="…",b=function(V){var B=f.slice(0,V),L=bB({breakAll:u,style:c,children:B+y}).wordsWithComputedWidth,U=h(L),W=U.length>s||v(U).width>Number(i);return[W,U]},_=0,x=f.length-1,g=0,j;_<=x&&g<=f.length-1;){var w=Math.floor((_+x)/2),T=w-1,S=b(T),A=nk(S,2),N=A[0],I=A[1],C=b(w),R=nk(C,1),P=R[0];if(!N&&!P&&(_=w+1),N&&P&&(x=w-1),!N&&P){j=I;break}g++}return j||m},ik=function(e){var n=Re(e)?[]:e.toString().split(xB);return[{words:n}]},qxe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!uo.isSsr){var c,u,d=bB({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return ik(i);return Hxe({breakAll:s,children:i,maxLines:l,style:a},c,u,n,r)}return ik(i)},ak="#808080",dl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,_=b===void 0?ak:b,x=tk(e,$xe),g=k.useMemo(function(){return qxe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),j=x.dx,w=x.dy,T=x.angle,S=x.className,A=x.breakAll,N=tk(x,Lxe);if(!dn(r)||!dn(a))return null;var I=r+(oe(j)?j:0),C=a+(oe(w)?w:0),R;switch(y){case"start":R=Ub("calc(".concat(u,")"));break;case"middle":R=Ub("calc(".concat((g.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=Ub("calc(".concat(g.length-1," * -").concat(l,")"));break}var P=[];if(f){var z=g[0].width,V=x.width;P.push("scale(".concat((oe(V)?V/z:1)/z,")"))}return T&&P.push("rotate(".concat(T,", ").concat(I,", ").concat(C,")")),P.length&&(N.transform=P.join(" ")),D.createElement("text",aw({},_e(N,!0),{x:I,y:C,className:$e("recharts-text",S),textAnchor:m,fill:_.includes("url")?ak:_}),g.map(function(B,L){var U=B.words.join(A?"":" ");return D.createElement("tspan",{x:I,dy:L===0?R:l,key:"".concat(U,"-").concat(L)},U)}))};function Vs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jE(t){let e,n,r;t.length!==2?(e=Vs,n=(l,c)=>Vs(t(l),c),r=(l,c)=>t(l)-c):(e=t===Vs||t===Gxe?t:Wxe,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function Wxe(){return 0}function _B(t){return t===null?NaN:+t}function*Kxe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xxe=jE(Vs),_p=Xxe.right;jE(_B).center;class sk extends Map{constructor(e,n=Zxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ok(this,e))}has(e){return super.has(ok(this,e))}set(e,n){return super.set(Yxe(this,e),n)}delete(e){return super.delete(Qxe(this,e))}}function ok({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Yxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Qxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jxe(t=Vs){if(t===Vs)return wB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ebe=Math.sqrt(50),tbe=Math.sqrt(10),nbe=Math.sqrt(2);function wv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ebe?10:a>=tbe?5:a>=nbe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?wv(t,e,n*2):[l,c,u]}function sw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?wv(e,t,n):wv(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function ow(t,e,n){return e=+e,t=+t,n=+n,wv(t,e,n)[2]}function lw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ow(e,t,n):ow(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ck(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function AB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wB:Jxe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));AB(t,e,m,v,i)}const a=t[e];let s=n,l=r;for($d(t,n,e),i(t[r],a)>0&&$d(t,n,r);s<l;){for($d(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?$d(t,n,l):(++l,$d(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function $d(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rbe(t,e,n){if(t=Float64Array.from(Kxe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ck(t);if(e>=1)return lk(t);var r,i=(r-1)*e,a=Math.floor(i),s=lk(AB(t,a).subarray(0,a+1)),l=ck(t.subarray(a+1));return s+(l-s)*(i-a)}}function ibe(t,e,n=_B){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function abe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cw=Symbol("implicit");function TE(){var t=new sk,e=[],n=[],r=cw;function i(a){let s=t.get(a);if(s===void 0){if(r!==cw)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new sk;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TE(e,n).unknown(r)},hi.apply(i,arguments),i}function dh(){var t=TE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,y=m?r:i;a=(y-v)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),v+=(y-v-a*(h-c))*d,s=a*(1-c),l&&(v=Math.round(v),s=Math.round(s));var b=abe(h).map(function(_){return v+a*_});return n(m?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return dh(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},hi.apply(f(),arguments)}function SB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return SB(e())},t}function jf(){return SB(dh.apply(null,arguments).paddingInner(1))}function NE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wp(){}var fh=.7,Av=1/fh,Rc="\\s*([+-]?\\d+)\\s*",hh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sbe=/^#([0-9a-f]{3,8})$/,obe=new RegExp(`^rgb\\(${Rc},${Rc},${Rc}\\)$`),lbe=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),cbe=new RegExp(`^rgba\\(${Rc},${Rc},${Rc},${hh}\\)$`),ube=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${hh}\\)$`),dbe=new RegExp(`^hsl\\(${hh},${Qi},${Qi}\\)$`),fbe=new RegExp(`^hsla\\(${hh},${Qi},${Qi},${hh}\\)$`),uk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NE(wp,ph,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dk,formatHex:dk,formatHex8:hbe,formatHsl:pbe,formatRgb:fk,toString:fk});function dk(){return this.rgb().formatHex()}function hbe(){return this.rgb().formatHex8()}function pbe(){return jB(this).formatHsl()}function fk(){return this.rgb().formatRgb()}function ph(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sbe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hk(e):n===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=obe.exec(t))?new vr(e[1],e[2],e[3],1):(e=lbe.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cbe.exec(t))?Tm(e[1],e[2],e[3],e[4]):(e=ube.exec(t))?Tm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dbe.exec(t))?gk(e[1],e[2]/100,e[3]/100,1):(e=fbe.exec(t))?gk(e[1],e[2]/100,e[3]/100,e[4]):uk.hasOwnProperty(t)?hk(uk[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function hk(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function Tm(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function mbe(t){return t instanceof wp||(t=ph(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function uw(t,e,n,r){return arguments.length===1?mbe(t):new vr(t,e,n,r??1)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NE(vr,uw,EB(wp,{brighter(t){return t=t==null?Av:Math.pow(Av,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fh:Math.pow(fh,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(Yo(this.r),Yo(this.g),Yo(this.b),Sv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pk,formatHex:pk,formatHex8:gbe,formatRgb:mk,toString:mk}));function pk(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}`}function gbe(){return`#${Do(this.r)}${Do(this.g)}${Do(this.b)}${Do((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const t=Sv(this.opacity);return`${t===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${t===1?")":`, ${t})`}`}function Sv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Do(t){return t=Yo(t),(t<16?"0":"")+t.toString(16)}function gk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wi(t,e,n,r)}function jB(t){if(t instanceof wi)return new wi(t.h,t.s,t.l,t.opacity);if(t instanceof wp||(t=ph(t)),!t)return new wi;if(t instanceof wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new wi(s,l,c,t.opacity)}function vbe(t,e,n,r){return arguments.length===1?jB(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NE(wi,vbe,EB(wp,{brighter(t){return t=t==null?Av:Math.pow(Av,t),new wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fh:Math.pow(fh,t),new wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vr(Vb(t>=240?t-240:t+120,i,r),Vb(t,i,r),Vb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wi(vk(this.h),Nm(this.s),Nm(this.l),Sv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sv(this.opacity);return`${t===1?"hsl(":"hsla("}${vk(this.h)}, ${Nm(this.s)*100}%, ${Nm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vk(t){return t=(t||0)%360,t<0?t+360:t}function Nm(t){return Math.max(0,Math.min(1,t||0))}function Vb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OE=t=>()=>t;function ybe(t,e){return function(n){return t+n*e}}function xbe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bbe(t){return(t=+t)==1?TB:function(e,n){return n-e?xbe(e,n,t):OE(isNaN(e)?n:e)}}function TB(t,e){var n=e-t;return n?ybe(t,n):OE(isNaN(t)?e:t)}const yk=function t(e){var n=bbe(e);function r(i,a){var s=n((i=uw(i)).r,(a=uw(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=TB(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function _be(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wbe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Abe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ad(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Sbe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ev(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ebe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ad(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var dw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zb=new RegExp(dw.source,"g");function jbe(t){return function(){return t}}function Tbe(t){return function(e){return t(e)+""}}function Nbe(t,e){var n=dw.lastIndex=zb.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=dw.exec(t))&&(i=zb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Ev(r,i)})),n=zb.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Tbe(c[0].x):jbe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ad(t,e){var n=typeof e,r;return e==null||n==="boolean"?OE(e):(n==="number"?Ev:n==="string"?(r=ph(e))?(e=r,yk):Nbe:e instanceof ph?yk:e instanceof Date?Sbe:wbe(e)?_be:Array.isArray(e)?Abe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ebe:Ev)(t,e)}function CE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Obe(t,e){e===void 0&&(e=t,t=ad);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Cbe(t){return function(){return t}}function jv(t){return+t}var xk=[0,1];function or(t){return t}function fw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Cbe(isNaN(e)?NaN:.5)}function Ibe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kbe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=fw(i,r),a=n(s,a)):(r=fw(r,i),a=n(a,s)),function(l){return a(r(l))}}function Pbe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=fw(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=_p(t,l,1,r)-1;return a[c](i[c](l))}}function Ap(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function z0(){var t=xk,e=xk,n=ad,r,i,a,s=or,l,c,u;function d(){var h=Math.min(t.length,e.length);return s!==or&&(s=Ibe(t[0],t[h-1])),l=h>2?Pbe:kbe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=l(e,t.map(r),Ev)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,jv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=CE,d()},f.clamp=function(h){return arguments.length?(s=h?!0:or,d()):s!==or},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function IE(){return z0()(or,or)}function Rbe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function uu(t){return t=Tv(Math.abs(t)),t?t[1]:NaN}function Mbe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Dbe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $be=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mh(t){if(!(e=$be.exec(t)))throw new Error("invalid format: "+t);var e;return new kE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mh.prototype=kE.prototype;function kE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lbe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var NB;function Bbe(t,e){var n=Tv(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(NB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Tv(t,Math.max(0,e+a-1))[0]}function bk(t,e){var n=Tv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _k={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rbe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bk(t*100,e),r:bk,s:Bbe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wk(t){return t}var Ak=Array.prototype.map,Sk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ube(t){var e=t.grouping===void 0||t.thousands===void 0?wk:Mbe(Ak.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?wk:Dbe(Ak.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=mh(f);var h=f.fill,m=f.align,v=f.sign,y=f.symbol,b=f.zero,_=f.width,x=f.comma,g=f.precision,j=f.trim,w=f.type;w==="n"?(x=!0,w="g"):_k[w]||(g===void 0&&(g=12),j=!0,w="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=y==="$"?r:/[%p]/.test(w)?s:"",A=_k[w],N=/[defgprs%]/.test(w);g=g===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function I(C){var R=T,P=S,z,V,B;if(w==="c")P=A(C)+P,C="";else{C=+C;var L=C<0||1/C<0;if(C=isNaN(C)?c:A(Math.abs(C),g),j&&(C=Lbe(C)),L&&+C==0&&v!=="+"&&(L=!1),R=(L?v==="("?v:l:v==="-"||v==="("?"":v)+R,P=(w==="s"?Sk[8+NB/3]:"")+P+(L&&v==="("?")":""),N){for(z=-1,V=C.length;++z<V;)if(B=C.charCodeAt(z),48>B||B>57){P=(B===46?i+C.slice(z+1):C.slice(z))+P,C=C.slice(0,z);break}}}x&&!b&&(C=e(C,1/0));var U=R.length+C.length+P.length,W=U<_?new Array(_-U+1).join(h):"";switch(x&&b&&(C=e(W+C,W.length?_-P.length:1/0),W=""),m){case"<":C=R+C+P+W;break;case"=":C=R+W+C+P;break;case"^":C=W.slice(0,U=W.length>>1)+R+C+P+W.slice(U);break;default:C=W+R+C+P;break}return a(C)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=mh(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(uu(h)/3)))*3,y=Math.pow(10,-v),b=Sk[8+v/3];return function(_){return m(y*_)+b}}return{format:u,formatPrefix:d}}var Om,PE,OB;Vbe({thousands:",",grouping:[3],currency:["$",""]});function Vbe(t){return Om=Ube(t),PE=Om.format,OB=Om.formatPrefix,Om}function zbe(t){return Math.max(0,-uu(Math.abs(t)))}function Fbe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uu(e)/3)))*3-uu(Math.abs(t)))}function Hbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,uu(e)-uu(t))+1}function CB(t,e,n,r){var i=lw(t,e,n),a;switch(r=mh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Fbe(i,s))&&(r.precision=a),OB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=zbe(i))&&(r.precision=a-(r.type==="%")*2);break}}return PE(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return sw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return CB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=ow(s,l,n),u===c)return r[i]=s,r[a]=l,e(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Nv(){var t=IE();return t.copy=function(){return Ap(t,Nv())},hi.apply(t,arguments),fo(t)}function IB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,jv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return IB(t).unknown(e)},t=arguments.length?Array.from(t,jv):[0,1],fo(n)}function kB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Ek(t){return Math.log(t)}function jk(t){return Math.exp(t)}function qbe(t){return-Math.log(-t)}function Gbe(t){return-Math.exp(-t)}function Wbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kbe(t){return t===10?Wbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xbe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Tk(t){return(e,n)=>-t(-e,n)}function RE(t){const e=t(Ek,jk),n=e.domain;let r=10,i,a;function s(){return i=Xbe(r),a=Kbe(r),n()[0]<0?(i=Tk(i),a=Tk(a),t(qbe,Gbe)):t(Ek,jk),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),v,y;const b=l==null?10:+l;let _=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(y=h<0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;_.push(y)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;_.push(y)}_.length*2<b&&(_=sw(u,d,b))}else _=sw(h,m,Math.min(m-h,b)).map(a);return f?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=mh(c)).precision==null&&(c.trim=!0),c=PE(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(kB(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function PB(){const t=RE(z0()).domain([1,10]);return t.copy=()=>Ap(t,PB()).base(t.base()),hi.apply(t,arguments),t}function Nk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ok(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ME(t){var e=1,n=t(Nk(e),Ok(e));return n.constant=function(r){return arguments.length?t(Nk(e=+r),Ok(e)):e},fo(n)}function RB(){var t=ME(z0());return t.copy=function(){return Ap(t,RB()).constant(t.constant())},hi.apply(t,arguments)}function Ck(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ybe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qbe(t){return t<0?-t*t:t*t}function DE(t){var e=t(or,or),n=1;function r(){return n===1?t(or,or):n===.5?t(Ybe,Qbe):t(Ck(n),Ck(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function $E(){var t=DE(z0());return t.copy=function(){return Ap(t,$E()).exponent(t.exponent())},hi.apply(t,arguments),t}function Zbe(){return $E.apply(null,arguments).exponent(.5)}function Ik(t){return Math.sign(t)*t*t}function Jbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MB(){var t=IE(),e=[0,1],n=!1,r;function i(a){var s=Jbe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(Ik(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,jv)).map(Ik)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},hi.apply(i,arguments),fo(i)}function DB(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=ibe(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[_p(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Vs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return DB().domain(t).range(e).unknown(r)},hi.apply(a,arguments)}function $B(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[_p(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return $B().domain([t,e]).range(i).unknown(a)},hi.apply(fo(s),arguments)}function LB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[_p(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return LB().domain(t).range(e).unknown(n)},hi.apply(i,arguments)}const Fb=new Date,Hb=new Date;function mn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<s);return c},i.filter=a=>mn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Fb.setTime(+a),Hb.setTime(+s),t(Fb),t(Hb),Math.floor(n(Fb,Hb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ov=mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ov.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ov);Ov.range;const Ta=1e3,ai=Ta*60,Na=ai*60,Ga=Na*24,LE=Ga*7,kk=Ga*30,qb=Ga*365,$o=mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getUTCSeconds());$o.range;const BE=mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ta)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getMinutes());BE.range;const UE=mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getUTCMinutes());UE.range;const VE=mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ta-t.getMinutes()*ai)},(t,e)=>{t.setTime(+t+e*Na)},(t,e)=>(e-t)/Na,t=>t.getHours());VE.range;const zE=mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Na)},(t,e)=>(e-t)/Na,t=>t.getUTCHours());zE.range;const Sp=mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ai)/Ga,t=>t.getDate()-1);Sp.range;const F0=mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ga,t=>t.getUTCDate()-1);F0.range;const BB=mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ga,t=>Math.floor(t/Ga));BB.range;function Il(t){return mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ai)/LE)}const H0=Il(0),Cv=Il(1),e1e=Il(2),t1e=Il(3),du=Il(4),n1e=Il(5),r1e=Il(6);H0.range;Cv.range;e1e.range;t1e.range;du.range;n1e.range;r1e.range;function kl(t){return mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LE)}const q0=kl(0),Iv=kl(1),i1e=kl(2),a1e=kl(3),fu=kl(4),s1e=kl(5),o1e=kl(6);q0.range;Iv.range;i1e.range;a1e.range;fu.range;s1e.range;o1e.range;const FE=mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FE.range;const HE=mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());HE.range;const Wa=mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Wa.range;const Ka=mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ka.range;function UB(t,e,n,r,i,a){const s=[[$o,1,Ta],[$o,5,5*Ta],[$o,15,15*Ta],[$o,30,30*Ta],[a,1,ai],[a,5,5*ai],[a,15,15*ai],[a,30,30*ai],[i,1,Na],[i,3,3*Na],[i,6,6*Na],[i,12,12*Na],[r,1,Ga],[r,2,2*Ga],[n,1,LE],[e,1,kk],[e,3,3*kk],[t,1,qb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=jE(([,,b])=>b).right(s,h);if(m===s.length)return t.every(lw(u/qb,d/qb,f));if(m===0)return Ov.every(Math.max(lw(u,d,f),1));const[v,y]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return v.every(y)}return[l,c]}const[l1e,c1e]=UB(Ka,HE,q0,BB,zE,UE),[u1e,d1e]=UB(Wa,FE,H0,Sp,VE,BE);function Gb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Wb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ld(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function f1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=Bd(i),d=Ud(i),f=Bd(a),h=Ud(a),m=Bd(s),v=Ud(s),y=Bd(l),b=Ud(l),_=Bd(c),x=Ud(c),g={a:L,A:U,b:W,B:G,c:null,d:Lk,e:Lk,f:M1e,g:q1e,G:W1e,H:k1e,I:P1e,j:R1e,L:VB,m:D1e,M:$1e,p:te,q:F,Q:Vk,s:zk,S:L1e,u:B1e,U:U1e,V:V1e,w:z1e,W:F1e,x:null,X:null,y:H1e,Y:G1e,Z:K1e,"%":Uk},j={a:$,A:X,b:Z,B:ve,c:null,d:Bk,e:Bk,f:Z1e,g:l_e,G:u_e,H:X1e,I:Y1e,j:Q1e,L:FB,m:J1e,M:e_e,p:De,q:Ee,Q:Vk,s:zk,S:t_e,u:n_e,U:r_e,V:i_e,w:a_e,W:s_e,x:null,X:null,y:o_e,Y:c_e,Z:d_e,"%":Uk},w={a:I,A:C,b:R,B:P,c:z,d:Dk,e:Dk,f:N1e,g:Mk,G:Rk,H:$k,I:$k,j:S1e,L:T1e,m:A1e,M:E1e,p:N,q:w1e,Q:C1e,s:I1e,S:j1e,u:v1e,U:y1e,V:x1e,w:g1e,W:b1e,x:V,X:B,y:Mk,Y:Rk,Z:_1e,"%":O1e};g.x=T(n,g),g.X=T(r,g),g.c=T(e,g),j.x=T(n,j),j.X=T(r,j),j.c=T(e,j);function T(Q,le){return function(ne){var K=[],he=-1,xe=0,fe=Q.length,Ae,Je,At;for(ne instanceof Date||(ne=new Date(+ne));++he<fe;)Q.charCodeAt(he)===37&&(K.push(Q.slice(xe,he)),(Je=Pk[Ae=Q.charAt(++he)])!=null?Ae=Q.charAt(++he):Je=Ae==="e"?" ":"0",(At=le[Ae])&&(Ae=At(ne,Je)),K.push(Ae),xe=he+1);return K.push(Q.slice(xe,he)),K.join("")}}function S(Q,le){return function(ne){var K=Ld(1900,void 0,1),he=A(K,Q,ne+="",0),xe,fe;if(he!=ne.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(le&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(xe=Wb(Ld(K.y,0,1)),fe=xe.getUTCDay(),xe=fe>4||fe===0?Iv.ceil(xe):Iv(xe),xe=F0.offset(xe,(K.V-1)*7),K.y=xe.getUTCFullYear(),K.m=xe.getUTCMonth(),K.d=xe.getUTCDate()+(K.w+6)%7):(xe=Gb(Ld(K.y,0,1)),fe=xe.getDay(),xe=fe>4||fe===0?Cv.ceil(xe):Cv(xe),xe=Sp.offset(xe,(K.V-1)*7),K.y=xe.getFullYear(),K.m=xe.getMonth(),K.d=xe.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),fe="Z"in K?Wb(Ld(K.y,0,1)).getUTCDay():Gb(Ld(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(fe+5)%7:K.w+K.U*7-(fe+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Wb(K)):Gb(K)}}function A(Q,le,ne,K){for(var he=0,xe=le.length,fe=ne.length,Ae,Je;he<xe;){if(K>=fe)return-1;if(Ae=le.charCodeAt(he++),Ae===37){if(Ae=le.charAt(he++),Je=w[Ae in Pk?le.charAt(he++):Ae],!Je||(K=Je(Q,ne,K))<0)return-1}else if(Ae!=ne.charCodeAt(K++))return-1}return K}function N(Q,le,ne){var K=u.exec(le.slice(ne));return K?(Q.p=d.get(K[0].toLowerCase()),ne+K[0].length):-1}function I(Q,le,ne){var K=m.exec(le.slice(ne));return K?(Q.w=v.get(K[0].toLowerCase()),ne+K[0].length):-1}function C(Q,le,ne){var K=f.exec(le.slice(ne));return K?(Q.w=h.get(K[0].toLowerCase()),ne+K[0].length):-1}function R(Q,le,ne){var K=_.exec(le.slice(ne));return K?(Q.m=x.get(K[0].toLowerCase()),ne+K[0].length):-1}function P(Q,le,ne){var K=y.exec(le.slice(ne));return K?(Q.m=b.get(K[0].toLowerCase()),ne+K[0].length):-1}function z(Q,le,ne){return A(Q,e,le,ne)}function V(Q,le,ne){return A(Q,n,le,ne)}function B(Q,le,ne){return A(Q,r,le,ne)}function L(Q){return s[Q.getDay()]}function U(Q){return a[Q.getDay()]}function W(Q){return c[Q.getMonth()]}function G(Q){return l[Q.getMonth()]}function te(Q){return i[+(Q.getHours()>=12)]}function F(Q){return 1+~~(Q.getMonth()/3)}function $(Q){return s[Q.getUTCDay()]}function X(Q){return a[Q.getUTCDay()]}function Z(Q){return c[Q.getUTCMonth()]}function ve(Q){return l[Q.getUTCMonth()]}function De(Q){return i[+(Q.getUTCHours()>=12)]}function Ee(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var le=T(Q+="",g);return le.toString=function(){return Q},le},parse:function(Q){var le=S(Q+="",!1);return le.toString=function(){return Q},le},utcFormat:function(Q){var le=T(Q+="",j);return le.toString=function(){return Q},le},utcParse:function(Q){var le=S(Q+="",!0);return le.toString=function(){return Q},le}}}var Pk={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,h1e=/^%/,p1e=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function m1e(t){return t.replace(p1e,"\\$&")}function Bd(t){return new RegExp("^(?:"+t.map(m1e).join("|")+")","i")}function Ud(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function g1e(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v1e(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function y1e(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function x1e(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function b1e(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Rk(t,e,n){var r=jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Mk(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function w1e(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function A1e(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Dk(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function S1e(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $k(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function E1e(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function j1e(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function T1e(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function N1e(t,e,n){var r=jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O1e(t,e,n){var r=h1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function C1e(t,e,n){var r=jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function I1e(t,e,n){var r=jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Lk(t,e){return Ze(t.getDate(),e,2)}function k1e(t,e){return Ze(t.getHours(),e,2)}function P1e(t,e){return Ze(t.getHours()%12||12,e,2)}function R1e(t,e){return Ze(1+Sp.count(Wa(t),t),e,3)}function VB(t,e){return Ze(t.getMilliseconds(),e,3)}function M1e(t,e){return VB(t,e)+"000"}function D1e(t,e){return Ze(t.getMonth()+1,e,2)}function $1e(t,e){return Ze(t.getMinutes(),e,2)}function L1e(t,e){return Ze(t.getSeconds(),e,2)}function B1e(t){var e=t.getDay();return e===0?7:e}function U1e(t,e){return Ze(H0.count(Wa(t)-1,t),e,2)}function zB(t){var e=t.getDay();return e>=4||e===0?du(t):du.ceil(t)}function V1e(t,e){return t=zB(t),Ze(du.count(Wa(t),t)+(Wa(t).getDay()===4),e,2)}function z1e(t){return t.getDay()}function F1e(t,e){return Ze(Cv.count(Wa(t)-1,t),e,2)}function H1e(t,e){return Ze(t.getFullYear()%100,e,2)}function q1e(t,e){return t=zB(t),Ze(t.getFullYear()%100,e,2)}function G1e(t,e){return Ze(t.getFullYear()%1e4,e,4)}function W1e(t,e){var n=t.getDay();return t=n>=4||n===0?du(t):du.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function K1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function Bk(t,e){return Ze(t.getUTCDate(),e,2)}function X1e(t,e){return Ze(t.getUTCHours(),e,2)}function Y1e(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function Q1e(t,e){return Ze(1+F0.count(Ka(t),t),e,3)}function FB(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function Z1e(t,e){return FB(t,e)+"000"}function J1e(t,e){return Ze(t.getUTCMonth()+1,e,2)}function e_e(t,e){return Ze(t.getUTCMinutes(),e,2)}function t_e(t,e){return Ze(t.getUTCSeconds(),e,2)}function n_e(t){var e=t.getUTCDay();return e===0?7:e}function r_e(t,e){return Ze(q0.count(Ka(t)-1,t),e,2)}function HB(t){var e=t.getUTCDay();return e>=4||e===0?fu(t):fu.ceil(t)}function i_e(t,e){return t=HB(t),Ze(fu.count(Ka(t),t)+(Ka(t).getUTCDay()===4),e,2)}function a_e(t){return t.getUTCDay()}function s_e(t,e){return Ze(Iv.count(Ka(t)-1,t),e,2)}function o_e(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function l_e(t,e){return t=HB(t),Ze(t.getUTCFullYear()%100,e,2)}function c_e(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function u_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?fu(t):fu.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function d_e(){return"+0000"}function Uk(){return"%"}function Vk(t){return+t}function zk(t){return Math.floor(+t/1e3)}var ql,qB,GB;f_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f_e(t){return ql=f1e(t),qB=ql.format,ql.parse,GB=ql.utcFormat,ql.utcParse,ql}function h_e(t){return new Date(t)}function p_e(t){return t instanceof Date?+t:+new Date(+t)}function qE(t,e,n,r,i,a,s,l,c,u){var d=IE(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),_=u("%a %d"),x=u("%b %d"),g=u("%B"),j=u("%Y");function w(T){return(c(T)<T?m:l(T)<T?v:s(T)<T?y:a(T)<T?b:r(T)<T?i(T)<T?_:x:n(T)<T?g:j)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,p_e)):h().map(h_e)},d.ticks=function(T){var S=h();return t(S[0],S[S.length-1],T??10)},d.tickFormat=function(T,S){return S==null?w:u(S)},d.nice=function(T){var S=h();return(!T||typeof T.range!="function")&&(T=e(S[0],S[S.length-1],T??10)),T?h(kB(S,T)):d},d.copy=function(){return Ap(d,qE(t,e,n,r,i,a,s,l,c,u))},d}function m_e(){return hi.apply(qE(u1e,d1e,Wa,FE,H0,Sp,VE,BE,$o,qB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g_e(){return hi.apply(qE(l1e,c1e,Ka,HE,q0,F0,zE,UE,$o,GB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G0(){var t=0,e=1,n,r,i,a,s=or,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,s=f(m,v),u):[s(0),s(1)]}}return u.range=d(ad),u.rangeRound=d(CE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WB(){var t=fo(G0()(or));return t.copy=function(){return ho(t,WB())},Ja.apply(t,arguments)}function KB(){var t=RE(G0()).domain([1,10]);return t.copy=function(){return ho(t,KB()).base(t.base())},Ja.apply(t,arguments)}function XB(){var t=ME(G0());return t.copy=function(){return ho(t,XB()).constant(t.constant())},Ja.apply(t,arguments)}function GE(){var t=DE(G0());return t.copy=function(){return ho(t,GE()).exponent(t.exponent())},Ja.apply(t,arguments)}function v_e(){return GE.apply(null,arguments).exponent(.5)}function YB(){var t=[],e=or;function n(r){if(r!=null&&!isNaN(r=+r))return e((_p(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>rbe(t,a/r))},n.copy=function(){return YB(e).domain(t)},Ja.apply(n,arguments)}function W0(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,u=or,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(r*y<r*a?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),a=d(e=+e),s=d(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function v(y){return function(b){var _,x,g;return arguments.length?([_,x,g]=b,u=Obe(y,[_,x,g]),m):[u(0),u(.5),u(1)]}}return m.range=v(ad),m.rangeRound=v(CE),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(t),a=y(e),s=y(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function QB(){var t=fo(W0()(or));return t.copy=function(){return ho(t,QB())},Ja.apply(t,arguments)}function ZB(){var t=RE(W0()).domain([.1,1,10]);return t.copy=function(){return ho(t,ZB()).base(t.base())},Ja.apply(t,arguments)}function JB(){var t=ME(W0());return t.copy=function(){return ho(t,JB()).constant(t.constant())},Ja.apply(t,arguments)}function WE(){var t=DE(W0());return t.copy=function(){return ho(t,WE()).exponent(t.exponent())},Ja.apply(t,arguments)}function y_e(){return WE.apply(null,arguments).exponent(.5)}const Fk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dh,scaleDiverging:QB,scaleDivergingLog:ZB,scaleDivergingPow:WE,scaleDivergingSqrt:y_e,scaleDivergingSymlog:JB,scaleIdentity:IB,scaleImplicit:cw,scaleLinear:Nv,scaleLog:PB,scaleOrdinal:TE,scalePoint:jf,scalePow:$E,scaleQuantile:DB,scaleQuantize:$B,scaleRadial:MB,scaleSequential:WB,scaleSequentialLog:KB,scaleSequentialPow:GE,scaleSequentialQuantile:YB,scaleSequentialSqrt:v_e,scaleSequentialSymlog:XB,scaleSqrt:Zbe,scaleSymlog:RB,scaleThreshold:LB,scaleTime:m_e,scaleUtc:g_e,tickFormat:CB},Symbol.toStringTag,{value:"Module"}));var x_e=Yu;function b_e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(l===void 0?s===s&&!x_e(s):n(s,l)))var l=s,c=a}return c}var K0=b_e;function __e(t,e){return t>e}var e8=__e,w_e=K0,A_e=e8,S_e=id;function E_e(t){return t&&t.length?w_e(t,S_e,A_e):void 0}var j_e=E_e;const js=it(j_e);function T_e(t,e){return t<e}var t8=T_e,N_e=K0,O_e=t8,C_e=id;function I_e(t){return t&&t.length?N_e(t,C_e,O_e):void 0}var k_e=I_e;const X0=it(k_e);var P_e=oE,R_e=la,M_e=cB,D_e=wr;function $_e(t,e){var n=D_e(t)?P_e:M_e;return n(t,R_e(e))}var L_e=$_e,B_e=oB,U_e=L_e;function V_e(t,e){return B_e(U_e(t,e),1)}var z_e=V_e;const F_e=it(z_e);var H_e=wE;function q_e(t,e){return H_e(t,e)}var G_e=q_e;const fl=it(G_e);var sd=1e9,W_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XE,Rt=!0,ci="[DecimalError] ",Qo=ci+"Invalid argument: ",KE=ci+"Exponent out of range: ",od=Math.floor,Co=Math.pow,K_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,bn=1e7,jt=7,n8=9007199254740991,kv=od(n8/jt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return Da(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return yt(Da(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return rn(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mr))throw Error(ci+"NaN");if(n.s<1)throw Error(ci+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(Rt=!1,e=Da(gh(n,a),gh(t,a),a),Rt=!0,yt(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a8(e,t):r8(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ci+"NaN");return n.s?(Rt=!1,e=Da(n,t,0,1).times(t),Rt=!0,n.minus(e)):yt(new r(n),i)};ye.naturalExponential=ye.exp=function(){return i8(this)};ye.naturalLogarithm=ye.ln=function(){return gh(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r8(e,t):a8(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qo+t);if(e=rn(i)+1,r=i.d.length-1,n=r*jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ci+"NaN")}for(t=rn(l),Rt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Fi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=od((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Da(l,a,s+2)).times(.5),Fi(a.d).slice(0,s)===(e=Fi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(yt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return Rt=!0,yt(r,n)};ye.times=ye.mul=function(t){var e,n,r,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+m[r]*h[i-r-1]+e,a[i--]=l%bn|0,e=l/bn|0;a[i]=(a[i]+e)%bn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Rt?yt(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ra(t,0,sd),e===void 0?e=r.rounding:ra(e,0,8),yt(n,t+rn(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hl(r,!0):(ra(t,0,sd),e===void 0?e=i.rounding:ra(e,0,8),r=yt(new i(r),t+1,e),n=hl(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hl(i):(ra(t,0,sd),e===void 0?e=a.rounding:ra(e,0,8),r=yt(new a(i),t+rn(i)+1,e),n=hl(r.abs(),!1,t+rn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return yt(new e(t),rn(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Mr);if(l=new c(l),!l.s){if(t.s<1)throw Error(ci+"Infinity");return l}if(l.eq(Mr))return l;if(r=c.precision,t.eq(Mr))return yt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=d<0?-d:d)<=n8){for(i=new c(Mr),e=Math.ceil(r/jt+4),Rt=!1;n%2&&(i=i.times(l),qk(i.d,e)),n=od(n/2),n!==0;)l=l.times(l),qk(l.d,e);return Rt=!0,t.s<0?new c(Mr).div(i):yt(i,r)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Rt=!1,i=t.times(gh(l,r+u)),Rt=!0,i=i8(i),i.s=a,i};ye.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=rn(i),r=hl(i,n<=a.toExpNeg||n>=a.toExpPos)):(ra(t,1,sd),e===void 0?e=a.rounding:ra(e,0,8),i=yt(new a(i),t,e),n=rn(i),r=hl(i,t<=n||n<=a.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ra(t,1,sd),e===void 0?e=r.rounding:ra(e,0,8)),yt(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rn(t),n=t.constructor;return hl(t,e<=n.toExpNeg||e>=n.toExpPos)};function r8(t,e){var n,r,i,a,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Rt?yt(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),s=Math.ceil(f/jt),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/bn|0,c[a]%=bn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Rt?yt(e,f):e}function ra(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qo+t)}function Fi(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=jt-r.length,n&&(a+=ds(n)),a+=r;s=t[e],r=s+"",n=jt-r.length,n&&(a+=ds(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Da=function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%bn|0,s=a/bn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*bn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,u,d,f,h,m,v,y,b,_,x,g,j,w,T,S,A,N=r.constructor,I=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(ci+"Division by zero");for(c=r.e-i.e,S=R.length,w=C.length,m=new N(I),v=m.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--c,a==null?x=a=N.precision:s?x=a+(rn(r)-rn(i))+1:x=a,x<0)return new N(0);if(x=x/jt+2|0,u=0,S==1)for(d=0,R=R[0],x++;(u<w||d)&&x--;u++)g=d*bn+(C[u]||0),v[u]=g/R|0,d=g%R|0;else{for(d=bn/(R[0]+1)|0,d>1&&(R=t(R,d),C=t(C,d),S=R.length,w=C.length),j=S,y=C.slice(0,S),b=y.length;b<S;)y[b++]=0;A=R.slice(),A.unshift(0),T=R[0],R[1]>=bn/2&&++T;do d=0,l=e(R,y,S,b),l<0?(_=y[0],S!=b&&(_=_*bn+(y[1]||0)),d=_/T|0,d>1?(d>=bn&&(d=bn-1),f=t(R,d),h=f.length,b=y.length,l=e(f,y,h,b),l==1&&(d--,n(f,S<h?A:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),l==-1&&(b=y.length,l=e(R,y,S,b),l<1&&(d++,n(y,S<b?A:R,b))),b=y.length):l===0&&(d++,y=[0]),v[u++]=d,l&&y[0]?y[b++]=C[j]||0:(y=[C[j]],b=1);while((j++<w||y[0]!==void 0)&&x--)}return v[0]||v.shift(),m.e=c,yt(m,s?a+rn(m)+1:a)}}();function i8(t,e){var n,r,i,a,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(rn(t)>16)throw Error(KE+rn(t));if(!t.s)return new d(Mr);for(Rt=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Co(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(Mr),d.precision=l;;){if(i=yt(i.times(t),l),n=n.times(++c),s=a.plus(Da(i,n,l)),Fi(s.d).slice(0,l)===Fi(a.d).slice(0,l)){for(;u--;)a=yt(a.times(a),l);return d.precision=f,e==null?(Rt=!0,yt(a,f)):a}a=s}}function rn(t){for(var e=t.e*jt,n=t.d[0];n>=10;n/=10)e++;return e}function Kb(t,e,n){if(e>t.LN10.sd())throw Rt=!0,n&&(t.precision=n),Error(ci+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function ds(t){for(var e="";t--;)e+="0";return e}function gh(t,e){var n,r,i,a,s,l,c,u,d,f=1,h=10,m=t,v=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(ci+(m.s?"NaN":"-Infinity"));if(m.eq(Mr))return new y(0);if(e==null?(Rt=!1,u=b):u=e,m.eq(10))return e==null&&(Rt=!0),Kb(y,u);if(u+=h,y.precision=u,n=Fi(v),r=n.charAt(0),a=rn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Fi(m.d),r=n.charAt(0),f++;a=rn(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return c=Kb(y,u+2,b).times(a+""),m=gh(new y(r+"."+n.slice(1)),u-h).plus(c),y.precision=b,e==null?(Rt=!0,yt(m,b)):m;for(l=s=m=Da(m.minus(Mr),m.plus(Mr),u),d=yt(m.times(m),u),i=3;;){if(s=yt(s.times(d),u),c=l.plus(Da(s,new y(i),u)),Fi(c.d).slice(0,u)===Fi(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Kb(y,u+2,b).times(a+""))),l=Da(l,new y(f),u),y.precision=b,e==null?(Rt=!0,yt(l,b)):l;l=c,i+=2}}function Hk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=od(n/jt),t.d=[],r=(n+1)%jt,n<0&&(r+=jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=jt;r<i;)t.d.push(+e.slice(r,r+=jt));e=e.slice(r),r=jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Rt&&(t.e>kv||t.e<-kv))throw Error(KE+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,a,s,l,c,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=jt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/jt),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=jt,i=r-jt+s}if(n!==void 0&&(a=Co(10,s-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Co(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=rn(t),f.length=1,e=e-a-1,f[0]=Co(10,(jt-e%jt)%jt),t.e=od(-e/jt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Co(10,jt-r),f[d]=i>0?(u/Co(10,s-i)%Co(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==bn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=bn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Rt&&(t.e>kv||t.e<-kv))throw Error(KE+rn(t));return t}function a8(t,e){var n,r,i,a,s,l,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Rt?yt(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(m/jt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=bn-1;--c[a],c[i]+=bn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Rt?yt(e,m):e):new h(0)}function hl(t,e,n){var r,i=rn(t),a=Fi(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ds(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ds(-i-1)+a,n&&(r=n-s)>0&&(a+=ds(r))):i>=s?(a+=ds(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ds(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ds(r))),t.s<0?"-"+a:a}function qk(t,e){if(t.length>e)return t.length=e,!0}function s8(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Hk(s,a.toString())}else if(typeof a!="string")throw Error(Qo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,K_e.test(a))Hk(s,a);else throw Error(Qo+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=s8,i.config=i.set=X_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function X_e(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,n,r,i=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(od(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qo+n+": "+r);return this}var XE=s8(W_e);Mr=new XE(1);const ft=XE;function Y_e(t){return ewe(t)||J_e(t)||Z_e(t)||Q_e()}function Q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function J_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ewe(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var twe=function(e){return e},o8={},l8=function(e){return e===o8},Gk=function(e){return function n(){return arguments.length===0||arguments.length===1&&l8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},nwe=function t(e,n){return e===1?n:Gk(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==o8}).length;return s>=e?n.apply(void 0,i):t(e-s,Gk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return l8(f)?c.shift():f});return n.apply(void 0,Y_e(d).concat(c))}))})},Y0=function(e){return nwe(e.length,e)},pw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},rwe=Y0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),iwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return twe;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},mw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},c8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function awe(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function swe(t,e,n){for(var r=new ft(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var owe=Y0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),lwe=Y0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),cwe=Y0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Q0={rangeStep:swe,getDigitCount:awe,interpolateNumber:owe,uninterpolateNumber:lwe,uninterpolateTruncation:cwe};function gw(t){return fwe(t)||dwe(t)||u8(t)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fwe(t){if(Array.isArray(t))return vw(t)}function vh(t,e){return mwe(t)||pwe(t,e)||u8(t,e)||hwe()}function hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function mwe(t){if(Array.isArray(t))return t}function d8(t){var e=vh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function f8(t,e,n){if(t.lte(0))return new ft(0);var r=Q0.getDigitCount(t.toNumber()),i=new ft(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new ft(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new ft(Math.ceil(c))}function gwe(t,e,n){var r=1,i=new ft(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ft(10).pow(Q0.getDigitCount(t)-1),i=new ft(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ft(Math.floor(t)))}else t===0?i=new ft(Math.floor((e-1)/2)):n||(i=new ft(Math.floor(t)));var s=Math.floor((e-1)/2),l=iwe(rwe(function(c){return i.add(new ft(c-s).mul(r)).toNumber()}),pw);return l(0,e)}function h8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var a=f8(new ft(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ft(0):(s=new ft(t).add(e).div(2),s=s.sub(new ft(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new ft(e).sub(s).div(a).toNumber()),u=l+c+1;return u>n?h8(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:a,tickMin:s.sub(new ft(l).mul(a)),tickMax:s.add(new ft(c).mul(a))})}function vwe(t){var e=vh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=d8([n,r]),c=vh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(gw(pw(0,i-1).map(function(){return 1/0}))):[].concat(gw(pw(0,i-1).map(function(){return-1/0})),[d]);return n>r?mw(f):f}if(u===d)return gwe(u,i,a);var h=h8(u,d,s,a),m=h.step,v=h.tickMin,y=h.tickMax,b=Q0.rangeStep(v,y.add(new ft(.1).mul(m)),m);return n>r?mw(b):b}function ywe(t,e){var n=vh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=d8([r,i]),l=vh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=f8(new ft(u).sub(c).div(d-1),a,0),h=[].concat(gw(Q0.rangeStep(new ft(c),new ft(u).sub(new ft(.99).mul(f)),f)),[u]);return r>i?mw(h):h}var xwe=c8(vwe),bwe=c8(ywe),_we="Invariant failed";function pl(t,e){throw new Error(_we)}var wwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function Awe(t,e){return Twe(t)||jwe(t,e)||Ewe(t,e)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return Wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(t,e)}}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Twe(t){if(Array.isArray(t))return t}function Nwe(t,e){if(t==null)return{};var n=Owe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Owe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g8(r.key),r)}}function kwe(t,e,n){return e&&Iwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,n){return e=Rv(e),Rwe(t,p8()?Reflect.construct(e,n||[],Rv(t).constructor):e.apply(t,n))}function Rwe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(t)}function Mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function Dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function m8(t,e,n){return e=g8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g8(t){var e=$we(t,"string");return hu(e)=="symbol"?e:e+""}function $we(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ep=function(t){function e(){return Cwe(this,e),Pwe(this,e,arguments)}return Dwe(e,t),kwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Nwe(r,wwe),m=_e(h,!1);this.props.direction==="x"&&d.type!=="number"&&pl();var v=c.map(function(y){var b=u(y,l),_=b.x,x=b.y,g=b.value,j=b.errorVal;if(!j)return null;var w=[],T,S;if(Array.isArray(j)){var A=Awe(j,2);T=A[0],S=A[1]}else T=S=j;if(a==="vertical"){var N=d.scale,I=x+i,C=I+s,R=I-s,P=N(g-T),z=N(g+S);w.push({x1:z,y1:C,x2:z,y2:R}),w.push({x1:P,y1:I,x2:z,y2:I}),w.push({x1:P,y1:C,x2:P,y2:R})}else if(a==="horizontal"){var V=f.scale,B=_+i,L=B-s,U=B+s,W=V(g-T),G=V(g+S);w.push({x1:L,y1:G,x2:U,y2:G}),w.push({x1:B,y1:W,x2:B,y2:G}),w.push({x1:L,y1:W,x2:U,y2:W})}return D.createElement(He,Pv({className:"recharts-errorBar",key:"bar-".concat(w.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},m),w.map(function(te){return D.createElement("line",Pv({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return D.createElement(He,{className:"recharts-errorBars"},v)}}])}(D.Component);m8(Ep,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});m8(Ep,"displayName","ErrorBar");function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Lwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lwe(t,e,n){return e=Bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bwe(t){var e=Uwe(t,"string");return yh(e)=="symbol"?e:e+""}function Uwe(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=kr(n,Pc);if(!s)return null;var l=Pc.defaultProps,c=l!==void 0?_o(_o({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?_o(_o({},h),f.props):{},v=m.dataKey,y=m.name,b=m.legendType,_=m.hide;return{inactive:_,dataKey:v,type:c.iconType||b||"square",color:YE(f),value:y||v,payload:m}}),_o(_o(_o({},c),Pc.getWithHeight(s,i)),{},{payload:u,item:s})};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function Xk(t){return Hwe(t)||Fwe(t)||zwe(t)||Vwe()}function Vwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function Fwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hwe(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mc(t,e,n){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Gwe(t,"string");return xh(e)=="symbol"?e:e+""}function Gwe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yt(t,e,n){return Re(t)||Re(e)?n:dn(e)?Hr(t,e,n):Oe(e)?e(t):n}function Tf(t,e,n,r){var i=F_e(t,function(l){return Yt(l,e)});if(n==="number"){var a=i.filter(function(l){return oe(l)||parseFloat(l)});return a.length?[X0(a),js(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Re(l)}):i;return s.map(function(l){return dn(l)||l instanceof Date?l:""})}var Wwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ar(f-d)!==ar(h-f)){var v=[];if(ar(h-f)===ar(c[1]-c[0])){m=h;var y=f+c[1]-c[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{m=d;var b=h+c[1]-c[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var x=Math.min(d,h),g=Math.max(d,h);if(e>(x+f)/2&&e<=(g+f)/2){s=i[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===l-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){s=r[j].index;break}return s},YE=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},Kwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],y=v.items,b=v.cateAxisId,_=y.filter(function(S){return Ma(S.type).indexOf("Bar")>=0});if(_&&_.length){var x=_[0].type.defaultProps,g=x!==void 0?Ft(Ft({},x),_[0].props):_[0].props,j=g.barSize,w=g[b];s[w]||(s[w]=[]);var T=Re(j)?n:j;s[w].push({item:_[0],stackList:_.slice(1),barSize:Re(T)?void 0:sr(T,r,0)})}}return s},Xwe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=sr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/c,v=s.reduce(function(j,w){return j+w.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=c*m);var y=(i-v)/2>>0,b={offset:y-u,size:0};d=s.reduce(function(j,w){var T={item:w.item,position:{offset:b.offset+b.size+u,size:h?m:w.barSize}},S=[].concat(Xk(j),[T]);return b=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){S.push({item:A,position:b})}),S},f)}else{var _=sr(r,i,0,!0);i-2*_-(c-1)*u<=0&&(u=0);var x=(i-2*_-(c-1)*u)/c;x>1&&(x>>=0);var g=l===+l?Math.min(x,l):x;d=s.reduce(function(j,w,T){var S=[].concat(Xk(j),[{item:w.item,position:{offset:_+(x+u)*T+(x-g)/2,size:g}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},Ywe=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),u=v8({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&m!=="center"&&oe(e[m]))return Ft(Ft({},e),{},Mc({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&v!=="middle"&&oe(e[v]))return Ft(Ft({},e),{},Mc({},v,e[v]+(h||0)))}return e},Qwe=function(e,n,r){return Re(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},y8=function(e,n,r,i,a){var s=n.props.children,l=qr(s,Ep).filter(function(u){return Qwe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Yt(d,r);if(Re(f))return u;var h=Array.isArray(f)?[X0(f),js(f)]:[f,f],m=c.reduce(function(v,y){var b=Yt(d,y,0),_=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Zwe=function(e,n,r,i,a){var s=n.map(function(l){return y8(e,l,r,a,i)}).filter(function(l){return!Re(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},x8=function(e,n,r,i,a){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&y8(e,c,u,i)||Tf(e,u,r,a)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},b8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},_8=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},Oa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ar(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!td(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Xb=new WeakMap,Cm=function(e,n){if(typeof n!="function")return e;Xb.has(e)||Xb.set(e,new WeakMap);var r=Xb.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},w8=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:dh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Nv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jf(),realScaleType:"point"}:a==="category"?{scale:dh(),realScaleType:"band"}:{scale:Nv(),realScaleType:"linear"};if(cl(i)){var c="scale".concat(M0(i));return{scale:(Fk[c]||jf)(),realScaleType:Fk[c]?c:"point"}}return Oe(i)?{scale:i}:{scale:jf(),realScaleType:"point"}},Qk=1e-4,A8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Qk,s=Math.max(i[0],i[1])+Qk,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},Jwe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},eAe=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(a[0]=r),(!oe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},tAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=td(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},nAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=td(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},rAe={sign:tAe,expand:wde,none:iu,silhouette:Ade,wiggle:Sde,positive:nAe},iAe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=rAe[r],s=_de().keys(i).value(function(l,c){return+Yt(l,c,0)}).order(H_).offset(a);return s(e)},aAe=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ft(Ft({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return f;var _=v[r],x=f[_]||{hasStack:!1,stackGroups:{}};if(dn(y)){var g=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};g.items.push(h),x.hasStack=!0,x.stackGroups[y]=g}else x.stackGroups[Cl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Ft(Ft({},f),{},Mc({},_,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,b){var _=m.stackGroups[b];return Ft(Ft({},y),{},Mc({},b,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:iAe(e,_.items,a)}))},v)}return Ft(Ft({},f),{},Mc({},h,m))},d)},S8=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=xwe(u,a,l);return e.domain([X0(d),js(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=bwe(f,a,l);return{niceTicks:h}}return null};function Mv(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(i[e.dataKey])){var l=ov(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Yt(i,Re(s)?e.dataKey:s);return Re(c)?null:e.scale(c)}var Zk=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Yt(s,n.dataKey,n.domain[l]);return Re(c)?null:n.scale(c)-a/2+i},sAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},oAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(dn(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},lAe=function(e){return e.reduce(function(n,r){return[X0(r.concat([n[0]]).filter(oe)),js(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},E8=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(u,d){var f=lAe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Jk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bw=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Jk.test(e[0])){var a=+Jk.exec(e[0])[1];i[0]=n[0]-a}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(eP.test(e[1])){var s=+eP.exec(e[1])[1];i[1]=n[1]+s}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Dv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=SE(n,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},tP=function(e,n,r){return!e||!e.length||fl(e,Hr(r,"type.defaultProps.domain"))?n:e},j8=function(e,n){var r=e.type.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Ft(Ft({},_e(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:YE(e),value:Yt(n,i),type:c,payload:n,chartType:u,hide:d})};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){T8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T8(t,e,n){return e=cAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cAe(t){var e=uAe(t,"string");return bh(e)=="symbol"?e:e+""}function uAe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dAe(t,e){return mAe(t)||pAe(t,e)||hAe(t,e)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hAe(t,e){if(t){if(typeof t=="string")return rP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rP(t,e)}}function rP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function mAe(t){if(Array.isArray(t))return t}var $v=Math.PI/180,gAe=function(e){return e*180/Math.PI},_t=function(e,n,r,i){return{x:e+Math.cos(-$v*i)*r,y:n+Math.sin(-$v*i)*r}},N8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vAe=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=sr(e.cx,s,s/2),f=sr(e.cy,l,l/2),h=N8(s,l,r),m=sr(e.innerRadius,h,0),v=sr(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,_){var x=n[_],g=x.domain,j=x.reversed,w;if(Re(x.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[m,v]),j&&(w=[w[1],w[0]]);else{w=x.range;var T=w,S=dAe(T,2);c=S[0],u=S[1]}var A=w8(x,a),N=A.realScaleType,I=A.scale;I.domain(g).range(w),A8(I);var C=S8(I,va(va({},x),{},{realScaleType:N})),R=va(va(va({},x),C),{},{range:w,radius:v,realScaleType:N,scale:I,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return va(va({},b),{},T8({},_,R))},{})},yAe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},xAe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=yAe({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:gAe(u),angleInRadian:u}},bAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},_Ae=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},iP=function(e,n){var r=e.x,i=e.y,a=xAe({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=bAe(n),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?va(va({},n),{},{radius:s,angle:_Ae(m,n)}):null},O8=function(e){return!k.isValidElement(e)&&!Oe(e)&&typeof e!="boolean"?e.className:""};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}var wAe=["offset"];function AAe(t){return TAe(t)||jAe(t)||EAe(t)||SAe()}function SAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function jAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TAe(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NAe(t,e){if(t==null)return{};var n=OAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){CAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CAe(t,e,n){return e=IAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IAe(t){var e=kAe(t,"string");return _h(e)=="symbol"?e:e+""}function kAe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}var PAe=function(e){var n=e.value,r=e.formatter,i=Re(e.children)?n:e.children;return Oe(r)?r(i):i},RAe=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},MAe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,y=c.clockWise,b=(f+h)/2,_=RAe(m,v),x=_>=0?1:-1,g,j;i==="insideStart"?(g=m+x*s,j=y):i==="insideEnd"?(g=v-x*s,j=!y):i==="end"&&(g=v+x*s,j=y),j=_<=0?j:!j;var w=_t(u,d,b,g),T=_t(u,d,b,g+(j?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(T.x,",").concat(T.y),A=Re(e.id)?Cl("recharts-radial-line-"):e.id;return D.createElement("text",wh({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",l)}),D.createElement("defs",null,D.createElement("path",{id:A,d:S})),D.createElement("textPath",{xlinkHref:"#".concat(A)},n))},DAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=_t(s,l,u+r,h),v=m.x,y=m.y;return{x:v,y,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,_=_t(s,l,b,h),x=_.x,g=_.y;return{x,y:g,textAnchor:"middle",verticalAnchor:"middle"}},$Ae=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,b=y*i,_=y>0?"end":"start",x=y>0?"start":"end";if(a==="top"){var g={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return on(on({},g),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return on(on({},j),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:l-b,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return on(on({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(a==="right"){var T={x:l+u+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return on(on({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var S=r?{width:u,height:d}:{};return a==="insideLeft"?on({x:l+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):a==="insideRight"?on({x:l+u-b,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?on({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?on({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?on({x:l+b,y:c+h,textAnchor:x,verticalAnchor:v},S):a==="insideTopRight"?on({x:l+u-b,y:c+h,textAnchor:_,verticalAnchor:v},S):a==="insideBottomLeft"?on({x:l+b,y:c+d-h,textAnchor:x,verticalAnchor:m},S):a==="insideBottomRight"?on({x:l+u-b,y:c+d-h,textAnchor:_,verticalAnchor:m},S):Qu(a)&&(oe(a.x)||Mo(a.x))&&(oe(a.y)||Mo(a.y))?on({x:l+sr(a.x,u),y:c+sr(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):on({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},LAe=function(e){return"cx"in e&&oe(e.cx)};function An(t){var e=t.offset,n=e===void 0?5:e,r=NAe(t,wAe),i=on({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Re(l)&&Re(c)&&!k.isValidElement(u)&&!Oe(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var m;if(Oe(u)){if(m=k.createElement(u,i),k.isValidElement(m))return m}else m=PAe(i);var v=LAe(a),y=_e(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return MAe(i,m,y);var b=v?DAe(i):$Ae(i);return D.createElement(dl,wh({className:$e("recharts-label",f)},y,b,{breakAll:h}),m)}An.displayName="Label";var C8=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,y=e.width,b=e.height,_=e.clockWise,x=e.labelViewBox;if(x)return x;if(oe(y)&&oe(b)){if(oe(f)&&oe(h))return{x:f,y:h,width:y,height:b};if(oe(m)&&oe(v))return{x:m,y:v,width:y,height:b}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},BAe=function(e,n){return e?e===!0?D.createElement(An,{key:"label-implicit",viewBox:n}):dn(e)?D.createElement(An,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===An?k.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(An,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?D.createElement(An,{key:"label-implicit",content:e,viewBox:n}):Qu(e)?D.createElement(An,wh({viewBox:n},e,{key:"label-implicit"})):null:null},UAe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=C8(e),s=qr(i,An).map(function(c,u){return k.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var l=BAe(e.label,n||a);return[l].concat(AAe(s))};An.parseViewBox=C8;An.renderCallByParent=UAe;function VAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zAe=VAe;const FAe=it(zAe);function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}var HAe=["valueAccessor"],qAe=["data","dataKey","clockWise","id","textBreakAll"];function GAe(t){return YAe(t)||XAe(t)||KAe(t)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KAe(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function XAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YAe(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){QAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QAe(t,e,n){return e=ZAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZAe(t){var e=JAe(t,"string");return Ah(e)=="symbol"?e:e+""}function JAe(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lP(t,e){if(t==null)return{};var n=eSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tSe=function(e){return Array.isArray(e.value)?FAe(e.value):e.value};function Zi(t){var e=t.valueAccessor,n=e===void 0?tSe:e,r=lP(t,HAe),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=lP(r,qAe);return!i||!i.length?null:D.createElement(He,{className:"recharts-label-list"},i.map(function(d,f){var h=Re(a)?n(d,f):Yt(d&&d.payload,a),m=Re(l)?{}:{id:"".concat(l,"-").concat(f)};return D.createElement(An,Lv({},_e(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:An.parseViewBox(Re(s)?d:oP(oP({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Zi.displayName="LabelList";function nSe(t,e){return t?t===!0?D.createElement(Zi,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Oe(t)?D.createElement(Zi,{key:"labelList-implicit",data:e,content:t}):Qu(t)?D.createElement(Zi,Lv({data:e},t,{key:"labelList-implicit"})):null:null}function rSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=qr(r,Zi).map(function(s,l){return k.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=nSe(t.label,e);return[a].concat(GAe(i))}Zi.renderCallByParent=rSe;function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(this,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){iSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iSe(t,e,n){return e=aSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aSe(t){var e=sSe(t,"string");return Sh(e)=="symbol"?e:e+""}function sSe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oSe=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Im=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/$v,h=u?a:a+s*f,m=_t(n,r,d,h),v=_t(n,r,i,h),y=u?a-s*f:a,b=_t(n,r,d*Math.cos(f*$v),y);return{center:m,circleTangency:v,lineTangency:b,theta:f}},I8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=oSe(s,l),u=s+c,d=_t(n,r,a,s),f=_t(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=_t(n,r,i,s),v=_t(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},lSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=ar(d-u),h=Im({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,y=h.theta,b=Im({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),_=b.circleTangency,x=b.lineTangency,g=b.theta,j=c?Math.abs(u-d):Math.abs(u-d)-y-g;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):I8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var T=Im({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),S=T.circleTangency,A=T.lineTangency,N=T.theta,I=Im({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=I.circleTangency,R=I.lineTangency,P=I.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-P;if(z<0&&s===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},cSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},k8=function(e){var n=uP(uP({},cSe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var m=$e("recharts-sector",h),v=s-a,y=sr(l,v,0,!0),b;return y>0&&Math.abs(d-f)<360?b=lSe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=I8({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),D.createElement("path",Aw({},_e(n,!0),{className:m,d:b,role:"img"}))};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){uSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uSe(t,e,n){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dSe(t){var e=fSe(t,"string");return Eh(e)=="symbol"?e:e+""}function fSe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hP={curveBasisClosed:ude,curveBasisOpen:dde,curveBasis:cde,curveBumpX:Xue,curveBumpY:Yue,curveLinearClosed:fde,curveLinear:$0,curveMonotoneX:hde,curveMonotoneY:pde,curveNatural:mde,curveStep:gde,curveStepAfter:yde,curveStepBefore:vde},km=function(e){return e.x===+e.x&&e.y===+e.y},Vd=function(e){return e.x},zd=function(e){return e.y},hSe=function(e,n){if(Oe(e))return e;var r="curve".concat(M0(e));return(r==="curveMonotone"||r==="curveBump")&&n?hP["".concat(r).concat(n==="vertical"?"Y":"X")]:hP[r]||$0},pSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=hSe(r,l),f=u?a.filter(function(y){return km(y)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(y){return km(y)}):s,v=f.map(function(y,b){return fP(fP({},y),{},{base:m[b]})});return l==="vertical"?h=wm().y(zd).x1(Vd).x0(function(y){return y.base.x}):h=wm().x(Vd).y1(zd).y0(function(y){return y.base.y}),h.defined(km).curve(d),h(v)}return l==="vertical"&&oe(s)?h=wm().y(zd).x1(Vd).x0(s):oe(s)?h=wm().x(Vd).y1(zd).y0(s):h=j5().x(Vd).y(zd),h.defined(km).curve(d),h(f)},Zo=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?pSe(e):i;return D.createElement("path",Sw({},_e(e,!1),lv(e),{className:$e("recharts-curve",n),d:s,ref:a}))},mSe=Object.getOwnPropertyNames,gSe=Object.getOwnPropertySymbols,vSe=Object.prototype.hasOwnProperty;function pP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Pm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function mP(t){return mSe(t).concat(gSe(t))}var ySe=Object.hasOwn||function(t,e){return vSe.call(t,e)};function Pl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var xSe="__v",bSe="__o",_Se="_owner",gP=Object.getOwnPropertyDescriptor,vP=Object.keys;function wSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ASe(t,e){return Pl(t.getTime(),e.getTime())}function SSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ESe(t,e){return t===e}function yP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=s.value,m=l.value;if(n.equals(h[0],m[0],c,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var jSe=Pl;function TSe(t,e,n){var r=vP(t),i=r.length;if(vP(e).length!==i)return!1;for(;i-- >0;)if(!P8(t,e,n,r[i]))return!1;return!0}function Fd(t,e,n){var r=mP(t),i=r.length;if(mP(e).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=r[i],!P8(t,e,n,a)||(s=gP(t,a),l=gP(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function NSe(t,e){return Pl(t.valueOf(),e.valueOf())}function OSe(t,e){return t.source===e.source&&t.flags===e.flags}function xP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,l;(s=a.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function CSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ISe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function P8(t,e,n,r){return(r===_Se||r===bSe||r===xSe)&&(t.$$typeof||e.$$typeof)?!0:ySe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var kSe="[object Arguments]",PSe="[object Boolean]",RSe="[object Date]",MSe="[object Error]",DSe="[object Map]",$Se="[object Number]",LSe="[object Object]",BSe="[object RegExp]",USe="[object Set]",VSe="[object String]",zSe="[object URL]",FSe=Array.isArray,bP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_P=Object.assign,HSe=Object.prototype.toString.call.bind(Object.prototype.toString);function qSe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;var _=typeof v;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?s(v,y,b):_==="function"?i(v,y,b):!1;var x=v.constructor;if(x!==y.constructor)return!1;if(x===Object)return l(v,y,b);if(FSe(v))return e(v,y,b);if(bP!=null&&bP(v))return f(v,y,b);if(x===Date)return n(v,y,b);if(x===RegExp)return u(v,y,b);if(x===Map)return a(v,y,b);if(x===Set)return d(v,y,b);var g=HSe(v);return g===RSe?n(v,y,b):g===BSe?u(v,y,b):g===DSe?a(v,y,b):g===USe?d(v,y,b):g===LSe?typeof v.then!="function"&&typeof y.then!="function"&&l(v,y,b):g===zSe?h(v,y,b):g===MSe?r(v,y,b):g===kSe?l(v,y,b):g===PSe||g===$Se||g===VSe?c(v,y,b):!1}}function GSe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Fd:wSe,areDatesEqual:ASe,areErrorsEqual:SSe,areFunctionsEqual:ESe,areMapsEqual:r?pP(yP,Fd):yP,areNumbersEqual:jSe,areObjectsEqual:r?Fd:TSe,arePrimitiveWrappersEqual:NSe,areRegExpsEqual:OSe,areSetsEqual:r?pP(xP,Fd):xP,areTypedArraysEqual:r?Fd:CSe,areUrlsEqual:ISe};if(n&&(i=_P({},i,n(i))),e){var a=Pm(i.areArraysEqual),s=Pm(i.areMapsEqual),l=Pm(i.areObjectsEqual),c=Pm(i.areSetsEqual);i=_P({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function WSe(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function KSe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,s)}}var XSe=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:function(){return Pl}});po({strict:!0,createInternalComparator:function(){return Pl}});po({circular:!0,createInternalComparator:function(){return Pl}});po({circular:!0,createInternalComparator:function(){return Pl},strict:!0});function po(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,l=GSe(t),c=qSe(l),u=r?r(c):WSe(c);return KSe({circular:n,comparator:c,createState:i,equals:u,strict:s})}function YSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function wP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):YSe(i)};requestAnimationFrame(r)}function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}function QSe(t){return t2e(t)||e2e(t)||JSe(t)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JSe(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t2e(t){if(Array.isArray(t))return t}function n2e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=QSe(s),c=l[0],u=l.slice(1);if(typeof c=="number"){wP(i.bind(null,u),c);return}i(c),wP(i.bind(null,u));return}Ew(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){R8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R8(t,e,n){return e=r2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r2e(t){var e=i2e(t,"string");return jh(e)==="symbol"?e:String(e)}function i2e(t,e){if(jh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a2e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},s2e=function(e){return e},o2e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Nf=function(e,n){return Object.keys(n).reduce(function(r,i){return EP(EP({},r),{},R8({},i,e(i,n[i])))},{})},jP=function(e,n,r){return e.map(function(i){return"".concat(o2e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function l2e(t,e){return d2e(t)||u2e(t,e)||M8(t,e)||c2e()}function c2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function d2e(t){if(Array.isArray(t))return t}function f2e(t){return m2e(t)||p2e(t)||M8(t)||h2e()}function h2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M8(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function p2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m2e(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bv=1e-4,D8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$8=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},TP=function(e,n){return function(r){var i=D8(e,n);return $8(i,r)}},g2e=function(e,n){return function(r){var i=D8(e,n),a=[].concat(f2e(i.map(function(s,l){return s*l}).slice(1)),[0]);return $8(a,r)}},NP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=l2e(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=TP(i,s),h=TP(a,l),m=g2e(i,s),v=function(_){return _>1?1:_<0?0:_},y=function(_){for(var x=_>1?1:_,g=x,j=0;j<8;++j){var w=f(g)-x,T=m(g);if(Math.abs(w-x)<Bv||T<Bv)return h(g);g=v(g-w/T)}return h(g)};return y.isStepper=!1,y},v2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*r,v=h*a,y=h+(m-v)*l/1e3,b=h*l/1e3+d;return Math.abs(b-f)<Bv&&Math.abs(y)<Bv?[f,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},y2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NP(i);case"spring":return v2e();default:if(i.split("(")[0]==="cubic-bezier")return NP(i)}return typeof i=="function"?i:null};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function OP(t){return _2e(t)||b2e(t)||L8(t)||x2e()}function x2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _2e(t){if(Array.isArray(t))return Nw(t)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tw(t,e,n){return e=w2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2e(t){var e=A2e(t,"string");return Th(e)==="symbol"?e:String(e)}function A2e(t,e){if(Th(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S2e(t,e){return T2e(t)||j2e(t,e)||L8(t,e)||E2e()}function E2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function T2e(t){if(Array.isArray(t))return t}var Uv=function(e,n,r){return e+(n-e)*r},Ow=function(e){var n=e.from,r=e.to;return n!==r},N2e=function t(e,n,r){var i=Nf(function(a,s){if(Ow(s)){var l=e(s.from,s.to,s.velocity),c=S2e(l,2),u=c[0],d=c[1];return On(On({},s),{},{from:u,velocity:d})}return s},n);return r<1?Nf(function(a,s){return Ow(s)?On(On({},s),{},{velocity:Uv(s.velocity,i[a].velocity,r),from:Uv(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const O2e=function(t,e,n,r,i){var a=a2e(t,e),s=a.reduce(function(b,_){return On(On({},b),{},Tw({},_,[t[_],e[_]]))},{}),l=a.reduce(function(b,_){return On(On({},b),{},Tw({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Nf(function(_,x){return x.from},l)},m=function(){return!Object.values(l).filter(Ow).length},v=function(_){u||(u=_);var x=_-u,g=x/n.dt;l=N2e(n,l,g),i(On(On(On({},t),e),h())),u=_,m()||(c=requestAnimationFrame(f))},y=function(_){d||(d=_);var x=(_-d)/r,g=Nf(function(w,T){return Uv.apply(void 0,OP(T).concat([n(x)]))},s);if(i(On(On(On({},t),e),g)),x<1)c=requestAnimationFrame(f);else{var j=Nf(function(w,T){return Uv.apply(void 0,OP(T).concat([n(1)]))},s);i(On(On(On({},t),e),j))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}var C2e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function I2e(t,e){if(t==null)return{};var n=k2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k2e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yb(t){return D2e(t)||M2e(t)||R2e(t)||P2e()}function P2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R2e(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function M2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D2e(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){ef(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ef(t,e,n){return e=B8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B8(r.key),r)}}function B2e(t,e,n){return e&&L2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B8(t){var e=U2e(t,"string");return pu(e)==="symbol"?e:String(e)}function U2e(t,e){if(pu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function z2e(t){var e=F2e();return function(){var r=Vv(t),i;if(e){var a=Vv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return kw(this,i)}}function kw(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pw(t)}function Pw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}var Ci=function(t){V2e(n,t);var e=z2e(n);function n(r,i){var a;$2e(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Pw(a)),a.changeStyle=a.changeStyle.bind(Pw(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),kw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},kw(a);a.state={style:c?ef({},c,u):u}}else a.state={style:{}};return a}return B2e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var m={style:c?ef({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(XSe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var b={style:c?ef({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(b)}this.runAnimation(yi(yi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=O2e(s,l,y2e(u),c,this.changeStyle),v=function(){a.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,b,_){if(_===0)return y;var x=b.duration,g=b.easing,j=g===void 0?"ease":g,w=b.style,T=b.properties,S=b.onAnimationEnd,A=_>0?s[_-1]:b,N=T||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(Yb(y),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:x,easing:j}),x]);var I=jP(N,x,j),C=yi(yi(yi({},A.style),w),{},{transition:I});return[].concat(Yb(y),[C,x,S]).filter(s2e)};return this.manager.start([c].concat(Yb(s.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=n2e());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=l?ef({},l,c):c,b=jP(Object.keys(y),s,u);v.start([d,a,yi(yi({},y),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=I2e(i,C2e),u=k.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(m){var v=m.props,y=v.style,b=y===void 0?{}:y,_=v.className,x=k.cloneElement(m,yi(yi({},c),{},{style:yi(yi({},b),d),className:_}));return x};return u===1?f(k.Children.only(a)):D.createElement("div",null,k.Children.map(a,function(h){return f(h)}))}}]),n}(k.PureComponent);Ci.displayName="Animate";Ci.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ci.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function H2e(t,e){return K2e(t)||W2e(t,e)||G2e(t,e)||q2e()}function q2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2e(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function K2e(t){if(Array.isArray(t))return t}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){X2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X2e(t,e,n){return e=Y2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2e(t){var e=Q2e(t,"string");return Nh(e)=="symbol"?e:e+""}function Q2e(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MP=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);d="M ".concat(e,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*v,`
            L `).concat(e+r,",").concat(n+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+i,`
            L `).concat(e+c*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Z2e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},J2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QE=function(e){var n=RP(RP({},J2e),e),r=k.useRef(),i=k.useState(-1),a=H2e(i,2),s=a[0],l=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,_=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var g=$e("recharts-rectangle",m);return x?D.createElement(Ci,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:v,isActive:x},function(j){var w=j.width,T=j.height,S=j.x,A=j.y;return D.createElement(Ci,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:_,easing:v},D.createElement("path",zv({},_e(n,!0),{className:g,d:MP(S,A,w,T,h),ref:r})))}):D.createElement("path",zv({},_e(n,!0),{className:g,d:MP(c,u,d,f,h)}))},eEe=["points","className","baseLinePoints","connectNulls"];function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function tEe(t,e){if(t==null)return{};var n=nEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DP(t){return sEe(t)||aEe(t)||iEe(t)||rEe()}function rEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iEe(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function aEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sEe(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $P=function(e){return e&&e.x===+e.x&&e.y===+e.y},oEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){$P(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),$P(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Of=function(e,n){var r=oEe(e);n&&(r=[r.reduce(function(a,s){return[].concat(DP(a),DP(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},lEe=function(e,n,r){var i=Of(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Of(n.reverse(),r).slice(1))},cEe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=tEe(e,eEe);if(!n||!n.length)return null;var l=$e("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=lEe(n,i,a);return D.createElement("g",{className:l},D.createElement("path",gc({},_e(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?D.createElement("path",gc({},_e(s,!0),{fill:"none",d:Of(n,a)})):null,c?D.createElement("path",gc({},_e(s,!0),{fill:"none",d:Of(i,a)})):null)}var d=Of(n,a);return D.createElement("path",gc({},_e(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}var jp=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=$e("recharts-dot",a);return n===+n&&r===+r&&i===+i?D.createElement("circle",Mw({},_e(e,!1),lv(e),{className:s,cx:n,cy:r,r:i})):null};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}var uEe=["x","y","top","left","width","height","className"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){fEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e,n){return e=hEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hEe(t){var e=pEe(t,"string");return Oh(e)=="symbol"?e:e+""}function pEe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mEe(t,e){if(t==null)return{};var n=gEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vEe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},yEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,y=mEe(e,uEe),b=dEe({x:r,y:a,top:l,left:u,width:f,height:m},y);return!oe(r)||!oe(a)||!oe(f)||!oe(m)||!oe(l)||!oe(u)?null:D.createElement("path",Dw({},_e(b,!0),{className:$e("recharts-cross",v),d:vEe(r,a,f,m,l,u)}))},xEe=K0,bEe=e8,_Ee=la;function wEe(t,e){return t&&t.length?xEe(t,_Ee(e),bEe):void 0}var AEe=wEe;const SEe=it(AEe);var EEe=K0,jEe=la,TEe=t8;function NEe(t,e){return t&&t.length?EEe(t,jEe(e),TEe):void 0}var OEe=NEe;const CEe=it(OEe);var IEe=["cx","cy","angle","ticks","axisLine"],kEe=["ticks","tick","angle","tickFormatter","stroke"];function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UP(t,e){if(t==null)return{};var n=PEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function REe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V8(r.key),r)}}function MEe(t,e,n){return e&&VP(t.prototype,e),n&&VP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DEe(t,e,n){return e=Fv(e),$Ee(t,U8()?Reflect.construct(e,n||[],Fv(t).constructor):e.apply(t,n))}function $Ee(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LEe(t)}function LEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U8=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function BEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function Z0(t,e,n){return e=V8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V8(t){var e=UEe(t,"string");return mu(e)=="symbol"?e:e+""}function UEe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J0=function(t){function e(){return REe(this,e),DEe(this,e,arguments)}return BEe(e,t),MEe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return _t(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=SEe(l,function(d){return d.coordinate||0}),u=CEe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=r.axisLine,u=UP(r,IEe),d=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=_t(i,a,d[0],s),h=_t(i,a,d[1],s),m=wo(wo(wo({},_e(u,!1)),{},{fill:"none"},_e(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return D.createElement("line",Cf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=UP(i,kEe),f=this.getTickTextAnchor(),h=_e(d,!1),m=_e(s,!1),v=a.map(function(y,b){var _=r.getTickValueCoord(y),x=wo(wo(wo(wo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:b},_),{},{payload:y});return D.createElement(He,Cf({className:$e("recharts-polar-radius-axis-tick",O8(s)),key:"tick-".concat(y.coordinate)},ul(r.props,y,b)),e.renderTickItem(s,x,c?c(y.value,b):y.value))});return D.createElement(He,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:D.createElement(He,{className:$e("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),An.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return D.isValidElement(r)?s=D.cloneElement(r,i):Oe(r)?s=r(i):s=D.createElement(dl,Cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(k.PureComponent);Z0(J0,"displayName","PolarRadiusAxis");Z0(J0,"axisType","radiusAxis");Z0(J0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Io(){return Io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Io.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F8(r.key),r)}}function zEe(t,e,n){return e&&FP(t.prototype,e),n&&FP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FEe(t,e,n){return e=Hv(e),HEe(t,z8()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function HEe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qEe(t)}function qEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z8=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function GEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function ex(t,e,n){return e=F8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8(t){var e=WEe(t,"string");return gu(e)=="symbol"?e:e+""}function WEe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KEe=Math.PI/180,XEe=1e-5,tx=function(t){function e(){return VEe(this,e),FEe(this,e,arguments)}return GEe(e,t),zEe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=_t(a,s,l,r.coordinate),h=_t(a,s,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*KEe),s;return a>XEe?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,l=r.axisLine,c=r.axisLineType,u=Ao(Ao({},_e(this.props,!1)),{},{fill:"none"},_e(l,!1));if(c==="circle")return D.createElement(jp,Io({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return _t(i,a,s,h.coordinate)});return D.createElement(cEe,Io({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=_e(this.props,!1),f=_e(s,!1),h=Ao(Ao({},d),{},{fill:"none"},_e(l,!1)),m=a.map(function(v,y){var b=r.getTickLineCoord(v),_=r.getTickTextAnchor(v),x=Ao(Ao(Ao({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:b.x2,y:b.y2});return D.createElement(He,Io({className:$e("recharts-polar-angle-axis-tick",O8(s)),key:"tick-".concat(v.coordinate)},ul(r.props,v,y)),l&&D.createElement("line",Io({className:"recharts-polar-angle-axis-tick-line"},h,b)),s&&e.renderTickItem(s,x,c?c(v.value,y):v.value))});return D.createElement(He,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:D.createElement(He,{className:$e("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return D.isValidElement(r)?s=D.cloneElement(r,i):Oe(r)?s=r(i):s=D.createElement(dl,Io({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(k.PureComponent);ex(tx,"displayName","PolarAngleAxis");ex(tx,"axisType","angleAxis");ex(tx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YEe=Y5,QEe=YEe(Object.getPrototypeOf,Object),ZEe=QEe,JEe=Qa,eje=ZEe,tje=Za,nje="[object Object]",rje=Function.prototype,ije=Object.prototype,H8=rje.toString,aje=ije.hasOwnProperty,sje=H8.call(Object);function oje(t){if(!tje(t)||JEe(t)!=nje)return!1;var e=eje(t);if(e===null)return!0;var n=aje.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&H8.call(n)==sje}var lje=oje;const cje=it(lje);var uje=Qa,dje=Za,fje="[object Boolean]";function hje(t){return t===!0||t===!1||dje(t)&&uje(t)==fje}var pje=hje;const mje=it(pje);function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function gje(t,e){return bje(t)||xje(t,e)||yje(t,e)||vje()}function vje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yje(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function bje(t){if(Array.isArray(t))return t}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){_je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _je(t,e,n){return e=wje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wje(t){var e=Aje(t,"string");return Ch(e)=="symbol"?e:e+""}function Aje(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WP=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},Sje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eje=function(e){var n=GP(GP({},Sje),e),r=k.useRef(),i=k.useState(-1),a=gje(i,2),s=a[0],l=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&l(g)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=$e("recharts-trapezoid",m);return _?D.createElement(Ci,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:_},function(g){var j=g.upperWidth,w=g.lowerWidth,T=g.height,S=g.x,A=g.y;return D.createElement(Ci,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},D.createElement("path",qv({},_e(n,!0),{className:x,d:WP(S,A,j,w,T),ref:r})))}):D.createElement("g",null,D.createElement("path",qv({},_e(n,!0),{className:x,d:WP(c,u,d,f,h)})))},jje=["option","shapeType","propTransformer","activeClassName","isActive"];function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Tje(t,e){if(t==null)return{};var n=Nje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Oje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oje(t,e,n){return e=Cje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cje(t){var e=Ije(t,"string");return Ih(e)=="symbol"?e:e+""}function Ije(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kje(t,e){return Gv(Gv({},e),t)}function Pje(t,e){return t==="symbols"}function XP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(QE,n);case"trapezoid":return D.createElement(Eje,n);case"sector":return D.createElement(k8,n);case"symbols":if(Pje(e))return D.createElement(gE,n);break;default:return null}}function Rje(t){return k.isValidElement(t)?t.props:t}function q8(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?kje:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=Tje(t,jje),u;if(k.isValidElement(e))u=k.cloneElement(e,Gv(Gv({},c),Rje(e)));else if(Oe(e))u=e(c);else if(cje(e)&&!mje(e)){var d=i(e,c);u=D.createElement(XP,{shapeType:n,elementProps:d})}else{var f=c;u=D.createElement(XP,{shapeType:n,elementProps:f})}return l?D.createElement(He,{className:s},u):u}function nx(t,e){return e!=null&&"trapezoids"in t.props}function rx(t,e){return e!=null&&"sectors"in t.props}function kh(t,e){return e!=null&&"points"in t.props}function Mje(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Dje(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function $je(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Lje(t,e){var n;return nx(t,e)?n=Mje:rx(t,e)?n=Dje:kh(t,e)&&(n=$je),n}function Bje(t,e){var n;return nx(t,e)?n="trapezoids":rx(t,e)?n="sectors":kh(t,e)&&(n="points"),n}function Uje(t,e){if(nx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(rx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return kh(t,e)?e.payload:{}}function Vje(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Bje(n,e),a=Uje(n,e),s=r.filter(function(c,u){var d=fl(a,c),f=n.props[i].filter(function(v){var y=Lje(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=r.indexOf(s[s.length-1]);return l}var lg;function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W8(r.key),r)}}function Fje(t,e,n){return e&&QP(t.prototype,e),n&&QP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hje(t,e,n){return e=Wv(e),qje(t,G8()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function qje(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gje(t)}function Gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G8=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function Wje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bw(t,e)}function ri(t,e,n){return e=W8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W8(t){var e=Kje(t,"string");return vu(e)=="symbol"?e:e+""}function Kje(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ii=function(t){function e(n){var r;return zje(this,e),r=Hje(this,e,[n]),ri(r,"pieRef",null),ri(r,"sectorRefs",[]),ri(r,"id",Cl("recharts-pie-")),ri(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Oe(i)&&i()}),ri(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Oe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Wje(e,t),Fje(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=_e(this.props,!1),f=_e(s,!1),h=_e(l,!1),m=s&&s.offsetRadius||20,v=r.map(function(y,b){var _=(y.startAngle+y.endAngle)/2,x=_t(y.cx,y.cy,y.outerRadius+m,_),g=xt(xt(xt(xt({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(x.x,y.cx)},x),j=xt(xt(xt(xt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[_t(y.cx,y.cy,y.outerRadius,_),x]}),w=c;return Re(c)&&Re(u)?w="value":Re(c)&&(w=u),D.createElement(He,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,j,"line"),e.renderLabelItem(s,g,Yt(y,w)))});return D.createElement(He,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?s:h,v=xt(xt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return D.createElement(He,vc({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ul(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),D.createElement(q8,vc({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return D.createElement(Ci,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,b=[],_=a&&a[0],x=_.startAngle;return a.forEach(function(g,j){var w=h&&h[j],T=j>0?Hr(g,"paddingAngle",0):0;if(w){var S=cn(w.endAngle-w.startAngle,g.endAngle-g.startAngle),A=xt(xt({},g),{},{startAngle:x+T,endAngle:x+S(y)+T});b.push(A),x=A.endAngle}else{var N=g.endAngle,I=g.startAngle,C=cn(0,N-I),R=C(y),P=xt(xt({},g),{},{startAngle:x+T,endAngle:x+R+T});b.push(P),x=P.endAngle}}),D.createElement(He,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!fl(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!oe(u)||!oe(d)||!oe(f)||!oe(h))return null;var y=$e("recharts-pie",l);return D.createElement(He,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){r.pieRef=_}},this.renderSectors(),c&&this.renderLabels(s),An.renderCallByParent(this.props,null,!1),(!m||v)&&Zi.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(D.isValidElement(r))return D.cloneElement(r,i);if(Oe(r))return r(i);var s=$e("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return D.createElement(Zo,vc({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(D.isValidElement(r))return D.cloneElement(r,i);var s=a;if(Oe(r)&&(s=r(i),D.isValidElement(s)))return s;var l=$e("recharts-pie-label-text",typeof r!="boolean"&&!Oe(r)?r.className:"");return D.createElement(dl,vc({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(k.PureComponent);lg=Ii;ri(Ii,"displayName","Pie");ri(Ii,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ri(Ii,"parseDeltaAngle",function(t,e){var n=ar(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ri(Ii,"getRealPieData",function(t){var e=t.data,n=t.children,r=_e(t,!1),i=qr(n,cu);return e&&e.length?e.map(function(a,s){return xt(xt(xt({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return xt(xt({},r),a.props)}):[]});ri(Ii,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=N8(i,a),l=r+sr(t.cx,i,i/2),c=n+sr(t.cy,a,a/2),u=sr(t.innerRadius,s,0),d=sr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ri(Ii,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?xt(xt({},e.type.defaultProps),e.props):e.props,i=lg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),v=lg.parseCoordinateOfPie(r,n),y=lg.parseDeltaAngle(s,l),b=Math.abs(y),_=u;Re(u)&&Re(f)?(Ti(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Re(u)&&(Ti(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var x=i.filter(function(A){return Yt(A,_,0)!==0}).length,g=(b>=360?x:x-1)*c,j=b-x*m-g,w=i.reduce(function(A,N){var I=Yt(N,_,0);return A+(oe(I)?I:0)},0),T;if(w>0){var S;T=i.map(function(A,N){var I=Yt(A,_,0),C=Yt(A,d,N),R=(oe(I)?I:0)/w,P;N?P=S.endAngle+ar(y)*c*(I!==0?1:0):P=s;var z=P+ar(y)*((I!==0?m:0)+R*j),V=(P+z)/2,B=(v.innerRadius+v.outerRadius)/2,L=[{name:C,value:I,payload:A,dataKey:_,type:h}],U=_t(v.cx,v.cy,B,V);return S=xt(xt(xt({percent:R,cornerRadius:a,name:C,tooltipPayload:L,midAngle:V,middleRadius:B,tooltipPosition:U},A),v),{},{value:Yt(A,_),startAngle:P,endAngle:z,payload:A,paddingAngle:ar(y)*c}),S})}return xt(xt({},v),{},{sectors:T,data:i})});var Xje=Math.ceil,Yje=Math.max;function Qje(t,e,n,r){for(var i=-1,a=Yje(Xje((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var Zje=Qje,Jje=mB,eTe=1/0,tTe=17976931348623157e292;function nTe(t){if(!t)return t===0?t:0;if(t=Jje(t),t===eTe||t===-1/0){var e=t<0?-1:1;return e*tTe}return t===t?t:0}var K8=nTe,rTe=Zje,iTe=V0,Qb=K8;function aTe(t){return function(e,n,r){return r&&typeof r!="number"&&iTe(e,n,r)&&(n=r=void 0),e=Qb(e),n===void 0?(n=e,e=0):n=Qb(n),r=r===void 0?e<n?1:-1:Qb(r),rTe(e,n,r,t)}}var sTe=aTe,oTe=sTe,lTe=oTe(),cTe=lTe;const Kv=it(cTe);function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){X8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X8(t,e,n){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uTe(t){var e=dTe(t,"string");return Ph(e)=="symbol"?e:e+""}function dTe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fTe=["Webkit","Moz","O","ms"],hTe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=fTe.reduce(function(a,s){return JP(JP({},a),{},X8({},s+r,n))},{});return i[e]=n,i};function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(this,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){Cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q8(r.key),r)}}function mTe(t,e,n){return e&&tR(t.prototype,e),n&&tR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gTe(t,e,n){return e=Yv(e),vTe(t,Y8()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function vTe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y8=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function xTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function Cr(t,e,n){return e=Q8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q8(t){var e=bTe(t,"string");return yu(e)=="symbol"?e:e+""}function bTe(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Te=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=jf().domain(Kv(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},nR=function(e){return e.changedTouches&&!!e.changedTouches.length},xu=function(t){function e(n){var r;return pTe(this,e),r=gTe(this,e,[n]),Cr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Cr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Cr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Cr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Cr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Cr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Cr(r,"handleSlideDragStart",function(i){var a=nR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return xTe(e,t),mTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Yt(a[r],l,r);return Oe(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+d-f-l,u+d-f-s):y<0&&(y=Math.max(y,u-s,u-l));var b=this.getIndex({startX:s+y,endX:l+y});(b.startIndex!==h||b.endIndex!==m)&&v&&v(b),this.setState({startX:s+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=nR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,y=d.gap,b=d.data,_={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),_[s]=u+x;var g=this.getIndex(_),j=g.startIndex,w=g.endIndex,T=function(){var A=b.length-1;return s==="startX"&&(l>c?j%y===0:w%y===0)||l<c&&w===A||s==="endX"&&(l>c?w%y===0:j%y===0)||l>c&&w===A};this.setState(Cr(Cr({},s,u+x),"brushMoveStartX",r.pageX),function(){v&&T()&&v(g)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Cr({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=k.Children.only(u);return f?D.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,y=c.startIndex,b=c.endIndex,_=Math.max(r,this.props.x),x=Zb(Zb({},_e(this.props,!1)),{},{x:_,y:u,width:d,height:f}),g=m||"Min value: ".concat((a=v[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[b])===null||s===void 0?void 0:s.name);return D.createElement(He,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return D.createElement(He,{className:"recharts-brush-texts"},D.createElement(dl,Xv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+l/2},v),this.getTextOfTick(i)),D.createElement(dl,Xv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,_=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!oe(l)||!oe(c)||!oe(u)||!oe(d)||u<=0||d<=0)return null;var g=$e("recharts-brush",a),j=D.Children.count(s)===1,w=hTe("userSelect","none");return D.createElement(He,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||_||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return D.isValidElement(r)?a=D.cloneElement(r,i):Oe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Zb({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?_Te({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])}(k.PureComponent);Cr(xu,"displayName","Brush");Cr(xu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var wTe=AE;function ATe(t,e){var n;return wTe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var STe=ATe,ETe=z5,jTe=la,TTe=STe,NTe=wr,OTe=V0;function CTe(t,e,n){var r=NTe(t)?ETe:TTe;return n&&OTe(t,e,n)&&(e=void 0),r(t,jTe(e))}var ITe=CTe;const kTe=it(ITe);var Ji=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},rR=uB;function PTe(t,e,n){e=="__proto__"&&rR?rR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var RTe=PTe,MTe=RTe,DTe=lB,$Te=la;function LTe(t,e){var n={};return e=$Te(e),DTe(t,function(r,i,a){MTe(n,i,e(r,i,a))}),n}var BTe=LTe;const UTe=it(BTe);function VTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var zTe=VTe,FTe=AE;function HTe(t,e){var n=!0;return FTe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var qTe=HTe,GTe=zTe,WTe=qTe,KTe=la,XTe=wr,YTe=V0;function QTe(t,e,n){var r=XTe(t)?GTe:WTe;return n&&YTe(t,e,n)&&(e=void 0),r(t,KTe(e))}var ZTe=QTe;const Z8=it(ZTe);var JTe=["x","y"];function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){eNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eNe(t,e,n){return e=tNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tNe(t){var e=nNe(t,"string");return Rh(e)=="symbol"?e:e+""}function nNe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rNe(t,e){if(t==null)return{};var n=iNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aNe(t,e){var n=t.x,r=t.y,i=rNe(t,JTe),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Hd(Hd(Hd(Hd(Hd({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function aR(t){return D.createElement(q8,Vw({shapeType:"rectangle",propTransformer:aNe,activeClassName:"recharts-active-bar"},t))}var sNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||pl(),n)}},oNe=["value","background"],J8;function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function lNe(t,e){if(t==null)return{};var n=cNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t9(r.key),r)}}function dNe(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fNe(t,e,n){return e=Zv(e),hNe(t,e9()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function hNe(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pNe(t)}function pNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function mNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function Ts(t,e,n){return e=t9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t9(t){var e=gNe(t,"string");return bu(e)=="symbol"?e:e+""}function gNe(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rl=function(t){function e(){var n;uNe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=fNe(this,e,[].concat(i)),Ts(n,"state",{isAnimationFinished:!1}),Ts(n,"id",Cl("recharts-bar-")),Ts(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ts(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return mNe(e,t),dNe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=_e(this.props,!1);return r&&r.map(function(f,h){var m=h===c,v=m?u:s,y=Zt(Zt(Zt({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(He,Qv({className:"recharts-bar-rectangle"},ul(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(aR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(Ci,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,y=a.map(function(b,_){var x=h&&h[_];if(x){var g=cn(x.x,b.x),j=cn(x.y,b.y),w=cn(x.width,b.width),T=cn(x.height,b.height);return Zt(Zt({},b),{},{x:g(v),y:j(v),width:w(v),height:T(v)})}if(s==="horizontal"){var S=cn(0,b.height),A=S(v);return Zt(Zt({},b),{},{y:b.y+b.height-A,height:A})}var N=cn(0,b.width),I=N(v);return Zt(Zt({},b),{},{width:I})});return D.createElement(He,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!fl(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=_e(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=lNe(u,oNe);if(!f)return null;var m=Zt(Zt(Zt(Zt(Zt({},h),{},{fill:"#eee"},f),c),ul(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(aR,Qv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=qr(d,Ep);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(b,_){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:Yt(b,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(He,v,f.map(function(y){return D.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,y=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,_=$e("recharts-bar",s),x=l&&l.allowDataOverflow,g=c&&c.allowDataOverflow,j=x||g,w=Re(y)?this.id:y;return D.createElement(He,{className:_},x||g?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(w)},D.createElement("rect",{x:x?u:u-f/2,y:g?d:d-h/2,width:x?f:f*2,height:g?h:h*2}))):null,D.createElement(He,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,w),(!m||b)&&Zi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);J8=Rl;Ts(Rl,"displayName","Bar");Ts(Rl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ts(Rl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Jwe(r,n);if(!m)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?Zt(Zt({},y),n.props):n.props,_=b.dataKey,x=b.children,g=b.minPointSize,j=v==="horizontal"?s:a,w=u?j.scale.domain():null,T=sAe({numericAxis:j}),S=qr(x,cu),A=f.map(function(N,I){var C,R,P,z,V,B;u?C=eAe(u[d+I],w):(C=Yt(N,_),Array.isArray(C)||(C=[T,C]));var L=sNe(g,J8.defaultProps.minPointSize)(C[1],I);if(v==="horizontal"){var U,W=[s.scale(C[0]),s.scale(C[1])],G=W[0],te=W[1];R=Zk({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:N,index:I}),P=(U=te??G)!==null&&U!==void 0?U:void 0,z=m.size;var F=G-te;if(V=Number.isNaN(F)?0:F,B={x:R,y:s.y,width:z,height:s.height},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var $=ar(V||L)*(Math.abs(L)-Math.abs(V));P-=$,V+=$}}else{var X=[a.scale(C[0]),a.scale(C[1])],Z=X[0],ve=X[1];if(R=Z,P=Zk({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:N,index:I}),z=ve-Z,V=m.size,B={x:a.x,y:P,width:a.width,height:V},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var De=ar(z||L)*(Math.abs(L)-Math.abs(z));z+=De}}return Zt(Zt(Zt({},N),{},{x:R,y:P,width:z,height:V,value:u?C:C[1],payload:N,background:B},S&&S[I]&&S[I].props),{},{tooltipPayload:[j8(n,N)],tooltipPosition:{x:R+z/2,y:P+V/2}})});return Zt({data:A,layout:v},h)});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function vNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function yNe(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ix(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=xNe(t,"string");return Mh(e)=="symbol"?e:e+""}function xNe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZE=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!kr(u,Rl);return d.reduce(function(m,v){var y=n[v],b=y.orientation,_=y.domain,x=y.padding,g=x===void 0?{}:x,j=y.mirror,w=y.reversed,T="".concat(b).concat(j?"Mirror":""),S,A,N,I,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=_[1]-_[0],P=1/0,z=y.categoricalDomain.sort(Lce);if(z.forEach(function(X,Z){Z>0&&(P=Math.min((X||0)-(z[Z-1]||0),P))}),Number.isFinite(P)){var V=P/R,B=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=V*B/2),y.padding==="no-gap"){var L=sr(e.barCategoryGap,V*B),U=V*B/2;S=U-L-(U-L)/B*L}}}i==="xAxis"?A=[r.left+(g.left||0)+(S||0),r.left+r.width-(g.right||0)-(S||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(g.bottom||0),r.top+(g.top||0)]:[r.top+(g.top||0)+(S||0),r.top+r.height-(g.bottom||0)-(S||0)]:A=y.range,w&&(A=[A[1],A[0]]);var W=w8(y,a,h),G=W.scale,te=W.realScaleType;G.domain(_).range(A),A8(G);var F=S8(G,bi(bi({},y),{},{realScaleType:te}));i==="xAxis"?(C=b==="top"&&!j||b==="bottom"&&j,N=r.left,I=f[T]-C*y.height):i==="yAxis"&&(C=b==="left"&&!j||b==="right"&&j,N=f[T]-C*y.width,I=r.top);var $=bi(bi(bi({},y),F),{},{realScaleType:te,x:N,y:I,scale:G,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return $.bandSize=Dv($,F),!y.hide&&i==="xAxis"?f[T]+=(C?-1:1)*$.height:y.hide||(f[T]+=(C?-1:1)*$.width),bi(bi({},m),{},ix({},v,$))},{})},r9=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},bNe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return r9({x:n,y:r},{x:i,y:a})},i9=function(){function t(e){vNe(this,t),this.scale=e}return yNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ix(i9,"EPS",1e-4);var JE=function(e){var n=Object.keys(e).reduce(function(r,i){return bi(bi({},r),{},ix({},i,i9.create(e[i])))},{});return bi(bi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return UTe(i,function(c,u){return n[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return Z8(i,function(a,s){return n[s].isInRange(a)})}})};function _Ne(t){return(t%180+180)%180}var wNe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_Ne(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},ANe=la,SNe=bp,ENe=B0;function jNe(t){return function(e,n,r){var i=Object(e);if(!SNe(e)){var a=ANe(n);e=ENe(e),n=function(l){return a(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var TNe=jNe,NNe=K8;function ONe(t){var e=NNe(t),n=e%1;return e===e?n?e-n:e:0}var CNe=ONe,INe=nB,kNe=la,PNe=CNe,RNe=Math.max;function MNe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:PNe(n);return i<0&&(i=RNe(r+i,0)),INe(t,kNe(e),i)}var DNe=MNe,$Ne=TNe,LNe=DNe,BNe=$Ne(LNe),UNe=BNe;const VNe=it(UNe);var zNe=zle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ej=k.createContext(void 0),tj=k.createContext(void 0),a9=k.createContext(void 0),s9=k.createContext({}),o9=k.createContext(void 0),l9=k.createContext(0),c9=k.createContext(0),uR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=zNe(a);return D.createElement(ej.Provider,{value:r},D.createElement(tj.Provider,{value:i},D.createElement(s9.Provider,{value:a},D.createElement(a9.Provider,{value:d},D.createElement(o9.Provider,{value:s},D.createElement(l9.Provider,{value:u},D.createElement(c9.Provider,{value:c},l)))))))},FNe=function(){return k.useContext(o9)},u9=function(e){var n=k.useContext(ej);n==null&&pl();var r=n[e];return r==null&&pl(),r},HNe=function(){var e=k.useContext(ej);return bs(e)},qNe=function(){var e=k.useContext(tj),n=VNe(e,function(r){return Z8(r.domain,Number.isFinite)});return n||bs(e)},d9=function(e){var n=k.useContext(tj);n==null&&pl();var r=n[e];return r==null&&pl(),r},GNe=function(){var e=k.useContext(a9);return e},WNe=function(){return k.useContext(s9)},nj=function(){return k.useContext(c9)},rj=function(){return k.useContext(l9)};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function KNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h9(r.key),r)}}function YNe(t,e,n){return e&&XNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QNe(t,e,n){return e=Jv(e),ZNe(t,f9()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function ZNe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JNe(t)}function JNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function eOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ij(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h9(t){var e=tOe(t,"string");return _u(e)=="symbol"?e:e+""}function tOe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nOe(t,e){return sOe(t)||aOe(t,e)||iOe(t,e)||rOe()}function rOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iOe(t,e){if(t){if(typeof t=="string")return hR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hR(t,e)}}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function sOe(t){if(Array.isArray(t))return t}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}var oOe=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):Oe(e)?r=e(n):r=D.createElement("line",Hw({},n,{className:"recharts-reference-line-line"})),r},lOe=function(e,n,r,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var v=u.y,y=e.y.apply(v,{position:s});if(Ji(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+h,y},{x:d,y}];return c==="left"?b.reverse():b}if(n){var _=u.x,x=e.x.apply(_,{position:s});if(Ji(u,"discard")&&!e.x.isInRange(x))return null;var g=[{x,y:f+m},{x,y:f}];return l==="top"?g.reverse():g}if(i){var j=u.segment,w=j.map(function(T){return e.apply(T,{position:s})});return Ji(u,"discard")&&kTe(w,function(T){return!e.isInRange(T)})?null:w}return null};function cOe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=FNe(),d=u9(i),f=d9(a),h=GNe();if(!u||!h)return null;Ti(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=JE({x:d.scale,y:f.scale}),v=dn(e),y=dn(n),b=r&&r.length===2,_=lOe(m,v,y,b,h,t.position,d.orientation,f.orientation,t);if(!_)return null;var x=nOe(_,2),g=x[0],j=g.x,w=g.y,T=x[1],S=T.x,A=T.y,N=Ji(t,"hidden")?"url(#".concat(u,")"):void 0,I=fR(fR({clipPath:N},_e(t,!0)),{},{x1:j,y1:w,x2:S,y2:A});return D.createElement(He,{className:$e("recharts-reference-line",l)},oOe(s,I),An.renderCallByParent(t,bNe({x1:j,y1:w,x2:S,y2:A})))}var aj=function(t){function e(){return KNe(this,e),QNe(this,e,arguments)}return eOe(e,t),YNe(e,[{key:"render",value:function(){return D.createElement(cOe,this.props)}}])}(D.Component);ij(aj,"displayName","ReferenceLine");ij(aj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m9(r.key),r)}}function fOe(t,e,n){return e&&dOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hOe(t,e,n){return e=ey(e),pOe(t,p9()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function pOe(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mOe(t)}function mOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function gOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function ax(t,e,n){return e=m9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m9(t){var e=vOe(t,"string");return wu(e)=="symbol"?e:e+""}function vOe(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yOe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=JE({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Ji(e,"discard")&&!s.isInRange(l)?null:l},sx=function(t){function e(){return uOe(this,e),hOe(this,e,arguments)}return gOe(e,t),fOe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,u=dn(i),d=dn(a);if(Ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=yOe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,y=v.shape,b=v.className,_=Ji(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=mR(mR({clipPath:_},_e(this.props,!0)),{},{cx:h,cy:m});return D.createElement(He,{className:$e("recharts-reference-dot",b)},e.renderDot(y,x),An.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(D.Component);ax(sx,"displayName","ReferenceDot");ax(sx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ax(sx,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Oe(t)?n=t(e):n=D.createElement(jp,qw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v9(r.key),r)}}function _Oe(t,e,n){return e&&bOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wOe(t,e,n){return e=ty(e),AOe(t,g9()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function AOe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(t)}function SOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function EOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kw(t,e)}function ox(t,e,n){return e=v9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v9(t){var e=jOe(t,"string");return Au(e)=="symbol"?e:e+""}function jOe(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TOe=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=JE({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ji(a,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:r9(m,v)},lx=function(t){function e(){return xOe(this,e),wOe(this,e,arguments)}return EOe(e,t),_Oe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Ti(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=dn(i),h=dn(a),m=dn(s),v=dn(l),y=this.props.shape;if(!f&&!h&&!m&&!v&&!y)return null;var b=TOe(f,h,m,v,this.props);if(!b&&!y)return null;var _=Ji(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(He,{className:$e("recharts-reference-area",c)},e.renderRect(y,vR(vR({clipPath:_},_e(this.props,!0)),b)),An.renderCallByParent(this.props,b))}}])}(D.Component);ox(lx,"displayName","ReferenceArea");ox(lx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ox(lx,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):Oe(t)?n=t(e):n=D.createElement(QE,Ww({},e,{className:"recharts-reference-area-rect"})),n});function y9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function NOe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wNe(r,n)}function OOe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function ny(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function COe(t,e){return y9(t,e+1)}function IOe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:y9(r,u)};var y=c,b,_=function(){return b===void 0&&(b=n(v,y)),b},x=v.coordinate,g=c===0||ny(t,x,_,d,l);g||(c=0,d=s,u+=1),g&&(d=x+t*(_()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){kOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kOe(t,e,n){return e=POe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function POe(t){var e=ROe(t,"string");return Dh(e)=="symbol"?e:e+""}function ROe(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MOe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,u=function(h){var m=a[h],v,y=function(){return v===void 0&&(v=n(m,h)),v};if(h===s-1){var b=t*(m.coordinate+t*y()/2-c);a[h]=m=Fn(Fn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else a[h]=m=Fn(Fn({},m),{},{tickCoord:m.coordinate});var _=ny(t,m.tickCoord,y,l,c);_&&(c=m.tickCoord-t*(y()/2+i),a[h]=Fn(Fn({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function DOe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,u=e.end;if(a){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);s[l-1]=d=Fn(Fn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=ny(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),s[l-1]=Fn(Fn({},d),{},{isShow:!0}))}for(var v=a?l-1:l,y=function(x){var g=s[x],j,w=function(){return j===void 0&&(j=n(g,x)),j};if(x===0){var T=t*(g.coordinate-t*w()/2-c);s[x]=g=Fn(Fn({},g),{},{tickCoord:T<0?g.coordinate-T*t:g.coordinate})}else s[x]=g=Fn(Fn({},g),{},{tickCoord:g.coordinate});var S=ny(t,g.tickCoord,w,c,u);S&&(c=g.tickCoord+t*(w()/2+i),s[x]=Fn(Fn({},g),{},{isShow:!0}))},b=0;b<v;b++)y(b);return s}function sj(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(c)||uo.isSsr)return COe(i,typeof c=="number"&&oe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Ef(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(g,j){var w=Oe(u)?u(g.value,j):g.value;return m==="width"?NOe(Ef(w,{fontSize:e,letterSpacing:n}),v,f):Ef(w,{fontSize:e,letterSpacing:n})[m]},b=i.length>=2?ar(i[1].coordinate-i[0].coordinate):1,_=OOe(a,b,m);return c==="equidistantPreserveStart"?IOe(b,_,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=DOe(b,_,y,i,s,c==="preserveStartEnd"):h=MOe(b,_,y,i,s),h.filter(function(x){return x.isShow}))}var $Oe=["viewBox"],LOe=["viewBox"],BOe=["ticks"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){oj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jb(t,e){if(t==null)return{};var n=UOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function zOe(t,e,n){return e&&bR(t.prototype,e),n&&bR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FOe(t,e,n){return e=ry(e),HOe(t,x9()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function HOe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qOe(t)}function qOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x9=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function GOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function oj(t,e,n){return e=b9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t){var e=WOe(t,"string");return Su(e)=="symbol"?e:e+""}function WOe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ld=function(t){function e(n){var r;return VOe(this,e),r=FOe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return GOe(e,t),zOe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Jb(r,$Oe),l=this.props,c=l.viewBox,u=Jb(l,LOe);return!kc(a,c)||!kc(s,u)||!kc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,y,b,_,x,g=f?-1:1,j=r.tickSize||d,w=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,b=s+ +!f*c,y=b-g*j,x=y-g*h,_=w;break;case"left":y=b=r.coordinate,v=a+ +!f*l,m=v-g*j,_=m-g*h,x=w;break;case"right":y=b=r.coordinate,v=a+ +f*l,m=v+g*j,_=m+g*h,x=w;break;default:m=v=r.coordinate,b=s+ +f*c,y=b+g*j,x=y+g*h,_=w;break}return{line:{x1:m,y1:y,x2:v,y2:b},tick:{x:_,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=tr(tr(tr({},_e(this.props,!1)),_e(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=tr(tr({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=tr(tr({},f),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+l})}return D.createElement("line",yc({},f,{className:$e("recharts-cartesian-axis-line",Hr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=sj(tr(tr({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=_e(this.props,!1),_=_e(d,!1),x=tr(tr({},b),{},{fill:"none"},_e(c,!1)),g=m.map(function(j,w){var T=s.getTickLineCoord(j),S=T.line,A=T.tick,N=tr(tr(tr(tr({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},_),A),{},{index:w,payload:j,visibleTicksCount:m.length,tickFormatter:f});return D.createElement(He,yc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},ul(s.props,j,w)),c&&D.createElement("line",yc({},x,S,{className:$e("recharts-cartesian-axis-tick-line",Hr(c,"className"))})),d&&e.renderTickItem(d,N,"".concat(Oe(f)?f(j.value,w):j.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Jb(f,BOe),v=h;return Oe(c)&&(v=h&&h.length>0?c(this.props):c(m)),s<=0||l<=0||!v||!v.length?null:D.createElement(He,{className:$e("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),An.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return D.isValidElement(r)?s=D.cloneElement(r,i):Oe(r)?s=r(i):s=D.createElement(dl,yc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(k.Component);oj(ld,"displayName","CartesianAxis");oj(ld,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KOe=["x1","y1","x2","y2","key"],XOe=["offset"];function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){YOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YOe(t,e,n){return e=QOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QOe(t){var e=ZOe(t,"string");return ml(e)=="symbol"?e:e+""}function ZOe(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}function wR(t,e){if(t==null)return{};var n=JOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return D.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _9(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=wR(e,KOe),u=_e(c,!1);u.offset;var d=wR(u,XOe);n=D.createElement("line",Lo({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function tCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Wn(Wn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return _9(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function nCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Wn(Wn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return _9(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function rCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?i+s-h:d[m+1]-h;if(y<=0)return null;var b=m%e.length;return D.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function iCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?a+l-h:d[m+1]-h;if(y<=0)return null;var b=m%r.length;return D.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:y,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var aCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return _8(sj(Wn(Wn(Wn({},ld.defaultProps),r),{},{ticks:Oa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},sCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return _8(sj(Wn(Wn(Wn({},ld.defaultProps),r),{},{ticks:Oa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Gl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iy(t){var e,n,r,i,a,s,l=nj(),c=rj(),u=WNe(),d=Wn(Wn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Gl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Gl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Gl.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,y=d.syncWithTicks,b=d.horizontalValues,_=d.verticalValues,x=HNe(),g=qNe();if(!oe(m)||m<=0||!oe(v)||v<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||aCe,w=d.horizontalCoordinatesGenerator||sCe,T=d.horizontalPoints,S=d.verticalPoints;if((!T||!T.length)&&Oe(w)){var A=b&&b.length,N=w({yAxis:g?Wn(Wn({},g),{},{ticks:A?b:g.ticks}):void 0,width:l,height:c,offset:u},A?!0:y);Ti(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ml(N),"]")),Array.isArray(N)&&(T=N)}if((!S||!S.length)&&Oe(j)){var I=_&&_.length,C=j({xAxis:x?Wn(Wn({},x),{},{ticks:I?_:x.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);Ti(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ml(C),"]")),Array.isArray(C)&&(S=C)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(eCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(tCe,Lo({},d,{offset:u,horizontalPoints:T,xAxis:x,yAxis:g})),D.createElement(nCe,Lo({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:g})),D.createElement(rCe,Lo({},d,{horizontalPoints:T})),D.createElement(iCe,Lo({},d,{verticalPoints:S})))}iy.displayName="CartesianGrid";var oCe=["type","layout","connectNulls","ref"],lCe=["key"];function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function AR(t,e){if(t==null)return{};var n=cCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(this,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wl(t){return hCe(t)||fCe(t)||dCe(t)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCe(t,e){if(t){if(typeof t=="string")return Yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yw(t,e)}}function fCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hCe(t){if(Array.isArray(t))return Yw(t)}function Yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ER(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A9(r.key),r)}}function mCe(t,e,n){return e&&ER(t.prototype,e),n&&ER(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gCe(t,e,n){return e=ay(e),vCe(t,w9()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function vCe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yCe(t)}function yCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function xCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function _i(t,e,n){return e=A9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9(t){var e=bCe(t,"string");return Eu(e)=="symbol"?e:e+""}function bCe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tp=function(t){function e(){var n;pCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gCe(this,e,[].concat(i)),_i(n,"state",{isAnimationFinished:!0,totalLength:0}),_i(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),_i(n,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(_,x){return _+x});if(!u)return n.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,m=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>f){m=[].concat(Wl(c.slice(0,v)),[f-y]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(Wl(e.repeat(c,d)),Wl(m),b).map(function(_){return"".concat(_,"px")}).join(", ")}),_i(n,"id",Cl("recharts-line-")),_i(n,"pathRef",function(s){n.mainCurve=s}),_i(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),_i(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return xCe(e,t),mCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=qr(d,Ep);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Yt(y.payload,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(He,m,f.map(function(v){return D.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=_e(this.props,!1),h=_e(c,!0),m=u.map(function(y,b){var _=Or(Or(Or({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(c,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(He,If({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=AR(l,oCe),h=Or(Or(Or({},_e(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:u,connectNulls:d});return D.createElement(Zo,If({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,v=s.animateNewValues,y=s.width,b=s.height,_=this.state,x=_.prevPoints,g=_.totalLength;return D.createElement(Ci,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(x){var T=x.length/l.length,S=l.map(function(R,P){var z=Math.floor(P*T);if(x[z]){var V=x[z],B=cn(V.x,R.x),L=cn(V.y,R.y);return Or(Or({},R),{},{x:B(w),y:L(w)})}if(v){var U=cn(y*2,R.x),W=cn(b/2,R.y);return Or(Or({},R),{},{x:U(w),y:W(w)})}return Or(Or({},R),{},{x:R.x,y:R.y})});return a.renderCurveStatically(S,r,i)}var A=cn(0,g),N=A(w),I;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});I=a.getStrokeDasharray(N,g,C)}else I=a.generateSimpleStrokeDasharray(g,N);return a.renderCurveStatically(l,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!fl(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(a||!l||!l.length)return null;var _=this.state.isAnimationFinished,x=l.length===1,g=$e("recharts-line",c),j=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,T=j||w,S=Re(b)?this.id:b,A=(r=_e(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=A.r,I=N===void 0?3:N,C=A.strokeWidth,R=C===void 0?2:C,P=h5(s)?s:{},z=P.clipDot,V=z===void 0?!0:z,B=I*2+R;return D.createElement(He,{className:g},j||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:j?h:h-m/2,y:w?f:f-v/2,width:j?m:m*2,height:w?v:v*2})),!V&&D.createElement("clipPath",{id:"clipPath-dots-".concat(S)},D.createElement("rect",{x:h-B/2,y:f-B/2,width:m+B,height:v+B}))):null,!x&&this.renderCurve(T,S),this.renderErrorBar(T,S),(x||s)&&this.renderDots(T,V,S),(!y||_)&&Zi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Wl(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(Wl(s),Wl(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(D.isValidElement(r))a=D.cloneElement(r,i);else if(Oe(r))a=r(i);else{var s=i.key,l=AR(i,lCe),c=$e("recharts-line-dot",typeof r!="boolean"?r.className:"");a=D.createElement(jp,If({key:s},l,{className:c}))}return a}}])}(k.PureComponent);_i(Tp,"displayName","Line");_i(Tp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!uo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_i(Tp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,m){var v=Yt(h,s);return d==="horizontal"?{x:Mv({axis:n,ticks:i,bandSize:l,entry:h,index:m}),y:Re(v)?null:r.scale(v),value:v,payload:h}:{x:Re(v)?null:n.scale(v),y:Mv({axis:r,ticks:a,bandSize:l,entry:h,index:m}),value:v,payload:h}});return Or({points:f,layout:d},u)});var _Ce=["layout","type","stroke","connectNulls","isRange","ref"],wCe=["key"],S9;function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function E9(t,e){if(t==null)return{};var n=ACe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ACe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bo.apply(this,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T9(r.key),r)}}function ECe(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jCe(t,e,n){return e=sy(e),TCe(t,j9()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function TCe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NCe(t)}function NCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function OCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function Hi(t,e,n){return e=T9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T9(t){var e=CCe(t,"string");return ju(e)=="symbol"?e:e+""}function CCe(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mo=function(t){function e(){var n;SCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=jCe(this,e,[].concat(i)),Hi(n,"state",{isAnimationFinished:!0}),Hi(n,"id",Cl("recharts-area-")),Hi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Oe(s)&&s()}),Hi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Oe(s)&&s()}),n}return OCe(e,t),ECe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=_e(this.props,!1),m=_e(u,!0),v=d.map(function(b,_){var x=ls(ls(ls({key:"dot-".concat(_),r:3},h),m),{},{index:_,cx:b.x,cy:b.y,dataKey:f,value:b.value,payload:b.payload,points:d});return e.renderDotItem(u,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(He,Bo({className:"recharts-area-dots"},y),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=r*Math.abs(c-u),f=js(s.map(function(h){return h.y||0}));return oe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(js(a.map(function(h){return h.y||0})),f)),oe(f)?D.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=r*Math.abs(c-u),f=js(s.map(function(h){return h.x||0}));return oe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(js(a.map(function(h){return h.x||0})),f)),oe(f)?D.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=E9(l,_Ce);return D.createElement(He,{clipPath:a?"url(#clipPath-".concat(s,")"):null},D.createElement(Zo,Bo({},_e(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(Zo,Bo({},_e(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&D.createElement(Zo,Bo({},_e(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,v=this.state,y=v.prevPoints,b=v.prevBaseLine;return D.createElement(Ci,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var x=_.t;if(y){var g=y.length/l.length,j=l.map(function(A,N){var I=Math.floor(N*g);if(y[I]){var C=y[I],R=cn(C.x,A.x),P=cn(C.y,A.y);return ls(ls({},A),{},{x:R(x),y:P(x)})}return A}),w;if(oe(c)&&typeof c=="number"){var T=cn(b,c);w=T(x)}else if(Re(c)||td(c)){var S=cn(b,0);w=S(x)}else w=c.map(function(A,N){var I=Math.floor(N*g);if(b[I]){var C=b[I],R=cn(C.x,A.x),P=cn(C.y,A.y);return ls(ls({},A),{},{x:R(x),y:P(x)})}return A});return a.renderAreaStatically(j,w,r,i)}return D.createElement(He,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),D.createElement(He,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!fl(d,s)||!fl(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(a||!l||!l.length)return null;var _=this.state.isAnimationFinished,x=l.length===1,g=$e("recharts-area",c),j=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,T=j||w,S=Re(b)?this.id:b,A=(r=_e(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=A.r,I=N===void 0?3:N,C=A.strokeWidth,R=C===void 0?2:C,P=h5(s)?s:{},z=P.clipDot,V=z===void 0?!0:z,B=I*2+R;return D.createElement(He,{className:g},j||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:j?d:d-m/2,y:w?u:u-v/2,width:j?m:m*2,height:w?v:v*2})),!V&&D.createElement("clipPath",{id:"clipPath-dots-".concat(S)},D.createElement("rect",{x:d-B/2,y:u-B/2,width:m+B,height:v+B}))):null,x?null:this.renderArea(T,S),(s||x)&&this.renderDots(T,V,S),(!y||_)&&Zi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(k.PureComponent);S9=mo;Hi(mo,"displayName","Area");Hi(mo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!uo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Hi(mo,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(oe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Hi(mo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,v=u&&u.length,y=S9.getBaseValue(e,n,r,i),b=m==="horizontal",_=!1,x=f.map(function(j,w){var T;v?T=u[d+w]:(T=Yt(j,c),Array.isArray(T)?_=!0:T=[y,T]);var S=T[1]==null||v&&Yt(j,c)==null;return b?{x:Mv({axis:r,ticks:a,bandSize:l,entry:j,index:w}),y:S?null:i.scale(T[1]),value:T,payload:j}:{x:S?null:r.scale(T[1]),y:Mv({axis:i,ticks:s,bandSize:l,entry:j,index:w}),value:T,payload:j}}),g;return v||_?g=x.map(function(j){var w=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:w!=null&&j.y!=null?i.scale(w):null}:{x:w!=null?r.scale(w):null,y:j.y}}):g=b?i.scale(y):r.scale(y),ls({points:x,baseLine:g,layout:m,isRange:_},h)});Hi(mo,"renderDotItem",function(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=$e("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=E9(e,wCe);n=D.createElement(jp,Bo({},a,{key:i,className:r}))}return n});function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function ICe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C9(r.key),r)}}function PCe(t,e,n){return e&&kCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RCe(t,e,n){return e=oy(e),MCe(t,N9()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function MCe(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DCe(t)}function DCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function $Ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function O9(t,e,n){return e=C9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C9(t){var e=LCe(t,"string");return Tu(e)=="symbol"?e:e+""}function LCe(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eA.apply(this,arguments)}function BCe(t){var e=t.xAxisId,n=nj(),r=rj(),i=u9(e);return i==null?null:D.createElement(ld,eA({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Oa(s,!0)}}))}var Js=function(t){function e(){return ICe(this,e),RCe(this,e,arguments)}return $Ce(e,t),PCe(e,[{key:"render",value:function(){return D.createElement(BCe,this.props)}}])}(D.Component);O9(Js,"displayName","XAxis");O9(Js,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function UCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P9(r.key),r)}}function zCe(t,e,n){return e&&VCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FCe(t,e,n){return e=ly(e),HCe(t,I9()?Reflect.construct(e,n||[],ly(t).constructor):e.apply(t,n))}function HCe(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qCe(t)}function qCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!t})()}function ly(t){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(t)}function GCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tA(t,e)}function k9(t,e,n){return e=P9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P9(t){var e=WCe(t,"string");return Nu(e)=="symbol"?e:e+""}function WCe(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(this,arguments)}var KCe=function(e){var n=e.yAxisId,r=nj(),i=rj(),a=d9(n);return a==null?null:D.createElement(ld,nA({},a,{className:$e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Oa(l,!0)}}))},eo=function(t){function e(){return UCe(this,e),FCe(this,e,arguments)}return GCe(e,t),zCe(e,[{key:"render",value:function(){return D.createElement(KCe,this.props)}}])}(D.Component);k9(eo,"displayName","YAxis");k9(eo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NR(t){return ZCe(t)||QCe(t)||YCe(t)||XCe()}function XCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YCe(t,e){if(t){if(typeof t=="string")return rA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(t,e)}}function QCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZCe(t){if(Array.isArray(t))return rA(t)}function rA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iA=function(e,n,r,i,a){var s=qr(e,aj),l=qr(e,sx),c=[].concat(NR(s),NR(l)),u=qr(e,lx),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(y,b){if(b.props[d]===r&&Ji(b.props,"extendDomain")&&oe(b.props[f])){var _=b.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[d]===r&&Ji(b.props,"extendDomain")&&oe(b.props[m])&&oe(b.props[v])){var _=b.props[m],x=b.props[v];return[Math.min(y[0],_,x),Math.max(y[1],_,x)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,b){return oe(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},R9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,x,g;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,v),!0}for(g=1,x=new Array(_-1);g<_;g++)x[g-1]=arguments[g];b.fn.apply(b.context,x)}else{var j=b.length,w;for(g=0;g<j;g++)switch(b[g].once&&this.removeListener(u,b[g].fn,void 0,!0),_){case 1:b[g].fn.call(b[g].context);break;case 2:b[g].fn.call(b[g].context,d);break;case 3:b[g].fn.call(b[g].context,d,f);break;case 4:b[g].fn.call(b[g].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(_-1);w<_;w++)x[w-1]=arguments[w];b[g].fn.apply(b[g].context,x)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,m);else{for(var y=0,b=[],_=v.length;y<_;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&b.push(v[y]);b.length?this._events[m]=b.length===1?b[0]:b:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(R9);var JCe=R9.exports;const eIe=it(JCe);var e1=new eIe,t1="recharts.syncMouseEvents";function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function tIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function rIe(t,e,n){return e&&nIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n1(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=iIe(t,"string");return $h(e)=="symbol"?e:e+""}function iIe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aIe=function(){function t(){tIe(this,t),n1(this,"activeIndex",0),n1(this,"coordinateList",[]),n1(this,"layout","horizontal")}return rIe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function sIe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function oIe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function D9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=_t(e,n,r,i),l=_t(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function lIe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=_t(l,c,u,f),m=_t(l,c,d,f);r=h.x,i=h.y,a=m.x,s=m.y}else return D9(e);return[{x:r,y:i},{x:a,y:s}]}function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){cIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cIe(t,e,n){return e=uIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uIe(t){var e=dIe(t,"string");return Lh(e)=="symbol"?e:e+""}function dIe(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fIe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Zo;if(h==="ScatterChart")v=s,y=yEe;else if(h==="BarChart")v=oIe(f,s,c,d),y=QE;else if(f==="radial"){var b=D9(s),_=b.cx,x=b.cy,g=b.radius,j=b.startAngle,w=b.endAngle;v={cx:_,cy:x,startAngle:j,endAngle:w,innerRadius:g,outerRadius:g},y=k8}else v={points:lIe(f,s,c)},y=Zo;var T=Rm(Rm(Rm(Rm({stroke:"#ccc",pointerEvents:"none"},c),v),_e(m,!1)),{},{payload:l,payloadIndex:u,className:$e("recharts-tooltip-cursor",m.className)});return k.isValidElement(m)?k.cloneElement(m,T):k.createElement(y,T)}var hIe=["item"],pIe=["children","className","width","height","style","compact","title","desc"];function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}function CR(t,e){return vIe(t)||gIe(t,e)||L9(t,e)||mIe()}function mIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function vIe(t){if(Array.isArray(t))return t}function IR(t,e){if(t==null)return{};var n=yIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B9(r.key),r)}}function _Ie(t,e,n){return e&&bIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wIe(t,e,n){return e=cy(e),AIe(t,$9()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function AIe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SIe(t)}function SIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function EIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function Cu(t){return NIe(t)||TIe(t)||L9(t)||jIe()}function jIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L9(t,e){if(t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function TIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NIe(t){if(Array.isArray(t))return sA(t)}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ne(t,e,n){return e=B9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t){var e=OIe(t,"string");return Ou(e)=="symbol"?e:e+""}function OIe(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CIe={xAxis:["bottom","top"],yAxis:["left","right"]},IIe={width:"100%",height:"100%"},U9={x:0,y:0};function Mm(t){return t}var kIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},PIe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return ee(ee(ee({},i),_t(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return ee(ee(ee({},i),_t(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return U9},cx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Cu(l),Cu(u)):l},[]);return s.length>0?s:e&&e.length&&oe(i)&&oe(a)?e.slice(i,a+1):[]};function V9(t){return t==="number"?[0,"auto"]:void 0}var oA=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=cx(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?l:f;h=ov(m,s.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Cu(c),[j8(u,h)]):c},[])},PR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=kIe(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Wwe(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=oA(e,n,d,f),m=PIe(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},RIe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=b8(d,a);return r.reduce(function(v,y){var b,_=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,x=_.type,g=_.dataKey,j=_.allowDataOverflow,w=_.allowDuplicatedCategory,T=_.scale,S=_.ticks,A=_.includeHidden,N=_[s];if(v[N])return v;var I=cx(e.data,{graphicalItems:i.filter(function(F){var $,X=s in F.props?F.props[s]:($=F.type.defaultProps)===null||$===void 0?void 0:$[s];return X===N}),dataStartIndex:c,dataEndIndex:u}),C=I.length,R,P,z;sIe(_.domain,j,x)&&(R=bw(_.domain,null,j),m&&(x==="number"||T!=="auto")&&(z=Tf(I,g,"category")));var V=V9(x);if(!R||R.length===0){var B,L=(B=_.domain)!==null&&B!==void 0?B:V;if(g){if(R=Tf(I,g,x),x==="category"&&m){var U=$ce(R);w&&U?(P=R,R=Kv(0,C)):w||(R=tP(L,R,y).reduce(function(F,$){return F.indexOf($)>=0?F:[].concat(Cu(F),[$])},[]))}else if(x==="category")w?R=R.filter(function(F){return F!==""&&!Re(F)}):R=tP(L,R,y).reduce(function(F,$){return F.indexOf($)>=0||$===""||Re($)?F:[].concat(Cu(F),[$])},[]);else if(x==="number"){var W=Zwe(I,i.filter(function(F){var $,X,Z=s in F.props?F.props[s]:($=F.type.defaultProps)===null||$===void 0?void 0:$[s],ve="hide"in F.props?F.props.hide:(X=F.type.defaultProps)===null||X===void 0?void 0:X.hide;return Z===N&&(A||!ve)}),g,a,d);W&&(R=W)}m&&(x==="number"||T!=="auto")&&(z=Tf(I,g,"category"))}else m?R=Kv(0,C):l&&l[N]&&l[N].hasStack&&x==="number"?R=h==="expand"?[0,1]:E8(l[N].stackGroups,c,u):R=x8(I,i.filter(function(F){var $=s in F.props?F.props[s]:F.type.defaultProps[s],X="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return $===N&&(A||!X)}),x,d,!0);if(x==="number")R=iA(f,R,N,a,S),L&&(R=bw(L,R,j));else if(x==="category"&&L){var G=L,te=R.every(function(F){return G.indexOf(F)>=0});te&&(R=G)}}return ee(ee({},v),{},Ne({},N,ee(ee({},_),{},{axisType:a,domain:R,categoricalDomain:z,duplicateDomain:P,originalDomain:(b=_.domain)!==null&&b!==void 0?b:V,isCategorical:m,layout:d})))},{})},MIe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=cx(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=b8(d,a),y=-1;return r.reduce(function(b,_){var x=_.type.defaultProps!==void 0?ee(ee({},_.type.defaultProps),_.props):_.props,g=x[s],j=V9("number");if(!b[g]){y++;var w;return v?w=Kv(0,m):l&&l[g]&&l[g].hasStack?(w=E8(l[g].stackGroups,c,u),w=iA(f,w,g,a)):(w=bw(j,x8(h,r.filter(function(T){var S,A,N=s in T.props?T.props[s]:(S=T.type.defaultProps)===null||S===void 0?void 0:S[s],I="hide"in T.props?T.props.hide:(A=T.type.defaultProps)===null||A===void 0?void 0:A.hide;return N===g&&!I}),"number",d),i.defaultProps.allowDataOverflow),w=iA(f,w,g,a)),ee(ee({},b),{},Ne({},g,ee(ee({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hr(CIe,"".concat(a,".").concat(y%2),null),domain:w,originalDomain:j,isCategorical:v,layout:d})))}return b},{})},DIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=qr(d,a),m={};return h&&h.length?m=RIe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=MIe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},$Ie=function(e){var n=bs(e),r=Oa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:SE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Dv(n,r)}},RR=function(e){var n=e.children,r=e.defaultShowTooltip,i=kr(n,xu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},LIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ma(n&&n.type);return r&&r.indexOf("Bar")>=0})},MR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BIe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=kr(f,xu),v=kr(f,Pc),y=Object.keys(c).reduce(function(w,T){var S=c[T],A=S.orientation;return!S.mirror&&!S.hide?ee(ee({},w),{},Ne({},A,w[A]+S.width)):w},{left:h.left||0,right:h.right||0}),b=Object.keys(s).reduce(function(w,T){var S=s[T],A=S.orientation;return!S.mirror&&!S.hide?ee(ee({},w),{},Ne({},A,Hr(w,"".concat(A))+S.height)):w},{top:h.top||0,bottom:h.bottom||0}),_=ee(ee({},b),y),x=_.bottom;m&&(_.bottom+=m.props.height||xu.defaultProps.height),v&&n&&(_=Ywe(_,i,r,n));var g=u-_.left-_.right,j=d-_.top-_.bottom;return ee(ee({brushBottom:x},_),{},{width:Math.max(g,0),height:Math.max(j,0)})},UIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},ux=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(_,x){var g=x.graphicalItems,j=x.stackGroups,w=x.offset,T=x.updateId,S=x.dataStartIndex,A=x.dataEndIndex,N=_.barSize,I=_.layout,C=_.barGap,R=_.barCategoryGap,P=_.maxBarSize,z=MR(I),V=z.numericAxisName,B=z.cateAxisName,L=LIe(g),U=[];return g.forEach(function(W,G){var te=cx(_.data,{graphicalItems:[W],dataStartIndex:S,dataEndIndex:A}),F=W.type.defaultProps!==void 0?ee(ee({},W.type.defaultProps),W.props):W.props,$=F.dataKey,X=F.maxBarSize,Z=F["".concat(V,"Id")],ve=F["".concat(B,"Id")],De={},Ee=c.reduce(function(vn,Te){var H=x["".concat(Te.axisType,"Map")],se=F["".concat(Te.axisType,"Id")];H&&H[se]||Te.axisType==="zAxis"||pl();var pe=H[se];return ee(ee({},vn),{},Ne(Ne({},Te.axisType,pe),"".concat(Te.axisType,"Ticks"),Oa(pe)))},De),Q=Ee[B],le=Ee["".concat(B,"Ticks")],ne=j&&j[Z]&&j[Z].hasStack&&oAe(W,j[Z].stackGroups),K=Ma(W.type).indexOf("Bar")>=0,he=Dv(Q,le),xe=[],fe=L&&Kwe({barSize:N,stackGroups:j,totalSize:UIe(Ee,B)});if(K){var Ae,Je,At=Re(X)?P:X,lt=(Ae=(Je=Dv(Q,le,!0))!==null&&Je!==void 0?Je:At)!==null&&Ae!==void 0?Ae:0;xe=Xwe({barGap:C,barCategoryGap:R,bandSize:lt!==he?lt:he,sizeList:fe[ve],maxBarSize:At}),lt!==he&&(xe=xe.map(function(vn){return ee(ee({},vn),{},{position:ee(ee({},vn.position),{},{offset:vn.position.offset-lt/2})})}))}var gn=W&&W.type&&W.type.getComposedData;gn&&U.push({props:ee(ee({},gn(ee(ee({},Ee),{},{displayedData:te,props:_,dataKey:$,item:W,bandSize:he,barPosition:xe,offset:w,stackedData:ne,layout:I,dataStartIndex:S,dataEndIndex:A}))),{},Ne(Ne(Ne({key:W.key||"item-".concat(G)},V,Ee[V]),B,Ee[B]),"animationId",T)),childIndex:Xce(W,_.children),item:W})}),U},m=function(_,x){var g=_.props,j=_.dataStartIndex,w=_.dataEndIndex,T=_.updateId;if(!XC({props:g}))return null;var S=g.children,A=g.layout,N=g.stackOffset,I=g.data,C=g.reverseStackOrder,R=MR(A),P=R.numericAxisName,z=R.cateAxisName,V=qr(S,r),B=aAe(I,V,"".concat(P,"Id"),"".concat(z,"Id"),N,C),L=c.reduce(function(F,$){var X="".concat($.axisType,"Map");return ee(ee({},F),{},Ne({},X,DIe(g,ee(ee({},$),{},{graphicalItems:V,stackGroups:$.axisType===P&&B,dataStartIndex:j,dataEndIndex:w}))))},{}),U=BIe(ee(ee({},L),{},{props:g,graphicalItems:V}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(F){L[F]=d(g,L[F],U,F.replace("Map",""),n)});var W=L["".concat(z,"Map")],G=$Ie(W),te=h(g,ee(ee({},L),{},{dataStartIndex:j,dataEndIndex:w,updateId:T,graphicalItems:V,stackGroups:B,offset:U}));return ee(ee({formattedGraphicalItems:te,graphicalItems:V,offset:U,stackGroups:B},G),L)},v=function(b){function _(x){var g,j,w;return xIe(this,_),w=wIe(this,_,[x]),Ne(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(w,"accessibilityManager",new aIe),Ne(w,"handleLegendBBoxUpdate",function(T){if(T){var S=w.state,A=S.dataStartIndex,N=S.dataEndIndex,I=S.updateId;w.setState(ee({legendBBox:T},m({props:w.props,dataStartIndex:A,dataEndIndex:N,updateId:I},ee(ee({},w.state),{},{legendBBox:T}))))}}),Ne(w,"handleReceiveSyncEvent",function(T,S,A){if(w.props.syncId===T){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),Ne(w,"handleBrushChange",function(T){var S=T.startIndex,A=T.endIndex;if(S!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var N=w.state.updateId;w.setState(function(){return ee({dataStartIndex:S,dataEndIndex:A},m({props:w.props,dataStartIndex:S,dataEndIndex:A,updateId:N},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Ne(w,"handleMouseEnter",function(T){var S=w.getMouseInfo(T);if(S){var A=ee(ee({},S),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var N=w.props.onMouseEnter;Oe(N)&&N(A,T)}}),Ne(w,"triggeredAfterMouseMove",function(T){var S=w.getMouseInfo(T),A=S?ee(ee({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var N=w.props.onMouseMove;Oe(N)&&N(A,T)}),Ne(w,"handleItemMouseEnter",function(T){w.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ne(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ne(w,"handleMouseMove",function(T){T.persist(),w.throttleTriggeredAfterMouseMove(T)}),Ne(w,"handleMouseLeave",function(T){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var A=w.props.onMouseLeave;Oe(A)&&A(S,T)}),Ne(w,"handleOuterEvent",function(T){var S=Kce(T),A=Hr(w.props,"".concat(S));if(S&&Oe(A)){var N,I;/.*touch.*/i.test(S)?I=w.getMouseInfo(T.changedTouches[0]):I=w.getMouseInfo(T),A((N=I)!==null&&N!==void 0?N:{},T)}}),Ne(w,"handleClick",function(T){var S=w.getMouseInfo(T);if(S){var A=ee(ee({},S),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var N=w.props.onClick;Oe(N)&&N(A,T)}}),Ne(w,"handleMouseDown",function(T){var S=w.props.onMouseDown;if(Oe(S)){var A=w.getMouseInfo(T);S(A,T)}}),Ne(w,"handleMouseUp",function(T){var S=w.props.onMouseUp;if(Oe(S)){var A=w.getMouseInfo(T);S(A,T)}}),Ne(w,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ne(w,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&w.handleMouseDown(T.changedTouches[0])}),Ne(w,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&w.handleMouseUp(T.changedTouches[0])}),Ne(w,"handleDoubleClick",function(T){var S=w.props.onDoubleClick;if(Oe(S)){var A=w.getMouseInfo(T);S(A,T)}}),Ne(w,"handleContextMenu",function(T){var S=w.props.onContextMenu;if(Oe(S)){var A=w.getMouseInfo(T);S(A,T)}}),Ne(w,"triggerSyncEvent",function(T){w.props.syncId!==void 0&&e1.emit(t1,w.props.syncId,T,w.eventEmitterSymbol)}),Ne(w,"applySyncEvent",function(T){var S=w.props,A=S.layout,N=S.syncMethod,I=w.state.updateId,C=T.dataStartIndex,R=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)w.setState(ee({dataStartIndex:C,dataEndIndex:R},m({props:w.props,dataStartIndex:C,dataEndIndex:R,updateId:I},w.state)));else if(T.activeTooltipIndex!==void 0){var P=T.chartX,z=T.chartY,V=T.activeTooltipIndex,B=w.state,L=B.offset,U=B.tooltipTicks;if(!L)return;if(typeof N=="function")V=N(U,T);else if(N==="value"){V=-1;for(var W=0;W<U.length;W++)if(U[W].value===T.activeLabel){V=W;break}}var G=ee(ee({},L),{},{x:L.left,y:L.top}),te=Math.min(P,G.x+G.width),F=Math.min(z,G.y+G.height),$=U[V]&&U[V].value,X=oA(w.state,w.props.data,V),Z=U[V]?{x:A==="horizontal"?U[V].coordinate:te,y:A==="horizontal"?F:U[V].coordinate}:U9;w.setState(ee(ee({},T),{},{activeLabel:$,activeCoordinate:Z,activePayload:X,activeTooltipIndex:V}))}else w.setState(T)}),Ne(w,"renderCursor",function(T){var S,A=w.state,N=A.isTooltipActive,I=A.activeCoordinate,C=A.activePayload,R=A.offset,P=A.activeTooltipIndex,z=A.tooltipAxisBandSize,V=w.getTooltipEventType(),B=(S=T.props.active)!==null&&S!==void 0?S:N,L=w.props.layout,U=T.key||"_recharts-cursor";return D.createElement(fIe,{key:U,activeCoordinate:I,activePayload:C,activeTooltipIndex:P,chartName:n,element:T,isActive:B,layout:L,offset:R,tooltipAxisBandSize:z,tooltipEventType:V})}),Ne(w,"renderPolarAxis",function(T,S,A){var N=Hr(T,"type.axisType"),I=Hr(w.state,"".concat(N,"Map")),C=T.type.defaultProps,R=C!==void 0?ee(ee({},C),T.props):T.props,P=I&&I[R["".concat(N,"Id")]];return k.cloneElement(T,ee(ee({},P),{},{className:$e(N,P.className),key:T.key||"".concat(S,"-").concat(A),ticks:Oa(P,!0)}))}),Ne(w,"renderPolarGrid",function(T){var S=T.props,A=S.radialLines,N=S.polarAngles,I=S.polarRadius,C=w.state,R=C.radiusAxisMap,P=C.angleAxisMap,z=bs(R),V=bs(P),B=V.cx,L=V.cy,U=V.innerRadius,W=V.outerRadius;return k.cloneElement(T,{polarAngles:Array.isArray(N)?N:Oa(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(I)?I:Oa(z,!0).map(function(G){return G.coordinate}),cx:B,cy:L,innerRadius:U,outerRadius:W,key:T.key||"polar-grid",radialLines:A})}),Ne(w,"renderLegend",function(){var T=w.state.formattedGraphicalItems,S=w.props,A=S.children,N=S.width,I=S.height,C=w.props.margin||{},R=N-(C.left||0)-(C.right||0),P=v8({children:A,formattedGraphicalItems:T,legendWidth:R,legendContent:u});if(!P)return null;var z=P.item,V=IR(P,hIe);return k.cloneElement(z,ee(ee({},V),{},{chartWidth:N,chartHeight:I,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ne(w,"renderTooltip",function(){var T,S=w.props,A=S.children,N=S.accessibilityLayer,I=kr(A,nr);if(!I)return null;var C=w.state,R=C.isTooltipActive,P=C.activeCoordinate,z=C.activePayload,V=C.activeLabel,B=C.offset,L=(T=I.props.active)!==null&&T!==void 0?T:R;return k.cloneElement(I,{viewBox:ee(ee({},B),{},{x:B.left,y:B.top}),active:L,label:V,payload:L?z:[],coordinate:P,accessibilityLayer:N})}),Ne(w,"renderBrush",function(T){var S=w.props,A=S.margin,N=S.data,I=w.state,C=I.offset,R=I.dataStartIndex,P=I.dataEndIndex,z=I.updateId;return k.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Cm(w.handleBrushChange,T.props.onChange),data:N,x:oe(T.props.x)?T.props.x:C.left,y:oe(T.props.y)?T.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:oe(T.props.width)?T.props.width:C.width,startIndex:R,endIndex:P,updateId:"brush-".concat(z)})}),Ne(w,"renderReferenceElement",function(T,S,A){if(!T)return null;var N=w,I=N.clipPathId,C=w.state,R=C.xAxisMap,P=C.yAxisMap,z=C.offset,V=T.type.defaultProps||{},B=T.props,L=B.xAxisId,U=L===void 0?V.xAxisId:L,W=B.yAxisId,G=W===void 0?V.yAxisId:W;return k.cloneElement(T,{key:T.key||"".concat(S,"-").concat(A),xAxis:R[U],yAxis:P[G],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:I})}),Ne(w,"renderActivePoints",function(T){var S=T.item,A=T.activePoint,N=T.basePoint,I=T.childIndex,C=T.isRange,R=[],P=S.props.key,z=S.item.type.defaultProps!==void 0?ee(ee({},S.item.type.defaultProps),S.item.props):S.item.props,V=z.activeDot,B=z.dataKey,L=ee(ee({index:I,dataKey:B,cx:A.x,cy:A.y,r:4,fill:YE(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},_e(V,!1)),lv(V));return R.push(_.renderActiveDot(V,L,"".concat(P,"-activePoint-").concat(I))),N?R.push(_.renderActiveDot(V,ee(ee({},L),{},{cx:N.x,cy:N.y}),"".concat(P,"-basePoint-").concat(I))):C&&R.push(null),R}),Ne(w,"renderGraphicChild",function(T,S,A){var N=w.filterFormatItem(T,S,A);if(!N)return null;var I=w.getTooltipEventType(),C=w.state,R=C.isTooltipActive,P=C.tooltipAxis,z=C.activeTooltipIndex,V=C.activeLabel,B=w.props.children,L=kr(B,nr),U=N.props,W=U.points,G=U.isRange,te=U.baseLine,F=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,$=F.activeDot,X=F.hide,Z=F.activeBar,ve=F.activeShape,De=!!(!X&&R&&L&&($||Z||ve)),Ee={};I!=="axis"&&L&&L.props.trigger==="click"?Ee={onClick:Cm(w.handleItemMouseEnter,T.props.onClick)}:I!=="axis"&&(Ee={onMouseLeave:Cm(w.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Cm(w.handleItemMouseEnter,T.props.onMouseEnter)});var Q=k.cloneElement(T,ee(ee({},N.props),Ee));function le(Te){return typeof P.dataKey=="function"?P.dataKey(Te.payload):null}if(De)if(z>=0){var ne,K;if(P.dataKey&&!P.allowDuplicatedCategory){var he=typeof P.dataKey=="function"?le:"payload.".concat(P.dataKey.toString());ne=ov(W,he,V),K=G&&te&&ov(te,he,V)}else ne=W==null?void 0:W[z],K=G&&te&&te[z];if(ve||Z){var xe=T.props.activeIndex!==void 0?T.props.activeIndex:z;return[k.cloneElement(T,ee(ee(ee({},N.props),Ee),{},{activeIndex:xe})),null,null]}if(!Re(ne))return[Q].concat(Cu(w.renderActivePoints({item:N,activePoint:ne,basePoint:K,childIndex:z,isRange:G})))}else{var fe,Ae=(fe=w.getItemByXY(w.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Q},Je=Ae.graphicalItem,At=Je.item,lt=At===void 0?T:At,gn=Je.childIndex,vn=ee(ee(ee({},N.props),Ee),{},{activeIndex:gn});return[k.cloneElement(lt,vn),null,null]}return G?[Q,null,null]:[Q,null]}),Ne(w,"renderCustomized",function(T,S,A){return k.cloneElement(T,ee(ee({key:"recharts-customized-".concat(A)},w.props),w.state))}),Ne(w,"renderMap",{CartesianGrid:{handler:Mm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Mm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Mm},YAxis:{handler:Mm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((g=x.id)!==null&&g!==void 0?g:Cl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=gB(w.triggeredAfterMouseMove,(j=x.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return EIe(_,b),_Ie(_,[{key:"componentDidMount",value:function(){var g,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,j=g.children,w=g.data,T=g.height,S=g.layout,A=kr(j,nr);if(A){var N=A.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,C=oA(this.state,w,N,I),R=this.state.tooltipTicks[N].coordinate,P=(this.state.offset.top+T)/2,z=S==="horizontal",V=z?{x:R,y:P}:{y:R,x:P},B=this.state.formattedGraphicalItems.find(function(U){var W=U.item;return W.type.name==="Scatter"});B&&(V=ee(ee({},V),B.props.points[N].tooltipPosition),C=B.props.points[N].tooltipPayload);var L={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:I,activePayload:C,activeCoordinate:V};this.setState(L),this.renderCursor(A),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var w,T;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(g){M_([kr(g.children,nr)],[kr(this.props.children,nr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=kr(this.props.children,nr);if(g&&typeof g.props.shared=="boolean"){var j=g.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),T=_xe(w),S={chartX:Math.round(g.pageX-T.left),chartY:Math.round(g.pageY-T.top)},A=w.width/j.offsetWidth||1,N=this.inRange(S.chartX,S.chartY,A);if(!N)return null;var I=this.state,C=I.xAxisMap,R=I.yAxisMap,P=this.getTooltipEventType(),z=PR(this.state,this.props.data,this.props.layout,N);if(P!=="axis"&&C&&R){var V=bs(C).scale,B=bs(R).scale,L=V&&V.invert?V.invert(S.chartX):null,U=B&&B.invert?B.invert(S.chartY):null;return ee(ee({},S),{},{xValue:L,yValue:U},z)}return z?ee(ee({},S),z):null}},{key:"inRange",value:function(g,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,S=g/w,A=j/w;if(T==="horizontal"||T==="vertical"){var N=this.state.offset,I=S>=N.left&&S<=N.left+N.width&&A>=N.top&&A<=N.top+N.height;return I?{x:S,y:A}:null}var C=this.state,R=C.angleAxisMap,P=C.radiusAxisMap;if(R&&P){var z=bs(R);return iP({x:S,y:A},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,j=this.getTooltipEventType(),w=kr(g,nr),T={};w&&j==="axis"&&(w.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=lv(this.props,this.handleOuterEvent);return ee(ee({},S),T)}},{key:"addListener",value:function(){e1.on(t1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){e1.removeListener(t1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,j,w){for(var T=this.state.formattedGraphicalItems,S=0,A=T.length;S<A;S++){var N=T[S];if(N.item===g||N.props.key===g.key||j===Ma(N.item.type)&&w===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,j=this.state.offset,w=j.left,T=j.top,S=j.height,A=j.width;return D.createElement("defs",null,D.createElement("clipPath",{id:g},D.createElement("rect",{x:w,y:T,height:S,width:A})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(j,w){var T=CR(w,2),S=T[0],A=T[1];return ee(ee({},j),{},Ne({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(j,w){var T=CR(w,2),S=T[0],A=T[1];return ee(ee({},j),{},Ne({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[g])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(g){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[g])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(g){var j=this.state,w=j.formattedGraphicalItems,T=j.activeItem;if(w&&w.length)for(var S=0,A=w.length;S<A;S++){var N=w[S],I=N.props,C=N.item,R=C.type.defaultProps!==void 0?ee(ee({},C.type.defaultProps),C.props):C.props,P=Ma(C.type);if(P==="Bar"){var z=(I.data||[]).find(function(U){return Z2e(g,U)});if(z)return{graphicalItem:N,payload:z}}else if(P==="RadialBar"){var V=(I.data||[]).find(function(U){return iP(g,U)});if(V)return{graphicalItem:N,payload:V}}else if(nx(N,T)||rx(N,T)||kh(N,T)){var B=Vje({graphicalItem:N,activeTooltipItem:T,itemData:R.data}),L=R.activeIndex===void 0?B:R.activeIndex;return{graphicalItem:ee(ee({},N),{},{childIndex:L}),payload:kh(N,T)?R.data[B]:N.props.data[B]}}}return null}},{key:"render",value:function(){var g=this;if(!XC(this))return null;var j=this.props,w=j.children,T=j.className,S=j.width,A=j.height,N=j.style,I=j.compact,C=j.title,R=j.desc,P=IR(j,pIe),z=_e(P,!1);if(I)return D.createElement(uR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement($_,xc({},z,{width:S,height:A,title:C,desc:R}),this.renderClipPath(),QC(w,this.renderMap)));if(this.props.accessibilityLayer){var V,B;z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,z.role=(B=this.props.role)!==null&&B!==void 0?B:"application",z.onKeyDown=function(U){g.accessibilityManager.keyboardEvent(U)},z.onFocus=function(){g.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return D.createElement(uR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",xc({className:$e("recharts-wrapper",T),style:ee({position:"relative",cursor:"default",width:S,height:A},N)},L,{ref:function(W){g.container=W}}),D.createElement($_,xc({},z,{width:S,height:A,title:C,desc:R,style:IIe}),this.renderClipPath(),QC(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Ne(v,"displayName",n),Ne(v,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ne(v,"getDerivedStateFromProps",function(b,_){var x=b.dataKey,g=b.data,j=b.children,w=b.width,T=b.height,S=b.layout,A=b.stackOffset,N=b.margin,I=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var R=RR(b);return ee(ee(ee({},R),{},{updateId:0},m(ee(ee({props:b},R),{},{updateId:0}),_)),{},{prevDataKey:x,prevData:g,prevWidth:w,prevHeight:T,prevLayout:S,prevStackOffset:A,prevMargin:N,prevChildren:j})}if(x!==_.prevDataKey||g!==_.prevData||w!==_.prevWidth||T!==_.prevHeight||S!==_.prevLayout||A!==_.prevStackOffset||!kc(N,_.prevMargin)){var P=RR(b),z={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},V=ee(ee({},PR(_,g,S)),{},{updateId:_.updateId+1}),B=ee(ee(ee({},P),z),V);return ee(ee(ee({},B),m(ee({props:b},B),_)),{},{prevDataKey:x,prevData:g,prevWidth:w,prevHeight:T,prevLayout:S,prevStackOffset:A,prevMargin:N,prevChildren:j})}if(!M_(j,_.prevChildren)){var L,U,W,G,te=kr(j,xu),F=te&&(L=(U=te.props)===null||U===void 0?void 0:U.startIndex)!==null&&L!==void 0?L:I,$=te&&(W=(G=te.props)===null||G===void 0?void 0:G.endIndex)!==null&&W!==void 0?W:C,X=F!==I||$!==C,Z=!Re(g),ve=Z&&!X?_.updateId:_.updateId+1;return ee(ee({updateId:ve},m(ee(ee({props:b},_),{},{updateId:ve,dataStartIndex:F,dataEndIndex:$}),_)),{},{prevChildren:j,dataStartIndex:F,dataEndIndex:$})}return null}),Ne(v,"renderActiveDot",function(b,_,x){var g;return k.isValidElement(b)?g=k.cloneElement(b,_):Oe(b)?g=b(_):g=D.createElement(jp,_),D.createElement(He,{className:"recharts-active-dot",key:x},g)});var y=k.forwardRef(function(_,x){return D.createElement(v,xc({},_,{ref:x}))});return y.displayName=v.displayName,y},VIe=ux({chartName:"LineChart",GraphicalChild:Tp,axisComponents:[{axisType:"xAxis",AxisComp:Js},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:ZE}),zIe=ux({chartName:"BarChart",GraphicalChild:Rl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Js},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:ZE}),lA=ux({chartName:"PieChart",GraphicalChild:Ii,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tx},{axisType:"radiusAxis",AxisComp:J0}],formatAxisMap:vAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),FIe=ux({chartName:"AreaChart",GraphicalChild:mo,axisComponents:[{axisType:"xAxis",AxisComp:Js},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:ZE});const HIe=({isOpen:t,onClose:e,onItemClick:n})=>{var w;const[r,i]=k.useState([]),[a,s]=k.useState(!1),[l,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,v]=k.useState(null);El();const y=k.useRef(null);k.useEffect(()=>{t&&b()},[t]);const b=async()=>{s(!0);try{const T=tn(Ke,"items"),S=Gn(T,Kn("status","==","sold"),Kn("saleType","==","online"),Kn("fulfillmentMethod","==","shipping")),A=await kn(S),N=[];A.forEach(I=>{var R,P,z,V;const C=I.data();C.shippedAt&&N.push({id:I.id,...C,createdAt:((R=C.createdAt)==null?void 0:R.toDate())||new Date,soldAt:((P=C.soldAt)==null?void 0:P.toDate())||new Date,shippedAt:(z=C.shippedAt)==null?void 0:z.toDate(),barcodeGeneratedAt:(V=C.barcodeGeneratedAt)==null?void 0:V.toDate()})}),N.sort((I,C)=>{const R=I.shippedAt||I.soldAt||I.createdAt;return(C.shippedAt||C.soldAt||C.createdAt).getTime()-R.getTime()}),i(N)}catch(T){console.error("Error fetching shipped items:",T)}finally{s(!1)}},_=T=>{v(T),h(!0)},x=T=>{n&&n(T)},g=T=>{var A,N,I;if(!T.buyerInfo||!T.trackingNumber)return;const S=window.open("","_blank");S&&(S.document.write(`
      <html>
        <head>
          <title>Shipping Label - ${T.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.4;
            }
            .shipping-label {
              border: 2px solid #000;
              padding: 20px;
              max-width: 600px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 1px solid #000;
              padding-bottom: 15px;
              margin-bottom: 15px;
            }
            .section {
              margin: 15px 0;
            }
            .section-title {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              text-transform: uppercase;
            }
            .address-block {
              border: 1px solid #000;
              padding: 10px;
              margin: 10px 0;
            }
            .tracking-section {
              text-align: center;
              margin: 20px 0;
            }
            .item-details {
              background-color: #f5f5f5;
              padding: 10px;
              margin: 10px 0;
            }
          </style>
        </head>
        <body>
          <div class="shipping-label">
            <div class="header">
              <h2>Summit Gear Exchange</h2>
              <p>Shipping Label - REPRINT</p>
            </div>
            
            <div class="section">
              <div class="section-title">Ship To:</div>
              <div class="address-block">
                <strong>${T.buyerInfo.name}</strong><br>
                ${T.buyerInfo.address}<br>
                ${T.buyerInfo.city}, ${T.buyerInfo.zipCode}<br>
                Phone: ${T.buyerInfo.phone}<br>
                Email: ${T.buyerInfo.email}
              </div>
            </div>

            <div class="section">
              <div class="section-title">Ship From:</div>
              <div class="address-block">
                <strong>Summit Gear Exchange</strong><br>
                123 Mountain View Drive<br>
                Boulder, CO 80301<br>
                Phone: (303) 555-0123
              </div>
            </div>

            <div class="tracking-section">
              <div class="section-title">Tracking Number:</div>
              <h3>${T.trackingNumber}</h3>
              ${T.barcodeImageUrl?`<img src="${T.barcodeImageUrl}" alt="Tracking Barcode" />`:""}
            </div>

            <div class="item-details">
              <div class="section-title">Item Details:</div>
              <strong>Item:</strong> ${T.title}<br>
              <strong>Price:</strong> $${T.soldPrice||T.price}<br>
              <strong>Category:</strong> ${T.category||"N/A"}<br>
              <strong>Brand:</strong> ${T.brand||"N/A"}<br>
              <strong>Size:</strong> ${T.size||"N/A"}<br>
              <strong>Order Date:</strong> ${((A=T.soldAt)==null?void 0:A.toLocaleDateString())||"N/A"}<br>
              <strong>Shipped Date:</strong> ${((N=T.shippedAt)==null?void 0:N.toLocaleDateString())||"N/A"}
            </div>

            <div class="section">
              <div class="section-title">Shipping Status:</div>
              <p>✅ SHIPPED - ${(I=T.shippedAt)==null?void 0:I.toLocaleDateString()}</p>
            </div>
          </div>
        </body>
      </html>
    `),S.document.close(),S.focus(),S.print())},j=T=>`$${T.toFixed(2)}`;return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shipped Items"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["Online orders that have been shipped (",r.length,")"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Shipped Items"}),o.jsx("p",{className:"text-gray-600",children:"No online orders have been shipped yet."})]}):o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipped Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>{var S,A,N;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[T.images&&T.images[0]&&o.jsx("img",{className:"h-12 w-12 rounded-lg object-cover mr-3",src:T.images[0],alt:T.title}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:T.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),o.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Shipped"})]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:T.sellerName}),o.jsx("div",{className:"text-xs text-gray-500",children:T.sellerEmail})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:((S=T.buyerInfo)==null?void 0:S.name)||"N/A"}),o.jsx("div",{className:"text-xs text-gray-500",children:((A=T.buyerInfo)==null?void 0:A.email)||"N/A"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:j(T.soldPrice||T.price)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:T.trackingNumber||"N/A"}),T.trackingNumber&&o.jsxs("div",{className:"text-xs text-gray-500",children:["Track: TRK-",T.trackingNumber.slice(-4)]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((N=T.shippedAt)==null?void 0:N.toLocaleDateString())||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsx("button",{onClick:()=>x(T),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-orange-500 text-white hover:bg-orange-600 transition-colors text-center",children:"View Details"}),T.barcodeImageUrl&&o.jsx("button",{onClick:()=>_(T),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors text-center",children:"View Barcode"}),o.jsx("button",{onClick:()=>g(T),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-green-500 text-white hover:bg-green-600 transition-colors text-center",children:"Reprint Label"})]})})]},T.id)})})]})})})}),o.jsx("canvas",{ref:y,style:{display:"none"}})]})}),f&&m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Item Barcode"}),o.jsx("p",{className:"text-gray-600",children:m.title})]}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 text-center",children:m.barcodeImageUrl?o.jsxs("div",{className:"space-y-4",children:[o.jsx("img",{src:m.barcodeImageUrl,alt:"Item Barcode",className:"mx-auto border border-gray-200 rounded-lg p-4 bg-white max-w-full h-auto"}),o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Barcode ID:"})," ",m.barcodeData]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Generated:"})," ",(w=m.barcodeGeneratedAt)==null?void 0:w.toLocaleDateString()]})]}),o.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[o.jsx("button",{onClick:()=>{var T;if(m.barcodeImageUrl){const S=window.open("","_blank");S&&(S.document.write(`
                              <html>
                                <head>
                                  <title>Barcode - ${m.title}</title>
                                  <style>
                                    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
                                    .barcode-container { margin: 20px 0; }
                                    img { max-width: 100%; height: auto; }
                                  </style>
                                </head>
                                <body>
                                  <h2>${m.title}</h2>
                                  <div class="barcode-container">
                                    <img src="${m.barcodeImageUrl}" alt="Barcode" />
                                  </div>
                                  <p>Barcode ID: ${m.barcodeData}</p>
                                  <p>Generated: ${(T=m.barcodeGeneratedAt)==null?void 0:T.toLocaleDateString()}</p>
                                </body>
                              </html>
                            `),S.document.close(),S.focus(),S.print())}},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Print Barcode"}),o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}):o.jsxs("div",{className:"py-8",children:[o.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"📊"}),o.jsx("p",{className:"text-gray-500",children:"No barcode image available"}),o.jsx("button",{onClick:()=>h(!1),className:"mt-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})})]})})]}):null},qIe=({isOpen:t,onClose:e,user:n,refreshTrigger:r=0,onItemClick:i})=>{const[a,s]=k.useState(!1),[l,c]=k.useState([]),[u,d]=k.useState(!1);k.useEffect(()=>{t&&f()},[t,r]);const f=async()=>{s(!0);try{const b=tn(Ke,"items");let _=Gn(b,Kn("status","==","sold"),Kn("saleType","==","online"),Kn("fulfillmentMethod","==","shipping"));const x=await kn(_),g=[];x.forEach(j=>{var T,S,A,N,I,C;const w=j.data();w.shippedAt||g.push({id:j.id,...w,createdAt:((T=w.createdAt)==null?void 0:T.toDate())||new Date,approvedAt:(S=w.approvedAt)==null?void 0:S.toDate(),liveAt:(A=w.liveAt)==null?void 0:A.toDate(),soldAt:((N=w.soldAt)==null?void 0:N.toDate())||new Date,shippedAt:(I=w.shippedAt)==null?void 0:I.toDate(),deliveredAt:(C=w.deliveredAt)==null?void 0:C.toDate()})}),g.sort((j,w)=>{const T=j.soldAt||j.createdAt;return(w.soldAt||w.createdAt).getTime()-T.getTime()}),c(g)}catch(b){console.error("Error fetching unshipped items:",b)}finally{s(!1)}},h=async b=>{if(b.id){d(!0);try{const _=`TRK${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,x=Qn(Ke,"items",b.id);await gr(x,{shippedAt:new Date,trackingNumber:_,shippingLabelGenerated:!0}),await gt(n,"item_shipped",`Item marked as shipped with tracking ${_}`,b.id,b.title),c(g=>g.filter(j=>j.id!==b.id))}catch(_){console.error("Error marking item as shipped:",_)}finally{d(!1)}}},m=b=>{i&&i(b)},v=b=>`$${b.toFixed(2)}`,y=b=>b.toLocaleDateString();return l.reduce((b,_)=>b+(_.soldPrice||_.price),0),l.reduce((b,_)=>{const x=_.soldPrice||_.price;return b+x*.25},0),l.reduce((b,_)=>{const x=_.soldPrice||_.price;return b+x*.75},0),t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Unshipped Items"}),o.jsx("p",{className:"text-gray-600",children:"Online orders awaiting shipment"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Items Awaiting Shipment (",l.length,")"]}),l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No items awaiting shipment"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All online orders have been shipped or are store pickups"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Pending"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(b=>{const _=b.soldPrice||b.price,x=Math.floor((new Date().getTime()-(b.soldAt||new Date).getTime())/(1e3*60*60*24));return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[b.images&&b.images[0]&&o.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:b.images[0],alt:b.title}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:b.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),o.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Awaiting Shipment"})]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.buyerInfo?b.buyerInfo.name:"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:v(_)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(b.soldAt||new Date)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x>3?"bg-red-100 text-red-800":x>1?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[x," day",x!==1?"s":""]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>m(b),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"}),o.jsx("button",{onClick:()=>h(b),disabled:u,className:"text-orange-600 hover:text-orange-900 font-medium disabled:text-gray-400",children:u?"Shipping...":"Mark Shipped"})]})]},b.id)})})]})})]})})})]})}):null},GIe=({isOpen:t,onClose:e})=>{const[n,r]=k.useState([]),[i,a]=k.useState(!0);k.useEffect(()=>{if(!t)return;const c=Gn(tn(Ke,"refunds"),r0("refundedAt","desc")),u=w3(c,d=>{const f=d.docs.map(h=>{var m;return{id:h.id,...h.data(),refundedAt:((m=h.data().refundedAt)==null?void 0:m.toDate())||new Date}});r(f),a(!1)},d=>{console.error("Error fetching refunds:",d),a(!1)});return()=>u()},[t]);const s=c=>c.toLocaleDateString()+" "+c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=n.reduce((c,u)=>c+u.refundAmount,0);return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Issued Refunds"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"All refund transactions and records"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Total Refunds"}),o.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["$",l.toFixed(2)]})]})]})}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0v-1a4 4 0 114 0v1z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Avg Refund"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",n.length>0?(l/n.length).toFixed(2):"0.00"]})]})]})})]}),i?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Loading refunds..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Refunds Issued"}),o.jsx("p",{className:"text-gray-500",children:"No refund transactions have been processed yet."})]}):o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refund Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refunded By"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(c=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.itemTitle}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Seller: ",c.sellerName,c.originalBuyerName&&o.jsxs("span",{className:"block",children:["Original Buyer: ",c.originalBuyerName]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-red-600",children:["$",c.refundAmount.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Original: $",c.originalPrice.toFixed(2)]})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:c.reason,children:c.reason})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:c.refundedByName})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s(c.refundedAt)})]},c.id))})]})})})]})]})}):null},WIe=({user:t,isAdmin:e})=>{const[n,r]=k.useState("dashboard"),[i,a]=k.useState(!0),[s,l]=k.useState(null),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(null),[v,y]=k.useState(null),[b,_]=k.useState(!1),[x,g]=k.useState(!1),[j,w]=k.useState(!1),[T,S]=k.useState(!1),A=["#64748b","#94a3b8","#cbd5e1","#e2e8f0","#f1f5f9"];k.useEffect(()=>{n==="dashboard"?N():n==="users"&&e?I():n==="sold"?C():n==="shipped"&&e?g(!0):n==="unshipped"&&e?w(!0):n==="refunds"&&e&&S(!0)},[n,t,e]);const N=async()=>{a(!0);try{const L=tn(Ke,"items"),U=await kn(L),W=[];U.forEach(X=>{var ve,De,Ee,Q;const Z=X.data();W.push({id:X.id,...Z,createdAt:((ve=Z.createdAt)==null?void 0:ve.toDate())||new Date,approvedAt:(De=Z.approvedAt)==null?void 0:De.toDate(),liveAt:(Ee=Z.liveAt)==null?void 0:Ee.toDate(),soldAt:(Q=Z.soldAt)==null?void 0:Q.toDate()})});const G=tn(Ke,"users"),te=await kn(G),F=[];te.forEach(X=>{F.push({id:X.id,...X.data()})});const $=R(W,F);l($)}catch(L){console.error("Error fetching dashboard data:",L)}finally{a(!1)}},I=async()=>{a(!0);try{const L=[],U=new Map,W=tn(Ke,"items");(await kn(W)).forEach(te=>{var Z,ve,De,Ee;const F={id:te.id,...te.data(),createdAt:((Z=te.data().createdAt)==null?void 0:Z.toDate())||new Date,approvedAt:(ve=te.data().approvedAt)==null?void 0:ve.toDate(),liveAt:(De=te.data().liveAt)==null?void 0:De.toDate(),soldAt:(Ee=te.data().soldAt)==null?void 0:Ee.toDate()},$=F.sellerId;if(!U.has($)){const Q={uid:$,email:F.sellerEmail,displayName:F.sellerName,photoURL:""};L.push(Q),U.set($,{userId:$,userName:F.sellerName,userEmail:F.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const X=U.get($);switch(X.totalItemsListed++,F.status){case"pending":X.pendingItems.push(F);break;case"approved":X.approvedItems.push(F);break;case"live":X.activeItems.push(F);break;case"sold":X.soldItems.push(F),X.totalItemsSold++;const Q=F.soldPrice||F.price,le=F.userEarnings||Q*.75;X.totalEarnings+=le;break}}),U.forEach(te=>{te.outstandingBalance=te.totalEarnings-te.totalPaid}),u(Array.from(U.values()))}catch(L){console.error("Error fetching user analytics:",L)}finally{a(!1)}},C=async()=>{a(!0);try{const L=tn(Ke,"items"),U=Gn(L,Kn("status","==","sold")),W=await kn(U),G=[];W.forEach(te=>{var $,X,Z,ve,De,Ee;const F=te.data();G.push({id:te.id,...F,createdAt:(($=F.createdAt)==null?void 0:$.toDate())||new Date,approvedAt:(X=F.approvedAt)==null?void 0:X.toDate(),liveAt:(Z=F.liveAt)==null?void 0:Z.toDate(),soldAt:((ve=F.soldAt)==null?void 0:ve.toDate())||new Date,barcodeGeneratedAt:(De=F.barcodeGeneratedAt)==null?void 0:De.toDate(),printConfirmedAt:(Ee=F.printConfirmedAt)==null?void 0:Ee.toDate()})}),G.sort((te,F)=>{const $=te.soldAt||te.createdAt;return(F.soldAt||F.createdAt).getTime()-$.getTime()}),f(G)}catch(L){console.error("Error fetching sold items:",L)}finally{a(!1)}},R=(L,U)=>{const W=new Date,G=L.filter(Q=>Q.status==="sold"),te=G.reduce((Q,le)=>Q+(le.soldPrice||le.price),0),F=new Set(L.map(Q=>Q.sellerId)),$=G.length>0?te/G.length:0,X=[];for(let Q=11;Q>=0;Q--){const le=new Date(W.getFullYear(),W.getMonth()-Q,1),ne=new Date(le.getFullYear(),le.getMonth(),1),K=new Date(le.getFullYear(),le.getMonth()+1,0),he=G.filter(fe=>fe.soldAt&&fe.soldAt>=ne&&fe.soldAt<=K),xe=he.reduce((fe,Ae)=>fe+(Ae.soldPrice||Ae.price),0);X.push({month:le.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),revenue:xe,items:he.length})}const Z=new Map;L.forEach(Q=>{const le=Q.category||"Uncategorized";Z.has(le)||Z.set(le,{count:0,revenue:0});const ne=Z.get(le);ne.count++,Q.status==="sold"&&(ne.revenue+=Q.soldPrice||Q.price)});const ve=Array.from(Z.entries()).map(([Q,le])=>({category:Q,count:le.count,revenue:le.revenue})).sort((Q,le)=>le.count-Q.count),De=new Map;L.forEach(Q=>{De.set(Q.status,(De.get(Q.status)||0)+1)});const Ee=Array.from(De.entries()).map(([Q,le])=>({status:Q.charAt(0).toUpperCase()+Q.slice(1),count:le,value:le}));return{totalRevenue:te,totalItems:L.length,activeUsers:F.size,avgItemPrice:$,monthlyRevenue:X,categoryBreakdown:ve,statusBreakdown:Ee}},P=L=>{const U=new Date().toISOString().split("T")[0];if(L==="csv"){let W="";n==="dashboard"&&s?(W=`Month,Revenue,Items Sold
`,s.monthlyRevenue.forEach($=>{W+=`${$.month},${$.revenue},${$.items}
`})):n==="sold"&&(W=`Title,Seller,Original Price,Sold Price,Date Sold
`,d.forEach($=>{var X;W+=`"${$.title}","${$.sellerName}",${$.price},${$.soldPrice||$.price},"${(X=$.soldAt)==null?void 0:X.toLocaleDateString()}"
`}));const G=new Blob([W],{type:"text/csv"}),te=window.URL.createObjectURL(G),F=document.createElement("a");F.href=te,F.download=`analytics-${n}-${U}.csv`,F.click(),window.URL.revokeObjectURL(te)}else{let W={};n==="dashboard"?W=s:n==="sold"?W={soldItems:d}:n==="users"&&(W={userAnalytics:c});const G=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),te=window.URL.createObjectURL(G),F=document.createElement("a");F.href=te,F.download=`analytics-${n}-${U}.json`,F.click(),window.URL.revokeObjectURL(te)}},z=L=>`$${L.toFixed(2)}`,V=L=>{y(L),_(!0)},B=()=>{y(null),_(!1)};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive business insights and performance metrics"})]}),o.jsx("div",{className:"border-b border-gray-200 mb-8",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>r("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="dashboard"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dashboard Overview"}),o.jsx("button",{onClick:()=>r("sold"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sold"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sold Items"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("unshipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="unshipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Unshipped Items"}),o.jsx("button",{onClick:()=>r("shipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="shipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Shipped Items"}),o.jsx("button",{onClick:()=>r("refunds"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="refunds"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Refunds"}),o.jsx("button",{onClick:()=>r("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="users"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Analytics"})]})]})}),o.jsxs("div",{className:"mb-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>P("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export CSV"}),o.jsx("button",{onClick:()=>P("json"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export JSON"})]}),i?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-500"})}):o.jsxs(o.Fragment,{children:[n==="dashboard"&&s&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold",children:z(s.totalRevenue)})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Items"}),o.jsx("p",{className:"text-3xl font-bold",children:s.totalItems})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Sellers"}),o.jsx("p",{className:"text-3xl font-bold",children:s.activeUsers})]}),o.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg Item Price"}),o.jsx("p",{className:"text-3xl font-bold",children:z(s.avgItemPrice)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),o.jsx(pc,{width:"100%",height:300,children:o.jsxs(FIe,{data:s.monthlyRevenue,children:[o.jsx(iy,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Js,{dataKey:"month",stroke:"#64748b"}),o.jsx(eo,{stroke:"#64748b"}),o.jsx(nr,{formatter:L=>[z(L),"Revenue"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),o.jsx(mo,{type:"monotone",dataKey:"revenue",stroke:"#64748b",fill:"#94a3b8",fillOpacity:.3})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items Sold by Month"}),o.jsx(pc,{width:"100%",height:300,children:o.jsxs(zIe,{data:s.monthlyRevenue,children:[o.jsx(iy,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Js,{dataKey:"month",stroke:"#64748b"}),o.jsx(eo,{stroke:"#64748b"}),o.jsx(nr,{formatter:L=>[L,"Items Sold"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),o.jsx(Rl,{dataKey:"items",fill:"#64748b"})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),o.jsx(pc,{width:"100%",height:300,children:o.jsxs(lA,{children:[o.jsx(Ii,{data:s.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({category:L,count:U})=>`${L}: ${U}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:s.categoryBreakdown.map((L,U)=>o.jsx(cu,{fill:A[U%A.length]},`cell-${U}`))}),o.jsx(nr,{formatter:L=>[L,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Status Distribution"}),o.jsx(pc,{width:"100%",height:300,children:o.jsxs(lA,{children:[o.jsx(Ii,{data:s.statusBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({status:L,count:U})=>`${L}: ${U}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.statusBreakdown.map((L,U)=>o.jsx(cu,{fill:A[U%A.length]},`cell-${U}`))}),o.jsx(nr,{formatter:L=>[L,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]})]})]}),n==="sold"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold",children:z(d.reduce((L,U)=>L+(U.soldPrice||U.price),0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Earnings (25%)"}),o.jsx("p",{className:"text-3xl font-bold",children:z(d.reduce((L,U)=>{const W=U.soldPrice||U.price;return L+(U.adminEarnings||W*.25)},0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Earnings (75%)"}),o.jsx("p",{className:"text-3xl font-bold",children:z(d.reduce((L,U)=>{const W=U.soldPrice||U.price;return L+(U.userEarnings||W*.75)},0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Items Sold"}),o.jsx("p",{className:"text-3xl font-bold",children:d.length})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sale Types"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{children:["In-Store: ",d.filter(L=>L.saleType==="in-store").length]}),o.jsxs("div",{children:["Online: ",d.filter(L=>L.saleType==="online").length]})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["All Sold Items (",d.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barcode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(L=>{const U=L.soldPrice||L.price;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[L.images&&L.images[0]&&o.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:L.images[0],alt:L.title}),o.jsx("div",{children:o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:L.title})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:z(L.price)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:z(U)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:L.saleType==="online"?"🌐 Online":"🏪 In-Store"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.barcodeData?o.jsx("span",{className:"text-green-600",children:"✓ Generated"}):o.jsx("span",{className:"text-gray-400",children:"No barcode"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(L.soldAt||new Date).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:()=>V(L),className:"text-slate-600 hover:text-slate-900",children:"View Details"})})]},L.id)})})]})})]})]}),n==="users"&&e&&o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["User Performance (",c.length," users)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Listed"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Earnings"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding Balance"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(L=>{const U=L.totalItemsListed>0?L.totalItemsSold/L.totalItemsListed*100:0;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:L.userEmail})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.totalItemsListed}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.totalItemsSold}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:z(L.totalEarnings)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-600",children:z(L.outstandingBalance)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[U.toFixed(1),"%"]})]},L.userId)})})]})})]})})]}),o.jsx(eE,{isOpen:b,onClose:B,item:v,onItemUpdated:()=>{N(),C()}}),o.jsx(HIe,{isOpen:x,onClose:()=>{g(!1),r("dashboard")},onItemClick:V}),o.jsx(qIe,{isOpen:j,onClose:()=>{w(!1),r("dashboard")},user:t,onItemClick:V}),o.jsx(GIe,{isOpen:T,onClose:()=>{S(!1),r("dashboard")}})]})})},KIe=({user:t})=>{const[e,n]=k.useState("overview"),[r,i]=k.useState(!0),[a,s]=k.useState(null),[l,c]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState(null),[m,v]=k.useState(!1),[y,b]=k.useState([]),[_,x]=k.useState(!1),[g,j]=k.useState(null),[w,T]=k.useState(!1),[S,A]=k.useState(null);k.useEffect(()=>{t&&I()},[t]),k.useEffect(()=>{const $=()=>{t&&(console.log("Window focused, refreshing purchase history..."),U())};return window.addEventListener("focus",$),()=>window.removeEventListener("focus",$)},[t]),k.useEffect(()=>{const $=X=>{X.key===`purchase_history_${t==null?void 0:t.uid}`&&t&&(console.log("Purchase history changed in localStorage, refreshing..."),U())};return window.addEventListener("storage",$),()=>window.removeEventListener("storage",$)},[t]);const N=()=>{if(!t)return[];try{const $=localStorage.getItem(`purchase_history_${t.uid}`);if($)return JSON.parse($).map(Z=>({...Z,purchaseDate:new Date(Z.purchaseDate),orderNumber:Z.orderNumber||`ORD-${Z.id.slice(-6)}`,customerInfo:Z.customerInfo||{name:"N/A",email:"N/A",phone:"N/A",address:"N/A",city:"N/A",zipCode:"N/A"},paymentInfo:Z.paymentInfo||{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Z.id.slice(-8)}`},orderStatus:Z.orderStatus||"delivered",estimatedDelivery:Z.estimatedDelivery||new Date(Z.purchaseDate).toISOString(),trackingNumber:Z.trackingNumber||`TRK${Z.id.slice(-8)}`,items:Z.items.map(ve=>({...ve,category:ve.category||"N/A",brand:ve.brand||"N/A",size:ve.size||"N/A",images:ve.images||[]}))}))}catch($){console.error("Error loading purchase history:",$)}return[]},I=async()=>{if(t){i(!0);try{await C();const $=N();b($)}catch($){console.error("Error fetching user data:",$)}finally{i(!1)}}},C=async()=>{if(t)try{const $=tn(Ke,"items");let X,Z=[];try{X=Gn($,Kn("sellerId","==",t.uid),r0("createdAt","desc")),(await kn(X)).forEach(xe=>{var Ae,Je,At,lt;const fe=xe.data();Z.push({id:xe.id,...fe,createdAt:((Ae=fe.createdAt)==null?void 0:Ae.toDate())||new Date,approvedAt:(Je=fe.approvedAt)==null?void 0:Je.toDate(),liveAt:(At=fe.liveAt)==null?void 0:At.toDate(),soldAt:(lt=fe.soldAt)==null?void 0:lt.toDate()})})}catch(he){console.warn("Index not ready, using fallback query:",he.message),X=Gn($,Kn("sellerId","==",t.uid)),(await kn(X)).forEach(fe=>{var Je,At,lt,gn;const Ae=fe.data();Z.push({id:fe.id,...Ae,createdAt:((Je=Ae.createdAt)==null?void 0:Je.toDate())||new Date,approvedAt:(At=Ae.approvedAt)==null?void 0:At.toDate(),liveAt:(lt=Ae.liveAt)==null?void 0:lt.toDate(),soldAt:(gn=Ae.soldAt)==null?void 0:gn.toDate()})}),Z.sort((fe,Ae)=>{const Je=fe.createdAt||new Date(0);return(Ae.createdAt||new Date(0)).getTime()-Je.getTime()})}c(Z);const ve=Z.filter(he=>he.status==="sold"),De=Z.filter(he=>he.status==="live"),Ee=Z.filter(he=>he.status==="pending"),Q=ve.reduce((he,xe)=>{const fe=xe.soldPrice||xe.price;return he+fe*.75},0),le=N();b(le);const ne=le.reduce((he,xe)=>he+xe.total,0),K=Math.max(0,Q-ne*.1);s({totalItemsListed:Z.length,totalItemsSold:ve.length,totalEarnings:Q,storeCredit:K,activeListings:De.length,pendingListings:Ee.length,totalPurchases:le.length,totalSpent:ne}),d(ve)}catch($){console.error("Error fetching my listings:",$),c([]),d([]),s({totalItemsListed:0,totalItemsSold:0,totalEarnings:0,storeCredit:0,activeListings:0,pendingListings:0,totalPurchases:0,totalSpent:0})}},R=$=>{h($),v(!0)},P=()=>{h(null),v(!1)},z=$=>{switch($){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},V=$=>{switch($){case"pending":return"Under Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return $}},B=a?[{name:"Sold",value:a.totalItemsSold,color:"#10b981"},{name:"Active",value:a.activeListings,color:"#3b82f6"},{name:"Pending",value:a.pendingListings,color:"#f59e0b"}]:[],L=u.map(($,X)=>{var Z;return{name:`Sale ${X+1}`,earnings:($.soldPrice||$.price)*.75,date:((Z=$.soldAt)==null?void 0:Z.toLocaleDateString())||"N/A"}}),U=()=>{if(!t)return;console.log("Refreshing purchase history...");const $=N();console.log("Updated purchase history:",$.length,"orders"),b($);const X=$.reduce((Z,ve)=>Z+ve.total,0);s(Z=>Z?{...Z,totalPurchases:$.length,totalSpent:X}:null)},W=($,X,Z)=>{j({trackingNumber:$,orderNumber:X,estimatedDelivery:Z}),x(!0)},G=$=>{A($),T(!0)},te=()=>{T(!1),A(null)},F=({isOpen:$,onClose:X,item:Z})=>{var xe;const[ve,De]=k.useState("shipping"),[Ee,Q]=k.useState(!1),[le,ne]=k.useState(!1),K=async()=>{ne(!0),await new Promise(Ae=>setTimeout(Ae,2e3));const fe={trackingNumber:`TRK${Date.now().toString().slice(-8)}`,carrier:"FedEx",service:"Ground",estimatedDelivery:new Date(Date.now()+5*24*60*60*1e3).toISOString(),labelUrl:`https://example.com/label/${Date.now()}`,cost:(Math.random()*10+5).toFixed(2)};console.log("Generated shipping label:",fe),Q(!0),ne(!1),alert(`Shipping label generated!
Tracking: ${fe.trackingNumber}
Estimated delivery: ${new Date(fe.estimatedDelivery).toLocaleDateString()}`)},he=()=>{var At,lt,gn,vn,Te;const fe=window.open("","_blank");if(!fe||!Z)return;const Ae=`TRK${Date.now().toString().slice(-8)}`,Je=`
        <html>
          <head>
            <title>Shipping Label - ${Z.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .label-container { border: 2px solid #000; padding: 20px; width: 600px; margin: 0 auto; }
              .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
              .section { margin: 15px 0; }
              .tracking { font-size: 24px; font-weight: bold; text-align: center; margin: 20px 0; padding: 10px; border: 1px solid #000; }
              .barcode { text-align: center; font-family: 'Courier New', monospace; font-size: 12px; margin: 10px 0; }
            </style>
          </head>
          <body>
            <div class="label-container">
              <div class="header">
                <h2>Summit Gear Exchange</h2>
                <p>Shipping Label</p>
              </div>
              <div class="section">
                <strong>FROM:</strong><br>
                Summit Gear Exchange<br>
                123 Mountain View Drive<br>
                Denver, CO 80202<br>
                (555) 123-4567
              </div>
              <div class="section">
                <strong>TO:</strong><br>
                ${((At=Z.buyerInfo)==null?void 0:At.name)||"Customer"}<br>
                ${((lt=Z.buyerInfo)==null?void 0:lt.address)||"Address"}<br>
                ${((gn=Z.buyerInfo)==null?void 0:gn.city)||"City"}, ${((vn=Z.buyerInfo)==null?void 0:vn.zipCode)||"ZIP"}<br>
                ${((Te=Z.buyerInfo)==null?void 0:Te.phone)||"Phone"}
              </div>
              <div class="tracking">TRACKING: ${Ae}</div>
              <div class="barcode">||||| |||| | |||| ||||| | |||| |||||<br>${Ae}</div>
              <div class="section">
                <strong>Item:</strong> ${Z.title}<br>
                <strong>Service:</strong> FedEx Ground<br>
                <strong>Date:</strong> ${new Date().toLocaleDateString()}
              </div>
            </div>
          </body>
        </html>
      `;fe.document.write(Je),fe.document.close(),fe.focus(),fe.print()};return!$||!Z?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sold Item Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage fulfillment for your sold item"})]}),o.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:Z.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Sale Price:"})," $",Z.soldPrice||Z.price]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Your Earnings:"})," $",((Z.soldPrice||Z.price)*.75).toFixed(2)]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Sold Date:"})," ",((xe=Z.soldAt)==null?void 0:xe.toLocaleDateString())||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",Z.saleTransactionId||"N/A"]})]})]}),Z.buyerInfo&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Buyer Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",Z.buyerInfo.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",Z.buyerInfo.email]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Phone:"})," ",Z.buyerInfo.phone]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"font-medium",children:"Address:"})," ",Z.buyerInfo.address,", ",Z.buyerInfo.city,", ",Z.buyerInfo.zipCode]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fulfillment Method"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"fulfillment",value:"shipping",checked:ve==="shipping",onChange:fe=>De(fe.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Ship to Customer"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Generate shipping label and send directly to buyer"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"fulfillment",value:"pickup",checked:ve==="pickup",onChange:fe=>De(fe.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"In-Store Pickup"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Customer will pick up item at store location"})]})]})]})]}),ve==="shipping"&&o.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Shipping Actions"}),Ee?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-green-600 mb-3",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsx("span",{className:"font-medium",children:"Shipping label generated!"})]}),o.jsxs("button",{onClick:he,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Shipping Label"]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Generate a shipping label to send this item to the customer."}),o.jsx("button",{onClick:K,disabled:le,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:le?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Label..."]}):o.jsx(o.Fragment,{children:"Generate Shipping Label"})})]})]}),ve==="pickup"&&o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"In-Store Pickup"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Customer Instructions:"})," Please bring a valid ID and your order confirmation to pick up your item."]}),o.jsxs("div",{className:"bg-white rounded p-3 border",children:[o.jsx("p",{children:o.jsx("strong",{children:"Store Location:"})}),o.jsx("p",{children:"Summit Gear Exchange"}),o.jsx("p",{children:"123 Mountain View Drive"}),o.jsx("p",{children:"Denver, CO 80202"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hours:"})," Mon-Sat 9AM-7PM, Sun 10AM-6PM"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]}),o.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Mark as Ready for Pickup"})]})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsx("button",{onClick:X,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};return r?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My User History"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track your listings, sales, purchases, and store credit"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>{I(),U()},className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",title:"Refresh data",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Available Credit"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"overview",label:"Overview",icon:"📈"},{key:"listings",label:"My Listings",icon:"📋"},{key:"sales",label:"Sales History",icon:"💵"},{key:"purchases",label:"Purchases",icon:"🛍️"},{key:"orders",label:"My Orders",icon:"📦"},{key:"credit",label:"Store Credit",icon:"💰"}].map($=>o.jsxs("button",{onClick:()=>n($.key),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${e===$.key?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx("span",{className:"mr-2",children:$.icon}),$.label]},$.key))})}),o.jsxs("div",{className:"p-6",children:[e==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"📦"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.totalItemsListed)||0}),o.jsx("div",{className:"text-sm text-blue-600",children:"Items Listed"})]})]})}),o.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"✅"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.totalItemsSold)||0}),o.jsx("div",{className:"text-sm text-green-600",children:"Items Sold"})]})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"💰"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-purple-600",children:"Total Earnings"})]})]})}),o.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"🛒"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:(a==null?void 0:a.totalPurchases)||0}),o.jsx("div",{className:"text-sm text-indigo-600",children:"Purchases"})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"💳"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-orange-600",children:"Store Credit"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Listings Status"}),o.jsx("div",{className:"h-64",children:o.jsx(pc,{width:"100%",height:"100%",children:o.jsxs(lA,{children:[o.jsx(Ii,{data:B,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:B.map(($,X)=>o.jsx(cu,{fill:$.color},`cell-${X}`))}),o.jsx(nr,{})]})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings from Sales"}),o.jsx("div",{className:"h-64",children:L.length>0?o.jsx(pc,{width:"100%",height:"100%",children:o.jsxs(VIe,{data:L,children:[o.jsx(iy,{strokeDasharray:"3 3"}),o.jsx(Js,{dataKey:"name"}),o.jsx(eo,{}),o.jsx(nr,{}),o.jsx(Tp,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:2})]})}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:"📈"}),o.jsx("p",{children:"No sales data yet"}),o.jsx("p",{className:"text-sm",children:"Start listing items to see your earnings here"})]})})})]})]})]}),e==="listings"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Listings (",l.length,")"]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("span",{className:"text-sm text-gray-500",children:["Active: ",(a==null?void 0:a.activeListings)||0," | Pending: ",(a==null?void 0:a.pendingListings)||0," | Sold: ",(a==null?void 0:a.totalItemsSold)||0]})})]}),l.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📦"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings yet"}),o.jsx("p",{className:"text-gray-500",children:"Start by listing your first item for consignment"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map($=>o.jsxs("div",{onClick:()=>R($),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-900 truncate",children:$.title}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z($.status)}`,children:V($.status)})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:$.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",$.price]}),o.jsx("span",{className:"text-xs text-gray-500",children:$.createdAt.toLocaleDateString()})]}),$.status==="sold"&&o.jsxs("div",{className:"mt-2 text-xs text-green-600",children:["Earned: $",(($.soldPrice||$.price)*.75).toFixed(2)]})]},$.id))})]}),e==="sales"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sales History (",u.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Earned: $",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),u.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"💰"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),o.jsx("p",{className:"text-gray-500",children:"Your earnings will appear here when items sell"})]}):o.jsx("div",{className:"space-y-3",children:u.map($=>{var X;return o.jsx("div",{onClick:()=>G($),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:$.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Sold on ",(X=$.soldAt)==null?void 0:X.toLocaleDateString()]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Sale price: $",($.soldPrice||$.price).toFixed(2)]}),$.buyerInfo&&o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Buyer: ",$.buyerInfo.name," • ",$.buyerInfo.city,", ",$.buyerInfo.zipCode]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+$",(($.soldPrice||$.price)*.75).toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-500",children:"your earnings"}),o.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"📦 Click to manage fulfillment"})]})]})},$.id)})})]}),e==="purchases"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Purchase History (",y.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),y.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🛒"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No purchases yet"}),o.jsx("p",{className:"text-gray-500",children:"Your purchase history will appear here after you make your first purchase"}),o.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-3",children:y.map($=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:["Order #",$.id.slice(-8)]}),o.jsx("p",{className:"text-sm text-gray-600",children:$.purchaseDate.toLocaleDateString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",$.total.toFixed(2)]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$.status})]})]}),o.jsxs("div",{className:"border-t pt-3",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Items purchased:"}),o.jsx("div",{className:"space-y-1",children:$.items.map((X,Z)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-900",children:X.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-gray-500",children:["Qty: ",X.quantity]}),o.jsxs("span",{className:"font-medium",children:["$",(X.price*X.quantity).toFixed(2)]})]})]},Z))})]})]},$.id))})]}),e==="orders"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Orders (",y.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),y.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📋"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),o.jsx("p",{className:"text-gray-500",children:"Your order history will appear here after you make your first purchase"}),o.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:y.map($=>{var X,Z;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order ",$.orderNumber||`#${$.id.slice(-8)}`]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",$.purchaseDate.toLocaleDateString()," at ",$.purchaseDate.toLocaleTimeString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",$.total.toFixed(2)]}),o.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${$.orderStatus==="delivered"?"bg-green-100 text-green-800":$.orderStatus==="shipped"?"bg-blue-100 text-blue-800":$.orderStatus==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((X=$.orderStatus)==null?void 0:X.charAt(0).toUpperCase())+((Z=$.orderStatus)==null?void 0:Z.slice(1))||"Completed"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Items Ordered"}),o.jsx("div",{className:"space-y-3",children:$.items.map((ve,De)=>o.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:ve.images&&ve.images.length>0?o.jsx("img",{src:ve.images[0],alt:ve.title,className:"w-full h-full object-cover rounded-lg"}):o.jsx("span",{className:"text-gray-400 text-2xl",children:"📦"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h6",{className:"font-medium text-gray-900",children:ve.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:[ve.brand," • ",ve.category," • Size: ",ve.size]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",ve.quantity]}),o.jsxs("span",{className:"font-medium",children:["$",(ve.price*ve.quantity).toFixed(2)]})]})]})]},De))})]}),o.jsxs("div",{className:"space-y-4",children:[$.customerInfo&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium",children:$.customerInfo.name}),o.jsx("p",{children:$.customerInfo.address}),o.jsxs("p",{children:[$.customerInfo.city,", ",$.customerInfo.zipCode]}),o.jsx("p",{children:$.customerInfo.phone}),o.jsx("p",{children:$.customerInfo.email})]})]}),$.paymentInfo&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:[$.paymentInfo.method," ending in ",$.paymentInfo.last4]}),o.jsxs("p",{className:"text-xs",children:["Transaction ID: ",$.paymentInfo.transactionId]}),o.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${$.paymentInfo.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$.paymentInfo.status})]})]}),$.trackingNumber&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Delivery"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Tracking: ",$.trackingNumber]}),$.estimatedDelivery&&o.jsxs("p",{children:["Estimated: ",new Date($.estimatedDelivery).toLocaleDateString()]})]}),o.jsx("button",{onClick:()=>W($.trackingNumber,$.orderNumber||`#${$.id.slice(-8)}`,$.estimatedDelivery),className:"mt-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Track Package"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx("button",{className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Invoice"})})]})]})})]},$.id)})})]}),e==="credit"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Store Credit Balance"}),o.jsxs("div",{className:"text-3xl font-bold mt-1",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Available for purchases"})]}),o.jsx("div",{className:"text-6xl opacity-20",children:"💳"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"How Store Credit Works"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Earn 75% of your item's final sale price"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Credit is added automatically when items sell"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Use credit for purchases in our store"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Credit never expires"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Redeem credit during checkout"})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Credit Summary"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Total Earned:"}),o.jsxs("span",{className:"font-medium text-green-600",children:["+$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Total Used:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-$",(((a==null?void 0:a.totalEarnings)||0)-((a==null?void 0:a.storeCredit)||0)).toFixed(2)]})]}),o.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-900 font-semibold",children:"Current Balance:"}),o.jsxs("span",{className:"font-bold text-orange-600 text-lg",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Start Shopping"})})]})]}),u.length>0&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Credit Activity"}),o.jsx("div",{className:"space-y-2",children:u.slice(0,5).map($=>{var X;return o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-900",children:$.title}),o.jsxs("span",{className:"text-gray-500 ml-2",children:["sold ",(X=$.soldAt)==null?void 0:X.toLocaleDateString()]})]}),o.jsxs("span",{className:"text-green-600 font-medium",children:["+$",(($.soldPrice||$.price)*.75).toFixed(2)]})]},$.id)})})]})]})]})]}),o.jsx(eE,{isOpen:m,onClose:P,item:f,onItemUpdated:()=>{I(),C()}}),_&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Tracking"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.orderNumber})]}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Package In Transit"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Your order is on its way!"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),o.jsx("span",{className:"text-sm text-gray-900 font-mono",children:g.trackingNumber})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),o.jsx("span",{className:"text-sm text-gray-900",children:new Date(g.estimatedDelivery).toLocaleDateString()})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:"Tracking History"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Package shipped"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Denver, CO - 2 days ago"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"In transit"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Salt Lake City, UT - 1 day ago"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Out for delivery"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Your city - Today"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Delivered"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Expected by end of day"})]})]})]})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t",children:o.jsx("button",{onClick:()=>x(!1),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Close"})})]})]})}),o.jsx(F,{isOpen:w,onClose:te,item:S})]})},XIe=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,a]=k.useState([]),[s,l]=k.useState(!0),[c,u]=k.useState(""),[d,f]=k.useState("all"),[h,m]=k.useState("all"),[v,y]=k.useState("all"),[b,_]=k.useState("all"),[x,g]=k.useState("all"),[j,w]=k.useState([]),[T,S]=k.useState("newest"),[A,N]=k.useState(!1),[I,C]=k.useState("individual"),[R,P]=k.useState(!1),[z,V]=k.useState(null),[B,L]=k.useState(!1),[U,W]=k.useState(!1),{user:G}=El(),[te,F]=k.useState([]),[$,X]=k.useState([]),[Z,ve]=k.useState([]),[De,Ee]=k.useState([]);k.useEffect(()=>{Q()},[]),k.useEffect(()=>{ne(),le()},[t,c,d,h,v,b,x,T]),k.useEffect(()=>{I==="grouped"&&K()},[n,I]);const Q=async()=>{try{const H=tn(Ke,"items"),se=Gn(H,r0("createdAt","desc")),pe=await kn(se),be=[];pe.forEach(de=>{var Bt,$n,ca,Ar;const pt=de.data();be.push({id:de.id,...pt,createdAt:((Bt=pt.createdAt)==null?void 0:Bt.toDate())||new Date,approvedAt:($n=pt.approvedAt)==null?void 0:$n.toDate(),liveAt:(ca=pt.liveAt)==null?void 0:ca.toDate(),soldAt:(Ar=pt.soldAt)==null?void 0:Ar.toDate()})}),e(be)}catch(H){console.error("Error fetching items:",H)}finally{l(!1)}},le=()=>{const H=[...new Set(t.map(de=>de.category).filter(de=>!!de&&de!==""))].sort(),se=[...new Set(t.map(de=>de.brand).filter(de=>!!de&&de!==""))].sort(),pe=[...new Set(t.map(de=>de.condition).filter(Boolean).filter(de=>de!==""))].sort(),be=[...new Set(t.map(de=>de.gender).filter(Boolean).filter(de=>de!==""))].sort();F(H),X(se),ve(pe),Ee(be)},ne=()=>{let H=[...t];if(d!=="all"&&(H=H.filter(se=>se.status===d)),h!=="all"&&(H=H.filter(se=>se.category===h)),v!=="all"&&(H=H.filter(se=>se.brand===v)),b!=="all"&&(H=H.filter(se=>se.condition===b)),x!=="all"&&(H=H.filter(se=>se.gender===x)),c){const se=c.toLowerCase();H=H.filter(pe=>{var be,de,pt,Bt,$n,ca,Ar;return((be=pe.title)==null?void 0:be.toLowerCase().includes(se))||((de=pe.description)==null?void 0:de.toLowerCase().includes(se))||((pt=pe.brand)==null?void 0:pt.toLowerCase().includes(se))||((Bt=pe.category)==null?void 0:Bt.toLowerCase().includes(se))||(($n=pe.sellerName)==null?void 0:$n.toLowerCase().includes(se))||((ca=pe.material)==null?void 0:ca.toLowerCase().includes(se))||((Ar=pe.color)==null?void 0:Ar.toLowerCase().includes(se))||pe.id.toLowerCase().includes(se)})}switch(T){case"oldest":H.sort((se,pe)=>se.createdAt.getTime()-pe.createdAt.getTime());break;case"price-high":H.sort((se,pe)=>pe.price-se.price);break;case"price-low":H.sort((se,pe)=>se.price-pe.price);break;case"shelf-time":H.sort((se,pe)=>{const be=se.liveAt||se.createdAt,de=pe.liveAt||pe.createdAt;return be.getTime()-de.getTime()});break;case"shelf-time-newest":H.sort((se,pe)=>{const be=se.liveAt||se.createdAt;return(pe.liveAt||pe.createdAt).getTime()-be.getTime()});break;case"newest":default:H.sort((se,pe)=>pe.createdAt.getTime()-se.createdAt.getTime());break}r(H)},K=()=>{const H={};n.forEach(pe=>{var de,pt,Bt,$n;const be=`${(de=pe.title)==null?void 0:de.toLowerCase()}-${(pt=pe.category)==null?void 0:pt.toLowerCase()}-${(Bt=pe.brand)==null?void 0:Bt.toLowerCase()}-${($n=pe.condition)==null?void 0:$n.toLowerCase()}`;H[be]||(H[be]=[]),H[be].push(pe)});const se=Object.values(H).map(pe=>{const be=pe[0];return{id:`group-${be.id}`,title:be.title,category:be.category||"",brand:be.brand||"",condition:be.condition||"",price:be.price,quantity:pe.length,items:pe,representativeItem:be}});a(se)},he=H=>{w(se=>se.includes(H)?se.filter(pe=>pe!==H):[...se,H])},xe=()=>{j.length===n.length?w([]):w(n.map(H=>H.id))},fe=async H=>{try{const se=j.map(async pe=>{const be=Qn(Ke,"items",pe),de={status:H};return H==="live"?de.liveAt=new Date:H==="approved"&&(de.approvedAt=new Date),gr(be,de)});await Promise.all(se),await gt(G,"bulk_action",`Bulk updated ${j.length} items to ${H}`),await Q(),w([]),N(!1)}catch(se){console.error("Error updating items:",se)}},Ae=async(H,se)=>{try{const pe=Qn(Ke,"items",H),be={status:se};se==="live"||se==="approved"||se==="archived"&&(be.archivedAt=new Date),await gr(pe,be);const de=t.find(pt=>pt.id===H);de&&await gt(G,`item_${se}`,`Updated item status to ${se}`,H,de.title),await Q()}catch(pe){console.error("Error updating item:",pe)}},Je=H=>{switch(H){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-purple-100 text-purple-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},At=H=>{const se=H.liveAt||H.createdAt,be=new Date().getTime()-se.getTime(),de=Math.floor(be/(1e3*60*60*24));return de===0?"Today":de===1?"1 day":`${de} days`},lt=H=>{const se=H.liveAt||H.createdAt,be=new Date().getTime()-se.getTime();return Math.floor(be/(1e3*60*60*24))},gn=H=>{V(H),P(!0)},vn=async(H,se)=>{if(z)try{const pe=Qn(Ke,"items",z.id),be=z.originalPrice||z.price,de=be*(1-H/100);await gr(pe,{originalPrice:be,price:Math.round(de*100)/100,discountPercentage:H,discountAppliedAt:new Date,discountReason:se}),await gt(G,"item_discounted",`Applied ${H}% discount: ${se}`,z.id,z.title),await Q(),P(!1),V(null)}catch(pe){console.error("Error applying discount:",pe)}},Te=async(H,se)=>{try{const pe=n.filter(de=>de.status!=="live"?!1:lt(de)>=H),be=pe.map(async de=>{const pt=Qn(Ke,"items",de.id),Bt=de.originalPrice||de.price,$n=Bt*(1-se/100);return gr(pt,{originalPrice:Bt,price:Math.round($n*100)/100,discountPercentage:se,discountAppliedAt:new Date,discountReason:`Auto-discount: ${H}+ days on shelf`})});await Promise.all(be),await gt(G,"bulk_discount",`Applied ${se}% discount to ${pe.length} items with ${H}+ days on shelf`),await Q(),L(!1)}catch(pe){console.error("Error applying bulk discount:",pe)}};return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage all items across all statuses"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>W(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Data"]}),o.jsxs("button",{onClick:()=>L(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Auto-Discount"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," items | Filtered: ",n.length," items"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg border p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View Mode:"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{onClick:()=>C("individual"),className:`px-4 py-2 text-sm font-medium ${I==="individual"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Individual Items"}),o.jsx("button",{onClick:()=>C("grouped"),className:`px-4 py-2 text-sm font-medium ${I==="grouped"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grouped by Similarity"})]})]}),o.jsx("div",{className:"text-sm text-gray-500",children:I==="individual"?`Showing ${n.length} individual items`:`Showing ${i.length} item groups`})]})}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsx("input",{type:"text",value:c,onChange:H=>u(H.target.value),placeholder:"Search items, brands, sellers...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:d,onChange:H=>f(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"live",children:"Live"}),o.jsx("option",{value:"sold",children:"Sold"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:h,onChange:H=>m(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Categories"}),te.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsxs("select",{value:v,onChange:H=>y(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Brands"}),$.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),o.jsxs("select",{value:b,onChange:H=>_(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Conditions"}),Z.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{value:x,onChange:H=>g(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Genders"}),De.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),o.jsxs("select",{value:T,onChange:H=>S(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"shelf-time",children:"Longest on Shelf"}),o.jsx("option",{value:"shelf-time-newest",children:"Shortest on Shelf"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Actions"}),o.jsxs("button",{onClick:()=>N(!A),disabled:j.length===0,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed text-sm",children:["Actions (",j.length,")"]})]})]}),A&&j.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>fe("approved"),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",children:"Move to Approved"}),o.jsx("button",{onClick:()=>fe("live"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600",children:"Make Live"}),o.jsx("button",{onClick:()=>fe("archived"),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Archive Items"}),o.jsx("button",{onClick:()=>N(!1),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Cancel"})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:o.jsx("input",{type:"checkbox",checked:j.length===n.length&&n.length>0,onChange:xe,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shelf Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I==="individual"?n.map(H=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:j.includes(H.id),onChange:()=>he(H.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[H.images&&H.images.length>0&&o.jsx("img",{src:H.images[0],alt:H.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.title}),o.jsxs("div",{className:"text-sm text-gray-500",children:[H.category&&`${H.category} • `,H.brand&&`${H.brand} • `,H.condition&&`${H.condition}`,H.gender&&` • ${H.gender}`,H.size&&` • Size ${H.size}`]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Je(H.status)}`,children:H.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:H.discountPercentage?"text-red-600 font-medium":"",children:["$",H.price]}),H.discountPercentage&&o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsxs("span",{className:"line-through",children:["$",H.originalPrice]}),o.jsxs("span",{className:"ml-1 text-red-600",children:["-",H.discountPercentage,"%"]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:H.status==="live"?o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`${lt(H)>=30?"text-red-600 font-medium":lt(H)>=14?"text-orange-600 font-medium":lt(H)>=7?"text-yellow-600 font-medium":"text-gray-500"}`,children:At(H)}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",lt(H)," days)"]})]}):o.jsx("span",{className:"text-gray-500",children:"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[H.status==="live"&&o.jsx("button",{onClick:()=>gn(H),className:"text-orange-600 hover:text-orange-900",children:"Discount"}),H.status!=="archived"&&o.jsx("button",{onClick:()=>Ae(H.id,"archived"),className:"text-gray-600 hover:text-gray-900",children:"Archive"})]})})]},H.id)):i.map(H=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:H.items.every(se=>j.includes(se.id)),onChange:()=>{const se=H.items.every(pe=>j.includes(pe.id));w(se?pe=>pe.filter(be=>!H.items.some(de=>de.id===be)):pe=>[...pe,...H.items.map(be=>be.id)])},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[H.representativeItem.images&&H.representativeItem.images.length>0&&o.jsx("img",{src:H.representativeItem.images[0],alt:H.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.title}),o.jsxs("div",{className:"text-sm text-gray-500",children:[H.category&&`${H.category} • `,H.brand&&`${H.brand} • `,H.condition]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:[...new Set(H.items.map(se=>se.status))].map(se=>o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Je(se)}`,children:se},se))})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Math.min(...H.items.map(se=>se.price)),H.items.length>1&&` - $${Math.max(...H.items.map(se=>se.price))}`]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:H.quantity})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H.items.some(se=>se.status==="live")?At(H.items.find(se=>se.status==="live")):"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[...new Set(H.items.map(se=>se.sellerName))].join(", ")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>{H.items.forEach(se=>{se.status!=="archived"&&Ae(se.id,"archived")})},className:"text-gray-600 hover:text-gray-900",children:"Archive All"})})})]},H.id))})]})}),(I==="individual"?n.length===0:i.length===0)&&o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:t.length===0?"No items found":"No items match your filters"})})]}),R&&z&&o.jsx(YIe,{item:z,onApply:vn,onClose:()=>{P(!1),V(null)}}),B&&o.jsx(QIe,{items:n,onApply:Te,onClose:()=>L(!1),getShelfDays:lt}),U&&o.jsx(ZIe,{onClose:()=>W(!1),onImportComplete:()=>{W(!1),Q()}})]})},YIe=({item:t,onApply:e,onClose:n})=>{const[r,i]=k.useState(10),[a,s]=k.useState(""),l=t.originalPrice||t.price,c=l*(1-r/100),u=d=>{d.preventDefault(),e(r,a||"Manual discount applied")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Apply Discount"}),o.jsx("p",{className:"text-gray-600 mt-1",children:t.title})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("form",{onSubmit:u,className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage"}),o.jsx("input",{type:"number",min:"1",max:"50",value:r,onChange:d=>i(Number(d.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),o.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"e.g., Shelf time over 30 days",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Original Price:"}),o.jsxs("span",{className:"font-medium",children:["$",l]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),o.jsxs("span",{className:"text-red-600",children:["-",r,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[o.jsx("span",{className:"font-medium",children:"New Price:"}),o.jsxs("span",{className:"font-bold text-lg text-green-600",children:["$",c.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Apply Discount"})]})]})]})})},QIe=({items:t,onApply:e,onClose:n,getShelfDays:r})=>{const i=[{days:7,discount:10,label:"7+ days - 10% off"},{days:14,discount:15,label:"14+ days - 15% off"},{days:21,discount:20,label:"21+ days - 20% off"},{days:30,discount:25,label:"30+ days - 25% off"},{days:45,discount:30,label:"45+ days - 30% off"},{days:60,discount:35,label:"60+ days - 35% off"}],a=s=>t.filter(l=>l.status!=="live"?!1:r(l)>=s).length;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Auto-Discount by Shelf Time"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Apply discounts to items based on how long they've been on the shelf"})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsx("div",{className:"grid gap-3",children:i.map(s=>{const l=a(s.days);return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:s.label}),o.jsxs("div",{className:"text-sm text-gray-500",children:[l," eligible items"]})]}),o.jsxs("button",{onClick:()=>e(s.days,s.discount),disabled:l===0,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Apply to ",l]})]},s.days)})}),o.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Note:"}),' Discounts will only be applied to items with "live" status. Items that already have discounts will have their discount updated based on the original price.']})]})}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Close"})})]})]})})},ZIe=({onClose:t,onImportComplete:e})=>{const[n,r]=k.useState(null),[i,a]=k.useState("csv"),[s,l]=k.useState(!1),[c,u]=k.useState(0),[d,f]=k.useState([]),[h,m]=k.useState(!1),{user:v}=El(),y=g=>{var w,T;const j=(w=g.target.files)==null?void 0:w[0];if(j){r(j);const S=(T=j.name.split(".").pop())==null?void 0:T.toLowerCase();S==="csv"?a("csv"):S==="json"?a("json"):S==="sql"&&a("sql"),(S==="csv"||S==="json")&&b(j,S)}},b=async(g,j)=>{const w=new FileReader;w.onload=T=>{var A;const S=(A=T.target)==null?void 0:A.result;if(j==="csv"){const N=S.split(`
`).filter(R=>R.trim()),I=N[0].split(",").map(R=>R.trim().replace(/"/g,"")),C=N.slice(1,6).map(R=>{const P=R.split(",").map(V=>V.trim().replace(/"/g,"")),z={};return I.forEach((V,B)=>{z[V]=P[B]||""}),z});f(C)}else if(j==="json")try{const N=JSON.parse(S);f(Array.isArray(N)?N.slice(0,5):[N])}catch{console.error("Invalid JSON format")}m(!0)},w.readAsText(g)},_=async()=>{if(!(!n||!v)){l(!0),u(0);try{const g=setInterval(()=>{u(w=>w>=90?(clearInterval(g),90):w+10)},200),j=new FileReader;j.onload=async w=>{var A;const T=(A=w.target)==null?void 0:A.result;let S=[];try{if(i==="csv"){const N=T.split(`
`).filter(C=>C.trim()),I=N[0].split(",").map(C=>C.trim().replace(/"/g,""));S=N.slice(1).map(C=>{const R=C.split(",").map(z=>z.trim().replace(/"/g,"")),P={};return I.forEach((z,V)=>{P[z]=R[V]||""}),P})}else if(i==="json"){const N=JSON.parse(T);S=Array.isArray(N)?N:[N]}await gt(v,"data_import",`Imported ${S.length} items from ${i.toUpperCase()} file`,n.name,`${S.length} items`),clearInterval(g),u(100),setTimeout(()=>{e()},1e3)}catch(N){console.error("Import error:",N),clearInterval(g),l(!1)}},j.readAsText(n)}catch(g){console.error("Import failed:",g),l(!1)}}},x=g=>{if(g===0)return"0 Bytes";const j=1024,w=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(g)/Math.log(j));return parseFloat((g/Math.pow(j,T)).toFixed(2))+" "+w[T]};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Import Data"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Upload CSV, JSON, or SQL data sheets to import inventory items"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mb-4",children:o.jsx("svg",{className:"mx-auto h-16 w-16 text-blue-500 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Importing Data..."}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("div",{className:"text-sm text-gray-600",children:[c,"% complete"]}),c===100&&o.jsx("div",{className:"mt-4 text-green-600 font-medium",children:"Import completed successfully!"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Import Format"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[o.jsxs("button",{onClick:()=>a("csv"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="csv"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"CSV"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Comma Separated Values"})]}),o.jsxs("button",{onClick:()=>a("json"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="json"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"JSON"}),o.jsx("div",{className:"text-sm text-gray-500",children:"JavaScript Object Notation"})]}),o.jsxs("button",{onClick:()=>a("sql"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="sql"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"SQL"}),o.jsx("div",{className:"text-sm text-gray-500",children:"SQL Insert Statements"})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[o.jsx("input",{type:"file",accept:i==="csv"?".csv":i==="json"?".json":".sql",onChange:y,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:o.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Click to upload or drag and drop"}),o.jsxs("div",{className:"text-sm text-gray-500",children:[i.toUpperCase()," files only"]})]})]}),n&&o.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:n.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:[x(n.size)," • ",i.toUpperCase()]})]}),o.jsx("button",{onClick:()=>{r(null),m(!1),f([])},className:"text-red-500 hover:text-red-700",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}),h&&d.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Preview"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:Object.keys(d[0]||{}).map(g=>o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g},g))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((g,j)=>o.jsx("tr",{children:Object.values(g).map((w,T)=>o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:[String(w).substring(0,50),String(w).length>50?"...":""]},T))},j))})]})})}),o.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Showing first ",d.length," rows"]})]}),o.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Import Guidelines:"}),o.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"CSV files should have headers in the first row"}),o.jsx("li",{children:"JSON files should contain an array of objects or a single object"}),o.jsx("li",{children:"SQL files should contain INSERT statements"}),o.jsx("li",{children:"Required fields: title, price, category, condition"}),o.jsx("li",{children:"Optional fields: brand, size, color, material, description"})]})]})]})})]})}),!s&&o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:_,disabled:!n,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Data"]})]})})]})})},JIe=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,a]=k.useState(!0),[s,l]=k.useState(""),[c,u]=k.useState("all"),[d,f]=k.useState("all"),[h,m]=k.useState("24h");k.useEffect(()=>{const g=lJ(j=>{const w=j.map(A=>{var N;return{...A,timestamp:(N=A.timestamp)!=null&&N.toDate?A.timestamp.toDate():new Date}}),T=v(),S=w.filter(A=>A.timestamp.getTime()>=T);e(S),a(!1)});return()=>g()},[h]),k.useEffect(()=>{y()},[t,s,c,d]);const v=()=>{const g=new Date;switch(h){case"1h":return g.getTime()-1e3*60*60;case"24h":return g.getTime()-1e3*60*60*24;case"7d":return g.getTime()-1e3*60*60*24*7;case"30d":return g.getTime()-1e3*60*60*24*30;default:return 0}},y=()=>{let g=[...t];if(c!=="all"&&(g=g.filter(j=>j.action===c)),d!=="all"&&(d==="admin"?g=g.filter(j=>j.isAdmin===!0):d==="user"&&(g=g.filter(j=>j.isAdmin!==!0))),s){const j=s.toLowerCase();g=g.filter(w=>w.userName.toLowerCase().includes(j)||w.userEmail.toLowerCase().includes(j)||w.action.toLowerCase().includes(j)||w.details.toLowerCase().includes(j)||w.itemTitle&&w.itemTitle.toLowerCase().includes(j))}r(g)},b=g=>{switch(g){case"item_listed":return"📝";case"item_approved":return"✅";case"item_purchased":return"🛒";case"item_sold":return"💰";case"item_archived":return"📦";case"item_discounted":return"🏷️";case"bulk_discount":return"💸";case"user_login":return"🔐";case"user_logout":return"🚪";case"bulk_action":return"⚡";case"item_bookmarked":return"❤️";case"cart_updated":return"🛍️";case"status_changed":return"🔄";case"barcode_generated":return"📊";case"shipping_label_generated":return"📦";case"item_shipped":return"🚚";default:return"📊"}},_=g=>{switch(g){case"item_listed":return"bg-blue-100 text-blue-800";case"item_approved":return"bg-green-100 text-green-800";case"item_purchased":return"bg-purple-100 text-purple-800";case"item_sold":return"bg-yellow-100 text-yellow-800";case"item_archived":return"bg-gray-100 text-gray-800";case"item_discounted":return"bg-orange-100 text-orange-800";case"bulk_discount":return"bg-red-100 text-red-800";case"user_login":return"bg-indigo-100 text-indigo-800";case"user_logout":return"bg-red-100 text-red-800";case"bulk_action":return"bg-orange-100 text-orange-800";case"item_bookmarked":return"bg-pink-100 text-pink-800";case"cart_updated":return"bg-teal-100 text-teal-800";case"status_changed":return"bg-cyan-100 text-cyan-800";case"barcode_generated":return"bg-emerald-100 text-emerald-800";case"shipping_label_generated":return"bg-blue-100 text-blue-800";case"item_shipped":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},x=g=>{const w=new Date().getTime()-g.getTime(),T=Math.floor(w/(1e3*60)),S=Math.floor(w/(1e3*60*60)),A=Math.floor(w/(1e3*60*60*24));return T<1?"Just now":T<60?`${T}m ago`:S<24?`${S}h ago`:`${A}d ago`};return i?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Actions Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Track all user and admin activities"})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," actions | Filtered: ",n.length," actions",d==="admin"&&" | Admin Actions Only",d==="user"&&" | User Actions Only"]})]}),o.jsx("div",{className:"bg-white rounded-lg border p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsx("input",{type:"text",value:s,onChange:g=>l(g.target.value),placeholder:"Search users, actions, items...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),o.jsxs("select",{value:c,onChange:g=>u(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Actions"}),o.jsx("option",{value:"item_listed",children:"Item Listed"}),o.jsx("option",{value:"item_approved",children:"Item Approved"}),o.jsx("option",{value:"item_purchased",children:"Item Purchased"}),o.jsx("option",{value:"item_sold",children:"Item Sold"}),o.jsx("option",{value:"item_archived",children:"Item Archived"}),o.jsx("option",{value:"item_discounted",children:"Item Discounted"}),o.jsx("option",{value:"bulk_discount",children:"Bulk Discount"}),o.jsx("option",{value:"status_changed",children:"Status Changed"}),o.jsx("option",{value:"barcode_generated",children:"Barcode Generated"}),o.jsx("option",{value:"shipping_label_generated",children:"Shipping Label Generated"}),o.jsx("option",{value:"item_shipped",children:"Item Shipped"}),o.jsx("option",{value:"user_login",children:"User Login"}),o.jsx("option",{value:"bulk_action",children:"Bulk Actions"}),o.jsx("option",{value:"item_bookmarked",children:"Item Bookmarked"}),o.jsx("option",{value:"cart_updated",children:"Cart Updated"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),o.jsxs("select",{value:d,onChange:g=>f(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Users"}),o.jsx("option",{value:"admin",children:"Admin Only"}),o.jsx("option",{value:"user",children:"Users Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),o.jsxs("select",{value:h,onChange:g=>m(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"1h",children:"Last Hour"}),o.jsx("option",{value:"24h",children:"Last 24 Hours"}),o.jsx("option",{value:"7d",children:"Last 7 Days"}),o.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export"}),o.jsx("button",{onClick:()=>{console.log("Export actions to CSV")},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Export CSV"})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),o.jsx("div",{className:"divide-y divide-gray-200",children:n.map(g=>o.jsx("div",{className:"p-6 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"text-2xl",children:b(g.action)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(g.action)}`,children:g.action.replace("_"," ")}),g.isAdmin&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"👑 Admin"}),o.jsx("span",{className:"text-sm text-gray-500",children:x(g.timestamp)})]}),o.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[o.jsxs("span",{className:"font-medium",children:[g.isAdmin&&o.jsx("span",{className:"text-red-600",children:"👑 "}),g.userName]}),o.jsxs("span",{className:"text-gray-500",children:[" (",g.userEmail,")"]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[g.details,g.itemTitle&&o.jsxs("span",{className:"font-medium text-gray-900",children:[" • ",g.itemTitle]})]})]}),o.jsx("div",{className:"flex-shrink-0 text-sm text-gray-500",children:g.timestamp.toLocaleString()})]})},g.id))}),n.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:t.length===0?"No actions found for this time period":"No actions match your filters"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.filter(g=>g.action.includes("item_")).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Item Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(g=>g.isAdmin===!0).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Admin Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(g=>g.isAdmin!==!0).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"User Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(t.map(g=>g.userId)).size}),o.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]})]})]})},eke=()=>{const{user:t,loading:e,signInWithGoogle:n,signInWithPhone:r,logout:i,isAuthenticated:a,isAdmin:s,toggleAdmin:l}=El(),{getCartItemCount:c,getBookmarkCount:u}=hp(),[d,f]=k.useState([]),[h,m]=k.useState(!1),[v,y]=k.useState(!1),[b,_]=k.useState(!1),[x,g]=k.useState(!1),[j,w]=k.useState(!1),[T,S]=k.useState(!1),[A,N]=k.useState(!1),[I,C]=k.useState(!1),[R,P]=k.useState(!1),[z,V]=k.useState(!1),[B,L]=k.useState(!1),[U,W]=k.useState(!1),[G,te]=k.useState(!1),[F,$]=k.useState(!0),[X,Z]=k.useState(!1),[ve,De]=k.useState(0),[Ee,Q]=k.useState(!1),le=k.useRef(null),[ne,K]=k.useState(!1),[he,xe]=k.useState(!1),fe=k.useRef(null),[Ae,Je]=k.useState([]),[At,lt]=k.useState(null),[gn,vn]=k.useState(!1),[Te,H]=k.useState({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""}),[se,pe]=k.useState({pending:0,approved:0,sold:0});k.useEffect(()=>{a?(pt(),be()):($(!1),Z(!1))},[a,s]),k.useEffect(()=>{const J=ue=>{le.current&&!le.current.contains(ue.target)&&Q(!1),fe.current&&!fe.current.contains(ue.target)&&xe(!1)};return(Ee||he)&&document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[Ee,he]);const be=()=>{t&&(console.log("Admin status check:",{userId:t.uid,userIsAdmin:s,adminStatus:s}),Z(s))},de=k.useCallback(async()=>{if(t)try{const J=tn(Ke,"items"),ue=Gn(J,Kn("status","==","pending")),we=await kn(ue),ct=Gn(J,Kn("status","==","approved")),Ct=await kn(ct),nt=Gn(J,Kn("status","==","sold")),ut=await kn(nt),qe=new Date(Date.now()-24*60*60*1e3);let Ve=0;ut.forEach(yn=>{var Bn;const Ln=(Bn=yn.data().soldAt)==null?void 0:Bn.toDate();Ln&&Ln>=qe&&Ve++});const mi={pending:we.size,approved:Ct.size,sold:Ve};console.log("Updating notification counts:",mi),pe(mi)}catch(J){console.error("Error fetching notification counts:",J)}},[t]),pt=async()=>{try{const J=tn(Ke,"items"),ue=Gn(J,Kn("status","==","live")),we=await kn(ue),ct=[];we.forEach(Ct=>{var ut,qe,Ve;const nt=Ct.data();ct.push({id:Ct.id,...nt,createdAt:((ut=nt.createdAt)==null?void 0:ut.toDate())||new Date,approvedAt:(qe=nt.approvedAt)==null?void 0:qe.toDate(),liveAt:(Ve=nt.liveAt)==null?void 0:Ve.toDate()})}),ct.sort((Ct,nt)=>{const ut=Ct.liveAt||Ct.createdAt;return(nt.liveAt||nt.createdAt).getTime()-ut.getTime()}),f(ct)}catch(J){console.error("Error fetching items:",J),f([])}finally{$(!1)}},Bt=k.useCallback(async()=>{if(t)try{const J=tn(Ke,"items"),ue=new Date(Date.now()-24*60*60*1e3);let we=[];if(X){const Ct=Gn(J);(await kn(Ct)).forEach(ut=>{var yn,Ut,Ln,Bn;const qe=ut.data(),Ve={id:ut.id,...qe,createdAt:((yn=qe.createdAt)==null?void 0:yn.toDate())||new Date,approvedAt:(Ut=qe.approvedAt)==null?void 0:Ut.toDate(),liveAt:(Ln=qe.liveAt)==null?void 0:Ln.toDate(),soldAt:(Bn=qe.soldAt)==null?void 0:Bn.toDate()};(Ve.createdAt&&Ve.createdAt>=ue||Ve.approvedAt&&Ve.approvedAt>=ue||Ve.liveAt&&Ve.liveAt>=ue||Ve.soldAt&&Ve.soldAt>=ue)&&we.push(Ve)}),we.sort((ut,qe)=>{var yn,Ut,Ln,Bn,Ri,es,ua,Mi;const Ve=Math.max(((yn=ut.createdAt)==null?void 0:yn.getTime())||0,((Ut=ut.approvedAt)==null?void 0:Ut.getTime())||0,((Ln=ut.liveAt)==null?void 0:Ln.getTime())||0,((Bn=ut.soldAt)==null?void 0:Bn.getTime())||0);return Math.max(((Ri=qe.createdAt)==null?void 0:Ri.getTime())||0,((es=qe.approvedAt)==null?void 0:es.getTime())||0,((ua=qe.liveAt)==null?void 0:ua.getTime())||0,((Mi=qe.soldAt)==null?void 0:Mi.getTime())||0)-Ve})}else{const Ct=Gn(J,Kn("sellerUid","==",t.uid));(await kn(Ct)).forEach(ut=>{var yn,Ut,Ln,Bn;const qe=ut.data(),Ve={id:ut.id,...qe,createdAt:((yn=qe.createdAt)==null?void 0:yn.toDate())||new Date,approvedAt:(Ut=qe.approvedAt)==null?void 0:Ut.toDate(),liveAt:(Ln=qe.liveAt)==null?void 0:Ln.toDate(),soldAt:(Bn=qe.soldAt)==null?void 0:Bn.toDate()};(Ve.createdAt&&Ve.createdAt>=ue||Ve.approvedAt&&Ve.approvedAt>=ue||Ve.liveAt&&Ve.liveAt>=ue||Ve.soldAt&&Ve.soldAt>=ue)&&we.push(Ve)}),we.sort((ut,qe)=>{var yn,Ut,Ln,Bn,Ri,es,ua,Mi;const Ve=Math.max(((yn=ut.createdAt)==null?void 0:yn.getTime())||0,((Ut=ut.approvedAt)==null?void 0:Ut.getTime())||0,((Ln=ut.liveAt)==null?void 0:Ln.getTime())||0,((Bn=ut.soldAt)==null?void 0:Bn.getTime())||0);return Math.max(((Ri=qe.createdAt)==null?void 0:Ri.getTime())||0,((es=qe.approvedAt)==null?void 0:es.getTime())||0,((ua=qe.liveAt)==null?void 0:ua.getTime())||0,((Mi=qe.soldAt)==null?void 0:Mi.getTime())||0)-Ve})}const ct=we.slice(0,15);console.log("Updating recent items:",ct.length,"items for",X?"admin":"user"),Je(ct)}catch(J){console.error("Error fetching recent items:",J)}},[t,X]);k.useEffect(()=>{if(a&&t){Bt();const J=setInterval(Bt,3e4);return()=>clearInterval(J)}},[a,t,Bt]),k.useEffect(()=>{if(X&&t){de();const J=setInterval(de,3e4);return()=>clearInterval(J)}},[X,t,de]);const $n=async()=>{await gt(t,"modal_opened","Opened Add Item modal"),m(!0)},ca=()=>{m(!1),pt(),Bt(),X&&de()},Ar=async()=>{await gt(t,"modal_opened","Opened Admin modal"),y(!0)},Np=()=>{y(!1),pt(),Bt(),X&&de()},Op=async()=>{await gt(t,"modal_opened","Opened Approved Items modal"),_(!0)},cd=()=>{_(!1),pt(),Bt(),X&&de()},ud=async J=>{await gt(t,"item_viewed","Viewed item details",J.id,J.title),lt(J),vn(!0),xe(!1)},dx=()=>{lt(null),vn(!1)},dd=()=>{W(!0)},Cp=()=>{W(!1)},Ip=()=>{W(!1),te(!0),setTimeout(()=>{te(!1)},5e3)},go=J=>{const ue=new Date(Date.now()-864e5),we=[];return J.soldAt&&J.soldAt>=ue&&we.push({type:"sold",time:J.soldAt,icon:"💰",message:"Sold",color:"text-green-600"}),J.liveAt&&J.liveAt>=ue&&we.push({type:"live",time:J.liveAt,icon:"🟢",message:"Went Live",color:"text-green-600"}),J.approvedAt&&J.approvedAt>=ue&&we.push({type:"approved",time:J.approvedAt,icon:"✅",message:"Approved",color:"text-blue-600"}),J.createdAt&&J.createdAt>=ue&&we.push({type:"created",time:J.createdAt,icon:"📝",message:"Listed",color:"text-purple-600"}),we.length>0?(we.sort((ct,Ct)=>Ct.time.getTime()-ct.time.getTime()),we[0]):null},Tn=(J,ue)=>{H(we=>({...we,[J]:ue}))},Ml=()=>{H({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""})},pi=()=>{let J=[...d];if(Te.searchQuery){const ue=Te.searchQuery.toLowerCase();J=J.filter(we=>{var ct,Ct,nt,ut,qe,Ve,mi,yn,Ut;return((ct=we.title)==null?void 0:ct.toLowerCase().includes(ue))||((Ct=we.description)==null?void 0:Ct.toLowerCase().includes(ue))||((nt=we.brand)==null?void 0:nt.toLowerCase().includes(ue))||((ut=we.category)==null?void 0:ut.toLowerCase().includes(ue))||((qe=we.color)==null?void 0:qe.toLowerCase().includes(ue))||((Ve=we.size)==null?void 0:Ve.toLowerCase().includes(ue))||((mi=we.condition)==null?void 0:mi.toLowerCase().includes(ue))||((yn=we.gender)==null?void 0:yn.toLowerCase().includes(ue))||((Ut=we.sellerName)==null?void 0:Ut.toLowerCase().includes(ue))})}if(Te.category&&(J=J.filter(ue=>ue.category===Te.category)),Te.gender&&(J=J.filter(ue=>ue.gender===Te.gender)),Te.size&&(J=J.filter(ue=>ue.size===Te.size)),Te.brand&&(J=J.filter(ue=>{var we;return(we=ue.brand)==null?void 0:we.toLowerCase().includes(Te.brand.toLowerCase())})),Te.color&&(J=J.filter(ue=>{var we;return(we=ue.color)==null?void 0:we.toLowerCase().includes(Te.color.toLowerCase())})),Te.priceRange){const[ue,we]=Te.priceRange.split("-").map(Number);J=J.filter(ct=>we?ct.price>=ue&&ct.price<=we:ct.price>=ue)}switch(Te.sortBy){case"price-low":J.sort((ue,we)=>ue.price-we.price);break;case"price-high":J.sort((ue,we)=>we.price-ue.price);break;case"oldest":J.sort((ue,we)=>ue.createdAt.getTime()-we.createdAt.getTime());break;case"popular":J.sort((ue,we)=>{const ct=(Date.now()-ue.createdAt.getTime())/864e5+ue.price/100,Ct=(Date.now()-we.createdAt.getTime())/(1e3*60*60*24)+we.price/100;return ct-Ct});break;case"alphabetical":J.sort((ue,we)=>ue.title.localeCompare(we.title));break;case"category":J.sort((ue,we)=>{const ct=ue.category||"",Ct=we.category||"";return ct===Ct?ue.title.localeCompare(we.title):ct.localeCompare(Ct)});break;case"newest":default:J.sort((ue,we)=>we.createdAt.getTime()-ue.createdAt.getTime());break}return J};return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-white",children:"Loading Summit Gear..."})]})}):a?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!A&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:$n,className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"List Item"}),X&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:Ar,className:"relative bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:["Pending Items",se.pending>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:se.pending>9?"9+":se.pending})]}),o.jsxs("button",{onClick:Op,className:"relative bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:["Approve Items",se.approved>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:se.approved>9?"9+":se.approved})]})]}),!X&&o.jsxs("button",{onClick:()=>L(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Bookmarked Items",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u()>9?"9+":u()})]}),!X&&o.jsxs("button",{onClick:()=>V(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Shopping Cart",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),c()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:c()>9?"9+":c()})]}),o.jsxs("div",{ref:fe,className:"relative",children:[o.jsxs("button",{onClick:()=>xe(!he),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Ae.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Ae.length>9?"9+":Ae.length})]}),he&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:X?"Platform Activity":"My Item Updates"}),o.jsx("p",{className:"text-xs text-gray-500",children:X?"All item activity in the last 24 hours":"Your items with recent activity"})]}),o.jsx("div",{className:"max-h-72 overflow-y-auto",children:Ae.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("p",{className:"text-sm",children:X?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:Ae.map(J=>{const ue=go(J);return o.jsx("button",{onClick:()=>ud(J),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:o.jsxs("div",{className:"flex items-start gap-3",children:[J.images&&J.images.length>0?o.jsx("img",{src:J.images[0],alt:J.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):o.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:J.title}),o.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",J.price]})]}),o.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${J.status==="pending"?"bg-yellow-100 text-yellow-800":J.status==="approved"?"bg-blue-100 text-blue-800":J.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:J.status==="pending"?"Pending":J.status==="approved"?"Approved":J.status==="live"?"Live":J.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["by ",J.sellerName]}),ue&&o.jsxs("div",{className:`flex items-center gap-1 text-xs ${ue.color} font-medium`,children:[o.jsx("span",{children:ue.icon}),o.jsx("span",{children:ue.message}),o.jsx("span",{className:"text-gray-400",children:ue.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},J.id)})})}),Ae.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:X?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),o.jsxs("div",{ref:le,className:"relative flex items-center gap-3 pl-4 border-l border-gray-200",children:[o.jsxs("button",{onClick:()=>Q(!Ee),className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full object-cover",onError:J=>{const ue=J.target;ue.style.display="none"}}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),X&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),o.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${Ee?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ee&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.displayName}),o.jsx("div",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Admin Mode"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Toggle admin privileges and features"})]}),o.jsx("button",{onClick:l,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${s?"bg-purple-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"text-xs bg-gray-50 rounded-lg p-3",children:[o.jsx("div",{className:"font-medium text-gray-700",children:"Current View:"}),o.jsx("div",{className:`font-semibold ${X?"text-purple-600":"text-gray-600"}`,children:X?"👑 Admin Mode":"👤 User Mode"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[o.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:X?"Analytics & Tools":"My History"}),o.jsx("button",{onClick:async()=>{await gt(t,"dashboard_navigation",X?"Opened Analytics Dashboard":"Opened User History"),N(!0),C(!1),P(!1),Q(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:X?"📊 Analytics Dashboard":"📊 My User History"}),X&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:async()=>{await gt(t,"dashboard_navigation","Opened Inventory Dashboard"),C(!0),N(!1),P(!1),Q(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:"📦 Inventory Dashboard"}),o.jsx("button",{onClick:async()=>{await gt(t,"dashboard_navigation","Opened Actions Dashboard"),P(!0),N(!1),C(!1),Q(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:"🎯 Actions Dashboard"})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-3",children:o.jsx("button",{onClick:()=>{i(),Q(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Sign Out"})})]})]})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"flex gap-8",children:[o.jsx("div",{className:"w-64 flex-shrink-0",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),o.jsx("button",{onClick:Ml,className:"text-sm text-orange-600 hover:text-orange-700",children:"Clear All"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:Te.searchQuery,onChange:J=>Tn("searchQuery",J.target.value),placeholder:"Search items...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),Te.searchQuery&&o.jsx("button",{onClick:()=>Tn("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Te.searchQuery&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Searching in titles, descriptions, brands, and more"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),o.jsxs("select",{value:Te.sortBy,onChange:J=>Tn("sortBy",J.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:Te.category,onChange:J=>Tn("category",J.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Categories"}),o.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),o.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),o.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),o.jsx("option",{value:"Camping",children:"Camping ⛺"}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),o.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),o.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),o.jsx("option",{value:"Apparel",children:"Apparel 👕"}),o.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{value:Te.gender,onChange:J=>Tn("gender",J.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),o.jsxs("select",{value:Te.size,onChange:J=>Tn("size",J.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Sizes"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsx("input",{type:"text",value:Te.brand,onChange:J=>Tn("brand",J.target.value),placeholder:"Search brands...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("select",{value:Te.color,onChange:J=>Tn("color",J.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Colors"}),o.jsx("option",{value:"Black",children:"Black"}),o.jsx("option",{value:"White",children:"White"}),o.jsx("option",{value:"Gray",children:"Gray"}),o.jsx("option",{value:"Red",children:"Red"}),o.jsx("option",{value:"Blue",children:"Blue"}),o.jsx("option",{value:"Green",children:"Green"}),o.jsx("option",{value:"Yellow",children:"Yellow"}),o.jsx("option",{value:"Orange",children:"Orange"}),o.jsx("option",{value:"Purple",children:"Purple"}),o.jsx("option",{value:"Pink",children:"Pink"}),o.jsx("option",{value:"Brown",children:"Brown"}),o.jsx("option",{value:"Navy",children:"Navy"}),o.jsx("option",{value:"Burgundy",children:"Burgundy"}),o.jsx("option",{value:"Olive",children:"Olive"}),o.jsx("option",{value:"Tan",children:"Tan"}),o.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),o.jsxs("select",{value:Te.priceRange,onChange:J=>Tn("priceRange",J.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"Any Price"}),o.jsx("option",{value:"0-25",children:"Under $25"}),o.jsx("option",{value:"25-50",children:"$25 - $50"}),o.jsx("option",{value:"50-100",children:"$50 - $100"}),o.jsx("option",{value:"100-200",children:"$100 - $200"}),o.jsx("option",{value:"200-500",children:"$200 - $500"}),o.jsx("option",{value:"500",children:"$500+"})]})]})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Gear"}),o.jsx("p",{className:"text-gray-600",children:"Quality mountain equipment from fellow outdoor enthusiasts"})]}),o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:Te.searchQuery,onChange:J=>Tn("searchQuery",J.target.value),placeholder:"Search gear...",className:"w-full pl-10 pr-10 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white shadow-sm"}),Te.searchQuery&&o.jsx("button",{onClick:()=>Tn("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-6 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),o.jsx("span",{className:"font-medium",children:"Sort by:"})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:[{key:"newest",label:"Newest",desc:"Recently added",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{key:"popular",label:"Popular",desc:"Trending items",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{key:"price-low",label:"Price ↗",desc:"Low to high",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"price-high",label:"Price ↘",desc:"High to low",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"alphabetical",label:"A-Z",desc:"Alphabetical",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})},{key:"category",label:"Category",desc:"By type",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}].map(J=>o.jsxs("button",{onClick:()=>Tn("sortBy",J.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${Te.sortBy===J.key?"bg-orange-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,title:J.desc,children:[J.icon,J.label]},J.key))}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),o.jsxs("span",{children:[d.length," items"]})]}),pi().length!==d.length&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),o.jsxs("span",{children:[pi().length," filtered"]})]})]})]})})]}),F?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):(()=>{const J=pi();return J.length===0?o.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d.length===0?"No items available yet":Te.searchQuery?`No results found for "${Te.searchQuery}"`:"No items match your filters"}),o.jsx("p",{className:"text-gray-500 mb-6",children:d.length===0?"Be the first to list your mountain gear!":Te.searchQuery?"Try different keywords or check your spelling":"Try adjusting your search criteria"}),d.length===0?o.jsx("button",{onClick:$n,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"List Your First Item"}):o.jsx("button",{onClick:Ml,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Clear Filters"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("div",{className:"text-sm text-gray-600",children:Te.searchQuery?o.jsxs("span",{children:["Found ",o.jsx("span",{className:"font-semibold",children:J.length})," results",J.length!==d.length&&o.jsxs("span",{children:[" of ",d.length," total items"]}),Te.searchQuery&&o.jsxs("span",{children:[' for "',o.jsx("span",{className:"font-medium text-gray-900",children:Te.searchQuery}),'"']})]}):o.jsxs("span",{children:["Showing ",J.length," of ",d.length," items"]})}),Te.searchQuery&&o.jsxs("button",{onClick:()=>Tn("searchQuery",""),className:"text-xs text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear search"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.map(ue=>o.jsx(uJ,{item:ue,isAdmin:X,onClick:ud},ue.id))})]})})()]})]})})]}),(A||I||R)&&o.jsx("div",{className:"fixed inset-0 bg-white z-[60] overflow-auto",children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>{N(!1),C(!1),P(!1)},className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Back to Store"}),!X&&o.jsxs("button",{onClick:()=>L(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Bookmarked Items",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u()>9?"9+":u()})]}),o.jsxs("div",{ref:le,className:"relative flex items-center gap-3 pl-4 border-l border-gray-200",children:[o.jsxs("button",{onClick:()=>Q(!Ee),className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),X&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),o.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${Ee?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ee&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.displayName}),o.jsx("div",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")})]}),o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),o.jsxs("button",{onClick:()=>{N(!0),C(!1),P(!1),Q(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${A?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:["📊 ",X?"Analytics Dashboard":"My User History"]}),X&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{C(!0),N(!1),P(!1),Q(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${I?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:"📦 Inventory Dashboard"}),o.jsx("button",{onClick:()=>{P(!0),N(!1),C(!1),Q(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${R?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:"🎯 Actions Dashboard"})]}),o.jsx("div",{className:"border-t border-gray-200 my-2"}),o.jsx("button",{onClick:()=>{i(),Q(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Sign Out"})]})]})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:I?o.jsx(XIe,{user:t,isAdmin:X}):R?o.jsx(JIe,{user:t,isAdmin:X}):X?o.jsx(WIe,{user:t,isAdmin:X}):o.jsx(KIe,{user:t})})]})}),o.jsx(dJ,{isOpen:h,onClose:ca,user:t}),X&&o.jsxs(o.Fragment,{children:[o.jsx(pae,{isOpen:v,onClose:Np,user:t}),o.jsx(gae,{isOpen:b,onClose:cd,user:t})]}),o.jsx(OC,{isOpen:ne,onClose:()=>K(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async J=>{await r(J)}}),o.jsx(eE,{isOpen:gn,onClose:dx,item:At,onItemUpdated:()=>{pt(),Bt(),de()}}),o.jsx(yae,{isOpen:z,onClose:()=>V(!1),onCheckout:dd}),o.jsx(xae,{isOpen:B,onClose:()=>L(!1),items:d,onItemClick:ud}),o.jsx(ase,{isOpen:U,onClose:Cp,onSuccess:Ip}),G&&o.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Order Successful!"}),o.jsx("p",{className:"text-sm opacity-90",children:"Thank you for your purchase. You'll receive a confirmation email soon."})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[o.jsx("nav",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-300",children:"Mountain Consignment Store"})]})]}),o.jsxs("button",{onClick:()=>K(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors flex items-center gap-2",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign In"]})]})})}),o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-blue-900/70 z-10"}),o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-blue-900"}),o.jsx("svg",{className:"absolute bottom-0 w-full h-64 text-slate-700",fill:"currentColor",viewBox:"0 0 1200 300",children:o.jsx("path",{d:"M0,300 L0,200 L100,150 L200,100 L300,120 L400,80 L500,90 L600,50 L700,70 L800,40 L900,60 L1000,30 L1100,50 L1200,20 L1200,300 Z"})})]}),o.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Premium Mountain",o.jsx("span",{className:"block text-orange-400",children:"Gear Exchange"})]}),o.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Buy and sell quality outdoor equipment. From climbing gear to skiing essentials, find everything you need for your next mountain adventure."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>K(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Enter Store"]}),o.jsx("button",{onClick:()=>K(!0),className:"border-2 border-orange-400 text-orange-400 hover:bg-orange-400 hover:text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Selling"})]})]})})]}),o.jsx("div",{className:"py-24 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Choose Summit Gear Exchange?"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"The trusted marketplace for mountain enthusiasts"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quality Guaranteed"}),o.jsx("p",{className:"text-gray-400",children:"Every item is inspected by our mountain gear experts before listing"})]}),o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Fair Pricing"}),o.jsx("p",{className:"text-gray-400",children:"Competitive prices for both buyers and sellers in the outdoor community"})]}),o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Community Focused"}),o.jsx("p",{className:"text-gray-400",children:"Built by climbers, for climbers. Join our community of mountain enthusiasts"})]})]})]})}),o.jsx("div",{className:"py-24 bg-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Popular Categories"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Find gear for every mountain adventure"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{name:"Climbing",icon:"🧗",color:"from-red-500 to-orange-500"},{name:"Skiing",icon:"⛷️",color:"from-blue-500 to-cyan-500"},{name:"Hiking",icon:"🥾",color:"from-green-500 to-emerald-500"},{name:"Camping",icon:"⛺",color:"from-purple-500 to-pink-500"},{name:"Mountaineering",icon:"🏔️",color:"from-gray-500 to-slate-500"},{name:"Snowboarding",icon:"🏂",color:"from-indigo-500 to-blue-500"},{name:"Cycling",icon:"🚵",color:"from-yellow-500 to-orange-500"},{name:"Water Sports",icon:"🚣",color:"from-teal-500 to-cyan-500"}].map((J,ue)=>o.jsxs("div",{className:`bg-gradient-to-br ${J.color} rounded-xl p-6 text-center cursor-pointer hover:scale-105 transition-transform`,children:[o.jsx("div",{className:"text-4xl mb-3",children:J.icon}),o.jsx("h3",{className:"text-white font-semibold",children:J.name})]},ue))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx("button",{onClick:()=>K(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Sign In to Browse All Items"})})]})}),o.jsx("div",{className:"py-24 bg-gradient-to-r from-orange-600 to-orange-500",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Gear Up?"}),o.jsx("p",{className:"text-xl text-orange-100 mb-8",children:"Join thousands of mountain enthusiasts buying and selling quality gear"}),o.jsxs("button",{onClick:()=>K(!0),className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2 mx-auto",children:[o.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Get Started Now"]})]})}),o.jsx(OC,{isOpen:ne,onClose:()=>K(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async J=>{await r(J)}})]})};function tke(){return o.jsx(cJ,{children:o.jsx(TF,{children:o.jsx("div",{className:"min-h-screen bg-gray-100",children:o.jsx(rF,{children:o.jsx(F4,{path:"/",element:o.jsx(eke,{})})})})})})}nz.createRoot(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(tke,{})}));
