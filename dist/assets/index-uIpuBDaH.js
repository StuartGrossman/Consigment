(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MR={exports:{}},ly={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aU=Symbol.for("react.transitional.element"),oU=Symbol.for("react.fragment");function DR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:aU,type:t,key:r,ref:e!==void 0?e:null,props:n}}ly.Fragment=oU;ly.jsx=DR;ly.jsxs=DR;MR.exports=ly;var l=MR.exports,$R={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA=Symbol.for("react.transitional.element"),sU=Symbol.for("react.portal"),lU=Symbol.for("react.fragment"),cU=Symbol.for("react.strict_mode"),uU=Symbol.for("react.profiler"),dU=Symbol.for("react.consumer"),fU=Symbol.for("react.context"),hU=Symbol.for("react.forward_ref"),pU=Symbol.for("react.suspense"),mU=Symbol.for("react.memo"),LR=Symbol.for("react.lazy"),qT=Symbol.iterator;function gU(t){return t===null||typeof t!="object"?null:(t=qT&&t[qT]||t["@@iterator"],typeof t=="function"?t:null)}var BR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UR=Object.assign,VR={};function ju(t,e,n){this.props=t,this.context=e,this.refs=VR,this.updater=n||BR}ju.prototype.isReactComponent={};ju.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ju.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zR(){}zR.prototype=ju.prototype;function lA(t,e,n){this.props=t,this.context=e,this.refs=VR,this.updater=n||BR}var cA=lA.prototype=new zR;cA.constructor=lA;UR(cA,ju.prototype);cA.isPureReactComponent=!0;var GT=Array.isArray,Ct={H:null,A:null,T:null,S:null,V:null},FR=Object.prototype.hasOwnProperty;function uA(t,e,n,r,i,a){return n=a.ref,{$$typeof:sA,type:t,key:e,ref:n!==void 0?n:null,props:a}}function vU(t,e){return uA(t.type,e,void 0,void 0,void 0,t.props)}function dA(t){return typeof t=="object"&&t!==null&&t.$$typeof===sA}function yU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WT=/\/+/g;function _b(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yU(""+t.key):e.toString(36)}function KT(){}function bU(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(KT,KT):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Hl(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sA:case sU:o=!0;break;case LR:return o=t._init,Hl(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+_b(t,0):r,GT(i)?(n="",o!=null&&(n=o.replace(WT,"$&/")+"/"),Hl(i,e,n,"",function(u){return u})):i!=null&&(dA(i)&&(i=vU(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(WT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(GT(t))for(var c=0;c<t.length;c++)r=t[c],a=s+_b(r,c),o+=Hl(r,e,n,a,i);else if(c=gU(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,a=s+_b(r,c++),o+=Hl(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Hl(bU(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function zp(t,e,n){if(t==null)return t;var r=[],i=0;return Hl(t,r,"","",function(a){return e.call(n,a,i++)}),r}function xU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var XT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _U(){}Le.Children={map:zp,forEach:function(t,e,n){zp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zp(t,function(){e++}),e},toArray:function(t){return zp(t,function(e){return e})||[]},only:function(t){if(!dA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=ju;Le.Fragment=lU;Le.Profiler=uU;Le.PureComponent=lA;Le.StrictMode=cU;Le.Suspense=pU;Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ct;Le.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ct.H.useMemoCache(t)}};Le.cache=function(t){return function(){return t.apply(null,arguments)}};Le.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=UR({},t.props),i=t.key,a=void 0;if(e!=null)for(o in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!FR.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];r.children=s}return uA(t.type,i,void 0,void 0,a,r)};Le.createContext=function(t){return t={$$typeof:fU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:dU,_context:t},t};Le.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)FR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return uA(t,a,void 0,void 0,null,i)};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:hU,render:t}};Le.isValidElement=dA;Le.lazy=function(t){return{$$typeof:LR,_payload:{_status:-1,_result:t},_init:xU}};Le.memo=function(t,e){return{$$typeof:mU,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Ct.T,n={};Ct.T=n;try{var r=t(),i=Ct.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(_U,XT)}catch(a){XT(a)}finally{Ct.T=e}};Le.unstable_useCacheRefresh=function(){return Ct.H.useCacheRefresh()};Le.use=function(t){return Ct.H.use(t)};Le.useActionState=function(t,e,n){return Ct.H.useActionState(t,e,n)};Le.useCallback=function(t,e){return Ct.H.useCallback(t,e)};Le.useContext=function(t){return Ct.H.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t,e){return Ct.H.useDeferredValue(t,e)};Le.useEffect=function(t,e,n){var r=Ct.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Le.useId=function(){return Ct.H.useId()};Le.useImperativeHandle=function(t,e,n){return Ct.H.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Ct.H.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Ct.H.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Ct.H.useMemo(t,e)};Le.useOptimistic=function(t,e){return Ct.H.useOptimistic(t,e)};Le.useReducer=function(t,e,n){return Ct.H.useReducer(t,e,n)};Le.useRef=function(t){return Ct.H.useRef(t)};Le.useState=function(t){return Ct.H.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Ct.H.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Ct.H.useTransition()};Le.version="19.1.0";$R.exports=Le;var k=$R.exports;const $=at(k);var HR={exports:{}},cy={},qR={exports:{}},GR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,V){var H=B.length;B.push(V);e:for(;0<H;){var K=H-1>>>1,z=B[K];if(0<i(z,V))B[K]=V,B[H]=z,H=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var V=B[0],H=B.pop();if(H!==V){B[0]=H;e:for(var K=0,z=B.length,ee=z>>>1;K<ee;){var U=2*(K+1)-1,D=B[U],W=U+1,Q=B[W];if(0>i(D,H))W<z&&0>i(Q,D)?(B[K]=Q,B[W]=H,K=W):(B[K]=D,B[U]=H,K=U);else if(W<z&&0>i(Q,H))B[K]=Q,B[W]=H,K=W;else break e}}return V}function i(B,V){var H=B.sortIndex-V.sortIndex;return H!==0?H:B.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=B)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function w(B){if(y=!1,T(B),!v)if(n(c)!==null)v=!0,j||(j=!0,R());else{var V=n(u);V!==null&&L(w,V.startTime-B)}}var j=!1,E=-1,A=5,O=-1;function I(){return x?!0:!(t.unstable_now()-O<A)}function C(){if(x=!1,j){var B=t.unstable_now();O=B;var V=!0;try{e:{v=!1,y&&(y=!1,b(E),E=-1),m=!0;var H=h;try{t:{for(T(B),f=n(c);f!==null&&!(f.expirationTime>B&&I());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var z=K(f.expirationTime<=B);if(B=t.unstable_now(),typeof z=="function"){f.callback=z,T(B),V=!0;break t}f===n(c)&&r(c),T(B)}else r(c);f=n(c)}if(f!==null)V=!0;else{var ee=n(u);ee!==null&&L(w,ee.startTime-B),V=!1}}break e}finally{f=null,h=H,m=!1}V=void 0}}finally{V?R():j=!1}}}var R;if(typeof g=="function")R=function(){g(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,q=P.port2;P.port1.onmessage=C,R=function(){q.postMessage(null)}}else R=function(){_(C,0)};function L(B,V){E=_(function(){B(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var H=h;h=V;try{return B()}finally{h=H}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=h;h=B;try{return V()}finally{h=H}},t.unstable_scheduleCallback=function(B,V,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,B={id:d++,callback:V,priorityLevel:B,startTime:H,expirationTime:z,sortIndex:-1},H>K?(B.sortIndex=H,e(u,B),n(c)===null&&B===n(u)&&(y?(b(E),E=-1):y=!0,L(w,H-K))):(B.sortIndex=z,e(c,B),v||m||(v=!0,j||(j=!0,R()))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var V=h;return function(){var H=h;h=V;try{return B.apply(this,arguments)}finally{h=H}}}})(GR);qR.exports=GR;var wU=qR.exports,WR={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AU=k;function KR(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ja(){}var nr={d:{f:Ja,r:function(){throw Error(KR(522))},D:Ja,C:Ja,L:Ja,m:Ja,X:Ja,S:Ja,M:Ja},p:0,findDOMNode:null},SU=Symbol.for("react.portal");function EU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:SU,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Zd=AU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function uy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nr;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(KR(299));return EU(t,e,null,n)};sr.flushSync=function(t){var e=Zd.T,n=nr.p;try{if(Zd.T=null,nr.p=2,t)return t()}finally{Zd.T=e,nr.p=n,nr.d.f()}};sr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,nr.d.C(t,e))};sr.prefetchDNS=function(t){typeof t=="string"&&nr.d.D(t)};sr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=uy(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?nr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&nr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};sr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=uy(e.as,e.crossOrigin);nr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&nr.d.M(t)};sr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=uy(n,e.crossOrigin);nr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};sr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=uy(e.as,e.crossOrigin);nr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else nr.d.m(t)};sr.requestFormReset=function(t){nr.d.r(t)};sr.unstable_batchedUpdates=function(t,e){return t(e)};sr.useFormState=function(t,e,n){return Zd.H.useFormState(t,e,n)};sr.useFormStatus=function(){return Zd.H.useHostTransitionStatus()};sr.version="19.1.0";function XR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XR)}catch(t){console.error(t)}}XR(),WR.exports=sr;var TU=WR.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fn=wU,YR=k,jU=TU;function ie(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function QR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YT(t){if(Mh(t)!==t)throw Error(ie(188))}function OU(t){var e=t.alternate;if(!e){if(e=Mh(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return YT(i),t;if(a===r)return YT(i),e;a=a.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function JR(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=JR(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,NU=Symbol.for("react.element"),Fp=Symbol.for("react.transitional.element"),zd=Symbol.for("react.portal"),Zl=Symbol.for("react.fragment"),eM=Symbol.for("react.strict_mode"),t1=Symbol.for("react.profiler"),CU=Symbol.for("react.provider"),tM=Symbol.for("react.consumer"),ma=Symbol.for("react.context"),fA=Symbol.for("react.forward_ref"),n1=Symbol.for("react.suspense"),r1=Symbol.for("react.suspense_list"),hA=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),i1=Symbol.for("react.activity"),IU=Symbol.for("react.memo_cache_sentinel"),QT=Symbol.iterator;function vd(t){return t===null||typeof t!="object"?null:(t=QT&&t[QT]||t["@@iterator"],typeof t=="function"?t:null)}var PU=Symbol.for("react.client.reference");function a1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===PU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zl:return"Fragment";case t1:return"Profiler";case eM:return"StrictMode";case n1:return"Suspense";case r1:return"SuspenseList";case i1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case zd:return"Portal";case ma:return(t.displayName||"Context")+".Provider";case tM:return(t._context.displayName||"Context")+".Consumer";case fA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hA:return e=t.displayName||null,e!==null?e:a1(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return a1(t(e))}catch{}}return null}var Fd=Array.isArray,Ie=YR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=jU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$s={pending:!1,data:null,method:null,action:null},o1=[],Jl=-1;function ea(t){return{current:t}}function Sn(t){0>Jl||(t.current=o1[Jl],o1[Jl]=null,Jl--)}function It(t,e){Jl++,o1[Jl]=t.current,t.current=e}var Vi=ea(null),Nf=ea(null),So=ea(null),og=ea(null);function sg(t,e){switch(It(So,e),It(Nf,t),It(Vi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?nO(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=nO(e),t=y4(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Sn(Vi),It(Vi,t)}function Pc(){Sn(Vi),Sn(Nf),Sn(So)}function s1(t){t.memoizedState!==null&&It(og,t);var e=Vi.current,n=y4(e,t.type);e!==n&&(It(Nf,t),It(Vi,n))}function lg(t){Nf.current===t&&(Sn(Vi),Sn(Nf)),og.current===t&&(Sn(og),Bf._currentValue=$s)}var l1=Object.prototype.hasOwnProperty,pA=fn.unstable_scheduleCallback,wb=fn.unstable_cancelCallback,kU=fn.unstable_shouldYield,RU=fn.unstable_requestPaint,zi=fn.unstable_now,MU=fn.unstable_getCurrentPriorityLevel,nM=fn.unstable_ImmediatePriority,rM=fn.unstable_UserBlockingPriority,cg=fn.unstable_NormalPriority,DU=fn.unstable_LowPriority,iM=fn.unstable_IdlePriority,$U=fn.log,LU=fn.unstable_setDisableYieldValue,Dh=null,Dr=null;function vo(t){if(typeof $U=="function"&&LU(t),Dr&&typeof Dr.setStrictMode=="function")try{Dr.setStrictMode(Dh,t)}catch{}}var $r=Math.clz32?Math.clz32:VU,BU=Math.log,UU=Math.LN2;function VU(t){return t>>>=0,t===0?32:31-(BU(t)/UU|0)|0}var Hp=256,qp=4194304;function _s(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dy(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=_s(r):(o&=s,o!==0?i=_s(o):n||(n=s&~t,n!==0&&(i=_s(n))))):(s=r&~a,s!==0?i=_s(s):o!==0?i=_s(o):n||(n=r&~t,n!==0&&(i=_s(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function $h(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function zU(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aM(){var t=Hp;return Hp<<=1,!(Hp&4194048)&&(Hp=256),t}function oM(){var t=qp;return qp<<=1,!(qp&62914560)&&(qp=4194304),t}function Ab(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function FU(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var d=31-$r(n),f=1<<d;s[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&sM(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function sM(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-$r(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function lM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function mA(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gA(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function cM(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:O4(t.type))}function HU(t,e){var n=rt.p;try{return rt.p=t,e()}finally{rt.p=n}}var Qo=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Qo,yr="__reactProps$"+Qo,Ou="__reactContainer$"+Qo,c1="__reactEvents$"+Qo,qU="__reactListeners$"+Qo,GU="__reactHandles$"+Qo,ZT="__reactResources$"+Qo,Bh="__reactMarker$"+Qo;function vA(t){delete t[Wn],delete t[yr],delete t[c1],delete t[qU],delete t[GU]}function ec(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ou]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aO(t);t!==null;){if(n=t[Wn])return n;t=aO(t)}return e}t=n,n=t.parentNode}return null}function Nu(t){if(t=t[Wn]||t[Ou]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Hd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ie(33))}function gc(t){var e=t[ZT];return e||(e=t[ZT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xn(t){t[Bh]=!0}var uM=new Set,dM={};function hl(t,e){kc(t,e),kc(t+"Capture",e)}function kc(t,e){for(dM[t]=e,t=0;t<e.length;t++)uM.add(e[t])}var WU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),JT={},ej={};function KU(t){return l1.call(ej,t)?!0:l1.call(JT,t)?!1:WU.test(t)?ej[t]=!0:(JT[t]=!0,!1)}function km(t,e,n){if(KU(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function la(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Sb,tj;function ql(t){if(Sb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sb=e&&e[1]||"",tj=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sb+t+tj}var Eb=!1;function Tb(t,e){if(!t||Eb)return"";Eb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),u=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{Eb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ql(n):""}function XU(t){switch(t.tag){case 26:case 27:case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 15:return Tb(t.type,!1);case 11:return Tb(t.type.render,!1);case 1:return Tb(t.type,!0);case 31:return ql("Activity");default:return""}}function nj(t){try{var e="";do e+=XU(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Kr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YU(t){var e=fM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ug(t){t._valueTracker||(t._valueTracker=YU(t))}function hM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var QU=/[\n"\\]/g;function Qr(t){return t.replace(QU,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function u1(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Kr(e)):t.value!==""+Kr(e)&&(t.value=""+Kr(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?d1(t,o,Kr(e)):n!=null?d1(t,o,Kr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+Kr(s):t.removeAttribute("name")}function pM(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Kr(n):"",e=e!=null?""+Kr(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function d1(t,e,n){e==="number"&&dg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function vc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mM(t,e,n){if(e!=null&&(e=""+Kr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Kr(n):""}function gM(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(ie(92));if(Fd(r)){if(1<r.length)throw Error(ie(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Kr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ZU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rj(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||ZU.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function vM(t,e,n){if(e!=null&&typeof e!="object")throw Error(ie(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&rj(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&rj(t,a,e[a])}function yA(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eV=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rm(t){return eV.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var f1=null;function bA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tc=null,yc=null;function ij(t){var e=Nu(t);if(e&&(t=e.stateNode)){var n=t[yr]||null;e:switch(t=e.stateNode,e.type){case"input":if(u1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[yr]||null;if(!i)throw Error(ie(90));u1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&hM(r)}break e;case"textarea":mM(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&vc(t,!!n.multiple,e,!1)}}}var jb=!1;function yM(t,e,n){if(jb)return t(e,n);jb=!0;try{var r=t(e);return r}finally{if(jb=!1,(tc!==null||yc!==null)&&(_y(),tc&&(e=tc,t=yc,yc=tc=null,ij(e),t)))for(e=0;e<t.length;e++)ij(t[e])}}function Cf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[yr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h1=!1;if(Pa)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){h1=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{h1=!1}var yo=null,xA=null,Mm=null;function bM(){if(Mm)return Mm;var t,e=xA,n=e.length,r,i="value"in yo?yo.value:yo.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Mm=i.slice(t,1<r?1-r:void 0)}function Dm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wp(){return!0}function aj(){return!1}function br(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wp:aj,this.isPropagationStopped=aj,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wp)},persist:function(){},isPersistent:Wp}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fy=br(pl),Uh=Et({},pl,{view:0,detail:0}),tV=br(Uh),Ob,Nb,bd,hy=Et({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_A,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bd&&(bd&&t.type==="mousemove"?(Ob=t.screenX-bd.screenX,Nb=t.screenY-bd.screenY):Nb=Ob=0,bd=t),Ob)},movementY:function(t){return"movementY"in t?t.movementY:Nb}}),oj=br(hy),nV=Et({},hy,{dataTransfer:0}),rV=br(nV),iV=Et({},Uh,{relatedTarget:0}),Cb=br(iV),aV=Et({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),oV=br(aV),sV=Et({},pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lV=br(sV),cV=Et({},pl,{data:0}),sj=br(cV),uV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fV[t])?!!e[t]:!1}function _A(){return hV}var pV=Et({},Uh,{key:function(t){if(t.key){var e=uV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_A,charCode:function(t){return t.type==="keypress"?Dm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mV=br(pV),gV=Et({},hy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lj=br(gV),vV=Et({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_A}),yV=br(vV),bV=Et({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xV=br(bV),_V=Et({},hy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wV=br(_V),AV=Et({},pl,{newState:0,oldState:0}),SV=br(AV),EV=[9,13,27,32],wA=Pa&&"CompositionEvent"in window,Jd=null;Pa&&"documentMode"in document&&(Jd=document.documentMode);var TV=Pa&&"TextEvent"in window&&!Jd,xM=Pa&&(!wA||Jd&&8<Jd&&11>=Jd),cj=" ",uj=!1;function _M(t,e){switch(t){case"keyup":return EV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nc=!1;function jV(t,e){switch(t){case"compositionend":return wM(e);case"keypress":return e.which!==32?null:(uj=!0,cj);case"textInput":return t=e.data,t===cj&&uj?null:t;default:return null}}function OV(t,e){if(nc)return t==="compositionend"||!wA&&_M(t,e)?(t=bM(),Mm=xA=yo=null,nc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xM&&e.locale!=="ko"?null:e.data;default:return null}}var NV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NV[t.type]:e==="textarea"}function AM(t,e,n,r){tc?yc?yc.push(r):yc=[r]:tc=r,e=Ng(e,"onChange"),0<e.length&&(n=new fy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ef=null,If=null;function CV(t){m4(t,0)}function py(t){var e=Hd(t);if(hM(e))return t}function fj(t,e){if(t==="change")return e}var SM=!1;if(Pa){var Ib;if(Pa){var Pb="oninput"in document;if(!Pb){var hj=document.createElement("div");hj.setAttribute("oninput","return;"),Pb=typeof hj.oninput=="function"}Ib=Pb}else Ib=!1;SM=Ib&&(!document.documentMode||9<document.documentMode)}function pj(){ef&&(ef.detachEvent("onpropertychange",EM),If=ef=null)}function EM(t){if(t.propertyName==="value"&&py(If)){var e=[];AM(e,If,t,bA(t)),yM(CV,e)}}function IV(t,e,n){t==="focusin"?(pj(),ef=e,If=n,ef.attachEvent("onpropertychange",EM)):t==="focusout"&&pj()}function PV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return py(If)}function kV(t,e){if(t==="click")return py(e)}function RV(t,e){if(t==="input"||t==="change")return py(e)}function MV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hr=typeof Object.is=="function"?Object.is:MV;function Pf(t,e){if(Hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l1.call(e,i)||!Hr(t[i],e[i]))return!1}return!0}function mj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gj(t,e){var n=mj(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mj(n)}}function TM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jM(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=dg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dg(t.document)}return e}function AA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var DV=Pa&&"documentMode"in document&&11>=document.documentMode,rc=null,p1=null,tf=null,m1=!1;function vj(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;m1||rc==null||rc!==dg(r)||(r=rc,"selectionStart"in r&&AA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tf&&Pf(tf,r)||(tf=r,r=Ng(p1,"onSelect"),0<r.length&&(e=new fy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rc)))}function vs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ic={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},kb={},OM={};Pa&&(OM=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function ml(t){if(kb[t])return kb[t];if(!ic[t])return t;var e=ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OM)return kb[t]=e[n];return t}var NM=ml("animationend"),CM=ml("animationiteration"),IM=ml("animationstart"),$V=ml("transitionrun"),LV=ml("transitionstart"),BV=ml("transitioncancel"),PM=ml("transitionend"),kM=new Map,g1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g1.push("scrollEnd");function Ci(t,e){kM.set(t,e),hl(e,[t])}var yj=new WeakMap;function Zr(t,e){if(typeof t=="object"&&t!==null){var n=yj.get(t);return n!==void 0?n:(e={value:t,source:e,stack:nj(e)},yj.set(t,e),e)}return{value:t,source:e,stack:nj(e)}}var Wr=[],ac=0,SA=0;function my(){for(var t=ac,e=SA=ac=0;e<t;){var n=Wr[e];Wr[e++]=null;var r=Wr[e];Wr[e++]=null;var i=Wr[e];Wr[e++]=null;var a=Wr[e];if(Wr[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&RM(n,i,a)}}function gy(t,e,n,r){Wr[ac++]=t,Wr[ac++]=e,Wr[ac++]=n,Wr[ac++]=r,SA|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function EA(t,e,n,r){return gy(t,e,n,r),fg(t)}function Cu(t,e){return gy(t,null,null,e),fg(t)}function RM(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-$r(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function fg(t){if(50<ff)throw ff=0,$1=null,Error(ie(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var oc={};function UV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,n,r){return new UV(t,e,n,r)}function TA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ea(t,e){var n=t.alternate;return n===null?(n=Cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function MM(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function $m(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")TA(t)&&(o=1);else if(typeof t=="string")o=z7(t,n,Vi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case i1:return t=Cr(31,n,e,i),t.elementType=i1,t.lanes=a,t;case Zl:return Ls(n.children,i,a,e);case eM:o=8,i|=24;break;case t1:return t=Cr(12,n,e,i|2),t.elementType=t1,t.lanes=a,t;case n1:return t=Cr(13,n,e,i),t.elementType=n1,t.lanes=a,t;case r1:return t=Cr(19,n,e,i),t.elementType=r1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CU:case ma:o=10;break e;case tM:o=9;break e;case fA:o=11;break e;case hA:o=14;break e;case io:o=16,r=null;break e}o=29,n=Error(ie(130,t===null?"null":typeof t,"")),r=null}return e=Cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ls(t,e,n,r){return t=Cr(7,t,r,e),t.lanes=n,t}function Rb(t,e,n){return t=Cr(6,t,null,e),t.lanes=n,t}function Mb(t,e,n){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var sc=[],lc=0,hg=null,pg=0,Xr=[],Yr=0,Bs=null,ga=1,va="";function ws(t,e){sc[lc++]=pg,sc[lc++]=hg,hg=t,pg=e}function DM(t,e,n){Xr[Yr++]=ga,Xr[Yr++]=va,Xr[Yr++]=Bs,Bs=t;var r=ga;t=va;var i=32-$r(r)-1;r&=~(1<<i),n+=1;var a=32-$r(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ga=1<<32-$r(e)+i|n<<i|r,va=a+t}else ga=1<<a|n<<i|r,va=t}function jA(t){t.return!==null&&(ws(t,1),DM(t,1,0))}function OA(t){for(;t===hg;)hg=sc[--lc],sc[lc]=null,pg=sc[--lc],sc[lc]=null;for(;t===Bs;)Bs=Xr[--Yr],Xr[Yr]=null,va=Xr[--Yr],Xr[Yr]=null,ga=Xr[--Yr],Xr[Yr]=null}var tr=null,Ut=null,nt=!1,Us=null,Mi=!1,v1=Error(ie(519));function Ys(t){var e=Error(ie(418,""));throw kf(Zr(e,t)),v1}function bj(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Wn]=t,e[yr]=r,n){case"dialog":ze("cancel",e),ze("close",e);break;case"iframe":case"object":case"embed":ze("load",e);break;case"video":case"audio":for(n=0;n<Df.length;n++)ze(Df[n],e);break;case"source":ze("error",e);break;case"img":case"image":case"link":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"input":ze("invalid",e),pM(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ug(e);break;case"select":ze("invalid",e);break;case"textarea":ze("invalid",e),gM(e,r.value,r.defaultValue,r.children),ug(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||v4(e.textContent,n)?(r.popover!=null&&(ze("beforetoggle",e),ze("toggle",e)),r.onScroll!=null&&ze("scroll",e),r.onScrollEnd!=null&&ze("scrollend",e),r.onClick!=null&&(e.onclick=Sy),e=!0):e=!1,e||Ys(t)}function xj(t){for(tr=t.return;tr;)switch(tr.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:tr=tr.return}}function xd(t){if(t!==tr)return!1;if(!nt)return xj(t),nt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||F1(t.type,t.memoizedProps)),n=!n),n&&Ut&&Ys(t),xj(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ut=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ut=null}}else e===27?(e=Ut,Zo(t.type)?(t=G1,G1=null,Ut=t):Ut=e):Ut=tr?wi(t.stateNode.nextSibling):null;return!0}function Vh(){Ut=tr=null,nt=!1}function _j(){var t=Us;return t!==null&&(dr===null?dr=t:dr.push.apply(dr,t),Us=null),t}function kf(t){Us===null?Us=[t]:Us.push(t)}var y1=ea(null),gl=null,ya=null;function so(t,e,n){It(y1,e._currentValue),e._currentValue=n}function Ta(t){t._currentValue=y1.current,Sn(y1)}function b1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function x1(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var c=0;c<e.length;c++)if(s.context===e[c]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),b1(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),b1(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function zh(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(ie(387));if(o=o.memoizedProps,o!==null){var s=i.type;Hr(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===og.current){if(o=i.alternate,o===null)throw Error(ie(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Bf):t=[Bf])}i=i.return}t!==null&&x1(e,t,n,r),e.flags|=262144}function mg(t){for(t=t.firstContext;t!==null;){if(!Hr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){gl=t,ya=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kn(t){return $M(gl,t)}function Kp(t,e){return gl===null&&Qs(t),$M(t,e)}function $M(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ya===null){if(t===null)throw Error(ie(308));ya=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ya=ya.next=e;return n}var VV=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},zV=fn.unstable_scheduleCallback,FV=fn.unstable_NormalPriority,on={$$typeof:ma,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function NA(){return{controller:new VV,data:new Map,refCount:0}}function Fh(t){t.refCount--,t.refCount===0&&zV(FV,function(){t.controller.abort()})}var nf=null,_1=0,Mc=0,bc=null;function HV(t,e){if(nf===null){var n=nf=[];_1=0,Mc=ZA(),bc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return _1++,e.then(wj,wj),e}function wj(){if(--_1===0&&nf!==null){bc!==null&&(bc.status="fulfilled");var t=nf;nf=null,Mc=0,bc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qV(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Aj=Ie.S;Ie.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&HV(t,e),Aj!==null&&Aj(t,e)};var Vs=ea(null);function CA(){var t=Vs.current;return t!==null?t:bt.pooledCache}function Lm(t,e){e===null?It(Vs,Vs.current):It(Vs,e.pool)}function LM(){var t=CA();return t===null?null:{parent:on._currentValue,pool:t}}var Hh=Error(ie(460)),BM=Error(ie(474)),vy=Error(ie(542)),w1={then:function(){}};function Sj(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xp(){}function UM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Xp,Xp),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Tj(t),t;default:if(typeof e.status=="string")e.then(Xp,Xp);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(ie(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Tj(t),t}throw rf=e,Hh}}var rf=null;function Ej(){if(rf===null)throw Error(ie(459));var t=rf;return rf=null,t}function Tj(t){if(t===Hh||t===vy)throw Error(ie(483))}var ao=!1;function IA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Eo(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function To(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=fg(t),RM(t,null,n),e}return gy(t,r,e,n),fg(t)}function af(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lM(t,n)}}function Db(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var S1=!1;function of(){if(S1){var t=bc;if(t!==null)throw t}}function sf(t,e,n,r){S1=!1;var i=t.updateQueue;ao=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,s=a;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(Ze&h)===h:(r&h)===h){h!==0&&h===Mc&&(S1=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,y=s;h=e;var x=n;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(x,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(x,f,h):v,h==null)break e;f=Et({},f,h);break e;case 2:ao=!0}}h=s.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),Uo|=o,t.lanes=o,t.memoizedState=f}}function VM(t,e){if(typeof t!="function")throw Error(ie(191,t));t.call(e)}function zM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)VM(n[t],e)}var Dc=ea(null),gg=ea(0);function jj(t,e){t=Ma,It(gg,t),It(Dc,e),Ma=t|e.baseLanes}function E1(){It(gg,Ma),It(Dc,Dc.current)}function PA(){Ma=gg.current,Sn(Dc),Sn(gg)}var Lo=0,Ue=null,ft=null,Zt=null,vg=!1,xc=!1,Zs=!1,yg=0,Rf=0,_c=null,GV=0;function Gt(){throw Error(ie(321))}function kA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hr(t[n],e[n]))return!1;return!0}function RA(t,e,n,r,i,a){return Lo=a,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ie.H=t===null||t.memoizedState===null?bD:xD,Zs=!1,a=n(r,i),Zs=!1,xc&&(a=HM(e,n,r,i)),FM(t),a}function FM(t){Ie.H=bg;var e=ft!==null&&ft.next!==null;if(Lo=0,Zt=ft=Ue=null,vg=!1,Rf=0,_c=null,e)throw Error(ie(300));t===null||wn||(t=t.dependencies,t!==null&&mg(t)&&(wn=!0))}function HM(t,e,n,r){Ue=t;var i=0;do{if(xc&&(_c=null),Rf=0,xc=!1,25<=i)throw Error(ie(301));if(i+=1,Zt=ft=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ie.H=JV,a=e(n,r)}while(xc);return a}function WV(){var t=Ie.H,e=t.useState()[0];return e=typeof e.then=="function"?qh(e):e,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Ue.flags|=1024),e}function MA(){var t=yg!==0;return yg=0,t}function DA(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function $A(t){if(vg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}vg=!1}Lo=0,Zt=ft=Ue=null,xc=!1,Rf=yg=0,_c=null}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function en(){if(ft===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=Zt===null?Ue.memoizedState:Zt.next;if(e!==null)Zt=e,ft=t;else{if(t===null)throw Ue.alternate===null?Error(ie(467)):Error(ie(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Zt===null?Ue.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function LA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qh(t){var e=Rf;return Rf+=1,_c===null&&(_c=[]),t=UM(_c,t,e),e=Ue,(Zt===null?e.memoizedState:Zt.next)===null&&(e=e.alternate,Ie.H=e===null||e.memoizedState===null?bD:xD),t}function yy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qh(t);if(t.$$typeof===ma)return Kn(t)}throw Error(ie(438,String(t)))}function BA(t){var e=null,n=Ue.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=LA(),Ue.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=IU;return e.index++,n}function ka(t,e){return typeof e=="function"?e(t):e}function Bm(t){var e=en();return UA(e,ft,t)}function UA(t,e,n){var r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,c=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ze&f)===f:(Lo&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Mc&&(d=!0);else if((Lo&h)===h){u=u.next,h===Mc&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=f,o=a):c=c.next=f,Ue.lanes|=h,Uo|=h;f=u.action,Zs&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=h,o=a):c=c.next=h,Ue.lanes|=f,Uo|=f;u=u.next}while(u!==null&&u!==e);if(c===null?o=a:c.next=s,!Hr(a,t.memoizedState)&&(wn=!0,d&&(n=bc,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function $b(t){var e=en(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Hr(a,e.memoizedState)||(wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function qM(t,e,n){var r=Ue,i=en(),a=nt;if(a){if(n===void 0)throw Error(ie(407));n=n()}else n=e();var o=!Hr((ft||i).memoizedState,n);o&&(i.memoizedState=n,wn=!0),i=i.queue;var s=KM.bind(null,r,i,t);if(Gh(2048,8,s,[t]),i.getSnapshot!==e||o||Zt!==null&&Zt.memoizedState.tag&1){if(r.flags|=2048,$c(9,by(),WM.bind(null,r,i,n,e),null),bt===null)throw Error(ie(349));a||Lo&124||GM(r,e,n)}return n}function GM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e=LA(),Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WM(t,e,n,r){e.value=n,e.getSnapshot=r,XM(e)&&YM(t)}function KM(t,e,n){return n(function(){XM(e)&&YM(t)})}function XM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hr(t,n)}catch{return!0}}function YM(t){var e=Cu(t,2);e!==null&&Br(e,t,2)}function T1(t){var e=cr();if(typeof t=="function"){var n=t;if(t=n(),Zs){vo(!0);try{n()}finally{vo(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e}function QM(t,e,n,r){return t.baseState=n,UA(t,ft,typeof r=="function"?r:ka)}function KV(t,e,n,r,i){if(xy(t))throw Error(ie(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};Ie.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,ZM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function ZM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Ie.T,o={};Ie.T=o;try{var s=n(i,r),c=Ie.S;c!==null&&c(o,s),Oj(t,e,s)}catch(u){j1(t,e,u)}finally{Ie.T=a}}else try{a=n(i,r),Oj(t,e,a)}catch(u){j1(t,e,u)}}function Oj(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Nj(t,e,r)},function(r){return j1(t,e,r)}):Nj(t,e,n)}function Nj(t,e,n){e.status="fulfilled",e.value=n,JM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,ZM(t,n)))}function j1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,JM(e),e=e.next;while(e!==r)}t.action=null}function JM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function eD(t,e){return e}function Cj(t,e){if(nt){var n=bt.formState;if(n!==null){e:{var r=Ue;if(nt){if(Ut){t:{for(var i=Ut,a=Mi;i.nodeType!==8;){if(!a){i=null;break t}if(i=wi(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Ut=wi(i.nextSibling),r=i.data==="F!";break e}}Ys(r)}r=!1}r&&(e=n[0])}}return n=cr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eD,lastRenderedState:e},n.queue=r,n=gD.bind(null,Ue,r),r.dispatch=n,r=T1(!1),a=HA.bind(null,Ue,!1,r.queue),r=cr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=KV.bind(null,Ue,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Ij(t){var e=en();return tD(e,ft,t)}function tD(t,e,n){if(e=UA(t,e,eD)[0],t=Bm(ka)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=qh(e)}catch(o){throw o===Hh?vy:o}else r=e;e=en();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Ue.flags|=2048,$c(9,by(),XV.bind(null,i,n),null)),[r,a,t]}function XV(t,e){t.action=e}function Pj(t){var e=en(),n=ft;if(n!==null)return tD(e,n,t);en(),e=e.memoizedState,n=en();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function $c(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ue.updateQueue,e===null&&(e=LA(),Ue.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function by(){return{destroy:void 0,resource:void 0}}function nD(){return en().memoizedState}function Um(t,e,n,r){var i=cr();r=r===void 0?null:r,Ue.flags|=t,i.memoizedState=$c(1|e,by(),n,r)}function Gh(t,e,n,r){var i=en();r=r===void 0?null:r;var a=i.memoizedState.inst;ft!==null&&r!==null&&kA(r,ft.memoizedState.deps)?i.memoizedState=$c(e,a,n,r):(Ue.flags|=t,i.memoizedState=$c(1|e,a,n,r))}function kj(t,e){Um(8390656,8,t,e)}function rD(t,e){Gh(2048,8,t,e)}function iD(t,e){return Gh(4,2,t,e)}function aD(t,e){return Gh(4,4,t,e)}function oD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sD(t,e,n){n=n!=null?n.concat([t]):null,Gh(4,4,oD.bind(null,e,t),n)}function VA(){}function lD(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&kA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cD(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&kA(e,r[1]))return r[0];if(r=t(),Zs){vo(!0);try{t()}finally{vo(!1)}}return n.memoizedState=[r,e],r}function zA(t,e,n){return n===void 0||Lo&1073741824?t.memoizedState=e:(t.memoizedState=n,t=JD(),Ue.lanes|=t,Uo|=t,n)}function uD(t,e,n,r){return Hr(n,e)?n:Dc.current!==null?(t=zA(t,n,r),Hr(t,e)||(wn=!0),t):Lo&42?(t=JD(),Ue.lanes|=t,Uo|=t,e):(wn=!0,t.memoizedState=n)}function dD(t,e,n,r,i){var a=rt.p;rt.p=a!==0&&8>a?a:8;var o=Ie.T,s={};Ie.T=s,HA(t,!1,e,n);try{var c=i(),u=Ie.S;if(u!==null&&u(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=qV(c,r);lf(t,e,d,Lr(t))}else lf(t,e,r,Lr(t))}catch(f){lf(t,e,{then:function(){},status:"rejected",reason:f},Lr())}finally{rt.p=a,Ie.T=o}}function YV(){}function O1(t,e,n,r){if(t.tag!==5)throw Error(ie(476));var i=fD(t).queue;dD(t,i,e,$s,n===null?YV:function(){return hD(t),n(r)})}function fD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$s,baseState:$s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:$s},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function hD(t){var e=fD(t).next.queue;lf(t,e,{},Lr())}function FA(){return Kn(Bf)}function pD(){return en().memoizedState}function mD(){return en().memoizedState}function QV(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Lr();t=Eo(n);var r=To(e,t,n);r!==null&&(Br(r,e,n),af(r,e,n)),e={cache:NA()},t.payload=e;return}e=e.return}}function ZV(t,e,n){var r=Lr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},xy(t)?vD(e,n):(n=EA(t,e,n,r),n!==null&&(Br(n,t,r),yD(n,e,r)))}function gD(t,e,n){var r=Lr();lf(t,e,n,r)}function lf(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(t))vD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Hr(s,o))return gy(t,e,i,0),bt===null&&my(),!1}catch{}finally{}if(n=EA(t,e,i,r),n!==null)return Br(n,t,r),yD(n,e,r),!0}return!1}function HA(t,e,n,r){if(r={lane:2,revertLane:ZA(),action:r,hasEagerState:!1,eagerState:null,next:null},xy(t)){if(e)throw Error(ie(479))}else e=EA(t,n,r,2),e!==null&&Br(e,t,2)}function xy(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function vD(t,e){xc=vg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yD(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lM(t,n)}}var bg={readContext:Kn,use:yy,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},bD={readContext:Kn,use:yy,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:kj,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Um(4194308,4,oD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Um(4194308,4,t,e)},useInsertionEffect:function(t,e){Um(4,2,t,e)},useMemo:function(t,e){var n=cr();e=e===void 0?null:e;var r=t();if(Zs){vo(!0);try{t()}finally{vo(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=cr();if(n!==void 0){var i=n(e);if(Zs){vo(!0);try{n(e)}finally{vo(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ZV.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:function(t){t=T1(t);var e=t.queue,n=gD.bind(null,Ue,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:VA,useDeferredValue:function(t,e){var n=cr();return zA(n,t,e)},useTransition:function(){var t=T1(!1);return t=dD.bind(null,Ue,t.queue,!0,!1),cr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ue,i=cr();if(nt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),bt===null)throw Error(ie(349));Ze&124||GM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,kj(KM.bind(null,r,a,t),[t]),r.flags|=2048,$c(9,by(),WM.bind(null,r,a,n,e),null),n},useId:function(){var t=cr(),e=bt.identifierPrefix;if(nt){var n=va,r=ga;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=""+e+"R"+n,n=yg++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=GV++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:FA,useFormState:Cj,useActionState:Cj,useOptimistic:function(t){var e=cr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=HA.bind(null,Ue,!0,n),n.dispatch=e,[t,e]},useMemoCache:BA,useCacheRefresh:function(){return cr().memoizedState=QV.bind(null,Ue)}},xD={readContext:Kn,use:yy,useCallback:lD,useContext:Kn,useEffect:rD,useImperativeHandle:sD,useInsertionEffect:iD,useLayoutEffect:aD,useMemo:cD,useReducer:Bm,useRef:nD,useState:function(){return Bm(ka)},useDebugValue:VA,useDeferredValue:function(t,e){var n=en();return uD(n,ft.memoizedState,t,e)},useTransition:function(){var t=Bm(ka)[0],e=en().memoizedState;return[typeof t=="boolean"?t:qh(t),e]},useSyncExternalStore:qM,useId:pD,useHostTransitionStatus:FA,useFormState:Ij,useActionState:Ij,useOptimistic:function(t,e){var n=en();return QM(n,ft,t,e)},useMemoCache:BA,useCacheRefresh:mD},JV={readContext:Kn,use:yy,useCallback:lD,useContext:Kn,useEffect:rD,useImperativeHandle:sD,useInsertionEffect:iD,useLayoutEffect:aD,useMemo:cD,useReducer:$b,useRef:nD,useState:function(){return $b(ka)},useDebugValue:VA,useDeferredValue:function(t,e){var n=en();return ft===null?zA(n,t,e):uD(n,ft.memoizedState,t,e)},useTransition:function(){var t=$b(ka)[0],e=en().memoizedState;return[typeof t=="boolean"?t:qh(t),e]},useSyncExternalStore:qM,useId:pD,useHostTransitionStatus:FA,useFormState:Pj,useActionState:Pj,useOptimistic:function(t,e){var n=en();return ft!==null?QM(n,ft,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:BA,useCacheRefresh:mD},wc=null,Mf=0;function Yp(t){var e=Mf;return Mf+=1,wc===null&&(wc=[]),UM(wc,t,e)}function _d(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Qp(t,e){throw e.$$typeof===NU?Error(ie(525)):(t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Rj(t){var e=t._init;return e(t._payload)}function _D(t){function e(_,b){if(t){var g=_.deletions;g===null?(_.deletions=[b],_.flags|=16):g.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_){for(var b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(_,b){return _=Ea(_,b),_.index=0,_.sibling=null,_}function a(_,b,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<b?(_.flags|=67108866,b):g):(_.flags|=67108866,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function s(_,b,g,T){return b===null||b.tag!==6?(b=Rb(g,_.mode,T),b.return=_,b):(b=i(b,g),b.return=_,b)}function c(_,b,g,T){var w=g.type;return w===Zl?d(_,b,g.props.children,T,g.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===io&&Rj(w)===b.type)?(b=i(b,g.props),_d(b,g),b.return=_,b):(b=$m(g.type,g.key,g.props,null,_.mode,T),_d(b,g),b.return=_,b)}function u(_,b,g,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=Mb(g,_.mode,T),b.return=_,b):(b=i(b,g.children||[]),b.return=_,b)}function d(_,b,g,T,w){return b===null||b.tag!==7?(b=Ls(g,_.mode,T,w),b.return=_,b):(b=i(b,g),b.return=_,b)}function f(_,b,g){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Rb(""+b,_.mode,g),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fp:return g=$m(b.type,b.key,b.props,null,_.mode,g),_d(g,b),g.return=_,g;case zd:return b=Mb(b,_.mode,g),b.return=_,b;case io:var T=b._init;return b=T(b._payload),f(_,b,g)}if(Fd(b)||vd(b))return b=Ls(b,_.mode,g,null),b.return=_,b;if(typeof b.then=="function")return f(_,Yp(b),g);if(b.$$typeof===ma)return f(_,Kp(_,b),g);Qp(_,b)}return null}function h(_,b,g,T){var w=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:s(_,b,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fp:return g.key===w?c(_,b,g,T):null;case zd:return g.key===w?u(_,b,g,T):null;case io:return w=g._init,g=w(g._payload),h(_,b,g,T)}if(Fd(g)||vd(g))return w!==null?null:d(_,b,g,T,null);if(typeof g.then=="function")return h(_,b,Yp(g),T);if(g.$$typeof===ma)return h(_,b,Kp(_,g),T);Qp(_,g)}return null}function m(_,b,g,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return _=_.get(g)||null,s(b,_,""+T,w);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fp:return _=_.get(T.key===null?g:T.key)||null,c(b,_,T,w);case zd:return _=_.get(T.key===null?g:T.key)||null,u(b,_,T,w);case io:var j=T._init;return T=j(T._payload),m(_,b,g,T,w)}if(Fd(T)||vd(T))return _=_.get(g)||null,d(b,_,T,w,null);if(typeof T.then=="function")return m(_,b,g,Yp(T),w);if(T.$$typeof===ma)return m(_,b,g,Kp(b,T),w);Qp(b,T)}return null}function v(_,b,g,T){for(var w=null,j=null,E=b,A=b=0,O=null;E!==null&&A<g.length;A++){E.index>A?(O=E,E=null):O=E.sibling;var I=h(_,E,g[A],T);if(I===null){E===null&&(E=O);break}t&&E&&I.alternate===null&&e(_,E),b=a(I,b,A),j===null?w=I:j.sibling=I,j=I,E=O}if(A===g.length)return n(_,E),nt&&ws(_,A),w;if(E===null){for(;A<g.length;A++)E=f(_,g[A],T),E!==null&&(b=a(E,b,A),j===null?w=E:j.sibling=E,j=E);return nt&&ws(_,A),w}for(E=r(E);A<g.length;A++)O=m(E,_,A,g[A],T),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?A:O.key),b=a(O,b,A),j===null?w=O:j.sibling=O,j=O);return t&&E.forEach(function(C){return e(_,C)}),nt&&ws(_,A),w}function y(_,b,g,T){if(g==null)throw Error(ie(151));for(var w=null,j=null,E=b,A=b=0,O=null,I=g.next();E!==null&&!I.done;A++,I=g.next()){E.index>A?(O=E,E=null):O=E.sibling;var C=h(_,E,I.value,T);if(C===null){E===null&&(E=O);break}t&&E&&C.alternate===null&&e(_,E),b=a(C,b,A),j===null?w=C:j.sibling=C,j=C,E=O}if(I.done)return n(_,E),nt&&ws(_,A),w;if(E===null){for(;!I.done;A++,I=g.next())I=f(_,I.value,T),I!==null&&(b=a(I,b,A),j===null?w=I:j.sibling=I,j=I);return nt&&ws(_,A),w}for(E=r(E);!I.done;A++,I=g.next())I=m(E,_,A,I.value,T),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?A:I.key),b=a(I,b,A),j===null?w=I:j.sibling=I,j=I);return t&&E.forEach(function(R){return e(_,R)}),nt&&ws(_,A),w}function x(_,b,g,T){if(typeof g=="object"&&g!==null&&g.type===Zl&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Fp:e:{for(var w=g.key;b!==null;){if(b.key===w){if(w=g.type,w===Zl){if(b.tag===7){n(_,b.sibling),T=i(b,g.props.children),T.return=_,_=T;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===io&&Rj(w)===b.type){n(_,b.sibling),T=i(b,g.props),_d(T,g),T.return=_,_=T;break e}n(_,b);break}else e(_,b);b=b.sibling}g.type===Zl?(T=Ls(g.props.children,_.mode,T,g.key),T.return=_,_=T):(T=$m(g.type,g.key,g.props,null,_.mode,T),_d(T,g),T.return=_,_=T)}return o(_);case zd:e:{for(w=g.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){n(_,b.sibling),T=i(b,g.children||[]),T.return=_,_=T;break e}else{n(_,b);break}else e(_,b);b=b.sibling}T=Mb(g,_.mode,T),T.return=_,_=T}return o(_);case io:return w=g._init,g=w(g._payload),x(_,b,g,T)}if(Fd(g))return v(_,b,g,T);if(vd(g)){if(w=vd(g),typeof w!="function")throw Error(ie(150));return g=w.call(g),y(_,b,g,T)}if(typeof g.then=="function")return x(_,b,Yp(g),T);if(g.$$typeof===ma)return x(_,b,Kp(_,g),T);Qp(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,b!==null&&b.tag===6?(n(_,b.sibling),T=i(b,g),T.return=_,_=T):(n(_,b),T=Rb(g,_.mode,T),T.return=_,_=T),o(_)):n(_,b)}return function(_,b,g,T){try{Mf=0;var w=x(_,b,g,T);return wc=null,w}catch(E){if(E===Hh||E===vy)throw E;var j=Cr(29,E,null,_.mode);return j.lanes=T,j.return=_,j}finally{}}}var Lc=_D(!0),wD=_D(!1),ii=ea(null),Fi=null;function lo(t){var e=t.alternate;It(ln,ln.current&1),It(ii,t),Fi===null&&(e===null||Dc.current!==null||e.memoizedState!==null)&&(Fi=t)}function AD(t){if(t.tag===22){if(It(ln,ln.current),It(ii,t),Fi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Fi=t)}}else co()}function co(){It(ln,ln.current),It(ii,ii.current)}function ba(t){Sn(ii),Fi===t&&(Fi=null),Sn(ln)}var ln=ea(0);function xg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||q1(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Lb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var N1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=Eo(r);i.payload=e,n!=null&&(i.callback=n),e=To(t,i,r),e!==null&&(Br(e,t,r),af(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lr(),i=Eo(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=To(t,i,r),e!==null&&(Br(e,t,r),af(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lr(),r=Eo(n);r.tag=2,e!=null&&(r.callback=e),e=To(t,r,n),e!==null&&(Br(e,t,n),af(e,t,n))}};function Mj(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Pf(n,r)||!Pf(i,a):!0}function Dj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&N1.enqueueReplaceState(e,e.state,null)}function Js(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Et({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var _g=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function SD(t){_g(t)}function ED(t){console.error(t)}function TD(t){_g(t)}function wg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function $j(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function C1(t,e,n){return n=Eo(n),n.tag=3,n.payload={element:null},n.callback=function(){wg(t,e)},n}function jD(t){return t=Eo(t),t.tag=3,t}function OD(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){$j(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){$j(e,n,r),typeof i!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function e7(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&zh(e,n,i,!0),n=ii.current,n!==null){switch(n.tag){case 13:return Fi===null?L1():n.alternate===null&&zt===0&&(zt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===w1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Xb(t,r,i)),!1;case 22:return n.flags|=65536,r===w1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Xb(t,r,i)),!1}throw Error(ie(435,n.tag))}return Xb(t,r,i),L1(),!1}if(nt)return e=ii.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==v1&&(t=Error(ie(422),{cause:r}),kf(Zr(t,n)))):(r!==v1&&(e=Error(ie(423),{cause:r}),kf(Zr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Zr(r,n),i=C1(t.stateNode,r,i),Db(t,i),zt!==4&&(zt=2)),!1;var a=Error(ie(520),{cause:r});if(a=Zr(a,n),df===null?df=[a]:df.push(a),zt!==4&&(zt=2),e===null)return!0;r=Zr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=C1(n.stateNode,r,t),Db(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(jo===null||!jo.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=jD(i),OD(i,t,n,r),Db(n,i),!1}n=n.return}while(n!==null);return!1}var ND=Error(ie(461)),wn=!1;function Cn(t,e,n,r){e.child=t===null?wD(e,null,n,r):Lc(e,t.child,n,r)}function Lj(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Qs(e),r=RA(t,e,n,o,a,i),s=MA(),t!==null&&!wn?(DA(t,e,i),Ra(t,e,i)):(nt&&s&&jA(e),e.flags|=1,Cn(t,e,r,i),e.child)}function Bj(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!TA(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,CD(t,e,a,r,i)):(t=$m(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!qA(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Pf,n(o,r)&&t.ref===e.ref)return Ra(t,e,i)}return e.flags|=1,t=Ea(a,r),t.ref=e.ref,t.return=e,e.child=t}function CD(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Pf(a,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=a,qA(t,i))t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Ra(t,e,i)}return I1(t,e,n,r,i)}function ID(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return Uj(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lm(e,a!==null?a.cachePool:null),a!==null?jj(e,a):E1(),AD(e);else return e.lanes=e.childLanes=536870912,Uj(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Lm(e,a.cachePool),jj(e,a),co(),e.memoizedState=null):(t!==null&&Lm(e,null),E1(),co());return Cn(t,e,i,n),e.child}function Uj(t,e,n,r){var i=CA();return i=i===null?null:{parent:on._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Lm(e,null),E1(),AD(e),t!==null&&zh(t,e,r,!0),null}function Vm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ie(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function I1(t,e,n,r,i){return Qs(e),n=RA(t,e,n,r,void 0,i),r=MA(),t!==null&&!wn?(DA(t,e,i),Ra(t,e,i)):(nt&&r&&jA(e),e.flags|=1,Cn(t,e,n,i),e.child)}function Vj(t,e,n,r,i,a){return Qs(e),e.updateQueue=null,n=HM(e,r,n,i),FM(t),r=MA(),t!==null&&!wn?(DA(t,e,a),Ra(t,e,a)):(nt&&r&&jA(e),e.flags|=1,Cn(t,e,n,a),e.child)}function zj(t,e,n,r,i){if(Qs(e),e.stateNode===null){var a=oc,o=n.contextType;typeof o=="object"&&o!==null&&(a=Kn(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=N1,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},IA(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Kn(o):oc,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Lb(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&N1.enqueueReplaceState(a,a.state,null),sf(e,r,a,i),of(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,c=Js(n,s);a.props=c;var u=a.context,d=n.contextType;o=oc,typeof d=="object"&&d!==null&&(o=Kn(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&Dj(e,a,r,o),ao=!1;var h=e.memoizedState;a.state=h,sf(e,r,a,i),of(),u=e.memoizedState,s||h!==u||ao?(typeof f=="function"&&(Lb(e,n,f,r),u=e.memoizedState),(c=ao||Mj(e,n,c,r,h,u,o))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,A1(t,e),o=e.memoizedProps,d=Js(n,o),a.props=d,f=e.pendingProps,h=a.context,u=n.contextType,c=oc,typeof u=="object"&&u!==null&&(c=Kn(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Dj(e,a,r,c),ao=!1,h=e.memoizedState,a.state=h,sf(e,r,a,i),of();var m=e.memoizedState;o!==f||h!==m||ao||t!==null&&t.dependencies!==null&&mg(t.dependencies)?(typeof s=="function"&&(Lb(e,n,s,r),m=e.memoizedState),(d=ao||Mj(e,n,d,r,h,m,c)||t!==null&&t.dependencies!==null&&mg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Vm(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Lc(e,t.child,null,i),e.child=Lc(e,null,n,i)):Cn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Ra(t,e,i),t}function Fj(t,e,n,r){return Vh(),e.flags|=256,Cn(t,e,n,r),e.child}var Bb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ub(t){return{baseLanes:t,cachePool:LM()}}function Vb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ni),t}function PD(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(ln.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(nt){if(i?lo(e):co(),nt){var s=Ut,c;if(c=s){e:{for(c=s,s=Mi;c.nodeType!==8;){if(!s){s=null;break e}if(c=wi(c.nextSibling),c===null){s=null;break e}}s=c}s!==null?(e.memoizedState={dehydrated:s,treeContext:Bs!==null?{id:ga,overflow:va}:null,retryLane:536870912,hydrationErrors:null},c=Cr(18,null,null,0),c.stateNode=s,c.return=e,e.child=c,tr=e,Ut=null,c=!0):c=!1}c||Ys(e)}if(s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return q1(s)?e.lanes=32:e.lanes=536870912,null;ba(e)}return s=r.children,r=r.fallback,i?(co(),i=e.mode,s=Ag({mode:"hidden",children:s},i),r=Ls(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,i=e.child,i.memoizedState=Ub(n),i.childLanes=Vb(t,o,n),e.memoizedState=Bb,r):(lo(e),P1(e,s))}if(c=t.memoizedState,c!==null&&(s=c.dehydrated,s!==null)){if(a)e.flags&256?(lo(e),e.flags&=-257,e=zb(t,e,n)):e.memoizedState!==null?(co(),e.child=t.child,e.flags|=128,e=null):(co(),i=r.fallback,s=e.mode,r=Ag({mode:"visible",children:r.children},s),i=Ls(i,s,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Lc(e,t.child,null,n),r=e.child,r.memoizedState=Ub(n),r.childLanes=Vb(t,o,n),e.memoizedState=Bb,e=i);else if(lo(e),q1(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(ie(419)),r.stack="",r.digest=o,kf({value:r,source:null,stack:null}),e=zb(t,e,n)}else if(wn||zh(t,e,n,!1),o=(n&t.childLanes)!==0,wn||o){if(o=bt,o!==null&&(r=n&-n,r=r&42?1:mA(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,Cu(t,r),Br(o,t,r),ND;s.data==="$?"||L1(),e=zb(t,e,n)}else s.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Ut=wi(s.nextSibling),tr=e,nt=!0,Us=null,Mi=!1,t!==null&&(Xr[Yr++]=ga,Xr[Yr++]=va,Xr[Yr++]=Bs,ga=t.id,va=t.overflow,Bs=e),e=P1(e,r.children),e.flags|=4096);return e}return i?(co(),i=r.fallback,s=e.mode,c=t.child,u=c.sibling,r=Ea(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Ea(u,i):(i=Ls(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s===null?s=Ub(n):(c=s.cachePool,c!==null?(u=on._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=LM(),s={baseLanes:s.baseLanes|n,cachePool:c}),i.memoizedState=s,i.childLanes=Vb(t,o,n),e.memoizedState=Bb,r):(lo(e),n=t.child,t=n.sibling,n=Ea(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function P1(t,e){return e=Ag({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ag(t,e){return t=Cr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zb(t,e,n){return Lc(e,t.child,null,n),t=P1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),b1(t.return,e,n)}function Fb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function kD(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Cn(t,e,r.children,n),r=ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hj(t,n,e);else if(t.tag===19)Hj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(It(ln,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fb(e,!0,n,null,a);break;case"together":Fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ra(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Uo|=e.lanes,!(n&e.childLanes))if(t!==null){if(zh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Ea(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ea(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qA(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&mg(t)))}function t7(t,e,n){switch(e.tag){case 3:sg(e,e.stateNode.containerInfo),so(e,on,t.memoizedState.cache),Vh();break;case 27:case 5:s1(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:so(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(lo(e),e.flags|=128,null):n&e.child.childLanes?PD(t,e,n):(lo(e),t=Ra(t,e,n),t!==null?t.sibling:null);lo(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(zh(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return kD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(ln,ln.current),r)break;return null;case 22:case 23:return e.lanes=0,ID(t,e,n);case 24:so(e,on,t.memoizedState.cache)}return Ra(t,e,n)}function RD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)wn=!0;else{if(!qA(t,n)&&!(e.flags&128))return wn=!1,t7(t,e,n);wn=!!(t.flags&131072)}else wn=!1,nt&&e.flags&1048576&&DM(e,pg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")TA(r)?(t=Js(r,t),e.tag=1,e=zj(null,e,r,t,n)):(e.tag=0,e=I1(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===fA){e.tag=11,e=Lj(null,e,r,t,n);break e}else if(i===hA){e.tag=14,e=Bj(null,e,r,t,n);break e}}throw e=a1(r)||r,Error(ie(306,e,""))}}return e;case 0:return I1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Js(r,e.pendingProps),zj(t,e,r,i,n);case 3:e:{if(sg(e,e.stateNode.containerInfo),t===null)throw Error(ie(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,A1(t,e),sf(e,r,null,n);var o=e.memoizedState;if(r=o.cache,so(e,on,r),r!==a.cache&&x1(e,[on],n,!0),of(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Fj(t,e,r,n);break e}else if(r!==i){i=Zr(Error(ie(424)),e),kf(i),e=Fj(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=wi(t.firstChild),tr=e,nt=!0,Us=null,Mi=!0,n=wD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vh(),r===i){e=Ra(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 26:return Vm(t,e),t===null?(n=sO(e.type,null,e.pendingProps,null))?e.memoizedState=n:nt||(n=e.type,t=e.pendingProps,r=Cg(So.current).createElement(n),r[Wn]=e,r[yr]=t,Mn(r,n,t),xn(r),e.stateNode=r):e.memoizedState=sO(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return s1(e),t===null&&nt&&(r=e.stateNode=x4(e.type,e.pendingProps,So.current),tr=e,Mi=!0,i=Ut,Zo(e.type)?(G1=i,Ut=wi(r.firstChild)):Ut=i),Cn(t,e,e.pendingProps.children,n),Vm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&nt&&((i=r=Ut)&&(r=N7(r,e.type,e.pendingProps,Mi),r!==null?(e.stateNode=r,tr=e,Ut=wi(r.firstChild),Mi=!1,i=!0):i=!1),i||Ys(e)),s1(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,F1(i,a)?r=null:o!==null&&F1(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=RA(t,e,WV,null,null,n),Bf._currentValue=i),Vm(t,e),Cn(t,e,r,n),e.child;case 6:return t===null&&nt&&((t=n=Ut)&&(n=C7(n,e.pendingProps,Mi),n!==null?(e.stateNode=n,tr=e,Ut=null,t=!0):t=!1),t||Ys(e)),null;case 13:return PD(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lc(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return Lj(t,e,e.type,e.pendingProps,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,so(e,e.type,r.value),Cn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Qs(e),i=Kn(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return Bj(t,e,e.type,e.pendingProps,n);case 15:return CD(t,e,e.type,e.pendingProps,n);case 19:return kD(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Ag(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ea(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return ID(t,e,n);case 24:return Qs(e),r=Kn(on),t===null?(i=CA(),i===null&&(i=bt,a=NA(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},IA(e),so(e,on,i)):(t.lanes&n&&(A1(t,e),sf(e,null,null,n),of()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),so(e,on,r)):(r=a.cache,so(e,on,r),r!==i.cache&&x1(e,[on],n,!0))),Cn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(ie(156,e.tag))}function ca(t){t.flags|=4}function qj(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!A4(e)){if(e=ii.current,e!==null&&((Ze&4194048)===Ze?Fi!==null:(Ze&62914560)!==Ze&&!(Ze&536870912)||e!==Fi))throw rf=w1,BM;t.flags|=8192}}function Zp(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?oM():536870912,t.lanes|=e,Bc|=e)}function wd(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function n7(t,e,n){var r=e.pendingProps;switch(OA(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return Mt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ta(on),Pc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xd(e)?ca(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_j())),Mt(e),null;case 26:return n=e.memoizedState,t===null?(ca(e),n!==null?(Mt(e),qj(e,n)):(Mt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ca(e),Mt(e),qj(e,n)):(Mt(e),e.flags&=-16777217):(t.memoizedProps!==r&&ca(e),Mt(e),e.flags&=-16777217),null;case 27:lg(e),n=So.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ca(e);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return Mt(e),null}t=Vi.current,xd(e)?bj(e):(t=x4(i,r,n),e.stateNode=t,ca(e))}return Mt(e),null;case 5:if(lg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ca(e);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return Mt(e),null}if(t=Vi.current,xd(e))bj(e);else{switch(i=Cg(So.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Wn]=e,t[yr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Mn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ca(e)}}return Mt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ca(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(t=So.current,xd(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=tr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Wn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||v4(t.nodeValue,n)),t||Ys(e)}else t=Cg(t).createTextNode(r),t[Wn]=e,e.stateNode=t}return Mt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=xd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ie(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[Wn]=e}else Vh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),i=!1}else i=_j(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ba(e),e):(ba(e),null)}if(ba(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Zp(e,e.updateQueue),Mt(e),null;case 4:return Pc(),t===null&&JA(e.stateNode.containerInfo),Mt(e),null;case 10:return Ta(e.type),Mt(e),null;case 19:if(Sn(ln),i=e.memoizedState,i===null)return Mt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)wd(i,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xg(t),a!==null){for(e.flags|=128,wd(i,!1),t=a.updateQueue,e.updateQueue=t,Zp(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)MM(n,t),n=n.sibling;return It(ln,ln.current&1|2),e.child}t=t.sibling}i.tail!==null&&zi()>Eg&&(e.flags|=128,r=!0,wd(i,!1),e.lanes=4194304)}else{if(!r)if(t=xg(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Zp(e,t),wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!nt)return Mt(e),null}else 2*zi()-i.renderingStartTime>Eg&&n!==536870912&&(e.flags|=128,r=!0,wd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=zi(),e.sibling=null,t=ln.current,It(ln,r?t&1|2:t&1),e):(Mt(e),null);case 22:case 23:return ba(e),PA(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),n=e.updateQueue,n!==null&&Zp(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Sn(Vs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ta(on),Mt(e),null;case 25:return null;case 30:return null}throw Error(ie(156,e.tag))}function r7(t,e){switch(OA(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(on),Pc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return lg(e),null;case 13:if(ba(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Vh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(ln),null;case 4:return Pc(),null;case 10:return Ta(e.type),null;case 22:case 23:return ba(e),PA(),t!==null&&Sn(Vs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ta(on),null;case 25:return null;default:return null}}function MD(t,e){switch(OA(e),e.tag){case 3:Ta(on),Pc();break;case 26:case 27:case 5:lg(e);break;case 4:Pc();break;case 13:ba(e);break;case 19:Sn(ln);break;case 10:Ta(e.type);break;case 22:case 23:ba(e),PA(),t!==null&&Sn(Vs);break;case 24:Ta(on)}}function Wh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){pt(e,e.return,s)}}function Bo(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var c=n,u=s;try{u()}catch(d){pt(i,c,d)}}}r=r.next}while(r!==a)}}catch(d){pt(e,e.return,d)}}function DD(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{zM(e,n)}catch(r){pt(t,t.return,r)}}}function $D(t,e,n){n.props=Js(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){pt(t,e,r)}}function cf(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){pt(t,e,i)}}function Di(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){pt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){pt(t,e,i)}else n.current=null}function LD(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){pt(t,t.return,i)}}function Hb(t,e,n){try{var r=t.stateNode;S7(r,t.type,n,e),r[yr]=e}catch(i){pt(t,t.return,i)}}function BD(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zo(t.type)||t.tag===4}function qb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sy));else if(r!==4&&(r===27&&Zo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(k1(t,e,n),t=t.sibling;t!==null;)k1(t,e,n),t=t.sibling}function Sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Zo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Sg(t,e,n),t=t.sibling;t!==null;)Sg(t,e,n),t=t.sibling}function UD(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Mn(e,r,n),e[Wn]=t,e[yr]=n}catch(a){pt(t,t.return,a)}}var ha=!1,Wt=!1,Gb=!1,Gj=typeof WeakSet=="function"?WeakSet:Set,bn=null;function i7(t,e){if(t=t.containerInfo,V1=Rg,t=jM(t),AA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(z1={focusedElem:t,selectionRange:n},Rg=!1,bn=e;bn!==null;)if(e=bn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,bn=t;else for(;bn!==null;){switch(e=bn,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=Js(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){pt(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)H1(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":H1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ie(163))}if(t=e.sibling,t!==null){t.return=e.return,bn=t;break}bn=e.return}}function VD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:eo(t,n),r&4&&Wh(5,n);break;case 1:if(eo(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){pt(n,n.return,o)}else{var i=Js(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){pt(n,n.return,o)}}r&64&&DD(n),r&512&&cf(n,n.return);break;case 3:if(eo(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{zM(t,e)}catch(o){pt(n,n.return,o)}}break;case 27:e===null&&r&4&&UD(n);case 26:case 5:eo(t,n),e===null&&r&4&&LD(n),r&512&&cf(n,n.return);break;case 12:eo(t,n);break;case 13:eo(t,n),r&4&&HD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=h7.bind(null,n),I7(t,n))));break;case 22:if(r=n.memoizedState!==null||ha,!r){e=e!==null&&e.memoizedState!==null||Wt,i=ha;var a=Wt;ha=r,(Wt=e)&&!a?no(t,n,(n.subtreeFlags&8772)!==0):eo(t,n),ha=i,Wt=a}break;case 30:break;default:eo(t,n)}}function zD(t){var e=t.alternate;e!==null&&(t.alternate=null,zD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&vA(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,ur=!1;function ua(t,e,n){for(n=n.child;n!==null;)FD(t,e,n),n=n.sibling}function FD(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Dh,n)}catch{}switch(n.tag){case 26:Wt||Di(n,e),ua(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Wt||Di(n,e);var r=Nt,i=ur;Zo(n.type)&&(Nt=n.stateNode,ur=!1),ua(t,e,n),hf(n.stateNode),Nt=r,ur=i;break;case 5:Wt||Di(n,e);case 6:if(r=Nt,i=ur,Nt=null,ua(t,e,n),Nt=r,ur=i,Nt!==null)if(ur)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(n.stateNode)}catch(a){pt(n,e,a)}else try{Nt.removeChild(n.stateNode)}catch(a){pt(n,e,a)}break;case 18:Nt!==null&&(ur?(t=Nt,iO(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),zf(t)):iO(Nt,n.stateNode));break;case 4:r=Nt,i=ur,Nt=n.stateNode.containerInfo,ur=!0,ua(t,e,n),Nt=r,ur=i;break;case 0:case 11:case 14:case 15:Wt||Bo(2,n,e),Wt||Bo(4,n,e),ua(t,e,n);break;case 1:Wt||(Di(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&$D(n,e,r)),ua(t,e,n);break;case 21:ua(t,e,n);break;case 22:Wt=(r=Wt)||n.memoizedState!==null,ua(t,e,n),Wt=r;break;default:ua(t,e,n)}}function HD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zf(t)}catch(n){pt(e,e.return,n)}}function a7(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Gj),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Gj),e;default:throw Error(ie(435,t.tag))}}function Wb(t,e){var n=a7(t);e.forEach(function(r){var i=p7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Zo(s.type)){Nt=s.stateNode,ur=!1;break e}break;case 5:Nt=s.stateNode,ur=!1;break e;case 3:case 4:Nt=s.stateNode.containerInfo,ur=!0;break e}s=s.return}if(Nt===null)throw Error(ie(160));FD(a,o,i),Nt=null,ur=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)qD(e,t),e=e.sibling}var vi=null;function qD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wr(e,t),Ar(t),r&4&&(Bo(3,t,t.return),Wh(3,t),Bo(5,t,t.return));break;case 1:wr(e,t),Ar(t),r&512&&(Wt||n===null||Di(n,n.return)),r&64&&ha&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=vi;if(wr(e,t),Ar(t),r&512&&(Wt||n===null||Di(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Bh]||a[Wn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Mn(a,r,n),a[Wn]=t,xn(a),r=a;break e;case"link":var o=cO("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Mn(a,r,n),i.head.appendChild(a);break;case"meta":if(o=cO("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Mn(a,r,n),i.head.appendChild(a);break;default:throw Error(ie(468,r))}a[Wn]=t,xn(a),r=a}t.stateNode=r}else uO(i,t.type,t.stateNode);else t.stateNode=lO(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?uO(i,t.type,t.stateNode):lO(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Hb(t,t.memoizedProps,n.memoizedProps)}break;case 27:wr(e,t),Ar(t),r&512&&(Wt||n===null||Di(n,n.return)),n!==null&&r&4&&Hb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(wr(e,t),Ar(t),r&512&&(Wt||n===null||Di(n,n.return)),t.flags&32){i=t.stateNode;try{Rc(i,"")}catch(m){pt(t,t.return,m)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Hb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Gb=!0);break;case 6:if(wr(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(ie(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){pt(t,t.return,m)}}break;case 3:if(Hm=null,i=vi,vi=Ig(e.containerInfo),wr(e,t),vi=i,Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zf(e.containerInfo)}catch(m){pt(t,t.return,m)}Gb&&(Gb=!1,GD(t));break;case 4:r=vi,vi=Ig(t.stateNode.containerInfo),wr(e,t),Ar(t),vi=r;break;case 12:wr(e,t),Ar(t);break;case 13:wr(e,t),Ar(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(YA=zi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Wb(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ha,d=Wt;if(ha=u||i,Wt=d||c,wr(e,t),Wt=d,ha=u,Ar(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||ha||Wt||As(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){pt(c,c.return,m)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){pt(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Wb(t,n))));break;case 19:wr(e,t),Ar(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Wb(t,r)));break;case 30:break;case 21:break;default:wr(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(BD(r)){n=r;break}r=r.return}if(n==null)throw Error(ie(160));switch(n.tag){case 27:var i=n.stateNode,a=qb(t);Sg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(Rc(o,""),n.flags&=-33);var s=qb(t);Sg(t,s,o);break;case 3:case 4:var c=n.stateNode.containerInfo,u=qb(t);k1(t,u,c);break;default:throw Error(ie(161))}}catch(d){pt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GD(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;GD(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function eo(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)VD(t,e.alternate,e),e=e.sibling}function As(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Bo(4,e,e.return),As(e);break;case 1:Di(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&$D(e,e.return,n),As(e);break;case 27:hf(e.stateNode);case 26:case 5:Di(e,e.return),As(e);break;case 22:e.memoizedState===null&&As(e);break;case 30:As(e);break;default:As(e)}t=t.sibling}}function no(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:no(i,a,n),Wh(4,a);break;case 1:if(no(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){pt(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)VM(c[i],s)}catch(u){pt(r,r.return,u)}}n&&o&64&&DD(a),cf(a,a.return);break;case 27:UD(a);case 26:case 5:no(i,a,n),n&&r===null&&o&4&&LD(a),cf(a,a.return);break;case 12:no(i,a,n);break;case 13:no(i,a,n),n&&o&4&&HD(i,a);break;case 22:a.memoizedState===null&&no(i,a,n),cf(a,a.return);break;case 30:break;default:no(i,a,n)}e=e.sibling}}function GA(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Fh(n))}function WA(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Fh(t))}function ki(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)WD(t,e,n,r),e=e.sibling}function WD(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:ki(t,e,n,r),i&2048&&Wh(9,e);break;case 1:ki(t,e,n,r);break;case 3:ki(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Fh(t)));break;case 12:if(i&2048){ki(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){pt(e,e.return,c)}}else ki(t,e,n,r);break;case 13:ki(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?ki(t,e,n,r):uf(t,e):a._visibility&2?ki(t,e,n,r):(a._visibility|=2,Gl(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&GA(o,e);break;case 24:ki(t,e,n,r),i&2048&&WA(e.alternate,e);break;default:ki(t,e,n,r)}}function Gl(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,o=e,s=n,c=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Gl(a,o,s,c,i),Wh(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Gl(a,o,s,c,i):uf(a,o):(d._visibility|=2,Gl(a,o,s,c,i)),i&&u&2048&&GA(o.alternate,o);break;case 24:Gl(a,o,s,c,i),i&&u&2048&&WA(o.alternate,o);break;default:Gl(a,o,s,c,i)}e=e.sibling}}function uf(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:uf(n,r),i&2048&&GA(r.alternate,r);break;case 24:uf(n,r),i&2048&&WA(r.alternate,r);break;default:uf(n,r)}e=e.sibling}}var qd=8192;function Ml(t){if(t.subtreeFlags&qd)for(t=t.child;t!==null;)KD(t),t=t.sibling}function KD(t){switch(t.tag){case 26:Ml(t),t.flags&qd&&t.memoizedState!==null&&H7(vi,t.memoizedState,t.memoizedProps);break;case 5:Ml(t);break;case 3:case 4:var e=vi;vi=Ig(t.stateNode.containerInfo),Ml(t),vi=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=qd,qd=16777216,Ml(t),qd=e):Ml(t));break;default:Ml(t)}}function XD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ad(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bn=r,QD(r,t)}XD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)YD(t),t=t.sibling}function YD(t){switch(t.tag){case 0:case 11:case 15:Ad(t),t.flags&2048&&Bo(9,t,t.return);break;case 3:Ad(t);break;case 12:Ad(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,zm(t)):Ad(t);break;default:Ad(t)}}function zm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bn=r,QD(r,t)}XD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Bo(8,e,e.return),zm(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,zm(e));break;default:zm(e)}t=t.sibling}}function QD(t,e){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:Bo(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Fh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bn=r;else e:for(n=t;bn!==null;){r=bn;var i=r.sibling,a=r.return;if(zD(r),r===n){bn=null;break e}if(i!==null){i.return=a,bn=i;break e}bn=a}}}var o7={getCacheForType:function(t){var e=Kn(on),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},s7=typeof WeakMap=="function"?WeakMap:Map,lt=0,bt=null,Fe=null,Ze=0,st=0,Or=null,bo=!1,Iu=!1,KA=!1,Ma=0,zt=0,Uo=0,zs=0,XA=0,ni=0,Bc=0,df=null,dr=null,R1=!1,YA=0,Eg=1/0,Tg=null,jo=null,kn=0,Oo=null,Uc=null,Ac=0,M1=0,D1=null,ZD=null,ff=0,$1=null;function Lr(){if(lt&2&&Ze!==0)return Ze&-Ze;if(Ie.T!==null){var t=Mc;return t!==0?t:ZA()}return cM()}function JD(){ni===0&&(ni=!(Ze&536870912)||nt?aM():536870912);var t=ii.current;return t!==null&&(t.flags|=32),ni}function Br(t,e,n){(t===bt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Vc(t,0),xo(t,Ze,ni,!1)),Lh(t,n),(!(lt&2)||t!==bt)&&(t===bt&&(!(lt&2)&&(zs|=n),zt===4&&xo(t,Ze,ni,!1)),ta(t))}function e4(t,e,n){if(lt&6)throw Error(ie(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||$h(t,e),i=r?u7(t,e):Kb(t,e,!0),a=r;do{if(i===0){Iu&&!r&&xo(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!l7(n)){i=Kb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=df;var c=s.current.memoizedState.isDehydrated;if(c&&(Vc(s,o).flags|=256),o=Kb(s,o,!1),o!==2){if(KA&&!c){s.errorRecoveryDisabledLanes|=a,zs|=a,i=4;break e}a=dr,dr=i,a!==null&&(dr===null?dr=a:dr.push.apply(dr,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){Vc(t,0),xo(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(ie(345));case 4:if((e&4194048)!==e)break;case 6:xo(r,e,ni,!bo);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(ie(329))}if((e&62914560)===e&&(i=YA+300-zi(),10<i)){if(xo(r,e,ni,!bo),dy(r,0,!0)!==0)break e;r.timeoutHandle=b4(Wj.bind(null,r,n,dr,Tg,R1,e,ni,zs,Bc,bo,a,2,-0,0),i);break e}Wj(r,n,dr,Tg,R1,e,ni,zs,Bc,bo,a,0,-0,0)}}break}while(!0);ta(t)}function Wj(t,e,n,r,i,a,o,s,c,u,d,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Lf={stylesheets:null,count:0,unsuspend:F7},KD(e),f=q7(),f!==null)){t.cancelPendingCommit=f(Xj.bind(null,t,e,a,n,r,i,o,s,c,d,1,h,m)),xo(t,a,o,!u);return}Xj(t,e,a,n,r,i,o,s,c)}function l7(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Hr(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(t,e,n,r){e&=~XA,e&=~zs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-$r(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&sM(t,n,e)}function _y(){return lt&6?!0:(Kh(0),!1)}function QA(){if(Fe!==null){if(st===0)var t=Fe.return;else t=Fe,ya=gl=null,$A(t),wc=null,Mf=0,t=Fe;for(;t!==null;)MD(t.alternate,t),t=t.return;Fe=null}}function Vc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,T7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),QA(),bt=t,Fe=n=Ea(t.current,null),Ze=e,st=0,Or=null,bo=!1,Iu=$h(t,e),KA=!1,Bc=ni=XA=zs=Uo=zt=0,dr=df=null,R1=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-$r(r),a=1<<i;e|=t[i],r&=~a}return Ma=e,my(),n}function t4(t,e){Ue=null,Ie.H=bg,e===Hh||e===vy?(e=Ej(),st=3):e===BM?(e=Ej(),st=4):st=e===ND?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Or=e,Fe===null&&(zt=1,wg(t,Zr(e,t.current)))}function n4(){var t=Ie.H;return Ie.H=bg,t===null?bg:t}function r4(){var t=Ie.A;return Ie.A=o7,t}function L1(){zt=4,bo||(Ze&4194048)!==Ze&&ii.current!==null||(Iu=!0),!(Uo&134217727)&&!(zs&134217727)||bt===null||xo(bt,Ze,ni,!1)}function Kb(t,e,n){var r=lt;lt|=2;var i=n4(),a=r4();(bt!==t||Ze!==e)&&(Tg=null,Vc(t,e)),e=!1;var o=zt;e:do try{if(st!==0&&Fe!==null){var s=Fe,c=Or;switch(st){case 8:QA(),o=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(e=!0);var u=st;if(st=0,Or=null,cc(t,s,c,u),n&&Iu){o=0;break e}break;default:u=st,st=0,Or=null,cc(t,s,c,u)}}c7(),o=zt;break}catch(d){t4(t,d)}while(!0);return e&&t.shellSuspendCounter++,ya=gl=null,lt=r,Ie.H=i,Ie.A=a,Fe===null&&(bt=null,Ze=0,my()),o}function c7(){for(;Fe!==null;)i4(Fe)}function u7(t,e){var n=lt;lt|=2;var r=n4(),i=r4();bt!==t||Ze!==e?(Tg=null,Eg=zi()+500,Vc(t,e)):Iu=$h(t,e);e:do try{if(st!==0&&Fe!==null){e=Fe;var a=Or;t:switch(st){case 1:st=0,Or=null,cc(t,e,a,1);break;case 2:case 9:if(Sj(a)){st=0,Or=null,Kj(e);break}e=function(){st!==2&&st!==9||bt!==t||(st=7),ta(t)},a.then(e,e);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Sj(a)?(st=0,Or=null,Kj(e)):(st=0,Or=null,cc(t,e,a,7));break;case 5:var o=null;switch(Fe.tag){case 26:o=Fe.memoizedState;case 5:case 27:var s=Fe;if(!o||A4(o)){st=0,Or=null;var c=s.sibling;if(c!==null)Fe=c;else{var u=s.return;u!==null?(Fe=u,wy(u)):Fe=null}break t}}st=0,Or=null,cc(t,e,a,5);break;case 6:st=0,Or=null,cc(t,e,a,6);break;case 8:QA(),zt=6;break e;default:throw Error(ie(462))}}d7();break}catch(d){t4(t,d)}while(!0);return ya=gl=null,Ie.H=r,Ie.A=i,lt=n,Fe!==null?0:(bt=null,Ze=0,my(),zt)}function d7(){for(;Fe!==null&&!kU();)i4(Fe)}function i4(t){var e=RD(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,e===null?wy(t):Fe=e}function Kj(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Vj(n,e,e.pendingProps,e.type,void 0,Ze);break;case 11:e=Vj(n,e,e.pendingProps,e.type.render,e.ref,Ze);break;case 5:$A(e);default:MD(n,e),e=Fe=MM(e,Ma),e=RD(n,e,Ma)}t.memoizedProps=t.pendingProps,e===null?wy(t):Fe=e}function cc(t,e,n,r){ya=gl=null,$A(e),wc=null,Mf=0;var i=e.return;try{if(e7(t,i,e,n,Ze)){zt=1,wg(t,Zr(n,t.current)),Fe=null;return}}catch(a){if(i!==null)throw Fe=i,a;zt=1,wg(t,Zr(n,t.current)),Fe=null;return}e.flags&32768?(nt||r===1?t=!0:Iu||Ze&536870912?t=!1:(bo=t=!0,(r===2||r===9||r===3||r===6)&&(r=ii.current,r!==null&&r.tag===13&&(r.flags|=16384))),a4(e,t)):wy(e)}function wy(t){var e=t;do{if(e.flags&32768){a4(e,bo);return}t=e.return;var n=n7(e.alternate,e,Ma);if(n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);zt===0&&(zt=5)}function a4(t,e){do{var n=r7(t.alternate,t);if(n!==null){n.flags&=32767,Fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=n}while(t!==null);zt=6,Fe=null}function Xj(t,e,n,r,i,a,o,s,c){t.cancelPendingCommit=null;do Ay();while(kn!==0);if(lt&6)throw Error(ie(327));if(e!==null){if(e===t.current)throw Error(ie(177));if(a=e.lanes|e.childLanes,a|=SA,FU(t,n,a,o,s,c),t===bt&&(Fe=bt=null,Ze=0),Uc=e,Oo=t,Ac=n,M1=a,D1=i,ZD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,m7(cg,function(){return u4(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ie.T,Ie.T=null,i=rt.p,rt.p=2,o=lt,lt|=4;try{i7(t,e,n)}finally{lt=o,rt.p=i,Ie.T=r}}kn=1,o4(),s4(),l4()}}function o4(){if(kn===1){kn=0;var t=Oo,e=Uc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ie.T,Ie.T=null;var r=rt.p;rt.p=2;var i=lt;lt|=4;try{qD(e,t);var a=z1,o=jM(t.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&TM(s.ownerDocument.documentElement,s)){if(c!==null&&AA(s)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,y=Math.min(c.start,v),x=c.end===void 0?y:Math.min(c.end,v);!m.extend&&y>x&&(o=x,x=y,y=o);var _=gj(s,y),b=gj(s,x);if(_&&b&&(m.rangeCount!==1||m.anchorNode!==_.node||m.anchorOffset!==_.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var g=f.createRange();g.setStart(_.node,_.offset),m.removeAllRanges(),y>x?(m.addRange(g),m.extend(b.node,b.offset)):(g.setEnd(b.node,b.offset),m.addRange(g))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Rg=!!V1,z1=V1=null}finally{lt=i,rt.p=r,Ie.T=n}}t.current=e,kn=2}}function s4(){if(kn===2){kn=0;var t=Oo,e=Uc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ie.T,Ie.T=null;var r=rt.p;rt.p=2;var i=lt;lt|=4;try{VD(t,e.alternate,e)}finally{lt=i,rt.p=r,Ie.T=n}}kn=3}}function l4(){if(kn===4||kn===3){kn=0,RU();var t=Oo,e=Uc,n=Ac,r=ZD;e.subtreeFlags&10256||e.flags&10256?kn=5:(kn=0,Uc=Oo=null,c4(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(jo=null),gA(n),e=e.stateNode,Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Dh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ie.T,i=rt.p,rt.p=2,Ie.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{Ie.T=e,rt.p=i}}Ac&3&&Ay(),ta(t),i=t.pendingLanes,n&4194090&&i&42?t===$1?ff++:(ff=0,$1=t):ff=0,Kh(0)}}function c4(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Fh(e)))}function Ay(t){return o4(),s4(),l4(),u4()}function u4(){if(kn!==5)return!1;var t=Oo,e=M1;M1=0;var n=gA(Ac),r=Ie.T,i=rt.p;try{rt.p=32>n?32:n,Ie.T=null,n=D1,D1=null;var a=Oo,o=Ac;if(kn=0,Uc=Oo=null,Ac=0,lt&6)throw Error(ie(331));var s=lt;if(lt|=4,YD(a.current),WD(a,a.current,o,n),lt=s,Kh(0,!1),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Dh,a)}catch{}return!0}finally{rt.p=i,Ie.T=r,c4(t,e)}}function Yj(t,e,n){e=Zr(n,e),e=C1(t.stateNode,e,2),t=To(t,e,2),t!==null&&(Lh(t,2),ta(t))}function pt(t,e,n){if(t.tag===3)Yj(t,t,n);else for(;e!==null;){if(e.tag===3){Yj(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=Zr(n,t),n=jD(2),r=To(e,n,2),r!==null&&(OD(n,r,e,t),Lh(r,2),ta(r));break}}e=e.return}}function Xb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(KA=!0,i.add(n),t=f7.bind(null,t,e,n),e.then(t,t))}function f7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,bt===t&&(Ze&n)===n&&(zt===4||zt===3&&(Ze&62914560)===Ze&&300>zi()-YA?!(lt&2)&&Vc(t,0):XA|=n,Bc===Ze&&(Bc=0)),ta(t)}function d4(t,e){e===0&&(e=oM()),t=Cu(t,e),t!==null&&(Lh(t,e),ta(t))}function h7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d4(t,n)}function p7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(ie(314))}r!==null&&r.delete(e),d4(t,n)}function m7(t,e){return pA(t,e)}var jg=null,Wl=null,B1=!1,Og=!1,Yb=!1,Fs=0;function ta(t){t!==Wl&&t.next===null&&(Wl===null?jg=Wl=t:Wl=Wl.next=t),Og=!0,B1||(B1=!0,v7())}function Kh(t,e){if(!Yb&&Og){Yb=!0;do for(var n=!1,r=jg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-$r(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Qj(r,a))}else a=Ze,a=dy(r,r===bt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||$h(r,a)||(n=!0,Qj(r,a));r=r.next}while(n);Yb=!1}}function g7(){f4()}function f4(){Og=B1=!1;var t=0;Fs!==0&&(E7()&&(t=Fs),Fs=0);for(var e=zi(),n=null,r=jg;r!==null;){var i=r.next,a=h4(r,e);a===0?(r.next=null,n===null?jg=i:n.next=i,i===null&&(Wl=n)):(n=r,(t!==0||a&3)&&(Og=!0)),r=i}Kh(t)}function h4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-$r(a),s=1<<o,c=i[o];c===-1?(!(s&n)||s&r)&&(i[o]=zU(s,e)):c<=e&&(t.expiredLanes|=s),a&=~s}if(e=bt,n=Ze,n=dy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(st===2||st===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&wb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||$h(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&wb(r),gA(n)){case 2:case 8:n=rM;break;case 32:n=cg;break;case 268435456:n=iM;break;default:n=cg}return r=p4.bind(null,t),n=pA(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&wb(r),t.callbackPriority=2,t.callbackNode=null,2}function p4(t,e){if(kn!==0&&kn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ay()&&t.callbackNode!==n)return null;var r=Ze;return r=dy(t,t===bt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(e4(t,r,e),h4(t,zi()),t.callbackNode!=null&&t.callbackNode===n?p4.bind(null,t):null)}function Qj(t,e){if(Ay())return null;e4(t,e,!0)}function v7(){j7(function(){lt&6?pA(nM,g7):f4()})}function ZA(){return Fs===0&&(Fs=aM()),Fs}function Zj(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rm(""+t)}function Jj(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function y7(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=Zj((i[yr]||null).action),o=r.submitter;o&&(e=(e=o[yr]||null)?Zj(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new fy("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Fs!==0){var c=o?Jj(i,o):new FormData(i);O1(n,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(s.preventDefault(),c=o?Jj(i,o):new FormData(i),O1(n,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var Qb=0;Qb<g1.length;Qb++){var Zb=g1[Qb],b7=Zb.toLowerCase(),x7=Zb[0].toUpperCase()+Zb.slice(1);Ci(b7,"on"+x7)}Ci(NM,"onAnimationEnd");Ci(CM,"onAnimationIteration");Ci(IM,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci($V,"onTransitionRun");Ci(LV,"onTransitionStart");Ci(BV,"onTransitionCancel");Ci(PM,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Df));function m4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(d){_g(d)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(d){_g(d)}i.currentTarget=null,a=c}}}}function ze(t,e){var n=e[c1];n===void 0&&(n=e[c1]=new Set);var r=t+"__bubble";n.has(r)||(g4(e,t,2,!1),n.add(r))}function Jb(t,e,n){var r=0;e&&(r|=4),g4(n,t,r,e)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function JA(t){if(!t[Jp]){t[Jp]=!0,uM.forEach(function(n){n!=="selectionchange"&&(_7.has(n)||Jb(n,!1,t),Jb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jp]||(e[Jp]=!0,Jb("selectionchange",!1,e))}}function g4(t,e,n,r){switch(O4(e)){case 2:var i=K7;break;case 8:i=X7;break;default:i=rS}n=i.bind(null,e,n,t),i=void 0,!h1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ex(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=ec(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){r=a=o;continue e}s=s.parentNode}}r=r.return}yM(function(){var u=a,d=bA(n),f=[];e:{var h=kM.get(t);if(h!==void 0){var m=fy,v=t;switch(t){case"keypress":if(Dm(n)===0)break e;case"keydown":case"keyup":m=mV;break;case"focusin":v="focus",m=Cb;break;case"focusout":v="blur",m=Cb;break;case"beforeblur":case"afterblur":m=Cb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yV;break;case NM:case CM:case IM:m=oV;break;case PM:m=xV;break;case"scroll":case"scrollend":m=tV;break;case"wheel":m=wV;break;case"copy":case"cut":case"paste":m=lV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lj;break;case"toggle":case"beforetoggle":m=SV}var y=(e&4)!==0,x=!y&&(t==="scroll"||t==="scrollend"),_=y?h!==null?h+"Capture":null:h;y=[];for(var b=u,g;b!==null;){var T=b;if(g=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||g===null||_===null||(T=Cf(b,_),T!=null&&y.push($f(b,T,g))),x)break;b=b.return}0<y.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==f1&&(v=n.relatedTarget||n.fromElement)&&(ec(v)||v[Ou]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?ec(v):null,v!==null&&(x=Mh(v),y=v.tag,v!==x||y!==5&&y!==27&&y!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=oj,T="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=lj,T="onPointerLeave",_="onPointerEnter",b="pointer"),x=m==null?h:Hd(m),g=v==null?h:Hd(v),h=new y(T,b+"leave",m,n,d),h.target=x,h.relatedTarget=g,T=null,ec(d)===u&&(y=new y(_,b+"enter",v,n,d),y.target=g,y.relatedTarget=x,T=y),x=T,m&&v)t:{for(y=m,_=v,b=0,g=y;g;g=Dl(g))b++;for(g=0,T=_;T;T=Dl(T))g++;for(;0<b-g;)y=Dl(y),b--;for(;0<g-b;)_=Dl(_),g--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=Dl(y),_=Dl(_)}y=null}else y=null;m!==null&&eO(f,h,m,y,!1),v!==null&&x!==null&&eO(f,x,v,y,!0)}}e:{if(h=u?Hd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=fj;else if(dj(h))if(SM)w=RV;else{w=PV;var j=IV}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&yA(u.elementType)&&(w=fj):w=kV;if(w&&(w=w(t,u))){AM(f,w,n,d);break e}j&&j(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&d1(h,"number",h.value)}switch(j=u?Hd(u):window,t){case"focusin":(dj(j)||j.contentEditable==="true")&&(rc=j,p1=u,tf=null);break;case"focusout":tf=p1=rc=null;break;case"mousedown":m1=!0;break;case"contextmenu":case"mouseup":case"dragend":m1=!1,vj(f,n,d);break;case"selectionchange":if(DV)break;case"keydown":case"keyup":vj(f,n,d)}var E;if(wA)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else nc?_M(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(xM&&n.locale!=="ko"&&(nc||A!=="onCompositionStart"?A==="onCompositionEnd"&&nc&&(E=bM()):(yo=d,xA="value"in yo?yo.value:yo.textContent,nc=!0)),j=Ng(u,A),0<j.length&&(A=new sj(A,t,null,n,d),f.push({event:A,listeners:j}),E?A.data=E:(E=wM(n),E!==null&&(A.data=E)))),(E=TV?jV(t,n):OV(t,n))&&(A=Ng(u,"onBeforeInput"),0<A.length&&(j=new sj("onBeforeInput","beforeinput",null,n,d),f.push({event:j,listeners:A}),j.data=E)),y7(f,t,u,n,d)}m4(f,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ng(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Cf(t,n),i!=null&&r.unshift($f(t,i,a)),i=Cf(t,e),i!=null&&r.push($f(t,i,a))),t.tag===3)return r;t=t.return}return[]}function Dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function eO(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||u===null||(c=u,i?(u=Cf(n,a),u!=null&&o.unshift($f(n,u,c))):i||(u=Cf(n,a),u!=null&&o.push($f(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var w7=/\r\n?/g,A7=/\u0000|\uFFFD/g;function tO(t){return(typeof t=="string"?t:""+t).replace(w7,`
`).replace(A7,"")}function v4(t,e){return e=tO(e),tO(t)===e}function Sy(){}function ut(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Rc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Rc(t,""+r);break;case"className":Gp(t,"class",r);break;case"tabIndex":Gp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Gp(t,n,r);break;case"style":vM(t,r,a);break;case"data":if(e!=="object"){Gp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Rm(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&ut(t,e,"name",i.name,i,null),ut(t,e,"formEncType",i.formEncType,i,null),ut(t,e,"formMethod",i.formMethod,i,null),ut(t,e,"formTarget",i.formTarget,i,null)):(ut(t,e,"encType",i.encType,i,null),ut(t,e,"method",i.method,i,null),ut(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Rm(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Sy);break;case"onScroll":r!=null&&ze("scroll",t);break;case"onScrollEnd":r!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ie(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ie(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Rm(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":ze("beforetoggle",t),ze("toggle",t),km(t,"popover",r);break;case"xlinkActuate":la(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":la(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":la(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":la(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":la(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":la(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":la(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":la(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":la(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":km(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=JU.get(n)||n,km(t,n,r))}}function U1(t,e,n,r,i,a){switch(n){case"style":vM(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ie(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ie(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Rc(t,r):(typeof r=="number"||typeof r=="bigint")&&Rc(t,""+r);break;case"onScroll":r!=null&&ze("scroll",t);break;case"onScrollEnd":r!=null&&ze("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Sy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[yr]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):km(t,n,r)}}}function Mn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,e));default:ut(t,e,a,o,n,null)}}i&&ut(t,e,"srcSet",n.srcSet,n,null),r&&ut(t,e,"src",n.src,n,null);return;case"input":ze("invalid",t);var s=a=o=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ie(137,e));break;default:ut(t,e,r,d,n,null)}}pM(t,a,s,c,u,o,i,!1),ug(t);return;case"select":ze("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:ut(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?vc(t,!!r,e,!1):n!=null&&vc(t,!!r,n,!0);return;case"textarea":ze("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(ie(91));break;default:ut(t,e,o,s,n,null)}gM(t,r,i,a),ug(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ut(t,e,c,r,n,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(r=0;r<Df.length;r++)ze(Df[r],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,e));default:ut(t,e,u,r,n,null)}return;default:if(yA(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&U1(t,e,d,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&ut(t,e,s,r,n,null))}function S7(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||ut(t,e,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ie(137,e));break;default:m!==f&&ut(t,e,h,m,r,f)}}u1(t,o,s,c,u,d,a,i);return;case"select":m=o=s=h=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||ut(t,e,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==c&&ut(t,e,i,a,r,c)}e=s,n=o,r=m,h!=null?vc(t,!!n,h,!1):!!r!=!!n&&(e!=null?vc(t,!!n,e,!0):vc(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ut(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ie(91));break;default:i!==a&&ut(t,e,o,i,r,a)}mM(t,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:ut(t,e,v,null,r,h)}for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ut(t,e,c,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&ut(t,e,y,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ie(137,e));break;default:ut(t,e,u,h,r,m)}return;default:if(yA(e)){for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!==void 0&&!r.hasOwnProperty(x)&&U1(t,e,x,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||U1(t,e,d,h,r,m);return}}for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!r.hasOwnProperty(_)&&ut(t,e,_,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||ut(t,e,f,h,r,m)}var V1=null,z1=null;function Cg(t){return t.nodeType===9?t:t.ownerDocument}function nO(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y4(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function F1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tx=null;function E7(){var t=window.event;return t&&t.type==="popstate"?t===tx?!1:(tx=t,!0):(tx=null,!1)}var b4=typeof setTimeout=="function"?setTimeout:void 0,T7=typeof clearTimeout=="function"?clearTimeout:void 0,rO=typeof Promise=="function"?Promise:void 0,j7=typeof queueMicrotask=="function"?queueMicrotask:typeof rO<"u"?function(t){return rO.resolve(null).then(t).catch(O7)}:b4;function O7(t){setTimeout(function(){throw t})}function Zo(t){return t==="head"}function iO(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var o=t.ownerDocument;if(n&1&&hf(o.documentElement),n&2&&hf(o.body),n&4)for(n=o.head,hf(n),o=n.firstChild;o;){var s=o.nextSibling,c=o.nodeName;o[Bh]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}if(i===0){t.removeChild(a),zf(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);zf(e)}function H1(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":H1(n),vA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function N7(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Bh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=wi(t.nextSibling),t===null)break}return null}function C7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=wi(t.nextSibling),t===null))return null;return t}function q1(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function I7(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var G1=null;function aO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function x4(t,e,n){switch(e=Cg(n),t){case"html":if(t=e.documentElement,!t)throw Error(ie(452));return t;case"head":if(t=e.head,!t)throw Error(ie(453));return t;case"body":if(t=e.body,!t)throw Error(ie(454));return t;default:throw Error(ie(451))}}function hf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);vA(t)}var ai=new Map,oO=new Set;function Ig(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ha=rt.d;rt.d={f:P7,r:k7,D:R7,C:M7,L:D7,m:$7,X:B7,S:L7,M:U7};function P7(){var t=Ha.f(),e=_y();return t||e}function k7(t){var e=Nu(t);e!==null&&e.tag===5&&e.type==="form"?hD(e):Ha.r(t)}var Pu=typeof document>"u"?null:document;function _4(t,e,n){var r=Pu;if(r&&typeof e=="string"&&e){var i=Qr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),oO.has(i)||(oO.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Mn(e,"link",t),xn(e),r.head.appendChild(e)))}}function R7(t){Ha.D(t),_4("dns-prefetch",t,null)}function M7(t,e){Ha.C(t,e),_4("preconnect",t,e)}function D7(t,e,n){Ha.L(t,e,n);var r=Pu;if(r&&t&&e){var i='link[rel="preload"][as="'+Qr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Qr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Qr(n.imageSizes)+'"]')):i+='[href="'+Qr(t)+'"]';var a=i;switch(e){case"style":a=zc(t);break;case"script":a=ku(t)}ai.has(a)||(t=Et({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ai.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Xh(a))||e==="script"&&r.querySelector(Yh(a))||(e=r.createElement("link"),Mn(e,"link",t),xn(e),r.head.appendChild(e)))}}function $7(t,e){Ha.m(t,e);var n=Pu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Qr(r)+'"][href="'+Qr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ku(t)}if(!ai.has(a)&&(t=Et({rel:"modulepreload",href:t},e),ai.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yh(a)))return}r=n.createElement("link"),Mn(r,"link",t),xn(r),n.head.appendChild(r)}}}function L7(t,e,n){Ha.S(t,e,n);var r=Pu;if(r&&t){var i=gc(r).hoistableStyles,a=zc(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Xh(a)))s.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ai.get(a))&&eS(t,n);var c=o=r.createElement("link");xn(c),Mn(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Fm(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function B7(t,e){Ha.X(t,e);var n=Pu;if(n&&t){var r=gc(n).hoistableScripts,i=ku(t),a=r.get(i);a||(a=n.querySelector(Yh(i)),a||(t=Et({src:t,async:!0},e),(e=ai.get(i))&&tS(t,e),a=n.createElement("script"),xn(a),Mn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function U7(t,e){Ha.M(t,e);var n=Pu;if(n&&t){var r=gc(n).hoistableScripts,i=ku(t),a=r.get(i);a||(a=n.querySelector(Yh(i)),a||(t=Et({src:t,async:!0,type:"module"},e),(e=ai.get(i))&&tS(t,e),a=n.createElement("script"),xn(a),Mn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function sO(t,e,n,r){var i=(i=So.current)?Ig(i):null;if(!i)throw Error(ie(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=zc(n.href),n=gc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=zc(n.href);var a=gc(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(Xh(t)))&&!a._p&&(o.instance=a,o.state.loading=5),ai.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ai.set(t,n),a||V7(i,t,n,o.state))),e&&r===null)throw Error(ie(528,""));return o}if(e&&r!==null)throw Error(ie(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ku(n),n=gc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ie(444,t))}}function zc(t){return'href="'+Qr(t)+'"'}function Xh(t){return'link[rel="stylesheet"]['+t+"]"}function w4(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function V7(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Mn(e,"link",n),xn(e),t.head.appendChild(e))}function ku(t){return'[src="'+Qr(t)+'"]'}function Yh(t){return"script[async]"+t}function lO(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Qr(n.href)+'"]');if(r)return e.instance=r,xn(r),r;var i=Et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xn(r),Mn(r,"style",i),Fm(r,n.precedence,t),e.instance=r;case"stylesheet":i=zc(n.href);var a=t.querySelector(Xh(i));if(a)return e.state.loading|=4,e.instance=a,xn(a),a;r=w4(n),(i=ai.get(i))&&eS(r,i),a=(t.ownerDocument||t).createElement("link"),xn(a);var o=a;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mn(a,"link",r),e.state.loading|=4,Fm(a,n.precedence,t),e.instance=a;case"script":return a=ku(n.src),(i=t.querySelector(Yh(a)))?(e.instance=i,xn(i),i):(r=n,(i=ai.get(a))&&(r=Et({},n),tS(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),xn(i),Mn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ie(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Fm(r,n.precedence,t));return e.instance}function Fm(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function eS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function tS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Hm=null;function cO(t,e,n){if(Hm===null){var r=new Map,i=Hm=new Map;i.set(n,r)}else i=Hm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Bh]||a[Wn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function uO(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function z7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function A4(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Lf=null;function F7(){}function H7(t,e,n){if(Lf===null)throw Error(ie(475));var r=Lf;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=zc(n.href),a=t.querySelector(Xh(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Pg.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,xn(a);return}a=t.ownerDocument||t,n=w4(n),(i=ai.get(i))&&eS(n,i),a=a.createElement("link"),xn(a);var o=a;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mn(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Pg.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function q7(){if(Lf===null)throw Error(ie(475));var t=Lf;return t.stylesheets&&t.count===0&&W1(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&W1(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Pg(){if(this.count--,this.count===0){if(this.stylesheets)W1(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kg=null;function W1(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kg=new Map,e.forEach(G7,t),kg=null,Pg.call(t))}function G7(t,e){if(!(e.state.loading&4)){var n=kg.get(t);if(n)var r=n.get(null);else{n=new Map,kg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Pg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Bf={$$typeof:ma,Provider:null,Consumer:null,_currentValue:$s,_currentValue2:$s,_threadCount:0};function W7(t,e,n,r,i,a,o,s){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ab(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ab(0),this.hiddenUpdates=Ab(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function S4(t,e,n,r,i,a,o,s,c,u,d,f){return t=new W7(t,e,n,o,s,c,u,f),e=1,a===!0&&(e|=24),a=Cr(3,null,null,e),t.current=a,a.stateNode=t,e=NA(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},IA(a),t}function E4(t){return t?(t=oc,t):oc}function T4(t,e,n,r,i,a){i=E4(i),r.context===null?r.context=i:r.pendingContext=i,r=Eo(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=To(t,r,e),n!==null&&(Br(n,t,e),af(n,t,e))}function dO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nS(t,e){dO(t,e),(t=t.alternate)&&dO(t,e)}function j4(t){if(t.tag===13){var e=Cu(t,67108864);e!==null&&Br(e,t,67108864),nS(t,67108864)}}var Rg=!0;function K7(t,e,n,r){var i=Ie.T;Ie.T=null;var a=rt.p;try{rt.p=2,rS(t,e,n,r)}finally{rt.p=a,Ie.T=i}}function X7(t,e,n,r){var i=Ie.T;Ie.T=null;var a=rt.p;try{rt.p=8,rS(t,e,n,r)}finally{rt.p=a,Ie.T=i}}function rS(t,e,n,r){if(Rg){var i=K1(r);if(i===null)ex(t,e,r,Mg,n),fO(t,r);else if(Q7(i,t,e,n,r))r.stopPropagation();else if(fO(t,r),e&4&&-1<Y7.indexOf(t)){for(;i!==null;){var a=Nu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=_s(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-$r(o);s.entanglements[1]|=c,o&=~c}ta(a),!(lt&6)&&(Eg=zi()+500,Kh(0))}}break;case 13:s=Cu(a,2),s!==null&&Br(s,a,2),_y(),nS(a,2)}if(a=K1(r),a===null&&ex(t,e,r,Mg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ex(t,e,r,null,n)}}function K1(t){return t=bA(t),iS(t)}var Mg=null;function iS(t){if(Mg=null,t=ec(t),t!==null){var e=Mh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ZR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Mg=t,null}function O4(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(MU()){case nM:return 2;case rM:return 8;case cg:case DU:return 32;case iM:return 268435456;default:return 32}default:return 32}}var X1=!1,No=null,Co=null,Io=null,Uf=new Map,Vf=new Map,uo=[],Y7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fO(t,e){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Uf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(e.pointerId)}}function Sd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Nu(e),e!==null&&j4(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Q7(t,e,n,r,i){switch(e){case"focusin":return No=Sd(No,t,e,n,r,i),!0;case"dragenter":return Co=Sd(Co,t,e,n,r,i),!0;case"mouseover":return Io=Sd(Io,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Uf.set(a,Sd(Uf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vf.set(a,Sd(Vf.get(a)||null,t,e,n,r,i)),!0}return!1}function N4(t){var e=ec(t.target);if(e!==null){var n=Mh(e);if(n!==null){if(e=n.tag,e===13){if(e=ZR(n),e!==null){t.blockedOn=e,HU(t.priority,function(){if(n.tag===13){var r=Lr();r=mA(r);var i=Cu(n,r);i!==null&&Br(i,n,r),nS(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=K1(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);f1=r,n.target.dispatchEvent(r),f1=null}else return e=Nu(n),e!==null&&j4(e),t.blockedOn=n,!1;e.shift()}return!0}function hO(t,e,n){qm(t)&&n.delete(e)}function Z7(){X1=!1,No!==null&&qm(No)&&(No=null),Co!==null&&qm(Co)&&(Co=null),Io!==null&&qm(Io)&&(Io=null),Uf.forEach(hO),Vf.forEach(hO)}function em(t,e){t.blockedOn===e&&(t.blockedOn=null,X1||(X1=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,Z7)))}var tm=null;function pO(t){tm!==t&&(tm=t,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,function(){tm===t&&(tm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(iS(r||n)===null)continue;break}var a=Nu(n);a!==null&&(t.splice(e,3),e-=3,O1(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function zf(t){function e(c){return em(c,t)}No!==null&&em(No,t),Co!==null&&em(Co,t),Io!==null&&em(Io,t),Uf.forEach(e),Vf.forEach(e);for(var n=0;n<uo.length;n++){var r=uo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<uo.length&&(n=uo[0],n.blockedOn===null);)N4(n),n.blockedOn===null&&uo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[yr]||null;if(typeof a=="function")o||pO(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[yr]||null)s=o.formAction;else if(iS(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),pO(n)}}}function aS(t){this._internalRoot=t}Ey.prototype.render=aS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));var n=e.current,r=Lr();T4(n,r,t,e,null,null)};Ey.prototype.unmount=aS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;T4(t.current,2,null,t,null,null),_y(),e[Ou]=null}};function Ey(t){this._internalRoot=t}Ey.prototype.unstable_scheduleHydration=function(t){if(t){var e=cM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<uo.length&&e!==0&&e<uo[n].priority;n++);uo.splice(n,0,t),n===0&&N4(t)}};var mO=YR.version;if(mO!=="19.1.0")throw Error(ie(527,mO,"19.1.0"));rt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=OU(e),t=t!==null?JR(t):null,t=t===null?null:t.stateNode,t};var J7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{Dh=nm.inject(J7),Dr=nm}catch{}}cy.createRoot=function(t,e){if(!QR(t))throw Error(ie(299));var n=!1,r="",i=SD,a=ED,o=TD,s=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(s=e.unstable_transitionCallbacks)),e=S4(t,1,!1,null,null,n,r,i,a,o,s,null),t[Ou]=e.current,JA(t),new aS(e)};cy.hydrateRoot=function(t,e,n){if(!QR(t))throw Error(ie(299));var r=!1,i="",a=SD,o=ED,s=TD,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=S4(t,1,!0,e,n??null,r,i,a,o,s,c,u),e.context=E4(null),n=e.current,r=Lr(),r=mA(r),i=Eo(r),i.callback=null,To(n,i,r),n=r,e.current.lanes=n,Lh(e,n),ta(e),t[Ou]=e.current,JA(t),new Ey(e)};cy.version="19.1.0";function C4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C4)}catch(t){console.error(t)}}C4(),HR.exports=cy;var ez=HR.exports,oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.parse=sz;oS.serialize=lz;const tz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,nz=/^[\u0021-\u003A\u003C-\u007E]*$/,rz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,iz=/^[\u0020-\u003A\u003D-\u007E]*$/,az=Object.prototype.toString,oz=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function sz(t,e){const n=new oz,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||cz;let a=0;do{const o=t.indexOf("=",a);if(o===-1)break;const s=t.indexOf(";",a),c=s===-1?r:s;if(o>c){a=t.lastIndexOf(";",o-1)+1;continue}const u=gO(t,a,o),d=vO(t,o,u),f=t.slice(u,d);if(n[f]===void 0){let h=gO(t,o+1,c),m=vO(t,c,h);const v=i(t.slice(h,m));n[f]=v}a=c+1}while(a<r);return n}function gO(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function vO(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function lz(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!tz.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!nz.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!rz.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!iz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!uz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function cz(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function uz(t){return az.call(t)==="[object Date]"}var yO="popstate";function dz(t={}){function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return Y1("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ff(i)}return hz(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fz(){return Math.random().toString(36).substring(2,10)}function bO(t,e){return{usr:t.state,key:t.key,idx:e}}function Y1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ru(e):e,state:n,key:e&&e.key||r||fz()}}function Ff({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ru(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){s="POP";let x=d(),_=x==null?null:x-u;u=x,c&&c({action:s,location:y.location,delta:_})}function h(x,_){s="PUSH";let b=Y1(y.location,x,_);u=d()+1;let g=bO(b,u),T=y.createHref(b);try{o.pushState(g,"",T)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(T)}a&&c&&c({action:s,location:y.location,delta:1})}function m(x,_){s="REPLACE";let b=Y1(y.location,x,_);u=d();let g=bO(b,u),T=y.createHref(b);o.replaceState(g,"",T),a&&c&&c({action:s,location:y.location,delta:0})}function v(x){return pz(x)}let y={get action(){return s},get location(){return t(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yO,f),c=x,()=>{i.removeEventListener(yO,f),c=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(x){return o.go(x)}};return y}function pz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ff(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I4(t,e,n="/"){return mz(t,e,n,!1)}function mz(t,e,n,r){let i=typeof e=="string"?Ru(e):e,a=Da(i.pathname||"/",n);if(a==null)return null;let o=P4(t);gz(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=jz(a);s=Ez(o[c],u,r)}return s}function P4(t,e=[],n=[],r=""){let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=ja([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),P4(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Az(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of k4(a.path))i(a,o,c)}),e}function k4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=k4(r.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function gz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Sz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vz=/^:[\w-]+$/,yz=3,bz=2,xz=1,_z=10,wz=-2,xO=t=>t==="*";function Az(t,e){let n=t.split("/"),r=n.length;return n.some(xO)&&(r+=wz),e&&(r+=bz),n.filter(i=>!xO(i)).reduce((i,a)=>i+(vz.test(a)?yz:a===""?xz:_z),r)}function Sz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ez(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=Dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Dg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ja([a,f.pathname]),pathnameBase:Iz(ja([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ja([a,f.pathnameBase]))}return o}function Dg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=s[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Tz(t,e=!1,n=!0){Yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Oz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ru(t):t;return{pathname:n?n.startsWith("/")?n:Nz(n,e):e,search:Pz(r),hash:kz(i)}}function Nz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R4(t){let e=Cz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function M4(t,e,n,r=!1){let i;typeof t=="string"?i=Ru(t):(i={...t},Dt(!i.pathname||!i.pathname.includes("?"),nx("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),nx("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),nx("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let c=Oz(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ja=t=>t.join("/").replace(/\/\/+/g,"/"),Iz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var D4=["POST","PUT","PATCH","DELETE"];new Set(D4);var Mz=["GET",...D4];new Set(Mz);var Mu=k.createContext(null);Mu.displayName="DataRouter";var Ty=k.createContext(null);Ty.displayName="DataRouterState";var $4=k.createContext({isTransitioning:!1});$4.displayName="ViewTransition";var Dz=k.createContext(new Map);Dz.displayName="Fetchers";var $z=k.createContext(null);$z.displayName="Await";var na=k.createContext(null);na.displayName="Navigation";var Qh=k.createContext(null);Qh.displayName="Location";var qa=k.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var sS=k.createContext(null);sS.displayName="RouteError";function Lz(t,{relative:e}={}){Dt(Zh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(na),{hash:i,pathname:a,search:o}=Jh(t,{relative:e}),s=a;return n!=="/"&&(s=a==="/"?n:ja([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Zh(){return k.useContext(Qh)!=null}function vl(){return Dt(Zh(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Qh).location}var L4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B4(t){k.useContext(na).static||k.useLayoutEffect(t)}function Bz(){let{isDataRoute:t}=k.useContext(qa);return t?Zz():Uz()}function Uz(){Dt(Zh(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Mu),{basename:e,navigator:n}=k.useContext(na),{matches:r}=k.useContext(qa),{pathname:i}=vl(),a=JSON.stringify(R4(r)),o=k.useRef(!1);return B4(()=>{o.current=!0}),k.useCallback((c,u={})=>{if(Yi(o.current,L4),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=M4(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ja([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}k.createContext(null);function Jh(t,{relative:e}={}){let{matches:n}=k.useContext(qa),{pathname:r}=vl(),i=JSON.stringify(R4(n));return k.useMemo(()=>M4(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Vz(t,e){return U4(t,e)}function U4(t,e,n,r){var _;Dt(Zh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(na),{matches:a}=k.useContext(qa),o=a[a.length-1],s=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let b=d&&d.path||"";V4(c,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=vl(),h;if(e){let b=typeof e=="string"?Ru(e):e;Dt(u==="/"||((_=b.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),h=b}else h=f;let m=h.pathname||"/",v=m;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=I4(t,{pathname:v});Yi(d||y!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Yi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Gz(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:ja([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:ja([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&x?k.createElement(Qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function zz(){let t=Qz(),e=Rz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,o)}var Fz=k.createElement(zz,null),Hz=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(qa.Provider,{value:this.props.routeContext},k.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qz({routeContext:t,match:e,children:n}){let r=k.useContext(Mu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(qa.Provider,{value:t},n)}function Gz(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Dt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,s=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,h=!1,m=null,v=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||Fz,o&&(s<0&&d===0?(V4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):s===d&&(h=!0,v=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,d+1)),x=()=>{let _;return f?_=m:h?_=v:u.route.Component?_=k.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,k.createElement(qz,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?k.createElement(Hz,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}function lS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wz(t){let e=k.useContext(Mu);return Dt(e,lS(t)),e}function Kz(t){let e=k.useContext(Ty);return Dt(e,lS(t)),e}function Xz(t){let e=k.useContext(qa);return Dt(e,lS(t)),e}function cS(t){let e=Xz(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Yz(){return cS("useRouteId")}function Qz(){var r;let t=k.useContext(sS),e=Kz("useRouteError"),n=cS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Zz(){let{router:t}=Wz("useNavigate"),e=cS("useNavigate"),n=k.useRef(!1);return B4(()=>{n.current=!0}),k.useCallback(async(i,a={})=>{Yi(n.current,L4),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var _O={};function V4(t,e,n){!e&&!_O[t]&&(_O[t]=!0,Yi(!1,n))}k.memo(Jz);function Jz({routes:t,future:e,state:n}){return U4(t,void 0,n,e)}function z4(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Dt(!Zh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=k.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Ru(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,m=k.useMemo(()=>{let v=Da(c,o);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:r}},[o,c,u,d,f,h,r]);return Yi(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:k.createElement(na.Provider,{value:s},k.createElement(Qh.Provider,{children:e,value:m}))}function tF({children:t,location:e}){return Vz(Q1(t),e)}function Q1(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let a=[...e,i];if(r.type===k.Fragment){n.push.apply(n,Q1(r.props.children,a));return}Dt(r.type===z4,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Q1(r.props.children,a)),n.push(o)}),n}var Gm="get",Wm="application/x-www-form-urlencoded";function jy(t){return t!=null&&typeof t.tagName=="string"}function nF(t){return jy(t)&&t.tagName.toLowerCase()==="button"}function rF(t){return jy(t)&&t.tagName.toLowerCase()==="form"}function iF(t){return jy(t)&&t.tagName.toLowerCase()==="input"}function aF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oF(t,e){return t.button===0&&(!e||e==="_self")&&!aF(t)}var rm=null;function sF(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var lF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rx(t){return t!=null&&!lF.has(t)?(Yi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wm}"`),null):t}function cF(t,e){let n,r,i,a,o;if(rF(t)){let s=t.getAttribute("action");r=s?Da(s,e):null,n=t.getAttribute("method")||Gm,i=rx(t.getAttribute("enctype"))||Wm,a=new FormData(t)}else if(nF(t)||iF(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||s.getAttribute("action");if(r=c?Da(c,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Gm,i=rx(t.getAttribute("formenctype"))||rx(s.getAttribute("enctype"))||Wm,a=new FormData(s,t),!sF()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(jy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gm,r=null,i=Wm,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function uS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await uF(a,n);return o.links?o.links():[]}return[]}));return gF(r.flat(1).filter(dF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wO(t,e,n,r,i,a){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,s=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>o(c,u)||s(c,u)):a==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||s(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function hF(t,e,{includeHydrateFallback:n}={}){return pF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function pF(t){return[...new Set(t)]}function mF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(mF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vF=new Set([100,101,204,205]);function yF(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Da(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function F4(){let t=k.useContext(Mu);return uS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bF(){let t=k.useContext(Ty);return uS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var dS=k.createContext(void 0);dS.displayName="FrameworkContext";function H4(){let t=k.useContext(dS);return uS(t,"You must render this element inside a <HydratedRouter> element"),t}function xF(t,e){let n=k.useContext(dS),[r,i]=k.useState(!1),[a,o]=k.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=_=>{_.forEach(b=>{o(b.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),k.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Ed(s,m),onBlur:Ed(c,v),onMouseEnter:Ed(u,m),onMouseLeave:Ed(d,v),onTouchStart:Ed(f,m)}]:[!1,h,{}]}function Ed(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _F({page:t,...e}){let{router:n}=F4(),r=k.useMemo(()=>I4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(AF,{page:t,matches:r,...e}):null}function wF(t){let{manifest:e,routeModules:n}=H4(),[r,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return fF(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function AF({page:t,matches:e,...n}){let r=vl(),{manifest:i,routeModules:a}=H4(),{basename:o}=F4(),{loaderData:s,matches:c}=bF(),u=k.useMemo(()=>wO(t,e,c,i,r,"data"),[t,e,c,i,r]),d=k.useMemo(()=>wO(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,y=!1;if(e.forEach(_=>{var g;let b=i.routes[_.route.id];!b||!b.hasLoader||(!u.some(T=>T.route.id===_.route.id)&&_.route.id in s&&((g=a[_.route.id])!=null&&g.shouldRevalidate)||b.hasClientLoader?y=!0:v.add(_.route.id))}),v.size===0)return[];let x=yF(t,o);return y&&v.size>0&&x.searchParams.set("_routes",e.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[x.pathname+x.search]},[o,s,r,i,u,e,t,a]),h=k.useMemo(()=>hF(d,i),[d,i]),m=wF(d);return k.createElement(k.Fragment,null,f.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:y})=>k.createElement("link",{key:v,...y})))}function SF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var q4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q4&&(window.__reactRouterVersion="7.6.2")}catch{}function EF({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=dz({window:n,v5Compat:!0}));let i=r.current,[a,o]=k.useState({action:i.action,location:i.location}),s=k.useCallback(c=>{k.startTransition(()=>o(c))},[o]);return k.useLayoutEffect(()=>i.listen(s),[i,s]),k.createElement(eF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W4=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:v}=k.useContext(na),y=typeof u=="string"&&G4.test(u),x,_=!1;if(typeof u=="string"&&y&&(x=u,q4))try{let O=new URL(window.location.href),I=u.startsWith("//")?new URL(O.protocol+u):new URL(u),C=Da(I.pathname,v);I.origin===O.origin&&C!=null?u=C+I.search+I.hash:_=!0}catch{Yi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Lz(u,{relative:i}),[g,T,w]=xF(r,h),j=NF(u,{replace:o,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:f});function E(O){e&&e(O),O.defaultPrevented||j(O)}let A=k.createElement("a",{...h,...w,href:x||b,onClick:_||a?e:E,ref:SF(m,T),target:c,"data-discover":!y&&n==="render"?"true":void 0});return g&&!y?k.createElement(k.Fragment,null,A,k.createElement(_F,{page:b})):A});W4.displayName="Link";var TF=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:c,...u},d){let f=Jh(o,{relative:u.relative}),h=vl(),m=k.useContext(Ty),{navigator:v,basename:y}=k.useContext(na),x=m!=null&&RF(f)&&s===!0,_=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,b=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(b=b.toLowerCase(),g=g?g.toLowerCase():null,_=_.toLowerCase()),g&&y&&(g=Da(g,y)||g);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let w=b===_||!i&&b.startsWith(_)&&b.charAt(T)==="/",j=g!=null&&(g===_||!i&&g.startsWith(_)&&g.charAt(_.length)==="/"),E={isActive:w,isPending:j,isTransitioning:x},A=w?e:void 0,O;typeof r=="function"?O=r(E):O=[r,w?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(E):a;return k.createElement(W4,{...u,"aria-current":A,className:O,ref:d,style:I,to:o,viewTransition:s},typeof c=="function"?c(E):c)});TF.displayName="NavLink";var jF=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Gm,action:s,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let v=PF(),y=kF(s,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",_=typeof s=="string"&&G4.test(s),b=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let T=g.nativeEvent.submitter,w=(T==null?void 0:T.getAttribute("formmethod"))||o;v(T||g.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return k.createElement("form",{ref:m,method:x,action:y,onSubmit:r?c:b,...h,"data-discover":!_&&t==="render"?"true":void 0})});jF.displayName="Form";function OF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K4(t){let e=k.useContext(Mu);return Dt(e,OF(t)),e}function NF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Bz(),c=vl(),u=Jh(t,{relative:a});return k.useCallback(d=>{if(oF(d,e)){d.preventDefault();let f=n!==void 0?n:Ff(c)===Ff(u);s(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,s,u,n,r,e,t,i,a,o])}var CF=0,IF=()=>`__${String(++CF)}__`;function PF(){let{router:t}=K4("useSubmit"),{basename:e}=k.useContext(na),n=Yz();return k.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:c,body:u}=cF(r,e);if(i.navigate===!1){let d=i.fetcherKey||IF();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function kF(t,{relative:e}={}){let{basename:n}=k.useContext(na),r=k.useContext(qa);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Jh(t||".",{relative:e})},o=vl();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),c=s.getAll("index");if(c.some(d=>d==="")){s.delete("index"),c.filter(f=>f).forEach(f=>s.append("index",f));let d=s.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ja([n,a.pathname])),Ff(a)}function RF(t,e={}){let n=k.useContext($4);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=K4("useViewTransitionState"),i=Jh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Da(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Da(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dg(i.pathname,o)!=null||Dg(i.pathname,a)!=null}[...vF];const MF=()=>{};var AO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Y4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new $F;const h=a<<2|s>>4;if(r.push(h),u!==64){const m=s<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LF=function(t){const e=X4(t);return Y4.encodeByteArray(e,!0)},$g=function(t){return LF(t).replace(/\./g,"")},Q4=function(t){try{return Y4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=()=>BF().__FIREBASE_DEFAULTS__,VF=()=>{if(typeof process>"u"||typeof AO>"u")return;const t=AO.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q4(t[1]);return e&&JSON.parse(e)},Oy=()=>{try{return MF()||UF()||VF()||zF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z4=t=>{var e,n;return(n=(e=Oy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},J4=t=>{const e=Z4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},e$=()=>{var t;return(t=Oy())===null||t===void 0?void 0:t.config},t$=t=>{var e;return(e=Oy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){return t.endsWith(".cloudworkstations.dev")}async function fS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$g(JSON.stringify(n)),$g(JSON.stringify(o)),""].join(".")}const pf={};function HF(){const t={prod:[],emulator:[]};for(const e of Object.keys(pf))pf[e]?t.emulator.push(e):t.prod.push(e);return t}function qF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SO=!1;function hS(t,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||pf[t]===e||pf[t]||SO)return;pf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=HF().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{SO=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=qF(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const g=h.element;s(g),d(x,y);const T=u();c(b,_),g.append(b,v,x,T),document.body.appendChild(g)}a?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function WF(){var t;const e=(t=Oy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YF(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QF(){return!WF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i$(){try{return typeof indexedDB=="object"}catch{return!1}}function a$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function ZF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JF,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?eH(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new li(i,s,r)}}function eH(t,e){return t.replace(tH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tH=/\{\$([^}]+)}/g;function nH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(EO(a)&&EO(o)){if(!Vo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EO(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rH(t,e){const n=new iH(t,e);return n.subscribe.bind(n)}class iH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ix),i.error===void 0&&(i.error=ix),i.complete===void 0&&(i.complete=ix);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ix(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=1e3,sH=2,lH=4*60*60*1e3,cH=.5;function TO(t,e=oH,n=sH){const r=e*Math.pow(n,t),i=Math.round(cH*r*(Math.random()-.5)*2);return Math.min(lH,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fH(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dH(t){return t===Ss?void 0:t}function fH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const pH={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},mH=qe.INFO,gH={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},vH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ny{constructor(e){this.name=e,this._logLevel=mH,this._logHandler=vH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const yH=(t,e)=>e.some(n=>t instanceof n);let jO,OO;function bH(){return jO||(jO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xH(){return OO||(OO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o$=new WeakMap,Z1=new WeakMap,s$=new WeakMap,ax=new WeakMap,pS=new WeakMap;function _H(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&o$.set(n,t)}).catch(()=>{}),pS.set(e,t),e}function wH(t){if(Z1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Z1.set(t,e)}let J1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Z1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AH(t){J1=t(J1)}function SH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ox(this),e,...n);return s$.set(r,e.sort?e.sort():[e]),Po(r)}:xH().includes(t)?function(...e){return t.apply(ox(this),e),Po(o$.get(this))}:function(...e){return Po(t.apply(ox(this),e))}}function EH(t){return typeof t=="function"?SH(t):(t instanceof IDBTransaction&&wH(t),yH(t,bH())?new Proxy(t,J1):t)}function Po(t){if(t instanceof IDBRequest)return _H(t);if(ax.has(t))return ax.get(t);const e=EH(t);return e!==t&&(ax.set(t,e),pS.set(e,t)),e}const ox=t=>pS.get(t);function l$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Po(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Po(o.result),c.oldVersion,c.newVersion,Po(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const TH=["get","getKey","getAll","getAllKeys","count"],jH=["put","add","delete","clear"],sx=new Map;function NO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sx.get(e))return sx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TH.includes(n)))return;const a=async function(o,...s){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&c.done]))[0]};return sx.set(e,a),a}AH(t=>({...t,get:(e,n,r)=>NO(e,n)||t.get(e,n,r),has:(e,n)=>!!NO(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e_="@firebase/app",CO="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Ny("@firebase/app"),CH="@firebase/app-compat",IH="@firebase/analytics-compat",PH="@firebase/analytics",kH="@firebase/app-check-compat",RH="@firebase/app-check",MH="@firebase/auth",DH="@firebase/auth-compat",$H="@firebase/database",LH="@firebase/data-connect",BH="@firebase/database-compat",UH="@firebase/functions",VH="@firebase/functions-compat",zH="@firebase/installations",FH="@firebase/installations-compat",HH="@firebase/messaging",qH="@firebase/messaging-compat",GH="@firebase/performance",WH="@firebase/performance-compat",KH="@firebase/remote-config",XH="@firebase/remote-config-compat",YH="@firebase/storage",QH="@firebase/storage-compat",ZH="@firebase/firestore",JH="@firebase/ai",eq="@firebase/firestore-compat",tq="firebase",nq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="[DEFAULT]",rq={[e_]:"fire-core",[CH]:"fire-core-compat",[PH]:"fire-analytics",[IH]:"fire-analytics-compat",[RH]:"fire-app-check",[kH]:"fire-app-check-compat",[MH]:"fire-auth",[DH]:"fire-auth-compat",[$H]:"fire-rtdb",[LH]:"fire-data-connect",[BH]:"fire-rtdb-compat",[UH]:"fire-fn",[VH]:"fire-fn-compat",[zH]:"fire-iid",[FH]:"fire-iid-compat",[HH]:"fire-fcm",[qH]:"fire-fcm-compat",[GH]:"fire-perf",[WH]:"fire-perf-compat",[KH]:"fire-rc",[XH]:"fire-rc-compat",[YH]:"fire-gcs",[QH]:"fire-gcs-compat",[ZH]:"fire-fst",[eq]:"fire-fst-compat",[JH]:"fire-vertex","fire-js":"fire-js",[tq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new Map,iq=new Map,n_=new Map;function IO(t,e){try{t.container.addComponent(e)}catch(n){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(n_.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;n_.set(e,t);for(const n of Lg.values())IO(n,t);for(const n of iq.values())IO(n,t);return!0}function es(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new yl("app","Firebase",aq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=nq;function c$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:t_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(n||(n=e$()),!n)throw ko.create("no-options");const a=Lg.get(i);if(a){if(Vo(n,a.options)&&Vo(r,a.config))return a;throw ko.create("duplicate-app",{appName:i})}const o=new hH(i);for(const c of n_.values())o.addComponent(c);const s=new oq(n,r,o);return Lg.set(i,s),s}function Cy(t=t_){const e=Lg.get(t);if(!e&&t===t_&&e$())return c$();if(!e)throw ko.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let i=(r=rq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(s.join(" "));return}Ti(new oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="firebase-heartbeat-database",lq=1,Hf="firebase-heartbeat-store";let lx=null;function u$(){return lx||(lx=l$(sq,lq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ko.create("idb-open",{originalErrorMessage:t.message})})),lx}async function cq(t){try{const n=(await u$()).transaction(Hf),r=await n.objectStore(Hf).get(d$(t));return await n.done,r}catch(e){if(e instanceof li)$a.warn(e.message);else{const n=ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$a.warn(n.message)}}}async function PO(t,e){try{const r=(await u$()).transaction(Hf,"readwrite");await r.objectStore(Hf).put(e,d$(t)),await r.done}catch(n){if(n instanceof li)$a.warn(n.message);else{const r=ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$a.warn(r.message)}}}function d$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=1024,dq=30;class fq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dq){const o=mq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kO(),{heartbeatsToSend:r,unsentEntries:i}=hq(this._heartbeatsCache.heartbeats),a=$g(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return $a.warn(n),""}}}function kO(){return new Date().toISOString().substring(0,10)}function hq(t,e=uq){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),RO(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i$()?a$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function RO(t){return $g(JSON.stringify({version:2,heartbeats:t})).length}function mq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){Ti(new oi("platform-logger",e=>new OH(e),"PRIVATE")),Ti(new oi("heartbeat",e=>new fq(e),"PRIVATE")),gr(e_,CO,t),gr(e_,CO,"esm2017"),gr("fire-js","")}gq("");function mS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function f$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vq=f$,h$=new yl("auth","Firebase",f$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new Ny("@firebase/auth");function yq(t,...e){Bg.logLevel<=qe.WARN&&Bg.warn(`Auth (${bl}): ${t}`,...e)}function Km(t,...e){Bg.logLevel<=qe.ERROR&&Bg.error(`Auth (${bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,...e){throw vS(t,...e)}function Ai(t,...e){return vS(t,...e)}function gS(t,e,n){const r=Object.assign(Object.assign({},vq()),{[e]:n});return new yl("auth","Firebase",r).create(e,{appName:t.name})}function Hs(t){return gS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qi(t,"argument-error"),gS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h$.create(t,...e)}function Pe(t,e,...n){if(!t)throw vS(e,...n)}function xa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Km(e),new Error(e)}function La(t,e){t||xa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xq(){return MO()==="http:"||MO()==="https:"}function MO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xq()||r$()||"connection"in navigator)?navigator.onLine:!0}function wq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.shortDelay=e,this.longDelay=n,La(n>e,"Short delay should be less than long delay!"),this.isMobile=GF()||XF()}get(){return _q()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e){La(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Eq=new tp(3e4,6e4);function bS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Du(t,e,n,r,i={}){return m$(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=ep(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return KF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(u.credentials="include"),p$.fetch()(await g$(t,t.config.apiHost,n,s),u)})}async function m$(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Aq),e);try{const i=new jq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw im(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[c,u]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw im(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw im(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw im(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gS(t,d,u);Qi(t,d)}}catch(i){if(i instanceof li)throw i;Qi(t,"network-request-failed",{message:String(i)})}}async function Tq(t,e,n,r,i={}){const a=await Du(t,e,n,r,i);return"mfaPendingCredential"in a&&Qi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function g$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?yS(t.config,i):`${t.config.apiScheme}://${i}`;return Sq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class jq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),Eq.get())})}}function im(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ai(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){return Du(t,"POST","/v1/accounts:delete",e)}async function Ug(t,e){return Du(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nq(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=xS(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:mf(cx(i.auth_time)),issuedAtTime:mf(cx(i.iat)),expirationTime:mf(cx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cx(t){return Number(t)*1e3}function xS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Km("JWT malformed, contained fewer than 3 sections"),null;try{const i=Q4(n);return i?JSON.parse(i):(Km("Failed to decode base64 JWT payload"),null)}catch(i){return Km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DO(t){const e=xS(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&Cq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mf(this.lastLoginAt),this.creationTime=mf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qf(t,Ug(n,{idToken:r}));Pe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?v$(a.providerUserInfo):[],s=kq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new i_(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Pq(t){const e=kt(t);await Vg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v$(t){return t.map(e=>{var{providerId:n}=e,r=mS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){const n=await m$(t,{},async()=>{const r=ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await g$(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:s,body:r};return t.emulatorConfig&&Jo(t.emulatorConfig.host)&&(c.credentials="include"),p$.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Mq(t,e){return Du(t,"POST","/v2/accounts:revokeToken",bS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=DO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Rq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Sc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return xa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _i{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=mS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new i_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await qf(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nq(this,e)}reload(){return Pq(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await qf(this,Oq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:g,emailVerified:T,isAnonymous:w,providerData:j,stsTokenManager:E}=n;Pe(g&&E,e,"internal-error");const A=Sc.fromJSON(this.name,E);Pe(typeof g=="string",e,"internal-error"),to(f,e.name),to(h,e.name),Pe(typeof T=="boolean",e,"internal-error"),Pe(typeof w=="boolean",e,"internal-error"),to(m,e.name),to(v,e.name),to(y,e.name),to(x,e.name),to(_,e.name),to(b,e.name);const O=new _i({uid:g,auth:e,email:h,emailVerified:T,displayName:f,isAnonymous:w,photoURL:v,phoneNumber:m,tenantId:y,stsTokenManager:A,createdAt:_,lastLoginAt:b});return j&&Array.isArray(j)&&(O.providerData=j.map(I=>Object.assign({},I))),x&&(O._redirectEventId=x),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sc;i.updateFromServerResponse(n);const a=new _i({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?v$(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Sc;s.updateFromIdToken(r);const c=new _i({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new i_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new Map;function _a(t){La(t instanceof Function,"Expected a class definition");let e=$O.get(t);return e?(La(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$O.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y$.type="NONE";const LO=y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ug(this.auth,{idToken:e}).catch(()=>{});return n?_i._fromGetAccountInfoResponse(this.auth,n,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ec(_a(LO),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||_a(LO);const o=Xm(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Ug(e,{idToken:d}).catch(()=>{});if(!h)break;f=await _i._fromGetAccountInfoResponse(e,h,d)}else f=_i._fromJSON(e,d);u!==a&&(s=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ec(a,e,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Ec(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S$(e))return"Blackberry";if(E$(e))return"Webos";if(x$(e))return"Safari";if((e.includes("chrome/")||_$(e))&&!e.includes("edge/"))return"Chrome";if(A$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b$(t=Yn()){return/firefox\//i.test(t)}function x$(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _$(t=Yn()){return/crios\//i.test(t)}function w$(t=Yn()){return/iemobile/i.test(t)}function A$(t=Yn()){return/android/i.test(t)}function S$(t=Yn()){return/blackberry/i.test(t)}function E$(t=Yn()){return/webos/i.test(t)}function _S(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dq(t=Yn()){var e;return _S(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $q(){return YF()&&document.documentMode===10}function T$(t=Yn()){return _S(t)||A$(t)||E$(t)||S$(t)||/windows phone/i.test(t)||w$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t,e=[]){let n;switch(t){case"Browser":n=BO(Yn());break;case"Worker":n=`${BO(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const c=e(a);o(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bq(t,e={}){return Du(t,"GET","/v2/passwordPolicy",bS(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=6;class Vq{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Uq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UO(this),this.idTokenSubscription=new UO(this),this.beforeStateQueue=new Lq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_a(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ug(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===s)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Hs(this));const n=e?kt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bq(this),n=new Vq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_a(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[_a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Iy(t){return kt(t)}class UO{constructor(e){this.auth=e,this.observer=null,this.addObserver=rH(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fq(t){wS=t}function Hq(t){return wS.loadJS(t)}function qq(){return wS.gapiScript}function Gq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t,e){const n=es(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Vo(a,e??{}))return i;Qi(i,"already-initialized")}return n.initialize({options:e})}function Kq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_a);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Xq(t,e,n){const r=Iy(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=O$(e),{host:o,port:s}=Yq(e),c=s===null?"":`:${s}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Vo(u,r.config.emulator)&&Vo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jo(o)?(fS(`${a}//${o}${c}`),hS("Auth",!0)):Qq()}function O$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Yq(t){const e=O$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:VO(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:VO(o)}}}function VO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xa("not implemented")}_getIdTokenResponse(e){return xa("not implemented")}_linkToIdToken(e,n){return xa("not implemented")}_getReauthenticationResolver(e){return xa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return Tq(t,"POST","/v1/accounts:signInWithIdp",bS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="http://localhost";class el extends N${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=mS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new el(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:Zq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ep(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends AS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends np{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends np{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return el._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pa.credential(n,r)}catch{return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com";pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends np{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends np{constructor(){super("twitter.com")}static credential(e,n){return el._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await _i._fromIdTokenResponse(e,r,i),o=zO(r);return new Fc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zO(r);return new Fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends li{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zg(e,n,r,i)}}function C$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zg._fromErrorAndOperation(t,a,e,r):a})}async function Jq(t,e,n=!1){const r=await qf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Hs(r));const i="reauthenticate";try{const a=await qf(t,C$(r,i,e,t),n);Pe(a.idToken,r,"internal-error");const o=xS(a.idToken);Pe(o,r,"internal-error");const{sub:s}=o;return Pe(t.uid===s,r,"user-mismatch"),Fc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Qi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(t,e,n=!1){if(Jr(t.app))return Promise.reject(Hs(t));const r="signIn",i=await C$(t,r,e),a=await Fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function nG(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function rG(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function iG(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function aG(t){return kt(t).signOut()}const Fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=1e3,sG=10;class P$ extends I${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);$q()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P$.type="LOCAL";const lG=P$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k$ extends I${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}k$.type="SESSION";const R$=k$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),c=await cG(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,c)=>{const u=SS("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function dG(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function fG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pG(){return M$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="firebaseLocalStorageDb",mG=1,Hg="firebaseLocalStorage",$$="fbase_key";class rp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ky(t,e){return t.transaction([Hg],e?"readwrite":"readonly").objectStore(Hg)}function gG(){const t=indexedDB.deleteDatabase(D$);return new rp(t).toPromise()}function a_(){const t=indexedDB.open(D$,mG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hg,{keyPath:$$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hg)?e(r):(r.close(),await gG(),e(await a_()))})})}async function FO(t,e,n){const r=ky(t,!0).put({[$$]:e,value:n});return new rp(r).toPromise()}async function vG(t,e){const n=ky(t,!1).get(e),r=await new rp(n).toPromise();return r===void 0?null:r.value}function HO(t,e){const n=ky(t,!0).delete(e);return new rp(n).toPromise()}const yG=800,bG=3;class L${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Py._getInstance(pG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fG(),!this.activeServiceWorker)return;this.sender=new uG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a_();return await FO(e,Fg,"1"),await HO(e,Fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ky(i,!1).getAll();return new rp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L$.type="LOCAL";const xG=L$;new tp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e){return e?_a(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends N${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _G(t){return tG(t.auth,new ES(t),t.bypassAuthState)}function wG(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),eG(n,new ES(t),t.bypassAuthState)}async function AG(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),Jq(n,new ES(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _G;case"linkViaPopup":case"linkViaRedirect":return AG;case"reauthViaPopup":case"reauthViaRedirect":return wG;default:Qi(this.auth,"internal-error")}}resolve(e){La(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){La(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=new tp(2e3,1e4);async function EG(t,e,n){if(Jr(t.app))return Promise.reject(Ai(t,"operation-not-supported-in-this-environment"));const r=Iy(t);bq(t,e,AS);const i=B$(r,n);return new Ns(r,"signInViaPopup",e,i).executeNotNull()}class Ns extends U${constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){La(this.filter.length===1,"Popup operations only handle one event");const e=SS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SG.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG="pendingRedirect",Ym=new Map;class jG extends U${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ym.get(this.auth._key());if(!e){try{const r=await OG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ym.set(this.auth._key(),e)}return this.bypassAuthState||Ym.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OG(t,e){const n=IG(e),r=CG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function NG(t,e){Ym.set(t._key(),e)}function CG(t){return _a(t._redirectPersistence)}function IG(t){return Xm(TG,t.config.apiKey,t.name)}async function PG(t,e,n=!1){if(Jr(t.app))return Promise.reject(Hs(t));const r=Iy(t),i=B$(r,e),o=await new jG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=10*60*1e3;class RG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!V$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kG&&this.cachedEventUids.clear(),this.cachedEventUids.has(qO(e))}saveEventToCache(e){this.cachedEventUids.add(qO(e)),this.lastProcessedEventTime=Date.now()}}function qO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DG(t,e={}){return Du(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LG=/^https?/;async function BG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DG(t);for(const n of e)try{if(UG(n))return}catch{}Qi(t,"unauthorized-domain")}function UG(t){const e=r_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LG.test(n))return!1;if($G.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG=new tp(3e4,6e4);function GO(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zG(t){return new Promise((e,n)=>{var r,i,a;function o(){GO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GO(),n(Ai(t,"network-request-failed"))},timeout:VG.get()})}if(!((i=(r=Hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Hi().gapi)===null||a===void 0)&&a.load)o();else{const s=Gq("iframefcb");return Hi()[s]=()=>{gapi.load?o():n(Ai(t,"network-request-failed"))},Hq(`${qq()}?onload=${s}`).catch(c=>n(c))}}).catch(e=>{throw Qm=null,e})}let Qm=null;function FG(t){return Qm=Qm||zG(t),Qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=new tp(5e3,15e3),qG="__/auth/iframe",GG="emulator/auth/iframe",WG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XG(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yS(e,GG):`https://${t.config.authDomain}/${qG}`,r={apiKey:e.apiKey,appName:t.name,v:bl},i=KG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ep(r).slice(1)}`}async function YG(t){const e=await FG(t),n=Hi().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:XG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Ai(t,"network-request-failed"),s=Hi().setTimeout(()=>{a(o)},HG.get());function c(){Hi().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZG=500,JG=600,eW="_blank",tW="http://localhost";class WO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nW(t,e,n,r=ZG,i=JG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},QG),{width:r.toString(),height:i.toString(),top:a,left:o}),u=Yn().toLowerCase();n&&(s=_$(u)?eW:n),b$(u)&&(e=e||tW,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(Dq(u)&&s!=="_self")return rW(e||"",s),new WO(null);const f=window.open(e||"",s,d);Pe(f,t,"popup-blocked");try{f.focus()}catch{}return new WO(f)}function rW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="__/auth/handler",aW="emulator/auth/handler",oW=encodeURIComponent("fac");async function KO(t,e,n,r,i,a){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bl,eventId:i};if(e instanceof AS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof np){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const c=await t._getAppCheckToken(),u=c?`#${oW}=${encodeURIComponent(c)}`:"";return`${sW(t)}?${ep(s).slice(1)}${u}`}function sW({config:t}){return t.emulator?yS(t,aW):`https://${t.authDomain}/${iW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="webStorageSupport";class lW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R$,this._completeRedirectFn=PG,this._overrideRedirectResult=NG}async _openPopup(e,n,r,i){var a;La((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await KO(e,n,r,r_(),i);return nW(e,o,SS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await KO(e,n,r,r_(),i);return dG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(La(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YG(e),r=new RG(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ux,{type:ux},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ux];o!==void 0&&n(!!o),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T$()||x$()||_S()}}const cW=lW;var XO="@firebase/auth",YO="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fW(t){Ti(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j$(t)},u=new zq(r,i,a,c);return Kq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new oi("auth-internal",e=>{const n=Iy(e.getProvider("auth").getImmediate());return(r=>new uW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(XO,YO,dW(t)),gr(XO,YO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=5*60,pW=t$("authIdTokenMaxAge")||hW;let QO=null;const mW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pW)return;const i=n==null?void 0:n.token;QO!==i&&(QO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gW(t=Cy()){const e=es(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wq(t,{popupRedirectResolver:cW,persistence:[xG,lG,R$]}),r=t$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=mW(a.toString());rG(n,o,()=>o(n.currentUser)),nG(n,s=>o(s))}}const i=Z4("auth");return i&&Xq(n,`http://${i}`),n}function vW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Fq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ai("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",vW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fW("Browser");var ZO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ro,z$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function O(){}O.prototype=A.prototype,E.D=A.prototype,E.prototype=new O,E.prototype.constructor=E,E.C=function(I,C,R){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return A.prototype[C].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,O){O||(O=0);var I=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)I[C]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(C=0;16>C;++C)I[C]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=E.g[0],O=E.g[1],C=E.g[2];var R=E.g[3],P=A+(R^O&(C^R))+I[0]+3614090360&4294967295;A=O+(P<<7&4294967295|P>>>25),P=R+(C^A&(O^C))+I[1]+3905402710&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(O^R&(A^O))+I[2]+606105819&4294967295,C=R+(P<<17&4294967295|P>>>15),P=O+(A^C&(R^A))+I[3]+3250441966&4294967295,O=C+(P<<22&4294967295|P>>>10),P=A+(R^O&(C^R))+I[4]+4118548399&4294967295,A=O+(P<<7&4294967295|P>>>25),P=R+(C^A&(O^C))+I[5]+1200080426&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(O^R&(A^O))+I[6]+2821735955&4294967295,C=R+(P<<17&4294967295|P>>>15),P=O+(A^C&(R^A))+I[7]+4249261313&4294967295,O=C+(P<<22&4294967295|P>>>10),P=A+(R^O&(C^R))+I[8]+1770035416&4294967295,A=O+(P<<7&4294967295|P>>>25),P=R+(C^A&(O^C))+I[9]+2336552879&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(O^R&(A^O))+I[10]+4294925233&4294967295,C=R+(P<<17&4294967295|P>>>15),P=O+(A^C&(R^A))+I[11]+2304563134&4294967295,O=C+(P<<22&4294967295|P>>>10),P=A+(R^O&(C^R))+I[12]+1804603682&4294967295,A=O+(P<<7&4294967295|P>>>25),P=R+(C^A&(O^C))+I[13]+4254626195&4294967295,R=A+(P<<12&4294967295|P>>>20),P=C+(O^R&(A^O))+I[14]+2792965006&4294967295,C=R+(P<<17&4294967295|P>>>15),P=O+(A^C&(R^A))+I[15]+1236535329&4294967295,O=C+(P<<22&4294967295|P>>>10),P=A+(C^R&(O^C))+I[1]+4129170786&4294967295,A=O+(P<<5&4294967295|P>>>27),P=R+(O^C&(A^O))+I[6]+3225465664&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^O&(R^A))+I[11]+643717713&4294967295,C=R+(P<<14&4294967295|P>>>18),P=O+(R^A&(C^R))+I[0]+3921069994&4294967295,O=C+(P<<20&4294967295|P>>>12),P=A+(C^R&(O^C))+I[5]+3593408605&4294967295,A=O+(P<<5&4294967295|P>>>27),P=R+(O^C&(A^O))+I[10]+38016083&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^O&(R^A))+I[15]+3634488961&4294967295,C=R+(P<<14&4294967295|P>>>18),P=O+(R^A&(C^R))+I[4]+3889429448&4294967295,O=C+(P<<20&4294967295|P>>>12),P=A+(C^R&(O^C))+I[9]+568446438&4294967295,A=O+(P<<5&4294967295|P>>>27),P=R+(O^C&(A^O))+I[14]+3275163606&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^O&(R^A))+I[3]+4107603335&4294967295,C=R+(P<<14&4294967295|P>>>18),P=O+(R^A&(C^R))+I[8]+1163531501&4294967295,O=C+(P<<20&4294967295|P>>>12),P=A+(C^R&(O^C))+I[13]+2850285829&4294967295,A=O+(P<<5&4294967295|P>>>27),P=R+(O^C&(A^O))+I[2]+4243563512&4294967295,R=A+(P<<9&4294967295|P>>>23),P=C+(A^O&(R^A))+I[7]+1735328473&4294967295,C=R+(P<<14&4294967295|P>>>18),P=O+(R^A&(C^R))+I[12]+2368359562&4294967295,O=C+(P<<20&4294967295|P>>>12),P=A+(O^C^R)+I[5]+4294588738&4294967295,A=O+(P<<4&4294967295|P>>>28),P=R+(A^O^C)+I[8]+2272392833&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^O)+I[11]+1839030562&4294967295,C=R+(P<<16&4294967295|P>>>16),P=O+(C^R^A)+I[14]+4259657740&4294967295,O=C+(P<<23&4294967295|P>>>9),P=A+(O^C^R)+I[1]+2763975236&4294967295,A=O+(P<<4&4294967295|P>>>28),P=R+(A^O^C)+I[4]+1272893353&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^O)+I[7]+4139469664&4294967295,C=R+(P<<16&4294967295|P>>>16),P=O+(C^R^A)+I[10]+3200236656&4294967295,O=C+(P<<23&4294967295|P>>>9),P=A+(O^C^R)+I[13]+681279174&4294967295,A=O+(P<<4&4294967295|P>>>28),P=R+(A^O^C)+I[0]+3936430074&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^O)+I[3]+3572445317&4294967295,C=R+(P<<16&4294967295|P>>>16),P=O+(C^R^A)+I[6]+76029189&4294967295,O=C+(P<<23&4294967295|P>>>9),P=A+(O^C^R)+I[9]+3654602809&4294967295,A=O+(P<<4&4294967295|P>>>28),P=R+(A^O^C)+I[12]+3873151461&4294967295,R=A+(P<<11&4294967295|P>>>21),P=C+(R^A^O)+I[15]+530742520&4294967295,C=R+(P<<16&4294967295|P>>>16),P=O+(C^R^A)+I[2]+3299628645&4294967295,O=C+(P<<23&4294967295|P>>>9),P=A+(C^(O|~R))+I[0]+4096336452&4294967295,A=O+(P<<6&4294967295|P>>>26),P=R+(O^(A|~C))+I[7]+1126891415&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~O))+I[14]+2878612391&4294967295,C=R+(P<<15&4294967295|P>>>17),P=O+(R^(C|~A))+I[5]+4237533241&4294967295,O=C+(P<<21&4294967295|P>>>11),P=A+(C^(O|~R))+I[12]+1700485571&4294967295,A=O+(P<<6&4294967295|P>>>26),P=R+(O^(A|~C))+I[3]+2399980690&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~O))+I[10]+4293915773&4294967295,C=R+(P<<15&4294967295|P>>>17),P=O+(R^(C|~A))+I[1]+2240044497&4294967295,O=C+(P<<21&4294967295|P>>>11),P=A+(C^(O|~R))+I[8]+1873313359&4294967295,A=O+(P<<6&4294967295|P>>>26),P=R+(O^(A|~C))+I[15]+4264355552&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~O))+I[6]+2734768916&4294967295,C=R+(P<<15&4294967295|P>>>17),P=O+(R^(C|~A))+I[13]+1309151649&4294967295,O=C+(P<<21&4294967295|P>>>11),P=A+(C^(O|~R))+I[4]+4149444226&4294967295,A=O+(P<<6&4294967295|P>>>26),P=R+(O^(A|~C))+I[11]+3174756917&4294967295,R=A+(P<<10&4294967295|P>>>22),P=C+(A^(R|~O))+I[2]+718787259&4294967295,C=R+(P<<15&4294967295|P>>>17),P=O+(R^(C|~A))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var O=A-this.blockSize,I=this.B,C=this.h,R=0;R<A;){if(C==0)for(;R<=O;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<A;)if(I[C++]=E.charCodeAt(R++),C==this.blockSize){i(this,I),C=0;break}}else for(;R<A;)if(I[C++]=E[R++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=A},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var O=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=O&255,O/=256;for(this.u(E),E=Array(16),A=O=0;4>A;++A)for(var I=0;32>I;I+=8)E[O++]=this.g[A]>>>I&255;return E};function a(E,A){var O=s;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=A(E)}function o(E,A){this.h=A;for(var O=[],I=!0,C=E.length-1;0<=C;C--){var R=E[C]|0;I&&R==A||(O[C]=R,I=!1)}this.g=O}var s={};function c(E){return-128<=E&&128>E?a(E,function(A){return new o([A|0],0>A?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return x(u(-E));for(var A=[],O=1,I=0;E>=O;I++)A[I]=E/O|0,O*=4294967296;return new o(A,0)}function d(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return x(d(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(A,8)),I=f,C=0;C<E.length;C+=8){var R=Math.min(8,E.length-C),P=parseInt(E.substring(C,C+R),A);8>R?(R=u(Math.pow(A,R)),I=I.j(R).add(u(P))):(I=I.j(O),I=I.add(u(P)))}return I}var f=c(0),h=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var E=0,A=1,O=0;O<this.g.length;O++){var I=this.i(O);E+=(0<=I?I:4294967296+I)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(y(this))return"-"+x(this).toString(E);for(var A=u(Math.pow(E,6)),O=this,I="";;){var C=T(O,A).g;O=_(O,C.j(A));var R=((0<O.g.length?O.g[0]:O.h)>>>0).toString(E);if(O=C,v(O))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=_(this,E),y(E)?-1:v(E)?0:1};function x(E){for(var A=E.g.length,O=[],I=0;I<A;I++)O[I]=~E.g[I];return new o(O,~E.h).add(h)}t.abs=function(){return y(this)?x(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),O=[],I=0,C=0;C<=A;C++){var R=I+(this.i(C)&65535)+(E.i(C)&65535),P=(R>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=P>>>16,R&=65535,P&=65535,O[C]=P<<16|R}return new o(O,O[O.length-1]&-2147483648?-1:0)};function _(E,A){return E.add(x(A))}t.j=function(E){if(v(this)||v(E))return f;if(y(this))return y(E)?x(this).j(x(E)):x(x(this).j(E));if(y(E))return x(this.j(x(E)));if(0>this.l(m)&&0>E.l(m))return u(this.m()*E.m());for(var A=this.g.length+E.g.length,O=[],I=0;I<2*A;I++)O[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var R=this.i(I)>>>16,P=this.i(I)&65535,q=E.i(C)>>>16,L=E.i(C)&65535;O[2*I+2*C]+=P*L,b(O,2*I+2*C),O[2*I+2*C+1]+=R*L,b(O,2*I+2*C+1),O[2*I+2*C+1]+=P*q,b(O,2*I+2*C+1),O[2*I+2*C+2]+=R*q,b(O,2*I+2*C+2)}for(I=0;I<A;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=A;I<2*A;I++)O[I]=0;return new o(O,0)};function b(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function g(E,A){this.g=E,this.h=A}function T(E,A){if(v(A))throw Error("division by zero");if(v(E))return new g(f,f);if(y(E))return A=T(x(E),A),new g(x(A.g),x(A.h));if(y(A))return A=T(E,x(A)),new g(x(A.g),A.h);if(30<E.g.length){if(y(E)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var O=h,I=A;0>=I.l(E);)O=w(O),I=w(I);var C=j(O,1),R=j(I,1);for(I=j(I,2),O=j(O,2);!v(I);){var P=R.add(I);0>=P.l(E)&&(C=C.add(O),R=P),I=j(I,1),O=j(O,1)}return A=_(E,C.j(A)),new g(C,A)}for(C=f;0<=E.l(A);){for(O=Math.max(1,Math.floor(E.m()/A.m())),I=Math.ceil(Math.log(O)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=u(O),P=R.j(A);y(P)||0<P.l(E);)O-=I,R=u(O),P=R.j(A);v(R)&&(R=h),C=C.add(R),E=_(E,P)}return new g(C,E)}t.A=function(E){return T(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),O=[],I=0;I<A;I++)O[I]=this.i(I)&E.i(I);return new o(O,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),O=[],I=0;I<A;I++)O[I]=this.i(I)|E.i(I);return new o(O,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),O=[],I=0;I<A;I++)O[I]=this.i(I)^E.i(I);return new o(O,this.h^E.h)};function w(E){for(var A=E.g.length+1,O=[],I=0;I<A;I++)O[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(O,E.h)}function j(E,A){var O=A>>5;A%=32;for(var I=E.g.length-O,C=[],R=0;R<I;R++)C[R]=0<A?E.i(R+O)>>>A|E.i(R+O+1)<<32-A:E.i(R+O);return new o(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,z$=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ro=o}).apply(typeof ZO<"u"?ZO:typeof self<"u"?self:typeof window<"u"?window:{});var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F$,Gd,H$,Zm,o_,q$,G$,W$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,N){return p==Array.prototype||p==Object.prototype||(p[S]=N.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof am=="object"&&am];for(var S=0;S<p.length;++S){var N=p[S];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(p,S){if(S)e:{var N=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var G=p[M];if(!(G in N))break e;N=N[G]}p=p[p.length-1],M=N[p],S=S(M),S!=M&&S!=null&&e(N,p,{configurable:!0,writable:!0,value:S})}}function a(p,S){p instanceof String&&(p+="");var N=0,M=!1,G={next:function(){if(!M&&N<p.length){var Y=N++;return{value:S(Y,p[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(p){return p||function(){return a(this,function(S,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function u(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function d(p,S,N){return p.call.apply(p.bind,arguments)}function f(p,S,N){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),p.apply(S,G)}}return function(){return p.apply(S,arguments)}}function h(p,S,N){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(p,S){var N=Array.prototype.slice.call(arguments,1);return function(){var M=N.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function v(p,S){function N(){}N.prototype=S.prototype,p.aa=S.prototype,p.prototype=new N,p.prototype.constructor=p,p.Qb=function(M,G,Y){for(var se=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)se[ht-2]=arguments[ht];return S.prototype[G].apply(M,se)}}function y(p){const S=p.length;if(0<S){const N=Array(S);for(let M=0;M<S;M++)N[M]=p[M];return N}return[]}function x(p,S){for(let N=1;N<arguments.length;N++){const M=arguments[N];if(c(M)){const G=p.length||0,Y=M.length||0;p.length=G+Y;for(let se=0;se<Y;se++)p[G+se]=M[se]}else p.push(M)}}class _{constructor(S,N){this.i=S,this.j=N,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function b(p){return/^[\s\xa0]*$/.test(p)}function g(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function T(p){return T[" "](p),p}T[" "]=function(){};var w=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function j(p,S,N){for(const M in p)S.call(N,p[M],M,p)}function E(p,S){for(const N in p)S.call(void 0,p[N],N,p)}function A(p){const S={};for(const N in p)S[N]=p[N];return S}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,S){let N,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(N in M)p[N]=M[N];for(let Y=0;Y<O.length;Y++)N=O[Y],Object.prototype.hasOwnProperty.call(M,N)&&(p[N]=M[N])}}function C(p){var S=1;p=p.split(":");const N=[];for(;0<S&&p.length;)N.push(p.shift()),S--;return p.length&&N.push(p.join(":")),N}function R(p){s.setTimeout(()=>{throw p},0)}function P(){var p=K;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class q{constructor(){this.h=this.g=null}add(S,N){const M=L.get();M.set(S,N),this.h?this.h.next=M:this.g=M,this.h=M}}var L=new _(()=>new B,p=>p.reset());class B{constructor(){this.next=this.g=this.h=null}set(S,N){this.h=S,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let V,H=!1,K=new q,z=()=>{const p=s.Promise.resolve(void 0);V=()=>{p.then(ee)}};var ee=()=>{for(var p;p=P();){try{p.h.call(p.g)}catch(N){R(N)}var S=L;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}H=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};s.addEventListener("test",N,S),s.removeEventListener("test",N,S)}catch{}return p}();function Q(p,S){if(D.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var N=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(w){e:{try{T(S.nodeName);var G=!0;break e}catch{}G=!1}G||(S=null)}}else N=="mouseover"?S=p.fromElement:N=="mouseout"&&(S=p.toElement);this.relatedTarget=S,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Q.aa.h.call(this)}}v(Q,D);var ce={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),me=0;function ae(p,S,N,M,G){this.listener=p,this.proxy=null,this.src=S,this.type=N,this.capture=!!M,this.ha=G,this.key=++me,this.da=this.fa=!1}function ge(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,S,N,M,G){var Y=p.toString();p=this.g[Y],p||(p=this.g[Y]=[],this.h++);var se=Ae(p,S,M,G);return-1<se?(S=p[se],N||(S.fa=!1)):(S=new ae(S,this.src,Y,!!M,G),S.fa=N,p.push(S)),S};function te(p,S){var N=S.type;if(N in p.g){var M=p.g[N],G=Array.prototype.indexOf.call(M,S,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(M,G,1),Y&&(ge(S),p.g[N].length==0&&(delete p.g[N],p.h--))}}function Ae(p,S,N,M){for(var G=0;G<p.length;++G){var Y=p[G];if(!Y.da&&Y.listener==S&&Y.capture==!!N&&Y.ha==M)return G}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),_e={};function Ce(p,S,N,M,G){if(Array.isArray(S)){for(var Y=0;Y<S.length;Y++)Ce(p,S[Y],N,M,G);return null}return N=ye(N),p&&p[de]?p.K(S,N,u(M)?!!M.capture:!1,G):We(p,S,N,!1,M,G)}function We(p,S,N,M,G,Y){if(!S)throw Error("Invalid event type");var se=u(G)?!!G.capture:!!G,ht=ue(p);if(ht||(p[ve]=ht=new be(p)),N=ht.add(S,N,M,se,Y),N.proxy)return N;if(M=jt(),N.proxy=M,M.src=p,M.listener=N,p.addEventListener)W||(G=se),G===void 0&&(G=!1),p.addEventListener(S.toString(),M,G);else if(p.attachEvent)p.attachEvent(F(S.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return N}function jt(){function p(N){return S.call(p.src,p.listener,N)}const S=X;return p}function Rt(p,S,N,M,G){if(Array.isArray(S))for(var Y=0;Y<S.length;Y++)Rt(p,S[Y],N,M,G);else M=u(M)?!!M.capture:!!M,N=ye(N),p&&p[de]?(p=p.i,S=String(S).toString(),S in p.g&&(Y=p.g[S],N=Ae(Y,N,M,G),-1<N&&(ge(Y[N]),Array.prototype.splice.call(Y,N,1),Y.length==0&&(delete p.g[S],p.h--)))):p&&(p=ue(p))&&(S=p.g[S.toString()],p=-1,S&&(p=Ae(S,N,M,G)),(N=-1<p?S[p]:null)&&pn(N))}function pn(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[de])te(S.i,p);else{var N=p.type,M=p.proxy;S.removeEventListener?S.removeEventListener(N,M,p.capture):S.detachEvent?S.detachEvent(F(N),M):S.addListener&&S.removeListener&&S.removeListener(M),(N=ue(S))?(te(N,p),N.h==0&&(N.src=null,S[ve]=null)):ge(p)}}}function F(p){return p in _e?_e[p]:_e[p]="on"+p}function X(p,S){if(p.da)p=!0;else{S=new Q(S,this);var N=p.listener,M=p.ha||p.src;p.fa&&pn(p),p=N.call(M,S)}return p}function ue(p){return p=p[ve],p instanceof be?p:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(p){return typeof p=="function"?p:(p[Se]||(p[Se]=function(S){return p.handleEvent(S)}),p[Se])}function Ke(){U.call(this),this.i=new be(this),this.M=this,this.F=null}v(Ke,U),Ke.prototype[de]=!0,Ke.prototype.removeEventListener=function(p,S,N,M){Rt(this,p,S,N,M)};function Xe(p,S){var N,M=p.F;if(M)for(N=[];M;M=M.F)N.push(M);if(p=p.M,M=S.type||S,typeof S=="string")S=new D(S,p);else if(S instanceof D)S.target=S.target||p;else{var G=S;S=new D(M,p),I(S,G)}if(G=!0,N)for(var Y=N.length-1;0<=Y;Y--){var se=S.g=N[Y];G=qt(se,M,!0,S)&&G}if(se=S.g=p,G=qt(se,M,!0,S)&&G,G=qt(se,M,!1,S)&&G,N)for(Y=0;Y<N.length;Y++)se=S.g=N[Y],G=qt(se,M,!1,S)&&G}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var N=p.g[S],M=0;M<N.length;M++)ge(N[M]);delete p.g[S],p.h--}}this.F=null},Ke.prototype.K=function(p,S,N,M){return this.i.add(String(p),S,!1,N,M)},Ke.prototype.L=function(p,S,N,M){return this.i.add(String(p),S,!0,N,M)};function qt(p,S,N,M){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var G=!0,Y=0;Y<S.length;++Y){var se=S[Y];if(se&&!se.da&&se.capture==N){var ht=se.listener,On=se.ha||se.src;se.fa&&te(p.i,se),G=ht.call(On,M)!==!1&&G}}return G&&!M.defaultPrevented}function $n(p,S,N){if(typeof p=="function")N&&(p=h(p,N));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:s.setTimeout(p,S||0)}function fi(p){p.g=$n(()=>{p.g=null,p.i&&(p.i=!1,fi(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class lb extends U{constructor(S,N){super(),this.m=S,this.l=N,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(p){U.call(this),this.h=p,this.g={}}v(ds,U);var Sp=[];function Ep(p){j(p.g,function(S,N){this.g.hasOwnProperty(N)&&pn(S)},p),p.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Ep(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var od=s.JSON.stringify,sd=s.JSON.parse,cb=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function ld(){}ld.prototype.h=null;function Tp(p){return p.h||(p.h=p.i())}function jp(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){D.call(this,"d")}v(Tn,D);function Il(){D.call(this,"c")}v(Il,D);var hi={},Z=null;function le(){return Z=Z||new Ke}hi.La="serverreachability";function we(p){D.call(this,hi.La,p)}v(we,D);function ot(p){const S=le();Xe(S,new we(S))}hi.STAT_EVENT="statevent";function Lt(p,S){D.call(this,hi.STAT_EVENT,p),this.stat=S}v(Lt,D);function Me(p){const S=le();Xe(S,new Lt(S,p))}hi.Ma="timingevent";function Ye(p,S){D.call(this,hi.Ma,p),this.size=S}v(Ye,D);function Ve(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},S)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function gn(p,S,N,M,G,Y){p.info(function(){if(p.g)if(Y)for(var se="",ht=Y.split("&"),On=0;On<ht.length;On++){var Je=ht[On].split("=");if(1<Je.length){var Bn=Je[0];Je=Je[1];var Un=Bn.split("_");se=2<=Un.length&&Un[1]=="type"?se+(Bn+"="+Je+"&"):se+(Bn+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+S+`
`+N+`
`+se})}function jn(p,S,N,M,G,Y,se){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+S+`
`+N+`
`+Y+" "+se})}function Ot(p,S,N,M){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+hs(p,N)+(M?" "+M:"")})}function Ln(p,S){p.info(function(){return"TIMEOUT: "+S})}mn.prototype.info=function(){};function hs(p,S){if(!p.g)return S;if(!S)return null;try{var N=JSON.parse(S);if(N){for(p=0;p<N.length;p++)if(Array.isArray(N[p])){var M=N[p];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<G.length;se++)G[se]=""}}}}return od(N)}catch{return S}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function Op(){}v(Op,ld),Op.prototype.g=function(){return new XMLHttpRequest},Op.prototype.i=function(){return{}},aa=new Op;function Ya(p,S,N,M){this.j=p,this.i=S,this.l=N,this.R=M||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sT}function sT(){this.i=null,this.g="",this.h=!1}var lT={},ub={};function db(p,S,N){p.L=1,p.v=Pp(oa(S)),p.m=N,p.P=!0,cT(p,null)}function cT(p,S){p.F=Date.now(),Np(p),p.A=oa(p.v);var N=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),AT(N.i,"t",M),p.C=0,N=p.j.J,p.h=new sT,p.g=VT(p.j,N?S:null,!p.m),0<p.O&&(p.M=new lb(h(p.Y,p,p.g),p.O)),S=p.U,N=p.g,M=p.ca;var G="readystatechange";Array.isArray(G)||(G&&(Sp[0]=G.toString()),G=Sp);for(var Y=0;Y<G.length;Y++){var se=Ce(N,G[Y],M||S.handleEvent,!1,S.h||S);if(!se)break;S.g[se.key]=se}S=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),ot(),gn(p.i,p.u,p.A,p.l,p.R,p.m)}Ya.prototype.ca=function(p){p=p.target;const S=this.M;S&&sa(p)==3?S.j():this.Y(p)},Ya.prototype.Y=function(p){try{if(p==this.g)e:{const Un=sa(this.g);var S=this.g.Ba();const Rl=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||CT(this.g)))){this.J||Un!=4||S==7||(S==8||0>=Rl?ot(3):ot(2)),fb(this);var N=this.g.Z();this.X=N;t:if(uT(this)){var M=CT(this.g);p="";var G=M.length,Y=sa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),cd(this);var se="";break t}this.h.i=new s.TextDecoder}for(S=0;S<G;S++)this.h.h=!0,p+=this.h.i.decode(M[S],{stream:!(Y&&S==G-1)});M.length=0,this.h.g+=p,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=N==200,jn(this.i,this.u,this.A,this.l,this.R,Un,N),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,On=this.g;if((ht=On.g?On.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ht)){var Je=ht;break t}}Je=null}if(N=Je)Ot(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hb(this,N);else{this.o=!1,this.s=3,Me(12),ps(this),cd(this);break e}}if(this.P){N=!0;let pi;for(;!this.J&&this.C<se.length;)if(pi=U8(this,se),pi==ub){Un==4&&(this.s=4,Me(14),N=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(pi==lT){this.s=4,Me(15),Ot(this.i,this.l,se,"[Invalid Chunk]"),N=!1;break}else Ot(this.i,this.l,pi,null),hb(this,pi);if(uT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||se.length!=0||this.h.h||(this.s=1,Me(16),N=!1),this.o=this.o&&N,!N)Ot(this.i,this.l,se,"[Invalid Chunked Response]"),ps(this),cd(this);else if(0<se.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),bb(Bn),Bn.M=!0,Me(11))}}else Ot(this.i,this.l,se,null),hb(this,se);Un==4&&ps(this),this.o&&!this.J&&(Un==4?$T(this.j,this):(this.o=!1,Np(this)))}else rU(this.g),N==400&&0<se.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),ps(this),cd(this)}}}catch{}finally{}};function uT(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function U8(p,S){var N=p.C,M=S.indexOf(`
`,N);return M==-1?ub:(N=Number(S.substring(N,M)),isNaN(N)?lT:(M+=1,M+N>S.length?ub:(S=S.slice(M,M+N),p.C=M+N,S)))}Ya.prototype.cancel=function(){this.J=!0,ps(this)};function Np(p){p.S=Date.now()+p.I,dT(p,p.I)}function dT(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ve(h(p.ba,p),S)}function fb(p){p.B&&(s.clearTimeout(p.B),p.B=null)}Ya.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ln(this.i,this.A),this.L!=2&&(ot(),Me(17)),ps(this),this.s=2,cd(this)):dT(this,this.S-p)};function cd(p){p.j.G==0||p.J||$T(p.j,p)}function ps(p){fb(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,Ep(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function hb(p,S){try{var N=p.j;if(N.G!=0&&(N.g==p||pb(N.h,p))){if(!p.K&&pb(N.h,p)&&N.G==3){try{var M=N.Da.g.parse(S)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<p.F)Lp(N),Dp(N);else break e;yb(N),Me(18)}}else N.za=G[1],0<N.za-N.T&&37500>G[2]&&N.F&&N.v==0&&!N.C&&(N.C=Ve(h(N.Za,N),6e3));if(1>=pT(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else gs(N,11)}else if((p.K||N.g==p)&&Lp(N),!b(S))for(G=N.Da.g.parse(S),S=0;S<G.length;S++){let Je=G[S];if(N.T=Je[0],Je=Je[1],N.G==2)if(Je[0]=="c"){N.K=Je[1],N.ia=Je[2];const Bn=Je[3];Bn!=null&&(N.la=Bn,N.j.info("VER="+N.la));const Un=Je[4];Un!=null&&(N.Aa=Un,N.j.info("SVER="+N.Aa));const Rl=Je[5];Rl!=null&&typeof Rl=="number"&&0<Rl&&(M=1.5*Rl,N.L=M,N.j.info("backChannelRequestTimeoutMs_="+M)),M=N;const pi=p.g;if(pi){const Up=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Up){var Y=M.h;Y.g||Up.indexOf("spdy")==-1&&Up.indexOf("quic")==-1&&Up.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(mb(Y,Y.h),Y.h=null))}if(M.D){const xb=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;xb&&(M.ya=xb,xt(M.I,M.D,xb))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-p.F,N.j.info("Handshake RTT: "+N.R+"ms")),M=N;var se=p;if(M.qa=UT(M,M.J?M.ia:null,M.W),se.K){mT(M.h,se);var ht=se,On=M.L;On&&(ht.I=On),ht.B&&(fb(ht),Np(ht)),M.g=se}else MT(M);0<N.i.length&&$p(N)}else Je[0]!="stop"&&Je[0]!="close"||gs(N,7);else N.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?gs(N,7):vb(N):Je[0]!="noop"&&N.l&&N.l.ta(Je),N.v=0)}}ot(4)}catch{}}var V8=class{constructor(p,S){this.g=p,this.map=S}};function fT(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hT(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function pT(p){return p.h?1:p.g?p.g.size:0}function pb(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function mb(p,S){p.g?p.g.add(S):p.h=S}function mT(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}fT.prototype.cancel=function(){if(this.i=gT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function gT(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const N of p.g.values())S=S.concat(N.D);return S}return y(p.i)}function z8(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],N=p.length,M=0;M<N;M++)S.push(p[M]);return S}S=[],N=0;for(M in p)S[N++]=p[M];return S}function F8(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var N=0;N<p;N++)S.push(N);return S}S=[],N=0;for(const M in p)S[N++]=M;return S}}}function vT(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var N=F8(p),M=z8(p),G=M.length,Y=0;Y<G;Y++)S.call(void 0,M[Y],N&&N[Y],p)}var yT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H8(p,S){if(p){p=p.split("&");for(var N=0;N<p.length;N++){var M=p[N].indexOf("="),G=null;if(0<=M){var Y=p[N].substring(0,M);G=p[N].substring(M+1)}else Y=p[N];S(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ms(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ms){this.h=p.h,Cp(this,p.j),this.o=p.o,this.g=p.g,Ip(this,p.s),this.l=p.l;var S=p.i,N=new fd;N.i=S.i,S.g&&(N.g=new Map(S.g),N.h=S.h),bT(this,N),this.m=p.m}else p&&(S=String(p).match(yT))?(this.h=!1,Cp(this,S[1]||"",!0),this.o=ud(S[2]||""),this.g=ud(S[3]||"",!0),Ip(this,S[4]),this.l=ud(S[5]||"",!0),bT(this,S[6]||"",!0),this.m=ud(S[7]||"")):(this.h=!1,this.i=new fd(null,this.h))}ms.prototype.toString=function(){var p=[],S=this.j;S&&p.push(dd(S,xT,!0),":");var N=this.g;return(N||S=="file")&&(p.push("//"),(S=this.o)&&p.push(dd(S,xT,!0),"@"),p.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&p.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(dd(N,N.charAt(0)=="/"?W8:G8,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",dd(N,X8)),p.join("")};function oa(p){return new ms(p)}function Cp(p,S,N){p.j=N?ud(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Ip(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function bT(p,S,N){S instanceof fd?(p.i=S,Y8(p.i,p.h)):(N||(S=dd(S,K8)),p.i=new fd(S,p.h))}function xt(p,S,N){p.i.set(S,N)}function Pp(p){return xt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ud(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function dd(p,S,N){return typeof p=="string"?(p=encodeURI(p).replace(S,q8),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function q8(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var xT=/[#\/\?@]/g,G8=/[#\?:]/g,W8=/[#\?]/g,K8=/[#\?@]/g,X8=/#/g;function fd(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Qa(p){p.g||(p.g=new Map,p.h=0,p.i&&H8(p.i,function(S,N){p.add(decodeURIComponent(S.replace(/\+/g," ")),N)}))}t=fd.prototype,t.add=function(p,S){Qa(this),this.i=null,p=Pl(this,p);var N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(S),this.h+=1,this};function _T(p,S){Qa(p),S=Pl(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function wT(p,S){return Qa(p),S=Pl(p,S),p.g.has(S)}t.forEach=function(p,S){Qa(this),this.g.forEach(function(N,M){N.forEach(function(G){p.call(S,G,M,this)},this)},this)},t.na=function(){Qa(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),N=[];for(let M=0;M<S.length;M++){const G=p[M];for(let Y=0;Y<G.length;Y++)N.push(S[M])}return N},t.V=function(p){Qa(this);let S=[];if(typeof p=="string")wT(this,p)&&(S=S.concat(this.g.get(Pl(this,p))));else{p=Array.from(this.g.values());for(let N=0;N<p.length;N++)S=S.concat(p[N])}return S},t.set=function(p,S){return Qa(this),this.i=null,p=Pl(this,p),wT(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function AT(p,S,N){_T(p,S),0<N.length&&(p.i=null,p.g.set(Pl(p,S),y(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var N=0;N<S.length;N++){var M=S[N];const Y=encodeURIComponent(String(M)),se=this.V(M);for(M=0;M<se.length;M++){var G=Y;se[M]!==""&&(G+="="+encodeURIComponent(String(se[M]))),p.push(G)}}return this.i=p.join("&")};function Pl(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Y8(p,S){S&&!p.j&&(Qa(p),p.i=null,p.g.forEach(function(N,M){var G=M.toLowerCase();M!=G&&(_T(this,M),AT(this,G,N))},p)),p.j=S}function Q8(p,S){const N=new mn;if(s.Image){const M=new Image;M.onload=m(Za,N,"TestLoadImage: loaded",!0,S,M),M.onerror=m(Za,N,"TestLoadImage: error",!1,S,M),M.onabort=m(Za,N,"TestLoadImage: abort",!1,S,M),M.ontimeout=m(Za,N,"TestLoadImage: timeout",!1,S,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else S(!1)}function Z8(p,S){const N=new mn,M=new AbortController,G=setTimeout(()=>{M.abort(),Za(N,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:M.signal}).then(Y=>{clearTimeout(G),Y.ok?Za(N,"TestPingServer: ok",!0,S):Za(N,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(G),Za(N,"TestPingServer: error",!1,S)})}function Za(p,S,N,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(N)}catch{}}function J8(){this.g=new cb}function eU(p,S,N){const M=N||"";try{vT(p,function(G,Y){let se=G;u(G)&&(se=od(G)),S.push(M+Y+"="+encodeURIComponent(se))})}catch(G){throw S.push(M+"type="+encodeURIComponent("_badmap")),G}}function kp(p){this.l=p.Ub||null,this.j=p.eb||!1}v(kp,ld),kp.prototype.g=function(){return new Rp(this.l,this.j)},kp.prototype.i=function(p){return function(){return p}}({});function Rp(p,S){Ke.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Rp,Ke),t=Rp.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,pd(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||s).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hd(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,pd(this)),this.g&&(this.readyState=3,pd(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ST(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function ST(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?hd(this):pd(this),this.readyState==3&&ST(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,hd(this))},t.Qa=function(p){this.g&&(this.response=p,hd(this))},t.ga=function(){this.g&&hd(this)};function hd(p){p.readyState=4,p.l=null,p.j=null,p.v=null,pd(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var N=S.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=S.next();return p.join(`\r
`)};function pd(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ET(p){let S="";return j(p,function(N,M){S+=M,S+=":",S+=N,S+=`\r
`}),S}function gb(p,S,N){e:{for(M in N){var M=!1;break e}M=!0}M||(N=ET(N),typeof p=="string"?N!=null&&encodeURIComponent(String(N)):xt(p,S,N))}function Bt(p){Ke.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Bt,Ke);var tU=/^https?$/i,nU=["POST","PUT"];t=Bt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,N,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?Tp(this.o):Tp(aa),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(Y){TT(this,Y);return}if(p=N||"",N=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)N.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())N.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(N.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call(nU,S,void 0))||M||G||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of N)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{NT(this),this.u=!0,this.g.send(p),this.u=!1}catch(Y){TT(this,Y)}};function TT(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,jT(p),Mp(p)}function jT(p){p.A||(p.A=!0,Xe(p,"complete"),Xe(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Xe(this,"complete"),Xe(this,"abort"),Mp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mp(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?OT(this):this.bb())},t.bb=function(){OT(this)};function OT(p){if(p.h&&typeof o<"u"&&(!p.v[1]||sa(p)!=4||p.Z()!=2)){if(p.u&&sa(p)==4)$n(p.Ea,0,p);else if(Xe(p,"readystatechange"),sa(p)==4){p.h=!1;try{const se=p.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var N;if(!(N=S)){var M;if(M=se===0){var G=String(p.D).match(yT)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),M=!tU.test(G?G.toLowerCase():"")}N=M}if(N)Xe(p,"complete"),Xe(p,"success");else{p.m=6;try{var Y=2<sa(p)?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.Z()+"]",jT(p)}}finally{Mp(p)}}}}function Mp(p,S){if(p.g){NT(p);const N=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||Xe(p,"ready");try{N.onreadystatechange=M}catch{}}}function NT(p){p.I&&(s.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function sa(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<sa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),sd(S)}};function CT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function rU(p){const S={};p=(p.g&&2<=sa(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(b(p[M]))continue;var N=C(p[M]);const G=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Y=S[G]||[];S[G]=Y,Y.push(N)}E(S,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function md(p,S,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||S}function IT(p){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=md("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=md("baseRetryDelayMs",5e3,p),this.cb=md("retryDelaySeedMs",1e4,p),this.Wa=md("forwardChannelMaxRetries",2,p),this.wa=md("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new fT(p&&p.concurrentRequestLimit),this.Da=new J8,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=IT.prototype,t.la=8,t.G=1,t.connect=function(p,S,N,M){Me(0),this.W=p,this.H=S||{},N&&M!==void 0&&(this.H.OSID=N,this.H.OAID=M),this.F=this.X,this.I=UT(this,null,this.W),$p(this)};function vb(p){if(PT(p),p.G==3){var S=p.U++,N=oa(p.I);if(xt(N,"SID",p.K),xt(N,"RID",S),xt(N,"TYPE","terminate"),gd(p,N),S=new Ya(p,p.j,S),S.L=2,S.v=Pp(oa(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(S.v.toString(),"")}catch{}!N&&s.Image&&(new Image().src=S.v,N=!0),N||(S.g=VT(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Np(S)}BT(p)}function Dp(p){p.g&&(bb(p),p.g.cancel(),p.g=null)}function PT(p){Dp(p),p.u&&(s.clearTimeout(p.u),p.u=null),Lp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function $p(p){if(!hT(p.h)&&!p.s){p.s=!0;var S=p.Ga;V||z(),H||(V(),H=!0),K.add(S,p),p.B=0}}function iU(p,S){return pT(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ve(h(p.Ga,p,S),LT(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const G=new Ya(this,this.j,p);let Y=this.o;if(this.S&&(Y?(Y=A(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var S=0,N=0;N<this.i.length;N++){t:{var M=this.i[N];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(S+=M,4096<S){S=N;break e}if(S===4096||N===this.i.length-1){S=N+1;break e}}S=1e3}else S=1e3;S=RT(this,G,S),N=oa(this.I),xt(N,"RID",p),xt(N,"CVER",22),this.D&&xt(N,"X-HTTP-Session-Id",this.D),gd(this,N),Y&&(this.O?S="headers="+encodeURIComponent(String(ET(Y)))+"&"+S:this.m&&gb(N,this.m,Y)),mb(this.h,G),this.Ua&&xt(N,"TYPE","init"),this.P?(xt(N,"$req",S),xt(N,"SID","null"),G.T=!0,db(G,N,null)):db(G,N,S),this.G=2}}else this.G==3&&(p?kT(this,p):this.i.length==0||hT(this.h)||kT(this))};function kT(p,S){var N;S?N=S.l:N=p.U++;const M=oa(p.I);xt(M,"SID",p.K),xt(M,"RID",N),xt(M,"AID",p.T),gd(p,M),p.m&&p.o&&gb(M,p.m,p.o),N=new Ya(p,p.j,N,p.B+1),p.m===null&&(N.H=p.o),S&&(p.i=S.D.concat(p.i)),S=RT(p,N,1e3),N.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),mb(p.h,N),db(N,M,S)}function gd(p,S){p.H&&j(p.H,function(N,M){xt(S,M,N)}),p.l&&vT({},function(N,M){xt(S,M,N)})}function RT(p,S,N){N=Math.min(p.i.length,N);var M=p.l?h(p.l.Na,p.l,p):null;e:{var G=p.i;let Y=-1;for(;;){const se=["count="+N];Y==-1?0<N?(Y=G[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let ht=!0;for(let On=0;On<N;On++){let Je=G[On].g;const Bn=G[On].map;if(Je-=Y,0>Je)Y=Math.max(0,G[On].g-100),ht=!1;else try{eU(Bn,se,"req"+Je+"_")}catch{M&&M(Bn)}}if(ht){M=se.join("&");break e}}}return p=p.i.splice(0,N),S.D=p,M}function MT(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;V||z(),H||(V(),H=!0),K.add(S,p),p.v=0}}function yb(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ve(h(p.Fa,p),LT(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,DT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ve(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Dp(this),DT(this))};function bb(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function DT(p){p.g=new Ya(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=oa(p.qa);xt(S,"RID","rpc"),xt(S,"SID",p.K),xt(S,"AID",p.T),xt(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&xt(S,"TO",p.ja),xt(S,"TYPE","xmlhttp"),gd(p,S),p.m&&p.o&&gb(S,p.m,p.o),p.L&&(p.g.I=p.L);var N=p.g;p=p.ia,N.L=1,N.v=Pp(oa(S)),N.m=null,N.P=!0,cT(N,p)}t.Za=function(){this.C!=null&&(this.C=null,Dp(this),yb(this),Me(19))};function Lp(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function $T(p,S){var N=null;if(p.g==S){Lp(p),bb(p),p.g=null;var M=2}else if(pb(p.h,S))N=S.D,mT(p.h,S),M=1;else return;if(p.G!=0){if(S.o)if(M==1){N=S.m?S.m.length:0,S=Date.now()-S.F;var G=p.B;M=le(),Xe(M,new Ye(M,N)),$p(p)}else MT(p);else if(G=S.s,G==3||G==0&&0<S.X||!(M==1&&iU(p,S)||M==2&&yb(p)))switch(N&&0<N.length&&(S=p.h,S.i=S.i.concat(N)),G){case 1:gs(p,5);break;case 4:gs(p,10);break;case 3:gs(p,6);break;default:gs(p,2)}}}function LT(p,S){let N=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(N*=2),N*S}function gs(p,S){if(p.j.info("Error code "+S),S==2){var N=h(p.fb,p),M=p.Xa;const G=!M;M=new ms(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Cp(M,"https"),Pp(M),G?Q8(M.toString(),N):Z8(M.toString(),N)}else Me(2);p.G=0,p.l&&p.l.sa(S),BT(p),PT(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function BT(p){if(p.G=0,p.ka=[],p.l){const S=gT(p.h);(S.length!=0||p.i.length!=0)&&(x(p.ka,S),x(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function UT(p,S,N){var M=N instanceof ms?oa(N):new ms(N);if(M.g!="")S&&(M.g=S+"."+M.g),Ip(M,M.s);else{var G=s.location;M=G.protocol,S=S?S+"."+G.hostname:G.hostname,G=+G.port;var Y=new ms(null);M&&Cp(Y,M),S&&(Y.g=S),G&&Ip(Y,G),N&&(Y.l=N),M=Y}return N=p.D,S=p.ya,N&&S&&xt(M,N,S),xt(M,"VER",p.la),gd(p,M),M}function VT(p,S,N){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Bt(new kp({eb:N})):new Bt(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zT(){}t=zT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bp(){}Bp.prototype.g=function(p,S){return new _r(p,S)};function _r(p,S){Ke.call(this),this.g=new IT(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!b(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!b(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new kl(this)}v(_r,Ke),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){vb(this.g)},_r.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.u&&(N={},N.__data__=od(p),p=N);S.i.push(new V8(S.Ya++,p)),S.G==3&&$p(S)},_r.prototype.N=function(){this.g.l=null,delete this.j,vb(this.g),delete this.g,_r.aa.N.call(this)};function FT(p){Tn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const N in S){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}v(FT,Tn);function HT(){Il.call(this),this.status=1}v(HT,Il);function kl(p){this.g=p}v(kl,zT),kl.prototype.ua=function(){Xe(this.g,"a")},kl.prototype.ta=function(p){Xe(this.g,new FT(p))},kl.prototype.sa=function(p){Xe(this.g,new HT)},kl.prototype.ra=function(){Xe(this.g,"b")},Bp.prototype.createWebChannel=Bp.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,W$=function(){return new Bp},G$=function(){return le()},q$=hi,o_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Zm=Pi,Xa.COMPLETE="complete",H$=Xa,jp.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Gd=jp,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,F$=Bt}).apply(typeof am<"u"?am:typeof self<"u"?self:typeof window<"u"?window:{});const JO="@firebase/firestore",eN="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Ny("@firebase/firestore");function Kl(){return tl.logLevel}function fe(t,...e){if(tl.logLevel<=qe.DEBUG){const n=e.map(TS);tl.debug(`Firestore (${$u}): ${t}`,...n)}}function Ba(t,...e){if(tl.logLevel<=qe.ERROR){const n=e.map(TS);tl.error(`Firestore (${$u}): ${t}`,...n)}}function Hc(t,...e){if(tl.logLevel<=qe.WARN){const n=e.map(TS);tl.warn(`Firestore (${$u}): ${t}`,...n)}}function TS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,K$(t,r,n)}function K$(t,e,n){let r=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ba(r),new Error(r)}function it(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||K$(e,i,r)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class bW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xW{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Oa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Oa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},s=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>s(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?s(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Oa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new X$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class _W{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _W(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=SW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function s_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Be(r,i);{const a=Y$(),o=EW(a.encode(nN(t,n)),a.encode(nN(e,n)));return o!==0?o:Be(r,i)}}n+=r>65535?2:1}return Be(t.length,e.length)}function nN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function EW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Be(t[n],e[n]);return Be(t.length,e.length)}function qc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=-62135596800,iN=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iN);return new un(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rN)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iN}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new un(0,0))}static max(){return new ke(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="__name__";class Ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ri.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Be(e.length,n.length)}static compareSegments(e,n){const r=Ri.isNumericId(e),i=Ri.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):s_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ro.fromString(e.substring(4,e.length-2))}}class St extends Ri{construct(e,n,r){return new St(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new St(n)}static emptyPath(){return new St([])}}const TW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Ri{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return TW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aN}static keyField(){return new Rn([aN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(St.fromString(e))}static fromName(e){return new Ee(St.fromString(e).popFirst(5))}static empty(){return new Ee(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=-1;function jW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new zo(i,Ee.empty(),e)}function OW(t){return new zo(t.readTime,t.key,Gf)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(ke.min(),Ee.empty(),Gf)}static max(){return new zo(ke.max(),Ee.empty(),Gf)}}function NW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==CW)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},c=>r(c))}),o=!0,a===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++s,s===a&&r(o)},d=>i(d))}})}static doWhile(e,n){return new re((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function PW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ry.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=-1;function My(t){return t==null}function qg(t){return t===0&&1/t==-1/0}function kW(t){return typeof t=="number"&&Number.isInteger(t)&&!qg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$="";function RW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oN(e)),e=MW(t.get(n),e);return oN(e)}function MW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Z$:n+="";break;default:n+=a}}return n}function oN(t){return t+Z$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function J$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new In(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lN(this.data.getIterator())}getIteratorFrom(e){return new lN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class lN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new dn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new e6("Invalid base64 string: "+a):a}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const DW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=DW.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ho(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="server_timestamp",n6="__type__",r6="__previous_value__",i6="__local_write_time__";function OS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[n6])===null||n===void 0?void 0:n.stringValue)===t6}function Dy(t){const e=t.mapValue.fields[r6];return OS(e)?Dy(e):e}function Wf(t){const e=Fo(t.mapValue.fields[i6].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n,r,i,a,o,s,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Gg="(default)";class Kf{constructor(e,n){this.projectId=e,this.database=n||Gg}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database===Gg}isEqual(e){return e instanceof Kf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="__type__",LW="__max__",sm={mapValue:{}},o6="__vector__",Wg="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OS(t)?4:UW(t)?9007199254740991:BW(t)?10:11:Ne(28295,{value:t})}function Zi(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wf(t).isEqual(Wf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Fo(i.timestampValue),s=Fo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ho(i.bytesValue).isEqual(Ho(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Kt(i.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Kt(i.integerValue)===Kt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Kt(i.doubleValue),s=Kt(a.doubleValue);return o===s?qg(o)===qg(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return qc(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(sN(o)!==sN(s))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(s[c]===void 0||!Zi(o[c],s[c])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function Xf(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function Gc(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Kt(a.integerValue||a.doubleValue),c=Kt(o.integerValue||o.doubleValue);return s<c?-1:s>c?1:s===c?0:isNaN(s)?isNaN(c)?0:-1:1}(t,e);case 3:return cN(t.timestampValue,e.timestampValue);case 4:return cN(Wf(t),Wf(e));case 5:return s_(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ho(a),c=Ho(o);return s.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),c=o.split("/");for(let u=0;u<s.length&&u<c.length;u++){const d=Be(s[u],c[u]);if(d!==0)return d}return Be(s.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Be(Kt(a.latitude),Kt(o.latitude));return s!==0?s:Be(Kt(a.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uN(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,c,u,d;const f=a.fields||{},h=o.fields||{},m=(s=f[Wg])===null||s===void 0?void 0:s.arrayValue,v=(c=h[Wg])===null||c===void 0?void 0:c.arrayValue,y=Be(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:uN(m,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===sm.mapValue&&o===sm.mapValue)return 0;if(a===sm.mapValue)return 1;if(o===sm.mapValue)return-1;const s=a.fields||{},c=Object.keys(s),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=s_(c[f],d[f]);if(h!==0)return h;const m=Gc(s[c[f]],u[d[f]]);if(m!==0)return m}return Be(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{Pe:n})}}function cN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Fo(t),r=Fo(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function uN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Gc(n[i],r[i]);if(a)return a}return Be(n.length,r.length)}function Wc(t){return l_(t)}function l_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=l_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${l_(n.fields[o])}`;return i+"}"}(t.mapValue):Ne(61005,{value:t})}function Jm(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dy(t);return e?16+Jm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Jm(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ts(r.fields,(a,o)=>{i+=a.length+Jm(o)}),i}(t.mapValue);default:throw Ne(13486,{value:t})}}function dN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c_(t){return!!t&&"integerValue"in t}function NS(t){return!!t&&"arrayValue"in t}function fN(t){return!!t&&"nullValue"in t}function hN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eg(t){return!!t&&"mapValue"in t}function BW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[a6])===null||n===void 0?void 0:n.stringValue)===o6}function gf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gf(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=gf(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new pr(gf(this.value))}}function s6(t){const e=[];return ts(t.fields,(n,r)=>{const i=new Rn([n]);if(eg(r)){const a=s6(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Hn(e,0,ke.min(),ke.min(),ke.min(),pr.empty(),0)}static newFoundDocument(e,n,r,i){return new Hn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Hn(e,2,n,ke.min(),ke.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,ke.min(),ke.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.position=e,this.inclusive=n}}function pN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(o.referenceValue),n.key):r=Gc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function mN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n="asc"){this.field=e,this.dir=n}}function VW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{}class Jt extends l6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FW(e,n,r):n==="array-contains"?new GW(e,r):n==="in"?new WW(e,r):n==="not-in"?new KW(e,r):n==="array-contains-any"?new XW(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HW(e,r):new qW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gc(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(Gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends l6{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ji(e,n)}matches(e){return c6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function c6(t){return t.op==="and"}function u6(t){return zW(t)&&c6(t)}function zW(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function u_(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Wc(t.value);if(u6(t))return t.filters.map(e=>u_(e)).join(",");{const e=t.filters.map(n=>u_(n)).join(",");return`${t.op}(${e})`}}function d6(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Zi(r.value,i.value)}(t,e):t instanceof ji?function(r,i){return i instanceof ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&d6(o,i.filters[s]),!0):!1}(t,e):void Ne(19439)}function f6(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wc(n.value)}`}(t):t instanceof ji?function(n){return n.op.toString()+" {"+n.getFilters().map(f6).join(" ,")+"}"}(t):"Filter"}class FW extends Jt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class HW extends Jt{constructor(e,n){super(e,"in",n),this.keys=h6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qW extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=h6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function h6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class GW extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return NS(n)&&Xf(n.arrayValue,this.value)}}class WW extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xf(this.value.arrayValue,n)}}class KW extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xf(this.value.arrayValue,n)}}class XW extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!NS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function gN(t,e=null,n=[],r=[],i=null,a=null,o=null){return new YW(t,e,n,r,i,a,o)}function CS(t){const e=De(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>u_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),My(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wc(r)).join(",")),e.Ie=n}return e.Ie}function IS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!d6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mN(t.startAt,e.startAt)&&mN(t.endAt,e.endAt)}function d_(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QW(t,e,n,r,i,a,o,s){return new Uu(t,e,n,r,i,a,o,s)}function $y(t){return new Uu(t)}function vN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p6(t){return t.collectionGroup!==null}function vf(t){const e=De(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new dn(Rn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Yf(a,r))}),n.has(Rn.keyField().canonicalString())||e.Ee.push(new Yf(Rn.keyField(),r))}return e.Ee}function qi(t){const e=De(t);return e.de||(e.de=ZW(e,vf(t))),e.de}function ZW(t,e){if(t.limitType==="F")return gN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Yf(i.field,a)});const n=t.endAt?new Kg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kg(t.startAt.position,t.startAt.inclusive):null;return gN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f_(t,e){const n=t.filters.concat([e]);return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function h_(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ly(t,e){return IS(qi(t),qi(e))&&t.limitType===e.limitType}function m6(t){return`${CS(qi(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>f6(i)).join(", ")}]`),My(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wc(i)).join(",")),`Target(${r})`}(qi(t))}; limitType=${t.limitType})`}function By(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of vf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,c){const u=pN(o,s,c);return o.inclusive?u<=0:u<0}(r.startAt,vf(r),i)||r.endAt&&!function(o,s,c){const u=pN(o,s,c);return o.inclusive?u>=0:u>0}(r.endAt,vf(r),i))}(t,e)}function JW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g6(t){return(e,n)=>{let r=!1;for(const i of vf(t)){const a=eK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function eK(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(a,o,s){const c=o.data.field(a),u=s.data.field(a);return c!==null&&u!==null?Gc(c,u):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return J$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=new $t(Ee.comparator);function Ua(){return tK}const v6=new $t(Ee.comparator);function Wd(...t){let e=v6;for(const n of t)e=e.insert(n.key,n);return e}function y6(t){let e=v6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return yf()}function b6(){return yf()}function yf(){return new xl(t=>t.toString(),(t,e)=>t.isEqual(e))}const nK=new $t(Ee.comparator),rK=new dn(Ee.comparator);function Ge(...t){let e=rK;for(const n of t)e=e.add(n);return e}const iK=new dn(Be);function aK(){return iK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qg(e)?"-0":e}}function x6(t){return{integerValue:""+t}}function oK(t,e){return kW(e)?x6(e):PS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this._=void 0}}function sK(t,e,n){return t instanceof Qf?function(i,a){const o={fields:{[n6]:{stringValue:t6},[i6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&OS(a)&&(a=Dy(a)),a&&(o.fields[r6]=a),{mapValue:o}}(n,e):t instanceof Zf?w6(t,e):t instanceof Jf?A6(t,e):function(i,a){const o=_6(i,a),s=yN(o)+yN(i.Re);return c_(o)&&c_(i.Re)?x6(s):PS(i.serializer,s)}(t,e)}function lK(t,e,n){return t instanceof Zf?w6(t,e):t instanceof Jf?A6(t,e):n}function _6(t,e){return t instanceof Xg?function(r){return c_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Qf extends Uy{}class Zf extends Uy{constructor(e){super(),this.elements=e}}function w6(t,e){const n=S6(e);for(const r of t.elements)n.some(i=>Zi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jf extends Uy{constructor(e){super(),this.elements=e}}function A6(t,e){let n=S6(e);for(const r of t.elements)n=n.filter(i=>!Zi(i,r));return{arrayValue:{values:n}}}class Xg extends Uy{constructor(e,n){super(),this.serializer=e,this.Re=n}}function yN(t){return Kt(t.integerValue||t.doubleValue)}function S6(t){return NS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e,n){this.field=e,this.transform=n}}function uK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zf&&i instanceof Zf||r instanceof Jf&&i instanceof Jf?qc(r.elements,i.elements,Zi):r instanceof Xg&&i instanceof Xg?Zi(r.Re,i.Re):r instanceof Qf&&i instanceof Qf}(t.transform,e.transform)}class dK{constructor(e,n){this.version=e,this.transformResults=n}}class Si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vy{}function E6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j6(t.key,Si.none()):new ip(t.key,t.data,Si.none());{const n=t.data,r=pr.empty();let i=new dn(Rn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ns(t.key,r,new kr(i.toArray()),Si.none())}}function fK(t,e,n){t instanceof ip?function(i,a,o){const s=i.value.clone(),c=xN(i.fieldTransforms,a,o.transformResults);s.setAll(c),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,a,o){if(!tg(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=xN(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(T6(i)),c.setAll(s),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bf(t,e,n,r){return t instanceof ip?function(a,o,s,c){if(!tg(a.precondition,o))return s;const u=a.value.clone(),d=_N(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(a,o,s,c){if(!tg(a.precondition,o))return s;const u=_N(a.fieldTransforms,c,o),d=o.data;return d.setAll(T6(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return tg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function hK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=_6(r.transform,i||null);a!=null&&(n===null&&(n=pr.empty()),n.set(r.field,a))}return n||null}function bN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qc(r,i,(a,o)=>uK(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ip extends Vy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends Vy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function T6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xN(t,e,n){const r=new Map;it(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,lK(o,s,n[i]))}return r}function _N(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,sK(a,o,e))}return r}class j6 extends Vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pK extends Vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b6();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const c=E6(o,s);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(n,r)=>bN(n,r))&&qc(this.baseMutations,e.baseMutations,(n,r)=>bN(n,r))}}class kS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return nK}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new kS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Qe;function yK(t){switch(t){case ne.OK:return Ne(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function O6(t){if(t===void 0)return Ba("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Yt.OK:return ne.OK;case Yt.CANCELLED:return ne.CANCELLED;case Yt.UNKNOWN:return ne.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ne.INTERNAL;case Yt.UNAVAILABLE:return ne.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ne.NOT_FOUND;case Yt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Yt.ABORTED:return ne.ABORTED;case Yt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Yt.DATA_LOSS:return ne.DATA_LOSS;default:return Ne(39323,{code:t})}}(Qe=Yt||(Yt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=new Ro([4294967295,4294967295],0);function wN(t){const e=Y$().encode(t),n=new z$;return n.update(e),new Uint8Array(n.digest())}function AN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([i,a],0)]}class RS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kd(`Invalid padding: ${n}`);if(r<0)throw new Kd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ro.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ro.fromNumber(r)));return i.compare(bK)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=wN(e),[r,i]=AN(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new RS(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const n=wN(e),[r,i]=AN(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ap.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zy(ke.min(),i,new $t(Be),Ua(),Ge())}}class ap{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ap(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class N6{constructor(e,n){this.targetId=e,this.Ce=n}}class C6{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SN{constructor(){this.Fe=0,this.Me=EN(),this.xe=Dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ge(),n=Ge(),r=Ge();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:a})}}),new ap(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=EN()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xK{constructor(e){this.ze=e,this.je=new Map,this.He=Ua(),this.Je=lm(),this.Ye=lm(),this.Ze=new $t(Be)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(d_(a))if(r===0){const o=new Ee(a.path);this.tt(n,o,Hn.newNoDocument(o,ke.min()))}else it(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const s=this.ct(e),c=s?this.lt(s,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=Ho(r).toUint8Array()}catch(c){if(c instanceof e6)return Hc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{s=new RS(o,i,a)}catch(c){return Hc(c instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return s.pe===0?null:s}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&d_(s.target)){const c=new Ee(s.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Hn.newNoDocument(c,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=Ge();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new zy(e,n,this.Ze,this.He,r);return this.He=Ua(),this.Je=lm(),this.Ye=lm(),this.Ze=new $t(Be),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new SN,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new dn(Be),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new dn(Be),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new SN),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function lm(){return new $t(Ee.comparator)}function EN(){return new $t(Ee.comparator)}const _K={asc:"ASCENDING",desc:"DESCENDING"},wK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AK={and:"AND",or:"OR"};class SK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p_(t,e){return t.useProto3Json||My(e)?e:{value:e}}function Yg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EK(t,e){return Yg(t,e.toTimestamp())}function Gi(t){return it(!!t,49232),ke.fromTimestamp(function(n){const r=Fo(n);return new un(r.seconds,r.nanos)}(t))}function MS(t,e){return m_(t,e).canonicalString()}function m_(t,e){const n=function(i){return new St(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function P6(t){const e=St.fromString(t);return it($6(e),10190,{key:e.toString()}),e}function g_(t,e){return MS(t.databaseId,e.path)}function dx(t,e){const n=P6(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(R6(n))}function k6(t,e){return MS(t.databaseId,e)}function TK(t){const e=P6(t);return e.length===4?St.emptyPath():R6(e)}function v_(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R6(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TN(t,e,n){return{name:g_(t,e),fields:n.value.mapValue.fields}}function jK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(it(d===void 0||typeof d=="string",58123),Dn.fromBase64String(d||"")):(it(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const d=u.code===void 0?ne.UNKNOWN:O6(u.code);return new he(d,u.message||"")}(o);n=new C6(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dx(t,r.document.name),a=Gi(r.document.updateTime),o=r.document.createTime?Gi(r.document.createTime):ke.min(),s=new pr({mapValue:{fields:r.document.fields}}),c=Hn.newFoundDocument(i,a,o,s),u=r.targetIds||[],d=r.removedTargetIds||[];n=new ng(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dx(t,r.document),a=r.readTime?Gi(r.readTime):ke.min(),o=Hn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new ng([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dx(t,r.document),a=r.removedTargetIds||[];n=new ng([],a,i,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new vK(i,a),s=r.targetId;n=new N6(s,o)}}return n}function OK(t,e){let n;if(e instanceof ip)n={update:TN(t,e.key,e.value)};else if(e instanceof j6)n={delete:g_(t,e.key)};else if(e instanceof ns)n={update:TN(t,e.key,e.data),updateMask:$K(e.fieldMask)};else{if(!(e instanceof pK))return Ne(16599,{ft:e.type});n={verify:g_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Qf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Zf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Jf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Xg)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw Ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:EK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)}(t,e.precondition)),n}function NK(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Gi(i.updateTime):Gi(a);return o.isEqual(ke.min())&&(o=Gi(a)),new dK(o,i.transformResults||[])}(n,e))):[]}function CK(t,e){return{documents:[k6(t,e.path)]}}function IK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k6(t,i);const a=function(u){if(u.length!==0)return D6(ji.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Yl(h.field),direction:RK(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=p_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function PK(t){let e=TK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(f){const h=M6(f);return h instanceof ji&&u6(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(v){return new Yf(Ql(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,My(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new Kg(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Kg(m,h)}(n.endAt)),QW(e,i,o,a,s,"F",c,u)}function kK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ql(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ql(n.unaryFilter.field);return Jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ql(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Ql(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ji.create(n.compositeFilter.filters.map(r=>M6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function RK(t){return _K[t]}function MK(t){return wK[t]}function DK(t){return AK[t]}function Yl(t){return{fieldPath:t.canonicalString()}}function Ql(t){return Rn.fromServerFormat(t.fieldPath)}function D6(t){return t instanceof Jt?function(n){if(n.op==="=="){if(hN(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NAN"}};if(fN(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hN(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NAN"}};if(fN(n.value))return{unaryFilter:{field:Yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(n.field),op:MK(n.op),value:n.value}}}(t):t instanceof ji?function(n){const r=n.getFilters().map(i=>D6(i));return r.length===1?r[0]:{compositeFilter:{op:DK(n.op),filters:r}}}(t):Ne(54877,{filter:t})}function $K(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r,i,a=ke.min(),o=ke.min(),s=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=c}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.wt=e}}function BK(t){const e=PK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this.Cn=new VK}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(zo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class VK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dn(St.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L6=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(L6,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Kc(0)}static lr(){return new Kc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="LruGarbageCollector",zK=1048576;function NN([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class FK{constructor(e){this.Er=e,this.buffer=new dn(NN),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();NN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(ON,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bu(n)?fe(ON,"Ignoring IndexedDB error during garbage collection: ",n):await Lu(n)}await this.mr(3e5)})}}class qK{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Ry.le);const r=new FK(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(jN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jN):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,o,s,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Kl()<=qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(c-s)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function GK(t,e){return new qK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(){this.changes=new xl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bf(r.mutation,i,kr.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Wd();return a.forEach((s,c)=>{o=o.insert(s,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Ua();const o=yf(),s=function(){return yf()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ns)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),bf(d.mutation,u,d.mutation.getFieldMask(),un.now())):o.set(u.key,kr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return s.set(u,new KK(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=yf();let i=new $t((o,s)=>o-s),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||kr.empty();d=s.applyToLocalView(u,d),r.set(c,d);const f=(i.get(s.batchId)||Ge()).add(c);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const c=s.getNext(),u=c.key,d=c.value,f=b6();d.forEach(h=>{if(!a.has(h)){const m=E6(n.get(h),r.get(h));m!==null&&f.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):re.resolve(Cs());let s=Gf,c=a;return o.next(u=>re.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Ge())).next(d=>({batchId:s,changes:y6(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let i=Wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Wd();return this.indexManager.getCollectionParents(e,a).next(s=>re.forEach(s,c=>{const u=function(f,h){return new Uu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Hn.newInvalidDocument(d)))});let s=Wd();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&bf(d.mutation,u,kr.empty(),un.now()),By(n,u)&&(s=s.insert(c,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return re.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:BK(i.bundledQuery),readTime:Gi(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(){this.overlays=new $t(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return re.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),a=n.length+1,o=new Ee(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const c=s.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new $t((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=Cs(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=Cs(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return re.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gK(n,r));let a=this.Qr.get(n);a===void 0&&(a=Ge(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.$r=new dn(vn.Ur),this.Kr=new dn(vn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new vn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new vn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ee(new St([])),r=new vn(n,e),i=new vn(n,e+1),a=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new St([])),r=new vn(n,e),i=new vn(n,e+1);let a=Ge();return this.Kr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new vn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Be(e.Zr,n.Zr)}static Wr(e,n){return Be(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new dn(vn.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mK(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Xr=this.Xr.add(new vn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,n){return re.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?jS:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],o=>{const s=this.ei(o.Zr);a.push(s)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Be);return n.forEach(i=>{const a=new vn(i,0),o=new vn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],s=>{r=r.add(s.Zr)})}),re.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const o=new vn(new Ee(a),0);let s=new dn(Be);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(c.Zr)),!0)},o),re.resolve(this.ni(s))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return re.forEach(n.mutations,i=>{const a=new vn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new vn(n,0),i=this.Xr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.ii=e,this.docs=function(){return new $t(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=Ua();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Hn.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ua();const o=n.path,s=new Ee(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||NW(OW(d),r)<=0||(i.has(d.key)||By(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}si(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tX(this)}getSize(e){return re.resolve(this.size)}}class tX extends WK{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.persistence=e,this.oi=new xl(n=>CS(n),IS),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this._i=0,this.ai=new DS,this.targetCount=0,this.ui=Kc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),re.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Tr(n),re.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),re.waitFor(a).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.ci={},this.overlays={},this.li=new Ry(0),this.hi=!1,this.hi=!0,this.Pi=new ZK,this.referenceDelegate=e(this),this.Ti=new nX(this),this.indexManager=new UK,this.remoteDocumentCache=function(i){return new eX(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new LK(n),this.Ei=new YK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new JK(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new rX(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return re.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class rX extends IW{constructor(e){super(),this.currentSequenceNumber=e}}class $S{constructor(e){this.persistence=e,this.Vi=new DS,this.mi=null}static fi(e){return new $S(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,r=>{const i=Ee.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return re.or([()=>re.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qg{constructor(e,n){this.persistence=e,this.yi=new xl(r=>RW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GK(this,n)}static fi(e,n){return new Qg(e,n)}di(){}Ai(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return re.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(s=>{s||(r++,a.removeEntry(o,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jm(e.data.value)),n}Dr(e,n,r){return re.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Ge(),i=Ge();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new LS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QF()?8:PW(Yn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new iX;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.fs)return this.Ds(e,n,o,s.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Kl()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(Kl()<=qe.DEBUG&&fe("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Kl()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):re.resolve())}ws(e,n){if(vN(n))return re.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=h_(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ge(...a);return this.ys.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,s);return this.Cs(n,u,o,c.readTime)?this.ws(e,h_(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return vN(n)||i.isEqual(ke.min())?re.resolve(null):this.ys.getDocuments(e,r).next(a=>{const o=this.vs(n,a);return this.Cs(n,o,r,i)?re.resolve(null):(Kl()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xl(n)),this.Fs(e,o,n,jW(i,Gf)).next(s=>s))})}vs(e,n){let r=new dn(g6(e));return n.forEach((i,a)=>{By(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Kl()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.ys.getDocumentsMatchingQuery(e,n,zo.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="LocalStore",oX=3e8;class sX{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new $t(Be),this.Os=new xl(a=>CS(a),IS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XK(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function lX(t,e,n,r){return new sX(t,e,n,r)}async function U6(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let c=Ge();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:s}))})})}function cX(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(s,c,u,d){const f=u.batch,h=f.keys();let m=re.resolve();return h.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(y=>{const x=u.docVersions.get(v);it(x!==null,48541),y.version.compareTo(x)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(c,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let c=Ge();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(c=c.add(s.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function V6(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function uX(t,e){const n=De(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ti.removeMatchingKeys(a,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(a,d.addedDocuments,f)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Dn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(y,x,_){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=oX?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,d)&&s.push(n.Ti.updateTargetData(a,m))});let c=Ua(),u=Ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(dX(a,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(ke.min())){const d=n.Ti.getLastRemoteSnapshotVersion(a).next(f=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(d)}return re.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.xs=i,a))}function dX(t,e,n){let r=Ge(),i=Ge();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ua();return n.forEach((s,c)=>{const u=a.get(s);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(s,c.readTime),o=o.insert(s,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(s,c)):fe(BS,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function fX(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hX(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,re.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new _o(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function y_(t,e,n){const r=De(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bu(o))throw o;fe(BS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function CN(t,e,n){const r=De(t);let i=ke.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=De(c),h=f.Os.get(d);return h!==void 0?re.resolve(f.xs.get(h)):f.Ti.getTargetData(u,d)}(r,o,qi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,s.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?a:Ge())).next(s=>(pX(r,JW(e),s),{documents:s,$s:a})))}function pX(t,e,n){let r=t.Ns.get(e)||ke.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class IN{constructor(){this.activeTargetIds=aK()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mX{constructor(){this.xo=new IN,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new IN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="ConnectivityMonitor";class kN{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(PN,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(PN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm=null;function b_(){return cm===null?cm=function(){return 268435456+Math.round(2147483648*Math.random())}():cm++,"0x"+cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="RestConnection",vX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Gg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const o=b_(),s=this.jo(e,n.toUriEncodedString());fe(fx,`Sending RPC '${e}' ${o}:`,s,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:u}=new URL(s),d=Jo(u);return this.Jo(e,s,c,r,d).then(f=>(fe(fx,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Hc(fx,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",r),f})}Yo(e,n,r,i,a,o){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$u}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=vX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class xX extends yX{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=b_();return new Promise((s,c)=>{const u=new F$;u.setWithCredentials(!0),u.listenOnce(H$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zm.NO_ERROR:const f=u.getResponseJson();fe(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Zm.TIMEOUT:fe(Vn,`RPC '${e}' ${o} timed out`),c(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Zm.HTTP_ERROR:const h=u.getStatus();if(fe(Vn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const y=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(b)>=0?b:ne.UNKNOWN}(v.status);c(new he(y,v.message))}else c(new he(ne.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{fe(Vn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);fe(Vn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}I_(e,n,r){const i=b_(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=W$(),s=G$(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");fe(Vn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.E_(f);let h=!1,m=!1;const v=new bX({Zo:x=>{m?fe(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(fe(Vn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),fe(Vn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Xo:()=>f.close()}),y=(x,_,b)=>{x.listen(_,g=>{try{b(g)}catch(T){setTimeout(()=>{throw T},0)}})};return y(f,Gd.EventType.OPEN,()=>{m||(fe(Vn,`RPC '${e}' stream ${i} transport opened.`),v.__())}),y(f,Gd.EventType.CLOSE,()=>{m||(m=!0,fe(Vn,`RPC '${e}' stream ${i} transport closed`),v.u_(),this.d_(f))}),y(f,Gd.EventType.ERROR,x=>{m||(m=!0,Hc(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),v.u_(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),y(f,Gd.EventType.MESSAGE,x=>{var _;if(!m){const b=x.data[0];it(!!b,16349);const g=b,T=(g==null?void 0:g.error)||((_=g[0])===null||_===void 0?void 0:_.error);if(T){fe(Vn,`RPC '${e}' stream ${i} received error:`,T);const w=T.status;let j=function(O){const I=Yt[O];if(I!==void 0)return O6(I)}(w),E=T.message;j===void 0&&(j=ne.INTERNAL,E="Unknown error status: "+w+" with message "+T.message),m=!0,v.u_(new he(j,E)),f.close()}else fe(Vn,`RPC '${e}' stream ${i} received:`,b),v.c_(b)}}),y(s,q$.STAT_EVENT,x=>{x.stat===o_.PROXY?fe(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===o_.NOPROXY&&fe(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function hx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){return new SK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="PersistentStream";class F6{constructor(e,n,r,i,a,o,s,c){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new z6(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ba(n.toString()),Ba("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new he(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(RN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(RN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _X extends F6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=jK(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Gi(o.readTime):ke.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=v_(this.serializer),n.addTarget=function(a,o){let s;const c=o.target;if(s=d_(c)?{documents:CK(a,c)}:{query:IK(a,c).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=I6(a,o.resumeToken);const u=p_(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ke.min())>0){s.readTime=Yg(a,o.snapshotVersion.toTimestamp());const u=p_(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=kK(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=v_(this.serializer),n.removeTarget=e,this.Q_(n)}}class wX extends F6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=NK(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=v_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OK(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{}class SX extends AX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,m_(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(ne.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Yo(e,m_(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ne.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class EX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ba(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="RemoteStore";class TX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{r.enqueueAndForget(async()=>{_l(this)&&(fe(nl,"Restarting streams for network reachability change."),await async function(c){const u=De(c);u.da.add(4),await op(u),u.Va.set("Unknown"),u.da.delete(4),await Hy(u)}(this))})}),this.Va=new EX(r,i)}}async function Hy(t){if(_l(t))for(const e of t.Aa)await e(!0)}async function op(t){for(const e of t.Aa)await e(!1)}function H6(t,e){const n=De(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),FS(n)?zS(n):Vu(n).N_()&&VS(n,e))}function US(t,e){const n=De(t),r=Vu(n);n.Ea.delete(e),r.N_()&&q6(n,e),n.Ea.size===0&&(r.N_()?r.k_():_l(n)&&n.Va.set("Unknown"))}function VS(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vu(t).Z_(e)}function q6(t,e){t.ma.Ke(e),Vu(t).X_(e)}function zS(t){t.ma=new xK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Vu(t).start(),t.Va.ca()}function FS(t){return _l(t)&&!Vu(t).O_()&&t.Ea.size>0}function _l(t){return De(t).da.size===0}function G6(t){t.ma=void 0}async function jX(t){t.Va.set("Online")}async function OX(t){t.Ea.forEach((e,n)=>{VS(t,e)})}async function NX(t,e){G6(t),FS(t)?(t.Va.Pa(e),zS(t)):t.Va.set("Unknown")}async function CX(t,e,n){if(t.Va.set("Online"),e instanceof C6&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ea.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ea.delete(s),i.ma.removeTarget(s))}(t,e)}catch(r){fe(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zg(t,r)}else if(e instanceof ng?t.ma.Xe(e):e instanceof N6?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ke.min()))try{const r=await V6(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.ma.It(o);return s.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ea.get(u);d&&a.Ea.set(u,d.withResumeToken(c.resumeToken,o))}}),s.targetMismatches.forEach((c,u)=>{const d=a.Ea.get(c);if(!d)return;a.Ea.set(c,d.withResumeToken(Dn.EMPTY_BYTE_STRING,d.snapshotVersion)),q6(a,c);const f=new _o(d.target,c,u,d.sequenceNumber);VS(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){fe(nl,"Failed to raise snapshot:",r),await Zg(t,r)}}async function Zg(t,e,n){if(!Bu(e))throw e;t.da.add(1),await op(t),t.Va.set("Offline"),n||(n=()=>V6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(nl,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Hy(t)})}function W6(t,e){return e().catch(n=>Zg(t,n,e))}async function qy(t){const e=De(t),n=Go(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:jS;for(;IX(e);)try{const i=await fX(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,PX(e,i)}catch(i){await Zg(e,i)}K6(e)&&X6(e)}function IX(t){return _l(t)&&t.Ia.length<10}function PX(t,e){t.Ia.push(e);const n=Go(t);n.N_()&&n.ea&&n.ta(e.mutations)}function K6(t){return _l(t)&&!Go(t).O_()&&t.Ia.length>0}function X6(t){Go(t).start()}async function kX(t){Go(t).ia()}async function RX(t){const e=Go(t);for(const n of t.Ia)e.ta(n.mutations)}async function MX(t,e,n){const r=t.Ia.shift(),i=kS.from(r,e,n);await W6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qy(t)}async function DX(t,e){e&&Go(t).ea&&await async function(r,i){if(function(o){return yK(o)&&o!==ne.ABORTED}(i.code)){const a=r.Ia.shift();Go(r).L_(),await W6(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await qy(r)}}(t,e),K6(t)&&X6(t)}async function MN(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),fe(nl,"RemoteStore received new credentials");const r=_l(n);n.da.add(3),await op(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Hy(n)}async function $X(t,e){const n=De(t);e?(n.da.delete(2),await Hy(n)):e||(n.da.add(2),await op(n),n.Va.set("Unknown"))}function Vu(t){return t.fa||(t.fa=function(n,r,i){const a=De(n);return a.oa(),new _X(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:jX.bind(null,t),n_:OX.bind(null,t),i_:NX.bind(null,t),Y_:CX.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),FS(t)?zS(t):t.Va.set("Unknown")):(await t.fa.stop(),G6(t))})),t.fa}function Go(t){return t.ga||(t.ga=function(n,r,i){const a=De(n);return a.oa(),new wX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:kX.bind(null,t),i_:DX.bind(null,t),na:RX.bind(null,t),ra:MX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await qy(t)):(await t.ga.stop(),t.Ia.length>0&&(fe(nl,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new HS(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qS(t,e){if(Ba("AsyncQueue",`${e}: ${t}`),Bu(t))return new he(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{static emptySet(e){return new jc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Wd(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.pa=new $t(Ee.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xc{constructor(e,n,r,i,a,o,s,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Xc(e,n,jc.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ly(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class BX{constructor(){this.queries=$N(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=De(n),a=i.queries;i.queries=$N(),a.forEach((o,s)=>{for(const c of s.Sa)c.onError(r)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function $N(){return new xl(t=>m6(t),Ly)}async function GS(t,e){const n=De(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new LX,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=qS(o,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&KS(n)}async function WS(t,e){const n=De(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UX(t,e){const n=De(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Ma(i)&&(r=!0);o.ba=i}}r&&KS(n)}function VX(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function KS(t){t.Ca.forEach(e=>{e.next()})}var x_,LN;(LN=x_||(x_={})).xa="default",LN.Cache="cache";class XS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.key=e}}class Q6{constructor(e){this.key=e}}class zX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.Za=g6(e),this.Xa=new jc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new DN,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=By(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;h&&m?h.data.isEqual(m.data)?v!==y&&(r.track({type:3,doc:m}),x=!0):this.ru(h,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.Za(m,c)>0||u&&this.Za(m,u)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),x=!0):h&&!m&&(r.track({type:1,doc:h}),x=!0,(c||u)&&(s=!0)),x&&(m?(o=o.add(m),a=y?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:s,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,f)=>function(m,v){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:x})}};return y(m)-y(v)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const s=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new Xc(this.query,e.Xa,a,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new DN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Q6(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Y6(r))}),n}au(e){this.Ha=e.$s,this.Ya=Ge();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Xc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const YS="SyncEngine";class FX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HX{constructor(e){this.key=e,this.cu=!1}}class qX{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new xl(s=>m6(s),Ly),this.Pu=new Map,this.Tu=new Set,this.Iu=new $t(Ee.comparator),this.Eu=new Map,this.du=new DS,this.Au={},this.Ru=new Map,this.Vu=Kc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GX(t,e,n=!0){const r=r3(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await Z6(r,e,n,!0),i}async function WX(t,e){const n=r3(t);await Z6(n,e,!0,!1)}async function Z6(t,e,n,r){const i=await hX(t.localStore,qi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await KX(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&H6(t.remoteStore,i),s}async function KX(t,e,n,r,i){t.fu=(f,h,m)=>async function(y,x,_,b){let g=x.view.tu(_);g.Cs&&(g=await CN(y.localStore,x.query,!1).then(({documents:E})=>x.view.tu(E,g)));const T=b&&b.targetChanges.get(x.targetId),w=b&&b.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(g,y.isPrimaryClient,T,w);return UN(y,x.targetId,j.ou),j.snapshot}(t,f,h,m);const a=await CN(t.localStore,e,!0),o=new zX(e,a.$s),s=o.tu(a.documents),c=ap.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,c);UN(t,n,u.ou);const d=new FX(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function XX(t,e,n){const r=De(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(o=>!Ly(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await y_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&US(r.remoteStore,i.targetId),__(r,i.targetId)}).catch(Lu)):(__(r,i.targetId),await y_(r.localStore,i.targetId,!0))}async function YX(t,e){const n=De(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),US(n.remoteStore,r.targetId))}async function QX(t,e,n){const r=iY(t);try{const i=await function(o,s){const c=De(o),u=un.now(),d=s.reduce((m,v)=>m.add(v.key),Ge());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Ua(),y=Ge();return c.Bs.getEntries(m,d).next(x=>{v=x,v.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(x=>{f=x;const _=[];for(const b of s){const g=hK(b,f.get(b.key).overlayedDocument);g!=null&&_.push(new ns(b.key,g,s6(g.value.mapValue),Si.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,s)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,y);return c.documentOverlayCache.saveOverlays(m,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:y6(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,c){let u=o.Au[o.currentUser.toKey()];u||(u=new $t(Be)),u=u.insert(s,c),o.Au[o.currentUser.toKey()]=u}(r,i.batchId,n),await sp(r,i.changes),await qy(r.remoteStore)}catch(i){const a=qS(i,"Failed to persist write");n.reject(a)}}async function J6(t,e){const n=De(t);try{const r=await uX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Eu.get(a);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?it(o.cu,14607):i.removedDocuments.size>0&&(it(o.cu,42227),o.cu=!1))}),await sp(n,r,e)}catch(r){await Lu(r)}}function BN(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,o)=>{const s=o.view.Fa(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const c=De(o);c.onlineState=s;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.Fa(s)&&(u=!0)}),u&&KS(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZX(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let o=new $t(Ee.comparator);o=o.insert(a,Hn.newNoDocument(a,ke.min()));const s=Ge().add(a),c=new zy(ke.min(),new Map,new $t(Be),o,s);await J6(r,c),r.Iu=r.Iu.remove(a),r.Eu.delete(e),QS(r)}else await y_(r.localStore,e,!1).then(()=>__(r,e,n)).catch(Lu)}async function JX(t,e){const n=De(t),r=e.batch.batchId;try{const i=await cX(n.localStore,e);t3(n,r,null),e3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sp(n,i)}catch(i){await Lu(i)}}async function eY(t,e,n){const r=De(t);try{const i=await function(o,s){const c=De(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,s).next(f=>(it(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,s)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);t3(r,e,n),e3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sp(r,i)}catch(i){await Lu(i)}}function e3(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function t3(t,e,n){const r=De(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function __(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||n3(t,r)})}function n3(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(US(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),QS(t))}function UN(t,e,n){for(const r of n)r instanceof Y6?(t.du.addReference(r.key,e),tY(t,r)):r instanceof Q6?(fe(YS,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||n3(t,r.key)):Ne(19791,{pu:r})}function tY(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(fe(YS,"New document in limbo: "+n),t.Tu.add(r),QS(t))}function QS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ee(St.fromString(e)),r=t.Vu.next();t.Eu.set(r,new HX(n)),t.Iu=t.Iu.insert(n,r),H6(t.remoteStore,new _o(qi($y(n.path)),r,"TargetPurposeLimboResolution",Ry.le))}}async function sp(t,e,n){const r=De(t),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((s,c)=>{o.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=LS.Rs(c.targetId,u);a.push(f)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(c,u){const d=De(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(u,h=>re.forEach(h.ds,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>re.forEach(h.As,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Bu(f))throw f;fe(BS,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.xs.get(h),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(h,y)}}}(r.localStore,a))}async function nY(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){fe(YS,"User change. New user:",e.toKey());const r=await U6(n.localStore,e);n.currentUser=e,function(a,o){a.Ru.forEach(s=>{s.forEach(c=>{c.reject(new he(ne.CANCELLED,o))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sp(n,r.ks)}}function rY(t,e){const n=De(t),r=n.Eu.get(e);if(r&&r.cu)return Ge().add(r.key);{let i=Ge();const a=n.Pu.get(e);if(!a)return i;for(const o of a){const s=n.hu.get(o);i=i.unionWith(s.view.eu)}return i}}function r3(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZX.bind(null,e),e.lu.Y_=UX.bind(null,e.eventManager),e.lu.gu=VX.bind(null,e.eventManager),e}function iY(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eY.bind(null,e),e}class Jg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return lX(this.persistence,new aX,e.initialUser,this.serializer)}Su(e){return new B6($S.fi,this.serializer)}bu(e){return new mX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jg.provider={build:()=>new Jg};class aY extends Jg{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){it(this.persistence.referenceDelegate instanceof Qg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HK(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new B6(r=>Qg.fi(r,n),this.serializer)}}class w_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nY.bind(null,this.syncEngine),await $X(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BX}()}createDatastore(e){const n=Fy(e.databaseInfo.databaseId),r=function(a){return new xX(a)}(e.databaseInfo);return function(a,o,s,c){return new SX(a,o,s,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new TX(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>BN(this.syncEngine,n,0),function(){return kN.C()?new kN:new gX}())}createSyncEngine(e,n){return function(i,a,o,s,c,u,d){const f=new qX(i,a,o,s,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=De(i);fe(nl,"RemoteStore shutting down."),a.da.add(5),await op(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}w_.provider={build:()=>new w_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ba("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="FirestoreClient";class oY{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=Q$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{fe(Wo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Wo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function px(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sY(t);fe(Wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MN(e.remoteStore,i)),t._onlineComponents=e}async function sY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Wo,"Using user provided OfflineComponentProvider");try{await px(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hc("Error using user provided cache. Falling back to memory cache: "+n),await px(t,new Jg)}}else fe(Wo,"Using default OfflineComponentProvider"),await px(t,new aY(void 0));return t._offlineComponents}async function i3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Wo,"Using user provided OnlineComponentProvider"),await VN(t,t._uninitializedComponentsProvider._online)):(fe(Wo,"Using default OnlineComponentProvider"),await VN(t,new w_))),t._onlineComponents}function lY(t){return i3(t).then(e=>e.syncEngine)}async function ev(t){const e=await i3(t),n=e.eventManager;return n.onListen=GX.bind(null,e.syncEngine),n.onUnlisten=XX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YX.bind(null,e.syncEngine),n}function cY(t,e,n={}){const r=new Oa;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,c,u){const d=new ZS({next:h=>{d.xu(),o.enqueueAndForget(()=>WS(a,f));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?u.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new XS($y(s.path),d,{includeMetadataChanges:!0,Qa:!0});return GS(a,f)}(await ev(t),t.asyncQueue,e,n,r)),r.promise}function uY(t,e,n={}){const r=new Oa;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,c,u){const d=new ZS({next:h=>{d.xu(),o.enqueueAndForget(()=>WS(a,f)),h.fromCache&&c.source==="server"?u.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new XS(s,d,{includeMetadataChanges:!0,Qa:!0});return GS(a,f)}(await ev(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dY(t,e,n,r){if(e===!0&&r===!0)throw new he(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FN(t){if(!Ee.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HN(t){if(Ee.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gy(t);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="firestore.googleapis.com",qN=!0;class GN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s3,this.ssl=qN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zK)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yW;switch(r.type){case"firstParty":return new wW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zN.get(n);r&&(fe("ComponentProvider","Removing Datastore"),zN.delete(n),r.terminate())}(this),Promise.resolve()}}function fY(t,e,n,r={}){var i;t=Ur(t,Wy);const a=Jo(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(fS(`https://${c}`),hS("Firestore",!0)),o.host!==s3&&o.host!==c&&Hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:r});if(!Vo(u,s)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Fn.MOCK_USER;else{d=n$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fn(h)}t._authCredentials=new bW(new X$(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Mo extends rs{constructor(e,n,r){super(e,n,$y(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Ee(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function An(t,e,...n){if(t=kt(t),o3("collection","path",e),t instanceof Wy){const r=St.fromString(e,...n);return HN(r),new Mo(t,null,r)}{if(!(t instanceof Xn||t instanceof Mo))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return HN(r),new Mo(t.firestore,null,r)}}function rr(t,e,...n){if(t=kt(t),arguments.length===1&&(e=Q$.newId()),o3("doc","path",e),t instanceof Wy){const r=St.fromString(e,...n);return FN(r),new Xn(t,null,new Ee(r))}{if(!(t instanceof Xn||t instanceof Mo))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(St.fromString(e,...n));return FN(r),new Xn(t.firestore,t instanceof Mo?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="AsyncQueue";class KN{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new z6(this,"async_queue_retry"),this.rc=()=>{const r=hx();r&&fe(WN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=hx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=hx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Oa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Bu(e))throw e;fe(WN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ba("INTERNAL UNHANDLED ERROR: ",XN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=HS.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Ne(47125,{cc:XN(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function XN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ko extends Wy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new KN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KN(e),this._firestoreClient=void 0,await e}}}function hY(t,e){const n=typeof t=="object"?t:Cy(),r=typeof t=="string"?t:Gg,i=es(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=J4("firestore");a&&fY(i,...a)}return i}function Ky(t){if(t._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pY(t),t._firestoreClient}function pY(t){var e,n,r;const i=t._freezeSettings(),a=function(s,c,u,d){return new $W(s,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,a3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new oY(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const c=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(Dn.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yc(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=/^__.*__$/;class gY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new ip(e,this.data,n,this.fieldTransforms)}}class l3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:t})}}class tE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new tE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return tv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(c3(this.Ic)&&mY.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class vY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fy(e)}bc(e,n,r,i=!1){return new tE({Ic:e,methodName:n,wc:r,path:Rn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(t){const e=t._freezeSettings(),n=Fy(t._databaseId);return new vY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u3(t,e,n,r,i,a={}){const o=t.bc(a.merge||a.mergeFields?2:0,e,n,i);rE("Data must be an object, but it was:",o,r);const s=d3(r,o);let c,u;if(a.merge)c=new kr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=A_(e,f,n);if(!o.contains(h))throw new he(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);h3(d,h)||d.push(h)}c=new kr(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new gY(new pr(s),c,u)}class Zy extends Yy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zy}}class nE extends Yy{_toFieldTransform(e){return new cK(e.path,new Qf)}isEqual(e){return e instanceof nE}}function yY(t,e,n,r){const i=t.bc(1,e,n);rE("Data must be an object, but it was:",i,r);const a=[],o=pr.empty();ts(r,(c,u)=>{const d=iE(e,c,n);u=kt(u);const f=i.mc(d);if(u instanceof Zy)a.push(d);else{const h=lp(u,f);h!=null&&(a.push(d),o.set(d,h))}});const s=new kr(a);return new l3(o,s,i.fieldTransforms)}function bY(t,e,n,r,i,a){const o=t.bc(1,e,n),s=[A_(e,r,n)],c=[i];if(a.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(A_(e,a[h])),c.push(a[h+1]);const u=[],d=pr.empty();for(let h=s.length-1;h>=0;--h)if(!h3(u,s[h])){const m=s[h];let v=c[h];v=kt(v);const y=o.mc(m);if(v instanceof Zy)u.push(m);else{const x=lp(v,y);x!=null&&(u.push(m),d.set(m,x))}}const f=new kr(u);return new l3(d,f,o.fieldTransforms)}function xY(t,e,n,r=!1){return lp(n,t.bc(r?4:3,e))}function lp(t,e){if(f3(t=kt(t)))return rE("Unsupported field value:",e,t),d3(t,e);if(t instanceof Yy)return function(r,i){if(!c3(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let c=lp(s,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=un.fromDate(r);return{timestampValue:Yg(i.serializer,a)}}if(r instanceof un){const a=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yg(i.serializer,a)}}if(r instanceof JS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yc)return{bytesValue:I6(i.serializer,r._byteString)};if(r instanceof Xn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:MS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eE)return function(o,s){return{mapValue:{fields:{[a6]:{stringValue:o6},[Wg]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.gc("VectorValues must only contain numeric values.");return PS(s.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Gy(r)}`)}(t,e)}function d3(t,e){const n={};return J$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,i)=>{const a=lp(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function f3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof JS||t instanceof Yc||t instanceof Xn||t instanceof Yy||t instanceof eE)}function rE(t,e,n){if(!f3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gy(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function A_(t,e,n){if((e=kt(e))instanceof Xy)return e._internalPath;if(typeof e=="string")return iE(t,e);throw tv("Field path arguments must be of type string or ",t,!1,void 0,n)}const _Y=new RegExp("[~\\*/\\[\\]]");function iE(t,e,n){if(e.search(_Y)>=0)throw tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xy(...e.split("."))._internalPath}catch{throw tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tv(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new he(ne.INVALID_ARGUMENT,s+t+c)}function h3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wY extends p3{data(){return super.data()}}function Jy(t,e){return typeof e=="string"?iE(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aE{}class g3 extends aE{}function er(t,e,...n){let r=[];e instanceof aE&&r.push(e),r=r.concat(n),function(a){const o=a.filter(c=>c instanceof oE).length,s=a.filter(c=>c instanceof e0).length;if(o>1||o>0&&s>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class e0 extends g3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e0(e,n,r)}_apply(e){const n=this._parse(e);return v3(e._query,n),new rs(e.firestore,e.converter,f_(e._query,n))}_parse(e){const n=Qy(e.firestore);return function(a,o,s,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ZN(f,d);const v=[];for(const y of f)v.push(QN(c,a,y));h={arrayValue:{values:v}}}else h=QN(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ZN(f,d),h=xY(s,o,f,d==="in"||d==="not-in");return Jt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gn(t,e,n){const r=e,i=Jy("where",t);return e0._create(i,r,n)}class oE extends aE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const c of s)v3(o,c),o=f_(o,c)}(e._query,n),new rs(e.firestore,e.converter,f_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sE extends g3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sE(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yf(a,o)}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Uu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function lE(t,e="asc"){const n=e,r=Jy("orderBy",t);return sE._create(r,n)}function QN(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p6(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(St.fromString(n));if(!Ee.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dN(t,new Ee(r))}if(n instanceof Xn)return dN(t,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gy(n)}.`)}function ZN(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v3(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AY{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Wg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Kt(o.doubleValue));return new eE(a)}convertGeoPoint(e){return new JS(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wf(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=St.fromString(e);it($6(r),9688,{name:e});const i=new Kf(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return i.isEqual(n)||Ba(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b3 extends p3{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rg extends b3{data(e={}){return super.data(e)}}class x3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rg(this._firestore,this._userDataWriter,r.key,r,new Xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const c=new rg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const c=new rg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:SY(s.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t){t=Ur(t,Xn);const e=Ur(t.firestore,Ko);return cY(Ky(e),t._key).then(n=>_3(e,t,n))}class cE extends AY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function Pn(t){t=Ur(t,rs);const e=Ur(t.firestore,Ko),n=Ky(e),r=new cE(e);return m3(t._query),uY(n,t._query).then(i=>new x3(e,r,t,i))}function JN(t,e,n){t=Ur(t,Xn);const r=Ur(t.firestore,Ko),i=y3(t.converter,e,n);return uE(r,[u3(Qy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Si.none())])}function Rr(t,e,n,...r){t=Ur(t,Xn);const i=Ur(t.firestore,Ko),a=Qy(i);let o;return o=typeof(e=kt(e))=="string"||e instanceof Xy?bY(a,"updateDoc",t._key,e,n,r):yY(a,"updateDoc",t._key,e),uE(i,[o.toMutation(t._key,Si.exists(!0))])}function nv(t,e){const n=Ur(t.firestore,Ko),r=rr(t),i=y3(t.converter,e);return uE(n,[u3(Qy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function TY(t,...e){var n,r,i;t=kt(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YN(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(YN(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Xn)u=Ur(t.firestore,Ko),d=$y(t._key.path),c={next:f=>{e[o]&&e[o](_3(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ur(t,rs);u=Ur(f.firestore,Ko),d=f._query;const h=new cE(u);c={next:m=>{e[o]&&e[o](new x3(u,h,f,m))},error:e[o+1],complete:e[o+2]},m3(t._query)}return function(h,m,v,y){const x=new ZS(y),_=new XS(m,x,v);return h.asyncQueue.enqueueAndForget(async()=>GS(await ev(h),_)),()=>{x.xu(),h.asyncQueue.enqueueAndForget(async()=>WS(await ev(h),_))}}(Ky(u),d,s,c)}function uE(t,e){return function(r,i){const a=new Oa;return r.asyncQueue.enqueueAndForget(async()=>QX(await lY(r),i,a)),a.promise}(Ky(t),e)}function _3(t,e,n){const r=n.docs.get(e._key),i=new cE(t);return new b3(t,i,e._key,r,new Xd(n.hasPendingWrites,n.fromCache),e.converter)}function t0(){return new nE("serverTimestamp")}(function(e,n=!0){(function(i){$u=i})(bl),Ti(new oi("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Ko(new xW(r.getProvider("auth-internal")),new AW(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(u.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),gr(JO,eN,e),gr(JO,eN,"esm2017")})();var jY="firebase",OY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(jY,OY,"app");const w3="@firebase/installations",dE="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1e4,S3=`w:${dE}`,E3="FIS_v2",NY="https://firebaseinstallations.googleapis.com/v1",CY=60*60*1e3,IY="installations",PY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rl=new yl(IY,PY,kY);function T3(t){return t instanceof li&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3({projectId:t}){return`${NY}/projects/${t}/installations`}function O3(t){return{token:t.token,requestStatus:2,expiresIn:MY(t.expiresIn),creationTime:Date.now()}}async function N3(t,e){const r=(await e.json()).error;return rl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function C3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RY(t,{refreshToken:e}){const n=C3(t);return n.append("Authorization",DY(e)),n}async function I3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MY(t){return Number(t.replace("s","000"))}function DY(t){return`${E3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Y({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=j3(t),i=C3(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:E3,appId:t.appId,sdkVersion:S3},s={method:"POST",headers:i,body:JSON.stringify(o)},c=await I3(()=>fetch(r,s));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:O3(u.authToken)}}else throw await N3("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY=/^[cdef][\w-]{21}$/,S_="";function UY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=VY(t);return BY.test(n)?n:S_}catch{return S_}}function VY(t){return LY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Map;function R3(t,e){const n=n0(t);M3(n,e),zY(n,e)}function M3(t,e){const n=k3.get(t);if(n)for(const r of n)r(e)}function zY(t,e){const n=FY();n&&n.postMessage({key:t,fid:e}),HY()}let Is=null;function FY(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{M3(t.data.key,t.data.fid)}),Is}function HY(){k3.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="firebase-installations-database",GY=1,il="firebase-installations-store";let mx=null;function fE(){return mx||(mx=l$(qY,GY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),mx}async function rv(t,e){const n=n0(t),i=(await fE()).transaction(il,"readwrite"),a=i.objectStore(il),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&R3(t,e.fid),e}async function D3(t){const e=n0(t),r=(await fE()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}async function r0(t,e){const n=n0(t),i=(await fE()).transaction(il,"readwrite"),a=i.objectStore(il),o=await a.get(n),s=e(o);return s===void 0?await a.delete(n):await a.put(s,n),await i.done,s&&(!o||o.fid!==s.fid)&&R3(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t){let e;const n=await r0(t.appConfig,r=>{const i=WY(r),a=KY(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===S_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WY(t){const e=t||{fid:UY(),registrationStatus:0};return $3(e)}function KY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(rl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YY(t)}:{installationEntry:e}}async function XY(t,e){try{const n=await $Y(t,e);return rv(t.appConfig,n)}catch(n){throw T3(n)&&n.customData.serverCode===409?await D3(t.appConfig):await rv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YY(t){let e=await eC(t.appConfig);for(;e.registrationStatus===1;)await P3(100),e=await eC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hE(t);return r||n}return e}function eC(t){return r0(t,e=>{if(!e)throw rl.create("installation-not-found");return $3(e)})}function $3(t){return QY(t)?{fid:t.fid,registrationStatus:0}:t}function QY(t){return t.registrationStatus===1&&t.registrationTime+A3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY({appConfig:t,heartbeatServiceProvider:e},n){const r=JY(t,n),i=RY(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:S3,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},c=await I3(()=>fetch(r,s));if(c.ok){const u=await c.json();return O3(u)}else throw await N3("Generate Auth Token",c)}function JY(t,{fid:e}){return`${j3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(t,e=!1){let n;const r=await r0(t.appConfig,a=>{if(!L3(a))throw rl.create("not-registered");const o=a.authToken;if(!e&&nQ(o))return a;if(o.requestStatus===1)return n=eQ(t,e),a;{if(!navigator.onLine)throw rl.create("app-offline");const s=iQ(a);return n=tQ(t,s),s}});return n?await n:r.authToken}async function eQ(t,e){let n=await tC(t.appConfig);for(;n.authToken.requestStatus===1;)await P3(100),n=await tC(t.appConfig);const r=n.authToken;return r.requestStatus===0?pE(t,e):r}function tC(t){return r0(t,e=>{if(!L3(e))throw rl.create("not-registered");const n=e.authToken;return aQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tQ(t,e){try{const n=await ZY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await rv(t.appConfig,r),n}catch(n){if(T3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await D3(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await rv(t.appConfig,r)}throw n}}function L3(t){return t!==void 0&&t.registrationStatus===2}function nQ(t){return t.requestStatus===2&&!rQ(t)}function rQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CY}function iQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aQ(t){return t.requestStatus===1&&t.requestTime+A3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await hE(e);return r?r.catch(console.error):pE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sQ(t,e=!1){const n=t;return await lQ(n),(await pE(n,e)).token}async function lQ(t){const{registrationPromise:e}=await hE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t){if(!t||!t.options)throw gx("App Configuration");if(!t.name)throw gx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gx(t){return rl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="installations",uQ="installations-internal",dQ=t=>{const e=t.getProvider("app").getImmediate(),n=cQ(e),r=es(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fQ=t=>{const e=t.getProvider("app").getImmediate(),n=es(e,B3).getImmediate();return{getId:()=>oQ(n),getToken:i=>sQ(n,i)}};function hQ(){Ti(new oi(B3,dQ,"PUBLIC")),Ti(new oi(uQ,fQ,"PRIVATE"))}hQ();gr(w3,dE);gr(w3,dE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="analytics",pQ="firebase_id",mQ="origin",gQ=60*1e3,vQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Ny("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vr=new yl("analytics","Analytics",yQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){if(!t.startsWith(mE)){const e=Vr.create("invalid-gtag-resource",{gtagURL:t});return vr.warn(e.message),""}return t}function U3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _Q(t,e){const n=xQ("firebase-js-sdk-policy",{createScriptURL:bQ}),r=document.createElement("script"),i=`${mE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function wQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function AQ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const c=(await U3(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(s){vr.error(s)}t("config",i,a)}async function SQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await U3(n);for(const c of o){const u=s.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){vr.error(a)}}function EQ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[s,c]=o;await SQ(t,e,n,s,c)}else if(a==="config"){const[s,c]=o;await AQ(t,e,n,r,s,c)}else if(a==="consent"){const[s,c]=o;t("consent",s,c)}else if(a==="get"){const[s,c,u]=o;t("get",s,c,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){vr.error(s)}}return i}function TQ(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=EQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function jQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=30,NQ=1e3;class CQ{constructor(e={},n=NQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V3=new CQ;function IQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function PQ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:IQ(r)},a=vQ.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(s=c.error.message)}catch{}throw Vr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function kQ(t,e=V3,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Vr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Vr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new DQ;return setTimeout(async()=>{s.abort()},gQ),z3({appId:r,apiKey:i,measurementId:a},o,s,e)}async function z3(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=V3){var a;const{appId:o,measurementId:s}=t;try{await RQ(r,e)}catch(c){if(s)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw c}try{const c=await PQ(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!MQ(u)){if(i.deleteThrottleMetadata(o),s)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw c}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?TO(n,i.intervalMillis,OQ):TO(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),vr.debug(`Calling attemptFetch again in ${d} millis`),z3(t,f,r,i)}}function RQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MQ(t){if(!(t instanceof li)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class DQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $Q(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LQ(){if(i$())try{await a$()}catch(t){return vr.warn(Vr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return vr.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function BQ(t,e,n,r,i,a,o){var s;const c=kQ(t);c.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>vr.error(m)),e.push(c);const u=LQ().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([c,u]);jQ(a)||_Q(a,d.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[mQ]="firebase",h.update=!0,f!=null&&(h[pQ]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.app=e}_delete(){return delete xf[this.app.options.appId],Promise.resolve()}}let xf={},nC=[];const rC={};let vx="dataLayer",VQ="gtag",iC,F3,aC=!1;function zQ(){const t=[];if(r$()&&t.push("This is a browser extension environment."),ZF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:e});vr.warn(n.message)}}function FQ(t,e,n){zQ();const r=t.options.appId;if(!r)throw Vr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vr.create("no-api-key");if(xf[r]!=null)throw Vr.create("already-exists",{id:r});if(!aC){wQ(vx);const{wrappedGtag:a,gtagCore:o}=TQ(xf,nC,rC,vx,VQ);F3=a,iC=o,aC=!0}return xf[r]=BQ(t,nC,rC,e,iC,vx,n),new UQ(t)}function HQ(t=Cy()){t=kt(t);const e=es(t,iv);return e.isInitialized()?e.getImmediate():qQ(t)}function qQ(t,e={}){const n=es(t,iv);if(n.isInitialized()){const i=n.getImmediate();if(Vo(e,n.getOptions()))return i;throw Vr.create("already-initialized")}return n.initialize({options:e})}function GQ(t,e,n,r){t=kt(t),$Q(F3,xf[t.app.options.appId],e,n,r).catch(i=>vr.error(i))}const oC="@firebase/analytics",sC="0.10.16";function WQ(){Ti(new oi(iv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return FQ(r,i,n)},"PUBLIC")),Ti(new oi("analytics-internal",t,"PRIVATE")),gr(oC,sC),gr(oC,sC,"esm2017");function t(e){try{const n=e.getProvider(iv).getImmediate();return{logEvent:(r,i,a)=>GQ(n,r,i,a)}}catch(n){throw Vr.create("interop-component-reg-failed",{reason:n})}}}WQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firebasestorage.googleapis.com",q3="storageBucket",KQ=2*60*1e3,XQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends li{constructor(e,n,r=0){super(yx(e),`Firebase Storage: ${n} (${yx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ft||(Ft={}));function yx(t){return"storage/"+t}function gE(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht(Ft.UNKNOWN,t)}function YQ(t){return new Ht(Ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QQ(t){return new Ht(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(Ft.UNAUTHENTICATED,t)}function JQ(){return new Ht(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eZ(t){return new Ht(Ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tZ(){return new Ht(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nZ(){return new Ht(Ft.CANCELED,"User canceled the upload/download.")}function rZ(t){return new Ht(Ft.INVALID_URL,"Invalid URL '"+t+"'.")}function iZ(t){return new Ht(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aZ(){return new Ht(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+q3+"' property when initializing the app?")}function oZ(){return new Ht(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sZ(){return new Ht(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lZ(t){return new Ht(Ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function E_(t){return new Ht(Ft.INVALID_ARGUMENT,t)}function G3(){return new Ht(Ft.APP_DELETED,"The Firebase app was deleted.")}function cZ(t){return new Ht(Ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _f(t,e){return new Ht(Ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Td(t){throw new Ht(Ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mr.makeFromUrl(e,n)}catch{return new Mr(e,"")}if(r.path==="")return r;throw iZ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},y=n===H3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${x}`,"i"),g=[{regex:s,indices:c,postModify:a},{regex:m,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<g.length;T++){const w=g[T],j=w.regex.exec(e);if(j){const E=j[w.indices.bucket];let A=j[w.indices.path];A||(A=""),r=new Mr(E,A),w.postModify(r);break}}if(r==null)throw rZ(e);return r}}class uZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function c(){return s===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(m,c())},x)}function h(){a&&clearTimeout(a)}function m(x,..._){if(u){h();return}if(x){h(),d.call(null,x,..._);return}if(c()||o){h(),d.call(null,x,..._);return}r<64&&(r*=2);let g;s===1?(s=2,g=0):g=(r+Math.random())*1e3,f(g)}let v=!1;function y(x){v||(v=!0,h(),!u&&(i!==null?(x||(s=2),clearTimeout(i),f(0)):x||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,y(!0)},n),y}function fZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(t){return t!==void 0}function pZ(t){return typeof t=="object"&&!Array.isArray(t)}function vE(t){return typeof t=="string"||t instanceof String}function lC(t){return yE()&&t instanceof Blob}function yE(){return typeof Blob<"u"}function cC(t,e,n,r){if(r<e)throw E_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw E_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function W3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qs||(qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e,n,r,i,a,o,s,c,u,d,f,h=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new um(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const c=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===qs.NO_ERROR,c=a.getStatus();if(!s||mZ(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===qs.ABORT;r(!1,new um(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new um(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(s,s.getResponse());hZ(c)?a(c):a()}catch(c){o(c)}else if(s!==null){const c=gE();c.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,c)):o(c)}else if(i.canceled){const c=this.appDelete_?G3():nZ();o(c)}else{const c=tZ();o(c)}};this.canceled_?n(!1,new um(!1,null,!0)):this.backoffId_=dZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class um{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function vZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _Z(t,e,n,r,i,a,o=!0,s=!1){const c=W3(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return bZ(d,e),vZ(d,n),yZ(d,a),xZ(d,r),new gZ(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AZ(...t){const e=wZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yE())return new Blob(t);throw new Ht(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(t){if(typeof atob>"u")throw lZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bx{constructor(e,n){this.data=e,this.contentType=n||null}}function TZ(t,e){switch(t){case $i.RAW:return new bx(K3(e));case $i.BASE64:case $i.BASE64URL:return new bx(X3(t,e));case $i.DATA_URL:return new bx(OZ(e),NZ(e))}throw gE()}function K3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jZ(t){let e;try{e=decodeURIComponent(t)}catch{throw _f($i.DATA_URL,"Malformed data URL.")}return K3(e)}function X3(t,e){switch(t){case $i.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw _f(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $i.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw _f(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EZ(e)}catch(i){throw i.message.includes("polyfill")?i:_f(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Y3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _f($i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OZ(t){const e=new Y3(t);return e.base64?X3($i.BASE64,e.rest):jZ(e.rest)}function NZ(t){return new Y3(t).contentType}function CZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){let r=0,i="";lC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(lC(this.data_)){const r=this.data_,i=SZ(r,e,n);return i===null?null:new mo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new mo(r,!0)}}static getBlob(...e){if(yE()){const n=e.map(r=>r instanceof mo?r.data_:r);return new mo(AZ.apply(null,n))}else{const n=e.map(o=>vE(o)?TZ($i.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new mo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){let e;try{e=JSON.parse(t)}catch{return null}return pZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Z3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t,e){return e}class Qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||kZ}}let dm=null;function RZ(t){return!vE(t)||t.length<2?t:Z3(t)}function J3(){if(dm)return dm;const t=[];t.push(new Qn("bucket")),t.push(new Qn("generation")),t.push(new Qn("metageneration")),t.push(new Qn("name","fullPath",!0));function e(a,o){return RZ(o)}const n=new Qn("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Qn("size");return i.xform=r,t.push(i),t.push(new Qn("timeCreated")),t.push(new Qn("updated")),t.push(new Qn("md5Hash",null,!0)),t.push(new Qn("cacheControl",null,!0)),t.push(new Qn("contentDisposition",null,!0)),t.push(new Qn("contentEncoding",null,!0)),t.push(new Qn("contentLanguage",null,!0)),t.push(new Qn("contentType",null,!0)),t.push(new Qn("metadata","customMetadata",!0)),dm=t,dm}function MZ(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Mr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function DZ(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return MZ(r,t),r}function eL(t,e,n){const r=Q3(e);return r===null?null:DZ(t,r,n)}function $Z(t,e,n,r){const i=Q3(e);if(i===null||!vE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+o(d)+"/o/"+o(f),m=bE(h,n,r),v=W3({alt:"media",token:u});return m+v})[0]}function LZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class tL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){if(!t)throw gE()}function BZ(t,e){function n(r,i){const a=eL(t,i,e);return nL(a!==null),a}return n}function UZ(t,e){function n(r,i){const a=eL(t,i,e);return nL(a!==null),$Z(a,i,t.host,t._protocol)}return n}function rL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=JQ():i=ZQ():n.getStatus()===402?i=QQ(t.bucket):n.getStatus()===403?i=eZ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function VZ(t){const e=rL(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=YQ(t.path)),a.serverResponse=i.serverResponse,a}return n}function zZ(t,e,n){const r=e.fullServerUrl(),i=bE(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new tL(i,a,UZ(t,n),o);return s.errorHandler=VZ(e),s}function FZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function HZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=FZ(null,e)),r}function qZ(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let g="";for(let T=0;T<2;T++)g=g+Math.random().toString().slice(2);return g}const c=s();o["Content-Type"]="multipart/related; boundary="+c;const u=HZ(e,r,i),d=LZ(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",m=mo.getBlob(f,r,h);if(m===null)throw oZ();const v={name:u.fullPath},y=bE(a,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,b=new tL(y,x,BZ(t,n),_);return b.urlParams=v,b.headers=o,b.body=m.uploadData(),b.errorHandler=rL(e),b}class GZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Td("cannot .send() more than once");if(Jo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Td("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Td("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Td("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Td("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WZ extends GZ{initXhr(){this.xhr_.responseType="text"}}function iL(){return new WZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this._service=e,n instanceof Mr?this._location=n:this._location=Mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new al(e,n)}get root(){const e=new Mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z3(this._location.path)}get storage(){return this._service}get parent(){const e=IZ(this._location.path);if(e===null)return null;const n=new Mr(this._location.bucket,e);return new al(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cZ(e)}}function KZ(t,e,n){t._throwIfRoot("uploadBytes");const r=qZ(t.storage,t._location,J3(),new mo(e,!0),n);return t.storage.makeRequestWithTokens(r,iL).then(i=>({metadata:i,ref:t}))}function XZ(t){t._throwIfRoot("getDownloadURL");const e=zZ(t.storage,t._location,J3());return t.storage.makeRequestWithTokens(e,iL).then(n=>{if(n===null)throw sZ();return n})}function YZ(t,e){const n=PZ(t._location.path,e),r=new Mr(t._location.bucket,n);return new al(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(t){return/^[A-Za-z]+:\/\//.test(t)}function ZZ(t,e){return new al(t,e)}function aL(t,e){if(t instanceof xE){const n=t;if(n._bucket==null)throw aZ();const r=new al(n,n._bucket);return e!=null?aL(r,e):r}else return e!==void 0?YZ(t,e):t}function JZ(t,e){if(e&&QZ(e)){if(t instanceof xE)return ZZ(t,e);throw E_("To use ref(service, url), the first argument must be a Storage instance.")}else return aL(t,e)}function uC(t,e){const n=e==null?void 0:e[q3];return n==null?null:Mr.makeFromBucketSpec(n,t)}function eJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Jo(e);i&&(fS(`https://${t.host}/b`),hS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:n$(a,t.app.options.projectId))}class xE{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=H3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KQ,this._maxUploadRetryTime=XQ,this._requests=new Set,i!=null?this._bucket=Mr.makeFromBucketSpec(i,this._host):this._bucket=uC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mr.makeFromBucketSpec(this._url,e):this._bucket=uC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new al(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new uZ(G3());{const o=_Z(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const dC="@firebase/storage",fC="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="storage";function sL(t,e,n){return t=kt(t),KZ(t,e,n)}function lL(t){return t=kt(t),XZ(t)}function cL(t,e){return t=kt(t),JZ(t,e)}function tJ(t=Cy(),e){t=kt(t);const r=es(t,oL).getImmediate({identifier:e}),i=J4("storage");return i&&nJ(r,...i),r}function nJ(t,e,n,r={}){eJ(t,e,n,r)}function rJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xE(n,r,i,e,bl)}function iJ(){Ti(new oi(oL,rJ,"PUBLIC").setMultipleInstances(!0)),gr(dC,fC,""),gr(dC,fC,"esm2017")}iJ();const aJ={apiKey:"AIzaSyCs378LldkmXoZ3w9aPQEj-gJ1XgzFzhD0",authDomain:"consignment-store-4a564.firebaseapp.com",projectId:"consignment-store-4a564",storageBucket:"consignment-store-4a564.firebasestorage.app",messagingSenderId:"723799732977",appId:"1:723799732977:web:fa12372a7a91682807af50",measurementId:"G-K6DPX8D0SD"},i0=c$(aJ);HQ(i0);const et=hY(i0),xx=gW(i0),uL=tJ(i0),oJ=new pa,At=async(t,e,n,r,i)=>{if(t)try{const a={userId:t.uid,userName:t.displayName||"Anonymous",userEmail:t.email||"",action:e,details:n,timestamp:t0(),itemId:r,itemTitle:i,userAgent:navigator.userAgent,isAdmin:t.email==="stuartjamessmith@gmail.com"};await nv(An(et,"actionLogs"),a)}catch(a){console.error("Error logging user action:",a)}},sJ=t=>{const e=er(An(et,"actionLogs"),lE("timestamp","desc"));return TY(e,n=>{const r=n.docs.map(i=>({id:i.id,...i.data()}));t(r)},n=>{console.error("Error subscribing to action logs:",n)})},zu=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!0),[i,a]=k.useState(!1);k.useEffect(()=>{const f=iG(xx,async h=>{try{const m=localStorage.getItem("phoneUserSession"),v=localStorage.getItem("phoneUser");if(m==="active"&&v){const y=JSON.parse(v);console.log("Loading phone user from session:",y),e(y),r(!1);return}h?(console.log("Loading Firebase user:",h.uid),await o(h),e(h)):e(null)}catch(m){console.error("Error in auth state change:",m),e(null)}finally{r(!1)}});return()=>f()},[]),k.useEffect(()=>{if(t){const f=localStorage.getItem(`adminMode_${t.uid}`);a(f==="true")}},[t]);const o=async f=>{try{const h=rr(et,"users",f.uid),m=await EY(h),v={email:f.email||"",displayName:f.displayName,photoURL:f.photoURL||"",phoneNumber:"phoneNumber"in f?f.phoneNumber:"",isPhoneUser:"isPhoneUser"in f?f.isPhoneUser:!1,lastSignIn:new Date};m.exists()?await JN(h,v,{merge:!0}):await JN(h,{...v,createdAt:new Date})}catch(h){console.error("Error storing user data:",h)}};return{user:t,loading:n,signInWithGoogle:async()=>{try{const f=await EG(xx,oJ);return await At(f.user,"user_login","User logged in with Google"),f.user}catch(f){throw console.error("Error signing in with Google:",f),f}},signInWithPhone:async f=>{try{const h=f.replace(/\D/g,"");if(h.length!==10)throw new Error("Please enter a valid 10-digit phone number");const m=`+1${h}`;console.log("Attempting phone sign-in with:",m);const y={uid:`phone_${h}_${Date.now()}`,phoneNumber:m,displayName:` ${f}`,email:void 0,photoURL:void 0,isPhoneUser:!0};return console.log("Created phone user object:",y),localStorage.setItem("phoneUser",JSON.stringify(y)),localStorage.setItem("phoneUserSession","active"),await o(y),e(y),await At(y,"user_login","User logged in with phone number"),console.log("Phone authentication completed successfully"),y}catch(h){throw console.error("Error signing in with phone:",h),h instanceof Error?h.message.includes("phone number")?new Error("Please enter a valid phone number"):h.message.includes("auth")?new Error("Authentication service is currently unavailable. Please try again later."):new Error(`Sign-in failed: ${h.message}`):new Error("Phone sign-in failed. Please try again.")}},logout:async()=>{try{t&&await At(t,"user_logout","User logged out"),localStorage.getItem("phoneUserSession")==="active"?(localStorage.removeItem("phoneUser"),localStorage.removeItem("phoneUserSession"),console.log("Phone user logged out")):await aG(xx),t&&localStorage.removeItem(`adminMode_${t.uid}`),e(null),a(!1)}catch(f){throw console.error("Error signing out:",f),f}},isAuthenticated:!!t,isAdmin:i,toggleAdmin:()=>{if(t){const f=!i;a(f),localStorage.setItem(`adminMode_${t.uid}`,f.toString()),console.log(`Toggling admin mode: ${i}  ${f}. Refreshing page...`),setTimeout(()=>{window.location.reload()},100)}}}},dL=k.createContext(void 0),lJ=({children:t})=>{const[e,n]=k.useState([]),[r,i]=k.useState([]),[a,o]=k.useState(!1);k.useEffect(()=>{console.log("Loading cart and bookmarks from localStorage...");const g=localStorage.getItem("shopping_cart"),T=localStorage.getItem("bookmarked_items");if(console.log("Saved cart:",g),console.log("Saved bookmarks:",T),g)try{const j=JSON.parse(g).map(E=>({...E,addedAt:new Date(E.addedAt)}));console.log("Loaded cart items:",j.length),n(j)}catch(w){console.error("Error loading cart from localStorage:",w)}if(T)try{const w=JSON.parse(T);console.log("Loaded bookmarks:",w.length),i(w)}catch(w){console.error("Error loading bookmarks from localStorage:",w)}o(!0)},[]),k.useEffect(()=>{a&&(console.log("Saving cart to localStorage:",e.length,"items"),localStorage.setItem("shopping_cart",JSON.stringify(e)))},[e,a]),k.useEffect(()=>{a&&(console.log("Saving bookmarks to localStorage:",r.length,"items"),localStorage.setItem("bookmarked_items",JSON.stringify(r)))},[r,a]);const s=async(g,T,w=1)=>{if(console.log("addToCart called:",g.title,"Current cart size:",e.length),T&&await At(T,"cart_updated","Added item to cart",g.id,g.title),e.findIndex(E=>E.item.id===g.id)>=0){console.log("Item already in cart, not adding again (consignment items are unique)");return}else{const E={item:g,quantity:1,addedAt:new Date};console.log("Adding new item to cart:",E),n(A=>{const O=[...A,E];return console.log("New cart size will be:",O.length),O})}},c=async(g,T)=>{const w=e.find(j=>j.item.id===g);T&&w&&await At(T,"cart_updated","Removed item from cart",w.item.id,w.item.title),n(j=>j.filter(E=>E.item.id!==g))},b={cartItems:e,bookmarkedItems:r,addToCart:s,removeFromCart:c,updateQuantity:async(g,T,w)=>{if(T<=0){await c(g,w);return}const j=e.find(E=>E.item.id===g);w&&j&&await At(w,"cart_updated",`Updated item quantity to ${T}`,j.item.id,j.item.title),n(E=>E.map(A=>A.item.id===g?{...A,quantity:T}:A))},clearCart:async g=>{g&&await At(g,"cart_updated",`Cleared cart with ${e.length} items`),n([])},isInCart:g=>e.some(T=>T.item.id===g),getCartItemQuantity:g=>{const T=e.find(w=>w.item.id===g);return(T==null?void 0:T.quantity)||0},toggleBookmark:async(g,T)=>{console.log("toggleBookmark called:",g,"Current bookmarks:",r.length);const w=r.includes(g);T&&await At(T,"item_bookmarked",w?"Removed bookmark":"Added bookmark",g),i(j=>{if(j.includes(g)){const E=j.filter(A=>A!==g);return console.log("Removed bookmark, new count:",E.length),E}else{const E=[...j,g];return console.log("Added bookmark, new count:",E.length),E}})},isBookmarked:g=>r.includes(g),getCartTotal:()=>e.reduce((g,T)=>g+T.item.price*T.quantity,0),getCartItemCount:()=>e.reduce((g,T)=>g+T.quantity,0),getBookmarkCount:()=>r.length};return l.jsx(dL.Provider,{value:b,children:t})},cp=()=>{const t=k.useContext(dL);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},cJ=({item:t,isAdmin:e=!1,onClick:n})=>{const[r,i]=k.useState(0),a=()=>{i(u=>(u+1)%t.images.length)},o=()=>{i(u=>(u-1+t.images.length)%t.images.length)},s=()=>{n&&n(t)},c=u=>{u.stopPropagation()};return l.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer",onClick:s,children:[l.jsx("div",{className:"relative h-48 bg-gray-200",children:t.images.length>0?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:t.images[r],alt:t.title,className:"w-full h-full object-cover"}),t.images.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:u=>{c(u),o()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l.jsx("button",{onClick:u=>{c(u),a()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),l.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.images.map((u,d)=>l.jsx("div",{className:`w-2 h-2 rounded-full ${d===r?"bg-white":"bg-white bg-opacity-50"}`},d))})]})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:t.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.description}),(t.category||t.brand||t.size||t.condition||t.color)&&l.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-md",children:l.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.category&&l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.category}),t.brand&&l.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:t.brand}),t.size&&l.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["Size ",t.size]}),t.condition&&l.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t.condition}),t.gender&&l.jsx("span",{className:"bg-pink-100 text-pink-800 px-2 py-1 rounded-full",children:t.gender}),t.color&&l.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full",children:t.color})]})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.price.toFixed(2)]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.sellerName]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:l.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[l.jsxs("span",{children:["Listed ",new Date(t.createdAt).toLocaleDateString()]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="live"?"bg-green-100 text-green-800":t.status==="approved"?"bg-blue-100 text-blue-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]})})]})]})},uJ=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState(""),[a,o]=k.useState(""),[s,c]=k.useState(""),[u,d]=k.useState([]),[f,h]=k.useState(!1),[m,v]=k.useState(!1),[y,x]=k.useState(!1),[_,b]=k.useState(""),[g,T]=k.useState(""),[w,j]=k.useState(""),[E,A]=k.useState(""),[O,I]=k.useState(""),[C,R]=k.useState(""),[P,q]=k.useState("");if(!t)return null;const L=U=>{if(U.target.files){const D=Array.from(U.target.files);d(W=>[...W,...D].slice(0,5))}},B=U=>{d(D=>D.filter((W,Q)=>Q!==U))},V=async U=>{const D=U.map(async(W,Q)=>{const ce=`items/${n==null?void 0:n.uid}/${Date.now()}_${Q}_${W.name}`,de=cL(uL,ce);try{const me=await sL(de,W);return await lL(me.ref)}catch(me){throw console.error("Error uploading image:",me),me}});return Promise.all(D)},H=()=>{if(!r.trim()||!a.trim()||!s.trim()||u.length===0){alert("Please fill in all required fields before previewing");return}const U=parseFloat(s);if(isNaN(U)||U<=0){alert("Please enter a valid price greater than 0");return}v(!0)},K=async()=>{if(n){h(!0);try{const U=await V(u),D={title:r.trim(),description:a.trim(),price:parseFloat(s),images:U,sellerId:n.uid,sellerName:n.displayName||"Anonymous",sellerEmail:n.email||("phoneNumber"in n?n.phoneNumber:""),status:"pending",createdAt:t0()};_&&_.trim()&&(D.category=_.trim()),g&&g.trim()&&(D.gender=g),w&&w.trim()&&(D.size=w.trim()),E&&E.trim()&&(D.brand=E.trim()),O&&O.trim()&&(D.condition=O),C&&C.trim()&&(D.material=C.trim()),P&&P.trim()&&(D.color=P.trim());const W=await nv(An(et,"items"),D);await At(n,"item_listed","Listed new item for consignment",W.id,r.trim()),x(!0),v(!1)}catch(U){console.error("Error adding item:",U),alert("Error adding item. Please try again."),h(!1)}}},z=()=>{i(""),o(""),c(""),d([]),v(!1),x(!1),h(!1),b(""),T(""),j(""),A(""),I(""),R(""),q("")},ee=()=>{z(),e()};return y?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:l.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Item Submitted Successfully!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your item has been submitted for review. Please bring the physical item to the front desk so our team can inspect and approve it."}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Next Steps:"}),l.jsx("br",{}),"1. Bring your item to the front desk",l.jsx("br",{}),"2. Our team will inspect and approve it",l.jsx("br",{}),"3. After approval, employees get first pick for 3 days",l.jsx("br",{}),"4. Then it goes live for all customers"]})}),l.jsx("button",{onClick:ee,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Got it!"})]})})}):m?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Preview Item"}),l.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"relative h-64 bg-gray-200",children:[u.length>0&&l.jsx("img",{src:URL.createObjectURL(u[0]),alt:"Preview",className:"w-full h-full object-cover"}),u.length>1&&l.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:["+",u.length-1," more"]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:r}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",parseFloat(s).toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["by ",n==null?void 0:n.displayName]})]}),(_||g||w||E||O||C||P)&&l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Item Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[_&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Category:"})," ",l.jsx("span",{className:"font-medium",children:_})]}),g&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Gender:"})," ",l.jsx("span",{className:"font-medium",children:g})]}),w&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Size:"})," ",l.jsx("span",{className:"font-medium",children:w})]}),E&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Brand:"})," ",l.jsx("span",{className:"font-medium",children:E})]}),O&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",l.jsx("span",{className:"font-medium",children:O})]}),C&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Material:"})," ",l.jsx("span",{className:"font-medium",children:C})]}),P&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Color:"})," ",l.jsx("span",{className:"font-medium",children:P})]})]})]}),l.jsx("div",{className:"pt-4 border-t border-gray-100",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"pending review"})})]})]}),l.jsxs("div",{className:"flex gap-4 pt-6",children:[l.jsx("button",{onClick:()=>v(!1),disabled:f,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-colors",children:"Edit"}),l.jsx("button",{onClick:K,disabled:f,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Confirm & Submit"})]})]})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Item for Consignment"}),l.jsx("button",{onClick:ee,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Title *"}),l.jsx("input",{type:"text",id:"title",value:r,onChange:U=>i(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item title",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),l.jsx("textarea",{id:"description",value:a,onChange:U=>o(U.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe your item in detail...",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Asking Price *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{type:"text",id:"price",value:s,onChange:U=>{const D=U.target.value;(D===""||/^\d*\.?\d*$/.test(D))&&c(D)},className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]})]}),l.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details (Optional but Recommended)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),l.jsxs("select",{id:"category",value:_,onChange:U=>b(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select Category"}),l.jsx("option",{value:"Climbing",children:"Climbing "}),l.jsx("option",{value:"Skiing",children:"Skiing "}),l.jsx("option",{value:"Hiking",children:"Hiking "}),l.jsx("option",{value:"Camping",children:"Camping "}),l.jsx("option",{value:"Mountaineering",children:"Mountaineering "}),l.jsx("option",{value:"Snowboarding",children:"Snowboarding "}),l.jsx("option",{value:"Cycling",children:"Cycling "}),l.jsx("option",{value:"Water Sports",children:"Water Sports "}),l.jsx("option",{value:"Apparel",children:"Apparel "}),l.jsx("option",{value:"Footwear",children:"Footwear "})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),l.jsxs("select",{id:"gender",value:g,onChange:U=>T(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select Gender"}),l.jsx("option",{value:"Men",children:"Men"}),l.jsx("option",{value:"Women",children:"Women"}),l.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),l.jsxs("select",{id:"size",value:w,onChange:U=>j(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select Size"}),l.jsx("option",{value:"XS",children:"XS"}),l.jsx("option",{value:"S",children:"S"}),l.jsx("option",{value:"M",children:"M"}),l.jsx("option",{value:"L",children:"L"}),l.jsx("option",{value:"XL",children:"XL"}),l.jsx("option",{value:"XXL",children:"XXL"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"}),l.jsx("option",{value:"9",children:"9"}),l.jsx("option",{value:"10",children:"10"}),l.jsx("option",{value:"11",children:"11"}),l.jsx("option",{value:"12",children:"12"}),l.jsx("option",{value:"13",children:"13"}),l.jsx("option",{value:"One Size",children:"One Size"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),l.jsx("input",{type:"text",id:"brand",value:E,onChange:U=>A(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Patagonia, REI, North Face"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),l.jsxs("select",{id:"condition",value:O,onChange:U=>I(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select Condition"}),l.jsx("option",{value:"New",children:"New - Never used"}),l.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),l.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),l.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-700 mb-2",children:"Material/Fabric"}),l.jsx("input",{type:"text",id:"material",value:C,onChange:U=>R(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Gore-Tex, Merino Wool, Cotton"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),l.jsxs("select",{id:"color",value:P,onChange:U=>q(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"",children:"Select Color"}),l.jsx("option",{value:"Black",children:"Black"}),l.jsx("option",{value:"White",children:"White"}),l.jsx("option",{value:"Gray",children:"Gray"}),l.jsx("option",{value:"Red",children:"Red"}),l.jsx("option",{value:"Blue",children:"Blue"}),l.jsx("option",{value:"Green",children:"Green"}),l.jsx("option",{value:"Yellow",children:"Yellow"}),l.jsx("option",{value:"Orange",children:"Orange"}),l.jsx("option",{value:"Purple",children:"Purple"}),l.jsx("option",{value:"Pink",children:"Pink"}),l.jsx("option",{value:"Brown",children:"Brown"}),l.jsx("option",{value:"Navy",children:"Navy"}),l.jsx("option",{value:"Burgundy",children:"Burgundy"}),l.jsx("option",{value:"Olive",children:"Olive"}),l.jsx("option",{value:"Tan",children:"Tan"}),l.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos * (Max 5)"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:L,className:"hidden",id:"image-upload",disabled:u.length>=5}),l.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${u.length>=5?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),l.jsx("span",{className:"text-gray-600",children:u.length>=5?"Maximum 5 images reached":"Click to add photos"})]})]}),u.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:u.map((U,D)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:URL.createObjectURL(U),alt:`Preview ${D+1}`,className:"w-full h-24 object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>B(D),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},D))})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:ee,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),l.jsx("button",{type:"button",onClick:H,disabled:!r.trim()||!a.trim()||!s.trim()||u.length===0,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Preview Item"})]}),l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your item will be reviewed by our team before appearing in the store."})]})]})})};var _E={},a0={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});function dJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var fJ=function t(e,n){dJ(this,t),this.data=e,this.text=n.text||e,this.options=n};lr.default=fJ;Object.defineProperty(a0,"__esModule",{value:!0});a0.CODE39=void 0;var hJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pJ=lr,mJ=gJ(pJ);function gJ(t){return t&&t.__esModule?t:{default:t}}function vJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xJ=function(t){bJ(e,t);function e(n,r){return vJ(this,e),n=n.toUpperCase(),r.mod43&&(n+=AJ(SJ(n))),yJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return hJ(e,[{key:"encode",value:function(){for(var r=_x("*"),i=0;i<this.data.length;i++)r+=_x(this.data[i])+"0";return r+=_x("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(mJ.default),fL=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],_J=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function _x(t){return wJ(hL(t))}function wJ(t){return _J[t].toString(2)}function AJ(t){return fL[t]}function hL(t){return fL.indexOf(t)}function SJ(t){for(var e=0,n=0;n<t.length;n++)e+=hL(t[n]);return e=e%43,e}a0.CODE39=xJ;var Li={},wE={},Fu={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var jd;function wx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pL=Tt.SET_A=0,mL=Tt.SET_B=1,gL=Tt.SET_C=2;Tt.SHIFT=98;var EJ=Tt.START_A=103,TJ=Tt.START_B=104,jJ=Tt.START_C=105;Tt.MODULO=103;Tt.STOP=106;Tt.FNC1=207;Tt.SET_BY_CODE=(jd={},wx(jd,EJ,pL),wx(jd,TJ,mL),wx(jd,jJ,gL),jd);Tt.SWAP={101:pL,100:mL,99:gL};Tt.A_START_CHAR="";Tt.B_START_CHAR="";Tt.C_START_CHAR="";Tt.A_CHARS="[\0-_-]";Tt.B_CHARS="[ --]";Tt.C_CHARS="(*[0-9]{2}*)";Tt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Fu,"__esModule",{value:!0});var OJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),NJ=lr,CJ=IJ(NJ),Sr=Tt;function IJ(t){return t&&t.__esModule?t:{default:t}}function PJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function RJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var MJ=function(t){RJ(e,t);function e(n,r){PJ(this,e);var i=kJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(a){return a.charCodeAt(0)}),i}return OJ(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,a=Sr.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(Sr.FNC1);var o=e.next(r,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+o.result+e.getBar((o.checksum+i)%Sr.MODULO)+e.getBar(Sr.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return Sr.BARS[r]?Sr.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===Sr.SET_A){var a=r.shift();return a<32?a+64:a-32}else return i===Sr.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,a){if(!r.length)return{result:"",checksum:0};var o=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var c=Sr.SWAP[s];c!==void 0?o=e.next(r,i+1,c):((a===Sr.SET_A||a===Sr.SET_B)&&s===Sr.SHIFT&&(r[0]=a===Sr.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),o=e.next(r,i+1,a))}else s=e.correctIndex(r,a),o=e.next(r,i+1,a);var u=e.getBar(s),d=s*i;return{result:u+o.result,checksum:d+o.checksum}}}]),e}(CJ.default);Fu.default=MJ;var AE={};Object.defineProperty(AE,"__esModule",{value:!0});var Do=Tt,vL=function(e){return e.match(new RegExp("^"+Do.A_CHARS+"*"))[0].length},yL=function(e){return e.match(new RegExp("^"+Do.B_CHARS+"*"))[0].length},bL=function(e){return e.match(new RegExp("^"+Do.C_CHARS+"*"))[0]};function SE(t,e){var n=e?Do.A_CHARS:Do.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+xL(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+SE(t.substring(i.length),!e)}function xL(t){var e=bL(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=vL(t)>=yL(t);return e+String.fromCharCode(r?206:205)+SE(t,r)}AE.default=function(t){var e=void 0,n=bL(t).length;if(n>=2)e=Do.C_START_CHAR+xL(t);else{var r=vL(t)>yL(t);e=(r?Do.A_START_CHAR:Do.B_START_CHAR)+SE(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return""+a})};Object.defineProperty(wE,"__esModule",{value:!0});var DJ=Fu,$J=_L(DJ),LJ=AE,BJ=_L(LJ);function _L(t){return t&&t.__esModule?t:{default:t}}function UJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ax(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function VJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zJ=function(t){VJ(e,t);function e(n,r){if(UJ(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=Ax(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,BJ.default)(n),r));else var i=Ax(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Ax(i)}return e}($J.default);wE.default=zJ;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});var FJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),HJ=Fu,qJ=GJ(HJ),hC=Tt;function GJ(t){return t&&t.__esModule?t:{default:t}}function WJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function XJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var YJ=function(t){XJ(e,t);function e(n,r){return WJ(this,e),KJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,hC.A_START_CHAR+n,r))}return FJ(e,[{key:"valid",value:function(){return new RegExp("^"+hC.A_CHARS+"+$").test(this.data)}}]),e}(qJ.default);EE.default=YJ;var TE={};Object.defineProperty(TE,"__esModule",{value:!0});var QJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ZJ=Fu,JJ=eee(ZJ),pC=Tt;function eee(t){return t&&t.__esModule?t:{default:t}}function tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ree(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iee=function(t){ree(e,t);function e(n,r){return tee(this,e),nee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,pC.B_START_CHAR+n,r))}return QJ(e,[{key:"valid",value:function(){return new RegExp("^"+pC.B_CHARS+"+$").test(this.data)}}]),e}(JJ.default);TE.default=iee;var jE={};Object.defineProperty(jE,"__esModule",{value:!0});var aee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oee=Fu,see=lee(oee),mC=Tt;function lee(t){return t&&t.__esModule?t:{default:t}}function cee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fee=function(t){dee(e,t);function e(n,r){return cee(this,e),uee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,mC.C_START_CHAR+n,r))}return aee(e,[{key:"valid",value:function(){return new RegExp("^"+mC.C_CHARS+"+$").test(this.data)}}]),e}(see.default);jE.default=fee;Object.defineProperty(Li,"__esModule",{value:!0});Li.CODE128C=Li.CODE128B=Li.CODE128A=Li.CODE128=void 0;var hee=wE,pee=o0(hee),mee=EE,gee=o0(mee),vee=TE,yee=o0(vee),bee=jE,xee=o0(bee);function o0(t){return t&&t.__esModule?t:{default:t}}Li.CODE128=pee.default;Li.CODE128A=gee.default;Li.CODE128B=yee.default;Li.CODE128C=xee.default;var hr={},OE={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.SIDE_BIN="101";ci.MIDDLE_BIN="01010";ci.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};ci.EAN2_STRUCTURE=["LL","LG","GL","GG"];ci.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];ci.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var s0={},wl={};Object.defineProperty(wl,"__esModule",{value:!0});var _ee=ci,wee=function(e,n,r){var i=e.split("").map(function(o,s){return _ee.BINARIES[n[s]]}).map(function(o,s){return o?o[e[s]]:""});if(r){var a=e.length-1;i=i.map(function(o,s){return s<a?o+r:o})}return i.join("")};wl.default=wee;Object.defineProperty(s0,"__esModule",{value:!0});var Aee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$l=ci,See=wl,gC=wL(See),Eee=lr,Tee=wL(Eee);function wL(t){return t&&t.__esModule?t:{default:t}}function jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cee=function(t){Nee(e,t);function e(n,r){jee(this,e);var i=Oee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Aee(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,gC.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,gC.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:$l.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:$l.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:$l.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[$l.SIDE_BIN,this.leftEncode(),$l.MIDDLE_BIN,this.rightEncode(),$l.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(Tee.default);s0.default=Cee;Object.defineProperty(OE,"__esModule",{value:!0});var Iee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Od=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},Pee=ci,kee=s0,Ree=Mee(kee);function Mee(t){return t&&t.__esModule?t:{default:t}}function Dee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vC=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*3:r+i},0);return(10-n%10)%10},Bee=function(t){Lee(e,t);function e(n,r){Dee(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=vC(n));var i=$ee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return Iee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===vC(this.data)}},{key:"leftText",value:function(){return Od(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=Pee.EAN13_STRUCTURE[this.data[0]];return Od(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Od(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Od(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Od(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(Ree.default);OE.default=Bee;var NE={};Object.defineProperty(NE,"__esModule",{value:!0});var Uee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fm=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},Vee=s0,zee=Fee(Vee);function Fee(t){return t&&t.__esModule?t:{default:t}}function Hee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yC=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i:r+i*3},0);return(10-n%10)%10},Wee=function(t){Gee(e,t);function e(n,r){return Hee(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=yC(n)),qee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Uee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===yC(this.data)}},{key:"leftText",value:function(){return fm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return fm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return fm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return fm(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(zee.default);NE.default=Wee;var CE={};Object.defineProperty(CE,"__esModule",{value:!0});var Kee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Xee=ci,Yee=wl,Qee=AL(Yee),Zee=lr,Jee=AL(Zee);function AL(t){return t&&t.__esModule?t:{default:t}}function ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rte=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*9:r+i*3},0);return n%10},ite=function(t){nte(e,t);function e(n,r){return ete(this,e),tte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Kee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=Xee.EAN5_STRUCTURE[rte(this.data)];return{data:"1011"+(0,Qee.default)(this.data,r,"01"),text:this.text}}}]),e}(Jee.default);CE.default=ite;var IE={};Object.defineProperty(IE,"__esModule",{value:!0});var ate=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ote=ci,ste=wl,lte=SL(ste),cte=lr,ute=SL(cte);function SL(t){return t&&t.__esModule?t:{default:t}}function dte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pte=function(t){hte(e,t);function e(n,r){return dte(this,e),fte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ate(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=ote.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,lte.default)(this.data,r,"01"),text:this.text}}}]),e}(ute.default);IE.default=pte;var up={};Object.defineProperty(up,"__esModule",{value:!0});var mte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();up.checksum=T_;var gte=wl,Ll=EL(gte),vte=lr,yte=EL(vte);function EL(t){return t&&t.__esModule?t:{default:t}}function bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wte=function(t){_te(e,t);function e(n,r){bte(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=T_(n));var i=xte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return mte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==T_(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Ll.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Ll.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Ll.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Ll.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Ll.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Ll.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(yte.default);function T_(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}up.default=wte;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});var Ate=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ste=wl,Ete=TL(Ste),Tte=lr,jte=TL(Tte),Ote=up;function TL(t){return t&&t.__esModule?t:{default:t}}function Nte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ite=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Pte=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],kte=function(t){Cte(e,t);function e(n,r){Nte(this,e);var i=Sx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=bC(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=bC(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return Sx(i);else return Sx(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Ate(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],a=Pte[parseInt(i)][parseInt(r)];return(0,Ete.default)(this.middleDigits,a)}}]),e}(jte.default);function bC(t,e){for(var n=parseInt(t[t.length-1]),r=Ite[n],i="",a=0,o=0;o<r.length;o++){var s=r[o];s==="X"?i+=t[a++]:i+=s}return i=""+e+i,""+i+(0,Ote.checksum)(i)}PE.default=kte;Object.defineProperty(hr,"__esModule",{value:!0});hr.UPCE=hr.UPC=hr.EAN2=hr.EAN5=hr.EAN8=hr.EAN13=void 0;var Rte=OE,Mte=Hu(Rte),Dte=NE,$te=Hu(Dte),Lte=CE,Bte=Hu(Lte),Ute=IE,Vte=Hu(Ute),zte=up,Fte=Hu(zte),Hte=PE,qte=Hu(Hte);function Hu(t){return t&&t.__esModule?t:{default:t}}hr.EAN13=Mte.default;hr.EAN8=$te.default;hr.EAN5=Bte.default;hr.EAN2=Vte.default;hr.UPC=Fte.default;hr.UPCE=qte.default;var Qc={},l0={},dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.START_BIN="1010";dp.END_BIN="11101";dp.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(l0,"__esModule",{value:!0});var Gte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hm=dp,Wte=lr,Kte=Xte(Wte);function Xte(t){return t&&t.__esModule?t:{default:t}}function Yte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jte=function(t){Zte(e,t);function e(){return Yte(this,e),Qte(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Gte(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(a){return r.encodePair(a)}).join("");return{data:hm.START_BIN+i+hm.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=hm.BINARIES[r[1]];return hm.BINARIES[r[0]].split("").map(function(a,o){return(a==="1"?"111":"1")+(i[o]==="1"?"000":"0")}).join("")}}]),e}(Kte.default);l0.default=Jte;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});var ene=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tne=l0,nne=rne(tne);function rne(t){return t&&t.__esModule?t:{default:t}}function ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ane(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function one(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xC=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,a){return r+i*(3-a%2*2)},0);return Math.ceil(n/10)*10-n},sne=function(t){one(e,t);function e(n,r){return ine(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=xC(n)),ane(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ene(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===xC(this.data)}}]),e}(nne.default);kE.default=sne;Object.defineProperty(Qc,"__esModule",{value:!0});Qc.ITF14=Qc.ITF=void 0;var lne=l0,cne=jL(lne),une=kE,dne=jL(une);function jL(t){return t&&t.__esModule?t:{default:t}}Qc.ITF=cne.default;Qc.ITF14=dne.default;var ei={},Al={};Object.defineProperty(Al,"__esModule",{value:!0});var fne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hne=lr,pne=mne(hne);function mne(t){return t&&t.__esModule?t:{default:t}}function gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bne=function(t){yne(e,t);function e(n,r){return gne(this,e),vne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return fne(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),o=a.toString(2);o=xne(o,4-o.length);for(var s=0;s<o.length;s++)r+=o[s]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(pne.default);function xne(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Al.default=bne;var RE={},Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.mod10=_ne;Sl.mod11=wne;function _ne(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function wne(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(RE,"__esModule",{value:!0});var Ane=Al,Sne=Tne(Ane),Ene=Sl;function Tne(t){return t&&t.__esModule?t:{default:t}}function jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function One(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cne=function(t){Nne(e,t);function e(n,r){return jne(this,e),One(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Ene.mod10)(n),r))}return e}(Sne.default);RE.default=Cne;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});var Ine=Al,Pne=Rne(Ine),kne=Sl;function Rne(t){return t&&t.__esModule?t:{default:t}}function Mne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lne=function(t){$ne(e,t);function e(n,r){return Mne(this,e),Dne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,kne.mod11)(n),r))}return e}(Pne.default);ME.default=Lne;var DE={};Object.defineProperty(DE,"__esModule",{value:!0});var Bne=Al,Une=Vne(Bne),_C=Sl;function Vne(t){return t&&t.__esModule?t:{default:t}}function zne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qne=function(t){Hne(e,t);function e(n,r){return zne(this,e),n+=(0,_C.mod10)(n),n+=(0,_C.mod10)(n),Fne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Une.default);DE.default=qne;var $E={};Object.defineProperty($E,"__esModule",{value:!0});var Gne=Al,Wne=Kne(Gne),wC=Sl;function Kne(t){return t&&t.__esModule?t:{default:t}}function Xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zne=function(t){Qne(e,t);function e(n,r){return Xne(this,e),n+=(0,wC.mod11)(n),n+=(0,wC.mod10)(n),Yne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Wne.default);$E.default=Zne;Object.defineProperty(ei,"__esModule",{value:!0});ei.MSI1110=ei.MSI1010=ei.MSI11=ei.MSI10=ei.MSI=void 0;var Jne=Al,ere=fp(Jne),tre=RE,nre=fp(tre),rre=ME,ire=fp(rre),are=DE,ore=fp(are),sre=$E,lre=fp(sre);function fp(t){return t&&t.__esModule?t:{default:t}}ei.MSI=ere.default;ei.MSI10=nre.default;ei.MSI11=ire.default;ei.MSI1010=ore.default;ei.MSI1110=lre.default;var c0={};Object.defineProperty(c0,"__esModule",{value:!0});c0.pharmacode=void 0;var cre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ure=lr,dre=fre(ure);function fre(t){return t&&t.__esModule?t:{default:t}}function hre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gre=function(t){mre(e,t);function e(n,r){hre(this,e);var i=pre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return cre(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(dre.default);c0.pharmacode=gre;var u0={};Object.defineProperty(u0,"__esModule",{value:!0});u0.codabar=void 0;var vre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yre=lr,bre=xre(yre);function xre(t){return t&&t.__esModule?t:{default:t}}function _re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Are(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sre=function(t){Are(e,t);function e(n,r){_re(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=wre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return vre(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),a=0;a<this.data.length;a++)r.push(i[this.data.charAt(a)]),a!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(bre.default);u0.codabar=Sre;var Zc={},d0={},hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];hp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];hp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(d0,"__esModule",{value:!0});var Ere=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pm=hp,Tre=lr,jre=Ore(Tre);function Ore(t){return t&&t.__esModule?t:{default:t}}function Nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ire(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pre=function(t){Ire(e,t);function e(n,r){return Nre(this,e),Cre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Ere(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(s){return pm.MULTI_SYMBOLS[s]||s}),i=r.map(function(s){return e.getEncoding(s)}).join(""),a=e.checksum(r,20),o=e.checksum(r.concat(a),15);return{text:this.text,data:e.getEncoding("")+i+e.getEncoding(a)+e.getEncoding(o)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return pm.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return pm.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return pm.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var a=r.slice().reverse().reduce(function(o,s,c){var u=c%i+1;return o+e.symbolValue(s)*u},0);return e.getSymbol(a%47)}}]),e}(jre.default);d0.default=Pre;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});var kre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Rre=d0,Mre=Dre(Rre);function Dre(t){return t&&t.__esModule?t:{default:t}}function $re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ure=function(t){Bre(e,t);function e(n,r){return $re(this,e),Lre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return kre(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Mre.default);LE.default=Ure;Object.defineProperty(Zc,"__esModule",{value:!0});Zc.CODE93FullASCII=Zc.CODE93=void 0;var Vre=d0,zre=OL(Vre),Fre=LE,Hre=OL(Fre);function OL(t){return t&&t.__esModule?t:{default:t}}Zc.CODE93=zre.default;Zc.CODE93FullASCII=Hre.default;var f0={};Object.defineProperty(f0,"__esModule",{value:!0});f0.GenericBarcode=void 0;var qre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Gre=lr,Wre=Kre(Gre);function Kre(t){return t&&t.__esModule?t:{default:t}}function Xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zre=function(t){Qre(e,t);function e(n,r){return Xre(this,e),Yre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return qre(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Wre.default);f0.GenericBarcode=Zre;Object.defineProperty(_E,"__esModule",{value:!0});var Jre=a0,mm=Li,Bl=hr,AC=Qc,Nd=ei,eie=c0,tie=u0,SC=Zc,nie=f0;_E.default={CODE39:Jre.CODE39,CODE128:mm.CODE128,CODE128A:mm.CODE128A,CODE128B:mm.CODE128B,CODE128C:mm.CODE128C,EAN13:Bl.EAN13,EAN8:Bl.EAN8,EAN5:Bl.EAN5,EAN2:Bl.EAN2,UPC:Bl.UPC,UPCE:Bl.UPCE,ITF14:AC.ITF14,ITF:AC.ITF,MSI:Nd.MSI,MSI10:Nd.MSI10,MSI11:Nd.MSI11,MSI1010:Nd.MSI1010,MSI1110:Nd.MSI1110,pharmacode:eie.pharmacode,codabar:tie.codabar,CODE93:SC.CODE93,CODE93FullASCII:SC.CODE93FullASCII,GenericBarcode:nie.GenericBarcode};var qu={};Object.defineProperty(qu,"__esModule",{value:!0});var rie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};qu.default=function(t,e){return rie({},t,e)};var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.default=iie;function iie(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.default=aie;function aie(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var VE={},zE={},h0={};Object.defineProperty(h0,"__esModule",{value:!0});h0.default=oie;function oie(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var p0={};Object.defineProperty(p0,"__esModule",{value:!0});var sie={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};p0.default=sie;Object.defineProperty(zE,"__esModule",{value:!0});var lie=h0,cie=NL(lie),uie=p0,EC=NL(uie);function NL(t){return t&&t.__esModule?t:{default:t}}function die(t){var e={};for(var n in EC.default)EC.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,cie.default)(e),e}zE.default=die;var FE={},HE={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.getTotalWidthOfEncodings=Ir.calculateEncodingAttributes=Ir.getBarcodePadding=Ir.getEncodingHeight=Ir.getMaximumHeightOfEncodings=void 0;var fie=qu,hie=pie(fie);function pie(t){return t&&t.__esModule?t:{default:t}}function CL(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function IL(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function mie(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=(0,hie.default)(e,i.options),o;a.displayValue?o=yie(i.text,a,n):o=0;var s=i.data.length*a.width;i.width=Math.ceil(Math.max(o,s)),i.height=CL(i,a),i.barcodePadding=IL(o,s,a)}}function gie(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function vie(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function yie(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var a=i.width;return a}Ir.getMaximumHeightOfEncodings=vie;Ir.getEncodingHeight=CL;Ir.getBarcodePadding=IL;Ir.calculateEncodingAttributes=mie;Ir.getTotalWidthOfEncodings=gie;Object.defineProperty(HE,"__esModule",{value:!0});var bie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xie=qu,_ie=wie(xie),Ex=Ir;function wie(t){return t&&t.__esModule?t:{default:t}}function Aie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Sie=function(){function t(e,n,r){Aie(this,t),this.canvas=e,this.encodings=n,this.options=r}return bie(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,_ie.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Ex.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Ex.getTotalWidthOfEncodings)(this.encodings),i=(0,Ex.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),a=r.data,o;n.textPosition=="top"?o=n.marginTop+n.fontSize+n.textMargin:o=n.marginTop,i.fillStyle=n.lineColor;for(var s=0;s<a.length;s++){var c=s*n.width+r.barcodePadding;a[s]==="1"?i.fillRect(c,o,n.width,n.height):a[s]&&i.fillRect(c,o,n.width,n.height*a[s])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),a=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var o,s;n.textPosition=="top"?s=n.marginTop+n.fontSize-n.textMargin:s=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=a,n.textAlign=="left"||r.barcodePadding>0?(o=0,i.textAlign="left"):n.textAlign=="right"?(o=r.width-1,i.textAlign="right"):(o=r.width/2,i.textAlign="center"),i.fillText(r.text,o,s)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();HE.default=Sie;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});var Eie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Tie=qu,jie=Oie(Tie),Tx=Ir;function Oie(t){return t&&t.__esModule?t:{default:t}}function Nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var gm="http://www.w3.org/2000/svg",Cie=function(){function t(e,n,r){Nie(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return Eie(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],a=(0,jie.default)(this.options,i.options),o=this.createGroup(n,a.marginTop,this.svg);this.setGroupOptions(o,a),this.drawSvgBarcode(o,a,i),this.drawSVGText(o,a,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Tx.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Tx.getTotalWidthOfEncodings)(this.encodings),r=(0,Tx.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a=i.data,o;r.textPosition=="top"?o=r.fontSize+r.textMargin:o=0;for(var s=0,c=0,u=0;u<a.length;u++)c=u*r.width+i.barcodePadding,a[u]==="1"?s++:s>0&&(this.drawRect(c-r.width*s,o,r.width*s,r.height,n),s=0);s>0&&this.drawRect(c-r.width*(s-1),o,r.width*s,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a=this.document.createElementNS(gm,"text");if(r.displayValue){var o,s;a.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?s=r.fontSize-r.textMargin:s=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(o=0,a.setAttribute("text-anchor","start")):r.textAlign=="right"?(o=i.width-1,a.setAttribute("text-anchor","end")):(o=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",o),a.setAttribute("y",s),a.appendChild(this.document.createTextNode(i.text)),n.appendChild(a)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",gm),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var a=this.document.createElementNS(gm,"g");return a.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,a,o){var s=this.document.createElementNS(gm,"rect");return s.setAttribute("x",n),s.setAttribute("y",r),s.setAttribute("width",i),s.setAttribute("height",a),o.appendChild(s),s}}]),t}();qE.default=Cie;var GE={};Object.defineProperty(GE,"__esModule",{value:!0});var Iie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var kie=function(){function t(e,n,r){Pie(this,t),this.object=e,this.encodings=n,this.options=r}return Iie(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();GE.default=kie;Object.defineProperty(FE,"__esModule",{value:!0});var Rie=HE,Mie=WE(Rie),Die=qE,$ie=WE(Die),Lie=GE,Bie=WE(Lie);function WE(t){return t&&t.__esModule?t:{default:t}}FE.default={CanvasRenderer:Mie.default,SVGRenderer:$ie.default,ObjectRenderer:Bie.default};var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});function KE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Uie=function(t){YE(e,t);function e(n,r){KE(this,e);var i=XE(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),Vie=function(t){YE(e,t);function e(){KE(this,e);var n=XE(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),zie=function(t){YE(e,t);function e(){KE(this,e);var n=XE(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Gu.InvalidInputException=Uie;Gu.InvalidElementException=Vie;Gu.NoElementException=zie;Object.defineProperty(VE,"__esModule",{value:!0});var Fie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hie=zE,j_=PL(Hie),qie=FE,Yd=PL(qie),Gie=Gu;function PL(t){return t&&t.__esModule?t:{default:t}}function QE(t){if(typeof t=="string")return Wie(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(QE(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Kie(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,j_.default)(t),renderer:Yd.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,j_.default)(t),renderer:Yd.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Yd.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Fie(t))==="object"&&!t.nodeName)return{element:t,renderer:Yd.default.ObjectRenderer};throw new Gie.InvalidElementException}}function Wie(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(QE(e[r]));return n}}function Kie(t){var e=document.createElement("canvas");return{element:e,options:(0,j_.default)(t),renderer:Yd.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}VE.default=QE;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});var Xie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Qie=function(){function t(e){Yie(this,t),this.api=e}return Xie(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();ZE.default=Qie;var Zie=_E,Gs=is(Zie),Jie=qu,pp=is(Jie),eae=BE,kL=is(eae),tae=UE,TC=is(tae),nae=VE,rae=is(nae),iae=h0,aae=is(iae),oae=ZE,sae=is(oae),RL=Gu,lae=p0,ML=is(lae);function is(t){return t&&t.__esModule?t:{default:t}}var Na=function(){},m0=function(e,n,r){var i=new Na;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,rae.default)(e),i._encodings=[],i._options=ML.default,i._errorHandler=new sae.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=$L()),i.options(r)[r.format](n,r).render()),i};m0.getModule=function(t){return Gs.default[t]};for(var jC in Gs.default)Gs.default.hasOwnProperty(jC)&&cae(Gs.default,jC);function cae(t,e){Na.prototype[e]=Na.prototype[e.toUpperCase()]=Na.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var a=(0,pp.default)(i._options,r);a=(0,aae.default)(a);var o=t[e],s=DL(n,o,a);return i._encodings.push(s),i})}}function DL(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new RL.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,kL.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,pp.default)(n,i[a].options);return i}function $L(){return Gs.default.CODE128?"CODE128":Object.keys(Gs.default)[0]}Na.prototype.options=function(t){return this._options=(0,pp.default)(this._options,t),this};Na.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Na.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,pp.default)(this._options,t.options);n.format=="auto"&&(n.format=$L()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=Gs.default[n.format.toUpperCase()],a=DL(r,i,n);O_(t,a,n)})}}};Na.prototype.render=function(){if(!this._renderProperties)throw new RL.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)O_(this._renderProperties[t],this._encodings,this._options);else O_(this._renderProperties,this._encodings,this._options);return this};Na.prototype._defaults=ML.default;function O_(t,e,n){e=(0,kL.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,pp.default)(n,e[r].options),(0,TC.default)(e[r].options);(0,TC.default)(n);var i=t.renderer,a=new i(t.element,e,n);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=m0);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),m0(n,t,e)});var uae=m0;const dae=at(uae),fae=({isOpen:t,onClose:e,item:n,onConfirmPrint:r})=>{const[i,a]=k.useState(""),[o,s]=k.useState(!1),[c,u]=k.useState(!1),d=k.useRef(null),{user:f}=zu();k.useEffect(()=>{t&&n&&(h(),u(!1))},[t,n]);const h=()=>{if(!n)return;s(!0);const y=new Date;y.getTime().toString();const x=y.toISOString().split("T")[0].replace(/-/g,""),_=y.toTimeString().split(" ")[0].replace(/:/g,""),b=`${n.id.slice(-8)}${x}${_}`.slice(0,12);if(a(b),d.current)try{dae(d.current,b,{format:"CODE128",width:2,height:80,displayValue:!0,fontSize:12,margin:10}),s(!1)}catch(g){console.error("Error generating barcode:",g),s(!1)}},m=()=>{if(!d.current||!n)return;const y=window.open("","_blank");if(!y)return;const _=d.current.toDataURL("image/png");y.document.write(`
      <html>
        <head>
          <title>Item Barcode - ${n.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              text-align: center;
            }
            .item-info {
              margin-bottom: 20px;
              border: 1px solid #ccc;
              padding: 15px;
              background-color: #f9f9f9;
            }
            .barcode-container {
              margin: 20px 0;
            }
            .print-info {
              margin-top: 20px;
              font-size: 12px;
              color: #666;
            }
            h2 {
              color: #333;
              margin-bottom: 10px;
            }
            .detail-row {
              margin: 5px 0;
              text-align: left;
            }
            .label {
              font-weight: bold;
              display: inline-block;
              width: 100px;
            }
          </style>
        </head>
        <body>
          <h2>Summit Gear Exchange</h2>
          <div class="item-info">
            <h3>${n.title}</h3>
            <div class="detail-row">
              <span class="label">Price:</span> $${n.price}
            </div>
            <div class="detail-row">
              <span class="label">Category:</span> ${n.category}
            </div>
            <div class="detail-row">
              <span class="label">Brand:</span> ${n.brand||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Size:</span> ${n.size||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Seller:</span> ${n.sellerName}
            </div>
            <div class="detail-row">
              <span class="label">Approved:</span> ${new Date().toLocaleString()}
            </div>
          </div>
          <div class="barcode-container">
            <img src="${_}" alt="Barcode: ${i}" />
          </div>
          <div class="print-info">
            <p>Barcode: ${i}</p>
            <p>Generated: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),y.document.close(),y.focus(),y.print()},v=async()=>{if(!(!n||!i||!d.current)){u(!0);try{let y="";await new Promise(_=>{d.current.toBlob(async b=>{if(b)try{const g=cL(uL,`barcodes/${n.id}_${i}.png`);await sL(g,b),y=await lL(g)}catch(g){console.error("Error uploading barcode image:",g)}_()},"image/png")});const x=rr(et,"items",n.id);await Rr(x,{barcodeData:i,barcodeGeneratedAt:new Date,barcodeImageUrl:y,printConfirmedAt:new Date,status:"approved",approvedAt:new Date}),await At(f,"item_approved","Generated barcode and approved item",n.id,n.title),r(n,i),e()}catch(y){console.error("Error updating item with barcode:",y)}finally{u(!1)}}};return!t||!n?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Item Barcode"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Create and print barcode before approving item"})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:n.title}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Price:"})," $",n.price]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Category:"})," ",n.category]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Brand:"})," ",n.brand||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Size:"})," ",n.size||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Seller:"})," ",n.sellerName]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Status:"})," ",n.status]})]})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Generated Barcode"}),o?l.jsxs("div",{className:"flex justify-center items-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Generating barcode..."})]}):l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 inline-block",children:[l.jsx("canvas",{ref:d,className:"mx-auto"}),i&&l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Barcode ID:"})," ",i]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Generated:"})," ",new Date().toLocaleString()]})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 pt-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Print Label"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Print this barcode label and attach it to the item before adding to inventory."})]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:l.jsxs("button",{onClick:m,disabled:o||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white disabled:text-gray-500",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Label"]})})]})})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),l.jsx("button",{onClick:v,disabled:c||o||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Confirming..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Printed"]})})]})})]})})},hae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState([]),[a,o]=k.useState(!0),[s,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,v]=k.useState(!1),[y,x]=k.useState(!1),[_,b]=k.useState(!1),[g,T]=k.useState(null),[w,j]=k.useState(""),[E,A]=k.useState(""),[O,I]=k.useState(null);k.useEffect(()=>{t&&n&&C()},[t,n]);const C=async()=>{o(!0);try{const z=An(et,"items"),ee=er(z,Gn("status","==","pending")),U=await Pn(ee),D=[];U.forEach(W=>{var ce,de,me;const Q=W.data();D.push({id:W.id,...Q,createdAt:((ce=Q.createdAt)==null?void 0:ce.toDate())||new Date,approvedAt:(de=Q.approvedAt)==null?void 0:de.toDate(),liveAt:(me=Q.liveAt)==null?void 0:me.toDate()})}),D.sort((W,Q)=>Q.createdAt.getTime()-W.createdAt.getTime()),i(D)}catch(z){console.error("Error fetching pending items:",z)}finally{o(!1)}},R=z=>{T(z),d(!0)},P=z=>{T(z),j(""),v(!0)},q=()=>{g&&(d(!1),h(!0))},L=async(z,ee)=>{i(U=>U.filter(D=>D.id!==z.id)),A("Item approved with barcode generated! It will be available to employees for 3 days before going live."),x(!0),T(null)},B=()=>{h(!1),T(null)},V=async()=>{if(g){c(g.id),v(!1);try{await Rr(rr(et,"items",g.id),{status:"rejected",rejectedAt:t0(),rejectionReason:w||"No reason provided"}),i(z=>z.filter(ee=>ee.id!==g.id)),A("Item rejected."),x(!0)}catch(z){console.error("Error rejecting item:",z),A("Error rejecting item. Please try again."),b(!0)}finally{c(null),T(null)}}},H=z=>{I(z)},K=async z=>{c(z.id);try{await Rr(rr(et,"items",z.id),{title:z.title,description:z.description,price:z.price,category:z.category||null,gender:z.gender||null,size:z.size||null,brand:z.brand||null,condition:z.condition||null,material:z.material||null}),i(ee=>ee.map(U=>U.id===z.id?z:U)),I(null),A("Item updated successfully!"),x(!0)}catch(ee){console.error("Error updating item:",ee),A("Error updating item. Please try again."),b(!0)}finally{c(null)}};return t?l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Manage Pending Items"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-gray-500 text-lg",children:"No pending items to review"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All items have been processed!"})]}):l.jsx("div",{className:"space-y-6",children:r.map(z=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:l.jsxs("div",{className:"flex gap-6",children:[l.jsx("div",{className:"flex-shrink-0",children:z.images.length>0?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:z.images[0],alt:z.title,className:"w-32 h-32 object-cover rounded-lg"}),z.images.length>1&&l.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",z.images.length-1]})]}):l.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:z.title}),l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",z.price.toFixed(2)]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:z.description}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Seller:"})," ",z.sellerName]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Email:"})," ",z.sellerEmail]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Submitted:"})," ",z.createdAt.toLocaleDateString()]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Images:"})," ",z.images.length]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>H(z),disabled:s===z.id,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Edit Details"}),l.jsx("button",{onClick:()=>R(z),disabled:s===z.id,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s===z.id?"Processing...":"Approve Item"}),l.jsx("button",{onClick:()=>P(z),disabled:s===z.id,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s===z.id?"Processing...":"Reject Item"})]})]})]})},z.id))})})]}),u&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-green-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Item"})]}),l.jsxs("p",{className:"text-gray-600 mb-6",children:['Approving "',l.jsx("span",{className:"font-medium",children:g.title}),'" will generate a barcode label that must be printed. After printing, the item will be available to employees for 3 days before going live to all customers.']}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:q,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Generate Label & Approve"})]})]})}),m&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-red-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Item"})]}),l.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to reject "',l.jsx("span",{className:"font-medium",children:g.title}),'"?']}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection (optional)"}),l.jsx("textarea",{value:w,onChange:z=>j(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"Enter reason for rejection..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:V,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Reject Item"})]})]})}),y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-green-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:E}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-red-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:E}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})}),O&&l.jsx(pae,{item:O,onSave:K,onCancel:()=>I(null),isProcessing:s===O.id}),f&&g&&l.jsx(fae,{isOpen:f,onClose:B,item:g,onConfirmPrint:L})]}):null},pae=({item:t,onSave:e,onCancel:n,isProcessing:r})=>{const[i,a]=k.useState(t.title),[o,s]=k.useState(t.description),[c,u]=k.useState(t.price.toString()),[d,f]=k.useState(t.category||""),[h,m]=k.useState(t.gender||""),[v,y]=k.useState(t.size||""),[x,_]=k.useState(t.brand||""),[b,g]=k.useState(t.condition||""),[T,w]=k.useState(t.material||""),[j,E]=k.useState(!1),[A,O]=k.useState(""),I=()=>{if(!i.trim()||!o.trim()||!c.trim()){O("Please fill in all required fields"),E(!0);return}const C=parseFloat(c);if(isNaN(C)||C<=0){O("Please enter a valid price greater than 0"),E(!0);return}e({...t,title:i.trim(),description:o.trim(),price:C,category:d||void 0,gender:h||void 0,size:v||void 0,brand:x.trim()||void 0,condition:b||void 0,material:T.trim()||void 0})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Item Details"})}),l.jsxs("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),l.jsx("input",{type:"text",value:i,onChange:C=>a(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),l.jsx("textarea",{value:o,onChange:C=>s(C.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{type:"text",value:c,onChange:C=>{const R=C.target.value;(R===""||/^\d*\.?\d*$/.test(R))&&u(R)},className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Additional Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),l.jsxs("select",{value:d,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Category"}),l.jsx("option",{value:"Climbing",children:"Climbing "}),l.jsx("option",{value:"Skiing",children:"Skiing "}),l.jsx("option",{value:"Hiking",children:"Hiking "}),l.jsx("option",{value:"Camping",children:"Camping "}),l.jsx("option",{value:"Mountaineering",children:"Mountaineering "}),l.jsx("option",{value:"Snowboarding",children:"Snowboarding "}),l.jsx("option",{value:"Cycling",children:"Cycling "}),l.jsx("option",{value:"Water Sports",children:"Water Sports "}),l.jsx("option",{value:"Apparel",children:"Apparel "}),l.jsx("option",{value:"Footwear",children:"Footwear "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),l.jsxs("select",{value:h,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Gender"}),l.jsx("option",{value:"Men",children:"Men"}),l.jsx("option",{value:"Women",children:"Women"}),l.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),l.jsxs("select",{value:v,onChange:C=>y(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Size"}),l.jsx("option",{value:"XS",children:"XS"}),l.jsx("option",{value:"S",children:"S"}),l.jsx("option",{value:"M",children:"M"}),l.jsx("option",{value:"L",children:"L"}),l.jsx("option",{value:"XL",children:"XL"}),l.jsx("option",{value:"XXL",children:"XXL"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"}),l.jsx("option",{value:"9",children:"9"}),l.jsx("option",{value:"10",children:"10"}),l.jsx("option",{value:"11",children:"11"}),l.jsx("option",{value:"12",children:"12"}),l.jsx("option",{value:"13",children:"13"}),l.jsx("option",{value:"One Size",children:"One Size"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),l.jsxs("select",{value:b,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Condition"}),l.jsx("option",{value:"New",children:"New - Never used"}),l.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),l.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),l.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),l.jsx("input",{type:"text",value:x,onChange:C=>_(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Patagonia, REI"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),l.jsx("input",{type:"text",value:T,onChange:C=>w(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gore-Tex, Cotton"})]})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[l.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:I,disabled:r,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r?"Saving...":"Save Changes"})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-red-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Validation Error"})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:A}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]})})},mae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=k.useState([]),[a,o]=k.useState(!0),[s,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,v]=k.useState(!1),[y,x]=k.useState(null),[_,b]=k.useState("");k.useEffect(()=>{t&&n&&g()},[t,n]);const g=async()=>{o(!0);try{const A=An(et,"items"),O=er(A,Gn("status","==","approved")),I=await Pn(O),C=[];I.forEach(R=>{var q,L,B,V,H;const P=R.data();C.push({id:R.id,...P,createdAt:((q=P.createdAt)==null?void 0:q.toDate())||new Date,approvedAt:((L=P.approvedAt)==null?void 0:L.toDate())||new Date,liveAt:(B=P.liveAt)==null?void 0:B.toDate(),barcodeGeneratedAt:(V=P.barcodeGeneratedAt)==null?void 0:V.toDate(),printConfirmedAt:(H=P.printConfirmedAt)==null?void 0:H.toDate()})}),C.sort((R,P)=>{var q,L;return(((q=P.approvedAt)==null?void 0:q.getTime())||0)-(((L=R.approvedAt)==null?void 0:L.getTime())||0)}),i(C)}catch(A){console.error("Error fetching approved items:",A)}finally{o(!1)}},T=A=>{const I=new Date(A.getTime()+2592e5),C=new Date,R=I.getTime()-C.getTime();if(R<=0)return{expired:!0,text:"Ready to go live!"};const P=Math.floor(R/(24*60*60*1e3)),q=Math.floor(R%(24*60*60*1e3)/(60*60*1e3)),L=Math.floor(R%(60*60*1e3)/(60*1e3));return{expired:!1,text:`${P}d ${q}h ${L}m remaining`,goLiveTime:I.toLocaleDateString()+" "+I.toLocaleTimeString()}},w=A=>{x(A),d(!0)},j=async()=>{if(y){d(!1),c(y.id);try{await Rr(rr(et,"items",y.id),{status:"live",liveAt:t0()}),i(A=>A.filter(O=>O.id!==y.id)),e()}catch(A){console.error("Error making item live:",A),b("Error making item live. Please try again."),v(!0)}finally{c(null),x(null)}}},E=async A=>{c(A.id);try{await Rr(rr(et,"items",A.id),{status:"pending",liveAt:null}),i(O=>O.filter(I=>I.id!==A.id)),b("Item sent back to pending queue."),h(!0)}catch(O){console.error("Error sending item back to pending:",O),b("Error sending item back to pending. Please try again."),v(!0)}finally{c(null)}};return t?l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Approved Items (Employee Preview)"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Items approved for 3-day employee preview before going live to all customers"})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("p",{className:"text-gray-500 text-lg",children:"No approved items"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Items will appear here after approval"})]}):l.jsx("div",{className:"space-y-6",children:r.map(A=>{var I;const O=T(A.approvedAt);return l.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gradient-to-r from-orange-50 to-yellow-50",children:l.jsxs("div",{className:"flex gap-6",children:[l.jsx("div",{className:"flex-shrink-0",children:A.images.length>0?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:A.images[0],alt:A.title,className:"w-32 h-32 object-cover rounded-lg"}),A.images.length>1&&l.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",A.images.length-1]})]}):l.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:A.title}),l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",A.price.toFixed(2)]})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:A.description}),l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-4 border border-orange-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:`font-medium ${O.expired?"text-green-600":"text-orange-600"}`,children:O.text})]}),!O.expired&&O.goLiveTime&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Goes live: ",O.goLiveTime]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 mb-4",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Seller:"})," ",A.sellerName]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Approved:"})," ",(I=A.approvedAt)==null?void 0:I.toLocaleDateString()]}),A.barcodeData&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Barcode:"})," ",A.barcodeData]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Label Generated:"})," ",A.barcodeGeneratedAt?A.barcodeGeneratedAt instanceof Date?A.barcodeGeneratedAt.toLocaleDateString():new Date(A.barcodeGeneratedAt).toLocaleDateString():"N/A"]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>E(A),disabled:s===A.id,className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s===A.id?"Processing...":"Send Back to Pending"}),l.jsx("button",{onClick:()=>w(A),disabled:s===A.id,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s===A.id?"Processing...":"Mark as Live"})]})]})]})},A.id)})})})]}),u&&y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-green-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Item Live"})]}),l.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to make "',l.jsx("span",{className:"font-medium",children:y.title}),'" live? This will make it available to all customers immediately.',y.barcodeData?l.jsx("span",{className:"block mt-2 text-green-600 text-sm",children:" Barcode label has been generated and printed."}):l.jsx("span",{className:"block mt-2 text-amber-600 text-sm",children:" Note: No barcode label has been generated for this item."})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Make Live Now"})]})]})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-green-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:_}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),m&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("span",{className:"text-red-600 text-xl",children:""})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),l.jsx("p",{className:"text-gray-600 mb-6",children:_}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]}):null},OC=({isOpen:t,onClose:e,onGoogleLogin:n,onPhoneLogin:r})=>{const[i,a]=k.useState(""),[o,s]=k.useState(!1),[c,u]=k.useState("selection"),[d,f]=k.useState(null);if(!t)return null;const h=async()=>{s(!0);try{await n(),e()}catch(b){console.error("Google login failed:",b),alert("Google login failed. Please try again.")}finally{s(!1)}},m=async()=>{if(!i.trim()){f("Please enter a phone number");return}if(i.replace(/\D/g,"").length!==10){f("Please enter a valid 10-digit phone number");return}s(!0),f(null);try{console.log("Starting phone login with:",i),await r(i),console.log("Phone login successful"),e(),v()}catch(g){console.error("Phone login failed:",g);const T=g instanceof Error?g.message:"Phone login failed. Please try again.";f(T)}finally{s(!1)}},v=()=>{a(""),u("selection"),s(!1),f(null)},y=()=>{v(),e()},x=b=>{const g=b.replace(/\D/g,"");return g.length<=3?g:g.length<=6?`(${g.slice(0,3)}) ${g.slice(3)}`:`(${g.slice(0,3)}) ${g.slice(3,6)}-${g.slice(6,10)}`},_=b=>{const g=x(b.target.value);a(g)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c==="selection"?"Welcome to Summit Gear Exchange":"Sign In with Phone"}),l.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6",children:c==="selection"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Choose how you'd like to sign in"}),l.jsxs("button",{onClick:h,disabled:o,className:"w-full flex items-center justify-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),l.jsxs("button",{onClick:()=>u("phone"),disabled:o,className:"w-full flex items-center justify-center px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 transition-colors",children:[l.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone Number"]}),l.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our terms and conditions"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>u("selection"),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm mb-4",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to sign in options"]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l.jsx("input",{type:"tel",id:"phone",value:i,onChange:_,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:14}),d&&l.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:d})]}),l.jsx("button",{onClick:m,disabled:o||!i.trim(),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Quick & Simple:"})," No verification needed! Just enter your phone number and you're ready to start buying and selling gear."]})})]})})]})})},JE=({isOpen:t,onClose:e,item:n,onItemUpdated:r})=>{var q,L,B,V,H,K,z,ee;const{addToCart:i,isInCart:a,getCartItemQuantity:o,toggleBookmark:s,isBookmarked:c,cartItems:u,bookmarkedItems:d}=cp(),{isAdmin:f,user:h}=zu(),m=k.useRef(null),[v,y]=k.useState(!1),[x,_]=k.useState(""),[b,g]=k.useState(!1);if(k.useEffect(()=>{n&&(console.log("Bookmark state check for",n.title,"- Bookmarked:",c(n.id)),console.log("Total bookmarked items:",d.length))},[d,n,c]),k.useEffect(()=>{n&&_(n.price.toString())},[n]),!t||!n)return null;const T=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},w=U=>{switch(U){case"pending":return"Pending Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return U}},j=async()=>{console.log("Before adding to cart - Cart items count:",u.length),console.log("Item being added:",n.title,"ID:",n.id),console.log("Is item already in cart?",a(n.id)),console.log("Current cart quantity for this item:",o(n.id)),await i(n,h);const U=document.createElement("div");U.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",U.textContent=`${n.title} added to cart!`,document.body.appendChild(U),setTimeout(()=>{document.body.contains(U)&&document.body.removeChild(U)},2e3)},E=async()=>{const U=c(n.id);console.log("Before bookmark toggle - Item ID:",n.id,"Was bookmarked:",U),console.log("Current bookmarked items count:",d.length),await s(n.id,h);const D=document.createElement("div");D.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",D.textContent=U?`Removed ${n.title} from bookmarks`:`${n.title} bookmarked!`,document.body.appendChild(D),setTimeout(()=>{document.body.contains(D)&&document.body.removeChild(D)},2e3)},A=n.status==="live",O=()=>{y(!0)},I=async()=>{if(!n)return;const U=parseFloat(x);if(!(isNaN(U)||U<=0)){g(!0);try{const D=rr(et,"items",n.id);await Rr(D,{status:"sold",soldPrice:U,soldAt:new Date,saleType:"in-store"}),await At(h,"item_sold",`Admin marked item as sold for $${U}`,n.id,n.title);const W=document.createElement("div");W.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",W.textContent=`Item marked as sold for $${U}!`,document.body.appendChild(W),setTimeout(()=>{document.body.contains(W)&&document.body.removeChild(W)},2e3),r&&r(),y(!1),e()}catch(D){console.error("Error marking item as sold:",D);const W=document.createElement("div");W.className="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",W.textContent="Error marking item as sold. Please try again.",document.body.appendChild(W),setTimeout(()=>{document.body.contains(W)&&document.body.removeChild(W)},2e3)}finally{g(!1)}}},C=()=>{y(!1),_((n==null?void 0:n.price.toString())||"")},R=U=>{const D=window.open("","_blank");D&&(D.document.write(`
        <html>
          <head>
            <title>Barcode Label - ${n.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
              .item-info { margin-bottom: 20px; border: 1px solid #ccc; padding: 15px; background-color: #f9f9f9; }
              .barcode-container { margin: 20px 0; }
              .print-info { margin-top: 20px; font-size: 12px; color: #666; }
              h2 { color: #333; margin-bottom: 10px; }
              .detail-row { margin: 5px 0; text-align: left; }
              .label { font-weight: bold; display: inline-block; width: 100px; }
            </style>
          </head>
          <body>
            <h2>Summit Gear Exchange</h2>
            <div class="item-info">
              <h3>${n.title}</h3>
              <div class="detail-row">
                <span class="label">Price:</span> $${n.price}
              </div>
              <div class="detail-row">
                <span class="label">Category:</span> ${n.category}
              </div>
              <div class="detail-row">
                <span class="label">Brand:</span> ${n.brand||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Size:</span> ${n.size||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Seller:</span> ${n.sellerName}
              </div>
              <div class="detail-row">
                <span class="label">Status:</span> ${n.status}
              </div>
            </div>
            <div class="barcode-container">
              <img src="${U}" alt="Barcode: ${n.barcodeData}" style="max-width: 100%; height: auto;" />
            </div>
            <div class="print-info">
              <p>Barcode: ${n.barcodeData}</p>
              <p>Generated: ${(()=>{var W,Q;try{return n.barcodeGeneratedAt?(n.barcodeGeneratedAt instanceof Date?n.barcodeGeneratedAt:(Q=(W=n.barcodeGeneratedAt).toDate)!=null&&Q.call(W)?n.barcodeGeneratedAt.toDate():new Date(n.barcodeGeneratedAt)).toLocaleDateString():new Date().toLocaleDateString()}catch{return new Date().toLocaleDateString()}})()}</p>
              <p>Printed: ${new Date().toLocaleString()}</p>
            </div>
          </body>
        </html>
      `),D.document.close(),D.focus(),D.print())},P=async U=>{if(n)try{const D=rr(et,"items",n.id),W={status:U};U==="live"?W.liveAt=new Date:U==="approved"?W.approvedAt=new Date:U==="archived"?W.archivedAt=new Date:U==="pending"&&(W.approvedAt=null,W.liveAt=null),await Rr(D,W);const Q=U==="live"?"made item live":U==="approved"?"moved item to approved":U==="archived"?"removed/archived item":U==="pending"?"moved item back to pending":`updated item to ${U}`;await At(h,`item_${U}`,`Admin ${Q}`,n.id,n.title);const ce=document.createElement("div");ce.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg";const de=U==="live"?"made live":U==="approved"?"moved to approved":U==="archived"?"removed from listings":U==="pending"?"moved to pending review":`updated to ${U}`;ce.textContent=`Item ${de} successfully!`,document.body.appendChild(ce),setTimeout(()=>{document.body.contains(ce)&&document.body.removeChild(ce)},2e3),r&&r(),e()}catch(D){console.error("Error updating item:",D);const W=document.createElement("div");W.className="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",W.textContent="Error updating item. Please try again.",document.body.appendChild(W),setTimeout(()=>{document.body.contains(W)&&document.body.removeChild(W)},2e3)}};return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),l.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T(n.status)}`,children:w(n.status)}),l.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",n.price]})]}),f&&l.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[n.status==="live"&&l.jsxs("button",{onClick:O,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-green-500 text-white hover:bg-green-600 transition-colors flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark as Sold"]}),n.status!=="pending"&&l.jsxs("button",{onClick:()=>P("pending"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Send to Pending"]}),n.status!=="approved"&&l.jsxs("button",{onClick:()=>P("approved"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Send Back to Approved Items"]}),n.barcodeImageUrl&&l.jsxs("button",{onClick:()=>R(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none ml-4",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[n.images&&n.images.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.images.slice(0,4).map((U,D)=>l.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:l.jsx("img",{src:U,alt:`${n.title} ${D+1}`,className:"w-full h-full object-cover"})},D))}),n.images.length>4&&l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["+",n.images.length-4," more images"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Category"}),l.jsx("p",{className:"text-gray-600",children:n.category})]}),n.brand&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Brand"}),l.jsx("p",{className:"text-gray-600",children:n.brand})]}),n.size&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Size"}),l.jsx("p",{className:"text-gray-600",children:n.size})]}),n.color&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Color"}),l.jsx("p",{className:"text-gray-600",children:n.color})]}),n.condition&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Condition"}),l.jsx("p",{className:"text-gray-600",children:n.condition})]}),n.gender&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:"Gender"}),l.jsx("p",{className:"text-gray-600",children:n.gender})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Seller Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Name:"}),l.jsx("span",{className:"ml-2 font-medium",children:n.sellerName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Email:"}),l.jsx("span",{className:"ml-2",children:n.sellerEmail})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Listed:"}),l.jsx("span",{className:"ml-2",children:((q=n.createdAt)==null?void 0:q.toLocaleDateString())||"N/A"})]}),n.approvedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Approved:"}),l.jsx("span",{className:"ml-2",children:n.approvedAt.toLocaleDateString()})]})]})]}),f&&n.barcodeData&&l.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Barcode Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Barcode ID:"}),l.jsx("span",{className:"ml-2 font-mono text-xs",children:n.barcodeData})]}),n.barcodeGeneratedAt&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Generated:"}),l.jsx("span",{className:"ml-2",children:(()=>{var U,D;try{return(n.barcodeGeneratedAt instanceof Date?n.barcodeGeneratedAt:(D=(U=n.barcodeGeneratedAt).toDate)!=null&&D.call(U)?n.barcodeGeneratedAt.toDate():new Date(n.barcodeGeneratedAt)).toLocaleDateString()}catch{return"Unknown date"}})()})]}),n.barcodeImageUrl&&l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("span",{className:"text-gray-600",children:"Barcode Image:"}),l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:n.barcodeImageUrl,alt:`Barcode: ${n.barcodeData}`,className:"max-w-xs bg-white p-2 border rounded"})})]})]})]})]})]}),!f&&A?l.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:E,className:`flex-shrink-0 p-3 rounded-lg border-2 transition-all duration-200 ${c(n.id)?"border-red-500 bg-red-50 text-red-600":"border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"}`,title:c(n.id)?"Remove from bookmarks":"Add to bookmarks",children:l.jsx("svg",{className:"w-6 h-6",fill:c(n.id)?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),l.jsxs("button",{onClick:j,className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${a(n.id)?"bg-green-500 text-white hover:bg-green-600":"bg-orange-500 text-white hover:bg-orange-600"} flex items-center justify-center gap-2`,children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),a(n.id)?l.jsxs("span",{children:["In Cart (",o(n.id),")"]}):l.jsxs("span",{children:["Add to Cart - $",n.price]})]})]}),l.jsx("div",{className:"mt-3 text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:" Secure checkout with Stripe   Quality guaranteed   Local pickup available"})})]}):null,!A&&n.status!=="sold"&&l.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-gray-600 font-medium",children:[n.status==="pending"&&"This item is currently under review",n.status==="approved"&&"This item is approved and will be available soon",n.status==="archived"&&"This item is no longer available"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back later or browse our other available items"})]})}),n.status==="sold"&&l.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"font-medium text-green-800",children:"Item Sold"}),l.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:n.saleType==="online"?" Online":" In-Store"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Sold Price:"}),l.jsxs("span",{className:"ml-2 font-semibold text-green-700",children:["$",n.soldPrice||n.price]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Sold Date:"}),l.jsx("span",{className:"ml-2 font-medium",children:((L=n.soldAt)==null?void 0:L.toLocaleDateString())||"N/A"})]}),n.saleTransactionId&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),l.jsx("span",{className:"ml-2 font-mono text-xs",children:n.saleTransactionId})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[n.barcodeData&&l.jsxs("button",{onClick:()=>{var D,W;const U=window.open("","_blank");U&&(U.document.write(`
                          <html>
                            <head>
                              <title>Barcode Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
                                .barcode-container { margin: 20px 0; }
                                .item-info { margin-bottom: 20px; }
                              </style>
                            </head>
                            <body>
                              <div class="item-info">
                                <h3>${n.title}</h3>
                                <p>Price: $${n.soldPrice||n.price} | Sold: ${((D=n.soldAt)==null?void 0:D.toLocaleDateString())||"N/A"}</p>
                              </div>
                              <div class="barcode-container">
                                <p>Barcode: ${n.barcodeData}</p>
                                <p>Generated: ${((W=n.barcodeGeneratedAt)==null?void 0:W.toLocaleDateString())||"N/A"}</p>
                              </div>
                            </body>
                          </html>
                        `),U.document.close(),U.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-gray-500 text-white hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]}),n.saleType==="online"&&n.buyerInfo&&l.jsxs("button",{onClick:()=>{var D,W,Q,ce,de,me;const U=window.open("","_blank");U&&(U.document.write(`
                          <html>
                            <head>
                              <title>Shipping Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; }
                                .shipping-label { border: 2px solid #000; padding: 20px; max-width: 600px; margin: 0 auto; }
                                .from, .to { margin-bottom: 20px; }
                                .to { border-top: 2px solid #000; padding-top: 20px; }
                                .item-details { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
                                h3 { margin: 0 0 10px 0; }
                              </style>
                            </head>
                            <body>
                              <div class="shipping-label">
                                <div class="from">
                                  <h3>FROM:</h3>
                                  <p><strong>Summit Gear Exchange</strong><br>
                                  123 Mountain View Drive<br>
                                  Summit, CO 80424<br>
                                  Phone: (555) 123-4567</p>
                                </div>
                                                                 <div class="to">
                                   <h3>TO:</h3>
                                   <p><strong>${((D=n.buyerInfo)==null?void 0:D.name)||"N/A"}</strong><br>
                                   ${((W=n.buyerInfo)==null?void 0:W.address)||"N/A"}<br>
                                   ${((Q=n.buyerInfo)==null?void 0:Q.city)||"N/A"}, ${((ce=n.buyerInfo)==null?void 0:ce.zipCode)||"N/A"}<br>
                                   Phone: ${((de=n.buyerInfo)==null?void 0:de.phone)||"N/A"}</p>
                                 </div>
                                <div class="item-details">
                                  <p><strong>Item:</strong> ${n.title}</p>
                                  <p><strong>Order ID:</strong> ${n.saleTransactionId||"N/A"}</p>
                                  <p><strong>Sold Date:</strong> ${((me=n.soldAt)==null?void 0:me.toLocaleDateString())||"N/A"}</p>
                                </div>
                              </div>
                            </body>
                          </html>
                        `),U.document.close(),U.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7"})}),"Print Shipping Label"]})]}),n.saleType==="online"&&n.buyerInfo&&l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Buyer Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Name:"})," ",l.jsx("span",{className:"ml-1",children:((B=n.buyerInfo)==null?void 0:B.name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Email:"})," ",l.jsx("span",{className:"ml-1",children:((V=n.buyerInfo)==null?void 0:V.email)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",l.jsx("span",{className:"ml-1",children:((H=n.buyerInfo)==null?void 0:H.phone)||"N/A"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("span",{className:"text-gray-600",children:"Address:"}),l.jsxs("span",{className:"ml-1",children:[((K=n.buyerInfo)==null?void 0:K.address)||"N/A",", ",((z=n.buyerInfo)==null?void 0:z.city)||"N/A",", ",((ee=n.buyerInfo)==null?void 0:ee.zipCode)||"N/A"]})]})]})]})]})})]}),v&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark as Sold"})]}),l.jsxs("p",{className:"text-gray-600 mb-4",children:['Mark "',l.jsx("span",{className:"font-medium",children:n==null?void 0:n.title}),'" as sold']}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Final Sale Price"}),l.jsx("input",{type:"number",value:x,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Enter sale price",min:"0",step:"0.01"}),x&&parseFloat(x)<=0&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid price greater than 0"})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:C,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:b,children:"Cancel"}),l.jsx("button",{onClick:I,disabled:b||!x||parseFloat(x)<=0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Confirm Sale"})]})]})}),l.jsx("canvas",{ref:m,style:{display:"none"}})]})},gae=({isOpen:t,onClose:e,onCheckout:n})=>{const{cartItems:r,removeFromCart:i,updateQuantity:a,clearCart:o,getCartTotal:s,getCartItemCount:c}=cp();if(!t)return null;const u=()=>{n(),e()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"}),l.jsxs("p",{className:"text-gray-600 mt-1",children:[c()," ",c()===1?"item":"items"," in your cart"]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Add some gear to get started!"}),l.jsx("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Continue Shopping"})]}):l.jsx("div",{className:"space-y-4",children:r.map(d=>l.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[l.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:d.item.images&&d.item.images.length>0?l.jsx("img",{src:d.item.images[0],alt:d.item.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:d.item.title}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.item.description}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.item.category&&l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:d.item.category}),d.item.size&&l.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs",children:["Size ",d.item.size]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["Qty: ",d.quantity]}),l.jsx("span",{className:"text-xs text-gray-500",children:"(Consignment item)"})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(d.item.price*d.quantity).toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["$",d.item.price," each"]})]}),l.jsx("button",{onClick:()=>i(d.item.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Remove from cart",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},d.item.id))})}),r.length>0&&l.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: $",s().toFixed(2)]}),l.jsx("button",{onClick:o,className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"Clear Cart"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"}),l.jsxs("button",{onClick:u,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Checkout - $",s().toFixed(2)]})]}),l.jsx("div",{className:"mt-3 text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:" Secure payment with Stripe   Local pickup available   30-day return policy"})})]})]})})},vae=({isOpen:t,onClose:e,items:n,onItemClick:r})=>{const{bookmarkedItems:i,toggleBookmark:a,addToCart:o}=cp(),s=n.filter(c=>i.includes(c.id));return t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Bookmarked Items"}),l.jsxs("p",{className:"text-gray-600 mt-1",children:[s.length," item",s.length!==1?"s":""," saved"]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:s.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarked items"}),l.jsx("p",{className:"text-gray-500",children:"Items you bookmark will appear here for easy access."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(c=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"relative",children:[c.images&&c.images.length>0?l.jsx("img",{src:c.images[0],alt:c.title,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer",onClick:()=>r(c)}):l.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-t-lg flex items-center justify-center cursor-pointer",onClick:()=>r(c),children:l.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2v12a2 2 0 002 2z"})})}),l.jsx("button",{onClick:()=>{a(c.id),console.log("Removed bookmark from bookmarks modal:",c.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`Removed ${c.title} from bookmarks`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"absolute top-2 right-2 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-red-500 fill-current",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>r(c),children:c.title}),l.jsxs("p",{className:"text-2xl font-bold text-orange-600 mb-3",children:["$",c.price]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c.status==="live"?"bg-green-100 text-green-800":c.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status==="live"?"Available":c.status==="approved"?"Approved":c.status}),l.jsx("span",{className:"text-sm text-gray-500",children:c.category})]}),c.status==="live"&&l.jsx("button",{onClick:()=>{o(c),console.log("Added to cart from bookmarks:",c.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`${c.title} added to cart!`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Add to Cart"})]})]},c.id))})})]})}):null};var LL="basil",yae=function(e){return e===3?"v3":e},BL="https://js.stripe.com",bae="".concat(BL,"/").concat(LL,"/stripe.js"),xae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,_ae=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var wae=function(e){return xae.test(e)||_ae.test(e)},Aae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(BL,'"]')),n=0;n<e.length;n++){var r=e[n];if(wae(r.src))return r}return null},NC=function(e){var n="",r=document.createElement("script");r.src="".concat(bae).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Sae=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Cd=null,vm=null,ym=null,Eae=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Tae=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},jae=function(e){return Cd!==null?Cd:(Cd=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=Aae();if(!(i&&e)){if(!i)i=NC(e);else if(i&&ym!==null&&vm!==null){var a;i.removeEventListener("load",ym),i.removeEventListener("error",vm),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=NC(e)}}ym=Tae(n,r),vm=Eae(r),i.addEventListener("load",ym),i.addEventListener("error",vm)}catch(o){r(o);return}}),Cd.catch(function(n){return Cd=null,Promise.reject(n)}))},Oae=function(e,n,r){if(e===null)return null;var i=n[0],a=i.match(/^pk_test/),o=yae(e.version),s=LL;a&&o!==s&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return Sae(c,r),c},Id,UL=!1,VL=function(){return Id||(Id=jae(null).catch(function(e){return Id=null,Promise.reject(e)}),Id)};Promise.resolve().then(function(){return VL()}).catch(function(t){UL||console.warn(t)});var Nae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];UL=!0;var i=Date.now();return VL().then(function(a){return Oae(a,n,i)})},zL={exports:{}},Cae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Iae=Cae,Pae=Iae;function FL(){}function HL(){}HL.resetWarningCache=FL;var kae=function(){function t(r,i,a,o,s,c){if(c!==Pae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HL,resetWarningCache:FL};return n.PropTypes=n,n};zL.exports=kae();var Rae=zL.exports;const Te=at(Rae);function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){qL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ig(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ig=function(e){return typeof e}:ig=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function qL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dae(t,e){if(t==null)return{};var n=Mae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GL(t,e){return $ae(t)||Lae(t,e)||Bae(t,e)||Uae()}function $ae(t){if(Array.isArray(t))return t}function Lae(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Bae(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Er=function(e,n,r){var i=!!r,a=$.useRef(r);$.useEffect(function(){a.current=r},[r]),$.useEffect(function(){if(!i||!e)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,a])},N_=function(e){var n=$.useRef(e);return $.useEffect(function(){n.current=e},[e]),n.current},Jc=function(e){return e!==null&&ig(e)==="object"},Vae=function(e){return Jc(e)&&typeof e.then=="function"},zae=function(e){return Jc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},kC="[object Object]",Fae=function t(e,n){if(!Jc(e)||!Jc(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===kC,o=Object.prototype.toString.call(n)===kC;if(a!==o)return!1;if(!a&&!r)return e===n;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(var u={},d=0;d<s.length;d+=1)u[s[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==s.length)return!1;var m=e,v=n,y=function(_){return t(m[_],v[_])};return h.every(y)},WL=function(e,n,r){return Jc(e)?Object.keys(e).reduce(function(i,a){var o=!Jc(n)||!Fae(e[a],n[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?IC(IC({},i||{}),{},qL({},a,e[a])):i},null):null},KL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",RC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KL;if(e===null||zae(e))return e;throw new Error(n)},Hae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KL;if(Vae(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return RC(i,n)})};var r=RC(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},qae=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},g0=$.createContext(null);g0.displayName="ElementsContext";var XL=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},YL=function(e){var n=e.stripe,r=e.options,i=e.children,a=$.useMemo(function(){return Hae(n)},[n]),o=$.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),s=GL(o,2),c=s[0],u=s[1];$.useEffect(function(){var h=!0,m=function(y){u(function(x){return x.stripe?x:{stripe:y,elements:y.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(v){v&&h&&m(v)}):a.tag==="sync"&&!c.stripe&&m(a.stripe),function(){h=!1}},[a,c,r]);var d=N_(n);$.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=N_(r);return $.useEffect(function(){if(c.elements){var h=WL(r,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,f,c.elements]),$.useEffect(function(){qae(c.stripe)},[c.stripe]),$.createElement(g0.Provider,{value:c},i)};YL.propTypes={stripe:Te.any,options:Te.object};var Gae=function(e){var n=$.useContext(g0);return XL(n,e)},Wae=function(){var e=Gae("calls useElements()"),n=e.elements;return n};Te.func.isRequired;var QL=$.createContext(null);QL.displayName="CheckoutSdkContext";var Kae=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Xae=$.createContext(null);Xae.displayName="CheckoutContext";Te.any,Te.shape({fetchClientSecret:Te.func.isRequired,elementsOptions:Te.object}).isRequired;var C_=function(e){var n=$.useContext(QL),r=$.useContext(g0);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Kae(n,e):XL(r,e)},Yae=["mode"],Qae=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},nn=function(e,n){var r="".concat(Qae(e),"Element"),i=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,v=c.onFocus,y=c.onReady,x=c.onChange,_=c.onEscape,b=c.onClick,g=c.onLoadError,T=c.onLoaderStart,w=c.onNetworksChange,j=c.onConfirm,E=c.onCancel,A=c.onShippingAddressChange,O=c.onShippingRateChange,I=C_("mounts <".concat(r,">")),C="elements"in I?I.elements:null,R="checkoutSdk"in I?I.checkoutSdk:null,P=$.useState(null),q=GL(P,2),L=q[0],B=q[1],V=$.useRef(null),H=$.useRef(null);Er(L,"blur",m),Er(L,"focus",v),Er(L,"escape",_),Er(L,"click",b),Er(L,"loaderror",g),Er(L,"loaderstart",T),Er(L,"networkschange",w),Er(L,"confirm",j),Er(L,"cancel",E),Er(L,"shippingaddresschange",A),Er(L,"shippingratechange",O),Er(L,"change",x);var K;y&&(e==="expressCheckout"?K=y:K=function(){y(L)}),Er(L,"ready",K),$.useLayoutEffect(function(){if(V.current===null&&H.current!==null&&(C||R)){var ee=null;if(R)switch(e){case"payment":ee=R.createPaymentElement(h);break;case"address":if("mode"in h){var U=h.mode,D=Dae(h,Yae);if(U==="shipping")ee=R.createShippingAddressElement(D);else if(U==="billing")ee=R.createBillingAddressElement(D);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ee=R.createExpressCheckoutElement(h);break;case"currencySelector":ee=R.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else C&&(ee=C.create(e,h));V.current=ee,B(ee),ee&&ee.mount(H.current)}},[C,R,h]);var z=N_(h);return $.useEffect(function(){if(V.current){var ee=WL(h,z,["paymentRequest"]);ee&&"update"in V.current&&V.current.update(ee)}},[h,z]),$.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),$.createElement("div",{id:u,className:d,ref:H})},a=function(c){C_("mounts <".concat(r,">"));var u=c.id,d=c.className;return $.createElement("div",{id:u,className:d})},o=n?a:i;return o.propTypes={id:Te.string,className:Te.string,onChange:Te.func,onBlur:Te.func,onFocus:Te.func,onReady:Te.func,onEscape:Te.func,onClick:Te.func,onLoadError:Te.func,onLoaderStart:Te.func,onNetworksChange:Te.func,onConfirm:Te.func,onCancel:Te.func,onShippingAddressChange:Te.func,onShippingRateChange:Te.func,options:Te.object},o.displayName=r,o.__elementType=e,o},rn=typeof window>"u",Zae=$.createContext(null);Zae.displayName="EmbeddedCheckoutProviderContext";var Jae=function(){var e=C_("calls useStripe()"),n=e.stripe;return n};nn("auBankAccount",rn);var eoe=nn("card",rn);nn("cardNumber",rn);nn("cardExpiry",rn);nn("cardCvc",rn);nn("fpxBank",rn);nn("iban",rn);nn("idealBank",rn);nn("p24Bank",rn);nn("epsBank",rn);nn("payment",rn);nn("expressCheckout",rn);nn("currencySelector",rn);nn("paymentRequestButton",rn);nn("linkAuthentication",rn);nn("address",rn);nn("shippingAddress",rn);nn("paymentMethodMessaging",rn);nn("affirmMessage",rn);nn("afterpayClearpayMessage",rn);const toe=Nae("pk_test_51Rbnai4cE043YuFEryAiYmPIDw6WPTfMk0JFoJyi3eSpEZZBDpTY0tIusq95YjDXqttmcrbAePTHNot0kf3J85Q100Gz9jtjn3"),noe=({onClose:t,onSuccess:e})=>{const n=Jae(),r=Wae(),{cartItems:i,getCartTotal:a,clearCart:o}=cp(),{user:s}=zu(),[c,u]=k.useState(!1),[d,f]=k.useState(null),[h,m]=k.useState({name:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",phone:s&&"phoneNumber"in s?s.phoneNumber:"",address:"",city:"",zipCode:""}),[v,y]=k.useState("shipping"),x=async b=>{console.log("Processing purchase completion for items:",i.length);for(const g of i)try{const T=g.item;console.log(`Processing sold item: ${T.title} (${T.id})`);const w=rr(et,"items",T.id);if(await Rr(w,{status:"sold",soldAt:new Date,soldPrice:T.price,buyerId:(s==null?void 0:s.uid)||"anonymous",buyerInfo:{name:h.name,email:h.email,phone:h.phone,address:h.address,city:h.city,zipCode:h.zipCode},saleTransactionId:b.paymentInfo.transactionId,saleType:"online",fulfillmentMethod:v,trackingNumber:v==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,shippingLabelGenerated:!1,userEarnings:T.price*.75,adminEarnings:T.price*.25}),await nv(An(et,"sales"),{itemId:T.id,itemTitle:T.title,itemCategory:T.category,itemBrand:T.brand||"N/A",itemSize:T.size||"N/A",sellerId:T.sellerId,sellerName:T.sellerName,buyerId:(s==null?void 0:s.uid)||"anonymous",buyerName:h.name,salePrice:T.price,sellerEarnings:T.price*.75,storeCommission:T.price*.25,soldAt:new Date,transactionId:b.paymentInfo.transactionId,orderNumber:b.orderNumber,paymentMethod:b.paymentInfo.method,shippingAddress:{name:h.name,address:h.address,city:h.city,zipCode:h.zipCode,phone:h.phone,email:h.email}}),T.sellerId&&!T.sellerId.startsWith("phone_"))try{await nv(An(et,"store_credits"),{userId:T.sellerId,amount:T.price*.75,source:"item_sale",itemId:T.id,itemTitle:T.title,salePrice:T.price,transactionId:b.paymentInfo.transactionId,createdAt:new Date,description:`Sale of "${T.title}"`}),console.log(`Added store credit for seller ${T.sellerId}: $${(T.price*.75).toFixed(2)}`)}catch(j){console.error("Error updating seller store credit:",j)}console.log(`Successfully processed sale for item: ${T.title}`)}catch(T){console.error(`Error processing item ${g.item.title}:`,T)}},_=async b=>{if(b.preventDefault(),!(!n||!r)){u(!0),f(null);try{if(await new Promise(T=>setTimeout(T,2e3)),s){const T={id:Date.now().toString()+Math.random().toString(36).substr(2,9),orderNumber:`ORD-${Date.now().toString().slice(-6)}`,total:a()+(v==="shipping"?5.99:0),purchaseDate:new Date().toISOString(),items:i.map(w=>({id:w.item.id,title:w.item.title,price:w.item.price,quantity:w.quantity,category:w.item.category,brand:w.item.brand||"N/A",size:w.item.size||"N/A",images:w.item.images||[],sellerId:w.item.sellerId,sellerName:w.item.sellerName})),customerInfo:{name:h.name,email:h.email,phone:h.phone,address:h.address,city:h.city,zipCode:h.zipCode},paymentInfo:{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Date.now().toString()+Math.random().toString(36).substr(2,9)}`},status:"completed",orderStatus:"processing",estimatedDelivery:v==="shipping"?new Date(Date.now()+6048e5).toISOString():void 0,trackingNumber:v==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,fulfillmentMethod:v,shippingLabelGenerated:!1};try{const w=localStorage.getItem(`purchase_history_${s.uid}`),j=w?JSON.parse(w):[];j.unshift(T),localStorage.setItem(`purchase_history_${s.uid}`,JSON.stringify(j)),await x(T),window.dispatchEvent(new StorageEvent("storage",{key:`purchase_history_${s.uid}`,newValue:JSON.stringify(j),storageArea:localStorage})),console.log("Purchase completed successfully:",T)}catch(w){throw console.error("Error saving purchase history:",w),w}}const g=a()+(v==="shipping"?5.99:0);await At(s,"item_purchased",`Purchased ${i.length} items for $${g.toFixed(2)} (${v})`),console.log("Clearing cart after successful checkout..."),await o(s),e()}catch(g){console.error("Payment error:",g),f("Payment processing failed. Please try again.")}finally{u(!1)}}};return l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2",children:[i.map(b=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[b.item.title,"  ",b.quantity]}),l.jsxs("span",{children:["$",(b.item.price*b.quantity).toFixed(2)]})]},b.item.id)),v==="shipping"&&l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:"$5.99"})]}),l.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["$",(a()+(v==="shipping"?5.99:0)).toFixed(2)]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fulfillment Method"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${v==="pickup"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>y("pickup"),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"pickup",checked:v==="pickup",onChange:()=>y("pickup"),className:"text-orange-500"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:" Store Pickup"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Pick up your items at Summit Gear Exchange"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free  Available next business day"})]})]})}),l.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${v==="shipping"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>y("shipping"),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"shipping",checked:v==="shipping",onChange:()=>y("shipping"),className:"text-orange-500"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:" Home Delivery"}),l.jsx("p",{className:"text-sm text-gray-600",children:"We'll ship your items to your address"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$5.99 shipping  5-7 business days"})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),l.jsx("input",{type:"text",value:h.name,onChange:b=>m(g=>({...g,name:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:h.email,onChange:b=>m(g=>({...g,email:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),l.jsx("input",{type:"tel",value:h.phone,onChange:b=>m(g=>({...g,phone:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),v==="shipping"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),l.jsx("input",{type:"text",value:h.address,onChange:b=>m(g=>({...g,address:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),l.jsx("input",{type:"text",value:h.city,onChange:b=>m(g=>({...g,city:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),l.jsx("input",{type:"text",value:h.zipCode,onChange:b=>m(g=>({...g,zipCode:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Information"}),l.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:l.jsx(eoe,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}}}}})}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Demo Mode: Payment will be simulated (no actual charge)"})]}),d&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:l.jsx("p",{className:"text-red-600 text-sm",children:d})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:!n||c,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Complete Order - $",(a()+(v==="shipping"?5.99:0)).toFixed(2)]})})]})]})},roe=({isOpen:t,onClose:e,onSuccess:n})=>t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Checkout"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Complete your purchase securely"})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsx(YL,{stripe:toe,children:l.jsx(noe,{onClose:e,onSuccess:n})})})]})}):null;function ZL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZL(t))&&(r&&(r+=" "),r+=e);return r}var ioe=Array.isArray,xr=ioe,aoe=typeof Vp=="object"&&Vp&&Vp.Object===Object&&Vp,JL=aoe,ooe=JL,soe=typeof self=="object"&&self&&self.Object===Object&&self,loe=ooe||soe||Function("return this")(),ra=loe,coe=ra,uoe=coe.Symbol,mp=uoe,MC=mp,e5=Object.prototype,doe=e5.hasOwnProperty,foe=e5.toString,Pd=MC?MC.toStringTag:void 0;function hoe(t){var e=doe.call(t,Pd),n=t[Pd];try{t[Pd]=void 0;var r=!0}catch{}var i=foe.call(t);return r&&(e?t[Pd]=n:delete t[Pd]),i}var poe=hoe,moe=Object.prototype,goe=moe.toString;function voe(t){return goe.call(t)}var yoe=voe,DC=mp,boe=poe,xoe=yoe,_oe="[object Null]",woe="[object Undefined]",$C=DC?DC.toStringTag:void 0;function Aoe(t){return t==null?t===void 0?woe:_oe:$C&&$C in Object(t)?boe(t):xoe(t)}var Ga=Aoe;function Soe(t){return t!=null&&typeof t=="object"}var Wa=Soe,Eoe=Ga,Toe=Wa,joe="[object Symbol]";function Ooe(t){return typeof t=="symbol"||Toe(t)&&Eoe(t)==joe}var Wu=Ooe,Noe=xr,Coe=Wu,Ioe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Poe=/^\w*$/;function koe(t,e){if(Noe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Coe(t)?!0:Poe.test(t)||!Ioe.test(t)||e!=null&&t in Object(e)}var e2=koe;function Roe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var as=Roe;const Ku=at(as);var Moe=Ga,Doe=as,$oe="[object AsyncFunction]",Loe="[object Function]",Boe="[object GeneratorFunction]",Uoe="[object Proxy]";function Voe(t){if(!Doe(t))return!1;var e=Moe(t);return e==Loe||e==Boe||e==$oe||e==Uoe}var t2=Voe;const Oe=at(t2);var zoe=ra,Foe=zoe["__core-js_shared__"],Hoe=Foe,jx=Hoe,LC=function(){var t=/[^.]+$/.exec(jx&&jx.keys&&jx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qoe(t){return!!LC&&LC in t}var Goe=qoe,Woe=Function.prototype,Koe=Woe.toString;function Xoe(t){if(t!=null){try{return Koe.call(t)}catch{}try{return t+""}catch{}}return""}var t5=Xoe,Yoe=t2,Qoe=Goe,Zoe=as,Joe=t5,ese=/[\\^$.*+?()[\]{}|]/g,tse=/^\[object .+?Constructor\]$/,nse=Function.prototype,rse=Object.prototype,ise=nse.toString,ase=rse.hasOwnProperty,ose=RegExp("^"+ise.call(ase).replace(ese,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sse(t){if(!Zoe(t)||Qoe(t))return!1;var e=Yoe(t)?ose:tse;return e.test(Joe(t))}var lse=sse;function cse(t,e){return t==null?void 0:t[e]}var use=cse,dse=lse,fse=use;function hse(t,e){var n=fse(t,e);return dse(n)?n:void 0}var El=hse,pse=El,mse=pse(Object,"create"),v0=mse,BC=v0;function gse(){this.__data__=BC?BC(null):{},this.size=0}var vse=gse;function yse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bse=yse,xse=v0,_se="__lodash_hash_undefined__",wse=Object.prototype,Ase=wse.hasOwnProperty;function Sse(t){var e=this.__data__;if(xse){var n=e[t];return n===_se?void 0:n}return Ase.call(e,t)?e[t]:void 0}var Ese=Sse,Tse=v0,jse=Object.prototype,Ose=jse.hasOwnProperty;function Nse(t){var e=this.__data__;return Tse?e[t]!==void 0:Ose.call(e,t)}var Cse=Nse,Ise=v0,Pse="__lodash_hash_undefined__";function kse(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ise&&e===void 0?Pse:e,this}var Rse=kse,Mse=vse,Dse=bse,$se=Ese,Lse=Cse,Bse=Rse;function Xu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xu.prototype.clear=Mse;Xu.prototype.delete=Dse;Xu.prototype.get=$se;Xu.prototype.has=Lse;Xu.prototype.set=Bse;var Use=Xu;function Vse(){this.__data__=[],this.size=0}var zse=Vse;function Fse(t,e){return t===e||t!==t&&e!==e}var n2=Fse,Hse=n2;function qse(t,e){for(var n=t.length;n--;)if(Hse(t[n][0],e))return n;return-1}var y0=qse,Gse=y0,Wse=Array.prototype,Kse=Wse.splice;function Xse(t){var e=this.__data__,n=Gse(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kse.call(e,n,1),--this.size,!0}var Yse=Xse,Qse=y0;function Zse(t){var e=this.__data__,n=Qse(e,t);return n<0?void 0:e[n][1]}var Jse=Zse,ele=y0;function tle(t){return ele(this.__data__,t)>-1}var nle=tle,rle=y0;function ile(t,e){var n=this.__data__,r=rle(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ale=ile,ole=zse,sle=Yse,lle=Jse,cle=nle,ule=ale;function Yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yu.prototype.clear=ole;Yu.prototype.delete=sle;Yu.prototype.get=lle;Yu.prototype.has=cle;Yu.prototype.set=ule;var b0=Yu,dle=El,fle=ra,hle=dle(fle,"Map"),r2=hle,UC=Use,ple=b0,mle=r2;function gle(){this.size=0,this.__data__={hash:new UC,map:new(mle||ple),string:new UC}}var vle=gle;function yle(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ble=yle,xle=ble;function _le(t,e){var n=t.__data__;return xle(e)?n[typeof e=="string"?"string":"hash"]:n.map}var x0=_le,wle=x0;function Ale(t){var e=wle(this,t).delete(t);return this.size-=e?1:0,e}var Sle=Ale,Ele=x0;function Tle(t){return Ele(this,t).get(t)}var jle=Tle,Ole=x0;function Nle(t){return Ole(this,t).has(t)}var Cle=Nle,Ile=x0;function Ple(t,e){var n=Ile(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kle=Ple,Rle=vle,Mle=Sle,Dle=jle,$le=Cle,Lle=kle;function Qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qu.prototype.clear=Rle;Qu.prototype.delete=Mle;Qu.prototype.get=Dle;Qu.prototype.has=$le;Qu.prototype.set=Lle;var i2=Qu,n5=i2,Ble="Expected a function";function a2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ble);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(a2.Cache||n5),n}a2.Cache=n5;var r5=a2;const Ule=at(r5);var Vle=r5,zle=500;function Fle(t){var e=Vle(t,function(r){return n.size===zle&&n.clear(),r}),n=e.cache;return e}var Hle=Fle,qle=Hle,Gle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wle=/\\(\\)?/g,Kle=qle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Gle,function(n,r,i,a){e.push(i?a.replace(Wle,"$1"):r||n)}),e}),Xle=Kle;function Yle(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var o2=Yle,VC=mp,Qle=o2,Zle=xr,Jle=Wu,zC=VC?VC.prototype:void 0,FC=zC?zC.toString:void 0;function i5(t){if(typeof t=="string")return t;if(Zle(t))return Qle(t,i5)+"";if(Jle(t))return FC?FC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ece=i5,tce=ece;function nce(t){return t==null?"":tce(t)}var a5=nce,rce=xr,ice=e2,ace=Xle,oce=a5;function sce(t,e){return rce(t)?t:ice(t,e)?[t]:ace(oce(t))}var o5=sce,lce=Wu;function cce(t){if(typeof t=="string"||lce(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _0=cce,uce=o5,dce=_0;function fce(t,e){e=uce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[dce(e[n++])];return n&&n==r?t:void 0}var s2=fce,hce=s2;function pce(t,e,n){var r=t==null?void 0:hce(t,e);return r===void 0?n:r}var s5=pce;const zr=at(s5);function mce(t){return t==null}var gce=mce;const Re=at(gce);var vce=Ga,yce=xr,bce=Wa,xce="[object String]";function _ce(t){return typeof t=="string"||!yce(t)&&bce(t)&&vce(t)==xce}var wce=_ce;const ol=at(wce);var l5={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2=Symbol.for("react.element"),c2=Symbol.for("react.portal"),w0=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),E0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),Ace=Symbol.for("react.server_context"),j0=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),I0=Symbol.for("react.lazy"),Sce=Symbol.for("react.offscreen"),c5;c5=Symbol.for("react.module.reference");function ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case l2:switch(t=t.type,t){case w0:case S0:case A0:case O0:case N0:return t;default:switch(t=t&&t.$$typeof,t){case Ace:case T0:case j0:case I0:case C0:case E0:return t;default:return e}}case c2:return e}}}ct.ContextConsumer=T0;ct.ContextProvider=E0;ct.Element=l2;ct.ForwardRef=j0;ct.Fragment=w0;ct.Lazy=I0;ct.Memo=C0;ct.Portal=c2;ct.Profiler=S0;ct.StrictMode=A0;ct.Suspense=O0;ct.SuspenseList=N0;ct.isAsyncMode=function(){return!1};ct.isConcurrentMode=function(){return!1};ct.isContextConsumer=function(t){return ui(t)===T0};ct.isContextProvider=function(t){return ui(t)===E0};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===l2};ct.isForwardRef=function(t){return ui(t)===j0};ct.isFragment=function(t){return ui(t)===w0};ct.isLazy=function(t){return ui(t)===I0};ct.isMemo=function(t){return ui(t)===C0};ct.isPortal=function(t){return ui(t)===c2};ct.isProfiler=function(t){return ui(t)===S0};ct.isStrictMode=function(t){return ui(t)===A0};ct.isSuspense=function(t){return ui(t)===O0};ct.isSuspenseList=function(t){return ui(t)===N0};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===w0||t===S0||t===A0||t===O0||t===N0||t===Sce||typeof t=="object"&&t!==null&&(t.$$typeof===I0||t.$$typeof===C0||t.$$typeof===E0||t.$$typeof===T0||t.$$typeof===j0||t.$$typeof===c5||t.getModuleId!==void 0)};ct.typeOf=ui;l5.exports=ct;var Ece=l5.exports,Tce=Ga,jce=Wa,Oce="[object Number]";function Nce(t){return typeof t=="number"||jce(t)&&Tce(t)==Oce}var u5=Nce;const Cce=at(u5);var Ice=u5;function Pce(t){return Ice(t)&&t!=+t}var kce=Pce;const Zu=at(kce);var ir=function(e){return e===0?0:e>0?1:-1},Ps=function(e){return ol(e)&&e.indexOf("%")===e.length-1},oe=function(e){return Cce(e)&&!Zu(e)},cn=function(e){return oe(e)||ol(e)},Rce=0,Tl=function(e){var n=++Rce;return"".concat(e||"").concat(n)},ar=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!ol(e))return r;var a;if(Ps(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Zu(a)&&(a=r),i&&a>n&&(a=n),a},go=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mce=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},sn=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function av(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):zr(r,e))===n})}var Dce=function(e,n){return oe(e)&&oe(n)?e-n:ol(e)&&ol(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Oc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I_(t){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(t)}var $ce=["viewBox","children"],Lce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HC=["points","pathLength"],Ox={svg:$ce,polygon:HC,polyline:HC},u2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ov=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!Ku(r))return null;var i={};return Object.keys(r).forEach(function(a){u2.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Bce=function(e,n,r){return function(i){return e(n,r,i),null}},sl=function(e,n,r){if(!Ku(e)||I_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];u2.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Bce(o,n,r))}),i},Uce=["children"],Vce=["children"];function qC(t,e){if(t==null)return{};var n=zce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P_(t){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(t)}var GC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ca=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},WC=null,Nx=null,d2=function t(e){if(e===WC&&Array.isArray(Nx))return Nx;var n=[];return k.Children.forEach(e,function(r){Re(r)||(Ece.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Nx=n,WC=e,n};function Fr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ca(i)}):r=[Ca(e)],d2(t).forEach(function(i){var a=zr(i,"type.displayName")||zr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Nr(t,e){var n=Fr(t,e);return n&&n[0]}var KC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},Fce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Hce=function(e){return e&&e.type&&ol(e.type)&&Fce.indexOf(e.type)>=0},d5=function(e){return e&&P_(e)==="object"&&"clipDot"in e},qce=function(e,n,r,i){var a,o=(a=Ox==null?void 0:Ox[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Oe(e)&&(i&&o.includes(n)||Lce.includes(n))||r&&u2.includes(n)},xe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!Ku(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;qce((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},k_=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return XC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!XC(a,o))return!1}return!0},XC=function(e,n){if(Re(e)&&Re(n))return!0;if(!Re(e)&&!Re(n)){var r=e.props||{},i=r.children,a=qC(r,Uce),o=n.props||{},s=o.children,c=qC(o,Vce);return i&&s?Oc(a,c)&&k_(i,s):!i&&!s?Oc(a,c):!1}return!1},YC=function(e,n){var r=[],i={};return d2(e).forEach(function(a,o){if(Hce(a))r.push(a);else if(a){var s=Ca(a.type),c=n[s]||{},u=c.handler,d=c.once;if(u&&(!d||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},Gce=function(e){var n=e&&e.type;return n&&GC[n]?GC[n]:null},Wce=function(e,n){return d2(n).indexOf(e)},Kce=["children","width","height","viewBox","className","style","title","desc"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function Xce(t,e){if(t==null)return{};var n=Yce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,c=t.desc,u=Xce(t,Kce),d=i||{width:n,height:r,x:0,y:0},f=$e("recharts-surface",a);return $.createElement("svg",R_({},xe(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,s),$.createElement("desc",null,c),e)}var Qce=["children","className"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function Zce(t,e){if(t==null)return{};var n=Jce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var He=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=Zce(t,Qce),a=$e("recharts-layer",r);return $.createElement("g",D_({className:a},xe(i,!0),{ref:e}),n)}),Ei=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function eue(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var tue=eue,nue=tue;function rue(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:nue(t,e,n)}var iue=rue,aue="\\ud800-\\udfff",oue="\\u0300-\\u036f",sue="\\ufe20-\\ufe2f",lue="\\u20d0-\\u20ff",cue=oue+sue+lue,uue="\\ufe0e\\ufe0f",due="\\u200d",fue=RegExp("["+due+aue+cue+uue+"]");function hue(t){return fue.test(t)}var f5=hue;function pue(t){return t.split("")}var mue=pue,h5="\\ud800-\\udfff",gue="\\u0300-\\u036f",vue="\\ufe20-\\ufe2f",yue="\\u20d0-\\u20ff",bue=gue+vue+yue,xue="\\ufe0e\\ufe0f",_ue="["+h5+"]",$_="["+bue+"]",L_="\\ud83c[\\udffb-\\udfff]",wue="(?:"+$_+"|"+L_+")",p5="[^"+h5+"]",m5="(?:\\ud83c[\\udde6-\\uddff]){2}",g5="[\\ud800-\\udbff][\\udc00-\\udfff]",Aue="\\u200d",v5=wue+"?",y5="["+xue+"]?",Sue="(?:"+Aue+"(?:"+[p5,m5,g5].join("|")+")"+y5+v5+")*",Eue=y5+v5+Sue,Tue="(?:"+[p5+$_+"?",$_,m5,g5,_ue].join("|")+")",jue=RegExp(L_+"(?="+L_+")|"+Tue+Eue,"g");function Oue(t){return t.match(jue)||[]}var Nue=Oue,Cue=mue,Iue=f5,Pue=Nue;function kue(t){return Iue(t)?Pue(t):Cue(t)}var Rue=kue,Mue=iue,Due=f5,$ue=Rue,Lue=a5;function Bue(t){return function(e){e=Lue(e);var n=Due(e)?$ue(e):void 0,r=n?n[0]:e.charAt(0),i=n?Mue(n,1).join(""):e.slice(1);return r[t]()+i}}var Uue=Bue,Vue=Uue,zue=Vue("toUpperCase"),Fue=zue;const P0=at(Fue);function vt(t){return function(){return t}}const b5=Math.cos,sv=Math.sin,Ii=Math.sqrt,lv=Math.PI,k0=2*lv,B_=Math.PI,U_=2*B_,Es=1e-6,Hue=U_-Es;function x5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function que(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Gue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x5:que(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-e,u=i-n,d=o-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Es)if(!(Math.abs(f*c-u*d)>Es)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,v=i-s,y=c*c+u*u,x=m*m+v*v,_=Math.sqrt(y),b=Math.sqrt(h),g=a*Math.tan((B_-Math.acos((y+h-x)/(2*_*b)))/2),T=g/b,w=g/_;Math.abs(T-1)>Es&&this._append`L${e+T*d},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=e+w*c},${this._y1=n+w*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),u=e+s,d=n+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Es||Math.abs(this._y1-d)>Es)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%U_+U_),h>Hue?this._append`A${r},${r},0,1,${f},${e-s},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Es&&this._append`A${r},${r},0,${+(h>=B_)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function f2(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Gue(e)}function h2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _5(t){this._context=t}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function R0(t){return new _5(t)}function w5(t){return t[0]}function A5(t){return t[1]}function S5(t,e){var n=vt(!0),r=null,i=R0,a=null,o=f2(s);t=typeof t=="function"?t:t===void 0?w5:vt(t),e=typeof e=="function"?e:e===void 0?A5:vt(e);function s(c){var u,d=(c=h2(c)).length,f,h=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:vt(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:vt(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:vt(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function bm(t,e,n){var r=null,i=vt(!0),a=null,o=R0,s=null,c=f2(u);t=typeof t=="function"?t:t===void 0?w5:vt(+t),e=typeof e=="function"?e:vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?A5:vt(+n);function u(f){var h,m,v,y=(f=h2(f)).length,x,_=!1,b,g=new Array(y),T=new Array(y);for(a==null&&(s=o(b=c())),h=0;h<=y;++h){if(!(h<y&&i(x=f[h],h,f))===_)if(_=!_)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(g[v],T[v]);s.lineEnd(),s.areaEnd()}_&&(g[h]=+t(x,h,f),T[h]=+e(x,h,f),s.point(r?+r(x,h,f):g[h],n?+n(x,h,f):T[h]))}if(b)return s=null,b+""||null}function d(){return S5().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:vt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:vt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:vt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:vt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:vt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:vt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:vt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class E5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Wue(t){return new E5(t,!0)}function Kue(t){return new E5(t,!1)}const p2={draw(t,e){const n=Ii(e/lv);t.moveTo(n,0),t.arc(0,0,n,0,k0)}},Xue={draw(t,e){const n=Ii(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},T5=Ii(1/3),Yue=T5*2,Que={draw(t,e){const n=Ii(e/Yue),r=n*T5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Zue={draw(t,e){const n=Ii(e),r=-n/2;t.rect(r,r,n,n)}},Jue=.8908130915292852,j5=sv(lv/10)/sv(7*lv/10),ede=sv(k0/10)*j5,tde=-b5(k0/10)*j5,nde={draw(t,e){const n=Ii(e*Jue),r=ede*n,i=tde*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=k0*a/5,s=b5(o),c=sv(o);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},Cx=Ii(3),rde={draw(t,e){const n=-Ii(e/(Cx*3));t.moveTo(0,n*2),t.lineTo(-Cx*n,-n),t.lineTo(Cx*n,-n),t.closePath()}},qr=-.5,Gr=Ii(3)/2,V_=1/Ii(12),ide=(V_/2+1)*3,ade={draw(t,e){const n=Ii(e/ide),r=n/2,i=n*V_,a=r,o=n*V_+n,s=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(qr*r-Gr*i,Gr*r+qr*i),t.lineTo(qr*a-Gr*o,Gr*a+qr*o),t.lineTo(qr*s-Gr*c,Gr*s+qr*c),t.lineTo(qr*r+Gr*i,qr*i-Gr*r),t.lineTo(qr*a+Gr*o,qr*o-Gr*a),t.lineTo(qr*s+Gr*c,qr*c-Gr*s),t.closePath()}};function ode(t,e){let n=null,r=f2(i);t=typeof t=="function"?t:vt(t||p2),e=typeof e=="function"?e:vt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:vt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:vt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function cv(){}function uv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function O5(t){this._context=t}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sde(t){return new O5(t)}function N5(t){this._context=t}N5.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lde(t){return new N5(t)}function C5(t){this._context=t}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cde(t){return new C5(t)}function I5(t){this._context=t}I5.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ude(t){return new I5(t)}function QC(t){return t<0?-1:1}function ZC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(QC(a)+QC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function JC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ix(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function dv(t){this._context=t}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ix(this,this._t0,JC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ix(this,JC(this,n=ZC(this,t,e)),n);break;default:Ix(this,this._t0,n=ZC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function P5(t){this._context=new k5(t)}(P5.prototype=Object.create(dv.prototype)).point=function(t,e){dv.prototype.point.call(this,e,t)};function k5(t){this._context=t}k5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function dde(t){return new dv(t)}function fde(t){return new P5(t)}function R5(t){this._context=t}R5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=eI(t),i=eI(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function hde(t){return new R5(t)}function M0(t,e){this._context=t,this._t=e}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pde(t){return new M0(t,.5)}function mde(t){return new M0(t,0)}function gde(t){return new M0(t,1)}function eu(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function z_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function vde(t,e){return t[e]}function yde(t){const e=[];return e.key=t,e}function bde(){var t=vt([]),e=z_,n=eu,r=vde;function i(a){var o=Array.from(t.apply(this,arguments),yde),s,c=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,d=h2(e(o));s<c;++s)o[d[s]].index=s;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:vt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?z_:typeof a=="function"?a:vt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??eu,i):n},i}function xde(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}eu(t,e)}}function _de(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}eu(t,e)}}function wde(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],x=y[r][1]||0,_=y[r-1][1]||0;m+=x-_}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,eu(t,e)}}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var Ade=["type","size","sizeType"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Tde(t,"string");return eh(e)=="symbol"?e:e+""}function Tde(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jde(t,e){if(t==null)return{};var n=Ode(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var M5={symbolCircle:p2,symbolCross:Xue,symbolDiamond:Que,symbolSquare:Zue,symbolStar:nde,symbolTriangle:rde,symbolWye:ade},Nde=Math.PI/180,Cde=function(e){var n="symbol".concat(P0(e));return M5[n]||p2},Ide=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Nde;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pde=function(e,n){M5["symbol".concat(P0(e))]=n},m2=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,c=jde(e,Ade),u=nI(nI({},c),{},{type:r,size:a,sizeType:s}),d=function(){var x=Cde(r),_=ode().type(x).size(Ide(a,s,r));return _()},f=u.className,h=u.cx,m=u.cy,v=xe(u,!0);return h===+h&&m===+m&&a===+a?$.createElement("path",F_({},v,{className:$e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};m2.registerSymbol=Pde;function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$5(r.key),r)}}function Dde(t,e,n){return e&&Mde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $de(t,e,n){return e=fv(e),Lde(t,D5()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function Lde(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(t)}function Bde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function th(t,e,n){return e=$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(t){var e=Vde(t,"string");return tu(e)=="symbol"?e:e+""}function Vde(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mi=32,g2=function(t){function e(){return Rde(this,e),$de(this,e,arguments)}return Ude(e,t),Dde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=mi/2,o=mi/6,s=mi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:mi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(mi,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mi/8,"h").concat(mi,"v").concat(mi*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=kde({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(m2,{fill:c,cx:a,cy:a,size:mi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:mi,height:mi},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,v){var y=m.formatter||c,x=$e(th(th({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=Oe(m.value)?null:m.value;Ei(!Oe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return $.createElement("li",H_({className:x,style:f,key:"legend-item-".concat(v)},sl(r.props,m,v)),$.createElement(M_,{width:o,height:o,viewBox:d,style:h},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(_,m,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(k.PureComponent);th(g2,"displayName","Legend");th(g2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zde=b0;function Fde(){this.__data__=new zde,this.size=0}var Hde=Fde;function qde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Gde=qde;function Wde(t){return this.__data__.get(t)}var Kde=Wde;function Xde(t){return this.__data__.has(t)}var Yde=Xde,Qde=b0,Zde=r2,Jde=i2,efe=200;function tfe(t,e){var n=this.__data__;if(n instanceof Qde){var r=n.__data__;if(!Zde||r.length<efe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jde(r)}return n.set(t,e),this.size=n.size,this}var nfe=tfe,rfe=b0,ife=Hde,afe=Gde,ofe=Kde,sfe=Yde,lfe=nfe;function Ju(t){var e=this.__data__=new rfe(t);this.size=e.size}Ju.prototype.clear=ife;Ju.prototype.delete=afe;Ju.prototype.get=ofe;Ju.prototype.has=sfe;Ju.prototype.set=lfe;var L5=Ju,cfe="__lodash_hash_undefined__";function ufe(t){return this.__data__.set(t,cfe),this}var dfe=ufe;function ffe(t){return this.__data__.has(t)}var hfe=ffe,pfe=i2,mfe=dfe,gfe=hfe;function hv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pfe;++e<n;)this.add(t[e])}hv.prototype.add=hv.prototype.push=mfe;hv.prototype.has=gfe;var B5=hv;function vfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var U5=vfe;function yfe(t,e){return t.has(e)}var V5=yfe,bfe=B5,xfe=U5,_fe=V5,wfe=1,Afe=2;function Sfe(t,e,n,r,i,a){var o=n&wfe,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&Afe?new bfe:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var x=o?r(y,v,f,e,t,a):r(v,y,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!xfe(e,function(_,b){if(!_fe(m,b)&&(v===_||i(v,_,n,r,a)))return m.push(b)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var z5=Sfe,Efe=ra,Tfe=Efe.Uint8Array,jfe=Tfe;function Ofe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Nfe=Ofe;function Cfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var v2=Cfe,iI=mp,aI=jfe,Ife=n2,Pfe=z5,kfe=Nfe,Rfe=v2,Mfe=1,Dfe=2,$fe="[object Boolean]",Lfe="[object Date]",Bfe="[object Error]",Ufe="[object Map]",Vfe="[object Number]",zfe="[object RegExp]",Ffe="[object Set]",Hfe="[object String]",qfe="[object Symbol]",Gfe="[object ArrayBuffer]",Wfe="[object DataView]",oI=iI?iI.prototype:void 0,Px=oI?oI.valueOf:void 0;function Kfe(t,e,n,r,i,a,o){switch(n){case Wfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Gfe:return!(t.byteLength!=e.byteLength||!a(new aI(t),new aI(e)));case $fe:case Lfe:case Vfe:return Ife(+t,+e);case Bfe:return t.name==e.name&&t.message==e.message;case zfe:case Hfe:return t==e+"";case Ufe:var s=kfe;case Ffe:var c=r&Mfe;if(s||(s=Rfe),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=Dfe,o.set(t,e);var d=Pfe(s(t),s(e),r,i,a,o);return o.delete(t),d;case qfe:if(Px)return Px.call(t)==Px.call(e)}return!1}var Xfe=Kfe;function Yfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var F5=Yfe,Qfe=F5,Zfe=xr;function Jfe(t,e,n){var r=e(t);return Zfe(t)?r:Qfe(r,n(t))}var ehe=Jfe;function the(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var nhe=the;function rhe(){return[]}var ihe=rhe,ahe=nhe,ohe=ihe,she=Object.prototype,lhe=she.propertyIsEnumerable,sI=Object.getOwnPropertySymbols,che=sI?function(t){return t==null?[]:(t=Object(t),ahe(sI(t),function(e){return lhe.call(t,e)}))}:ohe,uhe=che;function dhe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fhe=dhe,hhe=Ga,phe=Wa,mhe="[object Arguments]";function ghe(t){return phe(t)&&hhe(t)==mhe}var vhe=ghe,lI=vhe,yhe=Wa,H5=Object.prototype,bhe=H5.hasOwnProperty,xhe=H5.propertyIsEnumerable,_he=lI(function(){return arguments}())?lI:function(t){return yhe(t)&&bhe.call(t,"callee")&&!xhe.call(t,"callee")},y2=_he,pv={exports:{}};function whe(){return!1}var Ahe=whe;pv.exports;(function(t,e){var n=ra,r=Ahe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;t.exports=u})(pv,pv.exports);var q5=pv.exports,She=9007199254740991,Ehe=/^(?:0|[1-9]\d*)$/;function The(t,e){var n=typeof t;return e=e??She,!!e&&(n=="number"||n!="symbol"&&Ehe.test(t))&&t>-1&&t%1==0&&t<e}var b2=The,jhe=9007199254740991;function Ohe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jhe}var x2=Ohe,Nhe=Ga,Che=x2,Ihe=Wa,Phe="[object Arguments]",khe="[object Array]",Rhe="[object Boolean]",Mhe="[object Date]",Dhe="[object Error]",$he="[object Function]",Lhe="[object Map]",Bhe="[object Number]",Uhe="[object Object]",Vhe="[object RegExp]",zhe="[object Set]",Fhe="[object String]",Hhe="[object WeakMap]",qhe="[object ArrayBuffer]",Ghe="[object DataView]",Whe="[object Float32Array]",Khe="[object Float64Array]",Xhe="[object Int8Array]",Yhe="[object Int16Array]",Qhe="[object Int32Array]",Zhe="[object Uint8Array]",Jhe="[object Uint8ClampedArray]",epe="[object Uint16Array]",tpe="[object Uint32Array]",_t={};_t[Whe]=_t[Khe]=_t[Xhe]=_t[Yhe]=_t[Qhe]=_t[Zhe]=_t[Jhe]=_t[epe]=_t[tpe]=!0;_t[Phe]=_t[khe]=_t[qhe]=_t[Rhe]=_t[Ghe]=_t[Mhe]=_t[Dhe]=_t[$he]=_t[Lhe]=_t[Bhe]=_t[Uhe]=_t[Vhe]=_t[zhe]=_t[Fhe]=_t[Hhe]=!1;function npe(t){return Ihe(t)&&Che(t.length)&&!!_t[Nhe(t)]}var rpe=npe;function ipe(t){return function(e){return t(e)}}var G5=ipe,mv={exports:{}};mv.exports;(function(t,e){var n=JL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(mv,mv.exports);var ape=mv.exports,ope=rpe,spe=G5,cI=ape,uI=cI&&cI.isTypedArray,lpe=uI?spe(uI):ope,W5=lpe,cpe=fhe,upe=y2,dpe=xr,fpe=q5,hpe=b2,ppe=W5,mpe=Object.prototype,gpe=mpe.hasOwnProperty;function vpe(t,e){var n=dpe(t),r=!n&&upe(t),i=!n&&!r&&fpe(t),a=!n&&!r&&!i&&ppe(t),o=n||r||i||a,s=o?cpe(t.length,String):[],c=s.length;for(var u in t)(e||gpe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hpe(u,c)))&&s.push(u);return s}var ype=vpe,bpe=Object.prototype;function xpe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bpe;return t===n}var _pe=xpe;function wpe(t,e){return function(n){return t(e(n))}}var K5=wpe,Ape=K5,Spe=Ape(Object.keys,Object),Epe=Spe,Tpe=_pe,jpe=Epe,Ope=Object.prototype,Npe=Ope.hasOwnProperty;function Cpe(t){if(!Tpe(t))return jpe(t);var e=[];for(var n in Object(t))Npe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ipe=Cpe,Ppe=t2,kpe=x2;function Rpe(t){return t!=null&&kpe(t.length)&&!Ppe(t)}var gp=Rpe,Mpe=ype,Dpe=Ipe,$pe=gp;function Lpe(t){return $pe(t)?Mpe(t):Dpe(t)}var D0=Lpe,Bpe=ehe,Upe=uhe,Vpe=D0;function zpe(t){return Bpe(t,Vpe,Upe)}var Fpe=zpe,dI=Fpe,Hpe=1,qpe=Object.prototype,Gpe=qpe.hasOwnProperty;function Wpe(t,e,n,r,i,a){var o=n&Hpe,s=dI(t),c=s.length,u=dI(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in e:Gpe.call(e,h)))return!1}var m=a.get(t),v=a.get(e);if(m&&v)return m==e&&v==t;var y=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<c;){h=s[f];var _=t[h],b=e[h];if(r)var g=o?r(b,_,h,e,t,a):r(_,b,h,t,e,a);if(!(g===void 0?_===b||i(_,b,n,r,a):g)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var T=t.constructor,w=e.constructor;T!=w&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof w=="function"&&w instanceof w)&&(y=!1)}return a.delete(t),a.delete(e),y}var Kpe=Wpe,Xpe=El,Ype=ra,Qpe=Xpe(Ype,"DataView"),Zpe=Qpe,Jpe=El,eme=ra,tme=Jpe(eme,"Promise"),nme=tme,rme=El,ime=ra,ame=rme(ime,"Set"),X5=ame,ome=El,sme=ra,lme=ome(sme,"WeakMap"),cme=lme,G_=Zpe,W_=r2,K_=nme,X_=X5,Y_=cme,Y5=Ga,ed=t5,fI="[object Map]",ume="[object Object]",hI="[object Promise]",pI="[object Set]",mI="[object WeakMap]",gI="[object DataView]",dme=ed(G_),fme=ed(W_),hme=ed(K_),pme=ed(X_),mme=ed(Y_),Ts=Y5;(G_&&Ts(new G_(new ArrayBuffer(1)))!=gI||W_&&Ts(new W_)!=fI||K_&&Ts(K_.resolve())!=hI||X_&&Ts(new X_)!=pI||Y_&&Ts(new Y_)!=mI)&&(Ts=function(t){var e=Y5(t),n=e==ume?t.constructor:void 0,r=n?ed(n):"";if(r)switch(r){case dme:return gI;case fme:return fI;case hme:return hI;case pme:return pI;case mme:return mI}return e});var gme=Ts,kx=L5,vme=z5,yme=Xfe,bme=Kpe,vI=gme,yI=xr,bI=q5,xme=W5,_me=1,xI="[object Arguments]",_I="[object Array]",xm="[object Object]",wme=Object.prototype,wI=wme.hasOwnProperty;function Ame(t,e,n,r,i,a){var o=yI(t),s=yI(e),c=o?_I:vI(t),u=s?_I:vI(e);c=c==xI?xm:c,u=u==xI?xm:u;var d=c==xm,f=u==xm,h=c==u;if(h&&bI(t)){if(!bI(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new kx),o||xme(t)?vme(t,e,n,r,i,a):yme(t,e,c,n,r,i,a);if(!(n&_me)){var m=d&&wI.call(t,"__wrapped__"),v=f&&wI.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return a||(a=new kx),i(y,x,n,r,a)}}return h?(a||(a=new kx),bme(t,e,n,r,i,a)):!1}var Sme=Ame,Eme=Sme,AI=Wa;function Q5(t,e,n,r,i){return t===e?!0:t==null||e==null||!AI(t)&&!AI(e)?t!==t&&e!==e:Eme(t,e,n,r,Q5,i)}var _2=Q5,Tme=L5,jme=_2,Ome=1,Nme=2;function Cme(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var c=s[0],u=t[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Tme;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?jme(d,u,Ome|Nme,r,f):h))return!1}}return!0}var Ime=Cme,Pme=as;function kme(t){return t===t&&!Pme(t)}var Z5=kme,Rme=Z5,Mme=D0;function Dme(t){for(var e=Mme(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rme(i)]}return e}var $me=Dme;function Lme(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var J5=Lme,Bme=Ime,Ume=$me,Vme=J5;function zme(t){var e=Ume(t);return e.length==1&&e[0][2]?Vme(e[0][0],e[0][1]):function(n){return n===t||Bme(n,t,e)}}var Fme=zme;function Hme(t,e){return t!=null&&e in Object(t)}var qme=Hme,Gme=o5,Wme=y2,Kme=xr,Xme=b2,Yme=x2,Qme=_0;function Zme(t,e,n){e=Gme(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Qme(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Yme(i)&&Xme(o,i)&&(Kme(t)||Wme(t)))}var Jme=Zme,ege=qme,tge=Jme;function nge(t,e){return t!=null&&tge(t,e,ege)}var rge=nge,ige=_2,age=s5,oge=rge,sge=e2,lge=Z5,cge=J5,uge=_0,dge=1,fge=2;function hge(t,e){return sge(t)&&lge(e)?cge(uge(t),e):function(n){var r=age(n,t);return r===void 0&&r===e?oge(n,t):ige(e,r,dge|fge)}}var pge=hge;function mge(t){return t}var td=mge;function gge(t){return function(e){return e==null?void 0:e[t]}}var vge=gge,yge=s2;function bge(t){return function(e){return yge(e,t)}}var xge=bge,_ge=vge,wge=xge,Age=e2,Sge=_0;function Ege(t){return Age(t)?_ge(Sge(t)):wge(t)}var Tge=Ege,jge=Fme,Oge=pge,Nge=td,Cge=xr,Ige=Tge;function Pge(t){return typeof t=="function"?t:t==null?Nge:typeof t=="object"?Cge(t)?Oge(t[0],t[1]):jge(t):Ige(t)}var ia=Pge;function kge(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var eB=kge;function Rge(t){return t!==t}var Mge=Rge;function Dge(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var $ge=Dge,Lge=eB,Bge=Mge,Uge=$ge;function Vge(t,e,n){return e===e?Uge(t,e,n):Lge(t,Bge,n)}var zge=Vge,Fge=zge;function Hge(t,e){var n=t==null?0:t.length;return!!n&&Fge(t,e,0)>-1}var qge=Hge;function Gge(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Wge=Gge;function Kge(){}var Xge=Kge,Rx=X5,Yge=Xge,Qge=v2,Zge=1/0,Jge=Rx&&1/Qge(new Rx([,-0]))[1]==Zge?function(t){return new Rx(t)}:Yge,eve=Jge,tve=B5,nve=qge,rve=Wge,ive=V5,ave=eve,ove=v2,sve=200;function lve(t,e,n){var r=-1,i=nve,a=t.length,o=!0,s=[],c=s;if(n)o=!1,i=rve;else if(a>=sve){var u=e?null:ave(t);if(u)return ove(u);o=!1,i=ive,c=new tve}else c=e?[]:s;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),s.push(d)}else i(c,f,n)||(c!==s&&c.push(f),s.push(d))}return s}var cve=lve,uve=ia,dve=cve;function fve(t,e){return t&&t.length?dve(t,uve(e)):[]}var hve=fve;const SI=at(hve);function tB(t,e,n){return e===!0?SI(t,n):Oe(e)?SI(t,e):t}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var pve=["ref"];function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){$0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rB(r.key),r)}}function gve(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vve(t,e,n){return e=gv(e),yve(t,nB()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function yve(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bve(t)}function bve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function xve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q_(t,e)}function $0(t,e,n){return e=rB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(t){var e=_ve(t,"string");return nu(e)=="symbol"?e:e+""}function _ve(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wve(t,e){if(t==null)return{};var n=Ave(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ave(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sve(t){return t.value}function Eve(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=wve(e,pve);return $.createElement(g2,n)}var jI=1,Nc=function(t){function e(){var n;mve(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vve(this,e,[].concat(i)),$0(n,"lastBoundingBox",{width:-1,height:-1}),n}return xve(e,t),gve(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jI||Math.abs(i.height-this.lastBoundingBox.height)>jI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return da(da({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=da(da({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Eve(a,da(da({},this.props),{},{payload:tB(d,u,Sve)})))}}],[{key:"getWithHeight",value:function(r,i){var a=da(da({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(k.PureComponent);$0(Nc,"displayName","Legend");$0(Nc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OI=mp,Tve=y2,jve=xr,NI=OI?OI.isConcatSpreadable:void 0;function Ove(t){return jve(t)||Tve(t)||!!(NI&&t&&t[NI])}var Nve=Ove,Cve=F5,Ive=Nve;function iB(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Ive),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?iB(s,e-1,n,r,i):Cve(i,s):r||(i[i.length]=s)}return i}var aB=iB;function Pve(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var c=o[t?s:++i];if(n(a[c],c,a)===!1)break}return e}}var kve=Pve,Rve=kve,Mve=Rve(),Dve=Mve,$ve=Dve,Lve=D0;function Bve(t,e){return t&&$ve(t,e,Lve)}var oB=Bve,Uve=gp;function Vve(t,e){return function(n,r){if(n==null)return n;if(!Uve(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var zve=Vve,Fve=oB,Hve=zve,qve=Hve(Fve),w2=qve,Gve=w2,Wve=gp;function Kve(t,e){var n=-1,r=Wve(t)?Array(t.length):[];return Gve(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var sB=Kve;function Xve(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Yve=Xve,CI=Wu;function Qve(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=CI(t),o=e!==void 0,s=e===null,c=e===e,u=CI(e);if(!s&&!u&&!a&&t>e||a&&o&&c&&!s&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}var Zve=Qve,Jve=Zve;function eye(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var c=Jve(i[r],a[r]);if(c){if(r>=s)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var tye=eye,Mx=o2,nye=s2,rye=ia,iye=sB,aye=Yve,oye=G5,sye=tye,lye=td,cye=xr;function uye(t,e,n){e.length?e=Mx(e,function(a){return cye(a)?function(o){return nye(o,a.length===1?a[0]:a)}:a}):e=[lye];var r=-1;e=Mx(e,oye(rye));var i=iye(t,function(a,o,s){var c=Mx(e,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return aye(i,function(a,o){return sye(a,o,n)})}var dye=uye;function fye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hye=fye,pye=hye,II=Math.max;function mye(t,e,n){return e=II(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=II(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),pye(t,this,s)}}var gye=mye;function vye(t){return function(){return t}}var yye=vye,bye=El,xye=function(){try{var t=bye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lB=xye,_ye=yye,PI=lB,wye=td,Aye=PI?function(t,e){return PI(t,"toString",{configurable:!0,enumerable:!1,value:_ye(e),writable:!0})}:wye,Sye=Aye,Eye=800,Tye=16,jye=Date.now;function Oye(t){var e=0,n=0;return function(){var r=jye(),i=Tye-(r-n);if(n=r,i>0){if(++e>=Eye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Nye=Oye,Cye=Sye,Iye=Nye,Pye=Iye(Cye),kye=Pye,Rye=td,Mye=gye,Dye=kye;function $ye(t,e){return Dye(Mye(t,e,Rye),t+"")}var Lye=$ye,Bye=n2,Uye=gp,Vye=b2,zye=as;function Fye(t,e,n){if(!zye(n))return!1;var r=typeof e;return(r=="number"?Uye(n)&&Vye(e,n.length):r=="string"&&e in n)?Bye(n[e],t):!1}var L0=Fye,Hye=aB,qye=dye,Gye=Lye,kI=L0,Wye=Gye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&kI(t,e[0],e[1])?e=[]:n>2&&kI(e[0],e[1],e[2])&&(e=[e[0]]),qye(t,Hye(e,1),[])}),Kye=Wye;const A2=at(Kye);function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function Xye(t,e){return Jye(t)||Zye(t,e)||Qye(t,e)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jye(t){if(Array.isArray(t))return t}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return nh(e)=="symbol"?e:e+""}function n0e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0e(t){return Array.isArray(t)&&cn(t[0])&&cn(t[1])?t.join(" ~ "):t}var i0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,y=e.label,x=e.labelFormatter,_=e.accessibilityLayer,b=_===void 0?!1:_,g=function(){if(d&&d.length){var R={padding:0,margin:0},P=(h?A2(d,h):d).map(function(q,L){if(q.type==="none")return null;var B=Dx({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},s),V=q.formatter||f||r0e,H=q.value,K=q.name,z=H,ee=K;if(V&&z!=null&&ee!=null){var U=V(H,K,q,L,d);if(Array.isArray(U)){var D=Xye(U,2);z=D[0],ee=D[1]}else z=U}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:B},cn(ee)?$.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,cn(ee)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},z),$.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:R},P)}return null},T=Dx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Dx({margin:0},u),j=!Re(y),E=j?y:"",A=$e("recharts-default-tooltip",m),O=$e("recharts-tooltip-label",v);j&&x&&d!==void 0&&d!==null&&(E=x(y,d));var I=b?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",Z_({className:A,style:T},I),$.createElement("p",{className:O,style:w},$.isValidElement(E)?E:"".concat(E)),g())};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function _m(t,e,n){return e=a0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0e(t){var e=o0e(t,"string");return rh(e)=="symbol"?e:e+""}function o0e(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kd="recharts-tooltip-wrapper",s0e={visibility:"hidden"};function l0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return $e(kd,_m(_m(_m(_m({},"".concat(kd,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(kd,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(kd,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(kd,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function DI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&oe(a[r]))return a[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,m=c[r];return h<m?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+s,y=c[r]+u;return v>y?Math.max(d,c[r]):Math.max(f,c[r])}function c0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function u0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=DI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=DI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=c0e({translateX:d,translateY:f,useTranslate3d:s})):u=s0e,{cssProperties:u,cssClasses:l0e({translateX:d,translateY:f,coordinate:n})}}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uB(r.key),r)}}function h0e(t,e,n){return e&&f0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p0e(t,e,n){return e=vv(e),m0e(t,cB()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function m0e(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g0e(t)}function g0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cB=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function v0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function ew(t,e,n){return e=uB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uB(t){var e=y0e(t,"string");return ru(e)=="symbol"?e:e+""}function y0e(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BI=1,b0e=function(t){function e(){var n;d0e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=p0e(this,e,[].concat(i)),ew(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ew(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return v0e(e,t),h0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>BI||Math.abs(r.height-this.state.lastBoundingBox.height)>BI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,g=u0e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),T=g.cssClasses,w=g.cssProperties,j=LI(LI({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return $.createElement("div",{tabIndex:-1,className:T,style:j,ref:function(A){r.wrapperNode=A}},u)}}])}(k.PureComponent),x0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},os={isSsr:x0e()};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){S2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fB(r.key),r)}}function A0e(t,e,n){return e&&w0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0e(t,e,n){return e=yv(e),E0e(t,dB()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function E0e(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function j0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function S2(t,e,n){return e=fB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=O0e(t,"string");return iu(e)=="symbol"?e:e+""}function O0e(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N0e(t){return t.dataKey}function C0e(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(i0e,e)}var Jn=function(t){function e(){return _0e(this,e),S0e(this,e,arguments)}return j0e(e,t),A0e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,y=i.payloadUniqBy,x=i.position,_=i.reverseDirection,b=i.useTranslate3d,g=i.viewBox,T=i.wrapperStyle,w=v??[];f&&w.length&&(w=tB(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),y,N0e));var j=w.length>0;return $.createElement(b0e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:m,position:x,reverseDirection:_,useTranslate3d:b,viewBox:g,wrapperStyle:T},C0e(u,VI(VI({},this.props),{},{payload:w})))}}])}(k.PureComponent);S2(Jn,"displayName","Tooltip");S2(Jn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!os.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var I0e=ra,P0e=function(){return I0e.Date.now()},k0e=P0e,R0e=/\s/;function M0e(t){for(var e=t.length;e--&&R0e.test(t.charAt(e)););return e}var D0e=M0e,$0e=D0e,L0e=/^\s+/;function B0e(t){return t&&t.slice(0,$0e(t)+1).replace(L0e,"")}var U0e=B0e,V0e=U0e,zI=as,z0e=Wu,FI=NaN,F0e=/^[-+]0x[0-9a-f]+$/i,H0e=/^0b[01]+$/i,q0e=/^0o[0-7]+$/i,G0e=parseInt;function W0e(t){if(typeof t=="number")return t;if(z0e(t))return FI;if(zI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=V0e(t);var n=H0e.test(t);return n||q0e.test(t)?G0e(t.slice(2),n?2:8):F0e.test(t)?FI:+t}var hB=W0e,K0e=as,$x=k0e,HI=hB,X0e="Expected a function",Y0e=Math.max,Q0e=Math.min;function Z0e(t,e,n){var r,i,a,o,s,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(X0e);e=HI(e)||0,K0e(n)&&(d=!!n.leading,f="maxWait"in n,a=f?Y0e(HI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(j){var E=r,A=i;return r=i=void 0,u=j,o=t.apply(A,E),o}function v(j){return u=j,s=setTimeout(_,e),d?m(j):o}function y(j){var E=j-c,A=j-u,O=e-E;return f?Q0e(O,a-A):O}function x(j){var E=j-c,A=j-u;return c===void 0||E>=e||E<0||f&&A>=a}function _(){var j=$x();if(x(j))return b(j);s=setTimeout(_,y(j))}function b(j){return s=void 0,h&&r?m(j):(r=i=void 0,o)}function g(){s!==void 0&&clearTimeout(s),u=0,r=c=i=s=void 0}function T(){return s===void 0?o:b($x())}function w(){var j=$x(),E=x(j);if(r=arguments,i=this,c=j,E){if(s===void 0)return v(c);if(f)return clearTimeout(s),s=setTimeout(_,e),m(c)}return s===void 0&&(s=setTimeout(_,e)),o}return w.cancel=g,w.flush=T,w}var J0e=Z0e,ebe=J0e,tbe=as,nbe="Expected a function";function rbe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(nbe);return tbe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ebe(t,e,{leading:r,maxWait:e,trailing:i})}var ibe=rbe;const pB=at(ibe);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return e=obe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=sbe(t,"string");return ih(e)=="symbol"?e:e+""}function sbe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lbe(t,e){return fbe(t)||dbe(t,e)||ube(t,e)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ube(t,e){if(t){if(typeof t=="string")return GI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GI(t,e)}}function GI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fbe(t){if(Array.isArray(t))return t}var uc=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,c=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,y=v===void 0?0:v,x=t.id,_=t.className,b=t.onResize,g=t.style,T=g===void 0?{}:g,w=k.useRef(null),j=k.useRef();j.current=b,k.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=k.useState({containerWidth:i.width,containerHeight:i.height}),A=lbe(E,2),O=A[0],I=A[1],C=k.useCallback(function(P,q){I(function(L){var B=Math.round(P),V=Math.round(q);return L.containerWidth===B&&L.containerHeight===V?L:{containerWidth:B,containerHeight:V}})},[]);k.useEffect(function(){var P=function(K){var z,ee=K[0].contentRect,U=ee.width,D=ee.height;C(U,D),(z=j.current)===null||z===void 0||z.call(j,U,D)};y>0&&(P=pB(P,y,{trailing:!0,leading:!1}));var q=new ResizeObserver(P),L=w.current.getBoundingClientRect(),B=L.width,V=L.height;return C(B,V),q.observe(w.current),function(){q.disconnect()}},[C,y]);var R=k.useMemo(function(){var P=O.containerWidth,q=O.containerHeight;if(P<0||q<0)return null;Ei(Ps(o)||Ps(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ei(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Ps(o)?P:o,B=Ps(c)?q:c;n&&n>0&&(L?B=L/n:B&&(L=B*n),h&&B>h&&(B=h)),Ei(L>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,B,o,c,d,f,n);var V=!Array.isArray(m)&&Ca(m.type).endsWith("Chart");return $.Children.map(m,function(H){return $.isValidElement(H)?k.cloneElement(H,wm({width:L,height:B},V?{style:wm({height:"100%",width:"100%",maxHeight:B,maxWidth:L},H.props.style)}:{})):H})},[n,m,c,h,f,d,O,o]);return $.createElement("div",{id:x?"".concat(x):void 0,className:$e("recharts-responsive-container",_),style:wm(wm({},T),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},R)}),au=function(e){return null};au.displayName="Cell";function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hbe(t,e,n){return e=pbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t){var e=mbe(t,"string");return ah(e)=="symbol"?e:e+""}function mbe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ul={widthCache:{},cacheCount:0},gbe=2e3,vbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KI="recharts_measurement_span";function ybe(t){var e=nw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var wf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||os.isSsr)return{width:0,height:0};var r=ybe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ul.widthCache[i])return Ul.widthCache[i];try{var a=document.getElementById(KI);a||(a=document.createElement("span"),a.setAttribute("id",KI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=nw(nw({},vbe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return Ul.widthCache[i]=c,++Ul.cacheCount>gbe&&(Ul.cacheCount=0,Ul.widthCache={}),c}catch{return{width:0,height:0}}},bbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function bv(t,e){return Abe(t)||wbe(t,e)||_be(t,e)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _be(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Abe(t){if(Array.isArray(t))return t}function Sbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tbe(r.key),r)}}function Ebe(t,e,n){return e&&YI(t.prototype,e),n&&YI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tbe(t){var e=jbe(t,"string");return oh(e)=="symbol"?e:e+""}function jbe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Obe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cbe=Object.keys(mB),dc="NaN";function Ibe(t,e){return t*mB[e]}var Am=function(){function t(e,n){Sbe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Obe.test(n)&&(this.num=NaN,this.unit=""),Cbe.includes(n)&&(this.num=Ibe(e,n),this.unit="px")}return Ebe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Nbe.exec(n))!==null&&r!==void 0?r:[],a=bv(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function gB(t){if(t.includes(dc))return dc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=QI.exec(e))!==null&&n!==void 0?n:[],i=bv(r,4),a=i[1],o=i[2],s=i[3],c=Am.parse(a??""),u=Am.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return dc;e=e.replace(QI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=ZI.exec(e))!==null&&f!==void 0?f:[],m=bv(h,4),v=m[1],y=m[2],x=m[3],_=Am.parse(v??""),b=Am.parse(x??""),g=y==="+"?_.add(b):_.subtract(b);if(g.isNaN())return dc;e=e.replace(ZI,g.toString())}return e}var JI=/\(([^()]*)\)/;function Pbe(t){for(var e=t;e.includes("(");){var n=JI.exec(e),r=bv(n,2),i=r[1];e=e.replace(JI,gB(i))}return e}function kbe(t){var e=t.replace(/\s+/g,"");return e=Pbe(e),e=gB(e),e}function Rbe(t){try{return kbe(t)}catch{return dc}}function Lx(t){var e=Rbe(t.slice(5,-1));return e===dc?"":e}var Mbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dbe=["dx","dy","angle","className","breakAll"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function eP(t,e){if(t==null)return{};var n=$be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tP(t,e){return Vbe(t)||Ube(t,e)||Bbe(t,e)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ube(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vbe(t){if(Array.isArray(t))return t}var vB=/[ \f\n\r\t\v\u2028\u2029]+/,yB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Re(n)||(r?a=n.toString().split(""):a=n.toString().split(vB));var o=a.map(function(c){return{word:c,width:wf(c,i).width}}),s=r?0:wf("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},zbe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,c=e.style,u=e.breakAll,d=oe(o),f=s,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(B,V){var H=V.word,K=V.width,z=B[B.length-1];if(z&&(i==null||a||z.width+K+r<Number(i)))z.words.push(H),z.width+=K+r;else{var ee={words:[H],width:K};B.push(ee)}return B},[])},m=h(n),v=function(L){return L.reduce(function(B,V){return B.width>V.width?B:V})};if(!d)return m;for(var y="",x=function(L){var B=f.slice(0,L),V=yB({breakAll:u,style:c,children:B+y}).wordsWithComputedWidth,H=h(V),K=H.length>o||v(H).width>Number(i);return[K,H]},_=0,b=f.length-1,g=0,T;_<=b&&g<=f.length-1;){var w=Math.floor((_+b)/2),j=w-1,E=x(j),A=tP(E,2),O=A[0],I=A[1],C=x(w),R=tP(C,1),P=R[0];if(!O&&!P&&(_=w+1),O&&P&&(b=w-1),!O&&P){T=I;break}g++}return T||m},rP=function(e){var n=Re(e)?[]:e.toString().split(vB);return[{words:n}]},Fbe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!os.isSsr){var c,u,d=yB({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return rP(i);return zbe({breakAll:o,children:i,maxLines:s,style:a},c,u,n,r)}return rP(i)},iP="#808080",ll=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,x=e.fill,_=x===void 0?iP:x,b=eP(e,Mbe),g=k.useMemo(function(){return Fbe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),T=b.dx,w=b.dy,j=b.angle,E=b.className,A=b.breakAll,O=eP(b,Dbe);if(!cn(r)||!cn(a))return null;var I=r+(oe(T)?T:0),C=a+(oe(w)?w:0),R;switch(y){case"start":R=Lx("calc(".concat(u,")"));break;case"middle":R=Lx("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Lx("calc(".concat(g.length-1," * -").concat(s,")"));break}var P=[];if(f){var q=g[0].width,L=b.width;P.push("scale(".concat((oe(L)?L/q:1)/q,")"))}return j&&P.push("rotate(".concat(j,", ").concat(I,", ").concat(C,")")),P.length&&(O.transform=P.join(" ")),$.createElement("text",rw({},xe(O,!0),{x:I,y:C,className:$e("recharts-text",E),textAnchor:m,fill:_.includes("url")?iP:_}),g.map(function(B,V){var H=B.words.join(A?"":" ");return $.createElement("tspan",{x:I,dy:V===0?R:s,key:"".concat(H,"-").concat(V)},H)}))};function $o(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hbe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E2(t){let e,n,r;t.length!==2?(e=$o,n=(s,c)=>$o(t(s),c),r=(s,c)=>t(s)-c):(e=t===$o||t===Hbe?t:qbe,n=t,r=t);function i(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function qbe(){return 0}function bB(t){return t===null?NaN:+t}function*Gbe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Wbe=E2($o),vp=Wbe.right;E2(bB).center;class aP extends Map{constructor(e,n=Ybe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oP(this,e))}has(e){return super.has(oP(this,e))}set(e,n){return super.set(Kbe(this,e),n)}delete(e){return super.delete(Xbe(this,e))}}function oP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Kbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ybe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qbe(t=$o){if(t===$o)return xB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function xB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zbe=Math.sqrt(50),Jbe=Math.sqrt(10),exe=Math.sqrt(2);function xv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Zbe?10:a>=Jbe?5:a>=exe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=n&&n<2?xv(t,e,n*2):[s,c,u]}function iw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?xv(e,t,n):xv(t,e,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function aw(t,e,n){return e=+e,t=+t,n=+n,xv(t,e,n)[2]}function ow(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?aw(e,t,n):aw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _B(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?xB:Qbe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));_B(t,e,m,v,i)}const a=t[e];let o=n,s=r;for(Rd(t,n,e),i(t[r],a)>0&&Rd(t,n,r);o<s;){for(Rd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Rd(t,n,s):(++s,Rd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Rd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function txe(t,e,n){if(t=Float64Array.from(Gbe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lP(t);if(e>=1)return sP(t);var r,i=(r-1)*e,a=Math.floor(i),o=sP(_B(t,a).subarray(0,a+1)),s=lP(t.subarray(a+1));return o+(s-o)*(i-a)}}function nxe(t,e,n=bB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function rxe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ka(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sw=Symbol("implicit");function T2(){var t=new aP,e=[],n=[],r=sw;function i(a){let o=t.get(a);if(o===void 0){if(r!==sw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new aP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return T2(e,n).unknown(r)},di.apply(i,arguments),i}function sh(){var t=T2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,v=m?i:r,y=m?r:i;a=(y-v)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),v+=(y-v-a*(h-c))*d,o=a*(1-c),s&&(v=Math.round(v),o=Math.round(o));var x=rxe(h).map(function(_){return v+a*_});return n(m?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return sh(e(),[r,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},di.apply(f(),arguments)}function wB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wB(e())},t}function Af(){return wB(sh.apply(null,arguments).paddingInner(1))}function j2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yp(){}var lh=.7,_v=1/lh,Cc="\\s*([+-]?\\d+)\\s*",ch="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ixe=/^#([0-9a-f]{3,8})$/,axe=new RegExp(`^rgb\\(${Cc},${Cc},${Cc}\\)$`),oxe=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),sxe=new RegExp(`^rgba\\(${Cc},${Cc},${Cc},${ch}\\)$`),lxe=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${ch}\\)$`),cxe=new RegExp(`^hsl\\(${ch},${Wi},${Wi}\\)$`),uxe=new RegExp(`^hsla\\(${ch},${Wi},${Wi},${ch}\\)$`),cP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j2(yp,uh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uP,formatHex:uP,formatHex8:dxe,formatHsl:fxe,formatRgb:dP,toString:dP});function uP(){return this.rgb().formatHex()}function dxe(){return this.rgb().formatHex8()}function fxe(){return SB(this).formatHsl()}function dP(){return this.rgb().formatRgb()}function uh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ixe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fP(e):n===3?new mr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Sm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Sm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=axe.exec(t))?new mr(e[1],e[2],e[3],1):(e=oxe.exec(t))?new mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sxe.exec(t))?Sm(e[1],e[2],e[3],e[4]):(e=lxe.exec(t))?Sm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cxe.exec(t))?mP(e[1],e[2]/100,e[3]/100,1):(e=uxe.exec(t))?mP(e[1],e[2]/100,e[3]/100,e[4]):cP.hasOwnProperty(t)?fP(cP[t]):t==="transparent"?new mr(NaN,NaN,NaN,0):null}function fP(t){return new mr(t>>16&255,t>>8&255,t&255,1)}function Sm(t,e,n,r){return r<=0&&(t=e=n=NaN),new mr(t,e,n,r)}function hxe(t){return t instanceof yp||(t=uh(t)),t?(t=t.rgb(),new mr(t.r,t.g,t.b,t.opacity)):new mr}function lw(t,e,n,r){return arguments.length===1?hxe(t):new mr(t,e,n,r??1)}function mr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}j2(mr,lw,AB(yp,{brighter(t){return t=t==null?_v:Math.pow(_v,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lh:Math.pow(lh,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mr(Ws(this.r),Ws(this.g),Ws(this.b),wv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hP,formatHex:hP,formatHex8:pxe,formatRgb:pP,toString:pP}));function hP(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}`}function pxe(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}${ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function pP(){const t=wv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ws(this.r)}, ${Ws(this.g)}, ${Ws(this.b)}${t===1?")":`, ${t})`}`}function wv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ws(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ks(t){return t=Ws(t),(t<16?"0":"")+t.toString(16)}function mP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,n,r)}function SB(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof yp||(t=uh(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new xi(o,s,c,t.opacity)}function mxe(t,e,n,r){return arguments.length===1?SB(t):new xi(t,e,n,r??1)}function xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}j2(xi,mxe,AB(yp,{brighter(t){return t=t==null?_v:Math.pow(_v,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lh:Math.pow(lh,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mr(Bx(t>=240?t-240:t+120,i,r),Bx(t,i,r),Bx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xi(gP(this.h),Em(this.s),Em(this.l),wv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wv(this.opacity);return`${t===1?"hsl(":"hsla("}${gP(this.h)}, ${Em(this.s)*100}%, ${Em(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gP(t){return t=(t||0)%360,t<0?t+360:t}function Em(t){return Math.max(0,Math.min(1,t||0))}function Bx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const O2=t=>()=>t;function gxe(t,e){return function(n){return t+n*e}}function vxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yxe(t){return(t=+t)==1?EB:function(e,n){return n-e?vxe(e,n,t):O2(isNaN(e)?n:e)}}function EB(t,e){var n=e-t;return n?gxe(t,n):O2(isNaN(t)?e:t)}const vP=function t(e){var n=yxe(e);function r(i,a){var o=n((i=lw(i)).r,(a=lw(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),u=EB(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function bxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function xxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _xe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=nd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function wxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Av(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Axe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=nd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ux=new RegExp(cw.source,"g");function Sxe(t){return function(){return t}}function Exe(t){return function(e){return t(e)+""}}function Txe(t,e){var n=cw.lastIndex=Ux.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(r=cw.exec(t))&&(i=Ux.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Av(r,i)})),n=Ux.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Exe(c[0].x):Sxe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function nd(t,e){var n=typeof e,r;return e==null||n==="boolean"?O2(e):(n==="number"?Av:n==="string"?(r=uh(e))?(e=r,vP):Txe:e instanceof uh?vP:e instanceof Date?wxe:xxe(e)?bxe:Array.isArray(e)?_xe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Axe:Av)(t,e)}function N2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jxe(t,e){e===void 0&&(e=t,t=nd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Oxe(t){return function(){return t}}function Sv(t){return+t}var yP=[0,1];function or(t){return t}function uw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Oxe(isNaN(e)?NaN:.5)}function Nxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cxe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=uw(i,r),a=n(o,a)):(r=uw(r,i),a=n(a,o)),function(s){return a(r(s))}}function Ixe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=uw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var c=vp(t,s,1,r)-1;return a[c](i[c](s))}}function bp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function B0(){var t=yP,e=yP,n=nd,r,i,a,o=or,s,c,u;function d(){var h=Math.min(t.length,e.length);return o!==or&&(o=Nxe(t[0],t[h-1])),s=h>2?Ixe:Cxe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),Av)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Sv),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=N2,d()},f.clamp=function(h){return arguments.length?(o=h?!0:or,d()):o!==or},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function C2(){return B0()(or,or)}function Pxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ev(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ou(t){return t=Ev(Math.abs(t)),t?t[1]:NaN}function kxe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Rxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dh(t){if(!(e=Mxe.exec(t)))throw new Error("invalid format: "+t);var e;return new I2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dh.prototype=I2.prototype;function I2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var TB;function $xe(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(TB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ev(t,Math.max(0,e+a-1))[0]}function bP(t,e){var n=Ev(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bP(t*100,e),r:bP,s:$xe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _P(t){return t}var wP=Array.prototype.map,AP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lxe(t){var e=t.grouping===void 0||t.thousands===void 0?_P:kxe(wP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_P:Rxe(wP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=dh(f);var h=f.fill,m=f.align,v=f.sign,y=f.symbol,x=f.zero,_=f.width,b=f.comma,g=f.precision,T=f.trim,w=f.type;w==="n"?(b=!0,w="g"):xP[w]||(g===void 0&&(g=12),T=!0,w="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var j=y==="$"?n:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=y==="$"?r:/[%p]/.test(w)?o:"",A=xP[w],O=/[defgprs%]/.test(w);g=g===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function I(C){var R=j,P=E,q,L,B;if(w==="c")P=A(C)+P,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?c:A(Math.abs(C),g),T&&(C=Dxe(C)),V&&+C==0&&v!=="+"&&(V=!1),R=(V?v==="("?v:s:v==="-"||v==="("?"":v)+R,P=(w==="s"?AP[8+TB/3]:"")+P+(V&&v==="("?")":""),O){for(q=-1,L=C.length;++q<L;)if(B=C.charCodeAt(q),48>B||B>57){P=(B===46?i+C.slice(q+1):C.slice(q))+P,C=C.slice(0,q);break}}}b&&!x&&(C=e(C,1/0));var H=R.length+C.length+P.length,K=H<_?new Array(_-H+1).join(h):"";switch(b&&x&&(C=e(K+C,K.length?_-P.length:1/0),K=""),m){case"<":C=R+C+P+K;break;case"=":C=R+K+C+P;break;case"^":C=K.slice(0,H=K.length>>1)+R+C+P+K.slice(H);break;default:C=K+R+C+P;break}return a(C)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=dh(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ou(h)/3)))*3,y=Math.pow(10,-v),x=AP[8+v/3];return function(_){return m(y*_)+x}}return{format:u,formatPrefix:d}}var Tm,P2,jB;Bxe({thousands:",",grouping:[3],currency:["$",""]});function Bxe(t){return Tm=Lxe(t),P2=Tm.format,jB=Tm.formatPrefix,Tm}function Uxe(t){return Math.max(0,-ou(Math.abs(t)))}function Vxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ou(e)/3)))*3-ou(Math.abs(t)))}function zxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ou(e)-ou(t))+1}function OB(t,e,n,r){var i=ow(t,e,n),a;switch(r=dh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Vxe(i,o))&&(r.precision=a),jB(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Uxe(i))&&(r.precision=a-(r.type==="%")*2);break}}return P2(r)}function ss(t){var e=t.domain;return t.ticks=function(n){var r=e();return iw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return OB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=aw(o,s,n),u===c)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function Tv(){var t=C2();return t.copy=function(){return bp(t,Tv())},di.apply(t,arguments),ss(t)}function NB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return NB(t).unknown(e)},t=arguments.length?Array.from(t,Sv):[0,1],ss(n)}function CB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function SP(t){return Math.log(t)}function EP(t){return Math.exp(t)}function Fxe(t){return-Math.log(-t)}function Hxe(t){return-Math.exp(-t)}function qxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gxe(t){return t===10?qxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Wxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TP(t){return(e,n)=>-t(-e,n)}function k2(t){const e=t(SP,EP),n=e.domain;let r=10,i,a;function o(){return i=Wxe(r),a=Gxe(r),n()[0]<0?(i=TP(i),a=TP(a),t(Fxe,Hxe)):t(SP,EP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),v,y;const x=s==null?10:+s;let _=[];if(!(r%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(y=h<0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;_.push(y)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;_.push(y)}_.length*2<x&&(_=iw(u,d,x))}else _=iw(h,m,Math.min(m-h,x)).map(a);return f?_.reverse():_},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=dh(c)).precision==null&&(c.trim=!0),c=P2(c)),s===1/0)return c;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(CB(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function IB(){const t=k2(B0()).domain([1,10]);return t.copy=()=>bp(t,IB()).base(t.base()),di.apply(t,arguments),t}function jP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R2(t){var e=1,n=t(jP(e),OP(e));return n.constant=function(r){return arguments.length?t(jP(e=+r),OP(e)):e},ss(n)}function PB(){var t=R2(B0());return t.copy=function(){return bp(t,PB()).constant(t.constant())},di.apply(t,arguments)}function NP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Kxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xxe(t){return t<0?-t*t:t*t}function M2(t){var e=t(or,or),n=1;function r(){return n===1?t(or,or):n===.5?t(Kxe,Xxe):t(NP(n),NP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ss(e)}function D2(){var t=M2(B0());return t.copy=function(){return bp(t,D2()).exponent(t.exponent())},di.apply(t,arguments),t}function Yxe(){return D2.apply(null,arguments).exponent(.5)}function CP(t){return Math.sign(t)*t*t}function Qxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kB(){var t=C2(),e=[0,1],n=!1,r;function i(a){var o=Qxe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(CP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Sv)).map(CP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},di.apply(i,arguments),ss(i)}function RB(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=nxe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[vp(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort($o),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return RB().domain(t).range(e).unknown(r)},di.apply(a,arguments)}function MB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[vp(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return MB().domain([t,e]).range(i).unknown(a)},di.apply(ss(o),arguments)}function DB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[vp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return DB().domain(t).range(e).unknown(n)},di.apply(i,arguments)}const Vx=new Date,zx=new Date;function hn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return c},i.filter=a=>hn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Vx.setTime(+a),zx.setTime(+o),t(Vx),t(zx),Math.floor(n(Vx,zx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const jv=hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jv);jv.range;const wa=1e3,ri=wa*60,Aa=ri*60,Va=Aa*24,$2=Va*7,IP=Va*30,Fx=Va*365,Rs=hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCSeconds());Rs.range;const L2=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wa)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getMinutes());L2.range;const B2=hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCMinutes());B2.range;const U2=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wa-t.getMinutes()*ri)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getHours());U2.range;const V2=hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getUTCHours());V2.range;const xp=hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ri)/Va,t=>t.getDate()-1);xp.range;const U0=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Va,t=>t.getUTCDate()-1);U0.range;const $B=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Va,t=>Math.floor(t/Va));$B.range;function jl(t){return hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ri)/$2)}const V0=jl(0),Ov=jl(1),Zxe=jl(2),Jxe=jl(3),su=jl(4),e1e=jl(5),t1e=jl(6);V0.range;Ov.range;Zxe.range;Jxe.range;su.range;e1e.range;t1e.range;function Ol(t){return hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/$2)}const z0=Ol(0),Nv=Ol(1),n1e=Ol(2),r1e=Ol(3),lu=Ol(4),i1e=Ol(5),a1e=Ol(6);z0.range;Nv.range;n1e.range;r1e.range;lu.range;i1e.range;a1e.range;const z2=hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());z2.range;const F2=hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());F2.range;const za=hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});za.range;const Fa=hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fa.range;function LB(t,e,n,r,i,a){const o=[[Rs,1,wa],[Rs,5,5*wa],[Rs,15,15*wa],[Rs,30,30*wa],[a,1,ri],[a,5,5*ri],[a,15,15*ri],[a,30,30*ri],[i,1,Aa],[i,3,3*Aa],[i,6,6*Aa],[i,12,12*Aa],[r,1,Va],[r,2,2*Va],[n,1,$2],[e,1,IP],[e,3,3*IP],[t,1,Fx]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=E2(([,,x])=>x).right(o,h);if(m===o.length)return t.every(ow(u/Fx,d/Fx,f));if(m===0)return jv.every(Math.max(ow(u,d,f),1));const[v,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(y)}return[s,c]}const[o1e,s1e]=LB(Fa,F2,z0,$B,V2,B2),[l1e,c1e]=LB(za,z2,V0,xp,U2,L2);function Hx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Md(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function u1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=Dd(i),d=$d(i),f=Dd(a),h=$d(a),m=Dd(o),v=$d(o),y=Dd(s),x=$d(s),_=Dd(c),b=$d(c),g={a:V,A:H,b:K,B:z,c:null,d:$P,e:$P,f:k1e,g:F1e,G:q1e,H:C1e,I:I1e,j:P1e,L:BB,m:R1e,M:M1e,p:ee,q:U,Q:UP,s:VP,S:D1e,u:$1e,U:L1e,V:B1e,w:U1e,W:V1e,x:null,X:null,y:z1e,Y:H1e,Z:G1e,"%":BP},T={a:D,A:W,b:Q,B:ce,c:null,d:LP,e:LP,f:Y1e,g:o_e,G:l_e,H:W1e,I:K1e,j:X1e,L:VB,m:Q1e,M:Z1e,p:de,q:me,Q:UP,s:VP,S:J1e,u:e_e,U:t_e,V:n_e,w:r_e,W:i_e,x:null,X:null,y:a_e,Y:s_e,Z:c_e,"%":BP},w={a:I,A:C,b:R,B:P,c:q,d:MP,e:MP,f:T1e,g:RP,G:kP,H:DP,I:DP,j:w1e,L:E1e,m:_1e,M:A1e,p:O,q:x1e,Q:O1e,s:N1e,S:S1e,u:m1e,U:g1e,V:v1e,w:p1e,W:y1e,x:L,X:B,y:RP,Y:kP,Z:b1e,"%":j1e};g.x=j(n,g),g.X=j(r,g),g.c=j(e,g),T.x=j(n,T),T.X=j(r,T),T.c=j(e,T);function j(ae,ge){return function(be){var te=[],Ae=-1,ve=0,_e=ae.length,Ce,We,jt;for(be instanceof Date||(be=new Date(+be));++Ae<_e;)ae.charCodeAt(Ae)===37&&(te.push(ae.slice(ve,Ae)),(We=PP[Ce=ae.charAt(++Ae)])!=null?Ce=ae.charAt(++Ae):We=Ce==="e"?" ":"0",(jt=ge[Ce])&&(Ce=jt(be,We)),te.push(Ce),ve=Ae+1);return te.push(ae.slice(ve,Ae)),te.join("")}}function E(ae,ge){return function(be){var te=Md(1900,void 0,1),Ae=A(te,ae,be+="",0),ve,_e;if(Ae!=be.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(ge&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ve=qx(Md(te.y,0,1)),_e=ve.getUTCDay(),ve=_e>4||_e===0?Nv.ceil(ve):Nv(ve),ve=U0.offset(ve,(te.V-1)*7),te.y=ve.getUTCFullYear(),te.m=ve.getUTCMonth(),te.d=ve.getUTCDate()+(te.w+6)%7):(ve=Hx(Md(te.y,0,1)),_e=ve.getDay(),ve=_e>4||_e===0?Ov.ceil(ve):Ov(ve),ve=xp.offset(ve,(te.V-1)*7),te.y=ve.getFullYear(),te.m=ve.getMonth(),te.d=ve.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),_e="Z"in te?qx(Md(te.y,0,1)).getUTCDay():Hx(Md(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(_e+5)%7:te.w+te.U*7-(_e+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,qx(te)):Hx(te)}}function A(ae,ge,be,te){for(var Ae=0,ve=ge.length,_e=be.length,Ce,We;Ae<ve;){if(te>=_e)return-1;if(Ce=ge.charCodeAt(Ae++),Ce===37){if(Ce=ge.charAt(Ae++),We=w[Ce in PP?ge.charAt(Ae++):Ce],!We||(te=We(ae,be,te))<0)return-1}else if(Ce!=be.charCodeAt(te++))return-1}return te}function O(ae,ge,be){var te=u.exec(ge.slice(be));return te?(ae.p=d.get(te[0].toLowerCase()),be+te[0].length):-1}function I(ae,ge,be){var te=m.exec(ge.slice(be));return te?(ae.w=v.get(te[0].toLowerCase()),be+te[0].length):-1}function C(ae,ge,be){var te=f.exec(ge.slice(be));return te?(ae.w=h.get(te[0].toLowerCase()),be+te[0].length):-1}function R(ae,ge,be){var te=_.exec(ge.slice(be));return te?(ae.m=b.get(te[0].toLowerCase()),be+te[0].length):-1}function P(ae,ge,be){var te=y.exec(ge.slice(be));return te?(ae.m=x.get(te[0].toLowerCase()),be+te[0].length):-1}function q(ae,ge,be){return A(ae,e,ge,be)}function L(ae,ge,be){return A(ae,n,ge,be)}function B(ae,ge,be){return A(ae,r,ge,be)}function V(ae){return o[ae.getDay()]}function H(ae){return a[ae.getDay()]}function K(ae){return c[ae.getMonth()]}function z(ae){return s[ae.getMonth()]}function ee(ae){return i[+(ae.getHours()>=12)]}function U(ae){return 1+~~(ae.getMonth()/3)}function D(ae){return o[ae.getUTCDay()]}function W(ae){return a[ae.getUTCDay()]}function Q(ae){return c[ae.getUTCMonth()]}function ce(ae){return s[ae.getUTCMonth()]}function de(ae){return i[+(ae.getUTCHours()>=12)]}function me(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ge=j(ae+="",g);return ge.toString=function(){return ae},ge},parse:function(ae){var ge=E(ae+="",!1);return ge.toString=function(){return ae},ge},utcFormat:function(ae){var ge=j(ae+="",T);return ge.toString=function(){return ae},ge},utcParse:function(ae){var ge=E(ae+="",!0);return ge.toString=function(){return ae},ge}}}var PP={"-":"",_:" ",0:"0"},En=/^\s*\d+/,d1e=/^%/,f1e=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function h1e(t){return t.replace(f1e,"\\$&")}function Dd(t){return new RegExp("^(?:"+t.map(h1e).join("|")+")","i")}function $d(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function p1e(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function m1e(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function g1e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function v1e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function y1e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kP(t,e,n){var r=En.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function RP(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function x1e(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _1e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function MP(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function w1e(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function DP(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function A1e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function S1e(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function E1e(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T1e(t,e,n){var r=En.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j1e(t,e,n){var r=d1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function O1e(t,e,n){var r=En.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function N1e(t,e,n){var r=En.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function $P(t,e){return tt(t.getDate(),e,2)}function C1e(t,e){return tt(t.getHours(),e,2)}function I1e(t,e){return tt(t.getHours()%12||12,e,2)}function P1e(t,e){return tt(1+xp.count(za(t),t),e,3)}function BB(t,e){return tt(t.getMilliseconds(),e,3)}function k1e(t,e){return BB(t,e)+"000"}function R1e(t,e){return tt(t.getMonth()+1,e,2)}function M1e(t,e){return tt(t.getMinutes(),e,2)}function D1e(t,e){return tt(t.getSeconds(),e,2)}function $1e(t){var e=t.getDay();return e===0?7:e}function L1e(t,e){return tt(V0.count(za(t)-1,t),e,2)}function UB(t){var e=t.getDay();return e>=4||e===0?su(t):su.ceil(t)}function B1e(t,e){return t=UB(t),tt(su.count(za(t),t)+(za(t).getDay()===4),e,2)}function U1e(t){return t.getDay()}function V1e(t,e){return tt(Ov.count(za(t)-1,t),e,2)}function z1e(t,e){return tt(t.getFullYear()%100,e,2)}function F1e(t,e){return t=UB(t),tt(t.getFullYear()%100,e,2)}function H1e(t,e){return tt(t.getFullYear()%1e4,e,4)}function q1e(t,e){var n=t.getDay();return t=n>=4||n===0?su(t):su.ceil(t),tt(t.getFullYear()%1e4,e,4)}function G1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function LP(t,e){return tt(t.getUTCDate(),e,2)}function W1e(t,e){return tt(t.getUTCHours(),e,2)}function K1e(t,e){return tt(t.getUTCHours()%12||12,e,2)}function X1e(t,e){return tt(1+U0.count(Fa(t),t),e,3)}function VB(t,e){return tt(t.getUTCMilliseconds(),e,3)}function Y1e(t,e){return VB(t,e)+"000"}function Q1e(t,e){return tt(t.getUTCMonth()+1,e,2)}function Z1e(t,e){return tt(t.getUTCMinutes(),e,2)}function J1e(t,e){return tt(t.getUTCSeconds(),e,2)}function e_e(t){var e=t.getUTCDay();return e===0?7:e}function t_e(t,e){return tt(z0.count(Fa(t)-1,t),e,2)}function zB(t){var e=t.getUTCDay();return e>=4||e===0?lu(t):lu.ceil(t)}function n_e(t,e){return t=zB(t),tt(lu.count(Fa(t),t)+(Fa(t).getUTCDay()===4),e,2)}function r_e(t){return t.getUTCDay()}function i_e(t,e){return tt(Nv.count(Fa(t)-1,t),e,2)}function a_e(t,e){return tt(t.getUTCFullYear()%100,e,2)}function o_e(t,e){return t=zB(t),tt(t.getUTCFullYear()%100,e,2)}function s_e(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function l_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?lu(t):lu.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function c_e(){return"+0000"}function BP(){return"%"}function UP(t){return+t}function VP(t){return Math.floor(+t/1e3)}var Vl,FB,HB;u_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u_e(t){return Vl=u1e(t),FB=Vl.format,Vl.parse,HB=Vl.utcFormat,Vl.utcParse,Vl}function d_e(t){return new Date(t)}function f_e(t){return t instanceof Date?+t:+new Date(+t)}function H2(t,e,n,r,i,a,o,s,c,u){var d=C2(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),y=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),b=u("%b %d"),g=u("%B"),T=u("%Y");function w(j){return(c(j)<j?m:s(j)<j?v:o(j)<j?y:a(j)<j?x:r(j)<j?i(j)<j?_:b:n(j)<j?g:T)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,f_e)):h().map(d_e)},d.ticks=function(j){var E=h();return t(E[0],E[E.length-1],j??10)},d.tickFormat=function(j,E){return E==null?w:u(E)},d.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=e(E[0],E[E.length-1],j??10)),j?h(CB(E,j)):d},d.copy=function(){return bp(d,H2(t,e,n,r,i,a,o,s,c,u))},d}function h_e(){return di.apply(H2(l1e,c1e,za,z2,V0,xp,U2,L2,Rs,FB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p_e(){return di.apply(H2(o1e,s1e,Fa,F2,z0,U0,V2,B2,Rs,HB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function F0(){var t=0,e=1,n,r,i,a,o=or,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(nd),u.rangeRound=d(N2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ls(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qB(){var t=ss(F0()(or));return t.copy=function(){return ls(t,qB())},Ka.apply(t,arguments)}function GB(){var t=k2(F0()).domain([1,10]);return t.copy=function(){return ls(t,GB()).base(t.base())},Ka.apply(t,arguments)}function WB(){var t=R2(F0());return t.copy=function(){return ls(t,WB()).constant(t.constant())},Ka.apply(t,arguments)}function q2(){var t=M2(F0());return t.copy=function(){return ls(t,q2()).exponent(t.exponent())},Ka.apply(t,arguments)}function m_e(){return q2.apply(null,arguments).exponent(.5)}function KB(){var t=[],e=or;function n(r){if(r!=null&&!isNaN(r=+r))return e((vp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort($o),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>txe(t,a/r))},n.copy=function(){return KB(e).domain(t)},Ka.apply(n,arguments)}function H0(){var t=0,e=.5,n=1,r=1,i,a,o,s,c,u=or,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(r*y<r*a?s:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),a=d(e=+e),o=d(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function v(y){return function(x){var _,b,g;return arguments.length?([_,b,g]=x,u=jxe(y,[_,b,g]),m):[u(0),u(.5),u(1)]}}return m.range=v(nd),m.rangeRound=v(N2),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function XB(){var t=ss(H0()(or));return t.copy=function(){return ls(t,XB())},Ka.apply(t,arguments)}function YB(){var t=k2(H0()).domain([.1,1,10]);return t.copy=function(){return ls(t,YB()).base(t.base())},Ka.apply(t,arguments)}function QB(){var t=R2(H0());return t.copy=function(){return ls(t,QB()).constant(t.constant())},Ka.apply(t,arguments)}function G2(){var t=M2(H0());return t.copy=function(){return ls(t,G2()).exponent(t.exponent())},Ka.apply(t,arguments)}function g_e(){return G2.apply(null,arguments).exponent(.5)}const zP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sh,scaleDiverging:XB,scaleDivergingLog:YB,scaleDivergingPow:G2,scaleDivergingSqrt:g_e,scaleDivergingSymlog:QB,scaleIdentity:NB,scaleImplicit:sw,scaleLinear:Tv,scaleLog:IB,scaleOrdinal:T2,scalePoint:Af,scalePow:D2,scaleQuantile:RB,scaleQuantize:MB,scaleRadial:kB,scaleSequential:qB,scaleSequentialLog:GB,scaleSequentialPow:q2,scaleSequentialQuantile:KB,scaleSequentialSqrt:m_e,scaleSequentialSymlog:WB,scaleSqrt:Yxe,scaleSymlog:PB,scaleThreshold:DB,scaleTime:h_e,scaleUtc:p_e,tickFormat:OB},Symbol.toStringTag,{value:"Module"}));var v_e=Wu;function y_e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!v_e(o):n(o,s)))var s=o,c=a}return c}var q0=y_e;function b_e(t,e){return t>e}var ZB=b_e,x_e=q0,__e=ZB,w_e=td;function A_e(t){return t&&t.length?x_e(t,w_e,__e):void 0}var S_e=A_e;const wo=at(S_e);function E_e(t,e){return t<e}var JB=E_e,T_e=q0,j_e=JB,O_e=td;function N_e(t){return t&&t.length?T_e(t,O_e,j_e):void 0}var C_e=N_e;const G0=at(C_e);var I_e=o2,P_e=ia,k_e=sB,R_e=xr;function M_e(t,e){var n=R_e(t)?I_e:k_e;return n(t,P_e(e))}var D_e=M_e,$_e=aB,L_e=D_e;function B_e(t,e){return $_e(L_e(t,e),1)}var U_e=B_e;const V_e=at(U_e);var z_e=_2;function F_e(t,e){return z_e(t,e)}var H_e=F_e;const cl=at(H_e);var rd=1e9,q_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K2,Pt=!0,si="[DecimalError] ",Ks=si+"Invalid argument: ",W2=si+"Exponent out of range: ",id=Math.floor,js=Math.pow,G_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,yn=1e7,wt=7,e9=9007199254740991,Cv=id(e9/wt),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pe.dividedBy=pe.div=function(t){return Ia(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,n=e.constructor;return mt(Ia(e,new n(t),0,1),n.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return tn(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pr))throw Error(si+"NaN");if(n.s<1)throw Error(si+(n.s?"NaN":"-Infinity"));return n.eq(Pr)?new r(0):(Pt=!1,e=Ia(fh(n,a),fh(t,a),a),Pt=!0,mt(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r9(e,t):t9(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(si+"NaN");return n.s?(Pt=!1,e=Ia(n,t,0,1).times(t),Pt=!0,n.minus(e)):mt(new r(n),i)};pe.naturalExponential=pe.exp=function(){return n9(this)};pe.naturalLogarithm=pe.ln=function(){return fh(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t9(e,t):r9(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ks+t);if(e=tn(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pe.squareRoot=pe.sqrt=function(){var t,e,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(si+"NaN")}for(t=tn(s),Pt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Bi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=id((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Ia(s,a,o+2)).times(.5),Bi(a.d).slice(0,o)===(e=Bi(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(mt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Pt=!0,mt(r,n)};pe.times=pe.mul=function(t){var e,n,r,i,a,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%yn|0,e=s/yn|0;a[i]=(a[i]+e)%yn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Pt?mt(t,f.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ji(t,0,rd),e===void 0?e=r.rounding:Ji(e,0,8),mt(n,t+tn(n)+1,e))};pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ul(r,!0):(Ji(t,0,rd),e===void 0?e=i.rounding:Ji(e,0,8),r=mt(new i(r),t+1,e),n=ul(r,!0,t+1)),n};pe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ul(i):(Ji(t,0,rd),e===void 0?e=a.rounding:Ji(e,0,8),r=mt(new a(i),t+tn(i)+1,e),n=ul(r.abs(),!1,t+tn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return mt(new e(t),tn(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,n,r,i,a,o,s=this,c=s.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Pr);if(s=new c(s),!s.s){if(t.s<1)throw Error(si+"Infinity");return s}if(s.eq(Pr))return s;if(r=c.precision,t.eq(Pr))return mt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=d<0?-d:d)<=e9){for(i=new c(Pr),e=Math.ceil(r/wt+4),Pt=!1;n%2&&(i=i.times(s),HP(i.d,e)),n=id(n/2),n!==0;)s=s.times(s),HP(s.d,e);return Pt=!0,t.s<0?new c(Pr).div(i):mt(i,r)}}else if(a<0)throw Error(si+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Pt=!1,i=t.times(fh(s,r+u)),Pt=!0,i=n9(i),i.s=a,i};pe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=tn(i),r=ul(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ji(t,1,rd),e===void 0?e=a.rounding:Ji(e,0,8),i=mt(new a(i),t,e),n=tn(i),r=ul(i,t<=n||n<=a.toExpNeg,t)),r};pe.toSignificantDigits=pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ji(t,1,rd),e===void 0?e=r.rounding:Ji(e,0,8)),mt(new r(n),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=tn(t),n=t.constructor;return ul(t,e<=n.toExpNeg||e>=n.toExpPos)};function t9(t,e){var n,r,i,a,o,s,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Pt?mt(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=u.length):(r=u,i=o,s=c.length),o=Math.ceil(f/wt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/yn|0,c[a]%=yn;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,Pt?mt(e,f):e}function Ji(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ks+t)}function Bi(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=wt-r.length,n&&(a+=oo(n)),a+=r;o=t[e],r=o+"",n=wt-r.length,n&&(a+=oo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ia=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%yn|0,o=a/yn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,u,d,f,h,m,v,y,x,_,b,g,T,w,j,E,A,O=r.constructor,I=r.s==i.s?1:-1,C=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(si+"Division by zero");for(c=r.e-i.e,E=R.length,w=C.length,m=new O(I),v=m.d=[],u=0;R[u]==(C[u]||0);)++u;if(R[u]>(C[u]||0)&&--c,a==null?b=a=O.precision:o?b=a+(tn(r)-tn(i))+1:b=a,b<0)return new O(0);if(b=b/wt+2|0,u=0,E==1)for(d=0,R=R[0],b++;(u<w||d)&&b--;u++)g=d*yn+(C[u]||0),v[u]=g/R|0,d=g%R|0;else{for(d=yn/(R[0]+1)|0,d>1&&(R=t(R,d),C=t(C,d),E=R.length,w=C.length),T=E,y=C.slice(0,E),x=y.length;x<E;)y[x++]=0;A=R.slice(),A.unshift(0),j=R[0],R[1]>=yn/2&&++j;do d=0,s=e(R,y,E,x),s<0?(_=y[0],E!=x&&(_=_*yn+(y[1]||0)),d=_/j|0,d>1?(d>=yn&&(d=yn-1),f=t(R,d),h=f.length,x=y.length,s=e(f,y,h,x),s==1&&(d--,n(f,E<h?A:R,h))):(d==0&&(s=d=1),f=R.slice()),h=f.length,h<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=e(R,y,E,x),s<1&&(d++,n(y,E<x?A:R,x))),x=y.length):s===0&&(d++,y=[0]),v[u++]=d,s&&y[0]?y[x++]=C[T]||0:(y=[C[T]],x=1);while((T++<w||y[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,mt(m,o?a+tn(m)+1:a)}}();function n9(t,e){var n,r,i,a,o,s,c=0,u=0,d=t.constructor,f=d.precision;if(tn(t)>16)throw Error(W2+tn(t));if(!t.s)return new d(Pr);for(Pt=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(js(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new d(Pr),d.precision=s;;){if(i=mt(i.times(t),s),n=n.times(++c),o=a.plus(Ia(i,n,s)),Bi(o.d).slice(0,s)===Bi(a.d).slice(0,s)){for(;u--;)a=mt(a.times(a),s);return d.precision=f,e==null?(Pt=!0,mt(a,f)):a}a=o}}function tn(t){for(var e=t.e*wt,n=t.d[0];n>=10;n/=10)e++;return e}function Gx(t,e,n){if(e>t.LN10.sd())throw Pt=!0,n&&(t.precision=n),Error(si+"LN10 precision limit exceeded");return mt(new t(t.LN10),e)}function oo(t){for(var e="";t--;)e+="0";return e}function fh(t,e){var n,r,i,a,o,s,c,u,d,f=1,h=10,m=t,v=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(si+(m.s?"NaN":"-Infinity"));if(m.eq(Pr))return new y(0);if(e==null?(Pt=!1,u=x):u=e,m.eq(10))return e==null&&(Pt=!0),Gx(y,u);if(u+=h,y.precision=u,n=Bi(v),r=n.charAt(0),a=tn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Bi(m.d),r=n.charAt(0),f++;a=tn(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return c=Gx(y,u+2,x).times(a+""),m=fh(new y(r+"."+n.slice(1)),u-h).plus(c),y.precision=x,e==null?(Pt=!0,mt(m,x)):m;for(s=o=m=Ia(m.minus(Pr),m.plus(Pr),u),d=mt(m.times(m),u),i=3;;){if(o=mt(o.times(d),u),c=s.plus(Ia(o,new y(i),u)),Bi(c.d).slice(0,u)===Bi(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Gx(y,u+2,x).times(a+""))),s=Ia(s,new y(f),u),y.precision=x,e==null?(Pt=!0,mt(s,x)):s;s=c,i+=2}}function FP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=id(n/wt),t.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wt;r<i;)t.d.push(+e.slice(r,r+=wt));e=e.slice(r),r=wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Pt&&(t.e>Cv||t.e<-Cv))throw Error(W2+n)}else t.s=0,t.e=0,t.d=[0];return t}function mt(t,e,n){var r,i,a,o,s,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=wt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/wt),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=wt,i=r-wt+o}if(n!==void 0&&(a=js(10,o-i-1),s=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=n<4?(s||c)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?u/js(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=tn(t),f.length=1,e=e-a-1,f[0]=js(10,(wt-e%wt)%wt),t.e=id(-e/wt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=js(10,wt-r),f[d]=i>0?(u/js(10,o-i)%js(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==yn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=yn)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Pt&&(t.e>Cv||t.e<-Cv))throw Error(W2+tn(t));return t}function r9(t,e){var n,r,i,a,o,s,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Pt?mt(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,s=f.length):(n=f,r=u,s=c.length),i=Math.max(Math.ceil(m/wt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=yn-1;--c[a],c[i]+=yn}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Pt?mt(e,m):e):new h(0)}function ul(t,e,n){var r,i=tn(t),a=Bi(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+oo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+oo(-i-1)+a,n&&(r=n-o)>0&&(a+=oo(r))):i>=o?(a+=oo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+oo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=oo(r))),t.s<0?"-"+a:a}function HP(t,e){if(t.length>e)return t.length=e,!0}function i9(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ks+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return FP(o,a.toString())}else if(typeof a!="string")throw Error(Ks+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,G_e.test(a))FP(o,a);else throw Error(Ks+a)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=i9,i.config=i.set=W_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function W_e(t){if(!t||typeof t!="object")throw Error(si+"Object expected");var e,n,r,i=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(id(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ks+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ks+n+": "+r);return this}var K2=i9(q_e);Pr=new K2(1);const dt=K2;function K_e(t){return Z_e(t)||Q_e(t)||Y_e(t)||X_e()}function X_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function Q_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Z_e(t){if(Array.isArray(t))return dw(t)}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J_e=function(e){return e},a9={},o9=function(e){return e===a9},qP=function(e){return function n(){return arguments.length===0||arguments.length===1&&o9(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ewe=function t(e,n){return e===1?n:qP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==a9}).length;return o>=e?n.apply(void 0,i):t(e-o,qP(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=i.map(function(f){return o9(f)?c.shift():f});return n.apply(void 0,K_e(d).concat(c))}))})},W0=function(e){return ewe(e.length,e)},fw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},twe=W0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),nwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return J_e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},hw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},s9=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,c){return s===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function rwe(t){var e;return t===0?e=1:e=Math.floor(new dt(t).abs().log(10).toNumber())+1,e}function iwe(t,e,n){for(var r=new dt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var awe=W0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),owe=W0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),swe=W0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const K0={rangeStep:iwe,getDigitCount:rwe,interpolateNumber:awe,uninterpolateNumber:owe,uninterpolateTruncation:swe};function pw(t){return uwe(t)||cwe(t)||l9(t)||lwe()}function lwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uwe(t){if(Array.isArray(t))return mw(t)}function hh(t,e){return hwe(t)||fwe(t,e)||l9(t,e)||dwe()}function dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l9(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function hwe(t){if(Array.isArray(t))return t}function c9(t){var e=hh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function u9(t,e,n){if(t.lte(0))return new dt(0);var r=K0.getDigitCount(t.toNumber()),i=new dt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new dt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return e?c:new dt(Math.ceil(c))}function pwe(t,e,n){var r=1,i=new dt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new dt(10).pow(K0.getDigitCount(t)-1),i=new dt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new dt(Math.floor(t)))}else t===0?i=new dt(Math.floor((e-1)/2)):n||(i=new dt(Math.floor(t)));var o=Math.floor((e-1)/2),s=nwe(twe(function(c){return i.add(new dt(c-o).mul(r)).toNumber()}),fw);return s(0,e)}function d9(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var a=u9(new dt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new dt(0):(o=new dt(t).add(e).div(2),o=o.sub(new dt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new dt(e).sub(o).div(a).toNumber()),u=s+c+1;return u>n?d9(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new dt(s).mul(a)),tickMax:o.add(new dt(c).mul(a))})}function mwe(t){var e=hh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=c9([n,r]),c=hh(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(pw(fw(0,i-1).map(function(){return 1/0}))):[].concat(pw(fw(0,i-1).map(function(){return-1/0})),[d]);return n>r?hw(f):f}if(u===d)return pwe(u,i,a);var h=d9(u,d,o,a),m=h.step,v=h.tickMin,y=h.tickMax,x=K0.rangeStep(v,y.add(new dt(.1).mul(m)),m);return n>r?hw(x):x}function gwe(t,e){var n=hh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=c9([r,i]),s=hh(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=u9(new dt(u).sub(c).div(d-1),a,0),h=[].concat(pw(K0.rangeStep(new dt(c),new dt(u).sub(new dt(.99).mul(f)),f)),[u]);return r>i?hw(h):h}var vwe=s9(mwe),ywe=s9(gwe),bwe="Invariant failed";function dl(t,e){throw new Error(bwe)}var xwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function _we(t,e){return Ewe(t)||Swe(t,e)||Awe(t,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Awe(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Swe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ewe(t){if(Array.isArray(t))return t}function Twe(t,e){if(t==null)return{};var n=jwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p9(r.key),r)}}function Cwe(t,e,n){return e&&Nwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iwe(t,e,n){return e=Pv(e),Pwe(t,f9()?Reflect.construct(e,n||[],Pv(t).constructor):e.apply(t,n))}function Pwe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kwe(t)}function kwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(t)}function Rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function h9(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=Mwe(t,"string");return cu(e)=="symbol"?e:e+""}function Mwe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _p=function(t){function e(){return Owe(this,e),Iwe(this,e,arguments)}return Rwe(e,t),Cwe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Twe(r,xwe),m=xe(h,!1);this.props.direction==="x"&&d.type!=="number"&&dl();var v=c.map(function(y){var x=u(y,s),_=x.x,b=x.y,g=x.value,T=x.errorVal;if(!T)return null;var w=[],j,E;if(Array.isArray(T)){var A=_we(T,2);j=A[0],E=A[1]}else j=E=T;if(a==="vertical"){var O=d.scale,I=b+i,C=I+o,R=I-o,P=O(g-j),q=O(g+E);w.push({x1:q,y1:C,x2:q,y2:R}),w.push({x1:P,y1:I,x2:q,y2:I}),w.push({x1:P,y1:C,x2:P,y2:R})}else if(a==="horizontal"){var L=f.scale,B=_+i,V=B-o,H=B+o,K=L(g-j),z=L(g+E);w.push({x1:V,y1:z,x2:H,y2:z}),w.push({x1:B,y1:K,x2:B,y2:z}),w.push({x1:V,y1:K,x2:H,y2:K})}return $.createElement(He,Iv({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),w.map(function(ee){return $.createElement("line",Iv({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return $.createElement(He,{className:"recharts-errorBars"},v)}}])}($.Component);h9(_p,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});h9(_p,"displayName","ErrorBar");function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dwe(t,e,n){return e=$we(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $we(t){var e=Lwe(t,"string");return ph(e)=="symbol"?e:e+""}function Lwe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m9=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Nr(n,Nc);if(!o)return null;var s=Nc.defaultProps,c=s!==void 0?ys(ys({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?ys(ys({},h),f.props):{},v=m.dataKey,y=m.name,x=m.legendType,_=m.hide;return{inactive:_,dataKey:v,type:c.iconType||x||"square",color:X2(f),value:y||v,payload:m}}),ys(ys(ys({},c),Nc.getWithHeight(o,i)),{},{payload:u,item:o})};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function KP(t){return zwe(t)||Vwe(t)||Uwe(t)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uwe(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function Vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zwe(t){if(Array.isArray(t))return vw(t)}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){Ic(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ic(t,e,n){return e=Fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fwe(t){var e=Hwe(t,"string");return mh(e)=="symbol"?e:e+""}function Hwe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xt(t,e,n){return Re(t)||Re(e)?n:cn(e)?zr(t,e,n):Oe(e)?e(t):n}function Sf(t,e,n,r){var i=V_e(t,function(s){return Xt(s,e)});if(n==="number"){var a=i.filter(function(s){return oe(s)||parseFloat(s)});return a.length?[G0(a),wo(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Re(s)}):i;return o.map(function(s){return cn(s)||s instanceof Date?s:""})}var qwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(ir(f-d)!==ir(h-f)){var v=[];if(ir(h-f)===ir(c[1]-c[0])){m=h;var y=f+c[1]-c[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{m=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var b=Math.min(d,h),g=Math.max(d,h);if(e>(b+f)/2&&e<=(g+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},X2=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},Gwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,u=s.length;c<u;c++)for(var d=a[s[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],y=v.items,x=v.cateAxisId,_=y.filter(function(E){return Ca(E.type).indexOf("Bar")>=0});if(_&&_.length){var b=_[0].type.defaultProps,g=b!==void 0?Vt(Vt({},b),_[0].props):_[0].props,T=g.barSize,w=g[x];o[w]||(o[w]=[]);var j=Re(T)?n:T;o[w].push({item:_[0],stackList:_.slice(1),barSize:Re(j)?void 0:ar(j,r,0)})}}return o},Wwe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,c=o.length;if(c<1)return null;var u=ar(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,v=o.reduce(function(T,w){return T+w.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=c*m);var y=(i-v)/2>>0,x={offset:y-u,size:0};d=o.reduce(function(T,w){var j={item:w.item,position:{offset:x.offset+x.size+u,size:h?m:w.barSize}},E=[].concat(KP(T),[j]);return x=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){E.push({item:A,position:x})}),E},f)}else{var _=ar(r,i,0,!0);i-2*_-(c-1)*u<=0&&(u=0);var b=(i-2*_-(c-1)*u)/c;b>1&&(b>>=0);var g=s===+s?Math.min(b,s):b;d=o.reduce(function(T,w,j){var E=[].concat(KP(T),[{item:w.item,position:{offset:_+(b+u)*j+(b-g)/2,size:g}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},Kwe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,c=o-(s.left||0)-(s.right||0),u=m9({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&m!=="center"&&oe(e[m]))return Vt(Vt({},e),{},Ic({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&v!=="middle"&&oe(e[v]))return Vt(Vt({},e),{},Ic({},v,e[v]+(h||0)))}return e},Xwe=function(e,n,r){return Re(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},g9=function(e,n,r,i,a){var o=n.props.children,s=Fr(o,_p).filter(function(u){return Xwe(i,a,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Xt(d,r);if(Re(f))return u;var h=Array.isArray(f)?[G0(f),wo(f)]:[f,f],m=c.reduce(function(v,y){var x=Xt(d,y,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Ywe=function(e,n,r,i,a){var o=n.map(function(s){return g9(e,s,r,a,i)}).filter(function(s){return!Re(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},v9=function(e,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&g9(e,c,u,i)||Sf(e,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},y9=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},b9=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,s=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||s.push(n),o||s.push(r),s},Sa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ir(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Zu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Wx=new WeakMap,jm=function(e,n){if(typeof n!="function")return e;Wx.has(e)||Wx.set(e,new WeakMap);var r=Wx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},x9=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:sh(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Tv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Af(),realScaleType:"point"}:a==="category"?{scale:sh(),realScaleType:"band"}:{scale:Tv(),realScaleType:"linear"};if(ol(i)){var c="scale".concat(P0(i));return{scale:(zP[c]||Af)(),realScaleType:zP[c]?c:"point"}}return Oe(i)?{scale:i}:{scale:Af(),realScaleType:"point"}},YP=1e-4,_9=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-YP,o=Math.max(i[0],i[1])+YP,s=e(n[0]),c=e(n[r-1]);(s<a||s>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},Qwe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zwe=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(a[0]=r),(!oe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Jwe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var c=Zu(e[s][r][1])?e[s][r][0]:e[s][r][1];c>=0?(e[s][r][0]=a,e[s][r][1]=a+c,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+c,o=e[s][r][1])}},eAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Zu(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},tAe={sign:Jwe,expand:xde,none:eu,silhouette:_de,wiggle:wde,positive:eAe},nAe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=tAe[r],o=bde().keys(i).value(function(s,c){return+Xt(s,c,0)}).order(z_).offset(a);return o(e)},rAe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,c={},u=s.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Vt(Vt({},h.type.defaultProps),h.props):h.props,y=v.stackId,x=v.hide;if(x)return f;var _=v[r],b=f[_]||{hasStack:!1,stackGroups:{}};if(cn(y)){var g=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};g.items.push(h),b.hasStack=!0,b.stackGroups[y]=g}else b.stackGroups[Tl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Vt(Vt({},f),{},Ic({},_,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,x){var _=m.stackGroups[x];return Vt(Vt({},y),{},Ic({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:nAe(e,_.items,a)}))},v)}return Vt(Vt({},f),{},Ic({},h,m))},d)},w9=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=vwe(u,a,s);return e.domain([G0(d),wo(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=ywe(f,a,s);return{niceTicks:h}}return null};function kv(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Re(i[e.dataKey])){var s=av(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Xt(i,Re(o)?e.dataKey:o);return Re(c)?null:e.scale(c)}var QP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var c=Xt(o,n.dataKey,n.domain[s]);return Re(c)?null:n.scale(c)-a/2+i},iAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},aAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(cn(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},oAe=function(e){return e.reduce(function(n,r){return[G0(r.concat([n[0]]).filter(oe)),wo(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},A9=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,c=s.reduce(function(u,d){var f=oAe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ZP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yw=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ZP.test(e[0])){var a=+ZP.exec(e[0])[1];i[0]=n[0]-a}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(JP.test(e[1])){var o=+JP.exec(e[1])[1];i[1]=n[1]+o}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Rv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=A2(n,function(f){return f.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},ek=function(e,n,r){return!e||!e.length||cl(e,zr(r,"type.defaultProps.domain"))?n:e},S9=function(e,n){var r=e.type.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Vt(Vt({},xe(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:X2(e),value:Xt(n,i),type:c,payload:n,chartType:u,hide:d})};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){E9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E9(t,e,n){return e=sAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sAe(t){var e=lAe(t,"string");return gh(e)=="symbol"?e:e+""}function lAe(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cAe(t,e){return hAe(t)||fAe(t,e)||dAe(t,e)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(t,e){if(t){if(typeof t=="string")return nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(t,e)}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hAe(t){if(Array.isArray(t))return t}var Mv=Math.PI/180,pAe=function(e){return e*180/Math.PI},yt=function(e,n,r,i){return{x:e+Math.cos(-Mv*i)*r,y:n+Math.sin(-Mv*i)*r}},T9=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mAe=function(e,n,r,i,a){var o=e.width,s=e.height,c=e.startAngle,u=e.endAngle,d=ar(e.cx,o,o/2),f=ar(e.cy,s,s/2),h=T9(o,s,r),m=ar(e.innerRadius,h,0),v=ar(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(x,_){var b=n[_],g=b.domain,T=b.reversed,w;if(Re(b.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[m,v]),T&&(w=[w[1],w[0]]);else{w=b.range;var j=w,E=cAe(j,2);c=E[0],u=E[1]}var A=x9(b,a),O=A.realScaleType,I=A.scale;I.domain(g).range(w),_9(I);var C=w9(I,fa(fa({},b),{},{realScaleType:O})),R=fa(fa(fa({},b),C),{},{range:w,radius:v,realScaleType:O,scale:I,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return fa(fa({},x),{},E9({},_,R))},{})},gAe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},vAe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=gAe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(r-a)/s,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:s,angle:pAe(u),angleInRadian:u}},yAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},bAe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},rk=function(e,n){var r=e.x,i=e.y,a=vAe({x:r,y:i},n),o=a.radius,s=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=yAe(n),f=d.startAngle,h=d.endAngle,m=s,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?fa(fa({},n),{},{radius:o,angle:bAe(m,n)}):null},j9=function(e){return!k.isValidElement(e)&&!Oe(e)&&typeof e!="boolean"?e.className:""};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}var xAe=["offset"];function _Ae(t){return EAe(t)||SAe(t)||AAe(t)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AAe(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function SAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EAe(t){if(Array.isArray(t))return bw(t)}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TAe(t,e){if(t==null)return{};var n=jAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){OAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OAe(t,e,n){return e=NAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NAe(t){var e=CAe(t,"string");return vh(e)=="symbol"?e:e+""}function CAe(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}var IAe=function(e){var n=e.value,r=e.formatter,i=Re(e.children)?n:e.children;return Oe(r)?r(i):i},PAe=function(e,n){var r=ir(n-e),i=Math.min(Math.abs(n-e),360);return r*i},kAe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,y=c.clockWise,x=(f+h)/2,_=PAe(m,v),b=_>=0?1:-1,g,T;i==="insideStart"?(g=m+b*o,T=y):i==="insideEnd"?(g=v-b*o,T=!y):i==="end"&&(g=v+b*o,T=y),T=_<=0?T:!T;var w=yt(u,d,x,g),j=yt(u,d,x,g+(T?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Re(e.id)?Tl("recharts-radial-line-"):e.id;return $.createElement("text",yh({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:A,d:E})),$.createElement("textPath",{xlinkHref:"#".concat(A)},n))},RAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=yt(o,s,u+r,h),v=m.x,y=m.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,_=yt(o,s,x,h),b=_.x,g=_.y;return{x:b,y:g,textAnchor:"middle",verticalAnchor:"middle"}},MAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,x=y*i,_=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var g={x:s+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return an(an({},g),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return an(an({},T),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:s-x,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return an(an({},w),r?{width:Math.max(w.x-r.x,0),height:d}:{})}if(a==="right"){var j={x:s+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return an(an({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:d}:{})}var E=r?{width:u,height:d}:{};return a==="insideLeft"?an({x:s+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?an({x:s+u-x,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideTop"?an({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?an({x:s+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},E):a==="insideTopLeft"?an({x:s+x,y:c+h,textAnchor:b,verticalAnchor:v},E):a==="insideTopRight"?an({x:s+u-x,y:c+h,textAnchor:_,verticalAnchor:v},E):a==="insideBottomLeft"?an({x:s+x,y:c+d-h,textAnchor:b,verticalAnchor:m},E):a==="insideBottomRight"?an({x:s+u-x,y:c+d-h,textAnchor:_,verticalAnchor:m},E):Ku(a)&&(oe(a.x)||Ps(a.x))&&(oe(a.y)||Ps(a.y))?an({x:s+ar(a.x,u),y:c+ar(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):an({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},DAe=function(e){return"cx"in e&&oe(e.cx)};function _n(t){var e=t.offset,n=e===void 0?5:e,r=TAe(t,xAe),i=an({offset:n},r),a=i.viewBox,o=i.position,s=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Re(s)&&Re(c)&&!k.isValidElement(u)&&!Oe(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var m;if(Oe(u)){if(m=k.createElement(u,i),k.isValidElement(m))return m}else m=IAe(i);var v=DAe(a),y=xe(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return kAe(i,m,y);var x=v?RAe(i):MAe(i);return $.createElement(ll,yh({className:$e("recharts-label",f)},y,x,{breakAll:h}),m)}_n.displayName="Label";var O9=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,v=e.left,y=e.width,x=e.height,_=e.clockWise,b=e.labelViewBox;if(b)return b;if(oe(y)&&oe(x)){if(oe(f)&&oe(h))return{x:f,y:h,width:y,height:x};if(oe(m)&&oe(v))return{x:m,y:v,width:y,height:x}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},$Ae=function(e,n){return e?e===!0?$.createElement(_n,{key:"label-implicit",viewBox:n}):cn(e)?$.createElement(_n,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===_n?k.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?$.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):Ku(e)?$.createElement(_n,yh({viewBox:n},e,{key:"label-implicit"})):null:null},LAe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=O9(e),o=Fr(i,_n).map(function(c,u){return k.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=$Ae(e.label,n||a);return[s].concat(_Ae(o))};_n.parseViewBox=O9;_n.renderCallByParent=LAe;function BAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var UAe=BAe;const VAe=at(UAe);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}var zAe=["valueAccessor"],FAe=["data","dataKey","clockWise","id","textBreakAll"];function HAe(t){return KAe(t)||WAe(t)||GAe(t)||qAe()}function qAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function WAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KAe(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){XAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XAe(t,e,n){return e=YAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YAe(t){var e=QAe(t,"string");return bh(e)=="symbol"?e:e+""}function QAe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sk(t,e){if(t==null)return{};var n=ZAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var JAe=function(e){return Array.isArray(e.value)?VAe(e.value):e.value};function Ki(t){var e=t.valueAccessor,n=e===void 0?JAe:e,r=sk(t,zAe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,c=r.textBreakAll,u=sk(r,FAe);return!i||!i.length?null:$.createElement(He,{className:"recharts-label-list"},i.map(function(d,f){var h=Re(a)?n(d,f):Xt(d&&d.payload,a),m=Re(s)?{}:{id:"".concat(s,"-").concat(f)};return $.createElement(_n,Dv({},xe(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:_n.parseViewBox(Re(o)?d:ok(ok({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ki.displayName="LabelList";function eSe(t,e){return t?t===!0?$.createElement(Ki,{key:"labelList-implicit",data:e}):$.isValidElement(t)||Oe(t)?$.createElement(Ki,{key:"labelList-implicit",data:e,content:t}):Ku(t)?$.createElement(Ki,Dv({data:e},t,{key:"labelList-implicit"})):null:null}function tSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Fr(r,Ki).map(function(o,s){return k.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=eSe(t.label,e);return[a].concat(HAe(i))}Ki.renderCallByParent=tSe;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){nSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nSe(t,e,n){return e=rSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rSe(t){var e=iSe(t,"string");return xh(e)=="symbol"?e:e+""}function iSe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aSe=function(e,n){var r=ir(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Om=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(s?1:-1)+i,f=Math.asin(c/d)/Mv,h=u?a:a+o*f,m=yt(n,r,d,h),v=yt(n,r,i,h),y=u?a-o*f:a,x=yt(n,r,d*Math.cos(f*Mv),y);return{center:m,circleTangency:v,lineTangency:x,theta:f}},N9=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,c=aSe(o,s),u=o+c,d=yt(n,r,a,o),f=yt(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=yt(n,r,i,o),v=yt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},oSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=ir(d-u),h=Om({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,y=h.theta,x=Om({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),_=x.circleTangency,b=x.lineTangency,g=x.theta,T=c?Math.abs(u-d):Math.abs(u-d)-y-g;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):N9({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var j=Om({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=j.circleTangency,A=j.lineTangency,O=j.theta,I=Om({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=I.circleTangency,R=I.lineTangency,P=I.theta,q=c?Math.abs(u-d):Math.abs(u-d)-O-P;if(q<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},sSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C9=function(e){var n=ck(ck({},sSe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var m=$e("recharts-sector",h),v=o-a,y=ar(s,v,0,!0),x;return y>0&&Math.abs(d-f)<360?x=oSe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=N9({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),$.createElement("path",_w({},xe(n,!0),{className:m,d:x,role:"img"}))};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){lSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lSe(t,e,n){return e=cSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cSe(t){var e=uSe(t,"string");return _h(e)=="symbol"?e:e+""}function uSe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fk={curveBasisClosed:lde,curveBasisOpen:cde,curveBasis:sde,curveBumpX:Wue,curveBumpY:Kue,curveLinearClosed:ude,curveLinear:R0,curveMonotoneX:dde,curveMonotoneY:fde,curveNatural:hde,curveStep:pde,curveStepAfter:gde,curveStepBefore:mde},Nm=function(e){return e.x===+e.x&&e.y===+e.y},Ld=function(e){return e.x},Bd=function(e){return e.y},dSe=function(e,n){if(Oe(e))return e;var r="curve".concat(P0(e));return(r==="curveMonotone"||r==="curveBump")&&n?fk["".concat(r).concat(n==="vertical"?"Y":"X")]:fk[r]||R0},fSe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=dSe(r,s),f=u?a.filter(function(y){return Nm(y)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(y){return Nm(y)}):o,v=f.map(function(y,x){return dk(dk({},y),{},{base:m[x]})});return s==="vertical"?h=bm().y(Bd).x1(Ld).x0(function(y){return y.base.x}):h=bm().x(Ld).y1(Bd).y0(function(y){return y.base.y}),h.defined(Nm).curve(d),h(v)}return s==="vertical"&&oe(o)?h=bm().y(Bd).x1(Ld).x0(o):oe(o)?h=bm().x(Ld).y1(Bd).y0(o):h=S5().x(Ld).y(Bd),h.defined(Nm).curve(d),h(f)},Xs=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?fSe(e):i;return $.createElement("path",ww({},xe(e,!1),ov(e),{className:$e("recharts-curve",n),d:o,ref:a}))},hSe=Object.getOwnPropertyNames,pSe=Object.getOwnPropertySymbols,mSe=Object.prototype.hasOwnProperty;function hk(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Cm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function pk(t){return hSe(t).concat(pSe(t))}var gSe=Object.hasOwn||function(t,e){return mSe.call(t,e)};function Nl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var vSe="__v",ySe="__o",bSe="_owner",mk=Object.getOwnPropertyDescriptor,gk=Object.keys;function xSe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function _Se(t,e){return Nl(t.getTime(),e.getTime())}function wSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ASe(t,e){return t===e}function vk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,m=s.value;if(n.equals(h[0],m[0],c,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var SSe=Nl;function ESe(t,e,n){var r=gk(t),i=r.length;if(gk(e).length!==i)return!1;for(;i-- >0;)if(!I9(t,e,n,r[i]))return!1;return!0}function Ud(t,e,n){var r=pk(t),i=r.length;if(pk(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!I9(t,e,n,a)||(o=mk(t,a),s=mk(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function TSe(t,e){return Nl(t.valueOf(),e.valueOf())}function jSe(t,e){return t.source===e.source&&t.flags===e.flags}function yk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!i[d]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function OSe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function NSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function I9(t,e,n,r){return(r===bSe||r===ySe||r===vSe)&&(t.$$typeof||e.$$typeof)?!0:gSe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var CSe="[object Arguments]",ISe="[object Boolean]",PSe="[object Date]",kSe="[object Error]",RSe="[object Map]",MSe="[object Number]",DSe="[object Object]",$Se="[object RegExp]",LSe="[object Set]",BSe="[object String]",USe="[object URL]",VSe=Array.isArray,bk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xk=Object.assign,zSe=Object.prototype.toString.call.bind(Object.prototype.toString);function FSe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,y,x){if(v===y)return!0;if(v==null||y==null)return!1;var _=typeof v;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?o(v,y,x):_==="function"?i(v,y,x):!1;var b=v.constructor;if(b!==y.constructor)return!1;if(b===Object)return s(v,y,x);if(VSe(v))return e(v,y,x);if(bk!=null&&bk(v))return f(v,y,x);if(b===Date)return n(v,y,x);if(b===RegExp)return u(v,y,x);if(b===Map)return a(v,y,x);if(b===Set)return d(v,y,x);var g=zSe(v);return g===PSe?n(v,y,x):g===$Se?u(v,y,x):g===RSe?a(v,y,x):g===LSe?d(v,y,x):g===DSe?typeof v.then!="function"&&typeof y.then!="function"&&s(v,y,x):g===USe?h(v,y,x):g===kSe?r(v,y,x):g===CSe?s(v,y,x):g===ISe||g===MSe||g===BSe?c(v,y,x):!1}}function HSe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ud:xSe,areDatesEqual:_Se,areErrorsEqual:wSe,areFunctionsEqual:ASe,areMapsEqual:r?hk(vk,Ud):vk,areNumbersEqual:SSe,areObjectsEqual:r?Ud:ESe,arePrimitiveWrappersEqual:TSe,areRegExpsEqual:jSe,areSetsEqual:r?hk(yk,Ud):yk,areTypedArraysEqual:r?Ud:OSe,areUrlsEqual:NSe};if(n&&(i=xk({},i,n(i))),e){var a=Cm(i.areArraysEqual),o=Cm(i.areMapsEqual),s=Cm(i.areObjectsEqual),c=Cm(i.areSetsEqual);i=xk({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function qSe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function GSe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(c,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var WSe=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:function(){return Nl}});cs({strict:!0,createInternalComparator:function(){return Nl}});cs({circular:!0,createInternalComparator:function(){return Nl}});cs({circular:!0,createInternalComparator:function(){return Nl},strict:!0});function cs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=HSe(t),c=FSe(s),u=r?r(c):qSe(c);return GSe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function KSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _k(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):KSe(i)};requestAnimationFrame(r)}function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}function XSe(t){return JSe(t)||ZSe(t)||QSe(t)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QSe(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JSe(t){if(Array.isArray(t))return t}function eEe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=XSe(o),c=s[0],u=s.slice(1);if(typeof c=="number"){_k(i.bind(null,u),c);return}i(c),_k(i.bind(null,u));return}Aw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){P9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P9(t,e,n){return e=tEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tEe(t){var e=nEe(t,"string");return wh(e)==="symbol"?e:String(e)}function nEe(t,e){if(wh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rEe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},iEe=function(e){return e},aEe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ef=function(e,n){return Object.keys(n).reduce(function(r,i){return Sk(Sk({},r),{},P9({},i,e(i,n[i])))},{})},Ek=function(e,n,r){return e.map(function(i){return"".concat(aEe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function oEe(t,e){return cEe(t)||lEe(t,e)||k9(t,e)||sEe()}function sEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cEe(t){if(Array.isArray(t))return t}function uEe(t){return hEe(t)||fEe(t)||k9(t)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k9(t,e){if(t){if(typeof t=="string")return Sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(t,e)}}function fEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hEe(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $v=1e-4,R9=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},M9=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Tk=function(e,n){return function(r){var i=R9(e,n);return M9(i,r)}},pEe=function(e,n){return function(r){var i=R9(e,n),a=[].concat(uEe(i.map(function(o,s){return o*s}).slice(1)),[0]);return M9(a,r)}},jk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=oEe(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=Tk(i,o),h=Tk(a,s),m=pEe(i,o),v=function(_){return _>1?1:_<0?0:_},y=function(_){for(var b=_>1?1:_,g=b,T=0;T<8;++T){var w=f(g)-b,j=m(g);if(Math.abs(w-b)<$v||j<$v)return h(g);g=v(g-w/j)}return h(g)};return y.isStepper=!1,y},mEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*r,v=h*a,y=h+(m-v)*s/1e3,x=h*s/1e3+d;return Math.abs(x-f)<$v&&Math.abs(y)<$v?[f,0]:[x,y]};return c.isStepper=!0,c.dt=s,c},gEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jk(i);case"spring":return mEe();default:if(i.split("(")[0]==="cubic-bezier")return jk(i)}return typeof i=="function"?i:null};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Ok(t){return bEe(t)||yEe(t)||D9(t)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bEe(t){if(Array.isArray(t))return Tw(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ew(t,e,n){return e=xEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xEe(t){var e=_Ee(t,"string");return Ah(e)==="symbol"?e:String(e)}function _Ee(t,e){if(Ah(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wEe(t,e){return EEe(t)||SEe(t,e)||D9(t,e)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function EEe(t){if(Array.isArray(t))return t}var Lv=function(e,n,r){return e+(n-e)*r},jw=function(e){var n=e.from,r=e.to;return n!==r},TEe=function t(e,n,r){var i=Ef(function(a,o){if(jw(o)){var s=e(o.from,o.to,o.velocity),c=wEe(s,2),u=c[0],d=c[1];return Nn(Nn({},o),{},{from:u,velocity:d})}return o},n);return r<1?Ef(function(a,o){return jw(o)?Nn(Nn({},o),{},{velocity:Lv(o.velocity,i[a].velocity,r),from:Lv(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const jEe=function(t,e,n,r,i){var a=rEe(t,e),o=a.reduce(function(x,_){return Nn(Nn({},x),{},Ew({},_,[t[_],e[_]]))},{}),s=a.reduce(function(x,_){return Nn(Nn({},x),{},Ew({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ef(function(_,b){return b.from},s)},m=function(){return!Object.values(s).filter(jw).length},v=function(_){u||(u=_);var b=_-u,g=b/n.dt;s=TEe(n,s,g),i(Nn(Nn(Nn({},t),e),h())),u=_,m()||(c=requestAnimationFrame(f))},y=function(_){d||(d=_);var b=(_-d)/r,g=Ef(function(w,j){return Lv.apply(void 0,Ok(j).concat([n(b)]))},o);if(i(Nn(Nn(Nn({},t),e),g)),b<1)c=requestAnimationFrame(f);else{var T=Ef(function(w,j){return Lv.apply(void 0,Ok(j).concat([n(1)]))},o);i(Nn(Nn(Nn({},t),e),T))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}var OEe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function NEe(t,e){if(t==null)return{};var n=CEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kx(t){return REe(t)||kEe(t)||PEe(t)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function kEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function REe(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){Qd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qd(t,e,n){return e=$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$9(r.key),r)}}function $Ee(t,e,n){return e&&DEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $9(t){var e=LEe(t,"string");return uu(e)==="symbol"?e:String(e)}function LEe(t,e){if(uu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function UEe(t){var e=VEe();return function(){var r=Bv(t),i;if(e){var a=Bv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Cw(this,i)}}function Cw(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iw(t)}function Iw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bv(t)}var Oi=function(t){BEe(n,t);var e=UEe(n);function n(r,i){var a;MEe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Iw(a)),a.changeStyle=a.changeStyle.bind(Iw(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Cw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Cw(a);a.state={style:c?Qd({},c,u):u}}else a.state={style:{}};return a}return $Ee(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var m={style:c?Qd({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(WSe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var x={style:c?Qd({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(x)}this.runAnimation(gi(gi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=jEe(o,s,gEe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,x,_){if(_===0)return y;var b=x.duration,g=x.easing,T=g===void 0?"ease":g,w=x.style,j=x.properties,E=x.onAnimationEnd,A=_>0?o[_-1]:x,O=j||Object.keys(w);if(typeof T=="function"||T==="spring")return[].concat(Kx(y),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:b,easing:T}),b]);var I=Ek(O,b,T),C=gi(gi(gi({},A.style),w),{},{transition:I});return[].concat(Kx(y),[C,b,E]).filter(iEe)};return this.manager.start([c].concat(Kx(o.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=eEe());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Qd({},s,c):c,x=Ek(Object.keys(y),o,u);v.start([d,a,gi(gi({},y),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=NEe(i,OEe),u=k.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(m){var v=m.props,y=v.style,x=y===void 0?{}:y,_=v.className,b=k.cloneElement(m,gi(gi({},c),{},{style:gi(gi({},x),d),className:_}));return b};return u===1?f(k.Children.only(a)):$.createElement("div",null,k.Children.map(a,function(h){return f(h)}))}}]),n}(k.PureComponent);Oi.displayName="Animate";Oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oi.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function zEe(t,e){return GEe(t)||qEe(t,e)||HEe(t,e)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HEe(t,e){if(t){if(typeof t=="string")return Ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(t,e)}}function Ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function GEe(t){if(Array.isArray(t))return t}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){WEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WEe(t,e,n){return e=KEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KEe(t){var e=XEe(t,"string");return Sh(e)=="symbol"?e:e+""}function XEe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rk=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+i,`
            L `).concat(e+c*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},YEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,c=n.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},QEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y2=function(e){var n=kk(kk({},QEe),e),r=k.useRef(),i=k.useState(-1),a=zEe(i,2),o=a[0],s=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,v=n.animationEasing,y=n.animationDuration,x=n.animationBegin,_=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var g=$e("recharts-rectangle",m);return b?$.createElement(Oi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:v,isActive:b},function(T){var w=T.width,j=T.height,E=T.x,A=T.y;return $.createElement(Oi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:_,easing:v},$.createElement("path",Uv({},xe(n,!0),{className:g,d:Rk(E,A,w,j,h),ref:r})))}):$.createElement("path",Uv({},xe(n,!0),{className:g,d:Rk(c,u,d,f,h)}))},ZEe=["points","className","baseLinePoints","connectNulls"];function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}function JEe(t,e){if(t==null)return{};var n=e2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mk(t){return i2e(t)||r2e(t)||n2e(t)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2e(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function r2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i2e(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dk=function(e){return e&&e.x===+e.x&&e.y===+e.y},a2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Dk(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Dk(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Tf=function(e,n){var r=a2e(e);n&&(r=[r.reduce(function(a,o){return[].concat(Mk(a),Mk(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},o2e=function(e,n,r){var i=Tf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Tf(n.reverse(),r).slice(1))},s2e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=JEe(e,ZEe);if(!n||!n.length)return null;var s=$e("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=o2e(n,i,a);return $.createElement("g",{className:s},$.createElement("path",fc({},xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?$.createElement("path",fc({},xe(o,!0),{fill:"none",d:Tf(n,a)})):null,c?$.createElement("path",fc({},xe(o,!0),{fill:"none",d:Tf(i,a)})):null)}var d=Tf(n,a);return $.createElement("path",fc({},xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}var wp=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=$e("recharts-dot",a);return n===+n&&r===+r&&i===+i?$.createElement("circle",kw({},xe(e,!1),ov(e),{className:o,cx:n,cy:r,r:i})):null};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}var l2e=["x","y","top","left","width","height","className"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){u2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2e(t,e,n){return e=d2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2e(t){var e=f2e(t,"string");return Eh(e)=="symbol"?e:e+""}function f2e(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h2e(t,e){if(t==null)return{};var n=p2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var m2e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},g2e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,v=e.className,y=h2e(e,l2e),x=c2e({x:r,y:a,top:s,left:u,width:f,height:m},y);return!oe(r)||!oe(a)||!oe(f)||!oe(m)||!oe(s)||!oe(u)?null:$.createElement("path",Rw({},xe(x,!0),{className:$e("recharts-cross",v),d:m2e(r,a,f,m,s,u)}))},v2e=q0,y2e=ZB,b2e=ia;function x2e(t,e){return t&&t.length?v2e(t,b2e(e),y2e):void 0}var _2e=x2e;const w2e=at(_2e);var A2e=q0,S2e=ia,E2e=JB;function T2e(t,e){return t&&t.length?A2e(t,S2e(e),E2e):void 0}var j2e=T2e;const O2e=at(j2e);var N2e=["cx","cy","angle","ticks","axisLine"],C2e=["ticks","tick","angle","tickFormatter","stroke"];function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(this,arguments)}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bk(t,e){if(t==null)return{};var n=I2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B9(r.key),r)}}function k2e(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R2e(t,e,n){return e=Vv(e),M2e(t,L9()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function M2e(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D2e(t)}function D2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function $2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function X0(t,e,n){return e=B9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t){var e=L2e(t,"string");return du(e)=="symbol"?e:e+""}function L2e(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y0=function(t){function e(){return P2e(this,e),R2e(this,e,arguments)}return $2e(e,t),k2e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return yt(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,c=w2e(s,function(d){return d.coordinate||0}),u=O2e(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,c=r.axisLine,u=Bk(r,N2e),d=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=yt(i,a,d[0],o),h=yt(i,a,d[1],o),m=bs(bs(bs({},xe(u,!1)),{},{fill:"none"},xe(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",jf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,u=i.stroke,d=Bk(i,C2e),f=this.getTickTextAnchor(),h=xe(d,!1),m=xe(o,!1),v=a.map(function(y,x){var _=r.getTickValueCoord(y),b=bs(bs(bs(bs({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},_),{},{payload:y});return $.createElement(He,jf({className:$e("recharts-polar-radius-axis-tick",j9(o)),key:"tick-".concat(y.coordinate)},sl(r.props,y,x)),e.renderTickItem(o,b,c?c(y.value,x):y.value))});return $.createElement(He,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:$.createElement(He,{className:$e("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),_n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Oe(r)?o=r(i):o=$.createElement(ll,jf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(k.PureComponent);X0(Y0,"displayName","PolarRadiusAxis");X0(Y0,"axisType","radiusAxis");X0(Y0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(this,arguments)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){Q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V9(r.key),r)}}function U2e(t,e,n){return e&&zk(t.prototype,e),n&&zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V2e(t,e,n){return e=zv(e),z2e(t,U9()?Reflect.construct(e,n||[],zv(t).constructor):e.apply(t,n))}function z2e(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(t)}function F2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U9=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function H2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function Q0(t,e,n){return e=V9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V9(t){var e=q2e(t,"string");return fu(e)=="symbol"?e:e+""}function q2e(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G2e=Math.PI/180,W2e=1e-5,Z0=function(t){function e(){return B2e(this,e),V2e(this,e,arguments)}return H2e(e,t),U2e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=yt(a,o,s,r.coordinate),h=yt(a,o,s+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*G2e),o;return a>W2e?o=i==="outer"?"start":"end":a<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,c=r.axisLineType,u=xs(xs({},xe(this.props,!1)),{},{fill:"none"},xe(s,!1));if(c==="circle")return $.createElement(wp,Os({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return yt(i,a,o,h.coordinate)});return $.createElement(s2e,Os({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,u=i.stroke,d=xe(this.props,!1),f=xe(o,!1),h=xs(xs({},d),{},{fill:"none"},xe(s,!1)),m=a.map(function(v,y){var x=r.getTickLineCoord(v),_=r.getTickTextAnchor(v),b=xs(xs(xs({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:x.x2,y:x.y2});return $.createElement(He,Os({className:$e("recharts-polar-angle-axis-tick",j9(o)),key:"tick-".concat(v.coordinate)},sl(r.props,v,y)),s&&$.createElement("line",Os({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&e.renderTickItem(o,b,c?c(v.value,y):v.value))});return $.createElement(He,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:$.createElement(He,{className:$e("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Oe(r)?o=r(i):o=$.createElement(ll,Os({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(k.PureComponent);Q0(Z0,"displayName","PolarAngleAxis");Q0(Z0,"axisType","angleAxis");Q0(Z0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var K2e=K5,X2e=K2e(Object.getPrototypeOf,Object),Y2e=X2e,Q2e=Ga,Z2e=Y2e,J2e=Wa,eTe="[object Object]",tTe=Function.prototype,nTe=Object.prototype,z9=tTe.toString,rTe=nTe.hasOwnProperty,iTe=z9.call(Object);function aTe(t){if(!J2e(t)||Q2e(t)!=eTe)return!1;var e=Z2e(t);if(e===null)return!0;var n=rTe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&z9.call(n)==iTe}var oTe=aTe;const sTe=at(oTe);var lTe=Ga,cTe=Wa,uTe="[object Boolean]";function dTe(t){return t===!0||t===!1||cTe(t)&&lTe(t)==uTe}var fTe=dTe;const hTe=at(fTe);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function pTe(t,e){return yTe(t)||vTe(t,e)||gTe(t,e)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gTe(t,e){if(t){if(typeof t=="string")return Fk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fk(t,e)}}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yTe(t){if(Array.isArray(t))return t}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){bTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bTe(t,e,n){return e=xTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xTe(t){var e=_Te(t,"string");return Th(e)=="symbol"?e:e+""}function _Te(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gk=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},wTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ATe=function(e){var n=qk(qk({},wTe),e),r=k.useRef(),i=k.useState(-1),a=pTe(i,2),o=a[0],s=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&s(g)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,y=n.animationDuration,x=n.animationBegin,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=$e("recharts-trapezoid",m);return _?$.createElement(Oi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:_},function(g){var T=g.upperWidth,w=g.lowerWidth,j=g.height,E=g.x,A=g.y;return $.createElement(Oi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:v},$.createElement("path",Fv({},xe(n,!0),{className:b,d:Gk(E,A,T,w,j),ref:r})))}):$.createElement("g",null,$.createElement("path",Fv({},xe(n,!0),{className:b,d:Gk(c,u,d,f,h)})))},STe=["option","shapeType","propTransformer","activeClassName","isActive"];function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function ETe(t,e){if(t==null)return{};var n=TTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){jTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jTe(t,e,n){return e=OTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=NTe(t,"string");return jh(e)=="symbol"?e:e+""}function NTe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CTe(t,e){return Hv(Hv({},e),t)}function ITe(t,e){return t==="symbols"}function Kk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(Y2,n);case"trapezoid":return $.createElement(ATe,n);case"sector":return $.createElement(C9,n);case"symbols":if(ITe(e))return $.createElement(m2,n);break;default:return null}}function PTe(t){return k.isValidElement(t)?t.props:t}function F9(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?CTe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,c=ETe(t,STe),u;if(k.isValidElement(e))u=k.cloneElement(e,Hv(Hv({},c),PTe(e)));else if(Oe(e))u=e(c);else if(sTe(e)&&!hTe(e)){var d=i(e,c);u=$.createElement(Kk,{shapeType:n,elementProps:d})}else{var f=c;u=$.createElement(Kk,{shapeType:n,elementProps:f})}return s?$.createElement(He,{className:o},u):u}function J0(t,e){return e!=null&&"trapezoids"in t.props}function eb(t,e){return e!=null&&"sectors"in t.props}function Oh(t,e){return e!=null&&"points"in t.props}function kTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function RTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function MTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function DTe(t,e){var n;return J0(t,e)?n=kTe:eb(t,e)?n=RTe:Oh(t,e)&&(n=MTe),n}function $Te(t,e){var n;return J0(t,e)?n="trapezoids":eb(t,e)?n="sectors":Oh(t,e)&&(n="points"),n}function LTe(t,e){if(J0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(eb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Oh(t,e)?e.payload:{}}function BTe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=$Te(n,e),a=LTe(n,e),o=r.filter(function(c,u){var d=cl(a,c),f=n.props[i].filter(function(v){var y=DTe(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=r.indexOf(o[o.length-1]);return s}var ag;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q9(r.key),r)}}function VTe(t,e,n){return e&&Yk(t.prototype,e),n&&Yk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zTe(t,e,n){return e=qv(e),FTe(t,H9()?Reflect.construct(e,n||[],qv(t).constructor):e.apply(t,n))}function FTe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HTe(t)}function HTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H9=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function qTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function ti(t,e,n){return e=q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q9(t){var e=GTe(t,"string");return hu(e)=="symbol"?e:e+""}function GTe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ni=function(t){function e(n){var r;return UTe(this,e),r=zTe(this,e,[n]),ti(r,"pieRef",null),ti(r,"sectorRefs",[]),ti(r,"id",Tl("recharts-pie-")),ti(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Oe(i)&&i()}),ti(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Oe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return qTe(e,t),VTe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,u=a.valueKey,d=xe(this.props,!1),f=xe(o,!1),h=xe(s,!1),m=o&&o.offsetRadius||20,v=r.map(function(y,x){var _=(y.startAngle+y.endAngle)/2,b=yt(y.cx,y.cy,y.outerRadius+m,_),g=gt(gt(gt(gt({},d),y),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(b.x,y.cx)},b),T=gt(gt(gt(gt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[yt(y.cx,y.cy,y.outerRadius,_),b]}),w=c;return Re(c)&&Re(u)?w="value":Re(c)&&(w=u),$.createElement(He,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,g,Xt(y,w)))});return $.createElement(He,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?o:h,v=gt(gt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return $.createElement(He,hc({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},sl(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),$.createElement(F9,hc({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return $.createElement(Oi,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,x=[],_=a&&a[0],b=_.startAngle;return a.forEach(function(g,T){var w=h&&h[T],j=T>0?zr(g,"paddingAngle",0):0;if(w){var E=sn(w.endAngle-w.startAngle,g.endAngle-g.startAngle),A=gt(gt({},g),{},{startAngle:b+j,endAngle:b+E(y)+j});x.push(A),b=A.endAngle}else{var O=g.endAngle,I=g.startAngle,C=sn(0,O-I),R=C(y),P=gt(gt({},g),{},{startAngle:b+j,endAngle:b+R+j});x.push(P),b=P.endAngle}}),$.createElement(He,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!cl(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!oe(u)||!oe(d)||!oe(f)||!oe(h))return null;var y=$e("recharts-pie",s);return $.createElement(He,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){r.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),_n.renderCallByParent(this.props,null,!1),(!m||v)&&Ki.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);if(Oe(r))return r(i);var o=$e("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(Xs,hc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);var o=a;if(Oe(r)&&(o=r(i),$.isValidElement(o)))return o;var s=$e("recharts-pie-label-text",typeof r!="boolean"&&!Oe(r)?r.className:"");return $.createElement(ll,hc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(k.PureComponent);ag=Ni;ti(Ni,"displayName","Pie");ti(Ni,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!os.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ti(Ni,"parseDeltaAngle",function(t,e){var n=ir(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ti(Ni,"getRealPieData",function(t){var e=t.data,n=t.children,r=xe(t,!1),i=Fr(n,au);return e&&e.length?e.map(function(a,o){return gt(gt(gt({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return gt(gt({},r),a.props)}):[]});ti(Ni,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=T9(i,a),s=r+ar(t.cx,i,i/2),c=n+ar(t.cy,a,a/2),u=ar(t.innerRadius,o,0),d=ar(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ti(Ni,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?gt(gt({},e.type.defaultProps),e.props):e.props,i=ag.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),v=ag.parseCoordinateOfPie(r,n),y=ag.parseDeltaAngle(o,s),x=Math.abs(y),_=u;Re(u)&&Re(f)?(Ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Re(u)&&(Ei(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var b=i.filter(function(A){return Xt(A,_,0)!==0}).length,g=(x>=360?b:b-1)*c,T=x-b*m-g,w=i.reduce(function(A,O){var I=Xt(O,_,0);return A+(oe(I)?I:0)},0),j;if(w>0){var E;j=i.map(function(A,O){var I=Xt(A,_,0),C=Xt(A,d,O),R=(oe(I)?I:0)/w,P;O?P=E.endAngle+ir(y)*c*(I!==0?1:0):P=o;var q=P+ir(y)*((I!==0?m:0)+R*T),L=(P+q)/2,B=(v.innerRadius+v.outerRadius)/2,V=[{name:C,value:I,payload:A,dataKey:_,type:h}],H=yt(v.cx,v.cy,B,L);return E=gt(gt(gt({percent:R,cornerRadius:a,name:C,tooltipPayload:V,midAngle:L,middleRadius:B,tooltipPosition:H},A),v),{},{value:Xt(A,_),startAngle:P,endAngle:q,payload:A,paddingAngle:ir(y)*c}),E})}return gt(gt({},v),{},{sectors:j,data:i})});var WTe=Math.ceil,KTe=Math.max;function XTe(t,e,n,r){for(var i=-1,a=KTe(WTe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var YTe=XTe,QTe=hB,ZTe=1/0,JTe=17976931348623157e292;function eje(t){if(!t)return t===0?t:0;if(t=QTe(t),t===ZTe||t===-1/0){var e=t<0?-1:1;return e*JTe}return t===t?t:0}var G9=eje,tje=YTe,nje=L0,Xx=G9;function rje(t){return function(e,n,r){return r&&typeof r!="number"&&nje(e,n,r)&&(n=r=void 0),e=Xx(e),n===void 0?(n=e,e=0):n=Xx(n),r=r===void 0?e<n?1:-1:Xx(r),tje(e,n,r,t)}}var ije=rje,aje=ije,oje=aje(),sje=oje;const Gv=at(sje);function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){W9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W9(t,e,n){return e=lje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lje(t){var e=cje(t,"string");return Nh(e)=="symbol"?e:e+""}function cje(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uje=["Webkit","Moz","O","ms"],dje=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=uje.reduce(function(a,o){return Zk(Zk({},a),{},W9({},o+r,n))},{});return i[e]=n,i};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(this,arguments)}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X9(r.key),r)}}function hje(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pje(t,e,n){return e=Kv(e),mje(t,K9()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function mje(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gje(t)}function gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K9=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function vje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function jr(t,e,n){return e=X9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9(t){var e=yje(t,"string");return pu(e)=="symbol"?e:e+""}function yje(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bje=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Af().domain(Gv(0,c)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},tR=function(e){return e.changedTouches&&!!e.changedTouches.length},mu=function(t){function e(n){var r;return fje(this,e),r=pje(this,e,[n]),jr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),jr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),jr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),jr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jr(r,"handleSlideDragStart",function(i){var a=tR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return vje(e,t),hje(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=Xt(a[r],s,r);return Oe(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+d-f-s,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-s));var x=this.getIndex({startX:o+y,endX:s+y});(x.startIndex!==h||x.endIndex!==m)&&v&&v(x),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=tR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,y=d.gap,x=d.data,_={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),_[o]=u+b;var g=this.getIndex(_),T=g.startIndex,w=g.endIndex,j=function(){var A=x.length-1;return o==="startX"&&(s>c?T%y===0:w%y===0)||s<c&&w===A||o==="endX"&&(s>c?w%y===0:T%y===0)||s>c&&w===A};this.setState(jr(jr({},o,u+b),"brushMoveStartX",r.pageX),function(){v&&j()&&v(g)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(jr({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.data,u=r.children,d=r.padding,f=k.Children.only(u);return f?$.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,y=c.startIndex,x=c.endIndex,_=Math.max(r,this.props.x),b=Yx(Yx({},xe(this.props,!1)),{},{x:_,y:u,width:d,height:f}),g=m||"Min value: ".concat((a=v[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return $.createElement(He,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return $.createElement(He,{className:"recharts-brush-texts"},$.createElement(ll,Wv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2},v),this.getTextOfTick(i)),$.createElement(ll,Wv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,y=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!oe(s)||!oe(c)||!oe(u)||!oe(d)||u<=0||d<=0)return null;var g=$e("recharts-brush",a),T=$.Children.count(o)===1,w=dje("userSelect","none");return $.createElement(He,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(y||x||_||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,c=r.stroke,u=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):Oe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Yx({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?bje({data:a,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);r[c]>i?s=c:o=c}return i>=r[s]?s:o}}])}(k.PureComponent);jr(mu,"displayName","Brush");jr(mu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xje=w2;function _je(t,e){var n;return xje(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var wje=_je,Aje=U5,Sje=ia,Eje=wje,Tje=xr,jje=L0;function Oje(t,e,n){var r=Tje(t)?Aje:Eje;return n&&jje(t,e,n)&&(e=void 0),r(t,Sje(e))}var Nje=Oje;const Cje=at(Nje);var Xi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},nR=lB;function Ije(t,e,n){e=="__proto__"&&nR?nR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Pje=Ije,kje=Pje,Rje=oB,Mje=ia;function Dje(t,e){var n={};return e=Mje(e),Rje(t,function(r,i,a){kje(n,i,e(r,i,a))}),n}var $je=Dje;const Lje=at($je);function Bje(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Uje=Bje,Vje=w2;function zje(t,e){var n=!0;return Vje(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var Fje=zje,Hje=Uje,qje=Fje,Gje=ia,Wje=xr,Kje=L0;function Xje(t,e,n){var r=Wje(t)?Hje:qje;return n&&Kje(t,e,n)&&(e=void 0),r(t,Gje(e))}var Yje=Xje;const Y9=at(Yje);var Qje=["x","y"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){Zje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zje(t,e,n){return e=Jje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jje(t){var e=eOe(t,"string");return Ch(e)=="symbol"?e:e+""}function eOe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tOe(t,e){if(t==null)return{};var n=nOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rOe(t,e){var n=t.x,r=t.y,i=tOe(t,Qje),a="".concat(n),o=parseInt(a,10),s="".concat(r),c=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Vd(Vd(Vd(Vd(Vd({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function iR(t){return $.createElement(F9,Bw({shapeType:"rectangle",propTransformer:rOe,activeClassName:"recharts-active-bar"},t))}var iOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||dl(),n)}},aOe=["value","background"],Q9;function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function oOe(t,e){if(t==null)return{};var n=sOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(this,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){Ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J9(r.key),r)}}function cOe(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uOe(t,e,n){return e=Yv(e),dOe(t,Z9()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function dOe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fOe(t)}function fOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z9=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function hOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function Ao(t,e,n){return e=J9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J9(t){var e=pOe(t,"string");return gu(e)=="symbol"?e:e+""}function pOe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cl=function(t){function e(){var n;lOe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=uOe(this,e,[].concat(i)),Ao(n,"state",{isAnimationFinished:!1}),Ao(n,"id",Tl("recharts-bar-")),Ao(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ao(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return hOe(e,t),cOe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,u=a.activeBar,d=xe(this.props,!1);return r&&r.map(function(f,h){var m=h===c,v=m?u:o,y=Qt(Qt(Qt({},d),f),{},{isActive:m,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(He,Xv({className:"recharts-bar-rectangle"},sl(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(iR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(Oi,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,y=a.map(function(x,_){var b=h&&h[_];if(b){var g=sn(b.x,x.x),T=sn(b.y,x.y),w=sn(b.width,x.width),j=sn(b.height,x.height);return Qt(Qt({},x),{},{x:g(v),y:T(v),width:w(v),height:j(v)})}if(o==="horizontal"){var E=sn(0,x.height),A=E(v);return Qt(Qt({},x),{},{y:x.y+x.height-A,height:A})}var O=sn(0,x.width),I=O(v);return Qt(Qt({},x),{},{width:I})});return $.createElement(He,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!cl(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=xe(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=oOe(u,aOe);if(!f)return null;var m=Qt(Qt(Qt(Qt(Qt({},h),{},{fill:"#eee"},f),c),sl(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(iR,Xv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Fr(d,_p);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,_){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Xt(x,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(He,v,f.map(function(y){return $.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,v=r.background,y=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,_=$e("recharts-bar",o),b=s&&s.allowDataOverflow,g=c&&c.allowDataOverflow,T=b||g,w=Re(y)?this.id:y;return $.createElement(He,{className:_},b||g?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(w)},$.createElement("rect",{x:b?u:u-f/2,y:g?d:d-h/2,width:b?f:f*2,height:g?h:h*2}))):null,$.createElement(He,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,w),(!m||x)&&Ki.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(k.PureComponent);Q9=Cl;Ao(Cl,"displayName","Bar");Ao(Cl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!os.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ao(Cl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Qwe(r,n);if(!m)return null;var v=e.layout,y=n.type.defaultProps,x=y!==void 0?Qt(Qt({},y),n.props):n.props,_=x.dataKey,b=x.children,g=x.minPointSize,T=v==="horizontal"?o:a,w=u?T.scale.domain():null,j=iAe({numericAxis:T}),E=Fr(b,au),A=f.map(function(O,I){var C,R,P,q,L,B;u?C=Zwe(u[d+I],w):(C=Xt(O,_),Array.isArray(C)||(C=[j,C]));var V=iOe(g,Q9.defaultProps.minPointSize)(C[1],I);if(v==="horizontal"){var H,K=[o.scale(C[0]),o.scale(C[1])],z=K[0],ee=K[1];R=QP({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:O,index:I}),P=(H=ee??z)!==null&&H!==void 0?H:void 0,q=m.size;var U=z-ee;if(L=Number.isNaN(U)?0:U,B={x:R,y:o.y,width:q,height:o.height},Math.abs(V)>0&&Math.abs(L)<Math.abs(V)){var D=ir(L||V)*(Math.abs(V)-Math.abs(L));P-=D,L+=D}}else{var W=[a.scale(C[0]),a.scale(C[1])],Q=W[0],ce=W[1];if(R=Q,P=QP({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:O,index:I}),q=ce-Q,L=m.size,B={x:a.x,y:P,width:a.width,height:L},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var de=ir(q||V)*(Math.abs(V)-Math.abs(q));q+=de}}return Qt(Qt(Qt({},O),{},{x:R,y:P,width:q,height:L,value:u?C:C[1],payload:O,background:B},E&&E[I]&&E[I].props),{},{tooltipPayload:[S9(n,O)],tooltipPosition:{x:R+q/2,y:P+L/2}})});return Qt({data:A,layout:v},h)});function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function mOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e8(r.key),r)}}function gOe(t,e,n){return e&&sR(t.prototype,e),n&&sR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tb(t,e,n){return e=e8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e8(t){var e=vOe(t,"string");return Ih(e)=="symbol"?e:e+""}function vOe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q2=function(e,n,r,i,a){var o=e.width,s=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Nr(u,Cl);return d.reduce(function(m,v){var y=n[v],x=y.orientation,_=y.domain,b=y.padding,g=b===void 0?{}:b,T=y.mirror,w=y.reversed,j="".concat(x).concat(T?"Mirror":""),E,A,O,I,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=_[1]-_[0],P=1/0,q=y.categoricalDomain.sort(Dce);if(q.forEach(function(W,Q){Q>0&&(P=Math.min((W||0)-(q[Q-1]||0),P))}),Number.isFinite(P)){var L=P/R,B=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(E=L*B/2),y.padding==="no-gap"){var V=ar(e.barCategoryGap,L*B),H=L*B/2;E=H-V-(H-V)/B*V}}}i==="xAxis"?A=[r.left+(g.left||0)+(E||0),r.left+r.width-(g.right||0)-(E||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(g.bottom||0),r.top+(g.top||0)]:[r.top+(g.top||0)+(E||0),r.top+r.height-(g.bottom||0)-(E||0)]:A=y.range,w&&(A=[A[1],A[0]]);var K=x9(y,a,h),z=K.scale,ee=K.realScaleType;z.domain(_).range(A),_9(z);var U=w9(z,yi(yi({},y),{},{realScaleType:ee}));i==="xAxis"?(C=x==="top"&&!T||x==="bottom"&&T,O=r.left,I=f[j]-C*y.height):i==="yAxis"&&(C=x==="left"&&!T||x==="right"&&T,O=f[j]-C*y.width,I=r.top);var D=yi(yi(yi({},y),U),{},{realScaleType:ee,x:O,y:I,scale:z,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return D.bandSize=Rv(D,U),!y.hide&&i==="xAxis"?f[j]+=(C?-1:1)*D.height:y.hide||(f[j]+=(C?-1:1)*D.width),yi(yi({},m),{},tb({},v,D))},{})},t8=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},yOe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return t8({x:n,y:r},{x:i,y:a})},n8=function(){function t(e){mOe(this,t),this.scale=e}return gOe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();tb(n8,"EPS",1e-4);var Z2=function(e){var n=Object.keys(e).reduce(function(r,i){return yi(yi({},r),{},tb({},i,n8.create(e[i])))},{});return yi(yi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Lje(i,function(c,u){return n[u].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return Y9(i,function(a,o){return n[o].isInRange(a)})}})};function bOe(t){return(t%180+180)%180}var xOe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=bOe(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},_Oe=ia,wOe=gp,AOe=D0;function SOe(t){return function(e,n,r){var i=Object(e);if(!wOe(e)){var a=_Oe(n);e=AOe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var EOe=SOe,TOe=G9;function jOe(t){var e=TOe(t),n=e%1;return e===e?n?e-n:e:0}var OOe=jOe,NOe=eB,COe=ia,IOe=OOe,POe=Math.max;function kOe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:IOe(n);return i<0&&(i=POe(r+i,0)),NOe(t,COe(e),i)}var ROe=kOe,MOe=EOe,DOe=ROe,$Oe=MOe(DOe),LOe=$Oe;const BOe=at(LOe);var UOe=Ule(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),J2=k.createContext(void 0),eT=k.createContext(void 0),r8=k.createContext(void 0),i8=k.createContext({}),a8=k.createContext(void 0),o8=k.createContext(0),s8=k.createContext(0),cR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,c=e.width,u=e.height,d=UOe(a);return $.createElement(J2.Provider,{value:r},$.createElement(eT.Provider,{value:i},$.createElement(i8.Provider,{value:a},$.createElement(r8.Provider,{value:d},$.createElement(a8.Provider,{value:o},$.createElement(o8.Provider,{value:u},$.createElement(s8.Provider,{value:c},s)))))))},VOe=function(){return k.useContext(a8)},l8=function(e){var n=k.useContext(J2);n==null&&dl();var r=n[e];return r==null&&dl(),r},zOe=function(){var e=k.useContext(J2);return go(e)},FOe=function(){var e=k.useContext(eT),n=BOe(e,function(r){return Y9(r.domain,Number.isFinite)});return n||go(e)},c8=function(e){var n=k.useContext(eT);n==null&&dl();var r=n[e];return r==null&&dl(),r},HOe=function(){var e=k.useContext(r8);return e},qOe=function(){return k.useContext(i8)},tT=function(){return k.useContext(s8)},nT=function(){return k.useContext(o8)};function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function GOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d8(r.key),r)}}function KOe(t,e,n){return e&&WOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XOe(t,e,n){return e=Qv(e),YOe(t,u8()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function YOe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QOe(t)}function QOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u8=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function ZOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){rT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rT(t,e,n){return e=d8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=JOe(t,"string");return vu(e)=="symbol"?e:e+""}function JOe(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eNe(t,e){return iNe(t)||rNe(t,e)||nNe(t,e)||tNe()}function tNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nNe(t,e){if(t){if(typeof t=="string")return fR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fR(t,e)}}function fR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function iNe(t){if(Array.isArray(t))return t}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}var aNe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):Oe(e)?r=e(n):r=$.createElement("line",zw({},n,{className:"recharts-reference-line-line"})),r},oNe=function(e,n,r,i,a,o,s,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(r){var v=u.y,y=e.y.apply(v,{position:o});if(Xi(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:d+h,y},{x:d,y}];return c==="left"?x.reverse():x}if(n){var _=u.x,b=e.x.apply(_,{position:o});if(Xi(u,"discard")&&!e.x.isInRange(b))return null;var g=[{x:b,y:f+m},{x:b,y:f}];return s==="top"?g.reverse():g}if(i){var T=u.segment,w=T.map(function(j){return e.apply(j,{position:o})});return Xi(u,"discard")&&Cje(w,function(j){return!e.isInRange(j)})?null:w}return null};function sNe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,c=t.alwaysShow,u=VOe(),d=l8(i),f=c8(a),h=HOe();if(!u||!h)return null;Ei(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Z2({x:d.scale,y:f.scale}),v=cn(e),y=cn(n),x=r&&r.length===2,_=oNe(m,v,y,x,h,t.position,d.orientation,f.orientation,t);if(!_)return null;var b=eNe(_,2),g=b[0],T=g.x,w=g.y,j=b[1],E=j.x,A=j.y,O=Xi(t,"hidden")?"url(#".concat(u,")"):void 0,I=dR(dR({clipPath:O},xe(t,!0)),{},{x1:T,y1:w,x2:E,y2:A});return $.createElement(He,{className:$e("recharts-reference-line",s)},aNe(o,I),_n.renderCallByParent(t,yOe({x1:T,y1:w,x2:E,y2:A})))}var iT=function(t){function e(){return GOe(this,e),XOe(this,e,arguments)}return ZOe(e,t),KOe(e,[{key:"render",value:function(){return $.createElement(sNe,this.props)}}])}($.Component);rT(iT,"displayName","ReferenceLine");rT(iT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){nb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h8(r.key),r)}}function uNe(t,e,n){return e&&cNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dNe(t,e,n){return e=Zv(e),fNe(t,f8()?Reflect.construct(e,n||[],Zv(t).constructor):e.apply(t,n))}function fNe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hNe(t)}function hNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f8=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(t)}function pNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function nb(t,e,n){return e=h8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t){var e=mNe(t,"string");return yu(e)=="symbol"?e:e+""}function mNe(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gNe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=Z2({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Xi(e,"discard")&&!o.isInRange(s)?null:s},rb=function(t){function e(){return lNe(this,e),dNe(this,e,arguments)}return pNe(e,t),uNe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,c=r.clipPathId,u=cn(i),d=cn(a);if(Ei(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gNe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,y=v.shape,x=v.className,_=Xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=pR(pR({clipPath:_},xe(this.props,!0)),{},{cx:h,cy:m});return $.createElement(He,{className:$e("recharts-reference-dot",x)},e.renderDot(y,b),_n.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}($.Component);nb(rb,"displayName","ReferenceDot");nb(rb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});nb(rb,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Oe(t)?n=t(e):n=$.createElement(wp,Fw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m8(r.key),r)}}function bNe(t,e,n){return e&&yNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xNe(t,e,n){return e=Jv(e),_Ne(t,p8()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function _Ne(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wNe(t)}function wNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function ANe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function ib(t,e,n){return e=m8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t){var e=SNe(t,"string");return bu(e)=="symbol"?e:e+""}function SNe(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ENe=function(e,n,r,i,a){var o=a.x1,s=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Z2({x:d.scale,y:f.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xi(a,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:t8(m,v)},ab=function(t){function e(){return vNe(this,e),xNe(this,e,arguments)}return ANe(e,t),bNe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=cn(i),h=cn(a),m=cn(o),v=cn(s),y=this.props.shape;if(!f&&!h&&!m&&!v&&!y)return null;var x=ENe(f,h,m,v,this.props);if(!x&&!y)return null;var _=Xi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(He,{className:$e("recharts-reference-area",c)},e.renderRect(y,gR(gR({clipPath:_},xe(this.props,!0)),x)),_n.renderCallByParent(this.props,x))}}])}($.Component);ib(ab,"displayName","ReferenceArea");ib(ab,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ib(ab,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):Oe(t)?n=t(e):n=$.createElement(Y2,qw({},e,{className:"recharts-reference-area-rect"})),n});function g8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function TNe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xOe(r,n)}function jNe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function ey(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ONe(t,e){return g8(t,e+1)}function NNe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,c=0,u=1,d=o,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:g8(r,u)};var y=c,x,_=function(){return x===void 0&&(x=n(v,y)),x},b=v.coordinate,g=c===0||ey(t,b,_,d,s);g||(c=0,d=o,u+=1),g&&(d=b+t*(_()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){CNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CNe(t,e,n){return e=INe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function INe(t){var e=PNe(t,"string");return Ph(e)=="symbol"?e:e+""}function PNe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kNe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,c=e.end,u=function(h){var m=a[h],v,y=function(){return v===void 0&&(v=n(m,h)),v};if(h===o-1){var x=t*(m.coordinate+t*y()/2-c);a[h]=m=zn(zn({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[h]=m=zn(zn({},m),{},{tickCoord:m.coordinate});var _=ey(t,m.tickCoord,y,s,c);_&&(c=m.tickCoord-t*(y()/2+i),a[h]=zn(zn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function RNe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,c=e.start,u=e.end;if(a){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);o[s-1]=d=zn(zn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=ey(t,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-t*(f/2+i),o[s-1]=zn(zn({},d),{},{isShow:!0}))}for(var v=a?s-1:s,y=function(b){var g=o[b],T,w=function(){return T===void 0&&(T=n(g,b)),T};if(b===0){var j=t*(g.coordinate-t*w()/2-c);o[b]=g=zn(zn({},g),{},{tickCoord:j<0?g.coordinate-j*t:g.coordinate})}else o[b]=g=zn(zn({},g),{},{tickCoord:g.coordinate});var E=ey(t,g.tickCoord,w,c,u);E&&(c=g.tickCoord+t*(w()/2+i),o[b]=zn(zn({},g),{},{isShow:!0}))},x=0;x<v;x++)y(x);return o}function aT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(c)||os.isSsr)return ONe(i,typeof c=="number"&&oe(c)?c:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",v=d&&m==="width"?wf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(g,T){var w=Oe(u)?u(g.value,T):g.value;return m==="width"?TNe(wf(w,{fontSize:e,letterSpacing:n}),v,f):wf(w,{fontSize:e,letterSpacing:n})[m]},x=i.length>=2?ir(i[1].coordinate-i[0].coordinate):1,_=jNe(a,x,m);return c==="equidistantPreserveStart"?NNe(x,_,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=RNe(x,_,y,i,o,c==="preserveStartEnd"):h=kNe(x,_,y,i,o),h.filter(function(b){return b.isShow}))}var MNe=["viewBox"],DNe=["viewBox"],$Ne=["ticks"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qx(t,e){if(t==null)return{};var n=LNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function UNe(t,e,n){return e&&bR(t.prototype,e),n&&bR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VNe(t,e,n){return e=ty(e),zNe(t,v8()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function zNe(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FNe(t)}function FNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v8=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function HNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function oT(t,e,n){return e=y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t){var e=qNe(t,"string");return xu(e)=="symbol"?e:e+""}function qNe(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ad=function(t){function e(n){var r;return BNe(this,e),r=VNe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return HNe(e,t),UNe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Qx(r,MNe),s=this.props,c=s.viewBox,u=Qx(s,DNe);return!Oc(a,c)||!Oc(o,u)||!Oc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,v,y,x,_,b,g=f?-1:1,T=r.tickSize||d,w=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,x=o+ +!f*c,y=x-g*T,b=y-g*h,_=w;break;case"left":y=x=r.coordinate,v=a+ +!f*s,m=v-g*T,_=m-g*h,b=w;break;case"right":y=x=r.coordinate,v=a+ +f*s,m=v+g*T,_=m+g*h,b=w;break;default:m=v=r.coordinate,x=o+ +f*c,y=x+g*T,b=y+g*h,_=w;break}return{line:{x1:m,y1:y,x2:v,y2:x},tick:{x:_,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Zn(Zn(Zn({},xe(this.props,!1)),xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Zn(Zn({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Zn(Zn({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return $.createElement("line",pc({},f,{className:$e("recharts-cartesian-axis-line",zr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=aT(Zn(Zn({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=xe(this.props,!1),_=xe(d,!1),b=Zn(Zn({},x),{},{fill:"none"},xe(c,!1)),g=m.map(function(T,w){var j=o.getTickLineCoord(T),E=j.line,A=j.tick,O=Zn(Zn(Zn(Zn({textAnchor:v,verticalAnchor:y},x),{},{stroke:"none",fill:u},_),A),{},{index:w,payload:T,visibleTicksCount:m.length,tickFormatter:f});return $.createElement(He,pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},sl(o.props,T,w)),c&&$.createElement("line",pc({},b,E,{className:$e("recharts-cartesian-axis-tick-line",zr(c,"className"))})),d&&e.renderTickItem(d,O,"".concat(Oe(f)?f(T.value,w):T.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Qx(f,$Ne),v=h;return Oe(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||s<=0||!v||!v.length?null:$.createElement(He,{className:$e("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),_n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):Oe(r)?o=r(i):o=$.createElement(ll,pc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(k.Component);oT(ad,"displayName","CartesianAxis");oT(ad,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GNe=["x1","y1","x2","y2","key"],WNe=["offset"];function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){KNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KNe(t,e,n){return e=XNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XNe(t){var e=YNe(t,"string");return fl(e)=="symbol"?e:e+""}function YNe(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}function _R(t,e){if(t==null)return{};var n=QNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZNe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,c=e.ry;return $.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function b8(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,c=_R(e,GNe),u=xe(c,!1);u.offset;var d=_R(u,WNe);n=$.createElement("line",Ms({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function JNe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=qn(qn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(c),index:c});return b8(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=qn(qn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(c),index:c});return b8(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?i+o-h:d[m+1]-h;if(y<=0)return null;var x=m%e.length;return $.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],y=v?a+s-h:d[m+1]-h;if(y<=0)return null;var x=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:y,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return b9(aT(qn(qn(qn({},ad.defaultProps),r),{},{ticks:Sa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},iCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return b9(aT(qn(qn(qn({},ad.defaultProps),r),{},{ticks:Sa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},zl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ny(t){var e,n,r,i,a,o,s=tT(),c=nT(),u=qOe(),d=qn(qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:zl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:zl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:zl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:zl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:zl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:zl.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,y=d.syncWithTicks,x=d.horizontalValues,_=d.verticalValues,b=zOe(),g=FOe();if(!oe(m)||m<=0||!oe(v)||v<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var T=d.verticalCoordinatesGenerator||rCe,w=d.horizontalCoordinatesGenerator||iCe,j=d.horizontalPoints,E=d.verticalPoints;if((!j||!j.length)&&Oe(w)){var A=x&&x.length,O=w({yAxis:g?qn(qn({},g),{},{ticks:A?x:g.ticks}):void 0,width:s,height:c,offset:u},A?!0:y);Ei(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fl(O),"]")),Array.isArray(O)&&(j=O)}if((!E||!E.length)&&Oe(T)){var I=_&&_.length,C=T({xAxis:b?qn(qn({},b),{},{ticks:I?_:b.ticks}):void 0,width:s,height:c,offset:u},I?!0:y);Ei(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fl(C),"]")),Array.isArray(C)&&(E=C)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(ZNe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(JNe,Ms({},d,{offset:u,horizontalPoints:j,xAxis:b,yAxis:g})),$.createElement(eCe,Ms({},d,{offset:u,verticalPoints:E,xAxis:b,yAxis:g})),$.createElement(tCe,Ms({},d,{horizontalPoints:j})),$.createElement(nCe,Ms({},d,{verticalPoints:E})))}ny.displayName="CartesianGrid";var aCe=["type","layout","connectNulls","ref"],oCe=["key"];function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function wR(t,e){if(t==null)return{};var n=sCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fl(t){return dCe(t)||uCe(t)||cCe(t)||lCe()}function lCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cCe(t,e){if(t){if(typeof t=="string")return Kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kw(t,e)}}function uCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dCe(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_8(r.key),r)}}function hCe(t,e,n){return e&&SR(t.prototype,e),n&&SR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pCe(t,e,n){return e=ry(e),mCe(t,x8()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function mCe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gCe(t)}function gCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function vCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function bi(t,e,n){return e=_8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _8(t){var e=yCe(t,"string");return _u(e)=="symbol"?e:e+""}function yCe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ap=function(t){function e(){var n;fCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pCe(this,e,[].concat(i)),bi(n,"state",{isAnimationFinished:!0,totalLength:0}),bi(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),bi(n,"getStrokeDasharray",function(o,s,c){var u=c.reduce(function(_,b){return _+b});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,m=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>f){m=[].concat(Fl(c.slice(0,v)),[f-y]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Fl(e.repeat(c,d)),Fl(m),x).map(function(_){return"".concat(_,"px")}).join(", ")}),bi(n,"id",Tl("recharts-line-")),bi(n,"pathRef",function(o){n.mainCurve=o}),bi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),bi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return vCe(e,t),hCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Fr(d,_p);if(!f)return null;var h=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:Xt(y.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(He,m,f.map(function(v){return $.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,u=s.points,d=s.dataKey,f=xe(this.props,!1),h=xe(c,!0),m=u.map(function(y,x){var _=Tr(Tr(Tr({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(c,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(He,Of({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,c=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=wR(s,aCe),h=Tr(Tr(Tr({},xe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return $.createElement(Xs,Of({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,y=o.width,x=o.height,_=this.state,b=_.prevPoints,g=_.totalLength;return $.createElement(Oi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var w=T.t;if(b){var j=b.length/s.length,E=s.map(function(R,P){var q=Math.floor(P*j);if(b[q]){var L=b[q],B=sn(L.x,R.x),V=sn(L.y,R.y);return Tr(Tr({},R),{},{x:B(w),y:V(w)})}if(v){var H=sn(y*2,R.x),K=sn(x/2,R.y);return Tr(Tr({},R),{},{x:H(w),y:K(w)})}return Tr(Tr({},R),{},{x:R.x,y:R.y})});return a.renderCurveStatically(E,r,i)}var A=sn(0,g),O=A(w),I;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});I=a.getStrokeDasharray(O,g,C)}else I=a.generateSimpleStrokeDasharray(g,O);return a.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return s&&o&&o.length&&(!u&&d>0||!cl(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,v=i.height,y=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,g=$e("recharts-line",c),T=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,j=T||w,E=Re(x)?this.id:x,A=(r=xe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=A.r,I=O===void 0?3:O,C=A.strokeWidth,R=C===void 0?2:C,P=d5(o)?o:{},q=P.clipDot,L=q===void 0?!0:q,B=I*2+R;return $.createElement(He,{className:g},T||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:T?h:h-m/2,y:w?f:f-v/2,width:T?m:m*2,height:w?v:v*2})),!L&&$.createElement("clipPath",{id:"clipPath-dots-".concat(E)},$.createElement("rect",{x:h-B/2,y:f-B/2,width:m+B,height:v+B}))):null,!b&&this.renderCurve(j,E),this.renderErrorBar(j,E),(b||o)&&this.renderDots(j,L,E),(!y||_)&&Ki.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Fl(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Fl(o),Fl(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if($.isValidElement(r))a=$.cloneElement(r,i);else if(Oe(r))a=r(i);else{var o=i.key,s=wR(i,oCe),c=$e("recharts-line-dot",typeof r!="boolean"?r.className:"");a=$.createElement(wp,Of({key:o},s,{className:c}))}return a}}])}(k.PureComponent);bi(Ap,"displayName","Line");bi(Ap,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!os.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});bi(Ap,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,m){var v=Xt(h,o);return d==="horizontal"?{x:kv({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:Re(v)?null:r.scale(v),value:v,payload:h}:{x:Re(v)?null:n.scale(v),y:kv({axis:r,ticks:a,bandSize:s,entry:h,index:m}),value:v,payload:h}});return Tr({points:f,layout:d},u)});var bCe=["layout","type","stroke","connectNulls","isRange","ref"],xCe=["key"],w8;function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function A8(t,e){if(t==null)return{};var n=_Ce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(this,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Ui(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E8(r.key),r)}}function ACe(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SCe(t,e,n){return e=iy(e),ECe(t,S8()?Reflect.construct(e,n||[],iy(t).constructor):e.apply(t,n))}function ECe(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TCe(t)}function TCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S8=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}function jCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function Ui(t,e,n){return e=E8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E8(t){var e=OCe(t,"string");return wu(e)=="symbol"?e:e+""}function OCe(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var us=function(t){function e(){var n;wCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=SCe(this,e,[].concat(i)),Ui(n,"state",{isAnimationFinished:!0}),Ui(n,"id",Tl("recharts-area-")),Ui(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Oe(o)&&o()}),Ui(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Oe(o)&&o()}),n}return jCe(e,t),ACe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=xe(this.props,!1),m=xe(u,!0),v=d.map(function(x,_){var b=ro(ro(ro({key:"dot-".concat(_),r:3},h),m),{},{index:_,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(u,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(He,Ds({className:"recharts-area-dots"},y),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=wo(o.map(function(h){return h.y||0}));return oe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(wo(a.map(function(h){return h.y||0})),f)),oe(f)?$.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=wo(o.map(function(h){return h.x||0}));return oe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(wo(a.map(function(h){return h.x||0})),f)),oe(f)?$.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=A8(s,bCe);return $.createElement(He,{clipPath:a?"url(#clipPath-".concat(o,")"):null},$.createElement(Xs,Ds({},xe(m,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&$.createElement(Xs,Ds({},xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&$.createElement(Xs,Ds({},xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,y=v.prevPoints,x=v.prevBaseLine;return $.createElement(Oi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var b=_.t;if(y){var g=y.length/s.length,T=s.map(function(A,O){var I=Math.floor(O*g);if(y[I]){var C=y[I],R=sn(C.x,A.x),P=sn(C.y,A.y);return ro(ro({},A),{},{x:R(b),y:P(b)})}return A}),w;if(oe(c)&&typeof c=="number"){var j=sn(x,c);w=j(b)}else if(Re(c)||Zu(c)){var E=sn(x,0);w=E(b)}else w=c.map(function(A,O){var I=Math.floor(O*g);if(x[I]){var C=x[I],R=sn(C.x,A.x),P=sn(C.y,A.y);return ro(ro({},A),{},{x:R(b),y:P(b)})}return A});return a.renderAreaStatically(T,w,r,i)}return $.createElement(He,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),$.createElement(He,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!cl(d,o)||!cl(f,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,v=i.height,y=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var _=this.state.isAnimationFinished,b=s.length===1,g=$e("recharts-area",c),T=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,j=T||w,E=Re(x)?this.id:x,A=(r=xe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=A.r,I=O===void 0?3:O,C=A.strokeWidth,R=C===void 0?2:C,P=d5(o)?o:{},q=P.clipDot,L=q===void 0?!0:q,B=I*2+R;return $.createElement(He,{className:g},T||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:T?d:d-m/2,y:w?u:u-v/2,width:T?m:m*2,height:w?v:v*2})),!L&&$.createElement("clipPath",{id:"clipPath-dots-".concat(E)},$.createElement("rect",{x:d-B/2,y:u-B/2,width:m+B,height:v+B}))):null,b?null:this.renderArea(j,E),(o||b)&&this.renderDots(j,L,E),(!y||_)&&Ki.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(k.PureComponent);w8=us;Ui(us,"displayName","Area");Ui(us,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!os.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ui(us,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(oe(s)&&typeof s=="number")return s;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ui(us,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,v=u&&u.length,y=w8.getBaseValue(e,n,r,i),x=m==="horizontal",_=!1,b=f.map(function(T,w){var j;v?j=u[d+w]:(j=Xt(T,c),Array.isArray(j)?_=!0:j=[y,j]);var E=j[1]==null||v&&Xt(T,c)==null;return x?{x:kv({axis:r,ticks:a,bandSize:s,entry:T,index:w}),y:E?null:i.scale(j[1]),value:j,payload:T}:{x:E?null:r.scale(j[1]),y:kv({axis:i,ticks:o,bandSize:s,entry:T,index:w}),value:j,payload:T}}),g;return v||_?g=b.map(function(T){var w=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:w!=null&&T.y!=null?i.scale(w):null}:{x:w!=null?r.scale(w):null,y:T.y}}):g=x?i.scale(y):r.scale(y),ro({points:b,baseLine:g,layout:m,isRange:_},h)});Ui(us,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=$e("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=A8(e,xCe);n=$.createElement(wp,Ds({},a,{key:i,className:r}))}return n});function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function NCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O8(r.key),r)}}function ICe(t,e,n){return e&&CCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PCe(t,e,n){return e=ay(e),kCe(t,T8()?Reflect.construct(e,n||[],ay(t).constructor):e.apply(t,n))}function kCe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RCe(t)}function RCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!t})()}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(t)}function MCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function j8(t,e,n){return e=O8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O8(t){var e=DCe(t,"string");return Au(e)=="symbol"?e:e+""}function DCe(t,e){if(Au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function $Ce(t){var e=t.xAxisId,n=tT(),r=nT(),i=l8(e);return i==null?null:$.createElement(ad,Zw({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Sa(o,!0)}}))}var Xo=function(t){function e(){return NCe(this,e),PCe(this,e,arguments)}return MCe(e,t),ICe(e,[{key:"render",value:function(){return $.createElement($Ce,this.props)}}])}($.Component);j8(Xo,"displayName","XAxis");j8(Xo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I8(r.key),r)}}function UCe(t,e,n){return e&&BCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VCe(t,e,n){return e=oy(e),zCe(t,N8()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function zCe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(t)}function FCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function HCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function C8(t,e,n){return e=I8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I8(t){var e=qCe(t,"string");return Su(e)=="symbol"?e:e+""}function qCe(t,e){if(Su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eA.apply(this,arguments)}var GCe=function(e){var n=e.yAxisId,r=tT(),i=nT(),a=c8(n);return a==null?null:$.createElement(ad,eA({},a,{className:$e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Sa(s,!0)}}))},Yo=function(t){function e(){return LCe(this,e),VCe(this,e,arguments)}return HCe(e,t),UCe(e,[{key:"render",value:function(){return $.createElement(GCe,this.props)}}])}($.Component);C8(Yo,"displayName","YAxis");C8(Yo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function jR(t){return YCe(t)||XCe(t)||KCe(t)||WCe()}function WCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KCe(t,e){if(t){if(typeof t=="string")return tA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(t,e)}}function XCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YCe(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nA=function(e,n,r,i,a){var o=Fr(e,iT),s=Fr(e,rb),c=[].concat(jR(o),jR(s)),u=Fr(e,ab),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(y,x){if(x.props[d]===r&&Xi(x.props,"extendDomain")&&oe(x.props[f])){var _=x.props[f];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,x){if(x.props[d]===r&&Xi(x.props,"extendDomain")&&oe(x.props[m])&&oe(x.props[v])){var _=x.props[m],b=x.props[v];return[Math.min(y[0],_,b),Math.max(y[1],_,b)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,x){return oe(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},h)),h},P8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,v){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],_=arguments.length,b,g;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,v),!0}for(g=1,b=new Array(_-1);g<_;g++)b[g-1]=arguments[g];x.fn.apply(x.context,b)}else{var T=x.length,w;for(g=0;g<T;g++)switch(x[g].once&&this.removeListener(u,x[g].fn,void 0,!0),_){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,d);break;case 3:x[g].fn.call(x[g].context,d,f);break;case 4:x[g].fn.call(x[g].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(_-1);w<_;w++)b[w-1]=arguments[w];x[g].fn.apply(x[g].context,b)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var y=0,x=[],_=v.length;y<_;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(P8);var QCe=P8.exports;const ZCe=at(QCe);var Zx=new ZCe,Jx="recharts.syncMouseEvents";function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function JCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k8(r.key),r)}}function tIe(t,e,n){return e&&eIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e1(t,e,n){return e=k8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k8(t){var e=nIe(t,"string");return kh(e)=="symbol"?e:e+""}function nIe(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rIe=function(){function t(){JCe(this,t),e1(this,"activeIndex",0),e1(this,"coordinateList",[]),e1(this,"layout","horizontal")}return tIe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function iIe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function aIe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function R8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=yt(e,n,r,i),s=yt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function oIe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=yt(s,c,u,f),m=yt(s,c,d,f);r=h.x,i=h.y,a=m.x,o=m.y}else return R8(e);return[{x:r,y:i},{x:a,y:o}]}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){sIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sIe(t,e,n){return e=lIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lIe(t){var e=cIe(t,"string");return Rh(e)=="symbol"?e:e+""}function cIe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uIe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Xs;if(h==="ScatterChart")v=o,y=g2e;else if(h==="BarChart")v=aIe(f,o,c,d),y=Y2;else if(f==="radial"){var x=R8(o),_=x.cx,b=x.cy,g=x.radius,T=x.startAngle,w=x.endAngle;v={cx:_,cy:b,startAngle:T,endAngle:w,innerRadius:g,outerRadius:g},y=C9}else v={points:oIe(f,o,c)},y=Xs;var j=Im(Im(Im(Im({stroke:"#ccc",pointerEvents:"none"},c),v),xe(m,!1)),{},{payload:s,payloadIndex:u,className:$e("recharts-tooltip-cursor",m.className)});return k.isValidElement(m)?k.cloneElement(m,j):k.createElement(y,j)}var dIe=["item"],fIe=["children","className","width","height","style","compact","title","desc"];function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function NR(t,e){return mIe(t)||pIe(t,e)||D8(t,e)||hIe()}function hIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mIe(t){if(Array.isArray(t))return t}function CR(t,e){if(t==null)return{};var n=gIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$8(r.key),r)}}function bIe(t,e,n){return e&&yIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xIe(t,e,n){return e=sy(e),_Ie(t,M8()?Reflect.construct(e,n||[],sy(t).constructor):e.apply(t,n))}function _Ie(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wIe(t)}function wIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(t)}function AIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rA(t,e)}function Tu(t){return TIe(t)||EIe(t)||D8(t)||SIe()}function SIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function EIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TIe(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function je(t,e,n){return e=$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8(t){var e=jIe(t,"string");return Eu(e)=="symbol"?e:e+""}function jIe(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OIe={xAxis:["bottom","top"],yAxis:["left","right"]},NIe={width:"100%",height:"100%"},L8={x:0,y:0};function Pm(t){return t}var CIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},IIe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return J(J(J({},i),yt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,u=i.angle;return J(J(J({},i),yt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return L8},ob=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(Tu(s),Tu(u)):s},[]);return o.length>0?o:e&&e.length&&oe(i)&&oe(a)?e.slice(i,a+1):[]};function B8(t){return t==="number"?[0,"auto"]:void 0}var aA=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=ob(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=av(m,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Tu(c),[S9(u,h)]):c},[])},PR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=CIe(a,r),s=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=qwe(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=aA(e,n,d,f),m=IIe(r,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},PIe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=y9(d,a);return r.reduce(function(v,y){var x,_=y.type.defaultProps!==void 0?J(J({},y.type.defaultProps),y.props):y.props,b=_.type,g=_.dataKey,T=_.allowDataOverflow,w=_.allowDuplicatedCategory,j=_.scale,E=_.ticks,A=_.includeHidden,O=_[o];if(v[O])return v;var I=ob(e.data,{graphicalItems:i.filter(function(U){var D,W=o in U.props?U.props[o]:(D=U.type.defaultProps)===null||D===void 0?void 0:D[o];return W===O}),dataStartIndex:c,dataEndIndex:u}),C=I.length,R,P,q;iIe(_.domain,T,b)&&(R=yw(_.domain,null,T),m&&(b==="number"||j!=="auto")&&(q=Sf(I,g,"category")));var L=B8(b);if(!R||R.length===0){var B,V=(B=_.domain)!==null&&B!==void 0?B:L;if(g){if(R=Sf(I,g,b),b==="category"&&m){var H=Mce(R);w&&H?(P=R,R=Gv(0,C)):w||(R=ek(V,R,y).reduce(function(U,D){return U.indexOf(D)>=0?U:[].concat(Tu(U),[D])},[]))}else if(b==="category")w?R=R.filter(function(U){return U!==""&&!Re(U)}):R=ek(V,R,y).reduce(function(U,D){return U.indexOf(D)>=0||D===""||Re(D)?U:[].concat(Tu(U),[D])},[]);else if(b==="number"){var K=Ywe(I,i.filter(function(U){var D,W,Q=o in U.props?U.props[o]:(D=U.type.defaultProps)===null||D===void 0?void 0:D[o],ce="hide"in U.props?U.props.hide:(W=U.type.defaultProps)===null||W===void 0?void 0:W.hide;return Q===O&&(A||!ce)}),g,a,d);K&&(R=K)}m&&(b==="number"||j!=="auto")&&(q=Sf(I,g,"category"))}else m?R=Gv(0,C):s&&s[O]&&s[O].hasStack&&b==="number"?R=h==="expand"?[0,1]:A9(s[O].stackGroups,c,u):R=v9(I,i.filter(function(U){var D=o in U.props?U.props[o]:U.type.defaultProps[o],W="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return D===O&&(A||!W)}),b,d,!0);if(b==="number")R=nA(f,R,O,a,E),V&&(R=yw(V,R,T));else if(b==="category"&&V){var z=V,ee=R.every(function(U){return z.indexOf(U)>=0});ee&&(R=z)}}return J(J({},v),{},je({},O,J(J({},_),{},{axisType:a,domain:R,categoricalDomain:q,duplicateDomain:P,originalDomain:(x=_.domain)!==null&&x!==void 0?x:L,isCategorical:m,layout:d})))},{})},kIe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=ob(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=y9(d,a),y=-1;return r.reduce(function(x,_){var b=_.type.defaultProps!==void 0?J(J({},_.type.defaultProps),_.props):_.props,g=b[o],T=B8("number");if(!x[g]){y++;var w;return v?w=Gv(0,m):s&&s[g]&&s[g].hasStack?(w=A9(s[g].stackGroups,c,u),w=nA(f,w,g,a)):(w=yw(T,v9(h,r.filter(function(j){var E,A,O=o in j.props?j.props[o]:(E=j.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===g&&!I}),"number",d),i.defaultProps.allowDataOverflow),w=nA(f,w,g,a)),J(J({},x),{},je({},g,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:zr(OIe,"".concat(a,".").concat(y%2),null),domain:w,originalDomain:T,isCategorical:v,layout:d})))}return x},{})},RIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Fr(d,a),m={};return h&&h.length?m=PIe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=kIe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),m},MIe=function(e){var n=go(e),r=Sa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:A2(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Rv(n,r)}},kR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Nr(n,mu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},DIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ca(n&&n.type);return r&&r.indexOf("Bar")>=0})},RR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Ie=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,c=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},m=Nr(f,mu),v=Nr(f,Nc),y=Object.keys(c).reduce(function(w,j){var E=c[j],A=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},je({},A,w[A]+E.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,j){var E=o[j],A=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},je({},A,zr(w,"".concat(A))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),_=J(J({},x),y),b=_.bottom;m&&(_.bottom+=m.props.height||mu.defaultProps.height),v&&n&&(_=Kwe(_,i,r,n));var g=u-_.left-_.right,T=d-_.top-_.bottom;return J(J({brushBottom:b},_),{},{width:Math.max(g,0),height:Math.max(T,0)})},LIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},sb=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(_,b){var g=b.graphicalItems,T=b.stackGroups,w=b.offset,j=b.updateId,E=b.dataStartIndex,A=b.dataEndIndex,O=_.barSize,I=_.layout,C=_.barGap,R=_.barCategoryGap,P=_.maxBarSize,q=RR(I),L=q.numericAxisName,B=q.cateAxisName,V=DIe(g),H=[];return g.forEach(function(K,z){var ee=ob(_.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:A}),U=K.type.defaultProps!==void 0?J(J({},K.type.defaultProps),K.props):K.props,D=U.dataKey,W=U.maxBarSize,Q=U["".concat(L,"Id")],ce=U["".concat(B,"Id")],de={},me=c.reduce(function(F,X){var ue=b["".concat(X.axisType,"Map")],Se=U["".concat(X.axisType,"Id")];ue&&ue[Se]||X.axisType==="zAxis"||dl();var ye=ue[Se];return J(J({},F),{},je(je({},X.axisType,ye),"".concat(X.axisType,"Ticks"),Sa(ye)))},de),ae=me[B],ge=me["".concat(B,"Ticks")],be=T&&T[Q]&&T[Q].hasStack&&aAe(K,T[Q].stackGroups),te=Ca(K.type).indexOf("Bar")>=0,Ae=Rv(ae,ge),ve=[],_e=V&&Gwe({barSize:O,stackGroups:T,totalSize:LIe(me,B)});if(te){var Ce,We,jt=Re(W)?P:W,Rt=(Ce=(We=Rv(ae,ge,!0))!==null&&We!==void 0?We:jt)!==null&&Ce!==void 0?Ce:0;ve=Wwe({barGap:C,barCategoryGap:R,bandSize:Rt!==Ae?Rt:Ae,sizeList:_e[ce],maxBarSize:jt}),Rt!==Ae&&(ve=ve.map(function(F){return J(J({},F),{},{position:J(J({},F.position),{},{offset:F.position.offset-Rt/2})})}))}var pn=K&&K.type&&K.type.getComposedData;pn&&H.push({props:J(J({},pn(J(J({},me),{},{displayedData:ee,props:_,dataKey:D,item:K,bandSize:Ae,barPosition:ve,offset:w,stackedData:be,layout:I,dataStartIndex:E,dataEndIndex:A}))),{},je(je(je({key:K.key||"item-".concat(z)},L,me[L]),B,me[B]),"animationId",j)),childIndex:Wce(K,_.children),item:K})}),H},m=function(_,b){var g=_.props,T=_.dataStartIndex,w=_.dataEndIndex,j=_.updateId;if(!KC({props:g}))return null;var E=g.children,A=g.layout,O=g.stackOffset,I=g.data,C=g.reverseStackOrder,R=RR(A),P=R.numericAxisName,q=R.cateAxisName,L=Fr(E,r),B=rAe(I,L,"".concat(P,"Id"),"".concat(q,"Id"),O,C),V=c.reduce(function(U,D){var W="".concat(D.axisType,"Map");return J(J({},U),{},je({},W,RIe(g,J(J({},D),{},{graphicalItems:L,stackGroups:D.axisType===P&&B,dataStartIndex:T,dataEndIndex:w}))))},{}),H=$Ie(J(J({},V),{},{props:g,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(U){V[U]=d(g,V[U],H,U.replace("Map",""),n)});var K=V["".concat(q,"Map")],z=MIe(K),ee=h(g,J(J({},V),{},{dataStartIndex:T,dataEndIndex:w,updateId:j,graphicalItems:L,stackGroups:B,offset:H}));return J(J({formattedGraphicalItems:ee,graphicalItems:L,offset:H,stackGroups:B},z),V)},v=function(x){function _(b){var g,T,w;return vIe(this,_),w=xIe(this,_,[b]),je(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(w,"accessibilityManager",new rIe),je(w,"handleLegendBBoxUpdate",function(j){if(j){var E=w.state,A=E.dataStartIndex,O=E.dataEndIndex,I=E.updateId;w.setState(J({legendBBox:j},m({props:w.props,dataStartIndex:A,dataEndIndex:O,updateId:I},J(J({},w.state),{},{legendBBox:j}))))}}),je(w,"handleReceiveSyncEvent",function(j,E,A){if(w.props.syncId===j){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),je(w,"handleBrushChange",function(j){var E=j.startIndex,A=j.endIndex;if(E!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var O=w.state.updateId;w.setState(function(){return J({dataStartIndex:E,dataEndIndex:A},m({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:O},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),je(w,"handleMouseEnter",function(j){var E=w.getMouseInfo(j);if(E){var A=J(J({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var O=w.props.onMouseEnter;Oe(O)&&O(A,j)}}),je(w,"triggeredAfterMouseMove",function(j){var E=w.getMouseInfo(j),A=E?J(J({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var O=w.props.onMouseMove;Oe(O)&&O(A,j)}),je(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),je(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),je(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),je(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseLeave;Oe(A)&&A(E,j)}),je(w,"handleOuterEvent",function(j){var E=Gce(j),A=zr(w.props,"".concat(E));if(E&&Oe(A)){var O,I;/.*touch.*/i.test(E)?I=w.getMouseInfo(j.changedTouches[0]):I=w.getMouseInfo(j),A((O=I)!==null&&O!==void 0?O:{},j)}}),je(w,"handleClick",function(j){var E=w.getMouseInfo(j);if(E){var A=J(J({},E),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var O=w.props.onClick;Oe(O)&&O(A,j)}}),je(w,"handleMouseDown",function(j){var E=w.props.onMouseDown;if(Oe(E)){var A=w.getMouseInfo(j);E(A,j)}}),je(w,"handleMouseUp",function(j){var E=w.props.onMouseUp;if(Oe(E)){var A=w.getMouseInfo(j);E(A,j)}}),je(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),je(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),je(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),je(w,"handleDoubleClick",function(j){var E=w.props.onDoubleClick;if(Oe(E)){var A=w.getMouseInfo(j);E(A,j)}}),je(w,"handleContextMenu",function(j){var E=w.props.onContextMenu;if(Oe(E)){var A=w.getMouseInfo(j);E(A,j)}}),je(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&Zx.emit(Jx,w.props.syncId,j,w.eventEmitterSymbol)}),je(w,"applySyncEvent",function(j){var E=w.props,A=E.layout,O=E.syncMethod,I=w.state.updateId,C=j.dataStartIndex,R=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(J({dataStartIndex:C,dataEndIndex:R},m({props:w.props,dataStartIndex:C,dataEndIndex:R,updateId:I},w.state)));else if(j.activeTooltipIndex!==void 0){var P=j.chartX,q=j.chartY,L=j.activeTooltipIndex,B=w.state,V=B.offset,H=B.tooltipTicks;if(!V)return;if(typeof O=="function")L=O(H,j);else if(O==="value"){L=-1;for(var K=0;K<H.length;K++)if(H[K].value===j.activeLabel){L=K;break}}var z=J(J({},V),{},{x:V.left,y:V.top}),ee=Math.min(P,z.x+z.width),U=Math.min(q,z.y+z.height),D=H[L]&&H[L].value,W=aA(w.state,w.props.data,L),Q=H[L]?{x:A==="horizontal"?H[L].coordinate:ee,y:A==="horizontal"?U:H[L].coordinate}:L8;w.setState(J(J({},j),{},{activeLabel:D,activeCoordinate:Q,activePayload:W,activeTooltipIndex:L}))}else w.setState(j)}),je(w,"renderCursor",function(j){var E,A=w.state,O=A.isTooltipActive,I=A.activeCoordinate,C=A.activePayload,R=A.offset,P=A.activeTooltipIndex,q=A.tooltipAxisBandSize,L=w.getTooltipEventType(),B=(E=j.props.active)!==null&&E!==void 0?E:O,V=w.props.layout,H=j.key||"_recharts-cursor";return $.createElement(uIe,{key:H,activeCoordinate:I,activePayload:C,activeTooltipIndex:P,chartName:n,element:j,isActive:B,layout:V,offset:R,tooltipAxisBandSize:q,tooltipEventType:L})}),je(w,"renderPolarAxis",function(j,E,A){var O=zr(j,"type.axisType"),I=zr(w.state,"".concat(O,"Map")),C=j.type.defaultProps,R=C!==void 0?J(J({},C),j.props):j.props,P=I&&I[R["".concat(O,"Id")]];return k.cloneElement(j,J(J({},P),{},{className:$e(O,P.className),key:j.key||"".concat(E,"-").concat(A),ticks:Sa(P,!0)}))}),je(w,"renderPolarGrid",function(j){var E=j.props,A=E.radialLines,O=E.polarAngles,I=E.polarRadius,C=w.state,R=C.radiusAxisMap,P=C.angleAxisMap,q=go(R),L=go(P),B=L.cx,V=L.cy,H=L.innerRadius,K=L.outerRadius;return k.cloneElement(j,{polarAngles:Array.isArray(O)?O:Sa(L,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(I)?I:Sa(q,!0).map(function(z){return z.coordinate}),cx:B,cy:V,innerRadius:H,outerRadius:K,key:j.key||"polar-grid",radialLines:A})}),je(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,E=w.props,A=E.children,O=E.width,I=E.height,C=w.props.margin||{},R=O-(C.left||0)-(C.right||0),P=m9({children:A,formattedGraphicalItems:j,legendWidth:R,legendContent:u});if(!P)return null;var q=P.item,L=CR(P,dIe);return k.cloneElement(q,J(J({},L),{},{chartWidth:O,chartHeight:I,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),je(w,"renderTooltip",function(){var j,E=w.props,A=E.children,O=E.accessibilityLayer,I=Nr(A,Jn);if(!I)return null;var C=w.state,R=C.isTooltipActive,P=C.activeCoordinate,q=C.activePayload,L=C.activeLabel,B=C.offset,V=(j=I.props.active)!==null&&j!==void 0?j:R;return k.cloneElement(I,{viewBox:J(J({},B),{},{x:B.left,y:B.top}),active:V,label:L,payload:V?q:[],coordinate:P,accessibilityLayer:O})}),je(w,"renderBrush",function(j){var E=w.props,A=E.margin,O=E.data,I=w.state,C=I.offset,R=I.dataStartIndex,P=I.dataEndIndex,q=I.updateId;return k.cloneElement(j,{key:j.key||"_recharts-brush",onChange:jm(w.handleBrushChange,j.props.onChange),data:O,x:oe(j.props.x)?j.props.x:C.left,y:oe(j.props.y)?j.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:oe(j.props.width)?j.props.width:C.width,startIndex:R,endIndex:P,updateId:"brush-".concat(q)})}),je(w,"renderReferenceElement",function(j,E,A){if(!j)return null;var O=w,I=O.clipPathId,C=w.state,R=C.xAxisMap,P=C.yAxisMap,q=C.offset,L=j.type.defaultProps||{},B=j.props,V=B.xAxisId,H=V===void 0?L.xAxisId:V,K=B.yAxisId,z=K===void 0?L.yAxisId:K;return k.cloneElement(j,{key:j.key||"".concat(E,"-").concat(A),xAxis:R[H],yAxis:P[z],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:I})}),je(w,"renderActivePoints",function(j){var E=j.item,A=j.activePoint,O=j.basePoint,I=j.childIndex,C=j.isRange,R=[],P=E.props.key,q=E.item.type.defaultProps!==void 0?J(J({},E.item.type.defaultProps),E.item.props):E.item.props,L=q.activeDot,B=q.dataKey,V=J(J({index:I,dataKey:B,cx:A.x,cy:A.y,r:4,fill:X2(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},xe(L,!1)),ov(L));return R.push(_.renderActiveDot(L,V,"".concat(P,"-activePoint-").concat(I))),O?R.push(_.renderActiveDot(L,J(J({},V),{},{cx:O.x,cy:O.y}),"".concat(P,"-basePoint-").concat(I))):C&&R.push(null),R}),je(w,"renderGraphicChild",function(j,E,A){var O=w.filterFormatItem(j,E,A);if(!O)return null;var I=w.getTooltipEventType(),C=w.state,R=C.isTooltipActive,P=C.tooltipAxis,q=C.activeTooltipIndex,L=C.activeLabel,B=w.props.children,V=Nr(B,Jn),H=O.props,K=H.points,z=H.isRange,ee=H.baseLine,U=O.item.type.defaultProps!==void 0?J(J({},O.item.type.defaultProps),O.item.props):O.item.props,D=U.activeDot,W=U.hide,Q=U.activeBar,ce=U.activeShape,de=!!(!W&&R&&V&&(D||Q||ce)),me={};I!=="axis"&&V&&V.props.trigger==="click"?me={onClick:jm(w.handleItemMouseEnter,j.props.onClick)}:I!=="axis"&&(me={onMouseLeave:jm(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:jm(w.handleItemMouseEnter,j.props.onMouseEnter)});var ae=k.cloneElement(j,J(J({},O.props),me));function ge(X){return typeof P.dataKey=="function"?P.dataKey(X.payload):null}if(de)if(q>=0){var be,te;if(P.dataKey&&!P.allowDuplicatedCategory){var Ae=typeof P.dataKey=="function"?ge:"payload.".concat(P.dataKey.toString());be=av(K,Ae,L),te=z&&ee&&av(ee,Ae,L)}else be=K==null?void 0:K[q],te=z&&ee&&ee[q];if(ce||Q){var ve=j.props.activeIndex!==void 0?j.props.activeIndex:q;return[k.cloneElement(j,J(J(J({},O.props),me),{},{activeIndex:ve})),null,null]}if(!Re(be))return[ae].concat(Tu(w.renderActivePoints({item:O,activePoint:be,basePoint:te,childIndex:q,isRange:z})))}else{var _e,Ce=(_e=w.getItemByXY(w.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:ae},We=Ce.graphicalItem,jt=We.item,Rt=jt===void 0?j:jt,pn=We.childIndex,F=J(J(J({},O.props),me),{},{activeIndex:pn});return[k.cloneElement(Rt,F),null,null]}return z?[ae,null,null]:[ae,null]}),je(w,"renderCustomized",function(j,E,A){return k.cloneElement(j,J(J({key:"recharts-customized-".concat(A)},w.props),w.state))}),je(w,"renderMap",{CartesianGrid:{handler:Pm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Pm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Pm},YAxis:{handler:Pm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((g=b.id)!==null&&g!==void 0?g:Tl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=pB(w.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),w.state={},w}return AIe(_,x),bIe(_,[{key:"componentDidMount",value:function(){var g,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,T=g.children,w=g.data,j=g.height,E=g.layout,A=Nr(T,Jn);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,C=aA(this.state,w,O,I),R=this.state.tooltipTicks[O].coordinate,P=(this.state.offset.top+j)/2,q=E==="horizontal",L=q?{x:R,y:P}:{y:R,x:P},B=this.state.formattedGraphicalItems.find(function(H){var K=H.item;return K.type.name==="Scatter"});B&&(L=J(J({},L),B.props.points[O].tooltipPosition),C=B.props.points[O].tooltipPayload);var V={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:I,activePayload:C,activeCoordinate:L};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(g){k_([Nr(g.children,Jn)],[Nr(this.props.children,Jn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=Nr(this.props.children,Jn);if(g&&typeof g.props.shared=="boolean"){var T=g.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var T=this.container,w=T.getBoundingClientRect(),j=bbe(w),E={chartX:Math.round(g.pageX-j.left),chartY:Math.round(g.pageY-j.top)},A=w.width/T.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,A);if(!O)return null;var I=this.state,C=I.xAxisMap,R=I.yAxisMap,P=this.getTooltipEventType(),q=PR(this.state,this.props.data,this.props.layout,O);if(P!=="axis"&&C&&R){var L=go(C).scale,B=go(R).scale,V=L&&L.invert?L.invert(E.chartX):null,H=B&&B.invert?B.invert(E.chartY):null;return J(J({},E),{},{xValue:V,yValue:H},q)}return q?J(J({},E),q):null}},{key:"inRange",value:function(g,T){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,E=g/w,A=T/w;if(j==="horizontal"||j==="vertical"){var O=this.state.offset,I=E>=O.left&&E<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return I?{x:E,y:A}:null}var C=this.state,R=C.angleAxisMap,P=C.radiusAxisMap;if(R&&P){var q=go(R);return rk({x:E,y:A},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,T=this.getTooltipEventType(),w=Nr(g,Jn),j={};w&&T==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=ov(this.props,this.handleOuterEvent);return J(J({},E),j)}},{key:"addListener",value:function(){Zx.on(Jx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zx.removeListener(Jx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,T,w){for(var j=this.state.formattedGraphicalItems,E=0,A=j.length;E<A;E++){var O=j[E];if(O.item===g||O.props.key===g.key||T===Ca(O.item.type)&&w===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,T=this.state.offset,w=T.left,j=T.top,E=T.height,A=T.width;return $.createElement("defs",null,$.createElement("clipPath",{id:g},$.createElement("rect",{x:w,y:j,height:E,width:A})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(T,w){var j=NR(w,2),E=j[0],A=j[1];return J(J({},T),{},je({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(T,w){var j=NR(w,2),E=j[0],A=j[1];return J(J({},T),{},je({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[g])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(g){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[g])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(g){var T=this.state,w=T.formattedGraphicalItems,j=T.activeItem;if(w&&w.length)for(var E=0,A=w.length;E<A;E++){var O=w[E],I=O.props,C=O.item,R=C.type.defaultProps!==void 0?J(J({},C.type.defaultProps),C.props):C.props,P=Ca(C.type);if(P==="Bar"){var q=(I.data||[]).find(function(H){return YEe(g,H)});if(q)return{graphicalItem:O,payload:q}}else if(P==="RadialBar"){var L=(I.data||[]).find(function(H){return rk(g,H)});if(L)return{graphicalItem:O,payload:L}}else if(J0(O,j)||eb(O,j)||Oh(O,j)){var B=BTe({graphicalItem:O,activeTooltipItem:j,itemData:R.data}),V=R.activeIndex===void 0?B:R.activeIndex;return{graphicalItem:J(J({},O),{},{childIndex:V}),payload:Oh(O,j)?R.data[B]:O.props.data[B]}}}return null}},{key:"render",value:function(){var g=this;if(!KC(this))return null;var T=this.props,w=T.children,j=T.className,E=T.width,A=T.height,O=T.style,I=T.compact,C=T.title,R=T.desc,P=CR(T,fIe),q=xe(P,!1);if(I)return $.createElement(cR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(M_,mc({},q,{width:E,height:A,title:C,desc:R}),this.renderClipPath(),YC(w,this.renderMap)));if(this.props.accessibilityLayer){var L,B;q.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,q.role=(B=this.props.role)!==null&&B!==void 0?B:"application",q.onKeyDown=function(H){g.accessibilityManager.keyboardEvent(H)},q.onFocus=function(){g.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return $.createElement(cR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",mc({className:$e("recharts-wrapper",j),style:J({position:"relative",cursor:"default",width:E,height:A},O)},V,{ref:function(K){g.container=K}}),$.createElement(M_,mc({},q,{width:E,height:A,title:C,desc:R,style:NIe}),this.renderClipPath(),YC(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);je(v,"displayName",n),je(v,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),je(v,"getDerivedStateFromProps",function(x,_){var b=x.dataKey,g=x.data,T=x.children,w=x.width,j=x.height,E=x.layout,A=x.stackOffset,O=x.margin,I=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var R=kR(x);return J(J(J({},R),{},{updateId:0},m(J(J({props:x},R),{},{updateId:0}),_)),{},{prevDataKey:b,prevData:g,prevWidth:w,prevHeight:j,prevLayout:E,prevStackOffset:A,prevMargin:O,prevChildren:T})}if(b!==_.prevDataKey||g!==_.prevData||w!==_.prevWidth||j!==_.prevHeight||E!==_.prevLayout||A!==_.prevStackOffset||!Oc(O,_.prevMargin)){var P=kR(x),q={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},L=J(J({},PR(_,g,E)),{},{updateId:_.updateId+1}),B=J(J(J({},P),q),L);return J(J(J({},B),m(J({props:x},B),_)),{},{prevDataKey:b,prevData:g,prevWidth:w,prevHeight:j,prevLayout:E,prevStackOffset:A,prevMargin:O,prevChildren:T})}if(!k_(T,_.prevChildren)){var V,H,K,z,ee=Nr(T,mu),U=ee&&(V=(H=ee.props)===null||H===void 0?void 0:H.startIndex)!==null&&V!==void 0?V:I,D=ee&&(K=(z=ee.props)===null||z===void 0?void 0:z.endIndex)!==null&&K!==void 0?K:C,W=U!==I||D!==C,Q=!Re(g),ce=Q&&!W?_.updateId:_.updateId+1;return J(J({updateId:ce},m(J(J({props:x},_),{},{updateId:ce,dataStartIndex:U,dataEndIndex:D}),_)),{},{prevChildren:T,dataStartIndex:U,dataEndIndex:D})}return null}),je(v,"renderActiveDot",function(x,_,b){var g;return k.isValidElement(x)?g=k.cloneElement(x,_):Oe(x)?g=x(_):g=$.createElement(wp,_),$.createElement(He,{className:"recharts-active-dot",key:b},g)});var y=k.forwardRef(function(_,b){return $.createElement(v,mc({},_,{ref:b}))});return y.displayName=v.displayName,y},BIe=sb({chartName:"LineChart",GraphicalChild:Ap,axisComponents:[{axisType:"xAxis",AxisComp:Xo},{axisType:"yAxis",AxisComp:Yo}],formatAxisMap:Q2}),UIe=sb({chartName:"BarChart",GraphicalChild:Cl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xo},{axisType:"yAxis",AxisComp:Yo}],formatAxisMap:Q2}),oA=sb({chartName:"PieChart",GraphicalChild:Ni,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Z0},{axisType:"radiusAxis",AxisComp:Y0}],formatAxisMap:mAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),VIe=sb({chartName:"AreaChart",GraphicalChild:us,axisComponents:[{axisType:"xAxis",AxisComp:Xo},{axisType:"yAxis",AxisComp:Yo}],formatAxisMap:Q2});const zIe=({isOpen:t,onClose:e,onItemClick:n})=>{var w;const[r,i]=k.useState([]),[a,o]=k.useState(!1),[s,c]=k.useState(null),[u,d]=k.useState(!1),[f,h]=k.useState(!1),[m,v]=k.useState(null);zu();const y=k.useRef(null);k.useEffect(()=>{t&&x()},[t]);const x=async()=>{o(!0);try{const j=An(et,"items"),E=er(j,Gn("status","==","sold"),Gn("saleType","==","online"),Gn("fulfillmentMethod","==","shipping")),A=await Pn(E),O=[];A.forEach(I=>{var R,P,q,L;const C=I.data();C.shippedAt&&O.push({id:I.id,...C,createdAt:((R=C.createdAt)==null?void 0:R.toDate())||new Date,soldAt:((P=C.soldAt)==null?void 0:P.toDate())||new Date,shippedAt:(q=C.shippedAt)==null?void 0:q.toDate(),barcodeGeneratedAt:(L=C.barcodeGeneratedAt)==null?void 0:L.toDate()})}),O.sort((I,C)=>{const R=I.shippedAt||I.soldAt||I.createdAt;return(C.shippedAt||C.soldAt||C.createdAt).getTime()-R.getTime()}),i(O)}catch(j){console.error("Error fetching shipped items:",j)}finally{o(!1)}},_=j=>{v(j),h(!0)},b=j=>{n&&n(j)},g=j=>{var A,O,I;if(!j.buyerInfo||!j.trackingNumber)return;const E=window.open("","_blank");E&&(E.document.write(`
      <html>
        <head>
          <title>Shipping Label - ${j.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.4;
            }
            .shipping-label {
              border: 2px solid #000;
              padding: 20px;
              max-width: 600px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 1px solid #000;
              padding-bottom: 15px;
              margin-bottom: 15px;
            }
            .section {
              margin: 15px 0;
            }
            .section-title {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              text-transform: uppercase;
            }
            .address-block {
              border: 1px solid #000;
              padding: 10px;
              margin: 10px 0;
            }
            .tracking-section {
              text-align: center;
              margin: 20px 0;
            }
            .item-details {
              background-color: #f5f5f5;
              padding: 10px;
              margin: 10px 0;
            }
          </style>
        </head>
        <body>
          <div class="shipping-label">
            <div class="header">
              <h2>Summit Gear Exchange</h2>
              <p>Shipping Label - REPRINT</p>
            </div>
            
            <div class="section">
              <div class="section-title">Ship To:</div>
              <div class="address-block">
                <strong>${j.buyerInfo.name}</strong><br>
                ${j.buyerInfo.address}<br>
                ${j.buyerInfo.city}, ${j.buyerInfo.zipCode}<br>
                Phone: ${j.buyerInfo.phone}<br>
                Email: ${j.buyerInfo.email}
              </div>
            </div>

            <div class="section">
              <div class="section-title">Ship From:</div>
              <div class="address-block">
                <strong>Summit Gear Exchange</strong><br>
                123 Mountain View Drive<br>
                Boulder, CO 80301<br>
                Phone: (303) 555-0123
              </div>
            </div>

            <div class="tracking-section">
              <div class="section-title">Tracking Number:</div>
              <h3>${j.trackingNumber}</h3>
              ${j.barcodeImageUrl?`<img src="${j.barcodeImageUrl}" alt="Tracking Barcode" />`:""}
            </div>

            <div class="item-details">
              <div class="section-title">Item Details:</div>
              <strong>Item:</strong> ${j.title}<br>
              <strong>Price:</strong> $${j.soldPrice||j.price}<br>
              <strong>Category:</strong> ${j.category||"N/A"}<br>
              <strong>Brand:</strong> ${j.brand||"N/A"}<br>
              <strong>Size:</strong> ${j.size||"N/A"}<br>
              <strong>Order Date:</strong> ${((A=j.soldAt)==null?void 0:A.toLocaleDateString())||"N/A"}<br>
              <strong>Shipped Date:</strong> ${((O=j.shippedAt)==null?void 0:O.toLocaleDateString())||"N/A"}
            </div>

            <div class="section">
              <div class="section-title">Shipping Status:</div>
              <p> SHIPPED - ${(I=j.shippedAt)==null?void 0:I.toLocaleDateString()}</p>
            </div>
          </div>
        </body>
      </html>
    `),E.document.close(),E.focus(),E.print())},T=j=>`$${j.toFixed(2)}`;return t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shipped Items"}),l.jsxs("p",{className:"text-gray-600 mt-1",children:["Online orders that have been shipped (",r.length,")"]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Shipped Items"}),l.jsx("p",{className:"text-gray-600",children:"No online orders have been shipped yet."})]}):l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipped Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(j=>{var E,A,O;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[j.images&&j.images[0]&&l.jsx("img",{className:"h-12 w-12 rounded-lg object-cover mr-3",src:j.images[0],alt:j.title}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:j.title}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),l.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Shipped"})]})]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900",children:j.sellerName}),l.jsx("div",{className:"text-xs text-gray-500",children:j.sellerEmail})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900",children:((E=j.buyerInfo)==null?void 0:E.name)||"N/A"}),l.jsx("div",{className:"text-xs text-gray-500",children:((A=j.buyerInfo)==null?void 0:A.email)||"N/A"})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:T(j.soldPrice||j.price)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900",children:j.trackingNumber||"N/A"}),j.trackingNumber&&l.jsxs("div",{className:"text-xs text-gray-500",children:["Track: TRK-",j.trackingNumber.slice(-4)]})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((O=j.shippedAt)==null?void 0:O.toLocaleDateString())||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("button",{onClick:()=>b(j),className:"text-orange-600 hover:text-orange-900 text-xs",children:"View Details"}),j.barcodeImageUrl&&l.jsx("button",{onClick:()=>_(j),className:"text-blue-600 hover:text-blue-900 text-xs",children:"View Barcode"}),l.jsx("button",{onClick:()=>g(j),className:"text-green-600 hover:text-green-900 text-xs",children:"Reprint Label"})]})})]},j.id)})})]})})})}),l.jsx("canvas",{ref:y,style:{display:"none"}})]})}),f&&m&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Item Barcode"}),l.jsx("p",{className:"text-gray-600",children:m.title})]}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 text-center",children:m.barcodeImageUrl?l.jsxs("div",{className:"space-y-4",children:[l.jsx("img",{src:m.barcodeImageUrl,alt:"Item Barcode",className:"mx-auto border border-gray-200 rounded-lg p-4 bg-white"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Barcode ID:"})," ",m.barcodeData]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Generated:"})," ",(w=m.barcodeGeneratedAt)==null?void 0:w.toLocaleDateString()]})]})]}):l.jsxs("div",{className:"py-8",children:[l.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:""}),l.jsx("p",{className:"text-gray-500",children:"No barcode image available"})]})})]})})]}):null},FIe=({isOpen:t,onClose:e,user:n,refreshTrigger:r=0,onItemClick:i})=>{const[a,o]=k.useState(!1),[s,c]=k.useState([]),[u,d]=k.useState(!1);k.useEffect(()=>{t&&f()},[t,r]);const f=async()=>{o(!0);try{const x=An(et,"items");let _=er(x,Gn("status","==","sold"),Gn("saleType","==","online"),Gn("fulfillmentMethod","==","shipping"));const b=await Pn(_),g=[];b.forEach(T=>{var j,E,A,O,I,C;const w=T.data();w.shippedAt||g.push({id:T.id,...w,createdAt:((j=w.createdAt)==null?void 0:j.toDate())||new Date,approvedAt:(E=w.approvedAt)==null?void 0:E.toDate(),liveAt:(A=w.liveAt)==null?void 0:A.toDate(),soldAt:((O=w.soldAt)==null?void 0:O.toDate())||new Date,shippedAt:(I=w.shippedAt)==null?void 0:I.toDate(),deliveredAt:(C=w.deliveredAt)==null?void 0:C.toDate()})}),g.sort((T,w)=>{const j=T.soldAt||T.createdAt;return(w.soldAt||w.createdAt).getTime()-j.getTime()}),c(g)}catch(x){console.error("Error fetching unshipped items:",x)}finally{o(!1)}},h=async x=>{if(x.id){d(!0);try{const _=`TRK${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,b=rr(et,"items",x.id);await Rr(b,{shippedAt:new Date,trackingNumber:_,shippingLabelGenerated:!0}),await At(n,"item_shipped",`Item marked as shipped with tracking ${_}`,x.id,x.title),c(g=>g.filter(T=>T.id!==x.id))}catch(_){console.error("Error marking item as shipped:",_)}finally{d(!1)}}},m=x=>{i&&i(x)},v=x=>`$${x.toFixed(2)}`,y=x=>x.toLocaleDateString();return s.reduce((x,_)=>x+(_.soldPrice||_.price),0),s.reduce((x,_)=>{const b=_.soldPrice||_.price;return x+b*.25},0),s.reduce((x,_)=>{const b=_.soldPrice||_.price;return x+b*.75},0),t?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Unshipped Items"}),l.jsx("p",{className:"text-gray-600",children:"Online orders awaiting shipment"})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Items Awaiting Shipment (",s.length,")"]}),s.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),l.jsx("p",{className:"text-gray-500 text-lg",children:"No items awaiting shipment"}),l.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All online orders have been shipped or are store pickups"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Pending"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(x=>{const _=x.soldPrice||x.price,b=Math.floor((new Date().getTime()-(x.soldAt||new Date).getTime())/(1e3*60*60*24));return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[x.images&&x.images[0]&&l.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:x.images[0],alt:x.title}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:x.title}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),l.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Awaiting Shipment"})]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.sellerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.buyerInfo?x.buyerInfo.name:"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:v(_)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(x.soldAt||new Date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b>3?"bg-red-100 text-red-800":b>1?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[b," day",b!==1?"s":""]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[l.jsx("button",{onClick:()=>m(x),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"}),l.jsx("button",{onClick:()=>h(x),disabled:u,className:"text-orange-600 hover:text-orange-900 font-medium disabled:text-gray-400",children:u?"Shipping...":"Mark Shipped"})]})]},x.id)})})]})})]})})})]})}):null},HIe=({user:t,isAdmin:e})=>{const[n,r]=k.useState("dashboard"),[i,a]=k.useState(!0),[o,s]=k.useState(null),[c,u]=k.useState([]),[d,f]=k.useState([]),[h,m]=k.useState(null),[v,y]=k.useState(null),[x,_]=k.useState(!1),[b,g]=k.useState(!1),[T,w]=k.useState(!1),j=["#64748b","#94a3b8","#cbd5e1","#e2e8f0","#f1f5f9"];k.useEffect(()=>{n==="dashboard"?E():n==="users"&&e?A():n==="sold"?O():n==="shipped"&&e?g(!0):n==="unshipped"&&e&&w(!0)},[n,t,e]);const E=async()=>{a(!0);try{const L=An(et,"items"),B=await Pn(L),V=[];B.forEach(U=>{var W,Q,ce,de;const D=U.data();V.push({id:U.id,...D,createdAt:((W=D.createdAt)==null?void 0:W.toDate())||new Date,approvedAt:(Q=D.approvedAt)==null?void 0:Q.toDate(),liveAt:(ce=D.liveAt)==null?void 0:ce.toDate(),soldAt:(de=D.soldAt)==null?void 0:de.toDate()})});const H=An(et,"users"),K=await Pn(H),z=[];K.forEach(U=>{z.push({id:U.id,...U.data()})});const ee=I(V,z);s(ee)}catch(L){console.error("Error fetching dashboard data:",L)}finally{a(!1)}},A=async()=>{a(!0);try{const L=[],B=new Map,V=An(et,"items");(await Pn(V)).forEach(K=>{var D,W,Q,ce;const z={id:K.id,...K.data(),createdAt:((D=K.data().createdAt)==null?void 0:D.toDate())||new Date,approvedAt:(W=K.data().approvedAt)==null?void 0:W.toDate(),liveAt:(Q=K.data().liveAt)==null?void 0:Q.toDate(),soldAt:(ce=K.data().soldAt)==null?void 0:ce.toDate()},ee=z.sellerId;if(!B.has(ee)){const de={uid:ee,email:z.sellerEmail,displayName:z.sellerName,photoURL:""};L.push(de),B.set(ee,{userId:ee,userName:z.sellerName,userEmail:z.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const U=B.get(ee);switch(U.totalItemsListed++,z.status){case"pending":U.pendingItems.push(z);break;case"approved":U.approvedItems.push(z);break;case"live":U.activeItems.push(z);break;case"sold":U.soldItems.push(z),U.totalItemsSold++;const de=z.soldPrice||z.price,me=z.userEarnings||de*.75;U.totalEarnings+=me;break}}),B.forEach(K=>{K.outstandingBalance=K.totalEarnings-K.totalPaid}),u(Array.from(B.values()))}catch(L){console.error("Error fetching user analytics:",L)}finally{a(!1)}},O=async()=>{a(!0);try{const L=An(et,"items"),B=er(L,Gn("status","==","sold")),V=await Pn(B),H=[];V.forEach(K=>{var ee,U,D,W,Q,ce;const z=K.data();H.push({id:K.id,...z,createdAt:((ee=z.createdAt)==null?void 0:ee.toDate())||new Date,approvedAt:(U=z.approvedAt)==null?void 0:U.toDate(),liveAt:(D=z.liveAt)==null?void 0:D.toDate(),soldAt:((W=z.soldAt)==null?void 0:W.toDate())||new Date,barcodeGeneratedAt:(Q=z.barcodeGeneratedAt)==null?void 0:Q.toDate(),printConfirmedAt:(ce=z.printConfirmedAt)==null?void 0:ce.toDate()})}),H.sort((K,z)=>{const ee=K.soldAt||K.createdAt;return(z.soldAt||z.createdAt).getTime()-ee.getTime()}),f(H)}catch(L){console.error("Error fetching sold items:",L)}finally{a(!1)}},I=(L,B)=>{const V=new Date,H=L.filter(de=>de.status==="sold"),K=H.reduce((de,me)=>de+(me.soldPrice||me.price),0),z=new Set(L.map(de=>de.sellerId)),ee=H.length>0?K/H.length:0,U=[];for(let de=11;de>=0;de--){const me=new Date(V.getFullYear(),V.getMonth()-de,1),ae=new Date(me.getFullYear(),me.getMonth(),1),ge=new Date(me.getFullYear(),me.getMonth()+1,0),be=H.filter(Ae=>Ae.soldAt&&Ae.soldAt>=ae&&Ae.soldAt<=ge),te=be.reduce((Ae,ve)=>Ae+(ve.soldPrice||ve.price),0);U.push({month:me.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),revenue:te,items:be.length})}const D=new Map;L.forEach(de=>{const me=de.category||"Uncategorized";D.has(me)||D.set(me,{count:0,revenue:0});const ae=D.get(me);ae.count++,de.status==="sold"&&(ae.revenue+=de.soldPrice||de.price)});const W=Array.from(D.entries()).map(([de,me])=>({category:de,count:me.count,revenue:me.revenue})).sort((de,me)=>me.count-de.count),Q=new Map;L.forEach(de=>{Q.set(de.status,(Q.get(de.status)||0)+1)});const ce=Array.from(Q.entries()).map(([de,me])=>({status:de.charAt(0).toUpperCase()+de.slice(1),count:me,value:me}));return{totalRevenue:K,totalItems:L.length,activeUsers:z.size,avgItemPrice:ee,monthlyRevenue:U,categoryBreakdown:W,statusBreakdown:ce}},C=L=>{const B=new Date().toISOString().split("T")[0];if(L==="csv"){let V="";n==="dashboard"&&o?(V=`Month,Revenue,Items Sold
`,o.monthlyRevenue.forEach(ee=>{V+=`${ee.month},${ee.revenue},${ee.items}
`})):n==="sold"&&(V=`Title,Seller,Original Price,Sold Price,Date Sold
`,d.forEach(ee=>{var U;V+=`"${ee.title}","${ee.sellerName}",${ee.price},${ee.soldPrice||ee.price},"${(U=ee.soldAt)==null?void 0:U.toLocaleDateString()}"
`}));const H=new Blob([V],{type:"text/csv"}),K=window.URL.createObjectURL(H),z=document.createElement("a");z.href=K,z.download=`analytics-${n}-${B}.csv`,z.click(),window.URL.revokeObjectURL(K)}else{let V={};n==="dashboard"?V=o:n==="sold"?V={soldItems:d}:n==="users"&&(V={userAnalytics:c});const H=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),K=window.URL.createObjectURL(H),z=document.createElement("a");z.href=K,z.download=`analytics-${n}-${B}.json`,z.click(),window.URL.revokeObjectURL(K)}},R=L=>`$${L.toFixed(2)}`,P=L=>{y(L),_(!0)},q=()=>{y(null),_(!1)};return l.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive business insights and performance metrics"})]}),l.jsx("div",{className:"border-b border-gray-200 mb-8",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsx("button",{onClick:()=>r("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="dashboard"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dashboard Overview"}),l.jsx("button",{onClick:()=>r("sold"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sold"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sold Items"}),e&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>r("unshipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="unshipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Unshipped Items"}),l.jsx("button",{onClick:()=>r("shipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="shipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Shipped Items"}),l.jsx("button",{onClick:()=>r("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="users"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Analytics"})]})]})}),l.jsxs("div",{className:"mb-6 flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>C("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export CSV"}),l.jsx("button",{onClick:()=>C("json"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export JSON"})]}),i?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-500"})}):l.jsxs(l.Fragment,{children:[n==="dashboard"&&o&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),l.jsx("p",{className:"text-3xl font-bold",children:R(o.totalRevenue)})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Items"}),l.jsx("p",{className:"text-3xl font-bold",children:o.totalItems})]}),l.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Sellers"}),l.jsx("p",{className:"text-3xl font-bold",children:o.activeUsers})]}),l.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg Item Price"}),l.jsx("p",{className:"text-3xl font-bold",children:R(o.avgItemPrice)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),l.jsx(uc,{width:"100%",height:300,children:l.jsxs(VIe,{data:o.monthlyRevenue,children:[l.jsx(ny,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),l.jsx(Xo,{dataKey:"month",stroke:"#64748b"}),l.jsx(Yo,{stroke:"#64748b"}),l.jsx(Jn,{formatter:L=>[R(L),"Revenue"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),l.jsx(us,{type:"monotone",dataKey:"revenue",stroke:"#64748b",fill:"#94a3b8",fillOpacity:.3})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items Sold by Month"}),l.jsx(uc,{width:"100%",height:300,children:l.jsxs(UIe,{data:o.monthlyRevenue,children:[l.jsx(ny,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),l.jsx(Xo,{dataKey:"month",stroke:"#64748b"}),l.jsx(Yo,{stroke:"#64748b"}),l.jsx(Jn,{formatter:L=>[L,"Items Sold"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),l.jsx(Cl,{dataKey:"items",fill:"#64748b"})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),l.jsx(uc,{width:"100%",height:300,children:l.jsxs(oA,{children:[l.jsx(Ni,{data:o.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({category:L,count:B})=>`${L}: ${B}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:o.categoryBreakdown.map((L,B)=>l.jsx(au,{fill:j[B%j.length]},`cell-${B}`))}),l.jsx(Jn,{formatter:L=>[L,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Status Distribution"}),l.jsx(uc,{width:"100%",height:300,children:l.jsxs(oA,{children:[l.jsx(Ni,{data:o.statusBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({status:L,count:B})=>`${L}: ${B}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.statusBreakdown.map((L,B)=>l.jsx(au,{fill:j[B%j.length]},`cell-${B}`))}),l.jsx(Jn,{formatter:L=>[L,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]})]})]}),n==="sold"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),l.jsx("p",{className:"text-3xl font-bold",children:R(d.reduce((L,B)=>L+(B.soldPrice||B.price),0))})]}),l.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Earnings (25%)"}),l.jsx("p",{className:"text-3xl font-bold",children:R(d.reduce((L,B)=>{const V=B.soldPrice||B.price;return L+(B.adminEarnings||V*.25)},0))})]}),l.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Earnings (75%)"}),l.jsx("p",{className:"text-3xl font-bold",children:R(d.reduce((L,B)=>{const V=B.soldPrice||B.price;return L+(B.userEarnings||V*.75)},0))})]}),l.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Items Sold"}),l.jsx("p",{className:"text-3xl font-bold",children:d.length})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sale Types"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["In-Store: ",d.filter(L=>L.saleType==="in-store").length]}),l.jsxs("div",{children:["Online: ",d.filter(L=>L.saleType==="online").length]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["All Sold Items (",d.length,")"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale Type"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barcode"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(L=>{const B=L.soldPrice||L.price;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[L.images&&L.images[0]&&l.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:L.images[0],alt:L.title}),l.jsx("div",{children:l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:L.title})})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.sellerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R(L.price)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:R(B)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:L.saleType==="online"?" Online":" In-Store"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.barcodeData?l.jsx("span",{className:"text-green-600",children:" Generated"}):l.jsx("span",{className:"text-gray-400",children:"No barcode"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(L.soldAt||new Date).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsx("button",{onClick:()=>P(L),className:"text-slate-600 hover:text-slate-900",children:"View Details"})})]},L.id)})})]})})]})]}),n==="users"&&e&&l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["User Performance (",c.length," users)"]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Listed"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Sold"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Earnings"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding Balance"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(L=>{const B=L.totalItemsListed>0?L.totalItemsSold/L.totalItemsListed*100:0;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.userName}),l.jsx("div",{className:"text-sm text-gray-500",children:L.userEmail})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.totalItemsListed}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L.totalItemsSold}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:R(L.totalEarnings)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-600",children:R(L.outstandingBalance)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[B.toFixed(1),"%"]})]},L.userId)})})]})})]})})]}),l.jsx(JE,{isOpen:x,onClose:q,item:v,onItemUpdated:()=>{E(),O()}}),l.jsx(zIe,{isOpen:b,onClose:()=>{g(!1),r("dashboard")},onItemClick:P}),l.jsx(FIe,{isOpen:T,onClose:()=>{w(!1),r("dashboard")},user:t,onItemClick:P})]})})},qIe=({user:t})=>{const[e,n]=k.useState("overview"),[r,i]=k.useState(!0),[a,o]=k.useState(null),[s,c]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState(null),[m,v]=k.useState(!1),[y,x]=k.useState([]),[_,b]=k.useState(!1),[g,T]=k.useState(null),[w,j]=k.useState(!1),[E,A]=k.useState(null);k.useEffect(()=>{t&&I()},[t]),k.useEffect(()=>{const D=()=>{t&&(console.log("Window focused, refreshing purchase history..."),H())};return window.addEventListener("focus",D),()=>window.removeEventListener("focus",D)},[t]),k.useEffect(()=>{const D=W=>{W.key===`purchase_history_${t==null?void 0:t.uid}`&&t&&(console.log("Purchase history changed in localStorage, refreshing..."),H())};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[t]);const O=()=>{if(!t)return[];try{const D=localStorage.getItem(`purchase_history_${t.uid}`);if(D)return JSON.parse(D).map(Q=>({...Q,purchaseDate:new Date(Q.purchaseDate),orderNumber:Q.orderNumber||`ORD-${Q.id.slice(-6)}`,customerInfo:Q.customerInfo||{name:"N/A",email:"N/A",phone:"N/A",address:"N/A",city:"N/A",zipCode:"N/A"},paymentInfo:Q.paymentInfo||{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Q.id.slice(-8)}`},orderStatus:Q.orderStatus||"delivered",estimatedDelivery:Q.estimatedDelivery||new Date(Q.purchaseDate).toISOString(),trackingNumber:Q.trackingNumber||`TRK${Q.id.slice(-8)}`,items:Q.items.map(ce=>({...ce,category:ce.category||"N/A",brand:ce.brand||"N/A",size:ce.size||"N/A",images:ce.images||[]}))}))}catch(D){console.error("Error loading purchase history:",D)}return[]},I=async()=>{if(t){i(!0);try{await C();const D=O();x(D)}catch(D){console.error("Error fetching user data:",D)}finally{i(!1)}}},C=async()=>{if(t)try{const D=An(et,"items");let W,Q=[];try{W=er(D,Gn("sellerId","==",t.uid),lE("createdAt","desc")),(await Pn(W)).forEach(ve=>{var Ce,We,jt,Rt;const _e=ve.data();Q.push({id:ve.id,..._e,createdAt:((Ce=_e.createdAt)==null?void 0:Ce.toDate())||new Date,approvedAt:(We=_e.approvedAt)==null?void 0:We.toDate(),liveAt:(jt=_e.liveAt)==null?void 0:jt.toDate(),soldAt:(Rt=_e.soldAt)==null?void 0:Rt.toDate()})})}catch(Ae){console.warn("Index not ready, using fallback query:",Ae.message),W=er(D,Gn("sellerId","==",t.uid)),(await Pn(W)).forEach(_e=>{var We,jt,Rt,pn;const Ce=_e.data();Q.push({id:_e.id,...Ce,createdAt:((We=Ce.createdAt)==null?void 0:We.toDate())||new Date,approvedAt:(jt=Ce.approvedAt)==null?void 0:jt.toDate(),liveAt:(Rt=Ce.liveAt)==null?void 0:Rt.toDate(),soldAt:(pn=Ce.soldAt)==null?void 0:pn.toDate()})}),Q.sort((_e,Ce)=>{const We=_e.createdAt||new Date(0);return(Ce.createdAt||new Date(0)).getTime()-We.getTime()})}c(Q);const ce=Q.filter(Ae=>Ae.status==="sold"),de=Q.filter(Ae=>Ae.status==="live"),me=Q.filter(Ae=>Ae.status==="pending"),ae=ce.reduce((Ae,ve)=>{const _e=ve.soldPrice||ve.price;return Ae+_e*.75},0),ge=O();x(ge);const be=ge.reduce((Ae,ve)=>Ae+ve.total,0),te=Math.max(0,ae-be*.1);o({totalItemsListed:Q.length,totalItemsSold:ce.length,totalEarnings:ae,storeCredit:te,activeListings:de.length,pendingListings:me.length,totalPurchases:ge.length,totalSpent:be}),d(ce)}catch(D){console.error("Error fetching my listings:",D),c([]),d([]),o({totalItemsListed:0,totalItemsSold:0,totalEarnings:0,storeCredit:0,activeListings:0,pendingListings:0,totalPurchases:0,totalSpent:0})}},R=D=>{h(D),v(!0)},P=()=>{h(null),v(!1)},q=D=>{switch(D){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},L=D=>{switch(D){case"pending":return"Under Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return D}},B=a?[{name:"Sold",value:a.totalItemsSold,color:"#10b981"},{name:"Active",value:a.activeListings,color:"#3b82f6"},{name:"Pending",value:a.pendingListings,color:"#f59e0b"}]:[],V=u.map((D,W)=>{var Q;return{name:`Sale ${W+1}`,earnings:(D.soldPrice||D.price)*.75,date:((Q=D.soldAt)==null?void 0:Q.toLocaleDateString())||"N/A"}}),H=()=>{if(!t)return;console.log("Refreshing purchase history...");const D=O();console.log("Updated purchase history:",D.length,"orders"),x(D);const W=D.reduce((Q,ce)=>Q+ce.total,0);o(Q=>Q?{...Q,totalPurchases:D.length,totalSpent:W}:null)},K=(D,W,Q)=>{T({trackingNumber:D,orderNumber:W,estimatedDelivery:Q}),b(!0)},z=D=>{A(D),j(!0)},ee=()=>{j(!1),A(null)},U=({isOpen:D,onClose:W,item:Q})=>{var ve;const[ce,de]=k.useState("shipping"),[me,ae]=k.useState(!1),[ge,be]=k.useState(!1),te=async()=>{be(!0),await new Promise(Ce=>setTimeout(Ce,2e3));const _e={trackingNumber:`TRK${Date.now().toString().slice(-8)}`,carrier:"FedEx",service:"Ground",estimatedDelivery:new Date(Date.now()+5*24*60*60*1e3).toISOString(),labelUrl:`https://example.com/label/${Date.now()}`,cost:(Math.random()*10+5).toFixed(2)};console.log("Generated shipping label:",_e),ae(!0),be(!1),alert(`Shipping label generated!
Tracking: ${_e.trackingNumber}
Estimated delivery: ${new Date(_e.estimatedDelivery).toLocaleDateString()}`)},Ae=()=>{var jt,Rt,pn,F,X;const _e=window.open("","_blank");if(!_e||!Q)return;const Ce=`TRK${Date.now().toString().slice(-8)}`,We=`
        <html>
          <head>
            <title>Shipping Label - ${Q.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .label-container { border: 2px solid #000; padding: 20px; width: 600px; margin: 0 auto; }
              .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
              .section { margin: 15px 0; }
              .tracking { font-size: 24px; font-weight: bold; text-align: center; margin: 20px 0; padding: 10px; border: 1px solid #000; }
              .barcode { text-align: center; font-family: 'Courier New', monospace; font-size: 12px; margin: 10px 0; }
            </style>
          </head>
          <body>
            <div class="label-container">
              <div class="header">
                <h2>Summit Gear Exchange</h2>
                <p>Shipping Label</p>
              </div>
              <div class="section">
                <strong>FROM:</strong><br>
                Summit Gear Exchange<br>
                123 Mountain View Drive<br>
                Denver, CO 80202<br>
                (555) 123-4567
              </div>
              <div class="section">
                <strong>TO:</strong><br>
                ${((jt=Q.buyerInfo)==null?void 0:jt.name)||"Customer"}<br>
                ${((Rt=Q.buyerInfo)==null?void 0:Rt.address)||"Address"}<br>
                ${((pn=Q.buyerInfo)==null?void 0:pn.city)||"City"}, ${((F=Q.buyerInfo)==null?void 0:F.zipCode)||"ZIP"}<br>
                ${((X=Q.buyerInfo)==null?void 0:X.phone)||"Phone"}
              </div>
              <div class="tracking">TRACKING: ${Ce}</div>
              <div class="barcode">||||| |||| | |||| ||||| | |||| |||||<br>${Ce}</div>
              <div class="section">
                <strong>Item:</strong> ${Q.title}<br>
                <strong>Service:</strong> FedEx Ground<br>
                <strong>Date:</strong> ${new Date().toLocaleDateString()}
              </div>
            </div>
          </body>
        </html>
      `;_e.document.write(We),_e.document.close(),_e.focus(),_e.print()};return!D||!Q?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sold Item Management"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage fulfillment for your sold item"})]}),l.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:Q.title}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Sale Price:"})," $",Q.soldPrice||Q.price]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Your Earnings:"})," $",((Q.soldPrice||Q.price)*.75).toFixed(2)]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Sold Date:"})," ",((ve=Q.soldAt)==null?void 0:ve.toLocaleDateString())||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",Q.saleTransactionId||"N/A"]})]})]}),Q.buyerInfo&&l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Buyer Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",Q.buyerInfo.name]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Email:"})," ",Q.buyerInfo.email]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Phone:"})," ",Q.buyerInfo.phone]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("span",{className:"font-medium",children:"Address:"})," ",Q.buyerInfo.address,", ",Q.buyerInfo.city,", ",Q.buyerInfo.zipCode]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fulfillment Method"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:"fulfillment",value:"shipping",checked:ce==="shipping",onChange:_e=>de(_e.target.value),className:"mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Ship to Customer"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Generate shipping label and send directly to buyer"})]})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:"fulfillment",value:"pickup",checked:ce==="pickup",onChange:_e=>de(_e.target.value),className:"mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"In-Store Pickup"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Customer will pick up item at store location"})]})]})]})]}),ce==="shipping"&&l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Shipping Actions"}),me?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center text-green-600 mb-3",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l.jsx("span",{className:"font-medium",children:"Shipping label generated!"})]}),l.jsxs("button",{onClick:Ae,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Shipping Label"]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Generate a shipping label to send this item to the customer."}),l.jsx("button",{onClick:te,disabled:ge,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ge?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Label..."]}):l.jsx(l.Fragment,{children:"Generate Shipping Label"})})]})]}),ce==="pickup"&&l.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"In-Store Pickup"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("p",{className:"text-gray-700",children:[l.jsx("strong",{children:"Customer Instructions:"})," Please bring a valid ID and your order confirmation to pick up your item."]}),l.jsxs("div",{className:"bg-white rounded p-3 border",children:[l.jsx("p",{children:l.jsx("strong",{children:"Store Location:"})}),l.jsx("p",{children:"Summit Gear Exchange"}),l.jsx("p",{children:"123 Mountain View Drive"}),l.jsx("p",{children:"Denver, CO 80202"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Hours:"})," Mon-Sat 9AM-7PM, Sun 10AM-6PM"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]}),l.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Mark as Ready for Pickup"})]})]})]}),l.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:l.jsx("button",{onClick:W,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My User History"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Track your listings, sales, purchases, and store credit"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:()=>{I(),H()},className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",title:"Refresh data",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),l.jsx("div",{className:"text-sm text-gray-500",children:"Available Credit"})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"overview",label:"Overview",icon:""},{key:"listings",label:"My Listings",icon:""},{key:"sales",label:"Sales History",icon:""},{key:"purchases",label:"Purchases",icon:""},{key:"orders",label:"My Orders",icon:""},{key:"credit",label:"Store Credit",icon:""}].map(D=>l.jsxs("button",{onClick:()=>n(D.key),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${e===D.key?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx("span",{className:"mr-2",children:D.icon}),D.label]},D.key))})}),l.jsxs("div",{className:"p-6",children:[e==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.totalItemsListed)||0}),l.jsx("div",{className:"text-sm text-blue-600",children:"Items Listed"})]})]})}),l.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.totalItemsSold)||0}),l.jsx("div",{className:"text-sm text-green-600",children:"Items Sold"})]})]})}),l.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]}),l.jsx("div",{className:"text-sm text-purple-600",children:"Total Earnings"})]})]})}),l.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:(a==null?void 0:a.totalPurchases)||0}),l.jsx("div",{className:"text-sm text-indigo-600",children:"Purchases"})]})]})}),l.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white text-sm font-bold",children:""})})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),l.jsx("div",{className:"text-sm text-orange-600",children:"Store Credit"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Listings Status"}),l.jsx("div",{className:"h-64",children:l.jsx(uc,{width:"100%",height:"100%",children:l.jsxs(oA,{children:[l.jsx(Ni,{data:B,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:B.map((D,W)=>l.jsx(au,{fill:D.color},`cell-${W}`))}),l.jsx(Jn,{})]})})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings from Sales"}),l.jsx("div",{className:"h-64",children:V.length>0?l.jsx(uc,{width:"100%",height:"100%",children:l.jsxs(BIe,{data:V,children:[l.jsx(ny,{strokeDasharray:"3 3"}),l.jsx(Xo,{dataKey:"name"}),l.jsx(Yo,{}),l.jsx(Jn,{}),l.jsx(Ap,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:2})]})}):l.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{children:"No sales data yet"}),l.jsx("p",{className:"text-sm",children:"Start listing items to see your earnings here"})]})})})]})]})]}),e==="listings"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Listings (",s.length,")"]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("span",{className:"text-sm text-gray-500",children:["Active: ",(a==null?void 0:a.activeListings)||0," | Pending: ",(a==null?void 0:a.pendingListings)||0," | Sold: ",(a==null?void 0:a.totalItemsSold)||0]})})]}),s.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings yet"}),l.jsx("p",{className:"text-gray-500",children:"Start by listing your first item for consignment"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(D=>l.jsxs("div",{onClick:()=>R(D),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h4",{className:"font-medium text-gray-900 truncate",children:D.title}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q(D.status)}`,children:L(D.status)})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:D.description}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",D.price]}),l.jsx("span",{className:"text-xs text-gray-500",children:D.createdAt.toLocaleDateString()})]}),D.status==="sold"&&l.jsxs("div",{className:"mt-2 text-xs text-green-600",children:["Earned: $",((D.soldPrice||D.price)*.75).toFixed(2)]})]},D.id))})]}),e==="sales"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sales History (",u.length,")"]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Total Earned: $",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),u.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),l.jsx("p",{className:"text-gray-500",children:"Your earnings will appear here when items sell"})]}):l.jsx("div",{className:"space-y-3",children:u.map(D=>{var W;return l.jsx("div",{onClick:()=>z(D),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:D.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Sold on ",(W=D.soldAt)==null?void 0:W.toLocaleDateString()]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Sale price: $",(D.soldPrice||D.price).toFixed(2)]}),D.buyerInfo&&l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Buyer: ",D.buyerInfo.name,"  ",D.buyerInfo.city,", ",D.buyerInfo.zipCode]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+$",((D.soldPrice||D.price)*.75).toFixed(2)]}),l.jsx("div",{className:"text-xs text-gray-500",children:"your earnings"}),l.jsx("div",{className:"text-xs text-orange-600 mt-1",children:" Click to manage fulfillment"})]})]})},D.id)})})]}),e==="purchases"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Purchase History (",y.length,")"]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),y.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No purchases yet"}),l.jsx("p",{className:"text-gray-500",children:"Your purchase history will appear here after you make your first purchase"}),l.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):l.jsx("div",{className:"space-y-3",children:y.map(D=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium text-gray-900",children:["Order #",D.id.slice(-8)]}),l.jsx("p",{className:"text-sm text-gray-600",children:D.purchaseDate.toLocaleDateString()})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",D.total.toFixed(2)]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.status})]})]}),l.jsxs("div",{className:"border-t pt-3",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Items purchased:"}),l.jsx("div",{className:"space-y-1",children:D.items.map((W,Q)=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-gray-900",children:W.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-gray-500",children:["Qty: ",W.quantity]}),l.jsxs("span",{className:"font-medium",children:["$",(W.price*W.quantity).toFixed(2)]})]})]},Q))})]})]},D.id))})]}),e==="orders"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Orders (",y.length,")"]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),y.length===0?l.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),l.jsx("p",{className:"text-gray-500",children:"Your order history will appear here after you make your first purchase"}),l.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):l.jsx("div",{className:"space-y-4",children:y.map(D=>{var W,Q;return l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order ",D.orderNumber||`#${D.id.slice(-8)}`]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",D.purchaseDate.toLocaleDateString()," at ",D.purchaseDate.toLocaleTimeString()]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",D.total.toFixed(2)]}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${D.orderStatus==="delivered"?"bg-green-100 text-green-800":D.orderStatus==="shipped"?"bg-blue-100 text-blue-800":D.orderStatus==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((W=D.orderStatus)==null?void 0:W.charAt(0).toUpperCase())+((Q=D.orderStatus)==null?void 0:Q.slice(1))||"Completed"})]})]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Items Ordered"}),l.jsx("div",{className:"space-y-3",children:D.items.map((ce,de)=>l.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:ce.images&&ce.images.length>0?l.jsx("img",{src:ce.images[0],alt:ce.title,className:"w-full h-full object-cover rounded-lg"}):l.jsx("span",{className:"text-gray-400 text-2xl",children:""})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h6",{className:"font-medium text-gray-900",children:ce.title}),l.jsxs("p",{className:"text-sm text-gray-600",children:[ce.brand,"  ",ce.category,"  Size: ",ce.size]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",ce.quantity]}),l.jsxs("span",{className:"font-medium",children:["$",(ce.price*ce.quantity).toFixed(2)]})]})]})]},de))})]}),l.jsxs("div",{className:"space-y-4",children:[D.customerInfo&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[l.jsx("p",{className:"font-medium",children:D.customerInfo.name}),l.jsx("p",{children:D.customerInfo.address}),l.jsxs("p",{children:[D.customerInfo.city,", ",D.customerInfo.zipCode]}),l.jsx("p",{children:D.customerInfo.phone}),l.jsx("p",{children:D.customerInfo.email})]})]}),D.paymentInfo&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[l.jsxs("p",{children:[D.paymentInfo.method," ending in ",D.paymentInfo.last4]}),l.jsxs("p",{className:"text-xs",children:["Transaction ID: ",D.paymentInfo.transactionId]}),l.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${D.paymentInfo.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.paymentInfo.status})]})]}),D.trackingNumber&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Delivery"}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[l.jsxs("p",{children:["Tracking: ",D.trackingNumber]}),D.estimatedDelivery&&l.jsxs("p",{children:["Estimated: ",new Date(D.estimatedDelivery).toLocaleDateString()]})]}),l.jsx("button",{onClick:()=>K(D.trackingNumber,D.orderNumber||`#${D.id.slice(-8)}`,D.estimatedDelivery),className:"mt-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Track Package"})]}),l.jsx("div",{className:"space-y-2",children:l.jsx("button",{className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Invoice"})})]})]})})]},D.id)})})]}),e==="credit"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Store Credit Balance"}),l.jsxs("div",{className:"text-3xl font-bold mt-1",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),l.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Available for purchases"})]}),l.jsx("div",{className:"text-6xl opacity-20",children:""})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"How Store Credit Works"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-green-500 mr-2",children:""}),l.jsx("span",{children:"Earn 75% of your item's final sale price"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-green-500 mr-2",children:""}),l.jsx("span",{children:"Credit is added automatically when items sell"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-green-500 mr-2",children:""}),l.jsx("span",{children:"Use credit for purchases in our store"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-green-500 mr-2",children:""}),l.jsx("span",{children:"Credit never expires"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"text-green-500 mr-2",children:""}),l.jsx("span",{children:"Redeem credit during checkout"})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Credit Summary"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total Earned:"}),l.jsxs("span",{className:"font-medium text-green-600",children:["+$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-600",children:"Total Used:"}),l.jsxs("span",{className:"font-medium text-red-600",children:["-$",(((a==null?void 0:a.totalEarnings)||0)-((a==null?void 0:a.storeCredit)||0)).toFixed(2)]})]}),l.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-900 font-semibold",children:"Current Balance:"}),l.jsxs("span",{className:"font-bold text-orange-600 text-lg",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Start Shopping"})})]})]}),u.length>0&&l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Credit Activity"}),l.jsx("div",{className:"space-y-2",children:u.slice(0,5).map(D=>{var W;return l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-900",children:D.title}),l.jsxs("span",{className:"text-gray-500 ml-2",children:["sold ",(W=D.soldAt)==null?void 0:W.toLocaleDateString()]})]}),l.jsxs("span",{className:"text-green-600 font-medium",children:["+$",((D.soldPrice||D.price)*.75).toFixed(2)]})]},D.id)})})]})]})]})]}),l.jsx(JE,{isOpen:m,onClose:P,item:f,onItemUpdated:()=>{I(),C()}}),_&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Tracking"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.orderNumber})]}),l.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Package In Transit"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Your order is on its way!"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),l.jsx("span",{className:"text-sm text-gray-900 font-mono",children:g.trackingNumber})]})}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),l.jsx("span",{className:"text-sm text-gray-900",children:new Date(g.estimatedDelivery).toLocaleDateString()})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h5",{className:"font-medium text-gray-900",children:"Tracking History"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Package shipped"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Denver, CO - 2 days ago"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"In transit"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Salt Lake City, UT - 1 day ago"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Out for delivery"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Your city - Today"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mt-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Delivered"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Expected by end of day"})]})]})]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t",children:l.jsx("button",{onClick:()=>b(!1),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Close"})})]})]})}),l.jsx(U,{isOpen:w,onClose:ee,item:E})]})},GIe=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,a]=k.useState([]),[o,s]=k.useState(!0),[c,u]=k.useState(""),[d,f]=k.useState("all"),[h,m]=k.useState("all"),[v,y]=k.useState("all"),[x,_]=k.useState("all"),[b,g]=k.useState("all"),[T,w]=k.useState([]),[j,E]=k.useState("newest"),[A,O]=k.useState(!1),[I,C]=k.useState("individual"),[R,P]=k.useState(!1),[q,L]=k.useState(null),[B,V]=k.useState(!1),{user:H}=zu(),[K,z]=k.useState([]),[ee,U]=k.useState([]),[D,W]=k.useState([]),[Q,ce]=k.useState([]);k.useEffect(()=>{de()},[]),k.useEffect(()=>{ae(),me()},[t,c,d,h,v,x,b,j]),k.useEffect(()=>{I==="grouped"&&ge()},[n,I]);const de=async()=>{try{const F=An(et,"items"),X=er(F,lE("createdAt","desc")),ue=await Pn(X),Se=[];ue.forEach(ye=>{var Xe,qt,$n,fi;const Ke=ye.data();Se.push({id:ye.id,...Ke,createdAt:((Xe=Ke.createdAt)==null?void 0:Xe.toDate())||new Date,approvedAt:(qt=Ke.approvedAt)==null?void 0:qt.toDate(),liveAt:($n=Ke.liveAt)==null?void 0:$n.toDate(),soldAt:(fi=Ke.soldAt)==null?void 0:fi.toDate()})}),e(Se)}catch(F){console.error("Error fetching items:",F)}finally{s(!1)}},me=()=>{const F=[...new Set(t.map(ye=>ye.category).filter(ye=>!!ye&&ye!==""))].sort(),X=[...new Set(t.map(ye=>ye.brand).filter(ye=>!!ye&&ye!==""))].sort(),ue=[...new Set(t.map(ye=>ye.condition).filter(Boolean).filter(ye=>ye!==""))].sort(),Se=[...new Set(t.map(ye=>ye.gender).filter(Boolean).filter(ye=>ye!==""))].sort();z(F),U(X),W(ue),ce(Se)},ae=()=>{let F=[...t];if(d!=="all"&&(F=F.filter(X=>X.status===d)),h!=="all"&&(F=F.filter(X=>X.category===h)),v!=="all"&&(F=F.filter(X=>X.brand===v)),x!=="all"&&(F=F.filter(X=>X.condition===x)),b!=="all"&&(F=F.filter(X=>X.gender===b)),c){const X=c.toLowerCase();F=F.filter(ue=>{var Se,ye,Ke,Xe,qt,$n,fi;return((Se=ue.title)==null?void 0:Se.toLowerCase().includes(X))||((ye=ue.description)==null?void 0:ye.toLowerCase().includes(X))||((Ke=ue.brand)==null?void 0:Ke.toLowerCase().includes(X))||((Xe=ue.category)==null?void 0:Xe.toLowerCase().includes(X))||((qt=ue.sellerName)==null?void 0:qt.toLowerCase().includes(X))||(($n=ue.material)==null?void 0:$n.toLowerCase().includes(X))||((fi=ue.color)==null?void 0:fi.toLowerCase().includes(X))||ue.id.toLowerCase().includes(X)})}switch(j){case"oldest":F.sort((X,ue)=>X.createdAt.getTime()-ue.createdAt.getTime());break;case"price-high":F.sort((X,ue)=>ue.price-X.price);break;case"price-low":F.sort((X,ue)=>X.price-ue.price);break;case"shelf-time":F.sort((X,ue)=>{const Se=X.liveAt||X.createdAt,ye=ue.liveAt||ue.createdAt;return Se.getTime()-ye.getTime()});break;case"shelf-time-newest":F.sort((X,ue)=>{const Se=X.liveAt||X.createdAt;return(ue.liveAt||ue.createdAt).getTime()-Se.getTime()});break;case"newest":default:F.sort((X,ue)=>ue.createdAt.getTime()-X.createdAt.getTime());break}r(F)},ge=()=>{const F={};n.forEach(ue=>{var ye,Ke,Xe,qt;const Se=`${(ye=ue.title)==null?void 0:ye.toLowerCase()}-${(Ke=ue.category)==null?void 0:Ke.toLowerCase()}-${(Xe=ue.brand)==null?void 0:Xe.toLowerCase()}-${(qt=ue.condition)==null?void 0:qt.toLowerCase()}`;F[Se]||(F[Se]=[]),F[Se].push(ue)});const X=Object.values(F).map(ue=>{const Se=ue[0];return{id:`group-${Se.id}`,title:Se.title,category:Se.category||"",brand:Se.brand||"",condition:Se.condition||"",price:Se.price,quantity:ue.length,items:ue,representativeItem:Se}});a(X)},be=F=>{w(X=>X.includes(F)?X.filter(ue=>ue!==F):[...X,F])},te=()=>{T.length===n.length?w([]):w(n.map(F=>F.id))},Ae=async F=>{try{const X=T.map(async ue=>{const Se=rr(et,"items",ue),ye={status:F};return F==="live"?ye.liveAt=new Date:F==="approved"&&(ye.approvedAt=new Date),Rr(Se,ye)});await Promise.all(X),await At(H,"bulk_action",`Bulk updated ${T.length} items to ${F}`),await de(),w([]),O(!1)}catch(X){console.error("Error updating items:",X)}},ve=async(F,X)=>{try{const ue=rr(et,"items",F),Se={status:X};X==="live"||X==="approved"||X==="archived"&&(Se.archivedAt=new Date),await Rr(ue,Se);const ye=t.find(Ke=>Ke.id===F);ye&&await At(H,`item_${X}`,`Updated item status to ${X}`,F,ye.title),await de()}catch(ue){console.error("Error updating item:",ue)}},_e=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-purple-100 text-purple-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Ce=F=>{const X=F.liveAt||F.createdAt,Se=new Date().getTime()-X.getTime(),ye=Math.floor(Se/(1e3*60*60*24));return ye===0?"Today":ye===1?"1 day":`${ye} days`},We=F=>{const X=F.liveAt||F.createdAt,Se=new Date().getTime()-X.getTime();return Math.floor(Se/(1e3*60*60*24))},jt=F=>{L(F),P(!0)},Rt=async(F,X)=>{if(q)try{const ue=rr(et,"items",q.id),Se=q.originalPrice||q.price,ye=Se*(1-F/100);await Rr(ue,{originalPrice:Se,price:Math.round(ye*100)/100,discountPercentage:F,discountAppliedAt:new Date,discountReason:X}),await At(H,"item_discounted",`Applied ${F}% discount: ${X}`,q.id,q.title),await de(),P(!1),L(null)}catch(ue){console.error("Error applying discount:",ue)}},pn=async(F,X)=>{try{const ue=n.filter(ye=>ye.status!=="live"?!1:We(ye)>=F),Se=ue.map(async ye=>{const Ke=rr(et,"items",ye.id),Xe=ye.originalPrice||ye.price,qt=Xe*(1-X/100);return Rr(Ke,{originalPrice:Xe,price:Math.round(qt*100)/100,discountPercentage:X,discountAppliedAt:new Date,discountReason:`Auto-discount: ${F}+ days on shelf`})});await Promise.all(Se),await At(H,"bulk_discount",`Applied ${X}% discount to ${ue.length} items with ${F}+ days on shelf`),await de(),V(!1)}catch(ue){console.error("Error applying bulk discount:",ue)}};return o?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Manage all items across all statuses"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:()=>V(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Auto-Discount"]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," items | Filtered: ",n.length," items"]})]})]}),l.jsx("div",{className:"bg-white rounded-lg border p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View Mode:"}),l.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[l.jsx("button",{onClick:()=>C("individual"),className:`px-4 py-2 text-sm font-medium ${I==="individual"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Individual Items"}),l.jsx("button",{onClick:()=>C("grouped"),className:`px-4 py-2 text-sm font-medium ${I==="grouped"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grouped by Similarity"})]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:I==="individual"?`Showing ${n.length} individual items`:`Showing ${i.length} item groups`})]})}),l.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),l.jsx("input",{type:"text",value:c,onChange:F=>u(F.target.value),placeholder:"Search items, brands, sellers...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{value:d,onChange:F=>f(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"live",children:"Live"}),l.jsx("option",{value:"sold",children:"Sold"}),l.jsx("option",{value:"archived",children:"Archived"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),l.jsxs("select",{value:h,onChange:F=>m(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Categories"}),K.map(F=>l.jsx("option",{value:F,children:F},F))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),l.jsxs("select",{value:v,onChange:F=>y(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Brands"}),ee.map(F=>l.jsx("option",{value:F,children:F},F))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),l.jsxs("select",{value:x,onChange:F=>_(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Conditions"}),D.map(F=>l.jsx("option",{value:F,children:F},F))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),l.jsxs("select",{value:b,onChange:F=>g(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Genders"}),Q.map(F=>l.jsx("option",{value:F,children:F},F))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),l.jsxs("select",{value:j,onChange:F=>E(F.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"shelf-time",children:"Longest on Shelf"}),l.jsx("option",{value:"shelf-time-newest",children:"Shortest on Shelf"}),l.jsx("option",{value:"price-high",children:"Price: High to Low"}),l.jsx("option",{value:"price-low",children:"Price: Low to High"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Actions"}),l.jsxs("button",{onClick:()=>O(!A),disabled:T.length===0,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed text-sm",children:["Actions (",T.length,")"]})]})]}),A&&T.length>0&&l.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>Ae("approved"),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",children:"Move to Approved"}),l.jsx("button",{onClick:()=>Ae("live"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600",children:"Make Live"}),l.jsx("button",{onClick:()=>Ae("archived"),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Archive Items"}),l.jsx("button",{onClick:()=>O(!1),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Cancel"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:T.length===n.length&&n.length>0,onChange:te,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shelf Time"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I==="individual"?n.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:T.includes(F.id),onChange:()=>be(F.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[F.images&&F.images.length>0&&l.jsx("img",{src:F.images[0],alt:F.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.title}),l.jsxs("div",{className:"text-sm text-gray-500",children:[F.category&&`${F.category}  `,F.brand&&`${F.brand}  `,F.condition&&`${F.condition}`,F.gender&&`  ${F.gender}`,F.size&&`  Size ${F.size}`]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_e(F.status)}`,children:F.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:F.discountPercentage?"text-red-600 font-medium":"",children:["$",F.price]}),F.discountPercentage&&l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsxs("span",{className:"line-through",children:["$",F.originalPrice]}),l.jsxs("span",{className:"ml-1 text-red-600",children:["-",F.discountPercentage,"%"]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:F.status==="live"?l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:`${We(F)>=30?"text-red-600 font-medium":We(F)>=14?"text-orange-600 font-medium":We(F)>=7?"text-yellow-600 font-medium":"text-gray-500"}`,children:Ce(F)}),l.jsxs("span",{className:"text-xs text-gray-400",children:["(",We(F)," days)"]})]}):l.jsx("span",{className:"text-gray-500",children:"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.sellerName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex space-x-2",children:[F.status==="live"&&l.jsx("button",{onClick:()=>jt(F),className:"text-orange-600 hover:text-orange-900",children:"Discount"}),F.status!=="archived"&&l.jsx("button",{onClick:()=>ve(F.id,"archived"),className:"text-gray-600 hover:text-gray-900",children:"Archive"})]})})]},F.id)):i.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:F.items.every(X=>T.includes(X.id)),onChange:()=>{const X=F.items.every(ue=>T.includes(ue.id));w(X?ue=>ue.filter(Se=>!F.items.some(ye=>ye.id===Se)):ue=>[...ue,...F.items.map(Se=>Se.id)])},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[F.representativeItem.images&&F.representativeItem.images.length>0&&l.jsx("img",{src:F.representativeItem.images[0],alt:F.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.title}),l.jsxs("div",{className:"text-sm text-gray-500",children:[F.category&&`${F.category}  `,F.brand&&`${F.brand}  `,F.condition]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:[...new Set(F.items.map(X=>X.status))].map(X=>l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${_e(X)}`,children:X},X))})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Math.min(...F.items.map(X=>X.price)),F.items.length>1&&` - $${Math.max(...F.items.map(X=>X.price))}`]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:F.quantity})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.items.some(X=>X.status==="live")?Ce(F.items.find(X=>X.status==="live")):"-"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[...new Set(F.items.map(X=>X.sellerName))].join(", ")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsx("div",{className:"flex space-x-2",children:l.jsx("button",{onClick:()=>{F.items.forEach(X=>{X.status!=="archived"&&ve(X.id,"archived")})},className:"text-gray-600 hover:text-gray-900",children:"Archive All"})})})]},F.id))})]})}),(I==="individual"?n.length===0:i.length===0)&&l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:t.length===0?"No items found":"No items match your filters"})})]}),R&&q&&l.jsx(WIe,{item:q,onApply:Rt,onClose:()=>{P(!1),L(null)}}),B&&l.jsx(KIe,{items:n,onApply:pn,onClose:()=>V(!1),getShelfDays:We})]})},WIe=({item:t,onApply:e,onClose:n})=>{const[r,i]=k.useState(10),[a,o]=k.useState(""),s=t.originalPrice||t.price,c=s*(1-r/100),u=d=>{d.preventDefault(),e(r,a||"Manual discount applied")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Apply Discount"}),l.jsx("p",{className:"text-gray-600 mt-1",children:t.title})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("form",{onSubmit:u,className:"p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage"}),l.jsx("input",{type:"number",min:"1",max:"50",value:r,onChange:d=>i(Number(d.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),l.jsx("input",{type:"text",value:a,onChange:d=>o(d.target.value),placeholder:"e.g., Shelf time over 30 days",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Original Price:"}),l.jsxs("span",{className:"font-medium",children:["$",s]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),l.jsxs("span",{className:"text-red-600",children:["-",r,"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[l.jsx("span",{className:"font-medium",children:"New Price:"}),l.jsxs("span",{className:"font-bold text-lg text-green-600",children:["$",c.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Apply Discount"})]})]})]})})},KIe=({items:t,onApply:e,onClose:n,getShelfDays:r})=>{const i=[{days:7,discount:10,label:"7+ days - 10% off"},{days:14,discount:15,label:"14+ days - 15% off"},{days:21,discount:20,label:"21+ days - 20% off"},{days:30,discount:25,label:"30+ days - 25% off"},{days:45,discount:30,label:"45+ days - 30% off"},{days:60,discount:35,label:"60+ days - 35% off"}],a=o=>t.filter(s=>s.status!=="live"?!1:r(s)>=o).length;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Auto-Discount by Shelf Time"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Apply discounts to items based on how long they've been on the shelf"})]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[l.jsx("div",{className:"grid gap-3",children:i.map(o=>{const s=a(o.days);return l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900",children:o.label}),l.jsxs("div",{className:"text-sm text-gray-500",children:[s," eligible items"]})]}),l.jsxs("button",{onClick:()=>e(o.days,o.discount),disabled:s===0,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Apply to ",s]})]},o.days)})}),l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{className:"text-sm text-blue-700",children:[l.jsx("strong",{children:"Note:"}),' Discounts will only be applied to items with "live" status. Items that already have discounts will have their discount updated based on the original price.']})]})}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Close"})})]})]})})},XIe=()=>{const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,a]=k.useState(!0),[o,s]=k.useState(""),[c,u]=k.useState("all"),[d,f]=k.useState("all"),[h,m]=k.useState("24h");k.useEffect(()=>{const g=sJ(T=>{const w=T.map(A=>{var O;return{...A,timestamp:(O=A.timestamp)!=null&&O.toDate?A.timestamp.toDate():new Date}}),j=v(),E=w.filter(A=>A.timestamp.getTime()>=j);e(E),a(!1)});return()=>g()},[h]),k.useEffect(()=>{y()},[t,o,c,d]);const v=()=>{const g=new Date;switch(h){case"1h":return g.getTime()-1e3*60*60;case"24h":return g.getTime()-1e3*60*60*24;case"7d":return g.getTime()-1e3*60*60*24*7;case"30d":return g.getTime()-1e3*60*60*24*30;default:return 0}},y=()=>{let g=[...t];if(c!=="all"&&(g=g.filter(T=>T.action===c)),d!=="all"&&(d==="admin"?g=g.filter(T=>T.isAdmin===!0):d==="user"&&(g=g.filter(T=>T.isAdmin!==!0))),o){const T=o.toLowerCase();g=g.filter(w=>w.userName.toLowerCase().includes(T)||w.userEmail.toLowerCase().includes(T)||w.action.toLowerCase().includes(T)||w.details.toLowerCase().includes(T)||w.itemTitle&&w.itemTitle.toLowerCase().includes(T))}r(g)},x=g=>{switch(g){case"item_listed":return"";case"item_approved":return"";case"item_purchased":return"";case"item_sold":return"";case"item_archived":return"";case"item_discounted":return"";case"bulk_discount":return"";case"user_login":return"";case"user_logout":return"";case"bulk_action":return"";case"item_bookmarked":return"";case"cart_updated":return"";case"status_changed":return"";case"barcode_generated":return"";case"shipping_label_generated":return"";case"item_shipped":return"";default:return""}},_=g=>{switch(g){case"item_listed":return"bg-blue-100 text-blue-800";case"item_approved":return"bg-green-100 text-green-800";case"item_purchased":return"bg-purple-100 text-purple-800";case"item_sold":return"bg-yellow-100 text-yellow-800";case"item_archived":return"bg-gray-100 text-gray-800";case"item_discounted":return"bg-orange-100 text-orange-800";case"bulk_discount":return"bg-red-100 text-red-800";case"user_login":return"bg-indigo-100 text-indigo-800";case"user_logout":return"bg-red-100 text-red-800";case"bulk_action":return"bg-orange-100 text-orange-800";case"item_bookmarked":return"bg-pink-100 text-pink-800";case"cart_updated":return"bg-teal-100 text-teal-800";case"status_changed":return"bg-cyan-100 text-cyan-800";case"barcode_generated":return"bg-emerald-100 text-emerald-800";case"shipping_label_generated":return"bg-blue-100 text-blue-800";case"item_shipped":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=g=>{const w=new Date().getTime()-g.getTime(),j=Math.floor(w/(1e3*60)),E=Math.floor(w/(1e3*60*60)),A=Math.floor(w/(1e3*60*60*24));return j<1?"Just now":j<60?`${j}m ago`:E<24?`${E}h ago`:`${A}d ago`};return i?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Actions Dashboard"}),l.jsx("p",{className:"text-gray-600",children:"Track all user and admin activities"})]}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," actions | Filtered: ",n.length," actions",d==="admin"&&" | Admin Actions Only",d==="user"&&" | User Actions Only"]})]}),l.jsx("div",{className:"bg-white rounded-lg border p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),l.jsx("input",{type:"text",value:o,onChange:g=>s(g.target.value),placeholder:"Search users, actions, items...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),l.jsxs("select",{value:c,onChange:g=>u(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Actions"}),l.jsx("option",{value:"item_listed",children:"Item Listed"}),l.jsx("option",{value:"item_approved",children:"Item Approved"}),l.jsx("option",{value:"item_purchased",children:"Item Purchased"}),l.jsx("option",{value:"item_sold",children:"Item Sold"}),l.jsx("option",{value:"item_archived",children:"Item Archived"}),l.jsx("option",{value:"item_discounted",children:"Item Discounted"}),l.jsx("option",{value:"bulk_discount",children:"Bulk Discount"}),l.jsx("option",{value:"status_changed",children:"Status Changed"}),l.jsx("option",{value:"barcode_generated",children:"Barcode Generated"}),l.jsx("option",{value:"shipping_label_generated",children:"Shipping Label Generated"}),l.jsx("option",{value:"item_shipped",children:"Item Shipped"}),l.jsx("option",{value:"user_login",children:"User Login"}),l.jsx("option",{value:"bulk_action",children:"Bulk Actions"}),l.jsx("option",{value:"item_bookmarked",children:"Item Bookmarked"}),l.jsx("option",{value:"cart_updated",children:"Cart Updated"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),l.jsxs("select",{value:d,onChange:g=>f(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"all",children:"All Users"}),l.jsx("option",{value:"admin",children:"Admin Only"}),l.jsx("option",{value:"user",children:"Users Only"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),l.jsxs("select",{value:h,onChange:g=>m(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"1h",children:"Last Hour"}),l.jsx("option",{value:"24h",children:"Last 24 Hours"}),l.jsx("option",{value:"7d",children:"Last 7 Days"}),l.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export"}),l.jsx("button",{onClick:()=>{console.log("Export actions to CSV")},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Export CSV"})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg border",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),l.jsx("div",{className:"divide-y divide-gray-200",children:n.map(g=>l.jsx("div",{className:"p-6 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"text-2xl",children:x(g.action)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(g.action)}`,children:g.action.replace("_"," ")}),g.isAdmin&&l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:" Admin"}),l.jsx("span",{className:"text-sm text-gray-500",children:b(g.timestamp)})]}),l.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[l.jsxs("span",{className:"font-medium",children:[g.isAdmin&&l.jsx("span",{className:"text-red-600",children:" "}),g.userName]}),l.jsxs("span",{className:"text-gray-500",children:[" (",g.userEmail,")"]})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:[g.details,g.itemTitle&&l.jsxs("span",{className:"font-medium text-gray-900",children:["  ",g.itemTitle]})]})]}),l.jsx("div",{className:"flex-shrink-0 text-sm text-gray-500",children:g.timestamp.toLocaleString()})]})},g.id))}),n.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:t.length===0?"No actions found for this time period":"No actions match your filters"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.filter(g=>g.action.includes("item_")).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Item Actions"})]}),l.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(g=>g.isAdmin===!0).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Admin Actions"})]}),l.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(g=>g.isAdmin!==!0).length}),l.jsx("div",{className:"text-sm text-gray-600",children:"User Actions"})]}),l.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(t.map(g=>g.userId)).size}),l.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]})]})]})},YIe=()=>{const{user:t,loading:e,signInWithGoogle:n,signInWithPhone:r,logout:i,isAuthenticated:a,isAdmin:o,toggleAdmin:s}=zu(),{getCartItemCount:c,getBookmarkCount:u}=cp(),[d,f]=k.useState([]),[h,m]=k.useState(!1),[v,y]=k.useState(!1),[x,_]=k.useState(!1),[b,g]=k.useState(!1),[T,w]=k.useState(!1),[j,E]=k.useState(!1),[A,O]=k.useState(!1),[I,C]=k.useState(!1),[R,P]=k.useState(!1),[q,L]=k.useState(!1),[B,V]=k.useState(!1),[H,K]=k.useState(!1),[z,ee]=k.useState(!1),[U,D]=k.useState(!0),[W,Q]=k.useState(!1),[ce,de]=k.useState(0),[me,ae]=k.useState(!1),ge=k.useRef(null),[be,te]=k.useState(!1),[Ae,ve]=k.useState(!1),_e=k.useRef(null),[Ce,We]=k.useState([]),[jt,Rt]=k.useState(null),[pn,F]=k.useState(!1),[X,ue]=k.useState({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""}),[Se,ye]=k.useState({pending:0,approved:0,sold:0});k.useEffect(()=>{a?(qt(),$n(),Ke()):(D(!1),Q(!1))},[a,o]),k.useEffect(()=>{if(a){const Z=setInterval($n,3e4);return()=>clearInterval(Z)}},[a]),k.useEffect(()=>{if(W){Xe();const Z=setInterval(Xe,3e4);return()=>clearInterval(Z)}a&&$n()},[W]),k.useEffect(()=>{const Z=le=>{ge.current&&!ge.current.contains(le.target)&&ae(!1),_e.current&&!_e.current.contains(le.target)&&ve(!1)};return(me||Ae)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[me,Ae]);const Ke=()=>{t&&(console.log("Admin status check:",{userId:t.uid,userIsAdmin:o,adminStatus:o}),Q(o))},Xe=async()=>{if(t)try{const Z=An(et,"items"),le=er(Z,Gn("status","==","pending")),we=await Pn(le),ot=er(Z,Gn("status","==","approved")),Lt=await Pn(ot),Me=er(Z,Gn("status","==","sold")),Ye=await Pn(Me),Ve=new Date(Date.now()-24*60*60*1e3);let mn=0;Ye.forEach(gn=>{var Ln;const Ot=(Ln=gn.data().soldAt)==null?void 0:Ln.toDate();Ot&&Ot>=Ve&&mn++}),ye({pending:we.size,approved:Lt.size,sold:mn})}catch(Z){console.error("Error fetching notification counts:",Z)}},qt=async()=>{try{const Z=An(et,"items"),le=er(Z,Gn("status","==","live")),we=await Pn(le),ot=[];we.forEach(Lt=>{var Ye,Ve,mn;const Me=Lt.data();ot.push({id:Lt.id,...Me,createdAt:((Ye=Me.createdAt)==null?void 0:Ye.toDate())||new Date,approvedAt:(Ve=Me.approvedAt)==null?void 0:Ve.toDate(),liveAt:(mn=Me.liveAt)==null?void 0:mn.toDate()})}),ot.sort((Lt,Me)=>{const Ye=Lt.liveAt||Lt.createdAt;return(Me.liveAt||Me.createdAt).getTime()-Ye.getTime()}),f(ot)}catch(Z){console.error("Error fetching items:",Z),f([])}finally{D(!1)}},$n=async()=>{if(t)try{const Z=An(et,"items"),le=new Date(Date.now()-24*60*60*1e3);let we=[];if(W){const ot=er(Z);(await Pn(ot)).forEach(Me=>{var gn,jn,Ot,Ln;const Ye=Me.data(),Ve={id:Me.id,...Ye,createdAt:((gn=Ye.createdAt)==null?void 0:gn.toDate())||new Date,approvedAt:(jn=Ye.approvedAt)==null?void 0:jn.toDate(),liveAt:(Ot=Ye.liveAt)==null?void 0:Ot.toDate(),soldAt:(Ln=Ye.soldAt)==null?void 0:Ln.toDate()};(Ve.createdAt&&Ve.createdAt>=le||Ve.approvedAt&&Ve.approvedAt>=le||Ve.liveAt&&Ve.liveAt>=le||Ve.soldAt&&Ve.soldAt>=le)&&we.push(Ve)}),we.sort((Me,Ye)=>{var gn,jn,Ot,Ln,hs,Pi,Xa,aa;const Ve=Math.max(((gn=Me.createdAt)==null?void 0:gn.getTime())||0,((jn=Me.approvedAt)==null?void 0:jn.getTime())||0,((Ot=Me.liveAt)==null?void 0:Ot.getTime())||0,((Ln=Me.soldAt)==null?void 0:Ln.getTime())||0);return Math.max(((hs=Ye.createdAt)==null?void 0:hs.getTime())||0,((Pi=Ye.approvedAt)==null?void 0:Pi.getTime())||0,((Xa=Ye.liveAt)==null?void 0:Xa.getTime())||0,((aa=Ye.soldAt)==null?void 0:aa.getTime())||0)-Ve})}else{const ot=er(Z,Gn("sellerUid","==",t.uid));(await Pn(ot)).forEach(Me=>{var gn,jn,Ot,Ln;const Ye=Me.data(),Ve={id:Me.id,...Ye,createdAt:((gn=Ye.createdAt)==null?void 0:gn.toDate())||new Date,approvedAt:(jn=Ye.approvedAt)==null?void 0:jn.toDate(),liveAt:(Ot=Ye.liveAt)==null?void 0:Ot.toDate(),soldAt:(Ln=Ye.soldAt)==null?void 0:Ln.toDate()};(Ve.createdAt&&Ve.createdAt>=le||Ve.approvedAt&&Ve.approvedAt>=le||Ve.liveAt&&Ve.liveAt>=le||Ve.soldAt&&Ve.soldAt>=le)&&we.push(Ve)}),we.sort((Me,Ye)=>{var gn,jn,Ot,Ln,hs,Pi,Xa,aa;const Ve=Math.max(((gn=Me.createdAt)==null?void 0:gn.getTime())||0,((jn=Me.approvedAt)==null?void 0:jn.getTime())||0,((Ot=Me.liveAt)==null?void 0:Ot.getTime())||0,((Ln=Me.soldAt)==null?void 0:Ln.getTime())||0);return Math.max(((hs=Ye.createdAt)==null?void 0:hs.getTime())||0,((Pi=Ye.approvedAt)==null?void 0:Pi.getTime())||0,((Xa=Ye.liveAt)==null?void 0:Xa.getTime())||0,((aa=Ye.soldAt)==null?void 0:aa.getTime())||0)-Ve})}We(we.slice(0,15))}catch(Z){console.error("Error fetching recent items:",Z)}},fi=async()=>{await At(t,"modal_opened","Opened Add Item modal"),m(!0)},lb=()=>{m(!1),qt(),$n(),W&&Xe()},ds=async()=>{await At(t,"modal_opened","Opened Admin modal"),y(!0)},Sp=()=>{y(!1),qt(),$n(),W&&Xe()},Ep=async()=>{await At(t,"modal_opened","Opened Approved Items modal"),_(!0)},od=()=>{_(!1),qt(),$n(),W&&Xe()},sd=async Z=>{await At(t,"item_viewed","Viewed item details",Z.id,Z.title),Rt(Z),F(!0),ve(!1)},cb=()=>{Rt(null),F(!1)},ld=()=>{K(!0)},Tp=()=>{K(!1)},jp=()=>{K(!1),ee(!0),setTimeout(()=>{ee(!1)},5e3)},fs=Z=>{const le=new Date(Date.now()-864e5),we=[];return Z.soldAt&&Z.soldAt>=le&&we.push({type:"sold",time:Z.soldAt,icon:"",message:"Sold",color:"text-green-600"}),Z.liveAt&&Z.liveAt>=le&&we.push({type:"live",time:Z.liveAt,icon:"",message:"Went Live",color:"text-green-600"}),Z.approvedAt&&Z.approvedAt>=le&&we.push({type:"approved",time:Z.approvedAt,icon:"",message:"Approved",color:"text-blue-600"}),Z.createdAt&&Z.createdAt>=le&&we.push({type:"created",time:Z.createdAt,icon:"",message:"Listed",color:"text-purple-600"}),we.length>0?(we.sort((ot,Lt)=>Lt.time.getTime()-ot.time.getTime()),we[0]):null},Tn=(Z,le)=>{ue(we=>({...we,[Z]:le}))},Il=()=>{ue({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""})},hi=()=>{let Z=[...d];if(X.searchQuery){const le=X.searchQuery.toLowerCase();Z=Z.filter(we=>{var ot,Lt,Me,Ye,Ve,mn,gn,jn,Ot;return((ot=we.title)==null?void 0:ot.toLowerCase().includes(le))||((Lt=we.description)==null?void 0:Lt.toLowerCase().includes(le))||((Me=we.brand)==null?void 0:Me.toLowerCase().includes(le))||((Ye=we.category)==null?void 0:Ye.toLowerCase().includes(le))||((Ve=we.color)==null?void 0:Ve.toLowerCase().includes(le))||((mn=we.size)==null?void 0:mn.toLowerCase().includes(le))||((gn=we.condition)==null?void 0:gn.toLowerCase().includes(le))||((jn=we.gender)==null?void 0:jn.toLowerCase().includes(le))||((Ot=we.sellerName)==null?void 0:Ot.toLowerCase().includes(le))})}if(X.category&&(Z=Z.filter(le=>le.category===X.category)),X.gender&&(Z=Z.filter(le=>le.gender===X.gender)),X.size&&(Z=Z.filter(le=>le.size===X.size)),X.brand&&(Z=Z.filter(le=>{var we;return(we=le.brand)==null?void 0:we.toLowerCase().includes(X.brand.toLowerCase())})),X.color&&(Z=Z.filter(le=>{var we;return(we=le.color)==null?void 0:we.toLowerCase().includes(X.color.toLowerCase())})),X.priceRange){const[le,we]=X.priceRange.split("-").map(Number);Z=Z.filter(ot=>we?ot.price>=le&&ot.price<=we:ot.price>=le)}switch(X.sortBy){case"price-low":Z.sort((le,we)=>le.price-we.price);break;case"price-high":Z.sort((le,we)=>we.price-le.price);break;case"oldest":Z.sort((le,we)=>le.createdAt.getTime()-we.createdAt.getTime());break;case"popular":Z.sort((le,we)=>{const ot=(Date.now()-le.createdAt.getTime())/864e5+le.price/100,Lt=(Date.now()-we.createdAt.getTime())/(1e3*60*60*24)+we.price/100;return ot-Lt});break;case"alphabetical":Z.sort((le,we)=>le.title.localeCompare(we.title));break;case"category":Z.sort((le,we)=>{const ot=le.category||"",Lt=we.category||"";return ot===Lt?le.title.localeCompare(we.title):ot.localeCompare(Lt)});break;case"newest":default:Z.sort((le,we)=>we.createdAt.getTime()-le.createdAt.getTime());break}return Z};return e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto"}),l.jsx("p",{className:"mt-4 text-white",children:"Loading Summit Gear..."})]})}):a?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!A&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:fi,className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"List Item"}),W&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:ds,className:"relative bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:["Pending Items",Se.pending>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Se.pending>9?"9+":Se.pending})]}),l.jsxs("button",{onClick:Ep,className:"relative bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:["Approve Items",Se.approved>0&&l.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Se.approved>9?"9+":Se.approved})]})]}),!W&&l.jsxs("button",{onClick:()=>V(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Bookmarked Items",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u()>9?"9+":u()})]}),!W&&l.jsxs("button",{onClick:()=>L(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Shopping Cart",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),c()>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:c()>9?"9+":c()})]}),l.jsxs("div",{ref:_e,className:"relative",children:[l.jsxs("button",{onClick:()=>ve(!Ae),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Ce.length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Ce.length>9?"9+":Ce.length})]}),Ae&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:W?"Platform Activity":"My Item Updates"}),l.jsx("p",{className:"text-xs text-gray-500",children:W?"All item activity in the last 24 hours":"Your items with recent activity"})]}),l.jsx("div",{className:"max-h-72 overflow-y-auto",children:Ce.length===0?l.jsxs("div",{className:"p-4 text-center text-gray-500",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l.jsx("p",{className:"text-sm",children:W?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):l.jsx("div",{className:"divide-y divide-gray-100",children:Ce.map(Z=>{const le=fs(Z);return l.jsx("button",{onClick:()=>sd(Z),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:l.jsxs("div",{className:"flex items-start gap-3",children:[Z.images&&Z.images.length>0?l.jsx("img",{src:Z.images[0],alt:Z.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Z.title}),l.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",Z.price]})]}),l.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${Z.status==="pending"?"bg-yellow-100 text-yellow-800":Z.status==="approved"?"bg-blue-100 text-blue-800":Z.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Z.status==="pending"?"Pending":Z.status==="approved"?"Approved":Z.status==="live"?"Live":Z.status})]}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[l.jsxs("p",{className:"text-xs text-gray-500",children:["by ",Z.sellerName]}),le&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${le.color} font-medium`,children:[l.jsx("span",{children:le.icon}),l.jsx("span",{children:le.message}),l.jsx("span",{className:"text-gray-400",children:le.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},Z.id)})})}),Ce.length>0&&l.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:l.jsx("p",{className:"text-xs text-gray-500 text-center",children:W?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),l.jsxs("div",{ref:ge,className:"relative flex items-center gap-3 pl-4 border-l border-gray-200",children:[l.jsxs("button",{onClick:()=>ae(!me),className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?l.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full object-cover",onError:Z=>{const le=Z.target;le.style.display="none"}}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),W&&l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),l.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${me?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),me&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.displayName}),l.jsx("div",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Admin Mode"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Toggle admin privileges and features"})]}),l.jsx("button",{onClick:s,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${o?"bg-purple-600":"bg-gray-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"text-xs bg-gray-50 rounded-lg p-3",children:[l.jsx("div",{className:"font-medium text-gray-700",children:"Current View:"}),l.jsx("div",{className:`font-semibold ${W?"text-purple-600":"text-gray-600"}`,children:W?" Admin Mode":" User Mode"})]}),l.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[l.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:W?"Analytics & Tools":"My History"}),l.jsx("button",{onClick:async()=>{await At(t,"dashboard_navigation",W?"Opened Analytics Dashboard":"Opened User History"),O(!0),C(!1),P(!1),ae(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:W?" Analytics Dashboard":" My User History"}),W&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:async()=>{await At(t,"dashboard_navigation","Opened Inventory Dashboard"),C(!0),O(!1),P(!1),ae(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:" Inventory Dashboard"}),l.jsx("button",{onClick:async()=>{await At(t,"dashboard_navigation","Opened Actions Dashboard"),P(!0),O(!1),C(!1),ae(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:" Actions Dashboard"})]})]}),l.jsx("div",{className:"border-t border-gray-200 pt-3",children:l.jsx("button",{onClick:()=>{i(),ae(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Sign Out"})})]})]})]})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"flex gap-8",children:[l.jsx("div",{className:"w-64 flex-shrink-0",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),l.jsx("button",{onClick:Il,className:"text-sm text-orange-600 hover:text-orange-700",children:"Clear All"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",value:X.searchQuery,onChange:Z=>Tn("searchQuery",Z.target.value),placeholder:"Search items...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),X.searchQuery&&l.jsx("button",{onClick:()=>Tn("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),X.searchQuery&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Searching in titles, descriptions, brands, and more"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),l.jsxs("select",{value:X.sortBy,onChange:Z=>Tn("sortBy",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"price-low",children:"Price: Low to High"}),l.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),l.jsxs("select",{value:X.category,onChange:Z=>Tn("category",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"",children:"All Categories"}),l.jsx("option",{value:"Climbing",children:"Climbing "}),l.jsx("option",{value:"Skiing",children:"Skiing "}),l.jsx("option",{value:"Hiking",children:"Hiking "}),l.jsx("option",{value:"Camping",children:"Camping "}),l.jsx("option",{value:"Mountaineering",children:"Mountaineering "}),l.jsx("option",{value:"Snowboarding",children:"Snowboarding "}),l.jsx("option",{value:"Cycling",children:"Cycling "}),l.jsx("option",{value:"Water Sports",children:"Water Sports "}),l.jsx("option",{value:"Apparel",children:"Apparel "}),l.jsx("option",{value:"Footwear",children:"Footwear "})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),l.jsxs("select",{value:X.gender,onChange:Z=>Tn("gender",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"Men",children:"Men"}),l.jsx("option",{value:"Women",children:"Women"}),l.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),l.jsxs("select",{value:X.size,onChange:Z=>Tn("size",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"",children:"All Sizes"}),l.jsx("option",{value:"XS",children:"XS"}),l.jsx("option",{value:"S",children:"S"}),l.jsx("option",{value:"M",children:"M"}),l.jsx("option",{value:"L",children:"L"}),l.jsx("option",{value:"XL",children:"XL"}),l.jsx("option",{value:"XXL",children:"XXL"}),l.jsx("option",{value:"6",children:"6"}),l.jsx("option",{value:"7",children:"7"}),l.jsx("option",{value:"8",children:"8"}),l.jsx("option",{value:"9",children:"9"}),l.jsx("option",{value:"10",children:"10"}),l.jsx("option",{value:"11",children:"11"}),l.jsx("option",{value:"12",children:"12"}),l.jsx("option",{value:"13",children:"13"}),l.jsx("option",{value:"One Size",children:"One Size"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),l.jsx("input",{type:"text",value:X.brand,onChange:Z=>Tn("brand",Z.target.value),placeholder:"Search brands...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),l.jsxs("select",{value:X.color,onChange:Z=>Tn("color",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"",children:"All Colors"}),l.jsx("option",{value:"Black",children:"Black"}),l.jsx("option",{value:"White",children:"White"}),l.jsx("option",{value:"Gray",children:"Gray"}),l.jsx("option",{value:"Red",children:"Red"}),l.jsx("option",{value:"Blue",children:"Blue"}),l.jsx("option",{value:"Green",children:"Green"}),l.jsx("option",{value:"Yellow",children:"Yellow"}),l.jsx("option",{value:"Orange",children:"Orange"}),l.jsx("option",{value:"Purple",children:"Purple"}),l.jsx("option",{value:"Pink",children:"Pink"}),l.jsx("option",{value:"Brown",children:"Brown"}),l.jsx("option",{value:"Navy",children:"Navy"}),l.jsx("option",{value:"Burgundy",children:"Burgundy"}),l.jsx("option",{value:"Olive",children:"Olive"}),l.jsx("option",{value:"Tan",children:"Tan"}),l.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l.jsxs("select",{value:X.priceRange,onChange:Z=>Tn("priceRange",Z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[l.jsx("option",{value:"",children:"Any Price"}),l.jsx("option",{value:"0-25",children:"Under $25"}),l.jsx("option",{value:"25-50",children:"$25 - $50"}),l.jsx("option",{value:"50-100",children:"$50 - $100"}),l.jsx("option",{value:"100-200",children:"$100 - $200"}),l.jsx("option",{value:"200-500",children:"$200 - $500"}),l.jsx("option",{value:"500",children:"$500+"})]})]})]})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Gear"}),l.jsx("p",{className:"text-gray-600",children:"Quality mountain equipment from fellow outdoor enthusiasts"})]}),l.jsxs("div",{className:"relative w-full sm:w-80",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",value:X.searchQuery,onChange:Z=>Tn("searchQuery",Z.target.value),placeholder:"Search gear...",className:"w-full pl-10 pr-10 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white shadow-sm"}),X.searchQuery&&l.jsx("button",{onClick:()=>Tn("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-6 p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),l.jsx("span",{className:"font-medium",children:"Sort by:"})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:[{key:"newest",label:"Newest",desc:"Recently added",icon:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{key:"popular",label:"Popular",desc:"Trending items",icon:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{key:"price-low",label:"Price ",desc:"Low to high",icon:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"price-high",label:"Price ",desc:"High to low",icon:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"alphabetical",label:"A-Z",desc:"Alphabetical",icon:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})},{key:"category",label:"Category",desc:"By type",icon:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}].map(Z=>l.jsxs("button",{onClick:()=>Tn("sortBy",Z.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${X.sortBy===Z.key?"bg-orange-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,title:Z.desc,children:[Z.icon,Z.label]},Z.key))}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),l.jsxs("span",{children:[d.length," items"]})]}),hi().length!==d.length&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),l.jsxs("span",{children:[hi().length," filtered"]})]})]})]})})]}),U?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):(()=>{const Z=hi();return Z.length===0?l.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d.length===0?"No items available yet":X.searchQuery?`No results found for "${X.searchQuery}"`:"No items match your filters"}),l.jsx("p",{className:"text-gray-500 mb-6",children:d.length===0?"Be the first to list your mountain gear!":X.searchQuery?"Try different keywords or check your spelling":"Try adjusting your search criteria"}),d.length===0?l.jsx("button",{onClick:fi,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"List Your First Item"}):l.jsx("button",{onClick:Il,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Clear Filters"})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[l.jsx("div",{className:"text-sm text-gray-600",children:X.searchQuery?l.jsxs("span",{children:["Found ",l.jsx("span",{className:"font-semibold",children:Z.length})," results",Z.length!==d.length&&l.jsxs("span",{children:[" of ",d.length," total items"]}),X.searchQuery&&l.jsxs("span",{children:[' for "',l.jsx("span",{className:"font-medium text-gray-900",children:X.searchQuery}),'"']})]}):l.jsxs("span",{children:["Showing ",Z.length," of ",d.length," items"]})}),X.searchQuery&&l.jsxs("button",{onClick:()=>Tn("searchQuery",""),className:"text-xs text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear search"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(le=>l.jsx(cJ,{item:le,isAdmin:W,onClick:sd},le.id))})]})})()]})]})})]}),(A||I||R)&&l.jsx("div",{className:"fixed inset-0 bg-white z-[60] overflow-auto",children:l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>{O(!1),C(!1),P(!1)},className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Back to Store"}),!W&&l.jsxs("button",{onClick:()=>V(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Bookmarked Items",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u()>9?"9+":u()})]}),l.jsxs("div",{ref:ge,className:"relative flex items-center gap-3 pl-4 border-l border-gray-200",children:[l.jsxs("button",{onClick:()=>ae(!me),className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?l.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),W&&l.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),l.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${me?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),me&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.displayName}),l.jsx("div",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")})]}),l.jsxs("div",{className:"p-2 space-y-1",children:[l.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),l.jsxs("button",{onClick:()=>{O(!0),C(!1),P(!1),ae(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${A?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:[" ",W?"Analytics Dashboard":"My User History"]}),W&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{C(!0),O(!1),P(!1),ae(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${I?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:" Inventory Dashboard"}),l.jsx("button",{onClick:()=>{P(!0),O(!1),C(!1),ae(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${R?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:" Actions Dashboard"})]}),l.jsx("div",{className:"border-t border-gray-200 my-2"}),l.jsx("button",{onClick:()=>{i(),ae(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Sign Out"})]})]})]})]})]})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:I?l.jsx(GIe,{user:t,isAdmin:W}):R?l.jsx(XIe,{user:t,isAdmin:W}):W?l.jsx(HIe,{user:t,isAdmin:W}):l.jsx(qIe,{user:t})})]})}),l.jsx(uJ,{isOpen:h,onClose:lb,user:t}),W&&l.jsxs(l.Fragment,{children:[l.jsx(hae,{isOpen:v,onClose:Sp,user:t}),l.jsx(mae,{isOpen:x,onClose:od,user:t})]}),l.jsx(OC,{isOpen:be,onClose:()=>te(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async Z=>{await r(Z)}}),l.jsx(JE,{isOpen:pn,onClose:cb,item:jt,onItemUpdated:()=>{qt(),$n(),Xe()}}),l.jsx(gae,{isOpen:q,onClose:()=>L(!1),onCheckout:ld}),l.jsx(vae,{isOpen:B,onClose:()=>V(!1),items:d,onItemClick:sd}),l.jsx(roe,{isOpen:H,onClose:Tp,onSuccess:jp}),z&&l.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"Order Successful!"}),l.jsx("p",{className:"text-sm opacity-90",children:"Thank you for your purchase. You'll receive a confirmation email soon."})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[l.jsx("nav",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Summit Gear Exchange"}),l.jsx("p",{className:"text-xs text-gray-300",children:"Mountain Consignment Store"})]})]}),l.jsxs("button",{onClick:()=>te(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors flex items-center gap-2",children:[l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign In"]})]})})}),l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-blue-900/70 z-10"}),l.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-blue-900"}),l.jsx("svg",{className:"absolute bottom-0 w-full h-64 text-slate-700",fill:"currentColor",viewBox:"0 0 1200 300",children:l.jsx("path",{d:"M0,300 L0,200 L100,150 L200,100 L300,120 L400,80 L500,90 L600,50 L700,70 L800,40 L900,60 L1000,30 L1100,50 L1200,20 L1200,300 Z"})})]}),l.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Premium Mountain",l.jsx("span",{className:"block text-orange-400",children:"Gear Exchange"})]}),l.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Buy and sell quality outdoor equipment. From climbing gear to skiing essentials, find everything you need for your next mountain adventure."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{onClick:()=>te(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Enter Store"]}),l.jsx("button",{onClick:()=>te(!0),className:"border-2 border-orange-400 text-orange-400 hover:bg-orange-400 hover:text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Selling"})]})]})})]}),l.jsx("div",{className:"py-24 bg-slate-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Choose Summit Gear Exchange?"}),l.jsx("p",{className:"text-gray-400 text-lg",children:"The trusted marketplace for mountain enthusiasts"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quality Guaranteed"}),l.jsx("p",{className:"text-gray-400",children:"Every item is inspected by our mountain gear experts before listing"})]}),l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Fair Pricing"}),l.jsx("p",{className:"text-gray-400",children:"Competitive prices for both buyers and sellers in the outdoor community"})]}),l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Community Focused"}),l.jsx("p",{className:"text-gray-400",children:"Built by climbers, for climbers. Join our community of mountain enthusiasts"})]})]})]})}),l.jsx("div",{className:"py-24 bg-slate-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Popular Categories"}),l.jsx("p",{className:"text-gray-400 text-lg",children:"Find gear for every mountain adventure"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{name:"Climbing",icon:"",color:"from-red-500 to-orange-500"},{name:"Skiing",icon:"",color:"from-blue-500 to-cyan-500"},{name:"Hiking",icon:"",color:"from-green-500 to-emerald-500"},{name:"Camping",icon:"",color:"from-purple-500 to-pink-500"},{name:"Mountaineering",icon:"",color:"from-gray-500 to-slate-500"},{name:"Snowboarding",icon:"",color:"from-indigo-500 to-blue-500"},{name:"Cycling",icon:"",color:"from-yellow-500 to-orange-500"},{name:"Water Sports",icon:"",color:"from-teal-500 to-cyan-500"}].map((Z,le)=>l.jsxs("div",{className:`bg-gradient-to-br ${Z.color} rounded-xl p-6 text-center cursor-pointer hover:scale-105 transition-transform`,children:[l.jsx("div",{className:"text-4xl mb-3",children:Z.icon}),l.jsx("h3",{className:"text-white font-semibold",children:Z.name})]},le))}),l.jsx("div",{className:"text-center mt-12",children:l.jsx("button",{onClick:()=>te(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Sign In to Browse All Items"})})]})}),l.jsx("div",{className:"py-24 bg-gradient-to-r from-orange-600 to-orange-500",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Gear Up?"}),l.jsx("p",{className:"text-xl text-orange-100 mb-8",children:"Join thousands of mountain enthusiasts buying and selling quality gear"}),l.jsxs("button",{onClick:()=>te(!0),className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2 mx-auto",children:[l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Get Started Now"]})]})}),l.jsx(OC,{isOpen:be,onClose:()=>te(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async Z=>{await r(Z)}})]})};function QIe(){return l.jsx(lJ,{children:l.jsx(EF,{children:l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsx(tF,{children:l.jsx(z4,{path:"/",element:l.jsx(YIe,{})})})})})})}ez.createRoot(document.getElementById("root")).render(l.jsx(k.StrictMode,{children:l.jsx(QIe,{})}));
