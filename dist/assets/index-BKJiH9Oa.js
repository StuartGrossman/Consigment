(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zR={exports:{}},_0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=Symbol.for("react.transitional.element"),fU=Symbol.for("react.fragment");function FR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:dU,type:t,key:r,ref:e!==void 0?e:null,props:n}}_0.Fragment=fU;_0.jsx=FR;_0.jsxs=FR;zR.exports=_0;var o=zR.exports,HR={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=Symbol.for("react.transitional.element"),hU=Symbol.for("react.portal"),mU=Symbol.for("react.fragment"),pU=Symbol.for("react.strict_mode"),gU=Symbol.for("react.profiler"),yU=Symbol.for("react.consumer"),vU=Symbol.for("react.context"),xU=Symbol.for("react.forward_ref"),bU=Symbol.for("react.suspense"),wU=Symbol.for("react.memo"),qR=Symbol.for("react.lazy"),ZE=Symbol.iterator;function _U(t){return t===null||typeof t!="object"?null:(t=ZE&&t[ZE]||t["@@iterator"],typeof t=="function"?t:null)}var GR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WR=Object.assign,KR={};function Gu(t,e,n){this.props=t,this.context=e,this.refs=KR,this.updater=n||GR}Gu.prototype.isReactComponent={};Gu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XR(){}XR.prototype=Gu.prototype;function x2(t,e,n){this.props=t,this.context=e,this.refs=KR,this.updater=n||GR}var b2=x2.prototype=new XR;b2.constructor=x2;WR(b2,Gu.prototype);b2.isPureReactComponent=!0;var JE=Array.isArray,Ht={H:null,A:null,T:null,S:null,V:null},YR=Object.prototype.hasOwnProperty;function w2(t,e,n,r,i,a){return n=a.ref,{$$typeof:v2,type:t,key:e,ref:n!==void 0?n:null,props:a}}function jU(t,e){return w2(t.type,e,void 0,void 0,void 0,t.props)}function _2(t){return typeof t=="object"&&t!==null&&t.$$typeof===v2}function SU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eN=/\/+/g;function kx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SU(""+t.key):e.toString(36)}function tN(){}function AU(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(tN,tN):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function lc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case v2:case hU:s=!0;break;case qR:return s=t._init,lc(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+kx(t,0):r,JE(i)?(n="",s!=null&&(n=s.replace(eN,"$&/")+"/"),lc(i,e,n,"",function(u){return u})):i!=null&&(_2(i)&&(i=jU(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(eN,"$&/")+"/")+s)),e.push(i)),1;s=0;var l=r===""?".":r+":";if(JE(t))for(var c=0;c<t.length;c++)r=t[c],a=l+kx(r,c),s+=lc(r,e,n,a,i);else if(c=_U(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,a=l+kx(r,c++),s+=lc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return lc(AU(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function rp(t,e,n){if(t==null)return t;var r=[],i=0;return lc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function EU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nN=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function NU(){}qe.Children={map:rp,forEach:function(t,e,n){rp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rp(t,function(){e++}),e},toArray:function(t){return rp(t,function(e){return e})||[]},only:function(t){if(!_2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Gu;qe.Fragment=mU;qe.Profiler=gU;qe.PureComponent=x2;qe.StrictMode=pU;qe.Suspense=bU;qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;qe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ht.H.useMemoCache(t)}};qe.cache=function(t){return function(){return t.apply(null,arguments)}};qe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=WR({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!YR.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}return w2(t.type,i,void 0,void 0,a,r)};qe.createContext=function(t){return t={$$typeof:vU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:yU,_context:t},t};qe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)YR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return w2(t,a,void 0,void 0,null,i)};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:xU,render:t}};qe.isValidElement=_2;qe.lazy=function(t){return{$$typeof:qR,_payload:{_status:-1,_result:t},_init:EU}};qe.memo=function(t,e){return{$$typeof:wU,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Ht.T,n={};Ht.T=n;try{var r=t(),i=Ht.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(NU,nN)}catch(a){nN(a)}finally{Ht.T=e}};qe.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()};qe.use=function(t){return Ht.H.use(t)};qe.useActionState=function(t,e,n){return Ht.H.useActionState(t,e,n)};qe.useCallback=function(t,e){return Ht.H.useCallback(t,e)};qe.useContext=function(t){return Ht.H.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t,e){return Ht.H.useDeferredValue(t,e)};qe.useEffect=function(t,e,n){var r=Ht.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};qe.useId=function(){return Ht.H.useId()};qe.useImperativeHandle=function(t,e,n){return Ht.H.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Ht.H.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Ht.H.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Ht.H.useMemo(t,e)};qe.useOptimistic=function(t,e){return Ht.H.useOptimistic(t,e)};qe.useReducer=function(t,e,n){return Ht.H.useReducer(t,e,n)};qe.useRef=function(t){return Ht.H.useRef(t)};qe.useState=function(t){return Ht.H.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Ht.H.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Ht.H.useTransition()};qe.version="19.1.0";HR.exports=qe;var C=HR.exports;const B=pt(C);var QR={exports:{}},j0={},ZR={exports:{}},JR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,D){var z=U.length;U.push(D);e:for(;0<z;){var V=z-1>>>1,X=U[V];if(0<i(X,D))U[V]=D,U[z]=X,z=V;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var D=U[0],z=U.pop();if(z!==D){U[0]=z;e:for(var V=0,X=U.length,Y=X>>>1;V<Y;){var K=2*(V+1)-1,F=U[K],te=K+1,H=U[te];if(0>i(F,z))te<X&&0>i(H,F)?(U[V]=H,U[te]=z,V=te):(U[V]=F,U[K]=z,V=K);else if(te<X&&0>i(H,z))U[V]=H,U[te]=z,V=te;else break e}}return D}function i(U,D){var z=U.sortIndex-D.sortIndex;return z!==0?z:U.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=U)r(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=n(u)}}function j(U){if(g=!1,N(U),!y)if(n(c)!==null)y=!0,A||(A=!0,R());else{var D=n(u);D!==null&&L(j,D.startTime-U)}}var A=!1,w=-1,S=5,T=-1;function P(){return x?!0:!(t.unstable_now()-T<S)}function O(){if(x=!1,A){var U=t.unstable_now();T=U;var D=!0;try{e:{y=!1,g&&(g=!1,v(w),w=-1),p=!0;var z=h;try{t:{for(N(U),f=n(c);f!==null&&!(f.expirationTime>U&&P());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var X=V(f.expirationTime<=U);if(U=t.unstable_now(),typeof X=="function"){f.callback=X,N(U),D=!0;break t}f===n(c)&&r(c),N(U)}else r(c);f=n(c)}if(f!==null)D=!0;else{var Y=n(u);Y!==null&&L(j,Y.startTime-U),D=!1}}break e}finally{f=null,h=z,p=!1}D=void 0}}finally{D?R():A=!1}}}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=O,R=function(){$.postMessage(null)}}else R=function(){b(O,0)};function L(U,D){w=b(function(){U(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return U()}finally{h=z}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(U,D){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var z=h;h=U;try{return D()}finally{h=z}},t.unstable_scheduleCallback=function(U,D,z){var V=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,U={id:d++,callback:D,priorityLevel:U,startTime:z,expirationTime:X,sortIndex:-1},z>V?(U.sortIndex=z,e(u,U),n(c)===null&&U===n(u)&&(g?(v(w),w=-1):g=!0,L(j,z-V))):(U.sortIndex=X,e(c,U),y||p||(y=!0,A||(A=!0,R()))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var D=h;return function(){var z=h;h=D;try{return U.apply(this,arguments)}finally{h=z}}}})(JR);ZR.exports=JR;var TU=ZR.exports,eM={exports:{}},vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU=C;function tM(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xs(){}var mr={d:{f:xs,r:function(){throw Error(tM(522))},D:xs,C:xs,L:xs,m:xs,X:xs,S:xs,M:xs},p:0,findDOMNode:null},CU=Symbol.for("react.portal");function kU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:CU,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var pf=OU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S0(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mr;vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(tM(299));return kU(t,e,null,n)};vr.flushSync=function(t){var e=pf.T,n=mr.p;try{if(pf.T=null,mr.p=2,t)return t()}finally{pf.T=e,mr.p=n,mr.d.f()}};vr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,mr.d.C(t,e))};vr.prefetchDNS=function(t){typeof t=="string"&&mr.d.D(t)};vr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=S0(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?mr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&mr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};vr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=S0(e.as,e.crossOrigin);mr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&mr.d.M(t)};vr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=S0(n,e.crossOrigin);mr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};vr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=S0(e.as,e.crossOrigin);mr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else mr.d.m(t)};vr.requestFormReset=function(t){mr.d.r(t)};vr.unstable_batchedUpdates=function(t,e){return t(e)};vr.useFormState=function(t,e,n){return pf.H.useFormState(t,e,n)};vr.useFormStatus=function(){return pf.H.useHostTransitionStatus()};vr.version="19.1.0";function nM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nM)}catch(t){console.error(t)}}nM(),eM.exports=vr;var IU=eM.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn=TU,rM=C,PU=IU;function se(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rN(t){if(Qh(t)!==t)throw Error(se(188))}function RU(t){var e=t.alternate;if(!e){if(e=Qh(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return rN(i),t;if(a===r)return rN(i),e;a=a.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function sM(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=sM(t),e!==null)return e;t=t.sibling}return null}var $t=Object.assign,MU=Symbol.for("react.element"),ip=Symbol.for("react.transitional.element"),af=Symbol.for("react.portal"),gc=Symbol.for("react.fragment"),oM=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),DU=Symbol.for("react.provider"),lM=Symbol.for("react.consumer"),Ra=Symbol.for("react.context"),j2=Symbol.for("react.forward_ref"),f1=Symbol.for("react.suspense"),h1=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),m1=Symbol.for("react.activity"),$U=Symbol.for("react.memo_cache_sentinel"),iN=Symbol.iterator;function Pd(t){return t===null||typeof t!="object"?null:(t=iN&&t[iN]||t["@@iterator"],typeof t=="function"?t:null)}var LU=Symbol.for("react.client.reference");function p1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===LU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gc:return"Fragment";case d1:return"Profiler";case oM:return"StrictMode";case f1:return"Suspense";case h1:return"SuspenseList";case m1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case af:return"Portal";case Ra:return(t.displayName||"Context")+".Provider";case lM:return(t._context.displayName||"Context")+".Consumer";case j2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S2:return e=t.displayName||null,e!==null?e:p1(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return p1(t(e))}catch{}}return null}var sf=Array.isArray,$e=rM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=PU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nl={pending:!1,data:null,method:null,action:null},g1=[],yc=-1;function va(t){return{current:t}}function $n(t){0>yc||(t.current=g1[yc],g1[yc]=null,yc--)}function qt(t,e){yc++,g1[yc]=t.current,t.current=e}var aa=va(null),qf=va(null),Fs=va(null),wg=va(null);function _g(t,e){switch(qt(Fs,e),qt(qf,t),qt(aa,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?cT(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=cT(e),t=AD(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$n(aa),qt(aa,t)}function Yc(){$n(aa),$n(qf),$n(Fs)}function y1(t){t.memoizedState!==null&&qt(wg,t);var e=aa.current,n=AD(e,t.type);e!==n&&(qt(qf,t),qt(aa,n))}function jg(t){qf.current===t&&($n(aa),$n(qf)),wg.current===t&&($n(wg),th._currentValue=nl)}var v1=Object.prototype.hasOwnProperty,A2=Nn.unstable_scheduleCallback,Ix=Nn.unstable_cancelCallback,BU=Nn.unstable_shouldYield,UU=Nn.unstable_requestPaint,sa=Nn.unstable_now,VU=Nn.unstable_getCurrentPriorityLevel,cM=Nn.unstable_ImmediatePriority,uM=Nn.unstable_UserBlockingPriority,Sg=Nn.unstable_NormalPriority,zU=Nn.unstable_LowPriority,dM=Nn.unstable_IdlePriority,FU=Nn.log,HU=Nn.unstable_setDisableYieldValue,Zh=null,Xr=null;function Ds(t){if(typeof FU=="function"&&HU(t),Xr&&typeof Xr.setStrictMode=="function")try{Xr.setStrictMode(Zh,t)}catch{}}var Yr=Math.clz32?Math.clz32:WU,qU=Math.log,GU=Math.LN2;function WU(t){return t>>>=0,t===0?32:31-(qU(t)/GU|0)|0}var ap=256,sp=4194304;function Uo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function A0(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=r&134217727;return l!==0?(r=l&~a,r!==0?i=Uo(r):(s&=l,s!==0?i=Uo(s):n||(n=l&~t,n!==0&&(i=Uo(n))))):(l=r&~a,l!==0?i=Uo(l):s!==0?i=Uo(s):n||(n=r&~t,n!==0&&(i=Uo(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Jh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function KU(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fM(){var t=ap;return ap<<=1,!(ap&4194048)&&(ap=256),t}function hM(){var t=sp;return sp<<=1,!(sp&62914560)&&(sp=4194304),t}function Px(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function em(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function XU(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-Yr(n),f=1<<d;l[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&mM(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function mM(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Yr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function pM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function E2(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function N2(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function gM(){var t=ht.p;return t!==0?t:(t=window.event,t===void 0?32:MD(t.type))}function YU(t,e){var n=ht.p;try{return ht.p=t,e()}finally{ht.p=n}}var go=Math.random().toString(36).slice(2),ar="__reactFiber$"+go,Ir="__reactProps$"+go,Wu="__reactContainer$"+go,x1="__reactEvents$"+go,QU="__reactListeners$"+go,ZU="__reactHandles$"+go,aN="__reactResources$"+go,tm="__reactMarker$"+go;function T2(t){delete t[ar],delete t[Ir],delete t[x1],delete t[QU],delete t[ZU]}function vc(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wu]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fT(t);t!==null;){if(n=t[ar])return n;t=fT(t)}return e}t=n,n=t.parentNode}return null}function Ku(t){if(t=t[ar]||t[Wu]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function of(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(se(33))}function Rc(t){var e=t[aN];return e||(e=t[aN]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Rn(t){t[tm]=!0}var yM=new Set,vM={};function Il(t,e){Qc(t,e),Qc(t+"Capture",e)}function Qc(t,e){for(vM[t]=e,t=0;t<e.length;t++)yM.add(e[t])}var JU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sN={},oN={};function eV(t){return v1.call(oN,t)?!0:v1.call(sN,t)?!1:JU.test(t)?oN[t]=!0:(sN[t]=!0,!1)}function Kp(t,e,n){if(eV(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function op(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Na(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Rx,lN;function cc(t){if(Rx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rx=e&&e[1]||"",lN=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rx+t+lN}var Mx=!1;function Dx(t,e){if(!t||Mx)return"";Mx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){h=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var c=s.split(`
`),u=l.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{Mx=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?cc(n):""}function tV(t){switch(t.tag){case 26:case 27:case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 15:return Dx(t.type,!1);case 11:return Dx(t.type.render,!1);case 1:return Dx(t.type,!0);case 31:return cc("Activity");default:return""}}function cN(t){try{var e="";do e+=tV(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ci(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nV(t){var e=xM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ag(t){t._valueTracker||(t._valueTracker=nV(t))}function bM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rV=/[\n"\\]/g;function fi(t){return t.replace(rV,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function b1(t,e,n,r,i,a,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ci(e)):t.value!==""+ci(e)&&(t.value=""+ci(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?w1(t,s,ci(e)):n!=null?w1(t,s,ci(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+ci(l):t.removeAttribute("name")}function wM(t,e,n,r,i,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+ci(n):"",e=e!=null?""+ci(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=l?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function w1(t,e,n){e==="number"&&Eg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Mc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _M(t,e,n){if(e!=null&&(e=""+ci(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ci(n):""}function jM(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(se(92));if(sf(r)){if(1<r.length)throw Error(se(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ci(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iV=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uN(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||iV.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function SM(t,e,n){if(e!=null&&typeof e!="object")throw Error(se(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&uN(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&uN(t,a,e[a])}function O2(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aV=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sV=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xp(t){return sV.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _1=null;function C2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xc=null,Dc=null;function dN(t){var e=Ku(t);if(e&&(t=e.stateNode)){var n=t[Ir]||null;e:switch(t=e.stateNode,e.type){case"input":if(b1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+fi(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Ir]||null;if(!i)throw Error(se(90));b1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&bM(r)}break e;case"textarea":_M(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Mc(t,!!n.multiple,e,!1)}}}var $x=!1;function AM(t,e,n){if($x)return t(e,n);$x=!0;try{var r=t(e);return r}finally{if($x=!1,(xc!==null||Dc!==null)&&(M0(),xc&&(e=xc,t=Dc,Dc=xc=null,dN(e),t)))for(e=0;e<t.length;e++)dN(t[e])}}function Gf(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Ir]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j1=!1;if(Qa)try{var Rd={};Object.defineProperty(Rd,"passive",{get:function(){j1=!0}}),window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{j1=!1}var $s=null,k2=null,Yp=null;function EM(){if(Yp)return Yp;var t,e=k2,n=e.length,r,i="value"in $s?$s.value:$s.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Yp=i.slice(t,1<r?1-r:void 0)}function Qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lp(){return!0}function fN(){return!1}function Pr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?lp:fN,this.isPropagationStopped=fN,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lp)},persist:function(){},isPersistent:lp}),e}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E0=Pr(Pl),nm=$t({},Pl,{view:0,detail:0}),oV=Pr(nm),Lx,Bx,Md,N0=$t({},nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Md&&(Md&&t.type==="mousemove"?(Lx=t.screenX-Md.screenX,Bx=t.screenY-Md.screenY):Bx=Lx=0,Md=t),Lx)},movementY:function(t){return"movementY"in t?t.movementY:Bx}}),hN=Pr(N0),lV=$t({},N0,{dataTransfer:0}),cV=Pr(lV),uV=$t({},nm,{relatedTarget:0}),Ux=Pr(uV),dV=$t({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),fV=Pr(dV),hV=$t({},Pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mV=Pr(hV),pV=$t({},Pl,{data:0}),mN=Pr(pV),gV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vV[t])?!!e[t]:!1}function I2(){return xV}var bV=$t({},nm,{key:function(t){if(t.key){var e=gV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I2,charCode:function(t){return t.type==="keypress"?Qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wV=Pr(bV),_V=$t({},N0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pN=Pr(_V),jV=$t({},nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I2}),SV=Pr(jV),AV=$t({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),EV=Pr(AV),NV=$t({},N0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TV=Pr(NV),OV=$t({},Pl,{newState:0,oldState:0}),CV=Pr(OV),kV=[9,13,27,32],P2=Qa&&"CompositionEvent"in window,gf=null;Qa&&"documentMode"in document&&(gf=document.documentMode);var IV=Qa&&"TextEvent"in window&&!gf,NM=Qa&&(!P2||gf&&8<gf&&11>=gf),gN=" ",yN=!1;function TM(t,e){switch(t){case"keyup":return kV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bc=!1;function PV(t,e){switch(t){case"compositionend":return OM(e);case"keypress":return e.which!==32?null:(yN=!0,gN);case"textInput":return t=e.data,t===gN&&yN?null:t;default:return null}}function RV(t,e){if(bc)return t==="compositionend"||!P2&&TM(t,e)?(t=EM(),Yp=k2=$s=null,bc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NM&&e.locale!=="ko"?null:e.data;default:return null}}var MV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MV[t.type]:e==="textarea"}function CM(t,e,n,r){xc?Dc?Dc.push(r):Dc=[r]:xc=r,e=Hg(e,"onChange"),0<e.length&&(n=new E0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yf=null,Wf=null;function DV(t){_D(t,0)}function T0(t){var e=of(t);if(bM(e))return t}function xN(t,e){if(t==="change")return e}var kM=!1;if(Qa){var Vx;if(Qa){var zx="oninput"in document;if(!zx){var bN=document.createElement("div");bN.setAttribute("oninput","return;"),zx=typeof bN.oninput=="function"}Vx=zx}else Vx=!1;kM=Vx&&(!document.documentMode||9<document.documentMode)}function wN(){yf&&(yf.detachEvent("onpropertychange",IM),Wf=yf=null)}function IM(t){if(t.propertyName==="value"&&T0(Wf)){var e=[];CM(e,Wf,t,C2(t)),AM(DV,e)}}function $V(t,e,n){t==="focusin"?(wN(),yf=e,Wf=n,yf.attachEvent("onpropertychange",IM)):t==="focusout"&&wN()}function LV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return T0(Wf)}function BV(t,e){if(t==="click")return T0(e)}function UV(t,e){if(t==="input"||t==="change")return T0(e)}function VV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:VV;function Kf(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v1.call(e,i)||!ni(t[i],e[i]))return!1}return!0}function _N(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jN(t,e){var n=_N(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_N(n)}}function PM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RM(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Eg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eg(t.document)}return e}function R2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var zV=Qa&&"documentMode"in document&&11>=document.documentMode,wc=null,S1=null,vf=null,A1=!1;function SN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A1||wc==null||wc!==Eg(r)||(r=wc,"selectionStart"in r&&R2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vf&&Kf(vf,r)||(vf=r,r=Hg(S1,"onSelect"),0<r.length&&(e=new E0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wc)))}function Do(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _c={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},Fx={},MM={};Qa&&(MM=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function Rl(t){if(Fx[t])return Fx[t];if(!_c[t])return t;var e=_c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MM)return Fx[t]=e[n];return t}var DM=Rl("animationend"),$M=Rl("animationiteration"),LM=Rl("animationstart"),FV=Rl("transitionrun"),HV=Rl("transitionstart"),qV=Rl("transitioncancel"),BM=Rl("transitionend"),UM=new Map,E1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");E1.push("scrollEnd");function Hi(t,e){UM.set(t,e),Il(e,[t])}var AN=new WeakMap;function hi(t,e){if(typeof t=="object"&&t!==null){var n=AN.get(t);return n!==void 0?n:(e={value:t,source:e,stack:cN(e)},AN.set(t,e),e)}return{value:t,source:e,stack:cN(e)}}var li=[],jc=0,M2=0;function O0(){for(var t=jc,e=M2=jc=0;e<t;){var n=li[e];li[e++]=null;var r=li[e];li[e++]=null;var i=li[e];li[e++]=null;var a=li[e];if(li[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&VM(n,i,a)}}function C0(t,e,n,r){li[jc++]=t,li[jc++]=e,li[jc++]=n,li[jc++]=r,M2|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function D2(t,e,n,r){return C0(t,e,n,r),Ng(t)}function Xu(t,e){return C0(t,null,null,e),Ng(t)}function VM(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Yr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Ng(t){if(50<Tf)throw Tf=0,W1=null,Error(se(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Sc={};function GV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,n,r){return new GV(t,e,n,r)}function $2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ha(t,e){var n=t.alternate;return n===null?(n=Hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function zM(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Zp(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")$2(t)&&(s=1);else if(typeof t=="string")s=K7(t,n,aa.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case m1:return t=Hr(31,n,e,i),t.elementType=m1,t.lanes=a,t;case gc:return rl(n.children,i,a,e);case oM:s=8,i|=24;break;case d1:return t=Hr(12,n,e,i|2),t.elementType=d1,t.lanes=a,t;case f1:return t=Hr(13,n,e,i),t.elementType=f1,t.lanes=a,t;case h1:return t=Hr(19,n,e,i),t.elementType=h1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DU:case Ra:s=10;break e;case lM:s=9;break e;case j2:s=11;break e;case S2:s=14;break e;case Ss:s=16,r=null;break e}s=29,n=Error(se(130,t===null?"null":typeof t,"")),r=null}return e=Hr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function rl(t,e,n,r){return t=Hr(7,t,r,e),t.lanes=n,t}function Hx(t,e,n){return t=Hr(6,t,null,e),t.lanes=n,t}function qx(t,e,n){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ac=[],Ec=0,Tg=null,Og=0,ui=[],di=0,il=null,Ma=1,Da="";function Vo(t,e){Ac[Ec++]=Og,Ac[Ec++]=Tg,Tg=t,Og=e}function FM(t,e,n){ui[di++]=Ma,ui[di++]=Da,ui[di++]=il,il=t;var r=Ma;t=Da;var i=32-Yr(r)-1;r&=~(1<<i),n+=1;var a=32-Yr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ma=1<<32-Yr(e)+i|n<<i|r,Da=a+t}else Ma=1<<a|n<<i|r,Da=t}function L2(t){t.return!==null&&(Vo(t,1),FM(t,1,0))}function B2(t){for(;t===Tg;)Tg=Ac[--Ec],Ac[Ec]=null,Og=Ac[--Ec],Ac[Ec]=null;for(;t===il;)il=ui[--di],ui[di]=null,Da=ui[--di],ui[di]=null,Ma=ui[--di],ui[di]=null}var hr=null,Zt=null,ft=!1,al=null,Ji=!1,N1=Error(se(519));function pl(t){var e=Error(se(418,""));throw Xf(hi(e,t)),N1}function EN(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[ar]=t,e[Ir]=r,n){case"dialog":Qe("cancel",e),Qe("close",e);break;case"iframe":case"object":case"embed":Qe("load",e);break;case"video":case"audio":for(n=0;n<Zf.length;n++)Qe(Zf[n],e);break;case"source":Qe("error",e);break;case"img":case"image":case"link":Qe("error",e),Qe("load",e);break;case"details":Qe("toggle",e);break;case"input":Qe("invalid",e),wM(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ag(e);break;case"select":Qe("invalid",e);break;case"textarea":Qe("invalid",e),jM(e,r.value,r.defaultValue,r.children),Ag(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||SD(e.textContent,n)?(r.popover!=null&&(Qe("beforetoggle",e),Qe("toggle",e)),r.onScroll!=null&&Qe("scroll",e),r.onScrollEnd!=null&&Qe("scrollend",e),r.onClick!=null&&(e.onclick=L0),e=!0):e=!1,e||pl(t)}function NN(t){for(hr=t.return;hr;)switch(hr.tag){case 5:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:hr=hr.return}}function Dd(t){if(t!==hr)return!1;if(!ft)return NN(t),ft=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||J1(t.type,t.memoizedProps)),n=!n),n&&Zt&&pl(t),NN(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Zt=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Zt=null}}else e===27?(e=Zt,yo(t.type)?(t=nw,nw=null,Zt=t):Zt=e):Zt=hr?$i(t.stateNode.nextSibling):null;return!0}function rm(){Zt=hr=null,ft=!1}function TN(){var t=al;return t!==null&&(jr===null?jr=t:jr.push.apply(jr,t),al=null),t}function Xf(t){al===null?al=[t]:al.push(t)}var T1=va(null),Ml=null,$a=null;function Ns(t,e,n){qt(T1,e._currentValue),e._currentValue=n}function qa(t){t._currentValue=T1.current,$n(T1)}function O1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function C1(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),O1(a.return,n,t),r||(s=null);break e}a=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),O1(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function im(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(se(387));if(s=s.memoizedProps,s!==null){var l=i.type;ni(i.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(i===wg.current){if(s=i.alternate,s===null)throw Error(se(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(th):t=[th])}i=i.return}t!==null&&C1(e,t,n,r),e.flags|=262144}function Cg(t){for(t=t.firstContext;t!==null;){if(!ni(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gl(t){Ml=t,$a=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sr(t){return HM(Ml,t)}function cp(t,e){return Ml===null&&gl(t),HM(t,e)}function HM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},$a===null){if(t===null)throw Error(se(308));$a=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else $a=$a.next=e;return n}var WV=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},KV=Nn.unstable_scheduleCallback,XV=Nn.unstable_NormalPriority,wn={$$typeof:Ra,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function U2(){return{controller:new WV,data:new Map,refCount:0}}function am(t){t.refCount--,t.refCount===0&&KV(XV,function(){t.controller.abort()})}var xf=null,k1=0,Jc=0,$c=null;function YV(t,e){if(xf===null){var n=xf=[];k1=0,Jc=cj(),$c={status:"pending",value:void 0,then:function(r){n.push(r)}}}return k1++,e.then(ON,ON),e}function ON(){if(--k1===0&&xf!==null){$c!==null&&($c.status="fulfilled");var t=xf;xf=null,Jc=0,$c=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function QV(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var CN=$e.S;$e.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&YV(t,e),CN!==null&&CN(t,e)};var sl=va(null);function V2(){var t=sl.current;return t!==null?t:Ct.pooledCache}function Jp(t,e){e===null?qt(sl,sl.current):qt(sl,e.pool)}function qM(){var t=V2();return t===null?null:{parent:wn._currentValue,pool:t}}var sm=Error(se(460)),GM=Error(se(474)),k0=Error(se(542)),I1={then:function(){}};function kN(t){return t=t.status,t==="fulfilled"||t==="rejected"}function up(){}function WM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(up,up),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,PN(t),t;default:if(typeof e.status=="string")e.then(up,up);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(se(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,PN(t),t}throw bf=e,sm}}var bf=null;function IN(){if(bf===null)throw Error(se(459));var t=bf;return bf=null,t}function PN(t){if(t===sm||t===k0)throw Error(se(483))}var As=!1;function z2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function P1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Ng(t),VM(t,null,n),e}return C0(t,r,e,n),Ng(t)}function wf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pM(t,n)}}function Gx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var R1=!1;function _f(){if(R1){var t=$c;if(t!==null)throw t}}function jf(t,e,n,r){R1=!1;var i=t.updateQueue;As=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane&-536870913,p=h!==l.lane;if(p?(st&h)===h:(r&h)===h){h!==0&&h===Jc&&(R1=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=t,g=l;h=e;var x=n;switch(g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(x,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(x,f,h):y,h==null)break e;f=$t({},f,h);break e;case 2:As=!0}}h=l.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),ao|=s,t.lanes=s,t.memoizedState=f}}function KM(t,e){if(typeof t!="function")throw Error(se(191,t));t.call(e)}function XM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)KM(n[t],e)}var eu=va(null),kg=va(0);function RN(t,e){t=es,qt(kg,t),qt(eu,e),es=t|e.baseLanes}function M1(){qt(kg,es),qt(eu,eu.current)}function F2(){es=kg.current,$n(eu),$n(kg)}var ro=0,Ke=null,wt=null,fn=null,Ig=!1,Lc=!1,yl=!1,Pg=0,Yf=0,Bc=null,ZV=0;function rn(){throw Error(se(321))}function H2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ni(t[n],e[n]))return!1;return!0}function q2(t,e,n,r,i,a){return ro=a,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$e.H=t===null||t.memoizedState===null?E4:N4,yl=!1,a=n(r,i),yl=!1,Lc&&(a=QM(e,n,r,i)),YM(t),a}function YM(t){$e.H=Rg;var e=wt!==null&&wt.next!==null;if(ro=0,fn=wt=Ke=null,Ig=!1,Yf=0,Bc=null,e)throw Error(se(300));t===null||Dn||(t=t.dependencies,t!==null&&Cg(t)&&(Dn=!0))}function QM(t,e,n,r){Ke=t;var i=0;do{if(Lc&&(Bc=null),Yf=0,Lc=!1,25<=i)throw Error(se(301));if(i+=1,fn=wt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}$e.H=a7,a=e(n,r)}while(Lc);return a}function JV(){var t=$e.H,e=t.useState()[0];return e=typeof e.then=="function"?om(e):e,t=t.useState()[0],(wt!==null?wt.memoizedState:null)!==t&&(Ke.flags|=1024),e}function G2(){var t=Pg!==0;return Pg=0,t}function W2(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function K2(t){if(Ig){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ig=!1}ro=0,fn=wt=Ke=null,Lc=!1,Yf=Pg=0,Bc=null}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ke.memoizedState=fn=t:fn=fn.next=t,fn}function pn(){if(wt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=fn===null?Ke.memoizedState:fn.next;if(e!==null)fn=e,wt=t;else{if(t===null)throw Ke.alternate===null?Error(se(467)):Error(se(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},fn===null?Ke.memoizedState=fn=t:fn=fn.next=t}return fn}function X2(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function om(t){var e=Yf;return Yf+=1,Bc===null&&(Bc=[]),t=WM(Bc,t,e),e=Ke,(fn===null?e.memoizedState:fn.next)===null&&(e=e.alternate,$e.H=e===null||e.memoizedState===null?E4:N4),t}function I0(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return om(t);if(t.$$typeof===Ra)return sr(t)}throw Error(se(438,String(t)))}function Y2(t){var e=null,n=Ke.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ke.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=X2(),Ke.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=$U;return e.index++,n}function Za(t,e){return typeof e=="function"?e(t):e}function eg(t){var e=pn();return Q2(e,wt,t)}function Q2(t,e,n){var r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var l=s=null,c=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(st&f)===f:(ro&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Jc&&(d=!0);else if((ro&h)===h){u=u.next,h===Jc&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=f,s=a):c=c.next=f,Ke.lanes|=h,ao|=h;f=u.action,yl&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,s=a):c=c.next=h,Ke.lanes|=f,ao|=f;u=u.next}while(u!==null&&u!==e);if(c===null?s=a:c.next=l,!ni(a,t.memoizedState)&&(Dn=!0,d&&(n=$c,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=c,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Wx(t){var e=pn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ni(a,e.memoizedState)||(Dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function ZM(t,e,n){var r=Ke,i=pn(),a=ft;if(a){if(n===void 0)throw Error(se(407));n=n()}else n=e();var s=!ni((wt||i).memoizedState,n);s&&(i.memoizedState=n,Dn=!0),i=i.queue;var l=t4.bind(null,r,i,t);if(lm(2048,8,l,[t]),i.getSnapshot!==e||s||fn!==null&&fn.memoizedState.tag&1){if(r.flags|=2048,tu(9,P0(),e4.bind(null,r,i,n,e),null),Ct===null)throw Error(se(349));a||ro&124||JM(r,e,n)}return n}function JM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e=X2(),Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e4(t,e,n,r){e.value=n,e.getSnapshot=r,n4(e)&&r4(t)}function t4(t,e,n){return n(function(){n4(e)&&r4(t)})}function n4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ni(t,n)}catch{return!0}}function r4(t){var e=Xu(t,2);e!==null&&Zr(e,t,2)}function D1(t){var e=wr();if(typeof t=="function"){var n=t;if(t=n(),yl){Ds(!0);try{n()}finally{Ds(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:t},e}function i4(t,e,n,r){return t.baseState=n,Q2(t,wt,typeof r=="function"?r:Za)}function e7(t,e,n,r,i){if(R0(t))throw Error(se(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};$e.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,a4(e,a)):(a.next=n.next,e.pending=n.next=a)}}function a4(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=$e.T,s={};$e.T=s;try{var l=n(i,r),c=$e.S;c!==null&&c(s,l),MN(t,e,l)}catch(u){$1(t,e,u)}finally{$e.T=a}}else try{a=n(i,r),MN(t,e,a)}catch(u){$1(t,e,u)}}function MN(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){DN(t,e,r)},function(r){return $1(t,e,r)}):DN(t,e,n)}function DN(t,e,n){e.status="fulfilled",e.value=n,s4(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,a4(t,n)))}function $1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,s4(e),e=e.next;while(e!==r)}t.action=null}function s4(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function o4(t,e){return e}function $N(t,e){if(ft){var n=Ct.formState;if(n!==null){e:{var r=Ke;if(ft){if(Zt){t:{for(var i=Zt,a=Ji;i.nodeType!==8;){if(!a){i=null;break t}if(i=$i(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Zt=$i(i.nextSibling),r=i.data==="F!";break e}}pl(r)}r=!1}r&&(e=n[0])}}return n=wr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o4,lastRenderedState:e},n.queue=r,n=j4.bind(null,Ke,r),r.dispatch=n,r=D1(!1),a=tj.bind(null,Ke,!1,r.queue),r=wr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=e7.bind(null,Ke,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function LN(t){var e=pn();return l4(e,wt,t)}function l4(t,e,n){if(e=Q2(t,e,o4)[0],t=eg(Za)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=om(e)}catch(s){throw s===sm?k0:s}else r=e;e=pn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Ke.flags|=2048,tu(9,P0(),t7.bind(null,i,n),null)),[r,a,t]}function t7(t,e){t.action=e}function BN(t){var e=pn(),n=wt;if(n!==null)return l4(e,n,t);pn(),e=e.memoizedState,n=pn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function tu(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ke.updateQueue,e===null&&(e=X2(),Ke.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function P0(){return{destroy:void 0,resource:void 0}}function c4(){return pn().memoizedState}function tg(t,e,n,r){var i=wr();r=r===void 0?null:r,Ke.flags|=t,i.memoizedState=tu(1|e,P0(),n,r)}function lm(t,e,n,r){var i=pn();r=r===void 0?null:r;var a=i.memoizedState.inst;wt!==null&&r!==null&&H2(r,wt.memoizedState.deps)?i.memoizedState=tu(e,a,n,r):(Ke.flags|=t,i.memoizedState=tu(1|e,a,n,r))}function UN(t,e){tg(8390656,8,t,e)}function u4(t,e){lm(2048,8,t,e)}function d4(t,e){return lm(4,2,t,e)}function f4(t,e){return lm(4,4,t,e)}function h4(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m4(t,e,n){n=n!=null?n.concat([t]):null,lm(4,4,h4.bind(null,e,t),n)}function Z2(){}function p4(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&H2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g4(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&H2(e,r[1]))return r[0];if(r=t(),yl){Ds(!0);try{t()}finally{Ds(!1)}}return n.memoizedState=[r,e],r}function J2(t,e,n){return n===void 0||ro&1073741824?t.memoizedState=e:(t.memoizedState=n,t=sD(),Ke.lanes|=t,ao|=t,n)}function y4(t,e,n,r){return ni(n,e)?n:eu.current!==null?(t=J2(t,n,r),ni(t,e)||(Dn=!0),t):ro&42?(t=sD(),Ke.lanes|=t,ao|=t,e):(Dn=!0,t.memoizedState=n)}function v4(t,e,n,r,i){var a=ht.p;ht.p=a!==0&&8>a?a:8;var s=$e.T,l={};$e.T=l,tj(t,!1,e,n);try{var c=i(),u=$e.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=QV(c,r);Sf(t,e,d,Qr(t))}else Sf(t,e,r,Qr(t))}catch(f){Sf(t,e,{then:function(){},status:"rejected",reason:f},Qr())}finally{ht.p=a,$e.T=s}}function n7(){}function L1(t,e,n,r){if(t.tag!==5)throw Error(se(476));var i=x4(t).queue;v4(t,i,e,nl,n===null?n7:function(){return b4(t),n(r)})}function x4(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:nl,baseState:nl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:nl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function b4(t){var e=x4(t).next.queue;Sf(t,e,{},Qr())}function ej(){return sr(th)}function w4(){return pn().memoizedState}function _4(){return pn().memoizedState}function r7(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Qr();t=Hs(n);var r=qs(e,t,n);r!==null&&(Zr(r,e,n),wf(r,e,n)),e={cache:U2()},t.payload=e;return}e=e.return}}function i7(t,e,n){var r=Qr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},R0(t)?S4(e,n):(n=D2(t,e,n,r),n!==null&&(Zr(n,t,r),A4(n,e,r)))}function j4(t,e,n){var r=Qr();Sf(t,e,n,r)}function Sf(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(R0(t))S4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,ni(l,s))return C0(t,e,i,0),Ct===null&&O0(),!1}catch{}finally{}if(n=D2(t,e,i,r),n!==null)return Zr(n,t,r),A4(n,e,r),!0}return!1}function tj(t,e,n,r){if(r={lane:2,revertLane:cj(),action:r,hasEagerState:!1,eagerState:null,next:null},R0(t)){if(e)throw Error(se(479))}else e=D2(t,n,r,2),e!==null&&Zr(e,t,2)}function R0(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function S4(t,e){Lc=Ig=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A4(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pM(t,n)}}var Rg={readContext:sr,use:I0,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},E4={readContext:sr,use:I0,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:UN,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,tg(4194308,4,h4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tg(4194308,4,t,e)},useInsertionEffect:function(t,e){tg(4,2,t,e)},useMemo:function(t,e){var n=wr();e=e===void 0?null:e;var r=t();if(yl){Ds(!0);try{t()}finally{Ds(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=wr();if(n!==void 0){var i=n(e);if(yl){Ds(!0);try{n(e)}finally{Ds(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=i7.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:function(t){t=D1(t);var e=t.queue,n=j4.bind(null,Ke,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Z2,useDeferredValue:function(t,e){var n=wr();return J2(n,t,e)},useTransition:function(){var t=D1(!1);return t=v4.bind(null,Ke,t.queue,!0,!1),wr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ke,i=wr();if(ft){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Ct===null)throw Error(se(349));st&124||JM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,UN(t4.bind(null,r,a,t),[t]),r.flags|=2048,tu(9,P0(),e4.bind(null,r,a,n,e),null),n},useId:function(){var t=wr(),e=Ct.identifierPrefix;if(ft){var n=Da,r=Ma;n=(r&~(1<<32-Yr(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=Pg++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=ZV++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:ej,useFormState:$N,useActionState:$N,useOptimistic:function(t){var e=wr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=tj.bind(null,Ke,!0,n),n.dispatch=e,[t,e]},useMemoCache:Y2,useCacheRefresh:function(){return wr().memoizedState=r7.bind(null,Ke)}},N4={readContext:sr,use:I0,useCallback:p4,useContext:sr,useEffect:u4,useImperativeHandle:m4,useInsertionEffect:d4,useLayoutEffect:f4,useMemo:g4,useReducer:eg,useRef:c4,useState:function(){return eg(Za)},useDebugValue:Z2,useDeferredValue:function(t,e){var n=pn();return y4(n,wt.memoizedState,t,e)},useTransition:function(){var t=eg(Za)[0],e=pn().memoizedState;return[typeof t=="boolean"?t:om(t),e]},useSyncExternalStore:ZM,useId:w4,useHostTransitionStatus:ej,useFormState:LN,useActionState:LN,useOptimistic:function(t,e){var n=pn();return i4(n,wt,t,e)},useMemoCache:Y2,useCacheRefresh:_4},a7={readContext:sr,use:I0,useCallback:p4,useContext:sr,useEffect:u4,useImperativeHandle:m4,useInsertionEffect:d4,useLayoutEffect:f4,useMemo:g4,useReducer:Wx,useRef:c4,useState:function(){return Wx(Za)},useDebugValue:Z2,useDeferredValue:function(t,e){var n=pn();return wt===null?J2(n,t,e):y4(n,wt.memoizedState,t,e)},useTransition:function(){var t=Wx(Za)[0],e=pn().memoizedState;return[typeof t=="boolean"?t:om(t),e]},useSyncExternalStore:ZM,useId:w4,useHostTransitionStatus:ej,useFormState:BN,useActionState:BN,useOptimistic:function(t,e){var n=pn();return wt!==null?i4(n,wt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Y2,useCacheRefresh:_4},Uc=null,Qf=0;function dp(t){var e=Qf;return Qf+=1,Uc===null&&(Uc=[]),WM(Uc,t,e)}function $d(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function fp(t,e){throw e.$$typeof===MU?Error(se(525)):(t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function VN(t){var e=t._init;return e(t._payload)}function T4(t){function e(b,v){if(t){var _=b.deletions;_===null?(b.deletions=[v],b.flags|=16):_.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(b,v){return b=Ha(b,v),b.index=0,b.sibling=null,b}function a(b,v,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<v?(b.flags|=67108866,v):_):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function s(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,_,N){return v===null||v.tag!==6?(v=Hx(_,b.mode,N),v.return=b,v):(v=i(v,_),v.return=b,v)}function c(b,v,_,N){var j=_.type;return j===gc?d(b,v,_.props.children,N,_.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ss&&VN(j)===v.type)?(v=i(v,_.props),$d(v,_),v.return=b,v):(v=Zp(_.type,_.key,_.props,null,b.mode,N),$d(v,_),v.return=b,v)}function u(b,v,_,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=qx(_,b.mode,N),v.return=b,v):(v=i(v,_.children||[]),v.return=b,v)}function d(b,v,_,N,j){return v===null||v.tag!==7?(v=rl(_,b.mode,N,j),v.return=b,v):(v=i(v,_),v.return=b,v)}function f(b,v,_){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Hx(""+v,b.mode,_),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ip:return _=Zp(v.type,v.key,v.props,null,b.mode,_),$d(_,v),_.return=b,_;case af:return v=qx(v,b.mode,_),v.return=b,v;case Ss:var N=v._init;return v=N(v._payload),f(b,v,_)}if(sf(v)||Pd(v))return v=rl(v,b.mode,_,null),v.return=b,v;if(typeof v.then=="function")return f(b,dp(v),_);if(v.$$typeof===Ra)return f(b,cp(b,v),_);fp(b,v)}return null}function h(b,v,_,N){var j=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return j!==null?null:l(b,v,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ip:return _.key===j?c(b,v,_,N):null;case af:return _.key===j?u(b,v,_,N):null;case Ss:return j=_._init,_=j(_._payload),h(b,v,_,N)}if(sf(_)||Pd(_))return j!==null?null:d(b,v,_,N,null);if(typeof _.then=="function")return h(b,v,dp(_),N);if(_.$$typeof===Ra)return h(b,v,cp(b,_),N);fp(b,_)}return null}function p(b,v,_,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return b=b.get(_)||null,l(v,b,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ip:return b=b.get(N.key===null?_:N.key)||null,c(v,b,N,j);case af:return b=b.get(N.key===null?_:N.key)||null,u(v,b,N,j);case Ss:var A=N._init;return N=A(N._payload),p(b,v,_,N,j)}if(sf(N)||Pd(N))return b=b.get(_)||null,d(v,b,N,j,null);if(typeof N.then=="function")return p(b,v,_,dp(N),j);if(N.$$typeof===Ra)return p(b,v,_,cp(v,N),j);fp(v,N)}return null}function y(b,v,_,N){for(var j=null,A=null,w=v,S=v=0,T=null;w!==null&&S<_.length;S++){w.index>S?(T=w,w=null):T=w.sibling;var P=h(b,w,_[S],N);if(P===null){w===null&&(w=T);break}t&&w&&P.alternate===null&&e(b,w),v=a(P,v,S),A===null?j=P:A.sibling=P,A=P,w=T}if(S===_.length)return n(b,w),ft&&Vo(b,S),j;if(w===null){for(;S<_.length;S++)w=f(b,_[S],N),w!==null&&(v=a(w,v,S),A===null?j=w:A.sibling=w,A=w);return ft&&Vo(b,S),j}for(w=r(w);S<_.length;S++)T=p(w,b,S,_[S],N),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?S:T.key),v=a(T,v,S),A===null?j=T:A.sibling=T,A=T);return t&&w.forEach(function(O){return e(b,O)}),ft&&Vo(b,S),j}function g(b,v,_,N){if(_==null)throw Error(se(151));for(var j=null,A=null,w=v,S=v=0,T=null,P=_.next();w!==null&&!P.done;S++,P=_.next()){w.index>S?(T=w,w=null):T=w.sibling;var O=h(b,w,P.value,N);if(O===null){w===null&&(w=T);break}t&&w&&O.alternate===null&&e(b,w),v=a(O,v,S),A===null?j=O:A.sibling=O,A=O,w=T}if(P.done)return n(b,w),ft&&Vo(b,S),j;if(w===null){for(;!P.done;S++,P=_.next())P=f(b,P.value,N),P!==null&&(v=a(P,v,S),A===null?j=P:A.sibling=P,A=P);return ft&&Vo(b,S),j}for(w=r(w);!P.done;S++,P=_.next())P=p(w,b,S,P.value,N),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?S:P.key),v=a(P,v,S),A===null?j=P:A.sibling=P,A=P);return t&&w.forEach(function(R){return e(b,R)}),ft&&Vo(b,S),j}function x(b,v,_,N){if(typeof _=="object"&&_!==null&&_.type===gc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ip:e:{for(var j=_.key;v!==null;){if(v.key===j){if(j=_.type,j===gc){if(v.tag===7){n(b,v.sibling),N=i(v,_.props.children),N.return=b,b=N;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ss&&VN(j)===v.type){n(b,v.sibling),N=i(v,_.props),$d(N,_),N.return=b,b=N;break e}n(b,v);break}else e(b,v);v=v.sibling}_.type===gc?(N=rl(_.props.children,b.mode,N,_.key),N.return=b,b=N):(N=Zp(_.type,_.key,_.props,null,b.mode,N),$d(N,_),N.return=b,b=N)}return s(b);case af:e:{for(j=_.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(b,v.sibling),N=i(v,_.children||[]),N.return=b,b=N;break e}else{n(b,v);break}else e(b,v);v=v.sibling}N=qx(_,b.mode,N),N.return=b,b=N}return s(b);case Ss:return j=_._init,_=j(_._payload),x(b,v,_,N)}if(sf(_))return y(b,v,_,N);if(Pd(_)){if(j=Pd(_),typeof j!="function")throw Error(se(150));return _=j.call(_),g(b,v,_,N)}if(typeof _.then=="function")return x(b,v,dp(_),N);if(_.$$typeof===Ra)return x(b,v,cp(b,_),N);fp(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,v!==null&&v.tag===6?(n(b,v.sibling),N=i(v,_),N.return=b,b=N):(n(b,v),N=Hx(_,b.mode,N),N.return=b,b=N),s(b)):n(b,v)}return function(b,v,_,N){try{Qf=0;var j=x(b,v,_,N);return Uc=null,j}catch(w){if(w===sm||w===k0)throw w;var A=Hr(29,w,null,b.mode);return A.lanes=N,A.return=b,A}finally{}}}var nu=T4(!0),O4=T4(!1),bi=va(null),oa=null;function Ts(t){var e=t.alternate;qt(jn,jn.current&1),qt(bi,t),oa===null&&(e===null||eu.current!==null||e.memoizedState!==null)&&(oa=t)}function C4(t){if(t.tag===22){if(qt(jn,jn.current),qt(bi,t),oa===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(oa=t)}}else Os()}function Os(){qt(jn,jn.current),qt(bi,bi.current)}function La(t){$n(bi),oa===t&&(oa=null),$n(jn)}var jn=va(0);function Mg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||tw(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Kx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var B1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=Hs(r);i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,r),e!==null&&(Zr(e,t,r),wf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=Hs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,r),e!==null&&(Zr(e,t,r),wf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qr(),r=Hs(n);r.tag=2,e!=null&&(r.callback=e),e=qs(t,r,n),e!==null&&(Zr(e,t,n),wf(e,t,n))}};function zN(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Kf(n,r)||!Kf(i,a):!0}function FN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&B1.enqueueReplaceState(e,e.state,null)}function vl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=$t({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Dg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function k4(t){Dg(t)}function I4(t){console.error(t)}function P4(t){Dg(t)}function $g(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function HN(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function U1(t,e,n){return n=Hs(n),n.tag=3,n.payload={element:null},n.callback=function(){$g(t,e)},n}function R4(t){return t=Hs(t),t.tag=3,t}function M4(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){HN(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){HN(e,n,r),typeof i!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function s7(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&im(e,n,i,!0),n=bi.current,n!==null){switch(n.tag){case 13:return oa===null?K1():n.alternate===null&&en===0&&(en=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===I1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),ab(t,r,i)),!1;case 22:return n.flags|=65536,r===I1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),ab(t,r,i)),!1}throw Error(se(435,n.tag))}return ab(t,r,i),K1(),!1}if(ft)return e=bi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==N1&&(t=Error(se(422),{cause:r}),Xf(hi(t,n)))):(r!==N1&&(e=Error(se(423),{cause:r}),Xf(hi(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=hi(r,n),i=U1(t.stateNode,r,i),Gx(t,i),en!==4&&(en=2)),!1;var a=Error(se(520),{cause:r});if(a=hi(a,n),Nf===null?Nf=[a]:Nf.push(a),en!==4&&(en=2),e===null)return!0;r=hi(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=U1(n.stateNode,r,t),Gx(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Gs===null||!Gs.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=R4(i),M4(i,t,n,r),Gx(n,i),!1}n=n.return}while(n!==null);return!1}var D4=Error(se(461)),Dn=!1;function Fn(t,e,n,r){e.child=t===null?O4(e,null,n,r):nu(e,t.child,n,r)}function qN(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}else s=r;return gl(e),r=q2(t,e,n,s,a,i),l=G2(),t!==null&&!Dn?(W2(t,e,i),Ja(t,e,i)):(ft&&l&&L2(e),e.flags|=1,Fn(t,e,r,i),e.child)}function GN(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!$2(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,$4(t,e,a,r,i)):(t=Zp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!nj(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Kf,n(s,r)&&t.ref===e.ref)return Ja(t,e,i)}return e.flags|=1,t=Ha(a,r),t.ref=e.ref,t.return=e,e.child=t}function $4(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Kf(a,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=a,nj(t,i))t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Ja(t,e,i)}return V1(t,e,n,r,i)}function L4(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return WN(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jp(e,a!==null?a.cachePool:null),a!==null?RN(e,a):M1(),C4(e);else return e.lanes=e.childLanes=536870912,WN(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Jp(e,a.cachePool),RN(e,a),Os(),e.memoizedState=null):(t!==null&&Jp(e,null),M1(),Os());return Fn(t,e,i,n),e.child}function WN(t,e,n,r){var i=V2();return i=i===null?null:{parent:wn._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Jp(e,null),M1(),C4(e),t!==null&&im(t,e,r,!0),null}function ng(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(se(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function V1(t,e,n,r,i){return gl(e),n=q2(t,e,n,r,void 0,i),r=G2(),t!==null&&!Dn?(W2(t,e,i),Ja(t,e,i)):(ft&&r&&L2(e),e.flags|=1,Fn(t,e,n,i),e.child)}function KN(t,e,n,r,i,a){return gl(e),e.updateQueue=null,n=QM(e,r,n,i),YM(t),r=G2(),t!==null&&!Dn?(W2(t,e,a),Ja(t,e,a)):(ft&&r&&L2(e),e.flags|=1,Fn(t,e,n,a),e.child)}function XN(t,e,n,r,i){if(gl(e),e.stateNode===null){var a=Sc,s=n.contextType;typeof s=="object"&&s!==null&&(a=sr(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=B1,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},z2(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?sr(s):Sc,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Kx(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&B1.enqueueReplaceState(a,a.state,null),jf(e,r,a,i),_f(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,c=vl(n,l);a.props=c;var u=a.context,d=n.contextType;s=Sc,typeof d=="object"&&d!==null&&(s=sr(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==s)&&FN(e,a,r,s),As=!1;var h=e.memoizedState;a.state=h,jf(e,r,a,i),_f(),u=e.memoizedState,l||h!==u||As?(typeof f=="function"&&(Kx(e,n,f,r),u=e.memoizedState),(c=As||zN(e,n,c,r,h,u,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,P1(t,e),s=e.memoizedProps,d=vl(n,s),a.props=d,f=e.pendingProps,h=a.context,u=n.contextType,c=Sc,typeof u=="object"&&u!==null&&(c=sr(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==c)&&FN(e,a,r,c),As=!1,h=e.memoizedState,a.state=h,jf(e,r,a,i),_f();var p=e.memoizedState;s!==f||h!==p||As||t!==null&&t.dependencies!==null&&Cg(t.dependencies)?(typeof l=="function"&&(Kx(e,n,l,r),p=e.memoizedState),(d=As||zN(e,n,d,r,h,p,c)||t!==null&&t.dependencies!==null&&Cg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,ng(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=nu(e,t.child,null,i),e.child=nu(e,null,n,i)):Fn(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Ja(t,e,i),t}function YN(t,e,n,r){return rm(),e.flags|=256,Fn(t,e,n,r),e.child}var Xx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yx(t){return{baseLanes:t,cachePool:qM()}}function Qx(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=yi),t}function B4(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(jn.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ft){if(i?Ts(e):Os(),ft){var l=Zt,c;if(c=l){e:{for(c=l,l=Ji;c.nodeType!==8;){if(!l){l=null;break e}if(c=$i(c.nextSibling),c===null){l=null;break e}}l=c}l!==null?(e.memoizedState={dehydrated:l,treeContext:il!==null?{id:Ma,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},c=Hr(18,null,null,0),c.stateNode=l,c.return=e,e.child=c,hr=e,Zt=null,c=!0):c=!1}c||pl(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return tw(l)?e.lanes=32:e.lanes=536870912,null;La(e)}return l=r.children,r=r.fallback,i?(Os(),i=e.mode,l=Lg({mode:"hidden",children:l},i),r=rl(r,i,n,null),l.return=e,r.return=e,l.sibling=r,e.child=l,i=e.child,i.memoizedState=Yx(n),i.childLanes=Qx(t,s,n),e.memoizedState=Xx,r):(Ts(e),z1(e,l))}if(c=t.memoizedState,c!==null&&(l=c.dehydrated,l!==null)){if(a)e.flags&256?(Ts(e),e.flags&=-257,e=Zx(t,e,n)):e.memoizedState!==null?(Os(),e.child=t.child,e.flags|=128,e=null):(Os(),i=r.fallback,l=e.mode,r=Lg({mode:"visible",children:r.children},l),i=rl(i,l,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,nu(e,t.child,null,n),r=e.child,r.memoizedState=Yx(n),r.childLanes=Qx(t,s,n),e.memoizedState=Xx,e=i);else if(Ts(e),tw(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(se(419)),r.stack="",r.digest=s,Xf({value:r,source:null,stack:null}),e=Zx(t,e,n)}else if(Dn||im(t,e,n,!1),s=(n&t.childLanes)!==0,Dn||s){if(s=Ct,s!==null&&(r=n&-n,r=r&42?1:E2(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,Xu(t,r),Zr(s,t,r),D4;l.data==="$?"||K1(),e=Zx(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Zt=$i(l.nextSibling),hr=e,ft=!0,al=null,Ji=!1,t!==null&&(ui[di++]=Ma,ui[di++]=Da,ui[di++]=il,Ma=t.id,Da=t.overflow,il=e),e=z1(e,r.children),e.flags|=4096);return e}return i?(Os(),i=r.fallback,l=e.mode,c=t.child,u=c.sibling,r=Ha(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Ha(u,i):(i=rl(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l===null?l=Yx(n):(c=l.cachePool,c!==null?(u=wn._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=qM(),l={baseLanes:l.baseLanes|n,cachePool:c}),i.memoizedState=l,i.childLanes=Qx(t,s,n),e.memoizedState=Xx,r):(Ts(e),n=t.child,t=n.sibling,n=Ha(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function z1(t,e){return e=Lg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Lg(t,e){return t=Hr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zx(t,e,n){return nu(e,t.child,null,n),t=z1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),O1(t.return,e,n)}function Jx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function U4(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Fn(t,e,r.children,n),r=jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QN(t,n,e);else if(t.tag===19)QN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(qt(jn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jx(e,!0,n,null,a);break;case"together":Jx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ja(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))if(t!==null){if(im(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Ha(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ha(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nj(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Cg(t)))}function o7(t,e,n){switch(e.tag){case 3:_g(e,e.stateNode.containerInfo),Ns(e,wn,t.memoizedState.cache),rm();break;case 27:case 5:y1(e);break;case 4:_g(e,e.stateNode.containerInfo);break;case 10:Ns(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ts(e),e.flags|=128,null):n&e.child.childLanes?B4(t,e,n):(Ts(e),t=Ja(t,e,n),t!==null?t.sibling:null);Ts(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(im(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return U4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(jn,jn.current),r)break;return null;case 22:case 23:return e.lanes=0,L4(t,e,n);case 24:Ns(e,wn,t.memoizedState.cache)}return Ja(t,e,n)}function V4(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Dn=!0;else{if(!nj(t,n)&&!(e.flags&128))return Dn=!1,o7(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,ft&&e.flags&1048576&&FM(e,Og,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")$2(r)?(t=vl(r,t),e.tag=1,e=XN(null,e,r,t,n)):(e.tag=0,e=V1(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===j2){e.tag=11,e=qN(null,e,r,t,n);break e}else if(i===S2){e.tag=14,e=GN(null,e,r,t,n);break e}}throw e=p1(r)||r,Error(se(306,e,""))}}return e;case 0:return V1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=vl(r,e.pendingProps),XN(t,e,r,i,n);case 3:e:{if(_g(e,e.stateNode.containerInfo),t===null)throw Error(se(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,P1(t,e),jf(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Ns(e,wn,r),r!==a.cache&&C1(e,[wn],n,!0),_f(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=YN(t,e,r,n);break e}else if(r!==i){i=hi(Error(se(424)),e),Xf(i),e=YN(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Zt=$i(t.firstChild),hr=e,ft=!0,al=null,Ji=!0,n=O4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(rm(),r===i){e=Ja(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 26:return ng(t,e),t===null?(n=mT(e.type,null,e.pendingProps,null))?e.memoizedState=n:ft||(n=e.type,t=e.pendingProps,r=qg(Fs.current).createElement(n),r[ar]=e,r[Ir]=t,Kn(r,n,t),Rn(r),e.stateNode=r):e.memoizedState=mT(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return y1(e),t===null&&ft&&(r=e.stateNode=ND(e.type,e.pendingProps,Fs.current),hr=e,Ji=!0,i=Zt,yo(e.type)?(nw=i,Zt=$i(r.firstChild)):Zt=i),Fn(t,e,e.pendingProps.children,n),ng(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ft&&((i=r=Zt)&&(r=M7(r,e.type,e.pendingProps,Ji),r!==null?(e.stateNode=r,hr=e,Zt=$i(r.firstChild),Ji=!1,i=!0):i=!1),i||pl(e)),y1(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,J1(i,a)?r=null:s!==null&&J1(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=q2(t,e,JV,null,null,n),th._currentValue=i),ng(t,e),Fn(t,e,r,n),e.child;case 6:return t===null&&ft&&((t=n=Zt)&&(n=D7(n,e.pendingProps,Ji),n!==null?(e.stateNode=n,hr=e,Zt=null,t=!0):t=!1),t||pl(e)),null;case 13:return B4(t,e,n);case 4:return _g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nu(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return qN(t,e,e.type,e.pendingProps,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ns(e,e.type,r.value),Fn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,gl(e),i=sr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return GN(t,e,e.type,e.pendingProps,n);case 15:return $4(t,e,e.type,e.pendingProps,n);case 19:return U4(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Lg(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ha(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return L4(t,e,n);case 24:return gl(e),r=sr(wn),t===null?(i=V2(),i===null&&(i=Ct,a=U2(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},z2(e),Ns(e,wn,i)):(t.lanes&n&&(P1(t,e),jf(e,null,null,n),_f()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ns(e,wn,r)):(r=a.cache,Ns(e,wn,r),r!==i.cache&&C1(e,[wn],n,!0))),Fn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(se(156,e.tag))}function Ta(t){t.flags|=4}function ZN(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!CD(e)){if(e=bi.current,e!==null&&((st&4194048)===st?oa!==null:(st&62914560)!==st&&!(st&536870912)||e!==oa))throw bf=I1,GM;t.flags|=8192}}function hp(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?hM():536870912,t.lanes|=e,ru|=e)}function Ld(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function l7(t,e,n){var r=e.pendingProps;switch(B2(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return Kt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),qa(wn),Yc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dd(e)?Ta(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,TN())),Kt(e),null;case 26:return n=e.memoizedState,t===null?(Ta(e),n!==null?(Kt(e),ZN(e,n)):(Kt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Ta(e),Kt(e),ZN(e,n)):(Kt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ta(e),Kt(e),e.flags&=-16777217),null;case 27:jg(e),n=Fs.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ta(e);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Kt(e),null}t=aa.current,Dd(e)?EN(e):(t=ND(i,r,n),e.stateNode=t,Ta(e))}return Kt(e),null;case 5:if(jg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ta(e);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Kt(e),null}if(t=aa.current,Dd(e))EN(e);else{switch(i=qg(Fs.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[ar]=e,t[Ir]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Kn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ta(e)}}return Kt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ta(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(t=Fs.current,Dd(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=hr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[ar]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||SD(t.nodeValue,n)),t||pl(e)}else t=qg(t).createTextNode(r),t[ar]=e,e.stateNode=t}return Kt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[ar]=e}else rm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),i=!1}else i=TN(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(La(e),e):(La(e),null)}if(La(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),hp(e,e.updateQueue),Kt(e),null;case 4:return Yc(),t===null&&uj(e.stateNode.containerInfo),Kt(e),null;case 10:return qa(e.type),Kt(e),null;case 19:if($n(jn),i=e.memoizedState,i===null)return Kt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ld(i,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mg(t),a!==null){for(e.flags|=128,Ld(i,!1),t=a.updateQueue,e.updateQueue=t,hp(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)zM(n,t),n=n.sibling;return qt(jn,jn.current&1|2),e.child}t=t.sibling}i.tail!==null&&sa()>Ug&&(e.flags|=128,r=!0,Ld(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mg(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,hp(e,t),Ld(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ft)return Kt(e),null}else 2*sa()-i.renderingStartTime>Ug&&n!==536870912&&(e.flags|=128,r=!0,Ld(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=sa(),e.sibling=null,t=jn.current,qt(jn,r?t&1|2:t&1),e):(Kt(e),null);case 22:case 23:return La(e),F2(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),n=e.updateQueue,n!==null&&hp(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&$n(sl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),qa(wn),Kt(e),null;case 25:return null;case 30:return null}throw Error(se(156,e.tag))}function c7(t,e){switch(B2(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qa(wn),Yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return jg(e),null;case 13:if(La(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));rm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $n(jn),null;case 4:return Yc(),null;case 10:return qa(e.type),null;case 22:case 23:return La(e),F2(),t!==null&&$n(sl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return qa(wn),null;case 25:return null;default:return null}}function z4(t,e){switch(B2(e),e.tag){case 3:qa(wn),Yc();break;case 26:case 27:case 5:jg(e);break;case 4:Yc();break;case 13:La(e);break;case 19:$n(jn);break;case 10:qa(e.type);break;case 22:case 23:La(e),F2(),t!==null&&$n(sl);break;case 24:qa(wn)}}function cm(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(l){St(e,e.return,l)}}function io(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=e;var c=n,u=l;try{u()}catch(d){St(i,c,d)}}}r=r.next}while(r!==a)}}catch(d){St(e,e.return,d)}}function F4(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{XM(e,n)}catch(r){St(t,t.return,r)}}}function H4(t,e,n){n.props=vl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){St(t,e,r)}}function Af(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){St(t,e,i)}}function ea(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){St(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){St(t,e,i)}else n.current=null}function q4(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){St(t,t.return,i)}}function eb(t,e,n){try{var r=t.stateNode;C7(r,t.type,n,e),r[Ir]=e}catch(i){St(t,t.return,i)}}function G4(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yo(t.type)||t.tag===4}function tb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function F1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=L0));else if(r!==4&&(r===27&&yo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(F1(t,e,n),t=t.sibling;t!==null;)F1(t,e,n),t=t.sibling}function Bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&yo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bg(t,e,n),t=t.sibling;t!==null;)Bg(t,e,n),t=t.sibling}function W4(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Kn(e,r,n),e[ar]=t,e[Ir]=n}catch(a){St(t,t.return,a)}}var Ia=!1,an=!1,nb=!1,JN=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function u7(t,e){if(t=t.containerInfo,Q1=Xg,t=RM(t),R2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=s),h===a&&++d===r&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Z1={focusedElem:t,selectionRange:n},Xg=!1,Pn=e;Pn!==null;)if(e=Pn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Pn=t;else for(;Pn!==null;){switch(e=Pn,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=vl(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(g){St(n,n.return,g)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)ew(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ew(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(se(163))}if(t=e.sibling,t!==null){t.return=e.return,Pn=t;break}Pn=e.return}}function K4(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:bs(t,n),r&4&&cm(5,n);break;case 1:if(bs(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){St(n,n.return,s)}else{var i=vl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){St(n,n.return,s)}}r&64&&F4(n),r&512&&Af(n,n.return);break;case 3:if(bs(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{XM(t,e)}catch(s){St(n,n.return,s)}}break;case 27:e===null&&r&4&&W4(n);case 26:case 5:bs(t,n),e===null&&r&4&&q4(n),r&512&&Af(n,n.return);break;case 12:bs(t,n);break;case 13:bs(t,n),r&4&&Q4(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=x7.bind(null,n),$7(t,n))));break;case 22:if(r=n.memoizedState!==null||Ia,!r){e=e!==null&&e.memoizedState!==null||an,i=Ia;var a=an;Ia=r,(an=e)&&!a?_s(t,n,(n.subtreeFlags&8772)!==0):bs(t,n),Ia=i,an=a}break;case 30:break;default:bs(t,n)}}function X4(t){var e=t.alternate;e!==null&&(t.alternate=null,X4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&T2(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zt=null,_r=!1;function Oa(t,e,n){for(n=n.child;n!==null;)Y4(t,e,n),n=n.sibling}function Y4(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Zh,n)}catch{}switch(n.tag){case 26:an||ea(n,e),Oa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:an||ea(n,e);var r=zt,i=_r;yo(n.type)&&(zt=n.stateNode,_r=!1),Oa(t,e,n),Of(n.stateNode),zt=r,_r=i;break;case 5:an||ea(n,e);case 6:if(r=zt,i=_r,zt=null,Oa(t,e,n),zt=r,_r=i,zt!==null)if(_r)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(n.stateNode)}catch(a){St(n,e,a)}else try{zt.removeChild(n.stateNode)}catch(a){St(n,e,a)}break;case 18:zt!==null&&(_r?(t=zt,dT(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ih(t)):dT(zt,n.stateNode));break;case 4:r=zt,i=_r,zt=n.stateNode.containerInfo,_r=!0,Oa(t,e,n),zt=r,_r=i;break;case 0:case 11:case 14:case 15:an||io(2,n,e),an||io(4,n,e),Oa(t,e,n);break;case 1:an||(ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&H4(n,e,r)),Oa(t,e,n);break;case 21:Oa(t,e,n);break;case 22:an=(r=an)||n.memoizedState!==null,Oa(t,e,n),an=r;break;default:Oa(t,e,n)}}function Q4(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ih(t)}catch(n){St(e,e.return,n)}}function d7(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new JN),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new JN),e;default:throw Error(se(435,t.tag))}}function rb(t,e){var n=d7(t);e.forEach(function(r){var i=b7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(yo(l.type)){zt=l.stateNode,_r=!1;break e}break;case 5:zt=l.stateNode,_r=!1;break e;case 3:case 4:zt=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(zt===null)throw Error(se(160));Y4(a,s,i),zt=null,_r=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Z4(e,t),e=e.sibling}var Ii=null;function Z4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dr(e,t),$r(t),r&4&&(io(3,t,t.return),cm(3,t),io(5,t,t.return));break;case 1:Dr(e,t),$r(t),r&512&&(an||n===null||ea(n,n.return)),r&64&&Ia&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ii;if(Dr(e,t),$r(t),r&512&&(an||n===null||ea(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[tm]||a[ar]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Kn(a,r,n),a[ar]=t,Rn(a),r=a;break e;case"link":var s=gT("link","href",i).get(r+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=i.createElement(r),Kn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=gT("meta","content",i).get(r+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=i.createElement(r),Kn(a,r,n),i.head.appendChild(a);break;default:throw Error(se(468,r))}a[ar]=t,Rn(a),r=a}t.stateNode=r}else yT(i,t.type,t.stateNode);else t.stateNode=pT(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?yT(i,t.type,t.stateNode):pT(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&eb(t,t.memoizedProps,n.memoizedProps)}break;case 27:Dr(e,t),$r(t),r&512&&(an||n===null||ea(n,n.return)),n!==null&&r&4&&eb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Dr(e,t),$r(t),r&512&&(an||n===null||ea(n,n.return)),t.flags&32){i=t.stateNode;try{Zc(i,"")}catch(p){St(t,t.return,p)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,eb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(nb=!0);break;case 6:if(Dr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(se(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(p){St(t,t.return,p)}}break;case 3:if(ag=null,i=Ii,Ii=Gg(e.containerInfo),Dr(e,t),Ii=i,$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ih(e.containerInfo)}catch(p){St(t,t.return,p)}nb&&(nb=!1,J4(t));break;case 4:r=Ii,Ii=Gg(t.stateNode.containerInfo),Dr(e,t),$r(t),Ii=r;break;case 12:Dr(e,t),$r(t);break;case 13:Dr(e,t),$r(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(oj=sa()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,rb(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Ia,d=an;if(Ia=u||i,an=d||c,Dr(e,t),an=d,Ia=u,$r(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Ia||an||zo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){St(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){St(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,rb(t,n))));break;case 19:Dr(e,t),$r(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,rb(t,r)));break;case 30:break;case 21:break;default:Dr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(G4(r)){n=r;break}r=r.return}if(n==null)throw Error(se(160));switch(n.tag){case 27:var i=n.stateNode,a=tb(t);Bg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Zc(s,""),n.flags&=-33);var l=tb(t);Bg(t,l,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=tb(t);F1(t,u,c);break;default:throw Error(se(161))}}catch(d){St(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J4(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;J4(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function bs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)K4(t,e.alternate,e),e=e.sibling}function zo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:io(4,e,e.return),zo(e);break;case 1:ea(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&H4(e,e.return,n),zo(e);break;case 27:Of(e.stateNode);case 26:case 5:ea(e,e.return),zo(e);break;case 22:e.memoizedState===null&&zo(e);break;case 30:zo(e);break;default:zo(e)}t=t.sibling}}function _s(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:_s(i,a,n),cm(4,a);break;case 1:if(_s(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){St(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var l=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)KM(c[i],l)}catch(u){St(r,r.return,u)}}n&&s&64&&F4(a),Af(a,a.return);break;case 27:W4(a);case 26:case 5:_s(i,a,n),n&&r===null&&s&4&&q4(a),Af(a,a.return);break;case 12:_s(i,a,n);break;case 13:_s(i,a,n),n&&s&4&&Q4(i,a);break;case 22:a.memoizedState===null&&_s(i,a,n),Af(a,a.return);break;case 30:break;default:_s(i,a,n)}e=e.sibling}}function rj(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&am(n))}function ij(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&am(t))}function Yi(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eD(t,e,n,r),e=e.sibling}function eD(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Yi(t,e,n,r),i&2048&&cm(9,e);break;case 1:Yi(t,e,n,r);break;case 3:Yi(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&am(t)));break;case 12:if(i&2048){Yi(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){St(e,e.return,c)}}else Yi(t,e,n,r);break;case 13:Yi(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Yi(t,e,n,r):Ef(t,e):a._visibility&2?Yi(t,e,n,r):(a._visibility|=2,uc(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&rj(s,e);break;case 24:Yi(t,e,n,r),i&2048&&ij(e.alternate,e);break;default:Yi(t,e,n,r)}}function uc(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,l=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:uc(a,s,l,c,i),cm(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?uc(a,s,l,c,i):Ef(a,s):(d._visibility|=2,uc(a,s,l,c,i)),i&&u&2048&&rj(s.alternate,s);break;case 24:uc(a,s,l,c,i),i&&u&2048&&ij(s.alternate,s);break;default:uc(a,s,l,c,i)}e=e.sibling}}function Ef(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Ef(n,r),i&2048&&rj(r.alternate,r);break;case 24:Ef(n,r),i&2048&&ij(r.alternate,r);break;default:Ef(n,r)}e=e.sibling}}var lf=8192;function Jl(t){if(t.subtreeFlags&lf)for(t=t.child;t!==null;)tD(t),t=t.sibling}function tD(t){switch(t.tag){case 26:Jl(t),t.flags&lf&&t.memoizedState!==null&&Y7(Ii,t.memoizedState,t.memoizedProps);break;case 5:Jl(t);break;case 3:case 4:var e=Ii;Ii=Gg(t.stateNode.containerInfo),Jl(t),Ii=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=lf,lf=16777216,Jl(t),lf=e):Jl(t));break;default:Jl(t)}}function nD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Bd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Pn=r,iD(r,t)}nD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rD(t),t=t.sibling}function rD(t){switch(t.tag){case 0:case 11:case 15:Bd(t),t.flags&2048&&io(9,t,t.return);break;case 3:Bd(t);break;case 12:Bd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,rg(t)):Bd(t);break;default:Bd(t)}}function rg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Pn=r,iD(r,t)}nD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:io(8,e,e.return),rg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,rg(e));break;default:rg(e)}t=t.sibling}}function iD(t,e){for(;Pn!==null;){var n=Pn;switch(n.tag){case 0:case 11:case 15:io(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:am(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Pn=r;else e:for(n=t;Pn!==null;){r=Pn;var i=r.sibling,a=r.return;if(X4(r),r===n){Pn=null;break e}if(i!==null){i.return=a,Pn=i;break e}Pn=a}}}var f7={getCacheForType:function(t){var e=sr(wn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},h7=typeof WeakMap=="function"?WeakMap:Map,yt=0,Ct=null,Ze=null,st=0,gt=0,zr=null,Ls=!1,Yu=!1,aj=!1,es=0,en=0,ao=0,ol=0,sj=0,yi=0,ru=0,Nf=null,jr=null,H1=!1,oj=0,Ug=1/0,Vg=null,Gs=null,qn=0,Ws=null,iu=null,Vc=0,q1=0,G1=null,aD=null,Tf=0,W1=null;function Qr(){if(yt&2&&st!==0)return st&-st;if($e.T!==null){var t=Jc;return t!==0?t:cj()}return gM()}function sD(){yi===0&&(yi=!(st&536870912)||ft?fM():536870912);var t=bi.current;return t!==null&&(t.flags|=32),yi}function Zr(t,e,n){(t===Ct&&(gt===2||gt===9)||t.cancelPendingCommit!==null)&&(au(t,0),Bs(t,st,yi,!1)),em(t,n),(!(yt&2)||t!==Ct)&&(t===Ct&&(!(yt&2)&&(ol|=n),en===4&&Bs(t,st,yi,!1)),xa(t))}function oD(t,e,n){if(yt&6)throw Error(se(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Jh(t,e),i=r?g7(t,e):ib(t,e,!0),a=r;do{if(i===0){Yu&&!r&&Bs(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!m7(n)){i=ib(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;i=Nf;var c=l.current.memoizedState.isDehydrated;if(c&&(au(l,s).flags|=256),s=ib(l,s,!1),s!==2){if(aj&&!c){l.errorRecoveryDisabledLanes|=a,ol|=a,i=4;break e}a=jr,jr=i,a!==null&&(jr===null?jr=a:jr.push.apply(jr,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){au(t,0),Bs(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(se(345));case 4:if((e&4194048)!==e)break;case 6:Bs(r,e,yi,!Ls);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(se(329))}if((e&62914560)===e&&(i=oj+300-sa(),10<i)){if(Bs(r,e,yi,!Ls),A0(r,0,!0)!==0)break e;r.timeoutHandle=ED(eT.bind(null,r,n,jr,Vg,H1,e,yi,ol,ru,Ls,a,2,-0,0),i);break e}eT(r,n,jr,Vg,H1,e,yi,ol,ru,Ls,a,0,-0,0)}}break}while(!0);xa(t)}function eT(t,e,n,r,i,a,s,l,c,u,d,f,h,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(eh={stylesheets:null,count:0,unsuspend:X7},tD(e),f=Q7(),f!==null)){t.cancelPendingCommit=f(nT.bind(null,t,e,a,n,r,i,s,l,c,d,1,h,p)),Bs(t,a,s,!u);return}nT(t,e,a,n,r,i,s,l,c)}function m7(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ni(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e,n,r){e&=~sj,e&=~ol,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Yr(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&mM(t,n,e)}function M0(){return yt&6?!0:(um(0),!1)}function lj(){if(Ze!==null){if(gt===0)var t=Ze.return;else t=Ze,$a=Ml=null,K2(t),Uc=null,Qf=0,t=Ze;for(;t!==null;)z4(t.alternate,t),t=t.return;Ze=null}}function au(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,I7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),lj(),Ct=t,Ze=n=Ha(t.current,null),st=e,gt=0,zr=null,Ls=!1,Yu=Jh(t,e),aj=!1,ru=yi=sj=ol=ao=en=0,jr=Nf=null,H1=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Yr(r),a=1<<i;e|=t[i],r&=~a}return es=e,O0(),n}function lD(t,e){Ke=null,$e.H=Rg,e===sm||e===k0?(e=IN(),gt=3):e===GM?(e=IN(),gt=4):gt=e===D4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,zr=e,Ze===null&&(en=1,$g(t,hi(e,t.current)))}function cD(){var t=$e.H;return $e.H=Rg,t===null?Rg:t}function uD(){var t=$e.A;return $e.A=f7,t}function K1(){en=4,Ls||(st&4194048)!==st&&bi.current!==null||(Yu=!0),!(ao&134217727)&&!(ol&134217727)||Ct===null||Bs(Ct,st,yi,!1)}function ib(t,e,n){var r=yt;yt|=2;var i=cD(),a=uD();(Ct!==t||st!==e)&&(Vg=null,au(t,e)),e=!1;var s=en;e:do try{if(gt!==0&&Ze!==null){var l=Ze,c=zr;switch(gt){case 8:lj(),s=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(e=!0);var u=gt;if(gt=0,zr=null,Nc(t,l,c,u),n&&Yu){s=0;break e}break;default:u=gt,gt=0,zr=null,Nc(t,l,c,u)}}p7(),s=en;break}catch(d){lD(t,d)}while(!0);return e&&t.shellSuspendCounter++,$a=Ml=null,yt=r,$e.H=i,$e.A=a,Ze===null&&(Ct=null,st=0,O0()),s}function p7(){for(;Ze!==null;)dD(Ze)}function g7(t,e){var n=yt;yt|=2;var r=cD(),i=uD();Ct!==t||st!==e?(Vg=null,Ug=sa()+500,au(t,e)):Yu=Jh(t,e);e:do try{if(gt!==0&&Ze!==null){e=Ze;var a=zr;t:switch(gt){case 1:gt=0,zr=null,Nc(t,e,a,1);break;case 2:case 9:if(kN(a)){gt=0,zr=null,tT(e);break}e=function(){gt!==2&&gt!==9||Ct!==t||(gt=7),xa(t)},a.then(e,e);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:kN(a)?(gt=0,zr=null,tT(e)):(gt=0,zr=null,Nc(t,e,a,7));break;case 5:var s=null;switch(Ze.tag){case 26:s=Ze.memoizedState;case 5:case 27:var l=Ze;if(!s||CD(s)){gt=0,zr=null;var c=l.sibling;if(c!==null)Ze=c;else{var u=l.return;u!==null?(Ze=u,D0(u)):Ze=null}break t}}gt=0,zr=null,Nc(t,e,a,5);break;case 6:gt=0,zr=null,Nc(t,e,a,6);break;case 8:lj(),en=6;break e;default:throw Error(se(462))}}y7();break}catch(d){lD(t,d)}while(!0);return $a=Ml=null,$e.H=r,$e.A=i,yt=n,Ze!==null?0:(Ct=null,st=0,O0(),en)}function y7(){for(;Ze!==null&&!BU();)dD(Ze)}function dD(t){var e=V4(t.alternate,t,es);t.memoizedProps=t.pendingProps,e===null?D0(t):Ze=e}function tT(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=KN(n,e,e.pendingProps,e.type,void 0,st);break;case 11:e=KN(n,e,e.pendingProps,e.type.render,e.ref,st);break;case 5:K2(e);default:z4(n,e),e=Ze=zM(e,es),e=V4(n,e,es)}t.memoizedProps=t.pendingProps,e===null?D0(t):Ze=e}function Nc(t,e,n,r){$a=Ml=null,K2(e),Uc=null,Qf=0;var i=e.return;try{if(s7(t,i,e,n,st)){en=1,$g(t,hi(n,t.current)),Ze=null;return}}catch(a){if(i!==null)throw Ze=i,a;en=1,$g(t,hi(n,t.current)),Ze=null;return}e.flags&32768?(ft||r===1?t=!0:Yu||st&536870912?t=!1:(Ls=t=!0,(r===2||r===9||r===3||r===6)&&(r=bi.current,r!==null&&r.tag===13&&(r.flags|=16384))),fD(e,t)):D0(e)}function D0(t){var e=t;do{if(e.flags&32768){fD(e,Ls);return}t=e.return;var n=l7(e.alternate,e,es);if(n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);en===0&&(en=5)}function fD(t,e){do{var n=c7(t.alternate,t);if(n!==null){n.flags&=32767,Ze=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ze=t;return}Ze=t=n}while(t!==null);en=6,Ze=null}function nT(t,e,n,r,i,a,s,l,c){t.cancelPendingCommit=null;do $0();while(qn!==0);if(yt&6)throw Error(se(327));if(e!==null){if(e===t.current)throw Error(se(177));if(a=e.lanes|e.childLanes,a|=M2,XU(t,n,a,s,l,c),t===Ct&&(Ze=Ct=null,st=0),iu=e,Ws=t,Vc=n,q1=a,G1=i,aD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,w7(Sg,function(){return yD(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=$e.T,$e.T=null,i=ht.p,ht.p=2,s=yt,yt|=4;try{u7(t,e,n)}finally{yt=s,ht.p=i,$e.T=r}}qn=1,hD(),mD(),pD()}}function hD(){if(qn===1){qn=0;var t=Ws,e=iu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=$e.T,$e.T=null;var r=ht.p;ht.p=2;var i=yt;yt|=4;try{Z4(e,t);var a=Z1,s=RM(t.containerInfo),l=a.focusedElem,c=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&PM(l.ownerDocument.documentElement,l)){if(c!==null&&R2(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),y=l.textContent.length,g=Math.min(c.start,y),x=c.end===void 0?g:Math.min(c.end,y);!p.extend&&g>x&&(s=x,x=g,g=s);var b=jN(l,g),v=jN(l,x);if(b&&v&&(p.rangeCount!==1||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var _=f.createRange();_.setStart(b.node,b.offset),p.removeAllRanges(),g>x?(p.addRange(_),p.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),p.addRange(_))}}}}for(f=[],p=l;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var N=f[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Xg=!!Q1,Z1=Q1=null}finally{yt=i,ht.p=r,$e.T=n}}t.current=e,qn=2}}function mD(){if(qn===2){qn=0;var t=Ws,e=iu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=$e.T,$e.T=null;var r=ht.p;ht.p=2;var i=yt;yt|=4;try{K4(t,e.alternate,e)}finally{yt=i,ht.p=r,$e.T=n}}qn=3}}function pD(){if(qn===4||qn===3){qn=0,UU();var t=Ws,e=iu,n=Vc,r=aD;e.subtreeFlags&10256||e.flags&10256?qn=5:(qn=0,iu=Ws=null,gD(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Gs=null),N2(n),e=e.stateNode,Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Zh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=$e.T,i=ht.p,ht.p=2,$e.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var l=r[s];a(l.value,{componentStack:l.stack})}}finally{$e.T=e,ht.p=i}}Vc&3&&$0(),xa(t),i=t.pendingLanes,n&4194090&&i&42?t===W1?Tf++:(Tf=0,W1=t):Tf=0,um(0)}}function gD(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,am(e)))}function $0(t){return hD(),mD(),pD(),yD()}function yD(){if(qn!==5)return!1;var t=Ws,e=q1;q1=0;var n=N2(Vc),r=$e.T,i=ht.p;try{ht.p=32>n?32:n,$e.T=null,n=G1,G1=null;var a=Ws,s=Vc;if(qn=0,iu=Ws=null,Vc=0,yt&6)throw Error(se(331));var l=yt;if(yt|=4,rD(a.current),eD(a,a.current,s,n),yt=l,um(0,!1),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Zh,a)}catch{}return!0}finally{ht.p=i,$e.T=r,gD(t,e)}}function rT(t,e,n){e=hi(n,e),e=U1(t.stateNode,e,2),t=qs(t,e,2),t!==null&&(em(t,2),xa(t))}function St(t,e,n){if(t.tag===3)rT(t,t,n);else for(;e!==null;){if(e.tag===3){rT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){t=hi(n,t),n=R4(2),r=qs(e,n,2),r!==null&&(M4(n,r,e,t),em(r,2),xa(r));break}}e=e.return}}function ab(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(aj=!0,i.add(n),t=v7.bind(null,t,e,n),e.then(t,t))}function v7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ct===t&&(st&n)===n&&(en===4||en===3&&(st&62914560)===st&&300>sa()-oj?!(yt&2)&&au(t,0):sj|=n,ru===st&&(ru=0)),xa(t)}function vD(t,e){e===0&&(e=hM()),t=Xu(t,e),t!==null&&(em(t,e),xa(t))}function x7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vD(t,n)}function b7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(se(314))}r!==null&&r.delete(e),vD(t,n)}function w7(t,e){return A2(t,e)}var zg=null,dc=null,X1=!1,Fg=!1,sb=!1,ll=0;function xa(t){t!==dc&&t.next===null&&(dc===null?zg=dc=t:dc=dc.next=t),Fg=!0,X1||(X1=!0,j7())}function um(t,e){if(!sb&&Fg){sb=!0;do for(var n=!1,r=zg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,l=r.pingedLanes;a=(1<<31-Yr(42|t)+1)-1,a&=i&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,iT(r,a))}else a=st,a=A0(r,r===Ct?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Jh(r,a)||(n=!0,iT(r,a));r=r.next}while(n);sb=!1}}function _7(){xD()}function xD(){Fg=X1=!1;var t=0;ll!==0&&(k7()&&(t=ll),ll=0);for(var e=sa(),n=null,r=zg;r!==null;){var i=r.next,a=bD(r,e);a===0?(r.next=null,n===null?zg=i:n.next=i,i===null&&(dc=n)):(n=r,(t!==0||a&3)&&(Fg=!0)),r=i}um(t)}function bD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Yr(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=KU(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}if(e=Ct,n=st,n=A0(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(gt===2||gt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ix(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Ix(r),N2(n)){case 2:case 8:n=uM;break;case 32:n=Sg;break;case 268435456:n=dM;break;default:n=Sg}return r=wD.bind(null,t),n=A2(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Ix(r),t.callbackPriority=2,t.callbackNode=null,2}function wD(t,e){if(qn!==0&&qn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if($0()&&t.callbackNode!==n)return null;var r=st;return r=A0(t,t===Ct?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(oD(t,r,e),bD(t,sa()),t.callbackNode!=null&&t.callbackNode===n?wD.bind(null,t):null)}function iT(t,e){if($0())return null;oD(t,e,!0)}function j7(){P7(function(){yt&6?A2(cM,_7):xD()})}function cj(){return ll===0&&(ll=fM()),ll}function aT(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xp(""+t)}function sT(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function S7(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=aT((i[Ir]||null).action),s=r.submitter;s&&(e=(e=s[Ir]||null)?aT(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var l=new E0("action","action",null,r,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ll!==0){var c=s?sT(i,s):new FormData(i);L1(n,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(l.preventDefault(),c=s?sT(i,s):new FormData(i),L1(n,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var ob=0;ob<E1.length;ob++){var lb=E1[ob],A7=lb.toLowerCase(),E7=lb[0].toUpperCase()+lb.slice(1);Hi(A7,"on"+E7)}Hi(DM,"onAnimationEnd");Hi($M,"onAnimationIteration");Hi(LM,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(FV,"onTransitionRun");Hi(HV,"onTransitionStart");Hi(qV,"onTransitionCancel");Hi(BM,"onTransitionEnd");Qc("onMouseEnter",["mouseout","mouseover"]);Qc("onMouseLeave",["mouseout","mouseover"]);Qc("onPointerEnter",["pointerout","pointerover"]);Qc("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zf));function _D(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){Dg(d)}i.currentTarget=null,a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(d){Dg(d)}i.currentTarget=null,a=c}}}}function Qe(t,e){var n=e[x1];n===void 0&&(n=e[x1]=new Set);var r=t+"__bubble";n.has(r)||(jD(e,t,2,!1),n.add(r))}function cb(t,e,n){var r=0;e&&(r|=4),jD(n,t,r,e)}var mp="_reactListening"+Math.random().toString(36).slice(2);function uj(t){if(!t[mp]){t[mp]=!0,yM.forEach(function(n){n!=="selectionchange"&&(N7.has(n)||cb(n,!1,t),cb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mp]||(e[mp]=!0,cb("selectionchange",!1,e))}}function jD(t,e,n,r){switch(MD(e)){case 2:var i=ez;break;case 8:i=tz;break;default:i=mj}n=i.bind(null,e,n,t),i=void 0,!j1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ub(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=vc(l),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=a=s;continue e}l=l.parentNode}}r=r.return}AM(function(){var u=a,d=C2(n),f=[];e:{var h=UM.get(t);if(h!==void 0){var p=E0,y=t;switch(t){case"keypress":if(Qp(n)===0)break e;case"keydown":case"keyup":p=wV;break;case"focusin":y="focus",p=Ux;break;case"focusout":y="blur",p=Ux;break;case"beforeblur":case"afterblur":p=Ux;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SV;break;case DM:case $M:case LM:p=fV;break;case BM:p=EV;break;case"scroll":case"scrollend":p=oV;break;case"wheel":p=TV;break;case"copy":case"cut":case"paste":p=mV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pN;break;case"toggle":case"beforetoggle":p=CV}var g=(e&4)!==0,x=!g&&(t==="scroll"||t==="scrollend"),b=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,_;v!==null;){var N=v;if(_=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||_===null||b===null||(N=Gf(v,b),N!=null&&g.push(Jf(v,N,_))),x)break;v=v.return}0<g.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==_1&&(y=n.relatedTarget||n.fromElement)&&(vc(y)||y[Wu]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?vc(y):null,y!==null&&(x=Qh(y),g=y.tag,y!==x||g!==5&&g!==27&&g!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=hN,N="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=pN,N="onPointerLeave",b="onPointerEnter",v="pointer"),x=p==null?h:of(p),_=y==null?h:of(y),h=new g(N,v+"leave",p,n,d),h.target=x,h.relatedTarget=_,N=null,vc(d)===u&&(g=new g(b,v+"enter",y,n,d),g.target=_,g.relatedTarget=x,N=g),x=N,p&&y)t:{for(g=p,b=y,v=0,_=g;_;_=ec(_))v++;for(_=0,N=b;N;N=ec(N))_++;for(;0<v-_;)g=ec(g),v--;for(;0<_-v;)b=ec(b),_--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=ec(g),b=ec(b)}g=null}else g=null;p!==null&&oT(f,h,p,g,!1),y!==null&&x!==null&&oT(f,x,y,g,!0)}}e:{if(h=u?of(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=xN;else if(vN(h))if(kM)j=UV;else{j=LV;var A=$V}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&O2(u.elementType)&&(j=xN):j=BV;if(j&&(j=j(t,u))){CM(f,j,n,d);break e}A&&A(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&w1(h,"number",h.value)}switch(A=u?of(u):window,t){case"focusin":(vN(A)||A.contentEditable==="true")&&(wc=A,S1=u,vf=null);break;case"focusout":vf=S1=wc=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,SN(f,n,d);break;case"selectionchange":if(zV)break;case"keydown":case"keyup":SN(f,n,d)}var w;if(P2)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bc?TM(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(NM&&n.locale!=="ko"&&(bc||S!=="onCompositionStart"?S==="onCompositionEnd"&&bc&&(w=EM()):($s=d,k2="value"in $s?$s.value:$s.textContent,bc=!0)),A=Hg(u,S),0<A.length&&(S=new mN(S,t,null,n,d),f.push({event:S,listeners:A}),w?S.data=w:(w=OM(n),w!==null&&(S.data=w)))),(w=IV?PV(t,n):RV(t,n))&&(S=Hg(u,"onBeforeInput"),0<S.length&&(A=new mN("onBeforeInput","beforeinput",null,n,d),f.push({event:A,listeners:S}),A.data=w)),S7(f,t,u,n,d)}_D(f,e)})}function Jf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Gf(t,n),i!=null&&r.unshift(Jf(t,i,a)),i=Gf(t,e),i!=null&&r.push(Jf(t,i,a))),t.tag===3)return r;t=t.return}return[]}function ec(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function oT(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===r)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=Gf(n,a),u!=null&&s.unshift(Jf(n,u,c))):i||(u=Gf(n,a),u!=null&&s.push(Jf(n,u,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var T7=/\r\n?/g,O7=/\u0000|\uFFFD/g;function lT(t){return(typeof t=="string"?t:""+t).replace(T7,`
`).replace(O7,"")}function SD(t,e){return e=lT(e),lT(t)===e}function L0(){}function xt(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Zc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Zc(t,""+r);break;case"className":op(t,"class",r);break;case"tabIndex":op(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":op(t,n,r);break;case"style":SM(t,r,a);break;case"data":if(e!=="object"){op(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xp(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&xt(t,e,"name",i.name,i,null),xt(t,e,"formEncType",i.formEncType,i,null),xt(t,e,"formMethod",i.formMethod,i,null),xt(t,e,"formTarget",i.formTarget,i,null)):(xt(t,e,"encType",i.encType,i,null),xt(t,e,"method",i.method,i,null),xt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xp(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=L0);break;case"onScroll":r!=null&&Qe("scroll",t);break;case"onScrollEnd":r!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(se(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(se(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Xp(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),Kp(t,"popover",r);break;case"xlinkActuate":Na(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Na(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Na(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Na(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Na(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Na(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Na(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Na(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Na(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Kp(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aV.get(n)||n,Kp(t,n,r))}}function Y1(t,e,n,r,i,a){switch(n){case"style":SM(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(se(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(se(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Zc(t,r):(typeof r=="number"||typeof r=="bigint")&&Zc(t,""+r);break;case"onScroll":r!=null&&Qe("scroll",t);break;case"onScrollEnd":r!=null&&Qe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=L0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Ir]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Kp(t,n,r)}}}function Kn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(se(137,e));default:xt(t,e,a,s,n,null)}}i&&xt(t,e,"srcSet",n.srcSet,n,null),r&&xt(t,e,"src",n.src,n,null);return;case"input":Qe("invalid",t);var l=a=s=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(se(137,e));break;default:xt(t,e,r,d,n,null)}}wM(t,a,l,c,u,s,i,!1),Ag(t);return;case"select":Qe("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:xt(t,e,i,l,n,null)}e=a,n=s,t.multiple=!!r,e!=null?Mc(t,!!r,e,!1):n!=null&&Mc(t,!!r,n,!0);return;case"textarea":Qe("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(se(91));break;default:xt(t,e,s,l,n,null)}jM(t,r,i,a),Ag(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:xt(t,e,c,r,n,null)}return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(r=0;r<Zf.length;r++)Qe(Zf[r],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(se(137,e));default:xt(t,e,u,r,n,null)}return;default:if(O2(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Y1(t,e,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&xt(t,e,l,r,n,null))}function C7(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||xt(t,e,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(se(137,e));break;default:p!==f&&xt(t,e,h,p,r,f)}}b1(t,s,l,c,u,d,a,i);return;case"select":p=s=l=h=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||xt(t,e,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&xt(t,e,i,a,r,c)}e=l,n=s,r=p,h!=null?Mc(t,!!n,h,!1):!!r!=!!n&&(e!=null?Mc(t,!!n,e,!0):Mc(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:xt(t,e,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(se(91));break;default:i!==a&&xt(t,e,s,i,r,a)}_M(t,h,p);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:xt(t,e,y,null,r,h)}for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:xt(t,e,c,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&h!=null&&!r.hasOwnProperty(g)&&xt(t,e,g,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(se(137,e));break;default:xt(t,e,u,h,r,p)}return;default:if(O2(e)){for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!==void 0&&!r.hasOwnProperty(x)&&Y1(t,e,x,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||Y1(t,e,d,h,r,p);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&xt(t,e,b,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||xt(t,e,f,h,r,p)}var Q1=null,Z1=null;function qg(t){return t.nodeType===9?t:t.ownerDocument}function cT(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AD(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function J1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var db=null;function k7(){var t=window.event;return t&&t.type==="popstate"?t===db?!1:(db=t,!0):(db=null,!1)}var ED=typeof setTimeout=="function"?setTimeout:void 0,I7=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,P7=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(t){return uT.resolve(null).then(t).catch(R7)}:ED;function R7(t){setTimeout(function(){throw t})}function yo(t){return t==="head"}function dT(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&Of(s.documentElement),n&2&&Of(s.body),n&4)for(n=s.head,Of(n),s=n.firstChild;s;){var l=s.nextSibling,c=s.nodeName;s[tm]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(i===0){t.removeChild(a),ih(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);ih(e)}function ew(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ew(n),T2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function M7(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[tm])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=$i(t.nextSibling),t===null)break}return null}function D7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$i(t.nextSibling),t===null))return null;return t}function tw(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $7(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var nw=null;function fT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function ND(t,e,n){switch(e=qg(n),t){case"html":if(t=e.documentElement,!t)throw Error(se(452));return t;case"head":if(t=e.head,!t)throw Error(se(453));return t;case"body":if(t=e.body,!t)throw Error(se(454));return t;default:throw Error(se(451))}}function Of(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);T2(t)}var wi=new Map,hT=new Set;function Gg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=ht.d;ht.d={f:L7,r:B7,D:U7,C:V7,L:z7,m:F7,X:q7,S:H7,M:G7};function L7(){var t=us.f(),e=M0();return t||e}function B7(t){var e=Ku(t);e!==null&&e.tag===5&&e.type==="form"?b4(e):us.r(t)}var Qu=typeof document>"u"?null:document;function TD(t,e,n){var r=Qu;if(r&&typeof e=="string"&&e){var i=fi(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),hT.has(i)||(hT.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Kn(e,"link",t),Rn(e),r.head.appendChild(e)))}}function U7(t){us.D(t),TD("dns-prefetch",t,null)}function V7(t,e){us.C(t,e),TD("preconnect",t,e)}function z7(t,e,n){us.L(t,e,n);var r=Qu;if(r&&t&&e){var i='link[rel="preload"][as="'+fi(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+fi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+fi(n.imageSizes)+'"]')):i+='[href="'+fi(t)+'"]';var a=i;switch(e){case"style":a=su(t);break;case"script":a=Zu(t)}wi.has(a)||(t=$t({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wi.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(dm(a))||e==="script"&&r.querySelector(fm(a))||(e=r.createElement("link"),Kn(e,"link",t),Rn(e),r.head.appendChild(e)))}}function F7(t,e){us.m(t,e);var n=Qu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+fi(r)+'"][href="'+fi(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Zu(t)}if(!wi.has(a)&&(t=$t({rel:"modulepreload",href:t},e),wi.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fm(a)))return}r=n.createElement("link"),Kn(r,"link",t),Rn(r),n.head.appendChild(r)}}}function H7(t,e,n){us.S(t,e,n);var r=Qu;if(r&&t){var i=Rc(r).hoistableStyles,a=su(t);e=e||"default";var s=i.get(a);if(!s){var l={loading:0,preload:null};if(s=r.querySelector(dm(a)))l.loading=5;else{t=$t({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wi.get(a))&&dj(t,n);var c=s=r.createElement("link");Rn(c),Kn(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ig(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(a,s)}}}function q7(t,e){us.X(t,e);var n=Qu;if(n&&t){var r=Rc(n).hoistableScripts,i=Zu(t),a=r.get(i);a||(a=n.querySelector(fm(i)),a||(t=$t({src:t,async:!0},e),(e=wi.get(i))&&fj(t,e),a=n.createElement("script"),Rn(a),Kn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function G7(t,e){us.M(t,e);var n=Qu;if(n&&t){var r=Rc(n).hoistableScripts,i=Zu(t),a=r.get(i);a||(a=n.querySelector(fm(i)),a||(t=$t({src:t,async:!0,type:"module"},e),(e=wi.get(i))&&fj(t,e),a=n.createElement("script"),Rn(a),Kn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function mT(t,e,n,r){var i=(i=Fs.current)?Gg(i):null;if(!i)throw Error(se(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=su(n.href),n=Rc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=su(n.href);var a=Rc(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(dm(t)))&&!a._p&&(s.instance=a,s.state.loading=5),wi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wi.set(t,n),a||W7(i,t,n,s.state))),e&&r===null)throw Error(se(528,""));return s}if(e&&r!==null)throw Error(se(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Zu(n),n=Rc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(se(444,t))}}function su(t){return'href="'+fi(t)+'"'}function dm(t){return'link[rel="stylesheet"]['+t+"]"}function OD(t){return $t({},t,{"data-precedence":t.precedence,precedence:null})}function W7(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Kn(e,"link",n),Rn(e),t.head.appendChild(e))}function Zu(t){return'[src="'+fi(t)+'"]'}function fm(t){return"script[async]"+t}function pT(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+fi(n.href)+'"]');if(r)return e.instance=r,Rn(r),r;var i=$t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Rn(r),Kn(r,"style",i),ig(r,n.precedence,t),e.instance=r;case"stylesheet":i=su(n.href);var a=t.querySelector(dm(i));if(a)return e.state.loading|=4,e.instance=a,Rn(a),a;r=OD(n),(i=wi.get(i))&&dj(r,i),a=(t.ownerDocument||t).createElement("link"),Rn(a);var s=a;return s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Kn(a,"link",r),e.state.loading|=4,ig(a,n.precedence,t),e.instance=a;case"script":return a=Zu(n.src),(i=t.querySelector(fm(a)))?(e.instance=i,Rn(i),i):(r=n,(i=wi.get(a))&&(r=$t({},n),fj(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Rn(i),Kn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(se(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,ig(r,n.precedence,t));return e.instance}function ig(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var l=r[s];if(l.dataset.precedence===e)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function dj(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function fj(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ag=null;function gT(t,e,n){if(ag===null){var r=new Map,i=ag=new Map;i.set(n,r)}else i=ag,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[tm]||a[ar]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var l=r.get(s);l?l.push(a):r.set(s,[a])}}return r}function yT(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function K7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function CD(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var eh=null;function X7(){}function Y7(t,e,n){if(eh===null)throw Error(se(475));var r=eh;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=su(n.href),a=t.querySelector(dm(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Wg.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,Rn(a);return}a=t.ownerDocument||t,n=OD(n),(i=wi.get(i))&&dj(n,i),a=a.createElement("link"),Rn(a);var s=a;s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),Kn(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Wg.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Q7(){if(eh===null)throw Error(se(475));var t=eh;return t.stylesheets&&t.count===0&&rw(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&rw(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Wg(){if(this.count--,this.count===0){if(this.stylesheets)rw(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kg=null;function rw(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kg=new Map,e.forEach(Z7,t),Kg=null,Wg.call(t))}function Z7(t,e){if(!(e.state.loading&4)){var n=Kg.get(t);if(n)var r=n.get(null);else{n=new Map,Kg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Wg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var th={$$typeof:Ra,Provider:null,Consumer:null,_currentValue:nl,_currentValue2:nl,_threadCount:0};function J7(t,e,n,r,i,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Px(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Px(0),this.hiddenUpdates=Px(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function kD(t,e,n,r,i,a,s,l,c,u,d,f){return t=new J7(t,e,n,s,l,c,u,f),e=1,a===!0&&(e|=24),a=Hr(3,null,null,e),t.current=a,a.stateNode=t,e=U2(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},z2(a),t}function ID(t){return t?(t=Sc,t):Sc}function PD(t,e,n,r,i,a){i=ID(i),r.context===null?r.context=i:r.pendingContext=i,r=Hs(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=qs(t,r,e),n!==null&&(Zr(n,t,e),wf(n,t,e))}function vT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hj(t,e){vT(t,e),(t=t.alternate)&&vT(t,e)}function RD(t){if(t.tag===13){var e=Xu(t,67108864);e!==null&&Zr(e,t,67108864),hj(t,67108864)}}var Xg=!0;function ez(t,e,n,r){var i=$e.T;$e.T=null;var a=ht.p;try{ht.p=2,mj(t,e,n,r)}finally{ht.p=a,$e.T=i}}function tz(t,e,n,r){var i=$e.T;$e.T=null;var a=ht.p;try{ht.p=8,mj(t,e,n,r)}finally{ht.p=a,$e.T=i}}function mj(t,e,n,r){if(Xg){var i=iw(r);if(i===null)ub(t,e,r,Yg,n),xT(t,r);else if(rz(i,t,e,n,r))r.stopPropagation();else if(xT(t,r),e&4&&-1<nz.indexOf(t)){for(;i!==null;){var a=Ku(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Uo(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var c=1<<31-Yr(s);l.entanglements[1]|=c,s&=~c}xa(a),!(yt&6)&&(Ug=sa()+500,um(0))}}break;case 13:l=Xu(a,2),l!==null&&Zr(l,a,2),M0(),hj(a,2)}if(a=iw(r),a===null&&ub(t,e,r,Yg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ub(t,e,r,null,n)}}function iw(t){return t=C2(t),pj(t)}var Yg=null;function pj(t){if(Yg=null,t=vc(t),t!==null){var e=Qh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=aM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yg=t,null}function MD(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VU()){case cM:return 2;case uM:return 8;case Sg:case zU:return 32;case dM:return 268435456;default:return 32}default:return 32}}var aw=!1,Ks=null,Xs=null,Ys=null,nh=new Map,rh=new Map,Cs=[],nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xT(t,e){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":nh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(e.pointerId)}}function Ud(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ku(e),e!==null&&RD(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rz(t,e,n,r,i){switch(e){case"focusin":return Ks=Ud(Ks,t,e,n,r,i),!0;case"dragenter":return Xs=Ud(Xs,t,e,n,r,i),!0;case"mouseover":return Ys=Ud(Ys,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return nh.set(a,Ud(nh.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,rh.set(a,Ud(rh.get(a)||null,t,e,n,r,i)),!0}return!1}function DD(t){var e=vc(t.target);if(e!==null){var n=Qh(e);if(n!==null){if(e=n.tag,e===13){if(e=aM(n),e!==null){t.blockedOn=e,YU(t.priority,function(){if(n.tag===13){var r=Qr();r=E2(r);var i=Xu(n,r);i!==null&&Zr(i,n,r),hj(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iw(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_1=r,n.target.dispatchEvent(r),_1=null}else return e=Ku(n),e!==null&&RD(e),t.blockedOn=n,!1;e.shift()}return!0}function bT(t,e,n){sg(t)&&n.delete(e)}function iz(){aw=!1,Ks!==null&&sg(Ks)&&(Ks=null),Xs!==null&&sg(Xs)&&(Xs=null),Ys!==null&&sg(Ys)&&(Ys=null),nh.forEach(bT),rh.forEach(bT)}function pp(t,e){t.blockedOn===e&&(t.blockedOn=null,aw||(aw=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,iz)))}var gp=null;function wT(t){gp!==t&&(gp=t,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,function(){gp===t&&(gp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(pj(r||n)===null)continue;break}var a=Ku(n);a!==null&&(t.splice(e,3),e-=3,L1(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ih(t){function e(c){return pp(c,t)}Ks!==null&&pp(Ks,t),Xs!==null&&pp(Xs,t),Ys!==null&&pp(Ys,t),nh.forEach(e),rh.forEach(e);for(var n=0;n<Cs.length;n++){var r=Cs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Cs.length&&(n=Cs[0],n.blockedOn===null);)DD(n),n.blockedOn===null&&Cs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Ir]||null;if(typeof a=="function")s||wT(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ir]||null)l=s.formAction;else if(pj(i)!==null)continue}else l=s.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),wT(n)}}}function gj(t){this._internalRoot=t}B0.prototype.render=gj.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));var n=e.current,r=Qr();PD(n,r,t,e,null,null)};B0.prototype.unmount=gj.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;PD(t.current,2,null,t,null,null),M0(),e[Wu]=null}};function B0(t){this._internalRoot=t}B0.prototype.unstable_scheduleHydration=function(t){if(t){var e=gM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cs.length&&e!==0&&e<Cs[n].priority;n++);Cs.splice(n,0,t),n===0&&DD(t)}};var _T=rM.version;if(_T!=="19.1.0")throw Error(se(527,_T,"19.1.0"));ht.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=RU(e),t=t!==null?sM(t):null,t=t===null?null:t.stateNode,t};var az={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$e,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{Zh=yp.inject(az),Xr=yp}catch{}}j0.createRoot=function(t,e){if(!iM(t))throw Error(se(299));var n=!1,r="",i=k4,a=I4,s=P4,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=kD(t,1,!1,null,null,n,r,i,a,s,l,null),t[Wu]=e.current,uj(t),new gj(e)};j0.hydrateRoot=function(t,e,n){if(!iM(t))throw Error(se(299));var r=!1,i="",a=k4,s=I4,l=P4,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=kD(t,1,!0,e,n??null,r,i,a,s,l,c,u),e.context=ID(null),n=e.current,r=Qr(),r=E2(r),i=Hs(r),i.callback=null,qs(n,i,r),n=r,e.current.lanes=n,em(e,n),xa(e),t[Wu]=e.current,uj(t),new B0(e)};j0.version="19.1.0";function $D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($D)}catch(t){console.error(t)}}$D(),QR.exports=j0;var sz=QR.exports,yj={};Object.defineProperty(yj,"__esModule",{value:!0});yj.parse=hz;yj.serialize=mz;const oz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,lz=/^[\u0021-\u003A\u003C-\u007E]*$/,cz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,uz=/^[\u0020-\u003A\u003D-\u007E]*$/,dz=Object.prototype.toString,fz=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function hz(t,e){const n=new fz,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||pz;let a=0;do{const s=t.indexOf("=",a);if(s===-1)break;const l=t.indexOf(";",a),c=l===-1?r:l;if(s>c){a=t.lastIndexOf(";",s-1)+1;continue}const u=jT(t,a,s),d=ST(t,s,u),f=t.slice(u,d);if(n[f]===void 0){let h=jT(t,s+1,c),p=ST(t,c,h);const y=i(t.slice(h,p));n[f]=y}a=c+1}while(a<r);return n}function jT(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function ST(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function mz(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!oz.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!lz.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!cz.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!uz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!gz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function pz(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function gz(t){return dz.call(t)==="[object Date]"}var AT="popstate";function yz(t={}){function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return sw("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ah(i)}return xz(e,n,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vz(){return Math.random().toString(36).substring(2,10)}function ET(t,e){return{usr:t.state,key:t.key,idx:e}}function sw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ju(e):e,state:n,key:e&&e.key||r||vz()}}function ah({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:g.location,delta:b})}function h(x,b){l="PUSH";let v=sw(g.location,x,b);u=d()+1;let _=ET(v,u),N=g.createHref(v);try{s.pushState(_,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(N)}a&&c&&c({action:l,location:g.location,delta:1})}function p(x,b){l="REPLACE";let v=sw(g.location,x,b);u=d();let _=ET(v,u),N=g.createHref(v);s.replaceState(_,"",N),a&&c&&c({action:l,location:g.location,delta:0})}function y(x){return bz(x)}let g={get action(){return l},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(AT,f),c=x,()=>{i.removeEventListener(AT,f),c=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let b=y(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(x){return s.go(x)}};return g}function bz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ah(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function LD(t,e,n="/"){return wz(t,e,n,!1)}function wz(t,e,n,r){let i=typeof e=="string"?Ju(e):e,a=ts(i.pathname||"/",n);if(a==null)return null;let s=BD(t);_z(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=Pz(a);l=kz(s[c],u,r)}return l}function BD(t,e=[],n=[],r=""){let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Xt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Ga([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),BD(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Oz(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of UD(a.path))i(a,s,c)}),e}function UD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=UD(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function _z(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jz=/^:[\w-]+$/,Sz=3,Az=2,Ez=1,Nz=10,Tz=-2,NT=t=>t==="*";function Oz(t,e){let n=t.split("/"),r=n.length;return n.some(NT)&&(r+=Tz),e&&(r+=Az),n.filter(i=>!NT(i)).reduce((i,a)=>i+(jz.test(a)?Sz:a===""?Ez:Nz),r)}function Cz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=Qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ga([a,f.pathname]),pathnameBase:$z(Ga([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ga([a,f.pathnameBase]))}return s}function Qg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Iz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=l[h]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function Iz(t,e=!1,n=!0){ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Pz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ma(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ts(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Rz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ju(t):t;return{pathname:n?n.startsWith("/")?n:Mz(n,e):e,search:Lz(r),hash:Bz(i)}}function Mz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VD(t){let e=Dz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zD(t,e,n,r=!1){let i;typeof t=="string"?i=Ju(t):(i={...t},Xt(!i.pathname||!i.pathname.includes("?"),fb("?","pathname","search",i)),Xt(!i.pathname||!i.pathname.includes("#"),fb("#","pathname","hash",i)),Xt(!i.search||!i.search.includes("#"),fb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=Rz(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ga=t=>t.join("/").replace(/\/\/+/g,"/"),$z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Uz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var FD=["POST","PUT","PATCH","DELETE"];new Set(FD);var Vz=["GET",...FD];new Set(Vz);var ed=C.createContext(null);ed.displayName="DataRouter";var U0=C.createContext(null);U0.displayName="DataRouterState";var HD=C.createContext({isTransitioning:!1});HD.displayName="ViewTransition";var zz=C.createContext(new Map);zz.displayName="Fetchers";var Fz=C.createContext(null);Fz.displayName="Await";var ba=C.createContext(null);ba.displayName="Navigation";var hm=C.createContext(null);hm.displayName="Location";var ds=C.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var vj=C.createContext(null);vj.displayName="RouteError";function Hz(t,{relative:e}={}){Xt(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ba),{hash:i,pathname:a,search:s}=pm(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:Ga([n,a])),r.createHref({pathname:l,search:s,hash:i})}function mm(){return C.useContext(hm)!=null}function Dl(){return Xt(mm(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(hm).location}var qD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GD(t){C.useContext(ba).static||C.useLayoutEffect(t)}function qz(){let{isDataRoute:t}=C.useContext(ds);return t?iF():Gz()}function Gz(){Xt(mm(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ed),{basename:e,navigator:n}=C.useContext(ba),{matches:r}=C.useContext(ds),{pathname:i}=Dl(),a=JSON.stringify(VD(r)),s=C.useRef(!1);return GD(()=>{s.current=!0}),C.useCallback((c,u={})=>{if(ma(s.current,qD),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=zD(c,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ga([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}C.createContext(null);function pm(t,{relative:e}={}){let{matches:n}=C.useContext(ds),{pathname:r}=Dl(),i=JSON.stringify(VD(n));return C.useMemo(()=>zD(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Wz(t,e){return WD(t,e)}function WD(t,e,n,r){var b;Xt(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(ba),{matches:a}=C.useContext(ds),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let v=d&&d.path||"";KD(c,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Dl(),h;if(e){let v=typeof e=="string"?Ju(e):e;Xt(u==="/"||((b=v.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),h=v}else h=f;let p=h.pathname||"/",y=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=LD(t,{pathname:y});ma(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ma(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Zz(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ga([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Ga([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&x?C.createElement(hm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function Kz(){let t=rF(),e=Uz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}var Xz=C.createElement(Kz,null),Yz=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?C.createElement(ds.Provider,{value:this.props.routeContext},C.createElement(vj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qz({routeContext:t,match:e,children:n}){let r=C.useContext(ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ds.Provider,{value:t},n)}function Zz(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Xt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,h=!1,p=null,y=null;n&&(f=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||Xz,s&&(l<0&&d===0?(KD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):l===d&&(h=!0,y=u.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,d+1)),x=()=>{let b;return f?b=p:h?b=y:u.route.Component?b=C.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=c,C.createElement(Qz,{match:u,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?C.createElement(Yz,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}function xj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jz(t){let e=C.useContext(ed);return Xt(e,xj(t)),e}function eF(t){let e=C.useContext(U0);return Xt(e,xj(t)),e}function tF(t){let e=C.useContext(ds);return Xt(e,xj(t)),e}function bj(t){let e=tF(t),n=e.matches[e.matches.length-1];return Xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nF(){return bj("useRouteId")}function rF(){var r;let t=C.useContext(vj),e=eF("useRouteError"),n=bj("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function iF(){let{router:t}=Jz("useNavigate"),e=bj("useNavigate"),n=C.useRef(!1);return GD(()=>{n.current=!0}),C.useCallback(async(i,a={})=>{ma(n.current,qD),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var TT={};function KD(t,e,n){!e&&!TT[t]&&(TT[t]=!0,ma(!1,n))}C.memo(aF);function aF({routes:t,future:e,state:n}){return WD(t,void 0,n,e)}function XD(t){Xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sF({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Xt(!mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Ju(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,p=C.useMemo(()=>{let y=ts(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:r}},[s,c,u,d,f,h,r]);return ma(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:C.createElement(ba.Provider,{value:l},C.createElement(hm.Provider,{children:e,value:p}))}function oF({children:t,location:e}){return Wz(ow(t),e)}function ow(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let a=[...e,i];if(r.type===C.Fragment){n.push.apply(n,ow(r.props.children,a));return}Xt(r.type===XD,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ow(r.props.children,a)),n.push(s)}),n}var og="get",lg="application/x-www-form-urlencoded";function V0(t){return t!=null&&typeof t.tagName=="string"}function lF(t){return V0(t)&&t.tagName.toLowerCase()==="button"}function cF(t){return V0(t)&&t.tagName.toLowerCase()==="form"}function uF(t){return V0(t)&&t.tagName.toLowerCase()==="input"}function dF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fF(t,e){return t.button===0&&(!e||e==="_self")&&!dF(t)}var vp=null;function hF(){if(vp===null)try{new FormData(document.createElement("form"),0),vp=!1}catch{vp=!0}return vp}var mF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hb(t){return t!=null&&!mF.has(t)?(ma(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lg}"`),null):t}function pF(t,e){let n,r,i,a,s;if(cF(t)){let l=t.getAttribute("action");r=l?ts(l,e):null,n=t.getAttribute("method")||og,i=hb(t.getAttribute("enctype"))||lg,a=new FormData(t)}else if(lF(t)||uF(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?ts(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||og,i=hb(t.getAttribute("formenctype"))||hb(l.getAttribute("enctype"))||lg,a=new FormData(l,t),!hF()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(V0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=og,r=null,i=lg,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function wj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function gF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function vF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await gF(a,n);return s.links?s.links():[]}return[]}));return _F(r.flat(1).filter(yF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function OT(t,e,n,r,i,a){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function xF(t,e,{includeHydrateFallback:n}={}){return bF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function bF(t){return[...new Set(t)]}function wF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _F(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(wF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jF=new Set([100,101,204,205]);function SF(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ts(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YD(){let t=C.useContext(ed);return wj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AF(){let t=C.useContext(U0);return wj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _j=C.createContext(void 0);_j.displayName="FrameworkContext";function QD(){let t=C.useContext(_j);return wj(t,"You must render this element inside a <HydratedRouter> element"),t}function EF(t,e){let n=C.useContext(_j),[r,i]=C.useState(!1),[a,s]=C.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=C.useRef(null);C.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let g=b=>{b.forEach(v=>{s(v.isIntersecting)})},x=new IntersectionObserver(g,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),C.useEffect(()=>{if(r){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Vd(l,p),onBlur:Vd(c,y),onMouseEnter:Vd(u,p),onMouseLeave:Vd(d,y),onTouchStart:Vd(f,p)}]:[!1,h,{}]}function Vd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function NF({page:t,...e}){let{router:n}=YD(),r=C.useMemo(()=>LD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(OF,{page:t,matches:r,...e}):null}function TF(t){let{manifest:e,routeModules:n}=QD(),[r,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return vF(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function OF({page:t,matches:e,...n}){let r=Dl(),{manifest:i,routeModules:a}=QD(),{basename:s}=YD(),{loaderData:l,matches:c}=AF(),u=C.useMemo(()=>OT(t,e,c,i,r,"data"),[t,e,c,i,r]),d=C.useMemo(()=>OT(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,g=!1;if(e.forEach(b=>{var _;let v=i.routes[b.route.id];!v||!v.hasLoader||(!u.some(N=>N.route.id===b.route.id)&&b.route.id in l&&((_=a[b.route.id])!=null&&_.shouldRevalidate)||v.hasClientLoader?g=!0:y.add(b.route.id))}),y.size===0)return[];let x=SF(t,s);return g&&y.size>0&&x.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[s,l,r,i,u,e,t,a]),h=C.useMemo(()=>xF(d,i),[d,i]),p=TF(d);return C.createElement(C.Fragment,null,f.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),p.map(({key:y,link:g})=>C.createElement("link",{key:y,...g})))}function CF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZD&&(window.__reactRouterVersion="7.6.2")}catch{}function kF({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=yz({window:n,v5Compat:!0}));let i=r.current,[a,s]=C.useState({action:i.action,location:i.location}),l=C.useCallback(c=>{C.startTransition(()=>s(c))},[s]);return C.useLayoutEffect(()=>i.listen(l),[i,l]),C.createElement(sF,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e6=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:y}=C.useContext(ba),g=typeof u=="string"&&JD.test(u),x,b=!1;if(typeof u=="string"&&g&&(x=u,ZD))try{let T=new URL(window.location.href),P=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=ts(P.pathname,y);P.origin===T.origin&&O!=null?u=O+P.search+P.hash:b=!0}catch{ma(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=Hz(u,{relative:i}),[_,N,j]=EF(r,h),A=MF(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(T){e&&e(T),T.defaultPrevented||A(T)}let S=C.createElement("a",{...h,...j,href:x||v,onClick:b||a?e:w,ref:CF(p,N),target:c,"data-discover":!g&&n==="render"?"true":void 0});return _&&!g?C.createElement(C.Fragment,null,S,C.createElement(NF,{page:v})):S});e6.displayName="Link";var IF=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let f=pm(s,{relative:u.relative}),h=Dl(),p=C.useContext(U0),{navigator:y,basename:g}=C.useContext(ba),x=p!=null&&UF(f)&&l===!0,b=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=h.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&g&&(_=ts(_,g)||_);const N=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=v===b||!i&&v.startsWith(b)&&v.charAt(N)==="/",A=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),w={isActive:j,isPending:A,isTransitioning:x},S=j?e:void 0,T;typeof r=="function"?T=r(w):T=[r,j?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(w):a;return C.createElement(e6,{...u,"aria-current":S,className:T,ref:d,style:P,to:s,viewTransition:l},typeof c=="function"?c(w):c)});IF.displayName="NavLink";var PF=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=og,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let y=LF(),g=BF(l,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&JD.test(l),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let N=_.nativeEvent.submitter,j=(N==null?void 0:N.getAttribute("formmethod"))||s;y(N||_.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return C.createElement("form",{ref:p,method:x,action:g,onSubmit:r?c:v,...h,"data-discover":!b&&t==="render"?"true":void 0})});PF.displayName="Form";function RF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t6(t){let e=C.useContext(ed);return Xt(e,RF(t)),e}function MF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=qz(),c=Dl(),u=pm(t,{relative:a});return C.useCallback(d=>{if(fF(d,e)){d.preventDefault();let f=n!==void 0?n:ah(c)===ah(u);l(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,u,n,r,e,t,i,a,s])}var DF=0,$F=()=>`__${String(++DF)}__`;function LF(){let{router:t}=t6("useSubmit"),{basename:e}=C.useContext(ba),n=nF();return C.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:c,body:u}=pF(r,e);if(i.navigate===!1){let d=i.fetcherKey||$F();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function BF(t,{relative:e}={}){let{basename:n}=C.useContext(ba),r=C.useContext(ds);Xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...pm(t||".",{relative:e})},s=Dl();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ga([n,a.pathname])),ah(a)}function UF(t,e={}){let n=C.useContext(HD);Xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=t6("useViewTransitionState"),i=pm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ts(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ts(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qg(i.pathname,s)!=null||Qg(i.pathname,a)!=null}[...jF];const VF=()=>{};var CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},r6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,s||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||f==null)throw new FF;const h=a<<2|l>>4;if(r.push(h),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HF=function(t){const e=n6(t);return r6.encodeByteArray(e,!0)},Zg=function(t){return HF(t).replace(/\./g,"")},i6=function(t){try{return r6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=()=>qF().__FIREBASE_DEFAULTS__,WF=()=>{if(typeof process>"u"||typeof CT>"u")return;const t=CT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i6(t[1]);return e&&JSON.parse(e)},z0=()=>{try{return VF()||GF()||WF()||KF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a6=t=>{var e,n;return(n=(e=z0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s6=t=>{const e=a6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o6=()=>{var t;return(t=z0())===null||t===void 0?void 0:t.config},l6=t=>{var e;return(e=z0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){return t.endsWith(".cloudworkstations.dev")}async function jj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zg(JSON.stringify(n)),Zg(JSON.stringify(s)),""].join(".")}const Cf={};function YF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cf))Cf[e]?t.emulator.push(e):t.prod.push(e);return t}function QF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kT=!1;function Sj(t,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Cf[t]===e||Cf[t]||kT)return;Cf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=YF().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{kT=!0,s()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=QF(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),x=document.getElementById(g)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;l(_),d(x,g);const N=u();c(v,b),_.append(v,y,x,N),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function JF(){var t;const e=(t=z0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nH(){const t=lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rH(){return!JF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d6(){try{return typeof indexedDB=="object"}catch{return!1}}function f6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function iH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aH,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?sH(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Si(i,l,r)}}function sH(t,e){return t.replace(oH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oH=/\{\$([^}]+)}/g;function lH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(IT(a)&&IT(s)){if(!so(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cH(t,e){const n=new uH(t,e);return n.subscribe.bind(n)}class uH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mb),i.error===void 0&&(i.error=mb),i.complete===void 0&&(i.complete=mb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=1e3,hH=2,mH=4*60*60*1e3,pH=.5;function PT(t,e=fH,n=hH){const r=e*Math.pow(n,t),i=Math.round(pH*r*(Math.random()-.5)*2);return Math.min(mH,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vH(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yH(t){return t===Fo?void 0:t}function vH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const bH={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},wH=tt.INFO,_H={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},jH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_H[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F0{constructor(e){this.name=e,this._logLevel=wH,this._logHandler=jH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const SH=(t,e)=>e.some(n=>t instanceof n);let RT,MT;function AH(){return RT||(RT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EH(){return MT||(MT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h6=new WeakMap,lw=new WeakMap,m6=new WeakMap,pb=new WeakMap,Aj=new WeakMap;function NH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Qs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&h6.set(n,t)}).catch(()=>{}),Aj.set(e,t),e}function TH(t){if(lw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});lw.set(t,e)}let cw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OH(t){cw=t(cw)}function CH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return m6.set(r,e.sort?e.sort():[e]),Qs(r)}:EH().includes(t)?function(...e){return t.apply(gb(this),e),Qs(h6.get(this))}:function(...e){return Qs(t.apply(gb(this),e))}}function kH(t){return typeof t=="function"?CH(t):(t instanceof IDBTransaction&&TH(t),SH(t,AH())?new Proxy(t,cw):t)}function Qs(t){if(t instanceof IDBRequest)return NH(t);if(pb.has(t))return pb.get(t);const e=kH(t);return e!==t&&(pb.set(t,e),Aj.set(e,t)),e}const gb=t=>Aj.get(t);function p6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=Qs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Qs(s.result),c.oldVersion,c.newVersion,Qs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const IH=["get","getKey","getAll","getAllKeys","count"],PH=["put","add","delete","clear"],yb=new Map;function DT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IH.includes(n)))return;const a=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return yb.set(e,a),a}OH(t=>({...t,get:(e,n,r)=>DT(e,n)||t.get(e,n,r),has:(e,n)=>!!DT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uw="@firebase/app",$T="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new F0("@firebase/app"),DH="@firebase/app-compat",$H="@firebase/analytics-compat",LH="@firebase/analytics",BH="@firebase/app-check-compat",UH="@firebase/app-check",VH="@firebase/auth",zH="@firebase/auth-compat",FH="@firebase/database",HH="@firebase/data-connect",qH="@firebase/database-compat",GH="@firebase/functions",WH="@firebase/functions-compat",KH="@firebase/installations",XH="@firebase/installations-compat",YH="@firebase/messaging",QH="@firebase/messaging-compat",ZH="@firebase/performance",JH="@firebase/performance-compat",eq="@firebase/remote-config",tq="@firebase/remote-config-compat",nq="@firebase/storage",rq="@firebase/storage-compat",iq="@firebase/firestore",aq="@firebase/ai",sq="@firebase/firestore-compat",oq="firebase",lq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="[DEFAULT]",cq={[uw]:"fire-core",[DH]:"fire-core-compat",[LH]:"fire-analytics",[$H]:"fire-analytics-compat",[UH]:"fire-app-check",[BH]:"fire-app-check-compat",[VH]:"fire-auth",[zH]:"fire-auth-compat",[FH]:"fire-rtdb",[HH]:"fire-data-connect",[qH]:"fire-rtdb-compat",[GH]:"fire-fn",[WH]:"fire-fn-compat",[KH]:"fire-iid",[XH]:"fire-iid-compat",[YH]:"fire-fcm",[QH]:"fire-fcm-compat",[ZH]:"fire-perf",[JH]:"fire-perf-compat",[eq]:"fire-rc",[tq]:"fire-rc-compat",[nq]:"fire-gcs",[rq]:"fire-gcs-compat",[iq]:"fire-fst",[sq]:"fire-fst-compat",[aq]:"fire-vertex","fire-js":"fire-js",[oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=new Map,uq=new Map,fw=new Map;function LT(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(fw.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;fw.set(e,t);for(const n of Jg.values())LT(n,t);for(const n of uq.values())LT(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new $l("app","Firebase",dq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=lq;function g6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dw,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=o6()),!n)throw Zs.create("no-options");const a=Jg.get(i);if(a){if(so(n,a.options)&&so(r,a.config))return a;throw Zs.create("duplicate-app",{appName:i})}const s=new xH(i);for(const c of fw.values())s.addComponent(c);const l=new fq(n,r,s);return Jg.set(i,l),l}function H0(t=dw){const e=Jg.get(t);if(!e&&t===dw&&o6())return g6();if(!e)throw Zs.create("no-app",{appName:t});return e}function Or(t,e,n){var r;let i=(r=cq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(l.join(" "));return}Ui(new _i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="firebase-heartbeat-database",mq=1,sh="firebase-heartbeat-store";let vb=null;function y6(){return vb||(vb=p6(hq,mq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),vb}async function pq(t){try{const n=(await y6()).transaction(sh),r=await n.objectStore(sh).get(v6(t));return await n.done,r}catch(e){if(e instanceof Si)ns.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function BT(t,e){try{const r=(await y6()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,v6(t)),await r.done}catch(n){if(n instanceof Si)ns.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function v6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=1024,yq=30;class vq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=UT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yq){const s=wq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UT(),{heartbeatsToSend:r,unsentEntries:i}=xq(this._heartbeatsCache.heartbeats),a=Zg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ns.warn(n),""}}}function UT(){return new Date().toISOString().substring(0,10)}function xq(t,e=gq){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),VT(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d6()?f6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VT(t){return Zg(JSON.stringify({version:2,heartbeats:t})).length}function wq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t){Ui(new _i("platform-logger",e=>new RH(e),"PRIVATE")),Ui(new _i("heartbeat",e=>new vq(e),"PRIVATE")),Or(uw,$T,t),Or(uw,$T,"esm2017"),Or("fire-js","")}_q("");function Ej(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function x6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jq=x6,b6=new $l("auth","Firebase",x6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=new F0("@firebase/auth");function Sq(t,...e){ey.logLevel<=tt.WARN&&ey.warn(`Auth (${Ll}): ${t}`,...e)}function cg(t,...e){ey.logLevel<=tt.ERROR&&ey.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,...e){throw Tj(t,...e)}function Li(t,...e){return Tj(t,...e)}function Nj(t,e,n){const r=Object.assign(Object.assign({},jq()),{[e]:n});return new $l("auth","Firebase",r).create(e,{appName:t.name})}function cl(t){return Nj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Aq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pa(t,"argument-error"),Nj(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tj(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return b6.create(t,...e)}function Le(t,e,...n){if(!t)throw Tj(e,...n)}function Ba(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cg(e),new Error(e)}function rs(t,e){t||Ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Eq(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Eq()||u6()||"connection"in navigator)?navigator.onLine:!0}function Tq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=ZF()||tH()}get(){return Nq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kq=new ym(3e4,6e4);function Cj(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function td(t,e,n,r,i={}){return _6(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=gm(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return eH()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&vo(t.emulatorConfig.host)&&(u.credentials="include"),w6.fetch()(await j6(t,t.config.apiHost,n,l),u)})}async function _6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oq),e);try{const i=new Pq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw xp(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw xp(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw xp(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Nj(t,d,u);pa(t,d)}}catch(i){if(i instanceof Si)throw i;pa(t,"network-request-failed",{message:String(i)})}}async function Iq(t,e,n,r,i={}){const a=await td(t,e,n,r,i);return"mfaPendingCredential"in a&&pa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function j6(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Oj(t.config,i):`${t.config.apiScheme}://${i}`;return Cq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class Pq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),kq.get())})}}function xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Li(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){return td(t,"POST","/v1/accounts:delete",e)}async function ty(t,e){return td(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mq(t,e=!1){const n=Wt(t),r=await n.getIdToken(e),i=kj(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:kf(xb(i.auth_time)),issuedAtTime:kf(xb(i.iat)),expirationTime:kf(xb(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xb(t){return Number(t)*1e3}function kj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cg("JWT malformed, contained fewer than 3 sections"),null;try{const i=i6(n);return i?JSON.parse(i):(cg("Failed to decode base64 JWT payload"),null)}catch(i){return cg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function FT(t){const e=kj(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&Dq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kf(this.lastLoginAt),this.creationTime=kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ny(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oh(t,ty(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?S6(a.providerUserInfo):[],l=Bq(t.providerData,s),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new mw(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Lq(t){const e=Wt(t);await ny(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S6(t){return t.map(e=>{var{providerId:n}=e,r=Ej(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(t,e){const n=await _6(t,{},async()=>{const r=gm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await j6(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&vo(t.emulatorConfig.host)&&(c.credentials="include"),w6.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Vq(t,e){return td(t,"POST","/v2/accounts:revokeToken",Cj(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=FT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Uq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new zc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Le(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zc,this.toJSON())}_performRefresh(){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Ej(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await oh(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mq(this,e)}reload(){return Lq(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ny(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(cl(this.auth));const e=await this.getIdToken();return await oh(this,Rq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:N,isAnonymous:j,providerData:A,stsTokenManager:w}=n;Le(_&&w,e,"internal-error");const S=zc.fromJSON(this.name,w);Le(typeof _=="string",e,"internal-error"),ws(f,e.name),ws(h,e.name),Le(typeof N=="boolean",e,"internal-error"),Le(typeof j=="boolean",e,"internal-error"),ws(p,e.name),ws(y,e.name),ws(g,e.name),ws(x,e.name),ws(b,e.name),ws(v,e.name);const T=new Di({uid:_,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:j,photoURL:y,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:b,lastLoginAt:v});return A&&Array.isArray(A)&&(T.providerData=A.map(P=>Object.assign({},P))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new zc;i.updateFromServerResponse(n);const a=new Di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ny(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?S6(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new zc;l.updateFromIdToken(r);const c=new Di({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;function Ua(t){rs(t instanceof Function,"Expected a class definition");let e=HT.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A6.type="NONE";const qT=A6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){return`firebase:${t}:${e}:${n}`}class Fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,a),this.fullPersistenceKey=ug("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ty(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fc(Ua(qT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ua(qT);const s=ug(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const h=await ty(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Di._fromGetAccountInfoResponse(e,h,d)}else f=Di._fromJSON(e,d);u!==a&&(l=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Fc(a,e,r):(a=c[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Fc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k6(e))return"Blackberry";if(I6(e))return"Webos";if(N6(e))return"Safari";if((e.includes("chrome/")||T6(e))&&!e.includes("edge/"))return"Chrome";if(C6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E6(t=lr()){return/firefox\//i.test(t)}function N6(t=lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T6(t=lr()){return/crios\//i.test(t)}function O6(t=lr()){return/iemobile/i.test(t)}function C6(t=lr()){return/android/i.test(t)}function k6(t=lr()){return/blackberry/i.test(t)}function I6(t=lr()){return/webos/i.test(t)}function Ij(t=lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zq(t=lr()){var e;return Ij(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fq(){return nH()&&document.documentMode===10}function P6(t=lr()){return Ij(t)||C6(t)||I6(t)||k6(t)||/windows phone/i.test(t)||O6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e=[]){let n;switch(t){case"Browser":n=GT(lr());break;case"Worker":n=`${GT(lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const c=e(a);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e={}){return td(t,"GET","/v2/passwordPolicy",Cj(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq=6;class Wq{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Gq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new Hq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ua(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ty(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ny(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(cl(this));const n=e?Wt(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qq(this),n=new Wq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ua(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Fc.create(this,[Ua(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function q0(t){return Wt(t)}class WT{constructor(e){this.auth=e,this.observer=null,this.addObserver=cH(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xq(t){Pj=t}function Yq(t){return Pj.loadJS(t)}function Qq(){return Pj.gapiScript}function Zq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e){const n=xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(so(a,e??{}))return i;pa(i,"already-initialized")}return n.initialize({options:e})}function eG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ua);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tG(t,e,n){const r=q0(t);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=M6(e),{host:s,port:l}=nG(e),c=l===null?"":`:${l}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(so(u,r.config.emulator)&&so(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,vo(s)?(jj(`${a}//${s}${c}`),Sj("Auth",!0)):rG()}function M6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nG(t){const e=M6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:KT(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:KT(s)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,n){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e){return Iq(t,"POST","/v1/accounts:signInWithIdp",Cj(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG="http://localhost";class xl extends D6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Ej(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new xl(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Hc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hc(e,n)}buildRequest(){const e={requestUri:iG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends Rj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends vm{constructor(){super("facebook.com")}static credential(e){return xl._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends vm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pa.credential(n,r)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends vm{constructor(){super("github.com")}static credential(e){return xl._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends vm{constructor(){super("twitter.com")}static credential(e,n){return xl._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Di._fromIdTokenResponse(e,r,i),s=XT(r);return new ou({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XT(r);return new ou({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends Si{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ry.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ry(e,n,r,i)}}function $6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ry._fromErrorAndOperation(t,a,e,r):a})}async function aG(t,e,n=!1){const r=await oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ou._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(t,e,n=!1){const{auth:r}=t;if(mi(r.app))return Promise.reject(cl(r));const i="reauthenticate";try{const a=await oh(t,$6(r,i,e,t),n);Le(a.idToken,r,"internal-error");const s=kj(a.idToken);Le(s,r,"internal-error");const{sub:l}=s;return Le(t.uid===l,r,"user-mismatch"),ou._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&pa(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oG(t,e,n=!1){if(mi(t.app))return Promise.reject(cl(t));const r="signIn",i=await $6(t,r,e),a=await ou._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function lG(t,e,n,r){return Wt(t).onIdTokenChanged(e,n,r)}function cG(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function uG(t,e,n,r){return Wt(t).onAuthStateChanged(e,n,r)}function dG(t){return Wt(t).signOut()}const iy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(iy,"1"),this.storage.removeItem(iy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=1e3,hG=10;class B6 extends L6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Fq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B6.type="LOCAL";const mG=B6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6 extends L6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U6.type="SESSION";const V6=U6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new G0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async u=>u(n.origin,a)),c=await pG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,c)=>{const u=Mj("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(){return window}function yG(t){la().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return typeof la().WorkerGlobalScope<"u"&&typeof la().importScripts=="function"}async function vG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bG(){return z6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="firebaseLocalStorageDb",wG=1,ay="firebaseLocalStorage",H6="fbase_key";class xm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function W0(t,e){return t.transaction([ay],e?"readwrite":"readonly").objectStore(ay)}function _G(){const t=indexedDB.deleteDatabase(F6);return new xm(t).toPromise()}function pw(){const t=indexedDB.open(F6,wG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ay,{keyPath:H6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ay)?e(r):(r.close(),await _G(),e(await pw()))})})}async function YT(t,e,n){const r=W0(t,!0).put({[H6]:e,value:n});return new xm(r).toPromise()}async function jG(t,e){const n=W0(t,!1).get(e),r=await new xm(n).toPromise();return r===void 0?null:r.value}function QT(t,e){const n=W0(t,!0).delete(e);return new xm(n).toPromise()}const SG=800,AG=3;class q6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G0._getInstance(bG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vG(),!this.activeServiceWorker)return;this.sender=new gG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pw();return await YT(e,iy,"1"),await QT(e,iy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=W0(i,!1).getAll();return new xm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q6.type="LOCAL";const EG=q6;new ym(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t,e){return e?Ua(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj extends D6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NG(t){return oG(t.auth,new Dj(t),t.bypassAuthState)}function TG(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),sG(n,new Dj(t),t.bypassAuthState)}async function OG(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),aG(n,new Dj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NG;case"linkViaPopup":case"linkViaRedirect":return OG;case"reauthViaPopup":case"reauthViaRedirect":return TG;default:pa(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=new ym(2e3,1e4);async function kG(t,e,n){if(mi(t.app))return Promise.reject(Li(t,"operation-not-supported-in-this-environment"));const r=q0(t);Aq(t,e,Rj);const i=G6(r,n);return new Ko(r,"signInViaPopup",e,i).executeNotNull()}class Ko extends W6{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Mj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CG.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG="pendingRedirect",dg=new Map;class PG extends W6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dg.get(this.auth._key());if(!e){try{const r=await RG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dg.set(this.auth._key(),e)}return this.bypassAuthState||dg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RG(t,e){const n=$G(e),r=DG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MG(t,e){dg.set(t._key(),e)}function DG(t){return Ua(t._redirectPersistence)}function $G(t){return ug(IG,t.config.apiKey,t.name)}async function LG(t,e,n=!1){if(mi(t.app))return Promise.reject(cl(t));const r=q0(t),i=G6(r,e),s=await new PG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=10*60*1e3;class UG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BG&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZT(e))}saveEventToCache(e){this.cachedEventUids.add(ZT(e)),this.lastProcessedEventTime=Date.now()}}function ZT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zG(t,e={}){return td(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HG=/^https?/;async function qG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zG(t);for(const n of e)try{if(GG(n))return}catch{}pa(t,"unauthorized-domain")}function GG(t){const e=hw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!HG.test(n))return!1;if(FG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=new ym(3e4,6e4);function JT(){const t=la().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KG(t){return new Promise((e,n)=>{var r,i,a;function s(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(Li(t,"network-request-failed"))},timeout:WG.get()})}if(!((i=(r=la().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=la().gapi)===null||a===void 0)&&a.load)s();else{const l=Zq("iframefcb");return la()[l]=()=>{gapi.load?s():n(Li(t,"network-request-failed"))},Yq(`${Qq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw fg=null,e})}let fg=null;function XG(t){return fg=fg||KG(t),fg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new ym(5e3,15e3),QG="__/auth/iframe",ZG="emulator/auth/iframe",JG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tW(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oj(e,ZG):`https://${t.config.authDomain}/${QG}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},i=eW.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${gm(r).slice(1)}`}async function nW(t){const e=await XG(t),n=la().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:tW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Li(t,"network-request-failed"),l=la().setTimeout(()=>{a(s)},YG.get());function c(){la().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iW=500,aW=600,sW="_blank",oW="http://localhost";class eO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lW(t,e,n,r=iW,i=aW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rW),{width:r.toString(),height:i.toString(),top:a,left:s}),u=lr().toLowerCase();n&&(l=T6(u)?sW:n),E6(u)&&(e=e||oW,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(zq(u)&&l!=="_self")return cW(e||"",l),new eO(null);const f=window.open(e||"",l,d);Le(f,t,"popup-blocked");try{f.focus()}catch{}return new eO(f)}function cW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="__/auth/handler",dW="emulator/auth/handler",fW=encodeURIComponent("fac");async function tO(t,e,n,r,i,a){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:i};if(e instanceof Rj){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lH(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof vm){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${fW}=${encodeURIComponent(c)}`:"";return`${hW(t)}?${gm(l).slice(1)}${u}`}function hW({config:t}){return t.emulator?Oj(t,dW):`https://${t.authDomain}/${uW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="webStorageSupport";class mW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V6,this._completeRedirectFn=LG,this._overrideRedirectResult=MG}async _openPopup(e,n,r,i){var a;rs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await tO(e,n,r,hw(),i);return lW(e,s,Mj())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await tO(e,n,r,hw(),i);return yG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(rs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nW(e),r=new UG(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bb,{type:bb},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[bb];s!==void 0&&n(!!s),pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P6()||N6()||Ij()}}const pW=mW;var nO="@firebase/auth",rO="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vW(t){Ui(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R6(t)},u=new Kq(r,i,a,c);return eG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new _i("auth-internal",e=>{const n=q0(e.getProvider("auth").getImmediate());return(r=>new gW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(nO,rO,yW(t)),Or(nO,rO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=5*60,bW=l6("authIdTokenMaxAge")||xW;let iO=null;const wW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bW)return;const i=n==null?void 0:n.token;iO!==i&&(iO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _W(t=H0()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jq(t,{popupRedirectResolver:pW,persistence:[EG,mG,V6]}),r=l6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=wW(a.toString());cG(n,s,()=>s(n.currentUser)),lG(n,l=>s(l))}}const i=a6("auth");return i&&tG(n,`http://${i}`),n}function jW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Xq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Li("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",jW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vW("Browser");var aO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,X6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,S){function T(){}T.prototype=S.prototype,w.D=S.prototype,w.prototype=new T,w.prototype.constructor=w,w.C=function(P,O,R){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return S.prototype[O].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,S,T){T||(T=0);var P=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)P[O]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(O=0;16>O;++O)P[O]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=w.g[0],T=w.g[1],O=w.g[2];var R=w.g[3],I=S+(R^T&(O^R))+P[0]+3614090360&4294967295;S=T+(I<<7&4294967295|I>>>25),I=R+(O^S&(T^O))+P[1]+3905402710&4294967295,R=S+(I<<12&4294967295|I>>>20),I=O+(T^R&(S^T))+P[2]+606105819&4294967295,O=R+(I<<17&4294967295|I>>>15),I=T+(S^O&(R^S))+P[3]+3250441966&4294967295,T=O+(I<<22&4294967295|I>>>10),I=S+(R^T&(O^R))+P[4]+4118548399&4294967295,S=T+(I<<7&4294967295|I>>>25),I=R+(O^S&(T^O))+P[5]+1200080426&4294967295,R=S+(I<<12&4294967295|I>>>20),I=O+(T^R&(S^T))+P[6]+2821735955&4294967295,O=R+(I<<17&4294967295|I>>>15),I=T+(S^O&(R^S))+P[7]+4249261313&4294967295,T=O+(I<<22&4294967295|I>>>10),I=S+(R^T&(O^R))+P[8]+1770035416&4294967295,S=T+(I<<7&4294967295|I>>>25),I=R+(O^S&(T^O))+P[9]+2336552879&4294967295,R=S+(I<<12&4294967295|I>>>20),I=O+(T^R&(S^T))+P[10]+4294925233&4294967295,O=R+(I<<17&4294967295|I>>>15),I=T+(S^O&(R^S))+P[11]+2304563134&4294967295,T=O+(I<<22&4294967295|I>>>10),I=S+(R^T&(O^R))+P[12]+1804603682&4294967295,S=T+(I<<7&4294967295|I>>>25),I=R+(O^S&(T^O))+P[13]+4254626195&4294967295,R=S+(I<<12&4294967295|I>>>20),I=O+(T^R&(S^T))+P[14]+2792965006&4294967295,O=R+(I<<17&4294967295|I>>>15),I=T+(S^O&(R^S))+P[15]+1236535329&4294967295,T=O+(I<<22&4294967295|I>>>10),I=S+(O^R&(T^O))+P[1]+4129170786&4294967295,S=T+(I<<5&4294967295|I>>>27),I=R+(T^O&(S^T))+P[6]+3225465664&4294967295,R=S+(I<<9&4294967295|I>>>23),I=O+(S^T&(R^S))+P[11]+643717713&4294967295,O=R+(I<<14&4294967295|I>>>18),I=T+(R^S&(O^R))+P[0]+3921069994&4294967295,T=O+(I<<20&4294967295|I>>>12),I=S+(O^R&(T^O))+P[5]+3593408605&4294967295,S=T+(I<<5&4294967295|I>>>27),I=R+(T^O&(S^T))+P[10]+38016083&4294967295,R=S+(I<<9&4294967295|I>>>23),I=O+(S^T&(R^S))+P[15]+3634488961&4294967295,O=R+(I<<14&4294967295|I>>>18),I=T+(R^S&(O^R))+P[4]+3889429448&4294967295,T=O+(I<<20&4294967295|I>>>12),I=S+(O^R&(T^O))+P[9]+568446438&4294967295,S=T+(I<<5&4294967295|I>>>27),I=R+(T^O&(S^T))+P[14]+3275163606&4294967295,R=S+(I<<9&4294967295|I>>>23),I=O+(S^T&(R^S))+P[3]+4107603335&4294967295,O=R+(I<<14&4294967295|I>>>18),I=T+(R^S&(O^R))+P[8]+1163531501&4294967295,T=O+(I<<20&4294967295|I>>>12),I=S+(O^R&(T^O))+P[13]+2850285829&4294967295,S=T+(I<<5&4294967295|I>>>27),I=R+(T^O&(S^T))+P[2]+4243563512&4294967295,R=S+(I<<9&4294967295|I>>>23),I=O+(S^T&(R^S))+P[7]+1735328473&4294967295,O=R+(I<<14&4294967295|I>>>18),I=T+(R^S&(O^R))+P[12]+2368359562&4294967295,T=O+(I<<20&4294967295|I>>>12),I=S+(T^O^R)+P[5]+4294588738&4294967295,S=T+(I<<4&4294967295|I>>>28),I=R+(S^T^O)+P[8]+2272392833&4294967295,R=S+(I<<11&4294967295|I>>>21),I=O+(R^S^T)+P[11]+1839030562&4294967295,O=R+(I<<16&4294967295|I>>>16),I=T+(O^R^S)+P[14]+4259657740&4294967295,T=O+(I<<23&4294967295|I>>>9),I=S+(T^O^R)+P[1]+2763975236&4294967295,S=T+(I<<4&4294967295|I>>>28),I=R+(S^T^O)+P[4]+1272893353&4294967295,R=S+(I<<11&4294967295|I>>>21),I=O+(R^S^T)+P[7]+4139469664&4294967295,O=R+(I<<16&4294967295|I>>>16),I=T+(O^R^S)+P[10]+3200236656&4294967295,T=O+(I<<23&4294967295|I>>>9),I=S+(T^O^R)+P[13]+681279174&4294967295,S=T+(I<<4&4294967295|I>>>28),I=R+(S^T^O)+P[0]+3936430074&4294967295,R=S+(I<<11&4294967295|I>>>21),I=O+(R^S^T)+P[3]+3572445317&4294967295,O=R+(I<<16&4294967295|I>>>16),I=T+(O^R^S)+P[6]+76029189&4294967295,T=O+(I<<23&4294967295|I>>>9),I=S+(T^O^R)+P[9]+3654602809&4294967295,S=T+(I<<4&4294967295|I>>>28),I=R+(S^T^O)+P[12]+3873151461&4294967295,R=S+(I<<11&4294967295|I>>>21),I=O+(R^S^T)+P[15]+530742520&4294967295,O=R+(I<<16&4294967295|I>>>16),I=T+(O^R^S)+P[2]+3299628645&4294967295,T=O+(I<<23&4294967295|I>>>9),I=S+(O^(T|~R))+P[0]+4096336452&4294967295,S=T+(I<<6&4294967295|I>>>26),I=R+(T^(S|~O))+P[7]+1126891415&4294967295,R=S+(I<<10&4294967295|I>>>22),I=O+(S^(R|~T))+P[14]+2878612391&4294967295,O=R+(I<<15&4294967295|I>>>17),I=T+(R^(O|~S))+P[5]+4237533241&4294967295,T=O+(I<<21&4294967295|I>>>11),I=S+(O^(T|~R))+P[12]+1700485571&4294967295,S=T+(I<<6&4294967295|I>>>26),I=R+(T^(S|~O))+P[3]+2399980690&4294967295,R=S+(I<<10&4294967295|I>>>22),I=O+(S^(R|~T))+P[10]+4293915773&4294967295,O=R+(I<<15&4294967295|I>>>17),I=T+(R^(O|~S))+P[1]+2240044497&4294967295,T=O+(I<<21&4294967295|I>>>11),I=S+(O^(T|~R))+P[8]+1873313359&4294967295,S=T+(I<<6&4294967295|I>>>26),I=R+(T^(S|~O))+P[15]+4264355552&4294967295,R=S+(I<<10&4294967295|I>>>22),I=O+(S^(R|~T))+P[6]+2734768916&4294967295,O=R+(I<<15&4294967295|I>>>17),I=T+(R^(O|~S))+P[13]+1309151649&4294967295,T=O+(I<<21&4294967295|I>>>11),I=S+(O^(T|~R))+P[4]+4149444226&4294967295,S=T+(I<<6&4294967295|I>>>26),I=R+(T^(S|~O))+P[11]+3174756917&4294967295,R=S+(I<<10&4294967295|I>>>22),I=O+(S^(R|~T))+P[2]+718787259&4294967295,O=R+(I<<15&4294967295|I>>>17),I=T+(R^(O|~S))+P[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+R&4294967295}r.prototype.u=function(w,S){S===void 0&&(S=w.length);for(var T=S-this.blockSize,P=this.B,O=this.h,R=0;R<S;){if(O==0)for(;R<=T;)i(this,w,R),R+=this.blockSize;if(typeof w=="string"){for(;R<S;)if(P[O++]=w.charCodeAt(R++),O==this.blockSize){i(this,P),O=0;break}}else for(;R<S;)if(P[O++]=w[R++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;var T=8*this.o;for(S=w.length-8;S<w.length;++S)w[S]=T&255,T/=256;for(this.u(w),w=Array(16),S=T=0;4>S;++S)for(var P=0;32>P;P+=8)w[T++]=this.g[S]>>>P&255;return w};function a(w,S){var T=l;return Object.prototype.hasOwnProperty.call(T,w)?T[w]:T[w]=S(w)}function s(w,S){this.h=S;for(var T=[],P=!0,O=w.length-1;0<=O;O--){var R=w[O]|0;P&&R==S||(T[O]=R,P=!1)}this.g=T}var l={};function c(w){return-128<=w&&128>w?a(w,function(S){return new s([S|0],0>S?-1:0)}):new s([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return x(u(-w));for(var S=[],T=1,P=0;w>=T;P++)S[P]=w/T|0,T*=4294967296;return new s(S,0)}function d(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return x(d(w.substring(1),S));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(S,8)),P=f,O=0;O<w.length;O+=8){var R=Math.min(8,w.length-O),I=parseInt(w.substring(O,O+R),S);8>R?(R=u(Math.pow(S,R)),P=P.j(R).add(u(I))):(P=P.j(T),P=P.add(u(I)))}return P}var f=c(0),h=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(g(this))return-x(this).m();for(var w=0,S=1,T=0;T<this.g.length;T++){var P=this.i(T);w+=(0<=P?P:4294967296+P)*S,S*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(y(this))return"0";if(g(this))return"-"+x(this).toString(w);for(var S=u(Math.pow(w,6)),T=this,P="";;){var O=N(T,S).g;T=b(T,O.j(S));var R=((0<T.g.length?T.g[0]:T.h)>>>0).toString(w);if(T=O,y(T))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function y(w){if(w.h!=0)return!1;for(var S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function g(w){return w.h==-1}t.l=function(w){return w=b(this,w),g(w)?-1:y(w)?0:1};function x(w){for(var S=w.g.length,T=[],P=0;P<S;P++)T[P]=~w.g[P];return new s(T,~w.h).add(h)}t.abs=function(){return g(this)?x(this):this},t.add=function(w){for(var S=Math.max(this.g.length,w.g.length),T=[],P=0,O=0;O<=S;O++){var R=P+(this.i(O)&65535)+(w.i(O)&65535),I=(R>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);P=I>>>16,R&=65535,I&=65535,T[O]=I<<16|R}return new s(T,T[T.length-1]&-2147483648?-1:0)};function b(w,S){return w.add(x(S))}t.j=function(w){if(y(this)||y(w))return f;if(g(this))return g(w)?x(this).j(x(w)):x(x(this).j(w));if(g(w))return x(this.j(x(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var S=this.g.length+w.g.length,T=[],P=0;P<2*S;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<w.g.length;O++){var R=this.i(P)>>>16,I=this.i(P)&65535,$=w.i(O)>>>16,L=w.i(O)&65535;T[2*P+2*O]+=I*L,v(T,2*P+2*O),T[2*P+2*O+1]+=R*L,v(T,2*P+2*O+1),T[2*P+2*O+1]+=I*$,v(T,2*P+2*O+1),T[2*P+2*O+2]+=R*$,v(T,2*P+2*O+2)}for(P=0;P<S;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=S;P<2*S;P++)T[P]=0;return new s(T,0)};function v(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function _(w,S){this.g=w,this.h=S}function N(w,S){if(y(S))throw Error("division by zero");if(y(w))return new _(f,f);if(g(w))return S=N(x(w),S),new _(x(S.g),x(S.h));if(g(S))return S=N(w,x(S)),new _(x(S.g),S.h);if(30<w.g.length){if(g(w)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var T=h,P=S;0>=P.l(w);)T=j(T),P=j(P);var O=A(T,1),R=A(P,1);for(P=A(P,2),T=A(T,2);!y(P);){var I=R.add(P);0>=I.l(w)&&(O=O.add(T),R=I),P=A(P,1),T=A(T,1)}return S=b(w,O.j(S)),new _(O,S)}for(O=f;0<=w.l(S);){for(T=Math.max(1,Math.floor(w.m()/S.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=u(T),I=R.j(S);g(I)||0<I.l(w);)T-=P,R=u(T),I=R.j(S);y(R)&&(R=h),O=O.add(R),w=b(w,I)}return new _(O,w)}t.A=function(w){return N(this,w).h},t.and=function(w){for(var S=Math.max(this.g.length,w.g.length),T=[],P=0;P<S;P++)T[P]=this.i(P)&w.i(P);return new s(T,this.h&w.h)},t.or=function(w){for(var S=Math.max(this.g.length,w.g.length),T=[],P=0;P<S;P++)T[P]=this.i(P)|w.i(P);return new s(T,this.h|w.h)},t.xor=function(w){for(var S=Math.max(this.g.length,w.g.length),T=[],P=0;P<S;P++)T[P]=this.i(P)^w.i(P);return new s(T,this.h^w.h)};function j(w){for(var S=w.g.length+1,T=[],P=0;P<S;P++)T[P]=w.i(P)<<1|w.i(P-1)>>>31;return new s(T,w.h)}function A(w,S){var T=S>>5;S%=32;for(var P=w.g.length-T,O=[],R=0;R<P;R++)O[R]=0<S?w.i(R+T)>>>S|w.i(R+T+1)<<32-S:w.i(R+T);return new s(O,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X6=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Js=s}).apply(typeof aO<"u"?aO:typeof self<"u"?self:typeof window<"u"?window:{});var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y6,cf,Q6,hg,gw,Z6,J6,e$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof bp=="object"&&bp];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var k=r;m=m.split(".");for(var M=0;M<m.length-1;M++){var W=m[M];if(!(W in k))break e;k=k[W]}m=m[m.length-1],M=k[m],E=E(M),E!=M&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}function a(m,E){m instanceof String&&(m+="");var k=0,M=!1,W={next:function(){if(!M&&k<m.length){var Z=k++;return{value:E(Z,m[Z]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(m){return m||function(){return a(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function u(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function d(m,E,k){return m.call.apply(m.bind,arguments)}function f(m,E,k){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),m.apply(E,W)}}return function(){return m.apply(E,arguments)}}function h(m,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function y(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(M,W,Z){for(var pe=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)pe[jt-2]=arguments[jt];return E.prototype[W].apply(M,pe)}}function g(m){const E=m.length;if(0<E){const k=Array(E);for(let M=0;M<E;M++)k[M]=m[M];return k}return[]}function x(m,E){for(let k=1;k<arguments.length;k++){const M=arguments[k];if(c(M)){const W=m.length||0,Z=M.length||0;m.length=W+Z;for(let pe=0;pe<Z;pe++)m[W+pe]=M[pe]}else m.push(M)}}class b{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function v(m){return/^[\s\xa0]*$/.test(m)}function _(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var j=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function A(m,E,k){for(const M in m)E.call(k,m[M],M,m)}function w(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function S(m){const E={};for(const k in m)E[k]=m[k];return E}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,E){let k,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(k in M)m[k]=M[k];for(let Z=0;Z<T.length;Z++)k=T[Z],Object.prototype.hasOwnProperty.call(M,k)&&(m[k]=M[k])}}function O(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function R(m){l.setTimeout(()=>{throw m},0)}function I(){var m=V;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ${constructor(){this.h=this.g=null}add(E,k){const M=L.get();M.set(E,k),this.h?this.h.next=M:this.g=M,this.h=M}}var L=new b(()=>new U,m=>m.reset());class U{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let D,z=!1,V=new $,X=()=>{const m=l.Promise.resolve(void 0);D=()=>{m.then(Y)}};var Y=()=>{for(var m;m=I();){try{m.h.call(m.g)}catch(k){R(k)}var E=L;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}z=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};l.addEventListener("test",k,E),l.removeEventListener("test",k,E)}catch{}return m}();function H(m,E){if(F.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(j){e:{try{N(E.nodeName);var W=!0;break e}catch{}W=!1}W||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ue[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&H.aa.h.call(this)}}y(H,F);var ue={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function G(m,E,k,M,W){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!M,this.ha=W,this.key=++ge,this.da=this.fa=!1}function he(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m){this.src=m,this.g={},this.h=0}ye.prototype.add=function(m,E,k,M,W){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var pe=Oe(m,E,M,W);return-1<pe?(E=m[pe],k||(E.fa=!1)):(E=new G(E,this.src,Z,!!M,W),E.fa=k,m.push(E)),E};function ne(m,E){var k=E.type;if(k in m.g){var M=m.g[k],W=Array.prototype.indexOf.call(M,E,void 0),Z;(Z=0<=W)&&Array.prototype.splice.call(M,W,1),Z&&(he(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Oe(m,E,k,M){for(var W=0;W<m.length;++W){var Z=m[W];if(!Z.da&&Z.listener==E&&Z.capture==!!k&&Z.ha==M)return W}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),Ae={};function le(m,E,k,M,W){if(Array.isArray(E)){for(var Z=0;Z<E.length;Z++)le(m,E[Z],k,M,W);return null}return k=q(k),m&&m[oe]?m.K(E,k,u(M)?!!M.capture:!1,W):fe(m,E,k,!1,M,W)}function fe(m,E,k,M,W,Z){if(!E)throw Error("Invalid event type");var pe=u(W)?!!W.capture:!!W,jt=Yn(m);if(jt||(m[ve]=jt=new ye(m)),k=jt.add(E,k,M,pe,Z),k.proxy)return k;if(M=Ne(),k.proxy=M,M.src=m,M.listener=k,m.addEventListener)te||(W=pe),W===void 0&&(W=!1),m.addEventListener(E.toString(),M,W);else if(m.attachEvent)m.attachEvent(Be(E.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ne(){function m(k){return E.call(m.src,m.listener,k)}const E=Bt;return m}function et(m,E,k,M,W){if(Array.isArray(E))for(var Z=0;Z<E.length;Z++)et(m,E[Z],k,M,W);else M=u(M)?!!M.capture:!!M,k=q(k),m&&m[oe]?(m=m.i,E=String(E).toString(),E in m.g&&(Z=m.g[E],k=Oe(Z,k,M,W),-1<k&&(he(Z[k]),Array.prototype.splice.call(Z,k,1),Z.length==0&&(delete m.g[E],m.h--)))):m&&(m=Yn(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Oe(E,k,M,W)),(k=-1<m?E[m]:null)&&Ye(k))}function Ye(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[oe])ne(E.i,m);else{var k=m.type,M=m.proxy;E.removeEventListener?E.removeEventListener(k,M,m.capture):E.detachEvent?E.detachEvent(Be(k),M):E.addListener&&E.removeListener&&E.removeListener(M),(k=Yn(E))?(ne(k,m),k.h==0&&(k.src=null,E[ve]=null)):he(m)}}}function Be(m){return m in Ae?Ae[m]:Ae[m]="on"+m}function Bt(m,E){if(m.da)m=!0;else{E=new H(E,this);var k=m.listener,M=m.ha||m.src;m.fa&&Ye(m),m=k.call(M,E)}return m}function Yn(m){return m=m[ve],m instanceof ye?m:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function q(m){return typeof m=="function"?m:(m[On]||(m[On]=function(E){return m.handleEvent(E)}),m[On])}function ae(){K.call(this),this.i=new ye(this),this.M=this,this.F=null}y(ae,K),ae.prototype[oe]=!0,ae.prototype.removeEventListener=function(m,E,k,M){et(this,m,E,k,M)};function ee(m,E){var k,M=m.F;if(M)for(k=[];M;M=M.F)k.push(M);if(m=m.M,M=E.type||E,typeof E=="string")E=new F(E,m);else if(E instanceof F)E.target=E.target||m;else{var W=E;E=new F(M,m),P(E,W)}if(W=!0,k)for(var Z=k.length-1;0<=Z;Z--){var pe=E.g=k[Z];W=ke(pe,M,!0,E)&&W}if(pe=E.g=m,W=ke(pe,M,!0,E)&&W,W=ke(pe,M,!1,E)&&W,k)for(Z=0;Z<k.length;Z++)pe=E.g=k[Z],W=ke(pe,M,!1,E)&&W}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],M=0;M<k.length;M++)he(k[M]);delete m.g[E],m.h--}}this.F=null},ae.prototype.K=function(m,E,k,M){return this.i.add(String(m),E,!1,k,M)},ae.prototype.L=function(m,E,k,M){return this.i.add(String(m),E,!0,k,M)};function ke(m,E,k,M){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var W=!0,Z=0;Z<E.length;++Z){var pe=E[Z];if(pe&&!pe.da&&pe.capture==k){var jt=pe.listener,Vn=pe.ha||pe.src;pe.fa&&ne(m.i,pe),W=jt.call(Vn,M)!==!1&&W}}return W&&!M.defaultPrevented}function _e(m,E,k){if(typeof m=="function")k&&(m=h(m,k));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(m,E||0)}function de(m){m.g=_e(()=>{m.g=null,m.i&&(m.i=!1,de(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class je extends K{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(m){K.call(this),this.h=m,this.g={}}y(Ge,K);var _t=[];function ze(m){A(m.g,function(E,k){this.g.hasOwnProperty(k)&&Ye(E)},m),m.g={}}Ge.prototype.N=function(){Ge.aa.N.call(this),ze(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=l.JSON.stringify,Xe=l.JSON.parse,Ut=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function dt(){}dt.prototype.h=null;function ln(m){return m.h||(m.h=m.i())}function br(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){F.call(this,"d")}y(Gi,F);function ja(){F.call(this,"c")}y(ja,F);var ii={},Um=null;function ko(){return Um=Um||new ae}ii.La="serverreachability";function Vm(m){F.call(this,ii.La,m)}y(Vm,F);function Wi(m){const E=ko();ee(E,new Vm(E))}ii.STAT_EVENT="statevent";function zm(m,E){F.call(this,ii.STAT_EVENT,m),this.stat=E}y(zm,F);function Bn(m){const E=ko();ee(E,new zm(E,m))}ii.Ma="timingevent";function Fm(m,E){F.call(this,ii.Ma,m),this.size=E}y(Fm,F);function Io(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},E)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function cr(m,E,k,M,W,Z){m.info(function(){if(m.g)if(Z)for(var pe="",jt=Z.split("&"),Vn=0;Vn<jt.length;Vn++){var lt=jt[Vn].split("=");if(1<lt.length){var Zn=lt[0];lt=lt[1];var Jn=Zn.split("_");pe=2<=Jn.length&&Jn[1]=="type"?pe+(Zn+"="+lt+"&"):pe+(Zn+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+E+`
`+k+`
`+pe})}function Hm(m,E,k,M,W,Z,pe){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+E+`
`+k+`
`+Z+" "+pe})}function Ki(m,E,k,M){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+me(m,k)+(M?" "+M:"")})}function Q(m,E){m.info(function(){return"TIMEOUT: "+E})}ps.prototype.info=function(){};function me(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var M=k[m];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var Z=W[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<W.length;pe++)W[pe]=""}}}}return Ie(k)}catch{return E}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kt;function xn(){}y(xn,dt),xn.prototype.g=function(){return new XMLHttpRequest},xn.prototype.i=function(){return{}},kt=new xn;function it(m,E,k,M){this.j=m,this.i=E,this.l=k,this.R=M||1,this.U=new Ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var rt={},ai={};function cn(m,E,k){m.L=1,m.v=Wm(Aa(E)),m.m=k,m.P=!0,Cn(m,null)}function Cn(m,E){m.F=Date.now(),Xi(m),m.A=Aa(m.v);var k=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),CE(k.i,"t",M),m.C=0,k=m.j.J,m.h=new ot,m.g=KE(m.j,k?E:null,!m.m),0<m.O&&(m.M=new je(h(m.Y,m,m.g),m.O)),E=m.U,k=m.g,M=m.ca;var W="readystatechange";Array.isArray(W)||(W&&(_t[0]=W.toString()),W=_t);for(var Z=0;Z<W.length;Z++){var pe=le(k,W[Z],M||E.handleEvent,!1,E.h||E);if(!pe)break;E.g[pe.key]=pe}E=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Wi(),cr(m.i,m.u,m.A,m.l,m.R,m.m)}it.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ea(m)==3?E.j():this.Y(m)},it.prototype.Y=function(m){try{if(m==this.g)e:{const Jn=Ea(this.g);var E=this.g.Ba();const Zl=this.g.Z();if(!(3>Jn)&&(Jn!=3||this.g&&(this.h.h||this.g.oa()||$E(this.g)))){this.J||Jn!=4||E==7||(E==8||0>=Zl?Wi(3):Wi(2)),Sa(this);var k=this.g.Z();this.X=k;t:if(Un(this)){var M=$E(this.g);m="";var W=M.length,Z=Ea(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),Ti(this);var pe="";break t}this.h.i=new l.TextDecoder}for(E=0;E<W;E++)this.h.h=!0,m+=this.h.i.decode(M[E],{stream:!(Z&&E==W-1)});M.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=k==200,Hm(this.i,this.u,this.A,this.l,this.R,Jn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Vn=this.g;if((jt=Vn.g?Vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(jt)){var lt=jt;break t}}lt=null}if(k=lt)Ki(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jx(this,k);else{this.o=!1,this.s=3,Bn(12),Po(this),Ti(this);break e}}if(this.P){k=!0;let Oi;for(;!this.J&&this.C<pe.length;)if(Oi=Qn(this,pe),Oi==ai){Jn==4&&(this.s=4,Bn(14),k=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Oi==rt){this.s=4,Bn(15),Ki(this.i,this.l,pe,"[Invalid Chunk]"),k=!1;break}else Ki(this.i,this.l,Oi,null),jx(this,Oi);if(Un(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jn!=4||pe.length!=0||this.h.h||(this.s=1,Bn(16),k=!1),this.o=this.o&&k,!k)Ki(this.i,this.l,pe,"[Invalid Chunked Response]"),Po(this),Ti(this);else if(0<pe.length&&!this.W){this.W=!0;var Zn=this.j;Zn.g==this&&Zn.ba&&!Zn.M&&(Zn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ox(Zn),Zn.M=!0,Bn(11))}}else Ki(this.i,this.l,pe,null),jx(this,pe);Jn==4&&Po(this),this.o&&!this.J&&(Jn==4?HE(this.j,this):(this.o=!1,Xi(this)))}else cU(this.g),k==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Bn(12)):(this.s=0,Bn(13)),Po(this),Ti(this)}}}catch{}finally{}};function Un(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Qn(m,E){var k=m.C,M=E.indexOf(`
`,k);return M==-1?ai:(k=Number(E.substring(k,M)),isNaN(k)?rt:(M+=1,M+k>E.length?ai:(E=E.slice(M,M+k),m.C=M+k,E)))}it.prototype.cancel=function(){this.J=!0,Po(this)};function Xi(m){m.S=Date.now()+m.I,gs(m,m.I)}function gs(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Io(h(m.ba,m),E)}function Sa(m){m.B&&(l.clearTimeout(m.B),m.B=null)}it.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Q(this.i,this.A),this.L!=2&&(Wi(),Bn(17)),Po(this),this.s=2,Ti(this)):gs(this,this.S-m)};function Ti(m){m.j.G==0||m.J||HE(m.j,m)}function Po(m){Sa(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,ze(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function jx(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||Sx(k.h,m))){if(!m.K&&Sx(k.h,m)&&k.G==3){try{var M=k.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)Jm(k),Qm(k);else break e;Tx(k),Bn(18)}}else k.za=W[1],0<k.za-k.T&&37500>W[2]&&k.F&&k.v==0&&!k.C&&(k.C=Io(h(k.Za,k),6e3));if(1>=wE(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Mo(k,11)}else if((m.K||k.g==m)&&Jm(k),!v(E))for(W=k.Da.g.parse(E),E=0;E<W.length;E++){let lt=W[E];if(k.T=lt[0],lt=lt[1],k.G==2)if(lt[0]=="c"){k.K=lt[1],k.ia=lt[2];const Zn=lt[3];Zn!=null&&(k.la=Zn,k.j.info("VER="+k.la));const Jn=lt[4];Jn!=null&&(k.Aa=Jn,k.j.info("SVER="+k.Aa));const Zl=lt[5];Zl!=null&&typeof Zl=="number"&&0<Zl&&(M=1.5*Zl,k.L=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const Oi=m.g;if(Oi){const tp=Oi.g?Oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tp){var Z=M.h;Z.g||tp.indexOf("spdy")==-1&&tp.indexOf("quic")==-1&&tp.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ax(Z,Z.h),Z.h=null))}if(M.D){const Cx=Oi.g?Oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Cx&&(M.ya=Cx,It(M.I,M.D,Cx))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),M=k;var pe=m;if(M.qa=WE(M,M.J?M.ia:null,M.W),pe.K){_E(M.h,pe);var jt=pe,Vn=M.L;Vn&&(jt.I=Vn),jt.B&&(Sa(jt),Xi(jt)),M.g=pe}else zE(M);0<k.i.length&&Zm(k)}else lt[0]!="stop"&&lt[0]!="close"||Mo(k,7);else k.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Mo(k,7):Nx(k):lt[0]!="noop"&&k.l&&k.l.ta(lt),k.v=0)}}Wi(4)}catch{}}var W9=class{constructor(m,E){this.g=m,this.map=E}};function xE(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bE(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function wE(m){return m.h?1:m.g?m.g.size:0}function Sx(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Ax(m,E){m.g?m.g.add(E):m.h=E}function _E(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}xE.prototype.cancel=function(){if(this.i=jE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function jE(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return g(m.i)}function K9(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var E=[],k=m.length,M=0;M<k;M++)E.push(m[M]);return E}E=[],k=0;for(M in m)E[k++]=m[M];return E}function X9(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const M in m)E[k++]=M;return E}}}function SE(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=X9(m),M=K9(m),W=M.length,Z=0;Z<W;Z++)E.call(void 0,M[Z],k&&k[Z],m)}var AE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y9(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var M=m[k].indexOf("="),W=null;if(0<=M){var Z=m[k].substring(0,M);W=m[k].substring(M+1)}else Z=m[k];E(Z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ro(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ro){this.h=m.h,qm(this,m.j),this.o=m.o,this.g=m.g,Gm(this,m.s),this.l=m.l;var E=m.i,k=new Td;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),EE(this,k),this.m=m.m}else m&&(E=String(m).match(AE))?(this.h=!1,qm(this,E[1]||"",!0),this.o=Ed(E[2]||""),this.g=Ed(E[3]||"",!0),Gm(this,E[4]),this.l=Ed(E[5]||"",!0),EE(this,E[6]||"",!0),this.m=Ed(E[7]||"")):(this.h=!1,this.i=new Td(null,this.h))}Ro.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Nd(E,NE,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Nd(E,NE,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(Nd(k,k.charAt(0)=="/"?J9:Z9,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",Nd(k,tU)),m.join("")};function Aa(m){return new Ro(m)}function qm(m,E,k){m.j=k?Ed(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Gm(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function EE(m,E,k){E instanceof Td?(m.i=E,nU(m.i,m.h)):(k||(E=Nd(E,eU)),m.i=new Td(E,m.h))}function It(m,E,k){m.i.set(E,k)}function Wm(m){return It(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ed(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Nd(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,Q9),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Q9(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var NE=/[#\/\?@]/g,Z9=/[#\?:]/g,J9=/[#\?]/g,eU=/[#\?@]/g,tU=/#/g;function Td(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function ys(m){m.g||(m.g=new Map,m.h=0,m.i&&Y9(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=Td.prototype,t.add=function(m,E){ys(this),this.i=null,m=Yl(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function TE(m,E){ys(m),E=Yl(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function OE(m,E){return ys(m),E=Yl(m,E),m.g.has(E)}t.forEach=function(m,E){ys(this),this.g.forEach(function(k,M){k.forEach(function(W){m.call(E,W,M,this)},this)},this)},t.na=function(){ys(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let M=0;M<E.length;M++){const W=m[M];for(let Z=0;Z<W.length;Z++)k.push(E[M])}return k},t.V=function(m){ys(this);let E=[];if(typeof m=="string")OE(this,m)&&(E=E.concat(this.g.get(Yl(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},t.set=function(m,E){return ys(this),this.i=null,m=Yl(this,m),OE(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function CE(m,E,k){TE(m,E),0<k.length&&(m.i=null,m.g.set(Yl(m,E),g(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var M=E[k];const Z=encodeURIComponent(String(M)),pe=this.V(M);for(M=0;M<pe.length;M++){var W=Z;pe[M]!==""&&(W+="="+encodeURIComponent(String(pe[M]))),m.push(W)}}return this.i=m.join("&")};function Yl(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function nU(m,E){E&&!m.j&&(ys(m),m.i=null,m.g.forEach(function(k,M){var W=M.toLowerCase();M!=W&&(TE(this,M),CE(this,W,k))},m)),m.j=E}function rU(m,E){const k=new ps;if(l.Image){const M=new Image;M.onload=p(vs,k,"TestLoadImage: loaded",!0,E,M),M.onerror=p(vs,k,"TestLoadImage: error",!1,E,M),M.onabort=p(vs,k,"TestLoadImage: abort",!1,E,M),M.ontimeout=p(vs,k,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else E(!1)}function iU(m,E){const k=new ps,M=new AbortController,W=setTimeout(()=>{M.abort(),vs(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:M.signal}).then(Z=>{clearTimeout(W),Z.ok?vs(k,"TestPingServer: ok",!0,E):vs(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),vs(k,"TestPingServer: error",!1,E)})}function vs(m,E,k,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(k)}catch{}}function aU(){this.g=new Ut}function sU(m,E,k){const M=k||"";try{SE(m,function(W,Z){let pe=W;u(W)&&(pe=Ie(W)),E.push(M+Z+"="+encodeURIComponent(pe))})}catch(W){throw E.push(M+"type="+encodeURIComponent("_badmap")),W}}function Km(m){this.l=m.Ub||null,this.j=m.eb||!1}y(Km,dt),Km.prototype.g=function(){return new Xm(this.l,this.j)},Km.prototype.i=function(m){return function(){return m}}({});function Xm(m,E){ae.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Xm,ae),t=Xm.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Cd(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Od(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Cd(this)),this.g&&(this.readyState=3,Cd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Od(this):Cd(this),this.readyState==3&&kE(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Od(this))},t.Qa=function(m){this.g&&(this.response=m,Od(this))},t.ga=function(){this.g&&Od(this)};function Od(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Cd(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function Cd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function IE(m){let E="";return A(m,function(k,M){E+=M,E+=":",E+=k,E+=`\r
`}),E}function Ex(m,E,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=IE(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):It(m,E,k))}function Qt(m){ae.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Qt,ae);var oU=/^https?$/i,lU=["POST","PUT"];t=Qt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kt.g(),this.v=this.o?ln(this.o):ln(kt),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Z){PE(this,Z);return}if(m=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)k.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Z of M.keys())k.set(Z,M.get(Z));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lU,E,void 0))||M||W||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of k)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DE(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){PE(this,Z)}};function PE(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,RE(m),Ym(m)}function RE(m){m.A||(m.A=!0,ee(m,"complete"),ee(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ee(this,"complete"),ee(this,"abort"),Ym(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ym(this,!0)),Qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ME(this):this.bb())},t.bb=function(){ME(this)};function ME(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ea(m)!=4||m.Z()!=2)){if(m.u&&Ea(m)==4)_e(m.Ea,0,m);else if(ee(m,"readystatechange"),Ea(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var M;if(M=pe===0){var W=String(m.D).match(AE)[1]||null;!W&&l.self&&l.self.location&&(W=l.self.location.protocol.slice(0,-1)),M=!oU.test(W?W.toLowerCase():"")}k=M}if(k)ee(m,"complete"),ee(m,"success");else{m.m=6;try{var Z=2<Ea(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",RE(m)}}finally{Ym(m)}}}}function Ym(m,E){if(m.g){DE(m);const k=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||ee(m,"ready");try{k.onreadystatechange=M}catch{}}}function DE(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ea(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Xe(E)}};function $E(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function cU(m){const E={};m=(m.g&&2<=Ea(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(v(m[M]))continue;var k=O(m[M]);const W=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Z=E[W]||[];E[W]=Z,Z.push(k)}w(E,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kd(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function LE(m){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kd("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kd("baseRetryDelayMs",5e3,m),this.cb=kd("retryDelaySeedMs",1e4,m),this.Wa=kd("forwardChannelMaxRetries",2,m),this.wa=kd("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new xE(m&&m.concurrentRequestLimit),this.Da=new aU,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LE.prototype,t.la=8,t.G=1,t.connect=function(m,E,k,M){Bn(0),this.W=m,this.H=E||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.I=WE(this,null,this.W),Zm(this)};function Nx(m){if(BE(m),m.G==3){var E=m.U++,k=Aa(m.I);if(It(k,"SID",m.K),It(k,"RID",E),It(k,"TYPE","terminate"),Id(m,k),E=new it(m,m.j,E),E.L=2,E.v=Wm(Aa(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=E.v,k=!0),k||(E.g=KE(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Xi(E)}GE(m)}function Qm(m){m.g&&(Ox(m),m.g.cancel(),m.g=null)}function BE(m){Qm(m),m.u&&(l.clearTimeout(m.u),m.u=null),Jm(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Zm(m){if(!bE(m.h)&&!m.s){m.s=!0;var E=m.Ga;D||X(),z||(D(),z=!0),V.add(E,m),m.B=0}}function uU(m,E){return wE(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Io(h(m.Ga,m,E),qE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const W=new it(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=S(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(W.H=Z,Z=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=VE(this,W,E),k=Aa(this.I),It(k,"RID",m),It(k,"CVER",22),this.D&&It(k,"X-HTTP-Session-Id",this.D),Id(this,k),Z&&(this.O?E="headers="+encodeURIComponent(String(IE(Z)))+"&"+E:this.m&&Ex(k,this.m,Z)),Ax(this.h,W),this.Ua&&It(k,"TYPE","init"),this.P?(It(k,"$req",E),It(k,"SID","null"),W.T=!0,cn(W,k,null)):cn(W,k,E),this.G=2}}else this.G==3&&(m?UE(this,m):this.i.length==0||bE(this.h)||UE(this))};function UE(m,E){var k;E?k=E.l:k=m.U++;const M=Aa(m.I);It(M,"SID",m.K),It(M,"RID",k),It(M,"AID",m.T),Id(m,M),m.m&&m.o&&Ex(M,m.m,m.o),k=new it(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=VE(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ax(m.h,k),cn(k,M,E)}function Id(m,E){m.H&&A(m.H,function(k,M){It(E,M,k)}),m.l&&SE({},function(k,M){It(E,M,k)})}function VE(m,E,k){k=Math.min(m.i.length,k);var M=m.l?h(m.l.Na,m.l,m):null;e:{var W=m.i;let Z=-1;for(;;){const pe=["count="+k];Z==-1?0<k?(Z=W[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let jt=!0;for(let Vn=0;Vn<k;Vn++){let lt=W[Vn].g;const Zn=W[Vn].map;if(lt-=Z,0>lt)Z=Math.max(0,W[Vn].g-100),jt=!1;else try{sU(Zn,pe,"req"+lt+"_")}catch{M&&M(Zn)}}if(jt){M=pe.join("&");break e}}}return m=m.i.splice(0,k),E.D=m,M}function zE(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;D||X(),z||(D(),z=!0),V.add(E,m),m.v=0}}function Tx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Io(h(m.Fa,m),qE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,FE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Io(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bn(10),Qm(this),FE(this))};function Ox(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function FE(m){m.g=new it(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=Aa(m.qa);It(E,"RID","rpc"),It(E,"SID",m.K),It(E,"AID",m.T),It(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&It(E,"TO",m.ja),It(E,"TYPE","xmlhttp"),Id(m,E),m.m&&m.o&&Ex(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=Wm(Aa(E)),k.m=null,k.P=!0,Cn(k,m)}t.Za=function(){this.C!=null&&(this.C=null,Qm(this),Tx(this),Bn(19))};function Jm(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function HE(m,E){var k=null;if(m.g==E){Jm(m),Ox(m),m.g=null;var M=2}else if(Sx(m.h,E))k=E.D,_E(m.h,E),M=1;else return;if(m.G!=0){if(E.o)if(M==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var W=m.B;M=ko(),ee(M,new Fm(M,k)),Zm(m)}else zE(m);else if(W=E.s,W==3||W==0&&0<E.X||!(M==1&&uU(m,E)||M==2&&Tx(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),W){case 1:Mo(m,5);break;case 4:Mo(m,10);break;case 3:Mo(m,6);break;default:Mo(m,2)}}}function qE(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function Mo(m,E){if(m.j.info("Error code "+E),E==2){var k=h(m.fb,m),M=m.Xa;const W=!M;M=new Ro(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qm(M,"https"),Wm(M),W?rU(M.toString(),k):iU(M.toString(),k)}else Bn(2);m.G=0,m.l&&m.l.sa(E),GE(m),BE(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))};function GE(m){if(m.G=0,m.ka=[],m.l){const E=jE(m.h);(E.length!=0||m.i.length!=0)&&(x(m.ka,E),x(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function WE(m,E,k){var M=k instanceof Ro?Aa(k):new Ro(k);if(M.g!="")E&&(M.g=E+"."+M.g),Gm(M,M.s);else{var W=l.location;M=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;var Z=new Ro(null);M&&qm(Z,M),E&&(Z.g=E),W&&Gm(Z,W),k&&(Z.l=k),M=Z}return k=m.D,E=m.ya,k&&E&&It(M,k,E),It(M,"VER",m.la),Id(m,M),M}function KE(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new Qt(new Km({eb:k})):new Qt(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XE(){}t=XE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ep(){}ep.prototype.g=function(m,E){return new Mr(m,E)};function Mr(m,E){ae.call(this),this.g=new LE(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!v(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!v(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Ql(this)}y(Mr,ae),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){Nx(this.g)},Mr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Ie(m),m=k);E.i.push(new W9(E.Ya++,m)),E.G==3&&Zm(E)},Mr.prototype.N=function(){this.g.l=null,delete this.j,Nx(this.g),delete this.g,Mr.aa.N.call(this)};function YE(m){Gi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}y(YE,Gi);function QE(){ja.call(this),this.status=1}y(QE,ja);function Ql(m){this.g=m}y(Ql,XE),Ql.prototype.ua=function(){ee(this.g,"a")},Ql.prototype.ta=function(m){ee(this.g,new YE(m))},Ql.prototype.sa=function(m){ee(this.g,new QE)},Ql.prototype.ra=function(){ee(this.g,"b")},ep.prototype.createWebChannel=ep.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,e$=function(){return new ep},J6=function(){return ko()},Z6=ii,gw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,hg=Se,Vt.COMPLETE="complete",Q6=Vt,br.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",ae.prototype.listen=ae.prototype.K,cf=br,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,Y6=Qt}).apply(typeof bp<"u"?bp:typeof self<"u"?self:typeof window<"u"?window:{});const sO="@firebase/firestore",oO="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new F0("@firebase/firestore");function fc(){return bl.logLevel}function xe(t,...e){if(bl.logLevel<=tt.DEBUG){const n=e.map($j);bl.debug(`Firestore (${nd}): ${t}`,...n)}}function is(t,...e){if(bl.logLevel<=tt.ERROR){const n=e.map($j);bl.error(`Firestore (${nd}): ${t}`,...n)}}function lu(t,...e){if(bl.logLevel<=tt.WARN){const n=e.map($j);bl.warn(`Firestore (${nd}): ${t}`,...n)}}function $j(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,t$(t,r,n)}function t$(t,e,n){let r=`FIRESTORE (${nd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function mt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||t$(e,i,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nr.UNAUTHENTICATED))}shutdown(){}}class AW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EW{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Wa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wa,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wa)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new n$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new nr(e)}}class NW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function yw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return We(r,i);{const a=r$(),s=kW(a.encode(cO(t,n)),a.encode(cO(e,n)));return s!==0?s:We(r,i)}}n+=r>65535?2:1}return We(t.length,e.length)}function cO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function cu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=-62135596800,dO=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dO);return new An(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uO)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dO}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new An(0,0))}static max(){return new Ue(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="__name__";class Zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Zi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return We(e.length,n.length)}static compareSegments(e,n){const r=Zi.isNumericId(e),i=Zi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):yw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Mt extends Zi{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const IW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Zi{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return IW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fO}static keyField(){return new Gn([fO])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new be(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Mt.fromString(e))}static fromName(e){return new Te(Mt.fromString(e).popFirst(5))}static empty(){return new Te(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=-1;function PW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new oo(i,Te.empty(),e)}function RW(t){return new oo(t.readTime,t.key,lh)}class oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oo(Ue.min(),Te.empty(),lh)}static max(){return new oo(Ue.max(),Te.empty(),lh)}}function MW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $W{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==DW)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,a=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++a,s&&a===i&&n()},c=>r(c))}),s=!0,a===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{s[u]=d,++l,l===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ie((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function LW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function id(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}K0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=-1;function X0(t){return t==null}function sy(t){return t===0&&1/t==-1/0}function BW(t){return typeof t=="number"&&Number.isInteger(t)&&!sy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$="";function UW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hO(e)),e=VW(t.get(n),e);return hO(e)}function VW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case a$:n+="";break;default:n+=a}}return n}function hO(t){return t+a$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wp(this.root,e,this.comparator,!0)}}class wp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pO(this.data.getIterator())}getIteratorFrom(e){return new pO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class pO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Wr([])}unionWith(e){let n=new En(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new o$("Invalid base64 string: "+a):a}}(e);return new Xn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const zW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=zW.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="server_timestamp",c$="__type__",u$="__previous_value__",d$="__local_write_time__";function Bj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[c$])===null||n===void 0?void 0:n.stringValue)===l$}function Y0(t){const e=t.mapValue.fields[u$];return Bj(e)?Y0(e):e}function ch(t){const e=lo(t.mapValue.fields[d$].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n,r,i,a,s,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const oy="(default)";class uh{constructor(e,n){this.projectId=e,this.database=n||oy}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database===oy}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="__type__",HW="__max__",_p={mapValue:{}},h$="__vector__",ly="value";function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bj(t)?4:GW(t)?9007199254740991:qW(t)?10:11:Me(28295,{value:t})}function ga(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=lo(i.timestampValue),l=lo(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return co(i.bytesValue).isEqual(co(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return sn(i.geoPointValue.latitude)===sn(a.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return sn(i.integerValue)===sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=sn(i.doubleValue),l=sn(a.doubleValue);return s===l?sy(s)===sy(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(mO(s)!==mO(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!ga(s[c],l[c])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function dh(t,e){return(t.values||[]).find(n=>ga(n,e))!==void 0}function uu(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=sn(a.integerValue||a.doubleValue),c=sn(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return gO(t.timestampValue,e.timestampValue);case 4:return gO(ch(t),ch(e));case 5:return yw(t.stringValue,e.stringValue);case 6:return function(a,s){const l=co(a),c=co(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),c=s.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=We(l[u],c[u]);if(d!==0)return d}return We(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=We(sn(a.latitude),sn(s.latitude));return l!==0?l:We(sn(a.longitude),sn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yO(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,c,u,d;const f=a.fields||{},h=s.fields||{},p=(l=f[ly])===null||l===void 0?void 0:l.arrayValue,y=(c=h[ly])===null||c===void 0?void 0:c.arrayValue,g=We(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:yO(p,y)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===_p.mapValue&&s===_p.mapValue)return 0;if(a===_p.mapValue)return 1;if(s===_p.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=yw(c[f],d[f]);if(h!==0)return h;const p=uu(l[c[f]],u[d[f]]);if(p!==0)return p}return We(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{Pe:n})}}function gO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=lo(t),r=lo(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function yO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=uu(n[i],r[i]);if(a)return a}return We(n.length,r.length)}function du(t){return vw(t)}function vw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=vw(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${vw(n.fields[s])}`;return i+"}"}(t.mapValue):Me(61005,{value:t})}function mg(t){switch(uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Y0(t);return e?16+mg(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+mg(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return bo(r.fields,(a,s)=>{i+=a.length+mg(s)}),i}(t.mapValue);default:throw Me(13486,{value:t})}}function vO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xw(t){return!!t&&"integerValue"in t}function Uj(t){return!!t&&"arrayValue"in t}function xO(t){return!!t&&"nullValue"in t}function bO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pg(t){return!!t&&"mapValue"in t}function qW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[f$])===null||n===void 0?void 0:n.stringValue)===h$}function If(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=If(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=If(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(n)}setAll(e){let n=Gn.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=If(s):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Er(If(this.value))}}function m$(t){const e=[];return bo(t.fields,(n,r)=>{const i=new Gn([n]);if(pg(r)){const a=m$(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new rr(e,0,Ue.min(),Ue.min(),Ue.min(),Er.empty(),0)}static newFoundDocument(e,n,r,i){return new rr(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new rr(e,2,n,Ue.min(),Ue.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,Ue.min(),Ue.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.position=e,this.inclusive=n}}function wO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(s.referenceValue),n.key):r=uu(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function _O(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ga(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function WW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${}class hn extends p${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XW(e,n,r):n==="array-contains"?new ZW(e,r):n==="in"?new JW(e,r):n==="not-in"?new eK(e,r):n==="array-contains-any"?new tK(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YW(e,r):new QW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uu(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends p${constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vi(e,n)}matches(e){return g$(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function g$(t){return t.op==="and"}function y$(t){return KW(t)&&g$(t)}function KW(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function bw(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+du(t.value);if(y$(t))return t.filters.map(e=>bw(e)).join(",");{const e=t.filters.map(n=>bw(n)).join(",");return`${t.op}(${e})`}}function v$(t,e){return t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&ga(r.value,i.value)}(t,e):t instanceof Vi?function(r,i){return i instanceof Vi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,l)=>a&&v$(s,i.filters[l]),!0):!1}(t,e):void Me(19439)}function x$(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`}(t):t instanceof Vi?function(n){return n.op.toString()+" {"+n.getFilters().map(x$).join(" ,")+"}"}(t):"Filter"}class XW extends hn{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class YW extends hn{constructor(e,n){super(e,"in",n),this.keys=b$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QW extends hn{constructor(e,n){super(e,"not-in",n),this.keys=b$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class ZW extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uj(n)&&dh(n.arrayValue,this.value)}}class JW extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class eK extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dh(this.value.arrayValue,n)}}class tK extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uj(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Ie=null}}function jO(t,e=null,n=[],r=[],i=null,a=null,s=null){return new nK(t,e,n,r,i,a,s)}function Vj(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),X0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>du(r)).join(",")),e.Ie=n}return e.Ie}function zj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!v$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_O(t.startAt,e.startAt)&&_O(t.endAt,e.endAt)}function ww(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rK(t,e,n,r,i,a,s,l){return new ad(t,e,n,r,i,a,s,l)}function Q0(t){return new ad(t)}function SO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w$(t){return t.collectionGroup!==null}function Pf(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new En(Gn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new fh(a,r))}),n.has(Gn.keyField().canonicalString())||e.Ee.push(new fh(Gn.keyField(),r))}return e.Ee}function ca(t){const e=Fe(t);return e.de||(e.de=iK(e,Pf(t))),e.de}function iK(t,e){if(t.limitType==="F")return jO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new fh(i.field,a)});const n=t.endAt?new cy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cy(t.startAt.position,t.startAt.inclusive):null;return jO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _w(t,e){const n=t.filters.concat([e]);return new ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jw(t,e,n){return new ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Z0(t,e){return zj(ca(t),ca(e))&&t.limitType===e.limitType}function _$(t){return`${Vj(ca(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>x$(i)).join(", ")}]`),X0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>du(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>du(i)).join(",")),`Target(${r})`}(ca(t))}; limitType=${t.limitType})`}function J0(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Pf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,c){const u=wO(s,l,c);return s.inclusive?u<=0:u<0}(r.startAt,Pf(r),i)||r.endAt&&!function(s,l,c){const u=wO(s,l,c);return s.inclusive?u>=0:u>0}(r.endAt,Pf(r),i))}(t,e)}function aK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j$(t){return(e,n)=>{let r=!1;for(const i of Pf(t)){const a=sK(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function sK(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,s,l){const c=s.data.field(a),u=l.data.field(a);return c!==null&&u!==null?uu(c,u):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return s$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=new Yt(Te.comparator);function as(){return oK}const S$=new Yt(Te.comparator);function uf(...t){let e=S$;for(const n of t)e=e.insert(n.key,n);return e}function A$(t){let e=S$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xo(){return Rf()}function E$(){return Rf()}function Rf(){return new Bl(t=>t.toString(),(t,e)=>t.isEqual(e))}const lK=new Yt(Te.comparator),cK=new En(Te.comparator);function nt(...t){let e=cK;for(const n of t)e=e.add(n);return e}const uK=new En(We);function dK(){return uK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sy(e)?"-0":e}}function N$(t){return{integerValue:""+t}}function fK(t,e){return BW(e)?N$(e):Fj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this._=void 0}}function hK(t,e,n){return t instanceof hh?function(i,a){const s={fields:{[c$]:{stringValue:l$},[d$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Bj(a)&&(a=Y0(a)),a&&(s.fields[u$]=a),{mapValue:s}}(n,e):t instanceof mh?O$(t,e):t instanceof ph?C$(t,e):function(i,a){const s=T$(i,a),l=AO(s)+AO(i.Re);return xw(s)&&xw(i.Re)?N$(l):Fj(i.serializer,l)}(t,e)}function mK(t,e,n){return t instanceof mh?O$(t,e):t instanceof ph?C$(t,e):n}function T$(t,e){return t instanceof uy?function(r){return xw(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class hh extends ev{}class mh extends ev{constructor(e){super(),this.elements=e}}function O$(t,e){const n=k$(e);for(const r of t.elements)n.some(i=>ga(i,r))||n.push(r);return{arrayValue:{values:n}}}class ph extends ev{constructor(e){super(),this.elements=e}}function C$(t,e){let n=k$(e);for(const r of t.elements)n=n.filter(i=>!ga(i,r));return{arrayValue:{values:n}}}class uy extends ev{constructor(e,n){super(),this.serializer=e,this.Re=n}}function AO(t){return sn(t.integerValue||t.doubleValue)}function k$(t){return Uj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n){this.field=e,this.transform=n}}function gK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mh&&i instanceof mh||r instanceof ph&&i instanceof ph?cu(r.elements,i.elements,ga):r instanceof uy&&i instanceof uy?ga(r.Re,i.Re):r instanceof hh&&i instanceof hh}(t.transform,e.transform)}class yK{constructor(e,n){this.version=e,this.transformResults=n}}class xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tv{}function I$(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hj(t.key,xi.none()):new bm(t.key,t.data,xi.none());{const n=t.data,r=Er.empty();let i=new En(Gn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new wo(t.key,r,new Wr(i.toArray()),xi.none())}}function vK(t,e,n){t instanceof bm?function(i,a,s){const l=i.value.clone(),c=NO(i.fieldTransforms,a,s.transformResults);l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,a,s){if(!gg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=NO(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(P$(i)),c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mf(t,e,n,r){return t instanceof bm?function(a,s,l,c){if(!gg(a.precondition,s))return l;const u=a.value.clone(),d=TO(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(a,s,l,c){if(!gg(a.precondition,s))return l;const u=TO(a.fieldTransforms,c,s),d=s.data;return d.setAll(P$(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,l){return gg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function xK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=T$(r.transform,i||null);a!=null&&(n===null&&(n=Er.empty()),n.set(r.field,a))}return n||null}function EO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cu(r,i,(a,s)=>gK(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bm extends tv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends tv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function P$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NO(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,mK(s,l,n[i]))}return r}function TO(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,hK(a,s,e))}return r}class Hj extends tv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bK extends tv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E$();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const c=I$(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(n,r)=>EO(n,r))&&cu(this.baseMutations,e.baseMutations,(n,r)=>EO(n,r))}}class qj{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return lK}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new qj(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,at;function SK(t){switch(t){case re.OK:return Me(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function R$(t){if(t===void 0)return is("GRPC error has no .code"),re.UNKNOWN;switch(t){case un.OK:return re.OK;case un.CANCELLED:return re.CANCELLED;case un.UNKNOWN:return re.UNKNOWN;case un.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case un.INTERNAL:return re.INTERNAL;case un.UNAVAILABLE:return re.UNAVAILABLE;case un.UNAUTHENTICATED:return re.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case un.NOT_FOUND:return re.NOT_FOUND;case un.ALREADY_EXISTS:return re.ALREADY_EXISTS;case un.PERMISSION_DENIED:return re.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case un.ABORTED:return re.ABORTED;case un.OUT_OF_RANGE:return re.OUT_OF_RANGE;case un.UNIMPLEMENTED:return re.UNIMPLEMENTED;case un.DATA_LOSS:return re.DATA_LOSS;default:return Me(39323,{code:t})}}(at=un||(un={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=new Js([4294967295,4294967295],0);function OO(t){const e=r$().encode(t),n=new X6;return n.update(e),new Uint8Array(n.digest())}function CO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Js([n,r],0),new Js([i,a],0)]}class Gj{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new df(`Invalid padding: ${n}`);if(r<0)throw new df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new df(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new df(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Js.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Js.fromNumber(r)));return i.compare(AK)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=OO(e),[r,i]=CO(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Gj(a,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const n=OO(e),[r,i]=CO(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nv(Ue.min(),i,new Yt(We),as(),nt())}}class wm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wm(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class M${constructor(e,n){this.targetId=e,this.Ce=n}}class D${constructor(e,n,r=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kO{constructor(){this.Fe=0,this.Me=IO(),this.xe=Xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),r=nt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:a})}}),new wm(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=IO()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EK{constructor(e){this.ze=e,this.je=new Map,this.He=as(),this.Je=jp(),this.Ye=jp(),this.Ze=new Yt(We)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(ww(a))if(r===0){const s=new Te(a.path);this.tt(n,s,rr.newNoDocument(s,Ue.min()))}else mt(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=co(r).toUint8Array()}catch(c){if(c instanceof o$)return lu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Gj(s,i,a)}catch(c){return lu(c instanceof df?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,s)=>{const l=this._t(s);if(l){if(a.current&&ww(l.target)){const c=new Te(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,rr.newNoDocument(c,e))}a.Le&&(n.set(s,a.qe()),a.Qe())}});let r=nt();this.Ye.forEach((a,s)=>{let l=!0;s.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new nv(e,n,this.Ze,this.He,r);return this.He=as(),this.Je=jp(),this.Ye=jp(),this.Ze=new Yt(We),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new kO,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new En(We),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new En(We),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new kO),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function jp(){return new Yt(Te.comparator)}function IO(){return new Yt(Te.comparator)}const NK={asc:"ASCENDING",desc:"DESCENDING"},TK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OK={and:"AND",or:"OR"};class CK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sw(t,e){return t.useProto3Json||X0(e)?e:{value:e}}function dy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kK(t,e){return dy(t,e.toTimestamp())}function ua(t){return mt(!!t,49232),Ue.fromTimestamp(function(n){const r=lo(n);return new An(r.seconds,r.nanos)}(t))}function Wj(t,e){return Aw(t,e).canonicalString()}function Aw(t,e){const n=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function L$(t){const e=Mt.fromString(t);return mt(F$(e),10190,{key:e.toString()}),e}function Ew(t,e){return Wj(t.databaseId,e.path)}function wb(t,e){const n=L$(e);if(n.get(1)!==t.databaseId.projectId)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(U$(n))}function B$(t,e){return Wj(t.databaseId,e)}function IK(t){const e=L$(t);return e.length===4?Mt.emptyPath():U$(e)}function Nw(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function U$(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PO(t,e,n){return{name:Ew(t,e),fields:n.value.mapValue.fields}}function PK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Me(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(mt(d===void 0||typeof d=="string",58123),Xn.fromBase64String(d||"")):(mt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){const d=u.code===void 0?re.UNKNOWN:R$(u.code);return new be(d,u.message||"")}(s);n=new D$(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wb(t,r.document.name),a=ua(r.document.updateTime),s=r.document.createTime?ua(r.document.createTime):Ue.min(),l=new Er({mapValue:{fields:r.document.fields}}),c=rr.newFoundDocument(i,a,s,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new yg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wb(t,r.document),a=r.readTime?ua(r.readTime):Ue.min(),s=rr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new yg([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wb(t,r.document),a=r.removedTargetIds||[];n=new yg([],a,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new jK(i,a),l=r.targetId;n=new M$(l,s)}}return n}function RK(t,e){let n;if(e instanceof bm)n={update:PO(t,e.key,e.value)};else if(e instanceof Hj)n={delete:Ew(t,e.key)};else if(e instanceof wo)n={update:PO(t,e.key,e.data),updateMask:FK(e.fieldMask)};else{if(!(e instanceof bK))return Me(16599,{ft:e.type});n={verify:Ew(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const l=s.transform;if(l instanceof hh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ph)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof uy)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw Me(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:kK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)}(t,e.precondition)),n}function MK(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?ua(i.updateTime):ua(a);return s.isEqual(Ue.min())&&(s=ua(a)),new yK(s,i.transformResults||[])}(n,e))):[]}function DK(t,e){return{documents:[B$(t,e.path)]}}function $K(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B$(t,i);const a=function(u){if(u.length!==0)return z$(Vi.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:mc(h.field),direction:UK(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Sw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function LK(t){let e=IK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(f){const h=V$(f);return h instanceof Vi&&y$(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new fh(pc(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,X0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new cy(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new cy(p,h)}(n.endAt)),rK(e,i,s,a,l,"F",c,u)}function BK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pc(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pc(n.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pc(n.unaryFilter.field);return hn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pc(n.unaryFilter.field);return hn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return hn.create(pc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vi.create(n.compositeFilter.filters.map(r=>V$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function UK(t){return NK[t]}function VK(t){return TK[t]}function zK(t){return OK[t]}function mc(t){return{fieldPath:t.canonicalString()}}function pc(t){return Gn.fromServerFormat(t.fieldPath)}function z$(t){return t instanceof hn?function(n){if(n.op==="=="){if(bO(n.value))return{unaryFilter:{field:mc(n.field),op:"IS_NAN"}};if(xO(n.value))return{unaryFilter:{field:mc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bO(n.value))return{unaryFilter:{field:mc(n.field),op:"IS_NOT_NAN"}};if(xO(n.value))return{unaryFilter:{field:mc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(n.field),op:VK(n.op),value:n.value}}}(t):t instanceof Vi?function(n){const r=n.getFilters().map(i=>z$(i));return r.length===1?r[0]:{compositeFilter:{op:zK(n.op),filters:r}}}(t):Me(54877,{filter:t})}function FK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r,i,a=Ue.min(),s=Ue.min(),l=Xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e){this.wt=e}}function qK(t){const e=LK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.Cn=new WK}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(oo.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class WK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new En(Mt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H$=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(H$,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fu(0)}static lr(){return new fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="LruGarbageCollector",KK=1048576;function DO([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class XK{constructor(e){this.Er=e,this.buffer=new En(DO),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){xe(MO,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){id(n)?xe(MO,"Ignoring IndexedDB error during garbage collection: ",n):await rd(n)}await this.mr(3e5)})}}class QK{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(K0.le);const r=new XK(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(RO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RO):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,s,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),fc()<=tt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function ZK(t,e){return new QK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(){this.changes=new Bl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mf(r.mutation,i,Wr.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const i=Xo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=uf();return a.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let a=as();const s=Rf(),l=function(){return Rf()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof wo)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Mf(d.mutation,u,d.mutation.getFieldMask(),An.now())):s.set(u.key,Wr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new eX(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Rf();let i=new Yt((s,l)=>s-l),a=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Wr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||nt()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=E$();d.forEach(h=>{if(!a.has(h)){const p=I$(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ie.resolve(Xo());let l=lh,c=a;return s.next(u=>ie.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(d)?ie.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,nt())).next(d=>({batchId:l,changes:A$(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let i=uf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=uf();return this.indexManager.getCollectionParents(e,a).next(l=>ie.forEach(l,c=>{const u=function(f,h){return new ad(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,rr.newInvalidDocument(d)))});let l=uf();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Mf(d.mutation,u,Wr.empty(),An.now()),J0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ua(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:qK(i.bundledQuery),readTime:ua(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(){this.overlays=new Yt(Te.comparator),this.Qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return ie.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Xo(),a=n.length+1,s=new Te(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Yt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=Xo(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Xo(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return ie.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _K(n,r));let a=this.Qr.get(n);a===void 0&&(a=nt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.$r=new En(kn.Ur),this.Kr=new En(kn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new kn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new kn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Te(new Mt([])),r=new kn(n,e),i=new kn(n,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Te(new Mt([])),r=new kn(n,e),i=new kn(n,e+1);let a=nt();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new kn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Te.comparator(e.key,n.key)||We(e.Zr,n.Zr)}static Wr(e,n){return We(e.Zr,n.Zr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new En(kn.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wK(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new kn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,n){return ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Lj:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kn(n,0),i=new kn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const l=this.ei(s.Zr);a.push(l)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(We);return n.forEach(i=>{const a=new kn(i,0),s=new kn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],l=>{r=r.add(l.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const s=new kn(new Te(a),0);let l=new En(We);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Zr)),!0)},s),ie.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(n.mutations,i=>{const a=new kn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new kn(n,0),i=this.Xr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.ii=e,this.docs=function(){return new Yt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=as();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=as();const s=n.path,l=new Te(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||MW(RW(d),r)<=0||(i.has(d.key)||J0(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}si(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oX(this)}getSize(e){return ie.resolve(this.size)}}class oX extends JK{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e){this.persistence=e,this.oi=new Bl(n=>Vj(n),zj),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this._i=0,this.ai=new Kj,this.targetCount=0,this.ui=fu.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new fu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Tr(n),ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.ci={},this.overlays={},this.li=new K0(0),this.hi=!1,this.hi=!0,this.Pi=new iX,this.referenceDelegate=e(this),this.Ti=new lX(this),this.indexManager=new GK,this.remoteDocumentCache=function(i){return new sX(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new HK(n),this.Ei=new nX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new aX(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new cX(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class cX extends $W{constructor(e){super(),this.currentSequenceNumber=e}}class Xj{constructor(e){this.persistence=e,this.Vi=new Kj,this.mi=null}static fi(e){return new Xj(e)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const i=Te.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,Ue.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ie.or([()=>ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fy{constructor(e,n){this.persistence=e,this.yi=new Bl(r=>UW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZK(this,n)}static fi(e,n){return new fy(e,n)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(l=>{l||(r++,a.removeEntry(s,Ue.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mg(e.data.value)),n}Dr(e,n,r){return ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=nt(),i=nt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yj(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rH()?8:LW(lr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new uX;return this.Ss(e,n,s).next(l=>{if(a.result=l,this.fs)return this.Ds(e,n,s,l.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(fc()<=tt.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(fc()<=tt.DEBUG&&xe("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(fc()<=tt.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ca(n))):ie.resolve())}ws(e,n){if(SO(n))return ie.resolve(null);let r=ca(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jw(n,null,"F"),r=ca(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=nt(...a);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,s,c.readTime)?this.ws(e,jw(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,i){return SO(n)||i.isEqual(Ue.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(n,a);return this.Cs(n,s,r,i)?ie.resolve(null):(fc()<=tt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.Fs(e,s,n,PW(i,lh)).next(l=>l))})}vs(e,n){let r=new En(j$(e));return n.forEach((i,a)=>{J0(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return fc()<=tt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",hc(n)),this.ys.getDocumentsMatchingQuery(e,n,oo.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="LocalStore",fX=3e8;class hX{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Yt(We),this.Os=new Bl(a=>Vj(a),zj),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tX(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function mX(t,e,n,r){return new hX(t,e,n,r)}async function G$(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],l=[];let c=nt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:l}))})})}function pX(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let p=ie.resolve();return h.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(g=>{const x=u.docVersions.get(y);mt(x!==null,48541),g.version.compareTo(x)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=nt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function W$(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function gX(t,e){const n=Fe(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ti.removeMatchingKeys(a,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(a,d.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Xn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(g,x,b){return g.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=fX?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,d)&&l.push(n.Ti.updateTargetData(a,p))});let c=as(),u=nt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(yX(a,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(Ue.min())){const d=n.Ti.getLastRemoteSnapshotVersion(a).next(f=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(d)}return ie.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.xs=i,a))}function yX(t,e,n){let r=nt(),i=nt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=as();return n.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ue.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):xe(Qj,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function vX(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lj),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xX(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Us(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Tw(t,e,n){const r=Fe(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!id(s))throw s;xe(Qj,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function $O(t,e,n){const r=Fe(t);let i=Ue.min(),a=nt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=Fe(c),h=f.Os.get(d);return h!==void 0?ie.resolve(f.xs.get(h)):f.Ti.getTargetData(u,d)}(r,s,ca(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:Ue.min(),n?a:nt())).next(l=>(bX(r,aK(e),l),{documents:l,$s:a})))}function bX(t,e,n){let r=t.Ns.get(e)||Ue.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class LO{constructor(){this.activeTargetIds=dK()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wX{constructor(){this.xo=new LO,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new LO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="ConnectivityMonitor";class UO{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xe(BO,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xe(BO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp=null;function Ow(){return Sp===null?Sp=function(){return 268435456+Math.round(2147483648*Math.random())}():Sp++,"0x"+Sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="RestConnection",jX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===oy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const s=Ow(),l=this.jo(e,n.toUriEncodedString());xe(_b,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:u}=new URL(l),d=vo(u);return this.Jo(e,l,c,r,d).then(f=>(xe(_b,`Received RPC '${e}' ${s}: `,f),f),f=>{throw lu(_b,`RPC '${e}' ${s} failed with error: `,f,"url: ",l,"request:",r),f})}Yo(e,n,r,i,a,s){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=jX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class EX extends SX{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=Ow();return new Promise((l,c)=>{const u=new Y6;u.setWithCredentials(!0),u.listenOnce(Q6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hg.NO_ERROR:const f=u.getResponseJson();xe(er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),l(f);break;case hg.TIMEOUT:xe(er,`RPC '${e}' ${s} timed out`),c(new be(re.DEADLINE_EXCEEDED,"Request time out"));break;case hg.HTTP_ERROR:const h=u.getStatus();if(xe(er,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const g=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(v)>=0?v:re.UNKNOWN}(y.status);c(new be(g,y.message))}else c(new be(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new be(re.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{xe(er,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);xe(er,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}I_(e,n,r){const i=Ow(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=e$(),l=J6(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");xe(er,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);this.E_(f);let h=!1,p=!1;const y=new AX({Zo:x=>{p?xe(er,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(xe(er,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),xe(er,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Xo:()=>f.close()}),g=(x,b,v)=>{x.listen(b,_=>{try{v(_)}catch(N){setTimeout(()=>{throw N},0)}})};return g(f,cf.EventType.OPEN,()=>{p||(xe(er,`RPC '${e}' stream ${i} transport opened.`),y.__())}),g(f,cf.EventType.CLOSE,()=>{p||(p=!0,xe(er,`RPC '${e}' stream ${i} transport closed`),y.u_(),this.d_(f))}),g(f,cf.EventType.ERROR,x=>{p||(p=!0,lu(er,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.u_(new be(re.UNAVAILABLE,"The operation could not be completed")))}),g(f,cf.EventType.MESSAGE,x=>{var b;if(!p){const v=x.data[0];mt(!!v,16349);const _=v,N=(_==null?void 0:_.error)||((b=_[0])===null||b===void 0?void 0:b.error);if(N){xe(er,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let A=function(T){const P=un[T];if(P!==void 0)return R$(P)}(j),w=N.message;A===void 0&&(A=re.INTERNAL,w="Unknown error status: "+j+" with message "+N.message),p=!0,y.u_(new be(A,w)),f.close()}else xe(er,`RPC '${e}' stream ${i} received:`,v),y.c_(v)}}),g(l,Z6.STAT_EVENT,x=>{x.stat===gw.PROXY?xe(er,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===gw.NOPROXY&&xe(er,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.a_()},0),y}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function jb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){return new CK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="PersistentStream";class X${constructor(e,n,r,i,a,s,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new K$(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new be(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return xe(VO,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(xe(VO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NX extends X${constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=PK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ue.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ue.min():s.readTime?ua(s.readTime):Ue.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Nw(this.serializer),n.addTarget=function(a,s){let l;const c=s.target;if(l=ww(c)?{documents:DK(a,c)}:{query:$K(a,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=$$(a,s.resumeToken);const u=Sw(a,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ue.min())>0){l.readTime=dy(a,s.snapshotVersion.toTimestamp());const u=Sw(a,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=BK(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Nw(this.serializer),n.removeTarget=e,this.Q_(n)}}class TX extends X${constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=MK(e.writeResults,e.commitTime),r=ua(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Nw(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RK(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{}class CX extends OX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,Aw(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(re.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,Aw(n,r),i,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(re.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class kX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(is(n),this.ua=!1):xe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RemoteStore";class IX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(s=>{r.enqueueAndForget(async()=>{Ul(this)&&(xe(wl,"Restarting streams for network reachability change."),await async function(c){const u=Fe(c);u.da.add(4),await _m(u),u.Va.set("Unknown"),u.da.delete(4),await iv(u)}(this))})}),this.Va=new kX(r,i)}}async function iv(t){if(Ul(t))for(const e of t.Aa)await e(!0)}async function _m(t){for(const e of t.Aa)await e(!1)}function Y$(t,e){const n=Fe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),tS(n)?eS(n):sd(n).N_()&&Jj(n,e))}function Zj(t,e){const n=Fe(t),r=sd(n);n.Ea.delete(e),r.N_()&&Q$(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ul(n)&&n.Va.set("Unknown"))}function Jj(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sd(t).Z_(e)}function Q$(t,e){t.ma.Ke(e),sd(t).X_(e)}function eS(t){t.ma=new EK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),sd(t).start(),t.Va.ca()}function tS(t){return Ul(t)&&!sd(t).O_()&&t.Ea.size>0}function Ul(t){return Fe(t).da.size===0}function Z$(t){t.ma=void 0}async function PX(t){t.Va.set("Online")}async function RX(t){t.Ea.forEach((e,n)=>{Jj(t,e)})}async function MX(t,e){Z$(t),tS(t)?(t.Va.Pa(e),eS(t)):t.Va.set("Unknown")}async function DX(t,e,n){if(t.Va.set("Online"),e instanceof D$&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const l of a.targetIds)i.Ea.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ea.delete(l),i.ma.removeTarget(l))}(t,e)}catch(r){xe(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hy(t,r)}else if(e instanceof yg?t.ma.Xe(e):e instanceof M$?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ue.min()))try{const r=await W$(t.localStore);n.compareTo(r)>=0&&await function(a,s){const l=a.ma.It(s);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ea.get(u);d&&a.Ea.set(u,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ea.get(c);if(!d)return;a.Ea.set(c,d.withResumeToken(Xn.EMPTY_BYTE_STRING,d.snapshotVersion)),Q$(a,c);const f=new Us(d.target,c,u,d.sequenceNumber);Jj(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){xe(wl,"Failed to raise snapshot:",r),await hy(t,r)}}async function hy(t,e,n){if(!id(e))throw e;t.da.add(1),await _m(t),t.Va.set("Offline"),n||(n=()=>W$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(wl,"Retrying IndexedDB access"),await n(),t.da.delete(1),await iv(t)})}function J$(t,e){return e().catch(n=>hy(t,n,e))}async function av(t){const e=Fe(t),n=fo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Lj;for(;$X(e);)try{const i=await vX(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,LX(e,i)}catch(i){await hy(e,i)}e3(e)&&t3(e)}function $X(t){return Ul(t)&&t.Ia.length<10}function LX(t,e){t.Ia.push(e);const n=fo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function e3(t){return Ul(t)&&!fo(t).O_()&&t.Ia.length>0}function t3(t){fo(t).start()}async function BX(t){fo(t).ia()}async function UX(t){const e=fo(t);for(const n of t.Ia)e.ta(n.mutations)}async function VX(t,e,n){const r=t.Ia.shift(),i=qj.from(r,e,n);await J$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await av(t)}async function zX(t,e){e&&fo(t).ea&&await async function(r,i){if(function(s){return SK(s)&&s!==re.ABORTED}(i.code)){const a=r.Ia.shift();fo(r).L_(),await J$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await av(r)}}(t,e),e3(t)&&t3(t)}async function zO(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),xe(wl,"RemoteStore received new credentials");const r=Ul(n);n.da.add(3),await _m(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await iv(n)}async function FX(t,e){const n=Fe(t);e?(n.da.delete(2),await iv(n)):e||(n.da.add(2),await _m(n),n.Va.set("Unknown"))}function sd(t){return t.fa||(t.fa=function(n,r,i){const a=Fe(n);return a.oa(),new NX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:PX.bind(null,t),n_:RX.bind(null,t),i_:MX.bind(null,t),Y_:DX.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),tS(t)?eS(t):t.Va.set("Unknown")):(await t.fa.stop(),Z$(t))})),t.fa}function fo(t){return t.ga||(t.ga=function(n,r,i){const a=Fe(n);return a.oa(),new TX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:BX.bind(null,t),i_:zX.bind(null,t),na:UX.bind(null,t),ra:VX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await av(t)):(await t.ga.stop(),t.Ia.length>0&&(xe(wl,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new nS(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rS(t,e){if(is("AsyncQueue",`${e}: ${t}`),id(t))return new be(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{static emptySet(e){return new qc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=uf(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.pa=new Yt(Te.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,a,s,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new hu(e,n,qc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Z0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class qX{constructor(){this.queries=HO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Fe(n),a=i.queries;i.queries=HO(),a.forEach((s,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new be(re.ABORTED,"Firestore shutting down"))}}function HO(){return new Bl(t=>_$(t),Z0)}async function iS(t,e){const n=Fe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new HX,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=rS(s,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&sS(n)}async function aS(t,e){const n=Fe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GX(t,e){const n=Fe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Sa)l.Ma(i)&&(r=!0);s.ba=i}}r&&sS(n)}function WX(t,e,n){const r=Fe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function sS(t){t.Ca.forEach(e=>{e.next()})}var Cw,qO;(qO=Cw||(Cw={})).xa="default",qO.Cache="cache";class oS{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Cw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.key=e}}class r3{constructor(e){this.key=e}}class KX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.Za=j$(e),this.Xa=new qc(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new FO,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=J0(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),x=!0):this.ru(h,p)||(r.track({type:2,doc:p}),x=!0,(c&&this.Za(p,c)>0||u&&this.Za(p,u)<0)&&(l=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(c||u)&&(l=!0)),x&&(p?(s=s.add(p),a=g?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Xa:s,nu:r,Cs:l,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((d,f)=>function(p,y){const g=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:x})}};return g(p)-g(y)}(d.type,f.type)||this.Za(d.doc,f.doc)),this.iu(r),i=i!=null&&i;const l=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,s.length!==0||u?{snapshot:new hu(this.query,e.Xa,a,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new FO,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new r3(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new n3(r))}),n}au(e){this.Ha=e.$s,this.Ya=nt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return hu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const lS="SyncEngine";class XX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YX{constructor(e){this.key=e,this.cu=!1}}class QX{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Bl(l=>_$(l),Z0),this.Pu=new Map,this.Tu=new Set,this.Iu=new Yt(Te.comparator),this.Eu=new Map,this.du=new Kj,this.Au={},this.Ru=new Map,this.Vu=fu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ZX(t,e,n=!0){const r=c3(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await i3(r,e,n,!0),i}async function JX(t,e){const n=c3(t);await i3(n,e,!0,!1)}async function i3(t,e,n,r){const i=await xX(t.localStore,ca(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await eY(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Y$(t.remoteStore,i),l}async function eY(t,e,n,r,i){t.fu=(f,h,p)=>async function(g,x,b,v){let _=x.view.tu(b);_.Cs&&(_=await $O(g.localStore,x.query,!1).then(({documents:w})=>x.view.tu(w,_)));const N=v&&v.targetChanges.get(x.targetId),j=v&&v.targetMismatches.get(x.targetId)!=null,A=x.view.applyChanges(_,g.isPrimaryClient,N,j);return WO(g,x.targetId,A.ou),A.snapshot}(t,f,h,p);const a=await $O(t.localStore,e,!0),s=new KX(e,a.$s),l=s.tu(a.documents),c=wm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(l,t.isPrimaryClient,c);WO(t,n,u.ou);const d=new XX(e,n,s);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function tY(t,e,n){const r=Fe(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(s=>!Z0(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Tw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zj(r.remoteStore,i.targetId),kw(r,i.targetId)}).catch(rd)):(kw(r,i.targetId),await Tw(r.localStore,i.targetId,!0))}async function nY(t,e){const n=Fe(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zj(n.remoteStore,r.targetId))}async function rY(t,e,n){const r=uY(t);try{const i=await function(s,l){const c=Fe(s),u=An.now(),d=l.reduce((p,y)=>p.add(y.key),nt());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=as(),g=nt();return c.Bs.getEntries(p,d).next(x=>{y=x,y.forEach((b,v)=>{v.isValidDocument()||(g=g.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(x=>{f=x;const b=[];for(const v of l){const _=xK(v,f.get(v.key).overlayedDocument);_!=null&&b.push(new wo(v.key,_,m$(_.value.mapValue),xi.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,b,l)}).next(x=>{h=x;const b=x.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(p,x.batchId,b)})}).then(()=>({batchId:h.batchId,changes:A$(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let u=s.Au[s.currentUser.toKey()];u||(u=new Yt(We)),u=u.insert(l,c),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await jm(r,i.changes),await av(r.remoteStore)}catch(i){const a=rS(i,"Failed to persist write");n.reject(a)}}async function a3(t,e){const n=Fe(t);try{const r=await gX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Eu.get(a);s&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?mt(s.cu,14607):i.removedDocuments.size>0&&(mt(s.cu,42227),s.cu=!1))}),await jm(n,r,e)}catch(r){await rd(r)}}function GO(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,s)=>{const l=s.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=Fe(s);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.Fa(l)&&(u=!0)}),u&&sS(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iY(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let s=new Yt(Te.comparator);s=s.insert(a,rr.newNoDocument(a,Ue.min()));const l=nt().add(a),c=new nv(Ue.min(),new Map,new Yt(We),s,l);await a3(r,c),r.Iu=r.Iu.remove(a),r.Eu.delete(e),cS(r)}else await Tw(r.localStore,e,!1).then(()=>kw(r,e,n)).catch(rd)}async function aY(t,e){const n=Fe(t),r=e.batch.batchId;try{const i=await pX(n.localStore,e);o3(n,r,null),s3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jm(n,i)}catch(i){await rd(i)}}async function sY(t,e,n){const r=Fe(t);try{const i=await function(s,l){const c=Fe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(mt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);o3(r,e,n),s3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jm(r,i)}catch(i){await rd(i)}}function s3(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function o3(t,e,n){const r=Fe(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function kw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||l3(t,r)})}function l3(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Zj(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),cS(t))}function WO(t,e,n){for(const r of n)r instanceof n3?(t.du.addReference(r.key,e),oY(t,r)):r instanceof r3?(xe(lS,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||l3(t,r.key)):Me(19791,{pu:r})}function oY(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(xe(lS,"New document in limbo: "+n),t.Tu.add(r),cS(t))}function cS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Te(Mt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new YX(n)),t.Iu=t.Iu.insert(n,r),Y$(t.remoteStore,new Us(ca(Q0(n.path)),r,"TargetPurposeLimboResolution",K0.le))}}async function jm(t,e,n){const r=Fe(t),i=[],a=[],s=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{s.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Yj.Rs(c.targetId,u);a.push(f)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(c,u){const d=Fe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(u,h=>ie.forEach(h.ds,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ie.forEach(h.As,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!id(f))throw f;xe(Qj,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.xs.get(h),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);d.xs=d.xs.insert(h,g)}}}(r.localStore,a))}async function lY(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){xe(lS,"User change. New user:",e.toKey());const r=await G$(n.localStore,e);n.currentUser=e,function(a,s){a.Ru.forEach(l=>{l.forEach(c=>{c.reject(new be(re.CANCELLED,s))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jm(n,r.ks)}}function cY(t,e){const n=Fe(t),r=n.Eu.get(e);if(r&&r.cu)return nt().add(r.key);{let i=nt();const a=n.Pu.get(e);if(!a)return i;for(const s of a){const l=n.hu.get(s);i=i.unionWith(l.view.eu)}return i}}function c3(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iY.bind(null,e),e.lu.Y_=GX.bind(null,e.eventManager),e.lu.gu=WX.bind(null,e.eventManager),e}function uY(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sY.bind(null,e),e}class my{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return mX(this.persistence,new dX,e.initialUser,this.serializer)}Su(e){return new q$(Xj.fi,this.serializer)}bu(e){return new wX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}my.provider={build:()=>new my};class dY extends my{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){mt(this.persistence.referenceDelegate instanceof fy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YK(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new q$(r=>fy.fi(r,n),this.serializer)}}class Iw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lY.bind(null,this.syncEngine),await FX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qX}()}createDatastore(e){const n=rv(e.databaseInfo.databaseId),r=function(a){return new EX(a)}(e.databaseInfo);return function(a,s,l,c){return new CX(a,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,l){return new IX(r,i,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>GO(this.syncEngine,n,0),function(){return UO.C()?new UO:new _X}())}createSyncEngine(e,n){return function(i,a,s,l,c,u,d){const f=new QX(i,a,s,l,c,u);return d&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Fe(i);xe(wl,"RemoteStore shutting down."),a.da.add(5),await _m(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Iw.provider={build:()=>new Iw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class fY{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=i$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{xe(ho,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xe(ho,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sb(t,e){t.asyncQueue.verifyOperationInProgress(),xe(ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await G$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hY(t);xe(ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zO(e.remoteStore,i)),t._onlineComponents=e}async function hY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(ho,"Using user provided OfflineComponentProvider");try{await Sb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;lu("Error using user provided cache. Falling back to memory cache: "+n),await Sb(t,new my)}}else xe(ho,"Using default OfflineComponentProvider"),await Sb(t,new dY(void 0));return t._offlineComponents}async function u3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(ho,"Using user provided OnlineComponentProvider"),await KO(t,t._uninitializedComponentsProvider._online)):(xe(ho,"Using default OnlineComponentProvider"),await KO(t,new Iw))),t._onlineComponents}function mY(t){return u3(t).then(e=>e.syncEngine)}async function py(t){const e=await u3(t),n=e.eventManager;return n.onListen=ZX.bind(null,e.syncEngine),n.onUnlisten=tY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nY.bind(null,e.syncEngine),n}function pY(t,e,n={}){const r=new Wa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,u){const d=new uS({next:h=>{d.xu(),s.enqueueAndForget(()=>aS(a,f));const p=h.docs.has(l);!p&&h.fromCache?u.reject(new be(re.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new be(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new oS(Q0(l.path),d,{includeMetadataChanges:!0,Qa:!0});return iS(a,f)}(await py(t),t.asyncQueue,e,n,r)),r.promise}function gY(t,e,n={}){const r=new Wa;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,c,u){const d=new uS({next:h=>{d.xu(),s.enqueueAndForget(()=>aS(a,f)),h.fromCache&&c.source==="server"?u.reject(new be(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new oS(l,d,{includeMetadataChanges:!0,Qa:!0});return iS(a,f)}(await py(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e,n){if(!n)throw new be(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yY(t,e,n,r){if(e===!0&&r===!0)throw new be(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YO(t){if(!Te.isDocumentKey(t))throw new be(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QO(t){if(Te.isDocumentKey(t))throw new be(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sv(t);throw new be(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firestore.googleapis.com",ZO=!0;class JO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h3,this.ssl=ZO}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KK)throw new be(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ov{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SW;switch(r.type){case"firstParty":return new TW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XO.get(n);r&&(xe("ComponentProvider","Removing Datastore"),XO.delete(n),r.terminate())}(this),Promise.resolve()}}function vY(t,e,n,r={}){var i;t=Cr(t,ov);const a=vo(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(jj(`https://${c}`),Sj("Firestore",!0)),s.host!==h3&&s.host!==c&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!so(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=nr.MOCK_USER;else{d=c6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nr(h)}t._authCredentials=new AW(new n$(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class or{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class eo extends _o{constructor(e,n,r){super(e,n,Q0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Te(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function ct(t,e,...n){if(t=Wt(t),f3("collection","path",e),t instanceof ov){const r=Mt.fromString(e,...n);return QO(r),new eo(t,null,r)}{if(!(t instanceof or||t instanceof eo))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return QO(r),new eo(t.firestore,null,r)}}function Wn(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=i$.newId()),f3("doc","path",e),t instanceof ov){const r=Mt.fromString(e,...n);return YO(r),new or(t,null,new Te(r))}{if(!(t instanceof or||t instanceof eo))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return YO(r),new or(t.firestore,t instanceof eo?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="AsyncQueue";class tC{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new K$(this,"async_queue_retry"),this.rc=()=>{const r=jb();r&&xe(eC,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=jb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=jb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Wa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!id(e))throw e;xe(eC,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,is("INTERNAL UNHANDLED ERROR: ",nC(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=nS.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Me(47125,{cc:nC(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function nC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ss extends ov{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tC(e),this._firestoreClient=void 0,await e}}}function xY(t,e){const n=typeof t=="object"?t:H0(),r=typeof t=="string"?t:oy,i=xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=s6("firestore");a&&vY(i,...a)}return i}function lv(t){if(t._terminated)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bY(t),t._firestoreClient}function bY(t){var e,n,r;const i=t._freezeSettings(),a=function(l,c,u,d){return new FW(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fY(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(Xn.fromBase64String(e))}catch(n){throw new be(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mu(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=/^__.*__$/;class _Y{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bm(e,this.data,n,this.fieldTransforms)}}class m3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:t})}}class hS{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new hS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return gy(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(p3(this.Ic)&&wY.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class jY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rv(e)}bc(e,n,r,i=!1){return new hS({Ic:e,methodName:n,wc:r,path:Gn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dv(t){const e=t._freezeSettings(),n=rv(t._databaseId);return new jY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g3(t,e,n,r,i,a={}){const s=t.bc(a.merge||a.mergeFields?2:0,e,n,i);pS("Data must be an object, but it was:",s,r);const l=y3(r,s);let c,u;if(a.merge)c=new Wr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=Pw(e,f,n);if(!s.contains(h))throw new be(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);x3(d,h)||d.push(h)}c=new Wr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new _Y(new Er(l),c,u)}class fv extends uv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fv}}class mS extends uv{_toFieldTransform(e){return new pK(e.path,new hh)}isEqual(e){return e instanceof mS}}function SY(t,e,n,r){const i=t.bc(1,e,n);pS("Data must be an object, but it was:",i,r);const a=[],s=Er.empty();bo(r,(c,u)=>{const d=gS(e,c,n);u=Wt(u);const f=i.mc(d);if(u instanceof fv)a.push(d);else{const h=Sm(u,f);h!=null&&(a.push(d),s.set(d,h))}});const l=new Wr(a);return new m3(s,l,i.fieldTransforms)}function AY(t,e,n,r,i,a){const s=t.bc(1,e,n),l=[Pw(e,r,n)],c=[i];if(a.length%2!=0)throw new be(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)l.push(Pw(e,a[h])),c.push(a[h+1]);const u=[],d=Er.empty();for(let h=l.length-1;h>=0;--h)if(!x3(u,l[h])){const p=l[h];let y=c[h];y=Wt(y);const g=s.mc(p);if(y instanceof fv)u.push(p);else{const x=Sm(y,g);x!=null&&(u.push(p),d.set(p,x))}}const f=new Wr(u);return new m3(d,f,s.fieldTransforms)}function EY(t,e,n,r=!1){return Sm(n,t.bc(r?4:3,e))}function Sm(t,e){if(v3(t=Wt(t)))return pS("Unsupported field value:",e,t),y3(t,e);if(t instanceof uv)return function(r,i){if(!p3(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const l of r){let c=Sm(l,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=An.fromDate(r);return{timestampValue:dy(i.serializer,a)}}if(r instanceof An){const a=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dy(i.serializer,a)}}if(r instanceof dS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mu)return{bytesValue:$$(i.serializer,r._byteString)};if(r instanceof or){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wj(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fS)return function(s,l){return{mapValue:{fields:{[f$]:{stringValue:h$},[ly]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return Fj(l.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${sv(r)}`)}(t,e)}function y3(t,e){const n={};return s$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,i)=>{const a=Sm(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function v3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof dS||t instanceof mu||t instanceof or||t instanceof uv||t instanceof fS)}function pS(t,e,n){if(!v3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sv(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Pw(t,e,n){if((e=Wt(e))instanceof cv)return e._internalPath;if(typeof e=="string")return gS(t,e);throw gy("Field path arguments must be of type string or ",t,!1,void 0,n)}const NY=new RegExp("[~\\*/\\[\\]]");function gS(t,e,n){if(e.search(NY)>=0)throw gy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cv(...e.split("."))._internalPath}catch{throw gy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gy(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new be(re.INVALID_ARGUMENT,l+t+c)}function x3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TY extends b3{data(){return super.data()}}function hv(t,e){return typeof e=="string"?gS(t,e):e instanceof cv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yS{}class _3 extends yS{}function Ft(t,e,...n){let r=[];e instanceof yS&&r.push(e),r=r.concat(n),function(a){const s=a.filter(c=>c instanceof vS).length,l=a.filter(c=>c instanceof mv).length;if(s>1||s>0&&l>0)throw new be(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mv extends _3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mv(e,n,r)}_apply(e){const n=this._parse(e);return j3(e._query,n),new _o(e.firestore,e.converter,_w(e._query,n))}_parse(e){const n=dv(e.firestore);return function(a,s,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new be(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aC(f,d);const y=[];for(const g of f)y.push(iC(c,a,g));h={arrayValue:{values:y}}}else h=iC(c,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aC(f,d),h=EY(l,s,f,d==="in"||d==="not-in");return hn.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mn(t,e,n){const r=e,i=hv("where",t);return mv._create(i,r,n)}class vS extends yS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const l=a.getFlattenedFilters();for(const c of l)j3(s,c),s=_w(s,c)}(e._query,n),new _o(e.firestore,e.converter,_w(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xS extends _3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xS(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new be(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fh(a,s)}(e._query,this._field,this._direction);return new _o(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new ad(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function od(t,e="asc"){const n=e,r=hv("orderBy",t);return xS._create(r,n)}function iC(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new be(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w$(e)&&n.indexOf("/")!==-1)throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Te.isDocumentKey(r))throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vO(t,new Te(r))}if(n instanceof or)return vO(t,n._key);throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sv(n)}.`)}function aC(t,e){if(!Array.isArray(t)||t.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j3(t,e){const n=function(i,a){for(const s of i)for(const l of s.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OY{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ly].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>sn(s.doubleValue));return new fS(a)}convertGeoPoint(e){return new dS(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Y0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=lo(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);mt(F$(r),9688,{name:e});const i=new uh(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return i.isEqual(n)||is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A3 extends b3{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vg extends A3{data(e={}){return super.data(e)}}class E3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ff(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vg(this._firestore,this._userDataWriter,r.key,r,new ff(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const c=new vg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ff(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new vg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ff(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:CY(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t){t=Cr(t,or);const e=Cr(t.firestore,ss);return pY(lv(e),t._key).then(n=>N3(e,t,n))}class bS extends OY{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,n)}}function Dt(t){t=Cr(t,_o);const e=Cr(t.firestore,ss),n=lv(e),r=new bS(e);return w3(t._query),gY(n,t._query).then(i=>new E3(e,r,t,i))}function sC(t,e,n){t=Cr(t,or);const r=Cr(t.firestore,ss),i=S3(t.converter,e,n);return pv(r,[g3(dv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xi.none())])}function Nr(t,e,n,...r){t=Cr(t,or);const i=Cr(t.firestore,ss),a=dv(i);let s;return s=typeof(e=Wt(e))=="string"||e instanceof cv?AY(a,"updateDoc",t._key,e,n,r):SY(a,"updateDoc",t._key,e),pv(i,[s.toMutation(t._key,xi.exists(!0))])}function IY(t){return pv(Cr(t.firestore,ss),[new Hj(t._key,xi.none())])}function pu(t,e){const n=Cr(t.firestore,ss),r=Wn(t),i=S3(t.converter,e);return pv(n,[g3(dv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function Rw(t,...e){var n,r,i;t=Wt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||rC(e[s])||(a=e[s],s++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(rC(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof or)u=Cr(t.firestore,ss),d=Q0(t._key.path),c={next:f=>{e[s]&&e[s](N3(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Cr(t,_o);u=Cr(f.firestore,ss),d=f._query;const h=new bS(u);c={next:p=>{e[s]&&e[s](new E3(u,h,f,p))},error:e[s+1],complete:e[s+2]},w3(t._query)}return function(h,p,y,g){const x=new uS(g),b=new oS(p,x,y);return h.asyncQueue.enqueueAndForget(async()=>iS(await py(h),b)),()=>{x.xu(),h.asyncQueue.enqueueAndForget(async()=>aS(await py(h),b))}}(lv(u),d,l,c)}function pv(t,e){return function(r,i){const a=new Wa;return r.asyncQueue.enqueueAndForget(async()=>rY(await mY(r),i,a)),a.promise}(lv(t),e)}function N3(t,e,n){const r=n.docs.get(e._key),i=new bS(t);return new A3(t,i,e._key,r,new ff(n.hasPendingWrites,n.fromCache),e.converter)}function gv(){return new mS("serverTimestamp")}(function(e,n=!0){(function(i){nd=i})(Ll),Ui(new _i("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new ss(new EW(r.getProvider("auth-internal")),new OW(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new be(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(u.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Or(sO,oO,e),Or(sO,oO,"esm2017")})();var PY="firebase",RY="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(PY,RY,"app");const T3="@firebase/installations",wS="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e4,C3=`w:${wS}`,k3="FIS_v2",MY="https://firebaseinstallations.googleapis.com/v1",DY=60*60*1e3,$Y="installations",LY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},_l=new $l($Y,LY,BY);function I3(t){return t instanceof Si&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3({projectId:t}){return`${MY}/projects/${t}/installations`}function R3(t){return{token:t.token,requestStatus:2,expiresIn:VY(t.expiresIn),creationTime:Date.now()}}async function M3(t,e){const r=(await e.json()).error;return _l.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function D3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function UY(t,{refreshToken:e}){const n=D3(t);return n.append("Authorization",zY(e)),n}async function $3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VY(t){return Number(t.replace("s","000"))}function zY(t){return`${k3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=P3(t),i=D3(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:k3,appId:t.appId,sdkVersion:C3},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await $3(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:R3(u.authToken)}}else throw await M3("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=/^[cdef][\w-]{21}$/,Mw="";function GY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WY(t);return qY.test(n)?n:Mw}catch{return Mw}}function WY(t){return HY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Map;function U3(t,e){const n=yv(t);V3(n,e),KY(n,e)}function V3(t,e){const n=B3.get(t);if(n)for(const r of n)r(e)}function KY(t,e){const n=XY();n&&n.postMessage({key:t,fid:e}),YY()}let Yo=null;function XY(){return!Yo&&"BroadcastChannel"in self&&(Yo=new BroadcastChannel("[Firebase] FID Change"),Yo.onmessage=t=>{V3(t.data.key,t.data.fid)}),Yo}function YY(){B3.size===0&&Yo&&(Yo.close(),Yo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY="firebase-installations-database",ZY=1,jl="firebase-installations-store";let Ab=null;function _S(){return Ab||(Ab=p6(QY,ZY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jl)}}})),Ab}async function yy(t,e){const n=yv(t),i=(await _S()).transaction(jl,"readwrite"),a=i.objectStore(jl),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&U3(t,e.fid),e}async function z3(t){const e=yv(t),r=(await _S()).transaction(jl,"readwrite");await r.objectStore(jl).delete(e),await r.done}async function vv(t,e){const n=yv(t),i=(await _S()).transaction(jl,"readwrite"),a=i.objectStore(jl),s=await a.get(n),l=e(s);return l===void 0?await a.delete(n):await a.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&U3(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t){let e;const n=await vv(t.appConfig,r=>{const i=JY(r),a=eQ(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Mw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function JY(t){const e=t||{fid:GY(),registrationStatus:0};return F3(e)}function eQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(_l.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nQ(t)}:{installationEntry:e}}async function tQ(t,e){try{const n=await FY(t,e);return yy(t.appConfig,n)}catch(n){throw I3(n)&&n.customData.serverCode===409?await z3(t.appConfig):await yy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nQ(t){let e=await oC(t.appConfig);for(;e.registrationStatus===1;)await L3(100),e=await oC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jS(t);return r||n}return e}function oC(t){return vv(t,e=>{if(!e)throw _l.create("installation-not-found");return F3(e)})}function F3(t){return rQ(t)?{fid:t.fid,registrationStatus:0}:t}function rQ(t){return t.registrationStatus===1&&t.registrationTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iQ({appConfig:t,heartbeatServiceProvider:e},n){const r=aQ(t,n),i=UY(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:C3,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await $3(()=>fetch(r,l));if(c.ok){const u=await c.json();return R3(u)}else throw await M3("Generate Auth Token",c)}function aQ(t,{fid:e}){return`${P3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e=!1){let n;const r=await vv(t.appConfig,a=>{if(!H3(a))throw _l.create("not-registered");const s=a.authToken;if(!e&&lQ(s))return a;if(s.requestStatus===1)return n=sQ(t,e),a;{if(!navigator.onLine)throw _l.create("app-offline");const l=uQ(a);return n=oQ(t,l),l}});return n?await n:r.authToken}async function sQ(t,e){let n=await lC(t.appConfig);for(;n.authToken.requestStatus===1;)await L3(100),n=await lC(t.appConfig);const r=n.authToken;return r.requestStatus===0?SS(t,e):r}function lC(t){return vv(t,e=>{if(!H3(e))throw _l.create("not-registered");const n=e.authToken;return dQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function oQ(t,e){try{const n=await iQ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await yy(t.appConfig,r),n}catch(n){if(I3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z3(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yy(t.appConfig,r)}throw n}}function H3(t){return t!==void 0&&t.registrationStatus===2}function lQ(t){return t.requestStatus===2&&!cQ(t)}function cQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+DY}function uQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dQ(t){return t.requestStatus===1&&t.requestTime+O3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await jS(e);return r?r.catch(console.error):SS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(t,e=!1){const n=t;return await mQ(n),(await SS(n,e)).token}async function mQ(t){const{registrationPromise:e}=await jS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(t){if(!t||!t.options)throw Eb("App Configuration");if(!t.name)throw Eb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Eb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Eb(t){return _l.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="installations",gQ="installations-internal",yQ=t=>{const e=t.getProvider("app").getImmediate(),n=pQ(e),r=xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vQ=t=>{const e=t.getProvider("app").getImmediate(),n=xo(e,q3).getImmediate();return{getId:()=>fQ(n),getToken:i=>hQ(n,i)}};function xQ(){Ui(new _i(q3,yQ,"PUBLIC")),Ui(new _i(gQ,vQ,"PRIVATE"))}xQ();Or(T3,wS);Or(T3,wS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="analytics",bQ="firebase_id",wQ="origin",_Q=60*1e3,jQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new F0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jr=new $l("analytics","Analytics",SQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t){if(!t.startsWith(AS)){const e=Jr.create("invalid-gtag-resource",{gtagURL:t});return kr.warn(e.message),""}return t}function G3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function EQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NQ(t,e){const n=EQ("firebase-js-sdk-policy",{createScriptURL:AQ}),r=document.createElement("script"),i=`${AS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OQ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const c=(await G3(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){kr.error(l)}t("config",i,a)}async function CQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await G3(n);for(const c of s){const u=l.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){kr.error(a)}}function kQ(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[l,c]=s;await CQ(t,e,n,l,c)}else if(a==="config"){const[l,c]=s;await OQ(t,e,n,r,l,c)}else if(a==="consent"){const[l,c]=s;t("consent",l,c)}else if(a==="get"){const[l,c,u]=s;t("get",l,c,u)}else if(a==="set"){const[l]=s;t("set",l)}else t(a,...s)}catch(l){kr.error(l)}}return i}function IQ(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=kQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function PQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(AS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=30,MQ=1e3;class DQ{constructor(e={},n=MQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const W3=new DQ;function $Q(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function LQ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$Q(r)},a=jQ.replace("{app-id}",n),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function BQ(t,e=W3,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Jr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Jr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new zQ;return setTimeout(async()=>{l.abort()},_Q),K3({appId:r,apiKey:i,measurementId:a},s,l,e)}async function K3(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=W3){var a;const{appId:s,measurementId:l}=t;try{await UQ(r,e)}catch(c){if(l)return kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:l};throw c}try{const c=await LQ(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!VQ(u)){if(i.deleteThrottleMetadata(s),l)return kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:l};throw c}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?PT(n,i.intervalMillis,RQ):PT(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,f),kr.debug(`Calling attemptFetch again in ${d} millis`),K3(t,f,r,i)}}function UQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VQ(t){if(!(t instanceof Si)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class zQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FQ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s=Object.assign(Object.assign({},r),{send_to:a});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HQ(){if(d6())try{await f6()}catch(t){return kr.warn(Jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kr.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qQ(t,e,n,r,i,a,s){var l;const c=BQ(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&kr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>kr.error(p)),e.push(c);const u=HQ().then(p=>{if(p)return r.getId()}),[d,f]=await Promise.all([c,u]);PQ(a)||NQ(a,d.measurementId),i("js",new Date);const h=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return h[wQ]="firebase",h.update=!0,f!=null&&(h[bQ]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e){this.app=e}_delete(){return delete Df[this.app.options.appId],Promise.resolve()}}let Df={},cC=[];const uC={};let Nb="dataLayer",WQ="gtag",dC,X3,fC=!1;function KQ(){const t=[];if(u6()&&t.push("This is a browser extension environment."),iH()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});kr.warn(n.message)}}function XQ(t,e,n){KQ();const r=t.options.appId;if(!r)throw Jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jr.create("no-api-key");if(Df[r]!=null)throw Jr.create("already-exists",{id:r});if(!fC){TQ(Nb);const{wrappedGtag:a,gtagCore:s}=IQ(Df,cC,uC,Nb,WQ);X3=a,dC=s,fC=!0}return Df[r]=qQ(t,cC,uC,e,dC,Nb,n),new GQ(t)}function YQ(t=H0()){t=Wt(t);const e=xo(t,vy);return e.isInitialized()?e.getImmediate():QQ(t)}function QQ(t,e={}){const n=xo(t,vy);if(n.isInitialized()){const i=n.getImmediate();if(so(e,n.getOptions()))return i;throw Jr.create("already-initialized")}return n.initialize({options:e})}function ZQ(t,e,n,r){t=Wt(t),FQ(X3,Df[t.app.options.appId],e,n,r).catch(i=>kr.error(i))}const hC="@firebase/analytics",mC="0.10.16";function JQ(){Ui(new _i(vy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return XQ(r,i,n)},"PUBLIC")),Ui(new _i("analytics-internal",t,"PRIVATE")),Or(hC,mC),Or(hC,mC,"esm2017");function t(e){try{const n=e.getProvider(vy).getImmediate();return{logEvent:(r,i,a)=>ZQ(n,r,i,a)}}catch(n){throw Jr.create("interop-component-reg-failed",{reason:n})}}}JQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="firebasestorage.googleapis.com",Q3="storageBucket",eZ=2*60*1e3,tZ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends Si{constructor(e,n,r=0){super(Tb(e),`Firebase Storage: ${n} (${Tb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function Tb(t){return"storage/"+t}function ES(){const t="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,t)}function nZ(t){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rZ(t){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iZ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,t)}function aZ(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sZ(t){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function oZ(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lZ(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function cZ(t){return new nn(tn.INVALID_URL,"Invalid URL '"+t+"'.")}function uZ(t){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dZ(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q3+"' property when initializing the app?")}function fZ(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hZ(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mZ(t){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dw(t){return new nn(tn.INVALID_ARGUMENT,t)}function Z3(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function pZ(t){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $f(t,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zd(t){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kr.makeFromUrl(e,n)}catch{return new Kr(e,"")}if(r.path==="")return r;throw uZ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},g=n===Y3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${x}`,"i"),_=[{regex:l,indices:c,postModify:a},{regex:p,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<_.length;N++){const j=_[N],A=j.regex.exec(e);if(A){const w=A[j.indices.bucket];let S=A[j.indices.path];S||(S=""),r=new Kr(w,S),j.postModify(r);break}}if(r==null)throw cZ(e);return r}}class gZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(t,e,n){let r=1,i=null,a=null,s=!1,l=0;function c(){return l===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(p,c())},x)}function h(){a&&clearTimeout(a)}function p(x,...b){if(u){h();return}if(x){h(),d.call(null,x,...b);return}if(c()||s){h(),d.call(null,x,...b);return}r<64&&(r*=2);let _;l===1?(l=2,_=0):_=(r+Math.random())*1e3,f(_)}let y=!1;function g(x){y||(y=!0,h(),!u&&(i!==null?(x||(l=2),clearTimeout(i),f(0)):x||(l=1)))}return f(0),a=setTimeout(()=>{s=!0,g(!0)},n),g}function vZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){return t!==void 0}function bZ(t){return typeof t=="object"&&!Array.isArray(t)}function NS(t){return typeof t=="string"||t instanceof String}function pC(t){return TS()&&t instanceof Blob}function TS(){return typeof Blob<"u"}function gC(t,e,n,r){if(r<e)throw Dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function J3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e,n,r,i,a,s,l,c,u,d,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ap(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const l=a.getErrorCode()===ul.NO_ERROR,c=a.getStatus();if(!l||wZ(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===ul.ABORT;r(!1,new Ap(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ap(u,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());xZ(c)?a(c):a()}catch(c){s(c)}else if(l!==null){const c=ES();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Z3():lZ();s(c)}else{const c=oZ();s(c)}};this.canceled_?n(!1,new Ap(!1,null,!0)):this.backoffId_=yZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ap{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NZ(t,e,n,r,i,a,s=!0,l=!1){const c=J3(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return AZ(d,e),jZ(d,n),SZ(d,a),EZ(d,r),new _Z(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OZ(...t){const e=TZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(TS())return new Blob(t);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){if(typeof atob>"u")throw mZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ob{constructor(e,n){this.data=e,this.contentType=n||null}}function IZ(t,e){switch(t){case ta.RAW:return new Ob(eL(e));case ta.BASE64:case ta.BASE64URL:return new Ob(tL(t,e));case ta.DATA_URL:return new Ob(RZ(e),MZ(e))}throw ES()}function eL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function PZ(t){let e;try{e=decodeURIComponent(t)}catch{throw $f(ta.DATA_URL,"Malformed data URL.")}return eL(e)}function tL(t,e){switch(t){case ta.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw $f(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ta.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw $f(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kZ(e)}catch(i){throw i.message.includes("polyfill")?i:$f(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $f(ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=DZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RZ(t){const e=new nL(t);return e.base64?tL(ta.BASE64,e.rest):PZ(e.rest)}function MZ(t){return new nL(t).contentType}function DZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){let r=0,i="";pC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pC(this.data_)){const r=this.data_,i=CZ(r,e,n);return i===null?null:new Rs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Rs(r,!0)}}static getBlob(...e){if(TS()){const n=e.map(r=>r instanceof Rs?r.data_:r);return new Rs(OZ.apply(null,n))}else{const n=e.map(s=>NS(s)?IZ(ta.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[a++]=s[l]}),new Rs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){let e;try{e=JSON.parse(t)}catch{return null}return bZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(t,e){return e}class ur{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||BZ}}let Ep=null;function UZ(t){return!NS(t)||t.length<2?t:iL(t)}function aL(){if(Ep)return Ep;const t=[];t.push(new ur("bucket")),t.push(new ur("generation")),t.push(new ur("metageneration")),t.push(new ur("name","fullPath",!0));function e(a,s){return UZ(s)}const n=new ur("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new ur("size");return i.xform=r,t.push(i),t.push(new ur("timeCreated")),t.push(new ur("updated")),t.push(new ur("md5Hash",null,!0)),t.push(new ur("cacheControl",null,!0)),t.push(new ur("contentDisposition",null,!0)),t.push(new ur("contentEncoding",null,!0)),t.push(new ur("contentLanguage",null,!0)),t.push(new ur("contentType",null,!0)),t.push(new ur("metadata","customMetadata",!0)),Ep=t,Ep}function VZ(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Kr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function zZ(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return VZ(r,t),r}function sL(t,e,n){const r=rL(e);return r===null?null:zZ(t,r,n)}function FZ(t,e,n,r){const i=rL(e);if(i===null||!NS(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,f=t.fullPath,h="/b/"+s(d)+"/o/"+s(f),p=OS(h,n,r),y=J3({alt:"media",token:u});return p+y})[0]}function HZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class oL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){if(!t)throw ES()}function qZ(t,e){function n(r,i){const a=sL(t,i,e);return lL(a!==null),a}return n}function GZ(t,e){function n(r,i){const a=sL(t,i,e);return lL(a!==null),FZ(a,i,t.host,t._protocol)}return n}function cL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=aZ():i=iZ():n.getStatus()===402?i=rZ(t.bucket):n.getStatus()===403?i=sZ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function WZ(t){const e=cL(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=nZ(t.path)),a.serverResponse=i.serverResponse,a}return n}function KZ(t,e,n){const r=e.fullServerUrl(),i=OS(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,l=new oL(i,a,GZ(t,n),s);return l.errorHandler=WZ(e),l}function XZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XZ(null,e)),r}function QZ(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let N=0;N<2;N++)_=_+Math.random().toString().slice(2);return _}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const u=YZ(e,r,i),d=HZ(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=Rs.getBlob(f,r,h);if(p===null)throw fZ();const y={name:u.fullPath},g=OS(a,t.host,t._protocol),x="POST",b=t.maxUploadRetryTime,v=new oL(g,x,qZ(t,n),b);return v.urlParams=y,v.headers=s,v.body=p.uploadData(),v.errorHandler=cL(e),v}class ZZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw zd("cannot .send() more than once");if(vo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JZ extends ZZ{initXhr(){this.xhr_.responseType="text"}}function uL(){return new JZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this._service=e,n instanceof Kr?this._location=n:this._location=Kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sl(e,n)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iL(this._location.path)}get storage(){return this._service}get parent(){const e=$Z(this._location.path);if(e===null)return null;const n=new Kr(this._location.bucket,e);return new Sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pZ(e)}}function eJ(t,e,n){t._throwIfRoot("uploadBytes");const r=QZ(t.storage,t._location,aL(),new Rs(e,!0),n);return t.storage.makeRequestWithTokens(r,uL).then(i=>({metadata:i,ref:t}))}function tJ(t){t._throwIfRoot("getDownloadURL");const e=KZ(t.storage,t._location,aL());return t.storage.makeRequestWithTokens(e,uL).then(n=>{if(n===null)throw hZ();return n})}function nJ(t,e){const n=LZ(t._location.path,e),r=new Kr(t._location.bucket,n);return new Sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(t){return/^[A-Za-z]+:\/\//.test(t)}function iJ(t,e){return new Sl(t,e)}function dL(t,e){if(t instanceof CS){const n=t;if(n._bucket==null)throw dZ();const r=new Sl(n,n._bucket);return e!=null?dL(r,e):r}else return e!==void 0?nJ(t,e):t}function aJ(t,e){if(e&&rJ(e)){if(t instanceof CS)return iJ(t,e);throw Dw("To use ref(service, url), the first argument must be a Storage instance.")}else return dL(t,e)}function yC(t,e){const n=e==null?void 0:e[Q3];return n==null?null:Kr.makeFromBucketSpec(n,t)}function sJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=vo(e);i&&(jj(`https://${t.host}/b`),Sj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:c6(a,t.app.options.projectId))}class CS{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Y3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eZ,this._maxUploadRetryTime=tZ,this._requests=new Set,i!=null?this._bucket=Kr.makeFromBucketSpec(i,this._host):this._bucket=yC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=yC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new gZ(Z3());{const s=NZ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vC="@firebase/storage",xC="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="storage";function hL(t,e,n){return t=Wt(t),eJ(t,e,n)}function mL(t){return t=Wt(t),tJ(t)}function pL(t,e){return t=Wt(t),aJ(t,e)}function oJ(t=H0(),e){t=Wt(t);const r=xo(t,fL).getImmediate({identifier:e}),i=s6("storage");return i&&lJ(r,...i),r}function lJ(t,e,n,r={}){sJ(t,e,n,r)}function cJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new CS(n,r,i,e,Ll)}function uJ(){Ui(new _i(fL,cJ,"PUBLIC").setMultipleInstances(!0)),Or(vC,xC,""),Or(vC,xC,"esm2017")}uJ();const dJ={apiKey:"AIzaSyCs378LldkmXoZ3w9aPQEj-gJ1XgzFzhD0",authDomain:"consignment-store-4a564.firebaseapp.com",projectId:"consignment-store-4a564",storageBucket:"consignment-store-4a564.firebasestorage.app",messagingSenderId:"723799732977",appId:"1:723799732977:web:fa12372a7a91682807af50",measurementId:"G-K6DPX8D0SD"},xv=g6(dJ);YQ(xv);const De=xY(xv),Cb=_W(xv),gL=oJ(xv),fJ=new Pa,Tt=async(t,e,n,r,i)=>{if(t)try{const a={userId:t.uid,userName:t.displayName||"Anonymous",userEmail:t.email||"",action:e,details:n,timestamp:gv(),itemId:r,itemTitle:i,userAgent:navigator.userAgent,isAdmin:t.email==="stuartjamessmith@gmail.com"};await pu(ct(De,"actionLogs"),a)}catch(a){console.error("Error logging user action:",a)}},hJ=async()=>{try{console.log("Attempting to fetch action logs...");let t;try{t=Ft(ct(De,"actionLogs"),od("timestamp","desc"))}catch(r){console.warn("Could not create ordered query, using simple query:",r),t=Ft(ct(De,"actionLogs"))}const e=await Dt(t);console.log("Retrieved",e.docs.length,"action log documents");const n=e.docs.map(r=>{const i=r.data();return console.log("Retrieved log:",r.id,i.action,i.timestamp),{id:r.id,...i}});return n.sort((r,i)=>{var l,c;const a=(l=r.timestamp)!=null&&l.toDate?r.timestamp.toDate().getTime():0;return((c=i.timestamp)!=null&&c.toDate?i.timestamp.toDate().getTime():0)-a}),n}catch(t){throw console.error("Error getting action logs:",t),new Error("Failed to get action logs")}},yL=t=>{try{console.log("Setting up action logs subscription...");let e;try{e=Ft(ct(De,"actionLogs"),od("timestamp","desc"))}catch(n){console.warn("Could not create ordered query, falling back to unordered:",n),e=Ft(ct(De,"actionLogs"))}return Rw(e,n=>{try{console.log("Received snapshot with",n.docs.length,"documents");const r=n.docs.map(i=>{const a=i.data();return console.log("Processing log:",i.id,a.action,a.timestamp),{id:i.id,...a}});r.sort((i,a)=>{var c,u;const s=(c=i.timestamp)!=null&&c.toDate?i.timestamp.toDate().getTime():0;return((u=a.timestamp)!=null&&u.toDate?a.timestamp.toDate().getTime():0)-s}),console.log("Calling callback with",r.length,"processed logs"),t(r)}catch(r){console.error("Error processing action logs snapshot:",r),t([])}},n=>{console.error("Error subscribing to action logs:",n),console.log("Attempting fallback query...");const r=Ft(ct(De,"actionLogs"));return Rw(r,i=>{try{const a=i.docs.map(s=>({id:s.id,...s.data()}));t(a)}catch(a){console.error("Fallback query also failed:",a),t([])}})})}catch(e){return console.error("Error setting up action logs subscription:",e),()=>{}}},jo=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!0),[i,a]=C.useState(!1);C.useEffect(()=>{const f=uG(Cb,async h=>{try{const p=localStorage.getItem("phoneUserSession"),y=localStorage.getItem("phoneUser");if(p==="active"&&y){const g=JSON.parse(y);console.log("Loading phone user from session:",g),e(g),r(!1);return}h?(console.log("Loading Firebase user:",h.uid),await s(h),e(h)):e(null)}catch(p){console.error("Error in auth state change:",p),e(null)}finally{r(!1)}});return()=>f()},[]),C.useEffect(()=>{if(t){const f=localStorage.getItem(`adminMode_${t.uid}`);a(f==="true")}},[t]);const s=async f=>{try{const h=Wn(De,"users",f.uid),p=await kY(h),y={email:f.email||"",displayName:f.displayName,photoURL:f.photoURL||"",phoneNumber:"phoneNumber"in f?f.phoneNumber:"",isPhoneUser:"isPhoneUser"in f?f.isPhoneUser:!1,lastSignIn:new Date};p.exists()?await sC(h,y,{merge:!0}):await sC(h,{...y,createdAt:new Date})}catch(h){console.error("Error storing user data:",h)}};return{user:t,loading:n,signInWithGoogle:async()=>{try{const f=await kG(Cb,fJ);return await Tt(f.user,"user_login","User logged in with Google"),f.user}catch(f){throw console.error("Error signing in with Google:",f),f}},signInWithPhone:async f=>{try{const h=f.replace(/\D/g,"");if(h.length!==10)throw new Error("Please enter a valid 10-digit phone number");const p=`+1${h}`;console.log("Attempting phone sign-in with:",p);const g={uid:`phone_${h}_${Date.now()}`,phoneNumber:p,displayName:`📱 ${f}`,email:void 0,photoURL:void 0,isPhoneUser:!0};return console.log("Created phone user object:",g),localStorage.setItem("phoneUser",JSON.stringify(g)),localStorage.setItem("phoneUserSession","active"),await s(g),e(g),await Tt(g,"user_login","User logged in with phone number"),console.log("Phone authentication completed successfully"),g}catch(h){throw console.error("Error signing in with phone:",h),h instanceof Error?h.message.includes("phone number")?new Error("Please enter a valid phone number"):h.message.includes("auth")?new Error("Authentication service is currently unavailable. Please try again later."):new Error(`Sign-in failed: ${h.message}`):new Error("Phone sign-in failed. Please try again.")}},logout:async()=>{try{t&&await Tt(t,"user_logout","User logged out"),localStorage.getItem("phoneUserSession")==="active"?(localStorage.removeItem("phoneUser"),localStorage.removeItem("phoneUserSession"),console.log("Phone user logged out")):await dG(Cb),t&&localStorage.removeItem(`adminMode_${t.uid}`),e(null),a(!1)}catch(f){throw console.error("Error signing out:",f),f}},isAuthenticated:!!t,isAdmin:i,toggleAdmin:()=>{if(t){const f=!i;a(f),localStorage.setItem(`adminMode_${t.uid}`,f.toString()),console.log(`Toggling admin mode: ${i} → ${f}. Refreshing page...`),setTimeout(()=>{window.location.reload()},100)}}}},Am=(t={})=>{const{delay:e=2e3,preventDoubleClick:n=!0,resetOnSuccess:r=!0}=t,[i,a]=C.useState({isThrottled:!1,lastAction:null,isProcessing:!1}),s=C.useRef(null),l=C.useRef(new Set),c=C.useCallback(async(p,y,g)=>{const x=(g==null?void 0:g.customDelay)??e,b=(g==null?void 0:g.allowSameAction)??!1;if(l.current.has(p))return console.log(`Action "${p}" is already processing, ignoring duplicate`),null;if(n&&!b&&i.lastAction===p)return console.log(`Preventing duplicate action: "${p}"`),null;if(i.isThrottled)return console.log(`Actions are throttled, ignoring: "${p}"`),null;try{l.current.add(p),a(_=>({..._,isThrottled:!0,lastAction:p,isProcessing:!0})),s.current&&clearTimeout(s.current);const v=await y();return a(r?_=>({..._,lastAction:null,isProcessing:!1}):_=>({..._,isProcessing:!1})),s.current=setTimeout(()=>{a(_=>({..._,isThrottled:!1}))},x),v}catch(v){throw a(_=>({..._,isProcessing:!1})),s.current=setTimeout(()=>{a(_=>({..._,isThrottled:!1}))},x),v}finally{l.current.delete(p)}},[e,n,r,i.isThrottled,i.lastAction]),u=C.useCallback(p=>i.isThrottled||l.current.has(p)||n&&i.lastAction===p,[i.isThrottled,i.lastAction,n]),d=C.useCallback(p=>l.current.has(p),[]),f=C.useCallback(()=>{s.current&&clearTimeout(s.current),l.current.clear(),a({isThrottled:!1,lastAction:null,isProcessing:!1})},[]),h=C.useCallback(p=>{p&&l.current.delete(p),a(y=>({...y,isThrottled:!1,isProcessing:!1,lastAction:p?null:y.lastAction}))},[]);return{throttledAction:c,isActionDisabled:u,isActionProcessing:d,isThrottled:i.isThrottled,isProcessing:i.isProcessing,lastAction:i.lastAction,reset:f,forceEnable:h}},kS=()=>Am({delay:3e3,preventDoubleClick:!0,resetOnSuccess:!0}),IS=()=>Am({delay:2e3,preventDoubleClick:!0,resetOnSuccess:!0}),vL=C.createContext(void 0),mJ=({children:t})=>{const[e,n]=C.useState([]),[r,i]=C.useState([]),[a,s]=C.useState(!1),[l,c]=C.useState(null),u=C.useRef(!1),d=C.useRef(null),{throttledAction:f,isActionDisabled:h,isActionProcessing:p}=IS(),y=C.useCallback(I=>({cart:I?`shopping_cart_${I}`:"shopping_cart_guest",bookmarks:I?`bookmarked_items_${I}`:"bookmarked_items_guest"}),[]),g=C.useCallback(I=>{if(u.current||d.current===I)return;u.current=!0,d.current=I;const $=y(I),L=localStorage.getItem($.cart),U=localStorage.getItem($.bookmarks);if(L)try{const z=JSON.parse(L).map(V=>({...V,addedAt:new Date(V.addedAt)}));n(z)}catch(D){console.error("Error loading cart from localStorage:",D),n([])}else n([]);if(U)try{const D=JSON.parse(U);i(D)}catch(D){console.error("Error loading bookmarks from localStorage:",D),i([])}else i([]);u.current=!1},[y]);C.useEffect(()=>{a||(g(null),s(!0))},[g,a]),C.useEffect(()=>{if(a&&!u.current){const I=y(l);localStorage.setItem(I.cart,JSON.stringify(e))}},[e,a,l,y]),C.useEffect(()=>{if(a&&!u.current){const I=y(l);localStorage.setItem(I.bookmarks,JSON.stringify(r))}},[r,a,l,y]);const x=C.useCallback(I=>{l!==I&&(c(I),g(I))},[l,g]),b=C.useCallback(async(I,$,L=1)=>{await f(`add-to-cart-${I.id}`,async()=>{if($&&await Tt($,"cart_updated","Added item to cart",I.id,I.title),!(e.findIndex(D=>D.item.id===I.id)>=0)){const D={item:I,quantity:1,addedAt:new Date};n(z=>[...z,D])}})},[e,f]),v=C.useCallback(async(I,$)=>{const L=e.find(U=>U.item.id===I);$&&L&&await Tt($,"cart_updated","Removed item from cart",L.item.id,L.item.title),n(U=>U.filter(D=>D.item.id!==I))},[e]),_=C.useCallback(async(I,$,L)=>{if($<=0){await v(I,L);return}const U=e.find(D=>D.item.id===I);L&&U&&await Tt(L,"cart_updated",`Updated item quantity to ${$}`,U.item.id,U.item.title),n(D=>D.map(z=>z.item.id===I?{...z,quantity:$}:z))},[e,v]),N=C.useCallback(async I=>{I&&await Tt(I,"cart_updated",`Cleared cart with ${e.length} items`),n([])},[e]),j=C.useCallback(I=>e.some($=>$.item.id===I),[e]),A=C.useCallback(I=>{const $=e.find(L=>L.item.id===I);return($==null?void 0:$.quantity)||0},[e]),w=C.useCallback(async(I,$)=>{const L=r.includes(I);$&&await Tt($,"item_bookmarked",L?"Removed bookmark":"Added bookmark",I),i(U=>U.includes(I)?U.filter(D=>D!==I):[...U,I])},[r]),S=C.useCallback(I=>r.includes(I),[r]),T=C.useCallback(()=>e.reduce((I,$)=>I+$.item.price*$.quantity,0),[e]),P=C.useCallback(()=>e.reduce((I,$)=>I+$.quantity,0),[e]),O=C.useCallback(()=>r.length,[r]),R={cartItems:e,bookmarkedItems:r,addToCart:b,removeFromCart:v,updateQuantity:_,clearCart:N,isInCart:j,getCartItemQuantity:A,toggleBookmark:w,isBookmarked:S,getCartTotal:T,getCartItemCount:P,getBookmarkCount:O,switchUser:x,isCartActionDisabled:h,isCartActionProcessing:p};return o.jsx(vL.Provider,{value:R,children:t})},ld=()=>{const t=C.useContext(vL);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},pJ=({item:t,isAdmin:e=!1,onClick:n})=>{const[r,i]=C.useState(0),a=()=>{i(u=>(u+1)%t.images.length)},s=()=>{i(u=>(u-1+t.images.length)%t.images.length)},l=()=>{n&&n(t)},c=u=>{u.stopPropagation()};return o.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer",onClick:l,children:[o.jsx("div",{className:"relative h-48 bg-gray-200",children:t.images.length>0?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:t.images[r],alt:t.title,className:"w-full h-full object-cover"}),t.images.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:u=>{c(u),s()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:u=>{c(u),a()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),o.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.images.map((u,d)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${d===r?"bg-white":"bg-white bg-opacity-50"}`},d))})]})]}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:t.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.description}),(t.category||t.brand||t.size||t.condition||t.color)&&o.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-md",children:o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.category&&o.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.category}),t.brand&&o.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:t.brand}),t.size&&o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["Size ",t.size]}),t.condition&&o.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t.condition}),t.gender&&o.jsx("span",{className:"bg-pink-100 text-pink-800 px-2 py-1 rounded-full",children:t.gender}),t.color&&o.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full",children:t.color})]})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.price.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.sellerName]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[o.jsxs("span",{children:["Listed ",new Date(t.createdAt).toLocaleDateString()]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="live"?"bg-green-100 text-green-800":t.status==="approved"?"bg-blue-100 text-blue-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]})})]})]})},gJ=({isOpen:t,onClose:e,user:n})=>{const[r,i]=C.useState(""),[a,s]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState([]),[f,h]=C.useState(!1),[p,y]=C.useState(!1),[g,x]=C.useState(!1),{throttledAction:b}=IS(),[v,_]=C.useState(""),[N,j]=C.useState(""),[A,w]=C.useState(""),[S,T]=C.useState(""),[P,O]=C.useState(""),[R,I]=C.useState(""),[$,L]=C.useState("");if(!t)return null;const U=F=>{if(F.target.files){const te=Array.from(F.target.files);d(H=>[...H,...te].slice(0,5))}},D=F=>{d(te=>te.filter((H,ue)=>ue!==F))},z=async F=>{const te=F.map(async(H,ue)=>{const oe=`items/${n==null?void 0:n.uid}/${Date.now()}_${ue}_${H.name}`,ge=pL(gL,oe);try{const G=await hL(ge,H);return await mL(G.ref)}catch(G){throw console.error("Error uploading image:",G),G}});return Promise.all(te)},V=()=>{if(!r.trim()||!a.trim()||!l.trim()||u.length===0){alert("Please fill in all required fields before previewing");return}const F=parseFloat(l);if(isNaN(F)||F<=0){alert("Please enter a valid price greater than 0");return}y(!0)},X=async()=>{n&&await b("submit-item",async()=>{h(!0);try{const F=await z(u),te={title:r.trim(),description:a.trim(),price:parseFloat(l),images:F,sellerId:n.uid,sellerName:n.displayName||"Anonymous",sellerEmail:n.email||("phoneNumber"in n?n.phoneNumber:""),status:"pending",createdAt:gv()};v&&v.trim()&&(te.category=v.trim()),N&&N.trim()&&(te.gender=N),A&&A.trim()&&(te.size=A.trim()),S&&S.trim()&&(te.brand=S.trim()),P&&P.trim()&&(te.condition=P),R&&R.trim()&&(te.material=R.trim()),$&&$.trim()&&(te.color=$.trim());const H=await pu(ct(De,"items"),te);await Tt(n,"item_listed","Listed new item for consignment",H.id,r.trim()),x(!0),y(!1)}catch(F){console.error("Error adding item:",F),alert("Error adding item. Please try again."),h(!1)}})},Y=()=>{i(""),s(""),c(""),d([]),y(!1),x(!1),h(!1),_(""),j(""),w(""),T(""),O(""),I(""),L("")},K=()=>{Y(),e()};return g?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Item Submitted Successfully!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your item has been submitted for review. Please bring the physical item to the front desk so our team can inspect and approve it."}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Next Steps:"}),o.jsx("br",{}),"1. Bring your item to the front desk",o.jsx("br",{}),"2. Our team will inspect and approve it",o.jsx("br",{}),"3. Then it goes live for all customers"]})}),o.jsx("button",{onClick:K,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Got it!"})]})})}):p?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Preview Item"}),o.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"relative h-64 bg-gray-200",children:[u.length>0&&o.jsx("img",{src:URL.createObjectURL(u[0]),alt:"Preview",className:"w-full h-full object-cover"}),u.length>1&&o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:["+",u.length-1," more"]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:r}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",parseFloat(l).toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["by ",n==null?void 0:n.displayName]})]}),(v||N||A||S||P||R||$)&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Item Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[v&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Category:"})," ",o.jsx("span",{className:"font-medium",children:v})]}),N&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Gender:"})," ",o.jsx("span",{className:"font-medium",children:N})]}),A&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Size:"})," ",o.jsx("span",{className:"font-medium",children:A})]}),S&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Brand:"})," ",o.jsx("span",{className:"font-medium",children:S})]}),P&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",o.jsx("span",{className:"font-medium",children:P})]}),R&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Material:"})," ",o.jsx("span",{className:"font-medium",children:R})]}),$&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Color:"})," ",o.jsx("span",{className:"font-medium",children:$})]})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"pending review"})})]})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx("button",{onClick:()=>y(!1),disabled:f,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-colors",children:"Edit"}),o.jsx("button",{onClick:X,disabled:f,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Confirm & Submit"})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Item for Consignment"}),o.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Title *"}),o.jsx("input",{type:"text",id:"title",value:r,onChange:F=>i(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{id:"description",value:a,onChange:F=>s(F.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe your item in detail...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Asking Price *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),o.jsx("input",{type:"text",id:"price",value:l,onChange:F=>{const te=F.target.value;(te===""||/^\d*\.?\d*$/.test(te))&&c(te)},className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details (Optional but Recommended)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{id:"category",value:v,onChange:F=>_(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),o.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),o.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),o.jsx("option",{value:"Camping",children:"Camping ⛺"}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),o.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),o.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),o.jsx("option",{value:"Apparel",children:"Apparel 👕"}),o.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{id:"gender",value:N,onChange:F=>j(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),o.jsxs("select",{id:"size",value:A,onChange:F=>w(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsx("input",{type:"text",id:"brand",value:S,onChange:F=>T(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Patagonia, REI, North Face"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),o.jsxs("select",{id:"condition",value:P,onChange:F=>O(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Condition"}),o.jsx("option",{value:"New",children:"New - Never used"}),o.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),o.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),o.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-700 mb-2",children:"Material/Fabric"}),o.jsx("input",{type:"text",id:"material",value:R,onChange:F=>I(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Gore-Tex, Merino Wool, Cotton"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("select",{id:"color",value:$,onChange:F=>L(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Color"}),o.jsx("option",{value:"Black",children:"Black"}),o.jsx("option",{value:"White",children:"White"}),o.jsx("option",{value:"Gray",children:"Gray"}),o.jsx("option",{value:"Red",children:"Red"}),o.jsx("option",{value:"Blue",children:"Blue"}),o.jsx("option",{value:"Green",children:"Green"}),o.jsx("option",{value:"Yellow",children:"Yellow"}),o.jsx("option",{value:"Orange",children:"Orange"}),o.jsx("option",{value:"Purple",children:"Purple"}),o.jsx("option",{value:"Pink",children:"Pink"}),o.jsx("option",{value:"Brown",children:"Brown"}),o.jsx("option",{value:"Navy",children:"Navy"}),o.jsx("option",{value:"Burgundy",children:"Burgundy"}),o.jsx("option",{value:"Olive",children:"Olive"}),o.jsx("option",{value:"Tan",children:"Tan"}),o.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos * (Max 5)"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:U,className:"hidden",id:"image-upload",disabled:u.length>=5}),o.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${u.length>=5?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("span",{className:"text-gray-600",children:u.length>=5?"Maximum 5 images reached":"Click to add photos"})]})]}),u.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:u.map((F,te)=>o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:URL.createObjectURL(F),alt:`Preview ${te+1}`,className:"w-full h-24 object-cover rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>D(te),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},te))})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:K,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:V,disabled:!r.trim()||!a.trim()||!l.trim()||u.length===0,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Preview Item"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your item will be reviewed by our team before appearing in the store."})]})]})})};var PS={},bv={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var vJ=function t(e,n){yJ(this,t),this.data=e,this.text=n.text||e,this.options=n};xr.default=vJ;Object.defineProperty(bv,"__esModule",{value:!0});bv.CODE39=void 0;var xJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bJ=xr,wJ=_J(bJ);function _J(t){return t&&t.__esModule?t:{default:t}}function jJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var EJ=function(t){AJ(e,t);function e(n,r){return jJ(this,e),n=n.toUpperCase(),r.mod43&&(n+=OJ(CJ(n))),SJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return xJ(e,[{key:"encode",value:function(){for(var r=kb("*"),i=0;i<this.data.length;i++)r+=kb(this.data[i])+"0";return r+=kb("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(wJ.default),xL=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],NJ=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function kb(t){return TJ(bL(t))}function TJ(t){return NJ[t].toString(2)}function OJ(t){return xL[t]}function bL(t){return xL.indexOf(t)}function CJ(t){for(var e=0,n=0;n<t.length;n++)e+=bL(t[n]);return e=e%43,e}bv.CODE39=EJ;var na={},RS={},cd={},Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var Fd;function Ib(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wL=Lt.SET_A=0,_L=Lt.SET_B=1,jL=Lt.SET_C=2;Lt.SHIFT=98;var kJ=Lt.START_A=103,IJ=Lt.START_B=104,PJ=Lt.START_C=105;Lt.MODULO=103;Lt.STOP=106;Lt.FNC1=207;Lt.SET_BY_CODE=(Fd={},Ib(Fd,kJ,wL),Ib(Fd,IJ,_L),Ib(Fd,PJ,jL),Fd);Lt.SWAP={101:wL,100:_L,99:jL};Lt.A_START_CHAR="Ð";Lt.B_START_CHAR="Ñ";Lt.C_START_CHAR="Ò";Lt.A_CHARS="[\0-_È-Ï]";Lt.B_CHARS="[ -È-Ï]";Lt.C_CHARS="(Ï*[0-9]{2}Ï*)";Lt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(cd,"__esModule",{value:!0});var RJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),MJ=xr,DJ=$J(MJ),Lr=Lt;function $J(t){return t&&t.__esModule?t:{default:t}}function LJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function UJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var VJ=function(t){UJ(e,t);function e(n,r){LJ(this,e);var i=BJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(a){return a.charCodeAt(0)}),i}return RJ(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,a=Lr.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(Lr.FNC1);var s=e.next(r,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+s.result+e.getBar((s.checksum+i)%Lr.MODULO)+e.getBar(Lr.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return Lr.BARS[r]?Lr.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===Lr.SET_A){var a=r.shift();return a<32?a+64:a-32}else return i===Lr.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,a){if(!r.length)return{result:"",checksum:0};var s=void 0,l=void 0;if(r[0]>=200){l=r.shift()-105;var c=Lr.SWAP[l];c!==void 0?s=e.next(r,i+1,c):((a===Lr.SET_A||a===Lr.SET_B)&&l===Lr.SHIFT&&(r[0]=a===Lr.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,i+1,a))}else l=e.correctIndex(r,a),s=e.next(r,i+1,a);var u=e.getBar(l),d=l*i;return{result:u+s.result,checksum:d+s.checksum}}}]),e}(DJ.default);cd.default=VJ;var MS={};Object.defineProperty(MS,"__esModule",{value:!0});var to=Lt,SL=function(e){return e.match(new RegExp("^"+to.A_CHARS+"*"))[0].length},AL=function(e){return e.match(new RegExp("^"+to.B_CHARS+"*"))[0].length},EL=function(e){return e.match(new RegExp("^"+to.C_CHARS+"*"))[0]};function DS(t,e){var n=e?to.A_CHARS:to.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"Ì"+NL(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+DS(t.substring(i.length),!e)}function NL(t){var e=EL(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=SL(t)>=AL(t);return e+String.fromCharCode(r?206:205)+DS(t,r)}MS.default=function(t){var e=void 0,n=EL(t).length;if(n>=2)e=to.C_START_CHAR+NL(t);else{var r=SL(t)>AL(t);e=(r?to.A_START_CHAR:to.B_START_CHAR)+DS(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return"Ë"+a})};Object.defineProperty(RS,"__esModule",{value:!0});var zJ=cd,FJ=TL(zJ),HJ=MS,qJ=TL(HJ);function TL(t){return t&&t.__esModule?t:{default:t}}function GJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function WJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var KJ=function(t){WJ(e,t);function e(n,r){if(GJ(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=Pb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,qJ.default)(n),r));else var i=Pb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Pb(i)}return e}(FJ.default);RS.default=KJ;var $S={};Object.defineProperty($S,"__esModule",{value:!0});var XJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),YJ=cd,QJ=ZJ(YJ),bC=Lt;function ZJ(t){return t&&t.__esModule?t:{default:t}}function JJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nee=function(t){tee(e,t);function e(n,r){return JJ(this,e),eee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,bC.A_START_CHAR+n,r))}return XJ(e,[{key:"valid",value:function(){return new RegExp("^"+bC.A_CHARS+"+$").test(this.data)}}]),e}(QJ.default);$S.default=nee;var LS={};Object.defineProperty(LS,"__esModule",{value:!0});var ree=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iee=cd,aee=see(iee),wC=Lt;function see(t){return t&&t.__esModule?t:{default:t}}function oee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uee=function(t){cee(e,t);function e(n,r){return oee(this,e),lee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,wC.B_START_CHAR+n,r))}return ree(e,[{key:"valid",value:function(){return new RegExp("^"+wC.B_CHARS+"+$").test(this.data)}}]),e}(aee.default);LS.default=uee;var BS={};Object.defineProperty(BS,"__esModule",{value:!0});var dee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fee=cd,hee=mee(fee),_C=Lt;function mee(t){return t&&t.__esModule?t:{default:t}}function pee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vee=function(t){yee(e,t);function e(n,r){return pee(this,e),gee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,_C.C_START_CHAR+n,r))}return dee(e,[{key:"valid",value:function(){return new RegExp("^"+_C.C_CHARS+"+$").test(this.data)}}]),e}(hee.default);BS.default=vee;Object.defineProperty(na,"__esModule",{value:!0});na.CODE128C=na.CODE128B=na.CODE128A=na.CODE128=void 0;var xee=RS,bee=wv(xee),wee=$S,_ee=wv(wee),jee=LS,See=wv(jee),Aee=BS,Eee=wv(Aee);function wv(t){return t&&t.__esModule?t:{default:t}}na.CODE128=bee.default;na.CODE128A=_ee.default;na.CODE128B=See.default;na.CODE128C=Eee.default;var Ar={},US={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.SIDE_BIN="101";Ai.MIDDLE_BIN="01010";Ai.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Ai.EAN2_STRUCTURE=["LL","LG","GL","GG"];Ai.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Ai.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var _v={},Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});var Nee=Ai,Tee=function(e,n,r){var i=e.split("").map(function(s,l){return Nee.BINARIES[n[l]]}).map(function(s,l){return s?s[e[l]]:""});if(r){var a=e.length-1;i=i.map(function(s,l){return l<a?s+r:s})}return i.join("")};Vl.default=Tee;Object.defineProperty(_v,"__esModule",{value:!0});var Oee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tc=Ai,Cee=Vl,jC=OL(Cee),kee=xr,Iee=OL(kee);function OL(t){return t&&t.__esModule?t:{default:t}}function Pee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ree(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dee=function(t){Mee(e,t);function e(n,r){Pee(this,e);var i=Ree(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Oee(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,jC.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,jC.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:tc.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:tc.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:tc.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[tc.SIDE_BIN,this.leftEncode(),tc.MIDDLE_BIN,this.rightEncode(),tc.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(Iee.default);_v.default=Dee;Object.defineProperty(US,"__esModule",{value:!0});var $ee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hd=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},Lee=Ai,Bee=_v,Uee=Vee(Bee);function Vee(t){return t&&t.__esModule?t:{default:t}}function zee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var SC=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*3:r+i},0);return(10-n%10)%10},qee=function(t){Hee(e,t);function e(n,r){zee(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=SC(n));var i=Fee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return $ee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===SC(this.data)}},{key:"leftText",value:function(){return Hd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=Lee.EAN13_STRUCTURE[this.data[0]];return Hd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Hd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Hd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Hd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(Uee.default);US.default=qee;var VS={};Object.defineProperty(VS,"__esModule",{value:!0});var Gee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Np=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},Wee=_v,Kee=Xee(Wee);function Xee(t){return t&&t.__esModule?t:{default:t}}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var AC=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i:r+i*3},0);return(10-n%10)%10},Jee=function(t){Zee(e,t);function e(n,r){return Yee(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=AC(n)),Qee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Gee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===AC(this.data)}},{key:"leftText",value:function(){return Np(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return Np(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return Np(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return Np(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(Kee.default);VS.default=Jee;var zS={};Object.defineProperty(zS,"__esModule",{value:!0});var ete=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tte=Ai,nte=Vl,rte=CL(nte),ite=xr,ate=CL(ite);function CL(t){return t&&t.__esModule?t:{default:t}}function ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ote(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cte=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*9:r+i*3},0);return n%10},ute=function(t){lte(e,t);function e(n,r){return ste(this,e),ote(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ete(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=tte.EAN5_STRUCTURE[cte(this.data)];return{data:"1011"+(0,rte.default)(this.data,r,"01"),text:this.text}}}]),e}(ate.default);zS.default=ute;var FS={};Object.defineProperty(FS,"__esModule",{value:!0});var dte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fte=Ai,hte=Vl,mte=kL(hte),pte=xr,gte=kL(pte);function kL(t){return t&&t.__esModule?t:{default:t}}function yte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bte=function(t){xte(e,t);function e(n,r){return yte(this,e),vte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return dte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=fte.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,mte.default)(this.data,r,"01"),text:this.text}}}]),e}(gte.default);FS.default=bte;var Em={};Object.defineProperty(Em,"__esModule",{value:!0});var wte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Em.checksum=$w;var _te=Vl,nc=IL(_te),jte=xr,Ste=IL(jte);function IL(t){return t&&t.__esModule?t:{default:t}}function Ate(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ete(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tte=function(t){Nte(e,t);function e(n,r){Ate(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=$w(n));var i=Ete(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return wte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==$w(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,nc.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,nc.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,nc.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,nc.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,nc.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,nc.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(Ste.default);function $w(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Em.default=Tte;var HS={};Object.defineProperty(HS,"__esModule",{value:!0});var Ote=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cte=Vl,kte=PL(Cte),Ite=xr,Pte=PL(Ite),Rte=Em;function PL(t){return t&&t.__esModule?t:{default:t}}function Mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $te=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Lte=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Bte=function(t){Dte(e,t);function e(n,r){Mte(this,e);var i=Rb(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=EC(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=EC(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return Rb(i);else return Rb(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Ote(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],a=Lte[parseInt(i)][parseInt(r)];return(0,kte.default)(this.middleDigits,a)}}]),e}(Pte.default);function EC(t,e){for(var n=parseInt(t[t.length-1]),r=$te[n],i="",a=0,s=0;s<r.length;s++){var l=r[s];l==="X"?i+=t[a++]:i+=l}return i=""+e+i,""+i+(0,Rte.checksum)(i)}HS.default=Bte;Object.defineProperty(Ar,"__esModule",{value:!0});Ar.UPCE=Ar.UPC=Ar.EAN2=Ar.EAN5=Ar.EAN8=Ar.EAN13=void 0;var Ute=US,Vte=ud(Ute),zte=VS,Fte=ud(zte),Hte=zS,qte=ud(Hte),Gte=FS,Wte=ud(Gte),Kte=Em,Xte=ud(Kte),Yte=HS,Qte=ud(Yte);function ud(t){return t&&t.__esModule?t:{default:t}}Ar.EAN13=Vte.default;Ar.EAN8=Fte.default;Ar.EAN5=qte.default;Ar.EAN2=Wte.default;Ar.UPC=Xte.default;Ar.UPCE=Qte.default;var gu={},jv={},Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.START_BIN="1010";Nm.END_BIN="11101";Nm.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(jv,"__esModule",{value:!0});var Zte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Tp=Nm,Jte=xr,ene=tne(Jte);function tne(t){return t&&t.__esModule?t:{default:t}}function nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ane=function(t){ine(e,t);function e(){return nne(this,e),rne(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Zte(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(a){return r.encodePair(a)}).join("");return{data:Tp.START_BIN+i+Tp.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=Tp.BINARIES[r[1]];return Tp.BINARIES[r[0]].split("").map(function(a,s){return(a==="1"?"111":"1")+(i[s]==="1"?"000":"0")}).join("")}}]),e}(ene.default);jv.default=ane;var qS={};Object.defineProperty(qS,"__esModule",{value:!0});var sne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),one=jv,lne=cne(one);function cne(t){return t&&t.__esModule?t:{default:t}}function une(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NC=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,a){return r+i*(3-a%2*2)},0);return Math.ceil(n/10)*10-n},hne=function(t){fne(e,t);function e(n,r){return une(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=NC(n)),dne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return sne(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===NC(this.data)}}]),e}(lne.default);qS.default=hne;Object.defineProperty(gu,"__esModule",{value:!0});gu.ITF14=gu.ITF=void 0;var mne=jv,pne=RL(mne),gne=qS,yne=RL(gne);function RL(t){return t&&t.__esModule?t:{default:t}}gu.ITF=pne.default;gu.ITF14=yne.default;var pi={},zl={};Object.defineProperty(zl,"__esModule",{value:!0});var vne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xne=xr,bne=wne(xne);function wne(t){return t&&t.__esModule?t:{default:t}}function _ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ane=function(t){Sne(e,t);function e(n,r){return _ne(this,e),jne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return vne(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),s=a.toString(2);s=Ene(s,4-s.length);for(var l=0;l<s.length;l++)r+=s[l]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(bne.default);function Ene(t,e){for(var n=0;n<e;n++)t="0"+t;return t}zl.default=Ane;var GS={},Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.mod10=Nne;Fl.mod11=Tne;function Nne(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function Tne(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(GS,"__esModule",{value:!0});var One=zl,Cne=Ine(One),kne=Fl;function Ine(t){return t&&t.__esModule?t:{default:t}}function Pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dne=function(t){Mne(e,t);function e(n,r){return Pne(this,e),Rne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,kne.mod10)(n),r))}return e}(Cne.default);GS.default=Dne;var WS={};Object.defineProperty(WS,"__esModule",{value:!0});var $ne=zl,Lne=Une($ne),Bne=Fl;function Une(t){return t&&t.__esModule?t:{default:t}}function Vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hne=function(t){Fne(e,t);function e(n,r){return Vne(this,e),zne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Bne.mod11)(n),r))}return e}(Lne.default);WS.default=Hne;var KS={};Object.defineProperty(KS,"__esModule",{value:!0});var qne=zl,Gne=Wne(qne),TC=Fl;function Wne(t){return t&&t.__esModule?t:{default:t}}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qne=function(t){Yne(e,t);function e(n,r){return Kne(this,e),n+=(0,TC.mod10)(n),n+=(0,TC.mod10)(n),Xne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Gne.default);KS.default=Qne;var XS={};Object.defineProperty(XS,"__esModule",{value:!0});var Zne=zl,Jne=ere(Zne),OC=Fl;function ere(t){return t&&t.__esModule?t:{default:t}}function tre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ire=function(t){rre(e,t);function e(n,r){return tre(this,e),n+=(0,OC.mod11)(n),n+=(0,OC.mod10)(n),nre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Jne.default);XS.default=ire;Object.defineProperty(pi,"__esModule",{value:!0});pi.MSI1110=pi.MSI1010=pi.MSI11=pi.MSI10=pi.MSI=void 0;var are=zl,sre=Tm(are),ore=GS,lre=Tm(ore),cre=WS,ure=Tm(cre),dre=KS,fre=Tm(dre),hre=XS,mre=Tm(hre);function Tm(t){return t&&t.__esModule?t:{default:t}}pi.MSI=sre.default;pi.MSI10=lre.default;pi.MSI11=ure.default;pi.MSI1010=fre.default;pi.MSI1110=mre.default;var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.pharmacode=void 0;var pre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gre=xr,yre=vre(gre);function vre(t){return t&&t.__esModule?t:{default:t}}function xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _re=function(t){wre(e,t);function e(n,r){xre(this,e);var i=bre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return pre(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(yre.default);Sv.pharmacode=_re;var Av={};Object.defineProperty(Av,"__esModule",{value:!0});Av.codabar=void 0;var jre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Sre=xr,Are=Ere(Sre);function Ere(t){return t&&t.__esModule?t:{default:t}}function Nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ore(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cre=function(t){Ore(e,t);function e(n,r){Nre(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=Tre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return jre(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),a=0;a<this.data.length;a++)r.push(i[this.data.charAt(a)]),a!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(Are.default);Av.codabar=Cre;var yu={},Ev={},Om={};Object.defineProperty(Om,"__esModule",{value:!0});Om.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"];Om.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Om.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(Ev,"__esModule",{value:!0});var kre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Op=Om,Ire=xr,Pre=Rre(Ire);function Rre(t){return t&&t.__esModule?t:{default:t}}function Mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lre=function(t){$re(e,t);function e(n,r){return Mre(this,e),Dre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return kre(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(l){return Op.MULTI_SYMBOLS[l]||l}),i=r.map(function(l){return e.getEncoding(l)}).join(""),a=e.checksum(r,20),s=e.checksum(r.concat(a),15);return{text:this.text,data:e.getEncoding("ÿ")+i+e.getEncoding(a)+e.getEncoding(s)+e.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return Op.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Op.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Op.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var a=r.slice().reverse().reduce(function(s,l,c){var u=c%i+1;return s+e.symbolValue(l)*u},0);return e.getSymbol(a%47)}}]),e}(Pre.default);Ev.default=Lre;var YS={};Object.defineProperty(YS,"__esModule",{value:!0});var Bre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ure=Ev,Vre=zre(Ure);function zre(t){return t&&t.__esModule?t:{default:t}}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gre=function(t){qre(e,t);function e(n,r){return Fre(this,e),Hre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Bre(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Vre.default);YS.default=Gre;Object.defineProperty(yu,"__esModule",{value:!0});yu.CODE93FullASCII=yu.CODE93=void 0;var Wre=Ev,Kre=ML(Wre),Xre=YS,Yre=ML(Xre);function ML(t){return t&&t.__esModule?t:{default:t}}yu.CODE93=Kre.default;yu.CODE93FullASCII=Yre.default;var Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.GenericBarcode=void 0;var Qre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zre=xr,Jre=eie(Zre);function eie(t){return t&&t.__esModule?t:{default:t}}function tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nie(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iie=function(t){rie(e,t);function e(n,r){return tie(this,e),nie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Qre(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Jre.default);Nv.GenericBarcode=iie;Object.defineProperty(PS,"__esModule",{value:!0});var aie=bv,Cp=na,rc=Ar,CC=gu,qd=pi,sie=Sv,oie=Av,kC=yu,lie=Nv;PS.default={CODE39:aie.CODE39,CODE128:Cp.CODE128,CODE128A:Cp.CODE128A,CODE128B:Cp.CODE128B,CODE128C:Cp.CODE128C,EAN13:rc.EAN13,EAN8:rc.EAN8,EAN5:rc.EAN5,EAN2:rc.EAN2,UPC:rc.UPC,UPCE:rc.UPCE,ITF14:CC.ITF14,ITF:CC.ITF,MSI:qd.MSI,MSI10:qd.MSI10,MSI11:qd.MSI11,MSI1010:qd.MSI1010,MSI1110:qd.MSI1110,pharmacode:sie.pharmacode,codabar:oie.codabar,CODE93:kC.CODE93,CODE93FullASCII:kC.CODE93FullASCII,GenericBarcode:lie.GenericBarcode};var dd={};Object.defineProperty(dd,"__esModule",{value:!0});var cie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};dd.default=function(t,e){return cie({},t,e)};var QS={};Object.defineProperty(QS,"__esModule",{value:!0});QS.default=uie;function uie(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var ZS={};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.default=die;function die(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var JS={},eA={},Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.default=fie;function fie(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});var hie={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Ov.default=hie;Object.defineProperty(eA,"__esModule",{value:!0});var mie=Tv,pie=DL(mie),gie=Ov,IC=DL(gie);function DL(t){return t&&t.__esModule?t:{default:t}}function yie(t){var e={};for(var n in IC.default)IC.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,pie.default)(e),e}eA.default=yie;var tA={},nA={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.getTotalWidthOfEncodings=qr.calculateEncodingAttributes=qr.getBarcodePadding=qr.getEncodingHeight=qr.getMaximumHeightOfEncodings=void 0;var vie=dd,xie=bie(vie);function bie(t){return t&&t.__esModule?t:{default:t}}function $L(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function LL(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function wie(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=(0,xie.default)(e,i.options),s;a.displayValue?s=Sie(i.text,a,n):s=0;var l=i.data.length*a.width;i.width=Math.ceil(Math.max(s,l)),i.height=$L(i,a),i.barcodePadding=LL(s,l,a)}}function _ie(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function jie(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function Sie(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var a=i.width;return a}qr.getMaximumHeightOfEncodings=jie;qr.getEncodingHeight=$L;qr.getBarcodePadding=LL;qr.calculateEncodingAttributes=wie;qr.getTotalWidthOfEncodings=_ie;Object.defineProperty(nA,"__esModule",{value:!0});var Aie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Eie=dd,Nie=Tie(Eie),Mb=qr;function Tie(t){return t&&t.__esModule?t:{default:t}}function Oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Cie=function(){function t(e,n,r){Oie(this,t),this.canvas=e,this.encodings=n,this.options=r}return Aie(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,Nie.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Mb.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Mb.getTotalWidthOfEncodings)(this.encodings),i=(0,Mb.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),a=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,i.fillStyle=n.lineColor;for(var l=0;l<a.length;l++){var c=l*n.width+r.barcodePadding;a[l]==="1"?i.fillRect(c,s,n.width,n.height):a[l]&&i.fillRect(c,s,n.width,n.height*a[l])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),a=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,l;n.textPosition=="top"?l=n.marginTop+n.fontSize-n.textMargin:l=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=a,n.textAlign=="left"||r.barcodePadding>0?(s=0,i.textAlign="left"):n.textAlign=="right"?(s=r.width-1,i.textAlign="right"):(s=r.width/2,i.textAlign="center"),i.fillText(r.text,s,l)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();nA.default=Cie;var rA={};Object.defineProperty(rA,"__esModule",{value:!0});var kie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Iie=dd,Pie=Rie(Iie),Db=qr;function Rie(t){return t&&t.__esModule?t:{default:t}}function Mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var kp="http://www.w3.org/2000/svg",Die=function(){function t(e,n,r){Mie(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return kie(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],a=(0,Pie.default)(this.options,i.options),s=this.createGroup(n,a.marginTop,this.svg);this.setGroupOptions(s,a),this.drawSvgBarcode(s,a,i),this.drawSVGText(s,a,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Db.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Db.getTotalWidthOfEncodings)(this.encodings),r=(0,Db.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a=i.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var l=0,c=0,u=0;u<a.length;u++)c=u*r.width+i.barcodePadding,a[u]==="1"?l++:l>0&&(this.drawRect(c-r.width*l,s,r.width*l,r.height,n),l=0);l>0&&this.drawRect(c-r.width*(l-1),s,r.width*l,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a=this.document.createElementNS(kp,"text");if(r.displayValue){var s,l;a.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?l=r.fontSize-r.textMargin:l=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(s=0,a.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=i.width-1,a.setAttribute("text-anchor","end")):(s=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",s),a.setAttribute("y",l),a.appendChild(this.document.createTextNode(i.text)),n.appendChild(a)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",kp),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var a=this.document.createElementNS(kp,"g");return a.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,a,s){var l=this.document.createElementNS(kp,"rect");return l.setAttribute("x",n),l.setAttribute("y",r),l.setAttribute("width",i),l.setAttribute("height",a),s.appendChild(l),l}}]),t}();rA.default=Die;var iA={};Object.defineProperty(iA,"__esModule",{value:!0});var $ie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Bie=function(){function t(e,n,r){Lie(this,t),this.object=e,this.encodings=n,this.options=r}return $ie(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();iA.default=Bie;Object.defineProperty(tA,"__esModule",{value:!0});var Uie=nA,Vie=aA(Uie),zie=rA,Fie=aA(zie),Hie=iA,qie=aA(Hie);function aA(t){return t&&t.__esModule?t:{default:t}}tA.default={CanvasRenderer:Vie.default,SVGRenderer:Fie.default,ObjectRenderer:qie.default};var fd={};Object.defineProperty(fd,"__esModule",{value:!0});function sA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oA(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gie=function(t){lA(e,t);function e(n,r){sA(this,e);var i=oA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),Wie=function(t){lA(e,t);function e(){sA(this,e);var n=oA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),Kie=function(t){lA(e,t);function e(){sA(this,e);var n=oA(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);fd.InvalidInputException=Gie;fd.InvalidElementException=Wie;fd.NoElementException=Kie;Object.defineProperty(JS,"__esModule",{value:!0});var Xie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yie=eA,Lw=BL(Yie),Qie=tA,hf=BL(Qie),Zie=fd;function BL(t){return t&&t.__esModule?t:{default:t}}function cA(t){if(typeof t=="string")return Jie(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(cA(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return eae(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Lw.default)(t),renderer:hf.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Lw.default)(t),renderer:hf.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:hf.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Xie(t))==="object"&&!t.nodeName)return{element:t,renderer:hf.default.ObjectRenderer};throw new Zie.InvalidElementException}}function Jie(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(cA(e[r]));return n}}function eae(t){var e=document.createElement("canvas");return{element:e,options:(0,Lw.default)(t),renderer:hf.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}JS.default=cA;var uA={};Object.defineProperty(uA,"__esModule",{value:!0});var tae=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rae=function(){function t(e){nae(this,t),this.api=e}return tae(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();uA.default=rae;var iae=PS,dl=So(iae),aae=dd,Cm=So(aae),sae=QS,UL=So(sae),oae=ZS,PC=So(oae),lae=JS,cae=So(lae),uae=Tv,dae=So(uae),fae=uA,hae=So(fae),VL=fd,mae=Ov,zL=So(mae);function So(t){return t&&t.__esModule?t:{default:t}}var Ka=function(){},Cv=function(e,n,r){var i=new Ka;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,cae.default)(e),i._encodings=[],i._options=zL.default,i._errorHandler=new hae.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=HL()),i.options(r)[r.format](n,r).render()),i};Cv.getModule=function(t){return dl.default[t]};for(var RC in dl.default)dl.default.hasOwnProperty(RC)&&pae(dl.default,RC);function pae(t,e){Ka.prototype[e]=Ka.prototype[e.toUpperCase()]=Ka.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var a=(0,Cm.default)(i._options,r);a=(0,dae.default)(a);var s=t[e],l=FL(n,s,a);return i._encodings.push(l),i})}}function FL(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new VL.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,UL.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,Cm.default)(n,i[a].options);return i}function HL(){return dl.default.CODE128?"CODE128":Object.keys(dl.default)[0]}Ka.prototype.options=function(t){return this._options=(0,Cm.default)(this._options,t),this};Ka.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Ka.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Cm.default)(this._options,t.options);n.format=="auto"&&(n.format=HL()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=dl.default[n.format.toUpperCase()],a=FL(r,i,n);Bw(t,a,n)})}}};Ka.prototype.render=function(){if(!this._renderProperties)throw new VL.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Bw(this._renderProperties[t],this._encodings,this._options);else Bw(this._renderProperties,this._encodings,this._options);return this};Ka.prototype._defaults=zL.default;function Bw(t,e,n){e=(0,UL.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Cm.default)(n,e[r].options),(0,PC.default)(e[r].options);(0,PC.default)(n);var i=t.renderer,a=new i(t.element,e,n);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Cv);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Cv(n,t,e)});var gae=Cv;const yae=pt(gae),vae=({isOpen:t,onClose:e,item:n,onConfirmPrint:r})=>{const[i,a]=C.useState(""),[s,l]=C.useState(!1),[c,u]=C.useState(!1),d=C.useRef(null),{user:f}=jo();C.useEffect(()=>{t&&n&&(h(),u(!1))},[t,n]);const h=()=>{if(!n)return;l(!0);const g=new Date;g.getTime().toString();const x=g.toISOString().split("T")[0].replace(/-/g,""),b=g.toTimeString().split(" ")[0].replace(/:/g,""),v=`${n.id.slice(-8)}${x}${b}`.slice(0,12);if(a(v),d.current)try{yae(d.current,v,{format:"CODE128",width:2,height:80,displayValue:!0,fontSize:12,margin:10}),l(!1)}catch(_){console.error("Error generating barcode:",_),l(!1)}},p=()=>{if(!d.current||!n)return;const g=window.open("","_blank");if(!g)return;const b=d.current.toDataURL("image/png");g.document.write(`
      <html>
        <head>
          <title>Item Barcode - ${n.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              text-align: center;
            }
            .item-info {
              margin-bottom: 20px;
              border: 1px solid #ccc;
              padding: 15px;
              background-color: #f9f9f9;
            }
            .barcode-container {
              margin: 20px 0;
            }
            .print-info {
              margin-top: 20px;
              font-size: 12px;
              color: #666;
            }
            h2 {
              color: #333;
              margin-bottom: 10px;
            }
            .detail-row {
              margin: 5px 0;
              text-align: left;
            }
            .label {
              font-weight: bold;
              display: inline-block;
              width: 100px;
            }
          </style>
        </head>
        <body>
          <h2>Summit Gear Exchange</h2>
          <div class="item-info">
            <h3>${n.title}</h3>
            <div class="detail-row">
              <span class="label">Price:</span> $${n.price}
            </div>
            <div class="detail-row">
              <span class="label">Category:</span> ${n.category}
            </div>
            <div class="detail-row">
              <span class="label">Brand:</span> ${n.brand||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Size:</span> ${n.size||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Seller:</span> ${n.sellerName}
            </div>
            <div class="detail-row">
              <span class="label">Approved:</span> ${new Date().toLocaleString()}
            </div>
          </div>
          <div class="barcode-container">
            <img src="${b}" alt="Barcode: ${i}" />
          </div>
          <div class="print-info">
            <p>Barcode: ${i}</p>
            <p>Generated: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),g.document.close(),g.focus(),g.print()},y=async()=>{if(!(!n||!i||!d.current)){u(!0);try{let g="";await new Promise(b=>{d.current.toBlob(async v=>{if(v)try{const _=pL(gL,`barcodes/${n.id}_${i}.png`);await hL(_,v),g=await mL(_)}catch(_){console.error("Error uploading barcode image:",_)}b()},"image/png")});const x=Wn(De,"items",n.id);await Nr(x,{barcodeData:i,barcodeGeneratedAt:new Date,barcodeImageUrl:g,printConfirmedAt:new Date,status:"approved",approvedAt:new Date}),await Tt(f,"item_approved","Generated barcode and approved item",n.id,n.title),r(n,i),e()}catch(g){console.error("Error updating item with barcode:",g)}finally{u(!1)}}};return!t||!n?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Item Barcode"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Create and print barcode before approving item"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:n.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Price:"})," $",n.price]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",n.category]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Brand:"})," ",n.brand||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Size:"})," ",n.size||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Seller:"})," ",n.sellerName]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Status:"})," ",n.status]})]})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Generated Barcode"}),s?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Generating barcode..."})]}):o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 inline-block",children:[o.jsx("canvas",{ref:d,className:"mx-auto"}),i&&o.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Barcode ID:"})," ",i]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Generated:"})," ",new Date().toLocaleString()]})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Print Label"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Print this barcode label and attach it to the item before adding to inventory."})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:o.jsxs("button",{onClick:p,disabled:s||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white disabled:text-gray-500",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Label"]})})]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{onClick:y,disabled:c||s||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Printed"]})})]})})]})})},xae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=C.useState([]),[a,s]=C.useState(!0),[l,c]=C.useState(null),{throttledAction:u,isActionDisabled:d,isActionProcessing:f}=kS(),[h,p]=C.useState(!1),[y,g]=C.useState(!1),[x,b]=C.useState(!1),[v,_]=C.useState(!1),[N,j]=C.useState(!1),[A,w]=C.useState(null),[S,T]=C.useState(""),[P,O]=C.useState(""),[R,I]=C.useState(null);C.useEffect(()=>{t&&n&&$()},[t,n]);const $=async()=>{s(!0);try{const F=ct(De,"items"),te=Ft(F,mn("status","==","pending")),H=await Dt(te),ue=[];H.forEach(oe=>{var G,he,ye;const ge=oe.data();ue.push({id:oe.id,...ge,createdAt:((G=ge.createdAt)==null?void 0:G.toDate())||new Date,approvedAt:(he=ge.approvedAt)==null?void 0:he.toDate(),liveAt:(ye=ge.liveAt)==null?void 0:ye.toDate()})}),ue.sort((oe,ge)=>ge.createdAt.getTime()-oe.createdAt.getTime()),i(ue)}catch(F){console.error("Error fetching pending items:",F)}finally{s(!1)}},L=async F=>{await u(`approve-${F.id}`,async()=>{w(F),p(!0)})},U=async F=>{await u(`reject-${F.id}`,async()=>{w(F),T(""),b(!0)})},D=async()=>{A&&await u(`confirm-approve-${A.id}`,async()=>{p(!1),g(!0)})},z=async(F,te)=>{i(H=>H.filter(ue=>ue.id!==F.id)),w(null)},V=()=>{g(!1),w(null)},X=async()=>{A&&await u(`confirm-reject-${A.id}`,async()=>{c(A.id),b(!1);try{await Nr(Wn(De,"items",A.id),{status:"rejected",rejectedAt:gv(),rejectionReason:S||"No reason provided"}),i(F=>F.filter(te=>te.id!==A.id)),O("Item rejected."),_(!0)}catch(F){console.error("Error rejecting item:",F),O("Error rejecting item. Please try again."),j(!0)}finally{c(null),w(null)}})},Y=async F=>{await u(`edit-${F.id}`,async()=>{I(F)})},K=async F=>{await u(`save-edit-${F.id}`,async()=>{c(F.id);try{await Nr(Wn(De,"items",F.id),{title:F.title,description:F.description,price:F.price,category:F.category||null,gender:F.gender||null,size:F.size||null,brand:F.brand||null,condition:F.condition||null,material:F.material||null}),i(te=>te.map(H=>H.id===F.id?F:H)),I(null),O("Item updated successfully!"),_(!0)}catch(te){console.error("Error updating item:",te),O("Error updating item. Please try again."),j(!0)}finally{c(null)}})};return t?o.jsxs("div",{className:"mobile-admin-modal",children:[o.jsxs("div",{className:"mobile-admin-modal-content",children:[o.jsx("div",{className:"mobile-admin-modal-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Manage Pending Items"}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none p-2 -m-2 mobile-touch-target",children:o.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"mobile-admin-modal-body",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No pending items to review"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All items have been processed!"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:r.map(F=>o.jsx("div",{className:"mobile-admin-item-card",children:o.jsxs("div",{className:"mobile-admin-item-layout",children:[o.jsx("div",{className:"mobile-admin-item-image",children:F.images.length>0?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:F.images[0],alt:F.title,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg"}),F.images.length>1&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",F.images.length-1]})]}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"mobile-admin-item-content",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-4",children:[o.jsx("h3",{className:"mobile-admin-item-title",children:F.title}),o.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-600 text-center sm:text-right",children:["$",F.price.toFixed(2)]})]}),o.jsx("p",{className:"mobile-admin-item-description",children:F.description}),o.jsxs("div",{className:"mobile-admin-item-details",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Seller:"})," ",F.sellerName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",F.sellerEmail]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Submitted:"})," ",F.createdAt.toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Images:"})," ",F.images.length]})]}),o.jsxs("div",{className:"mobile-admin-item-actions",children:[o.jsx("button",{onClick:()=>Y(F),disabled:l===F.id||d(`edit-${F.id}`),className:"mobile-admin-button mobile-admin-button-edit disabled:opacity-50 disabled:cursor-not-allowed",children:f(`edit-${F.id}`)?"Opening...":"Edit Details"}),o.jsx("button",{onClick:()=>L(F),disabled:l===F.id||d(`approve-${F.id}`),className:"mobile-admin-button mobile-admin-button-approve disabled:opacity-50 disabled:cursor-not-allowed",children:l===F.id?"Processing...":f(`approve-${F.id}`)?"Opening...":"Approve Item"}),o.jsx("button",{onClick:()=>U(F),disabled:l===F.id||d(`reject-${F.id}`),className:"mobile-admin-button mobile-admin-button-reject disabled:opacity-50 disabled:cursor-not-allowed",children:l===F.id?"Processing...":f(`reject-${F.id}`)?"Opening...":"Reject Item"})]})]})]})},F.id))})})]}),h&&A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"✅"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Item"})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Approving "',o.jsx("span",{className:"font-medium",children:A.title}),'" will generate a barcode label that must be printed. After printing, the item will be available to employees for 3 days before going live to all customers.']}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:D,disabled:A?d(`confirm-approve-${A.id}`):!1,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A&&f(`confirm-approve-${A.id}`)?"Processing...":"Generate Label & Approve"})]})]})}),x&&A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"❌"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Item"})]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to reject "',o.jsx("span",{className:"font-medium",children:A.title}),'"?']}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection (optional)"}),o.jsx("textarea",{value:S,onChange:F=>T(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"Enter reason for rejection..."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:X,disabled:A?d(`confirm-reject-${A.id}`):!1,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:A&&f(`confirm-reject-${A.id}`)?"Processing...":"Reject Item"})]})]})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"🎉"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:P}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:P}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})}),R&&o.jsx(bae,{item:R,onSave:K,onCancel:()=>I(null),isProcessing:l===R.id}),y&&A&&o.jsx(vae,{isOpen:y,onClose:V,item:A,onConfirmPrint:z})]}):null},bae=({item:t,onSave:e,onCancel:n,isProcessing:r})=>{const[i,a]=C.useState(t.title),[s,l]=C.useState(t.description),[c,u]=C.useState(t.price.toString()),[d,f]=C.useState(t.category||""),[h,p]=C.useState(t.gender||""),[y,g]=C.useState(t.size||""),[x,b]=C.useState(t.brand||""),[v,_]=C.useState(t.condition||""),[N,j]=C.useState(t.material||""),[A,w]=C.useState(!1),[S,T]=C.useState(""),P=()=>{if(!i.trim()||!s.trim()||!c.trim()){T("Please fill in all required fields"),w(!0);return}const O=parseFloat(c);if(isNaN(O)||O<=0){T("Please enter a valid price greater than 0"),w(!0);return}e({...t,title:i.trim(),description:s.trim(),price:O,category:d||void 0,gender:h||void 0,size:y||void 0,brand:x.trim()||void 0,condition:v||void 0,material:N.trim()||void 0})};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Item Details"})}),o.jsxs("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),o.jsx("input",{type:"text",value:i,onChange:O=>a(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),o.jsx("textarea",{value:s,onChange:O=>l(O.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),o.jsx("input",{type:"text",value:c,onChange:O=>{const R=O.target.value;(R===""||/^\d*\.?\d*$/.test(R))&&u(R)},className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Additional Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:d,onChange:O=>f(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),o.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),o.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),o.jsx("option",{value:"Camping",children:"Camping ⛺"}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),o.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),o.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),o.jsx("option",{value:"Apparel",children:"Apparel 👕"}),o.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),o.jsxs("select",{value:h,onChange:O=>p(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),o.jsxs("select",{value:y,onChange:O=>g(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Size"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),o.jsxs("select",{value:v,onChange:O=>_(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Condition"}),o.jsx("option",{value:"New",children:"New - Never used"}),o.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),o.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),o.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),o.jsx("input",{type:"text",value:x,onChange:O=>b(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Patagonia, REI"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),o.jsx("input",{type:"text",value:N,onChange:O=>j(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gore-Tex, Cotton"})]})]})]})]}),o.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[o.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:P,disabled:r,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r?"Saving...":"Save Changes"})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Validation Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:S}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]})})},wae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=C.useState([]),[a,s]=C.useState(!0),[l,c]=C.useState(null),{throttledAction:u,isActionDisabled:d,isActionProcessing:f}=kS(),[h,p]=C.useState(!1),[y,g]=C.useState(!1),[x,b]=C.useState(!1),[v,_]=C.useState(null),[N,j]=C.useState("");C.useEffect(()=>{t&&n&&A()},[t,n]);const A=async()=>{s(!0);try{const O=ct(De,"items"),R=Ft(O,mn("status","==","approved")),I=await Dt(R),$=[];I.forEach(L=>{var D,z,V,X,Y;const U=L.data();$.push({id:L.id,...U,createdAt:((D=U.createdAt)==null?void 0:D.toDate())||new Date,approvedAt:((z=U.approvedAt)==null?void 0:z.toDate())||new Date,liveAt:(V=U.liveAt)==null?void 0:V.toDate(),barcodeGeneratedAt:(X=U.barcodeGeneratedAt)==null?void 0:X.toDate(),printConfirmedAt:(Y=U.printConfirmedAt)==null?void 0:Y.toDate()})}),$.sort((L,U)=>{var D,z;return(((D=U.approvedAt)==null?void 0:D.getTime())||0)-(((z=L.approvedAt)==null?void 0:z.getTime())||0)}),i($)}catch(O){console.error("Error fetching approved items:",O)}finally{s(!1)}},w=O=>{const I=new Date(O.getTime()+2592e5),$=new Date,L=I.getTime()-$.getTime();if(L<=0)return{expired:!0,text:"Ready to go live!"};const U=Math.floor(L/(24*60*60*1e3)),D=Math.floor(L%(24*60*60*1e3)/(60*60*1e3)),z=Math.floor(L%(60*60*1e3)/(60*1e3));return{expired:!1,text:`${U}d ${D}h ${z}m remaining`,goLiveTime:I.toLocaleDateString()+" "+I.toLocaleTimeString()}},S=async O=>{await u(`make-live-${O.id}`,async()=>{_(O),p(!0)})},T=async()=>{v&&await u(`confirm-make-live-${v.id}`,async()=>{p(!1),c(v.id);try{await Nr(Wn(De,"items",v.id),{status:"live",liveAt:gv()}),i(O=>O.filter(R=>R.id!==v.id)),e()}catch(O){console.error("Error making item live:",O),j("Error making item live. Please try again."),b(!0)}finally{c(null),_(null)}})},P=async O=>{await u(`send-back-${O.id}`,async()=>{c(O.id);try{await Nr(Wn(De,"items",O.id),{status:"pending",liveAt:null}),i(R=>R.filter(I=>I.id!==O.id)),j("Item sent back to pending queue."),g(!0)}catch(R){console.error("Error sending item back to pending:",R),j("Error sending item back to pending. Please try again."),b(!0)}finally{c(null)}})};return t?o.jsxs("div",{className:"mobile-admin-modal",children:[o.jsxs("div",{className:"mobile-admin-modal-content",children:[o.jsx("div",{className:"mobile-admin-modal-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Approved Items"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Employee preview before going live"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none p-2 -m-2 mobile-touch-target",children:o.jsx("svg",{className:"h-5 w-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"mobile-admin-modal-body",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No approved items"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Items will appear here after approval"})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:r.map(O=>{var I;const R=w(O.approvedAt);return o.jsx("div",{className:"mobile-admin-item-card bg-gradient-to-r from-orange-50 to-yellow-50",children:o.jsxs("div",{className:"mobile-admin-item-layout",children:[o.jsx("div",{className:"mobile-admin-item-image",children:O.images.length>0?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:O.images[0],alt:O.title,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg"}),O.images.length>1&&o.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",O.images.length-1]})]}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"mobile-admin-item-content",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2 sm:gap-4",children:[o.jsx("h3",{className:"mobile-admin-item-title",children:O.title}),o.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-600 text-center sm:text-right",children:["$",O.price.toFixed(2)]})]}),o.jsx("p",{className:"mobile-admin-item-description",children:O.description}),o.jsxs("div",{className:"bg-white rounded-lg p-2 sm:p-3 border border-orange-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:`text-sm sm:text-base font-medium ${R.expired?"text-green-600":"text-orange-600"}`,children:R.text})]}),!R.expired&&R.goLiveTime&&o.jsxs("p",{className:"text-xs text-gray-500",children:["Goes live: ",R.goLiveTime]})]}),o.jsxs("div",{className:"mobile-admin-item-details",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Seller:"})," ",O.sellerName]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Approved:"})," ",(I=O.approvedAt)==null?void 0:I.toLocaleDateString()]}),O.barcodeData&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Barcode:"})," ",O.barcodeData]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Label Generated:"})," ",O.barcodeGeneratedAt?O.barcodeGeneratedAt instanceof Date?O.barcodeGeneratedAt.toLocaleDateString():new Date(O.barcodeGeneratedAt).toLocaleDateString():"N/A"]})]})]}),o.jsxs("div",{className:"mobile-admin-item-actions",children:[o.jsx("button",{onClick:()=>P(O),disabled:l===O.id||d(`send-back-${O.id}`),className:"mobile-admin-button mobile-admin-button-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:l===O.id?"Processing...":f(`send-back-${O.id}`)?"Sending...":"Send Back to Pending"}),o.jsx("button",{onClick:()=>S(O),disabled:l===O.id||d(`make-live-${O.id}`),className:"mobile-admin-button mobile-admin-button-approve disabled:opacity-50 disabled:cursor-not-allowed",children:l===O.id?"Processing...":f(`make-live-${O.id}`)?"Opening...":"Mark as Live"})]})]})]})},O.id)})})})]}),h&&v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"🚀"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Item Live"})]}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to make "',o.jsx("span",{className:"font-medium",children:v.title}),'" live? This will make it available to all customers immediately.',v.barcodeData?o.jsx("span",{className:"block mt-2 text-green-600 text-sm",children:"✓ Barcode label has been generated and printed."}):o.jsx("span",{className:"block mt-2 text-amber-600 text-sm",children:"⚠ Note: No barcode label has been generated for this item."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:T,disabled:v?d(`confirm-make-live-${v.id}`):!1,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v&&f(`confirm-make-live-${v.id}`)?"Processing...":"Make Live Now"})]})]})}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-green-600 text-xl",children:"🎉"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:N}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:N}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]}):null},_ae=({isOpen:t,onClose:e})=>{const{throttledAction:n,isActionDisabled:r}=Am(),{user:i,isAuthenticated:a,isAdmin:s}=jo(),{addToCart:l,removeFromCart:c,getCartItemCount:u}=ld(),[d,f]=C.useState("all"),[h,p]=C.useState(""),[y,g]=C.useState("features"),[x,b]=C.useState([]),[v,_]=C.useState(!1),[N,j]=C.useState(new Map),[A,w]=C.useState({completed:0,total:0}),S=[{id:"auth-google",name:"Google Authentication",description:"Sign in with Google account using Firebase Auth",status:"untested",category:"Authentication",priority:"critical"},{id:"auth-phone",name:"Phone Number Authentication",description:"Sign in with phone number using SMS verification",status:"untested",category:"Authentication",priority:"critical"},{id:"auth-admin-toggle",name:"Admin Mode Toggle",description:"Switch between admin and regular user modes",status:"untested",category:"Authentication",priority:"high"},{id:"auth-logout",name:"User Logout",description:"Sign out functionality with proper session cleanup",status:"untested",category:"Authentication",priority:"high"},{id:"item-add",name:"Add New Item",description:"Create new consignment items with images, details, and pricing",status:"untested",category:"Item Management",priority:"critical"},{id:"item-edit",name:"Edit Item Details",description:"Modify existing item information, pricing, and status",status:"untested",category:"Item Management",priority:"high"},{id:"item-image-upload",name:"Image Upload & Management",description:"Upload, crop, and manage multiple item images",status:"untested",category:"Item Management",priority:"high"},{id:"item-status-workflow",name:"Item Status Workflow",description:"Pending → Approved → Live → Sold status transitions",status:"untested",category:"Item Management",priority:"critical"},{id:"item-archive",name:"Item Archival",description:"Archive items with reasons and restore functionality",status:"untested",category:"Item Management",priority:"medium"},{id:"item-discount",name:"Discount Management",description:"Apply discounts to items with percentage and reason tracking",status:"untested",category:"Item Management",priority:"medium"},{id:"inventory-filtering",name:"Advanced Filtering System",description:"Filter by category, gender, size, brand, color, price range",status:"untested",category:"Inventory",priority:"high"},{id:"inventory-search",name:"Search Functionality",description:"Text search across titles, descriptions, brands, and metadata",status:"untested",category:"Inventory",priority:"high"},{id:"inventory-sorting",name:"Sorting Options",description:"Sort by newest, oldest, price (low to high), price (high to low)",status:"untested",category:"Inventory",priority:"medium"},{id:"inventory-grid",name:"Responsive Item Grid",description:"Mobile-responsive grid layout with item cards",status:"untested",category:"Inventory",priority:"high"},{id:"inventory-pagination",name:"Infinite Scroll/Pagination",description:"Efficient loading of large item catalogs",status:"untested",category:"Inventory",priority:"medium"},{id:"cart-add-items",name:"Add Items to Cart",description:"Add items to shopping cart with quantity management",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"cart-management",name:"Cart Management",description:"View, modify, and remove items from cart",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"cart-persistence",name:"Cart Persistence",description:"User-specific cart storage and retrieval",status:"untested",category:"Shopping Cart",priority:"high"},{id:"checkout-process",name:"Checkout Process",description:"Complete purchase flow with payment processing",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"checkout-stripe",name:"Stripe Payment Integration",description:"Secure payment processing with Stripe",status:"untested",category:"Shopping Cart",priority:"critical"},{id:"checkout-fulfillment",name:"Fulfillment Options",description:"Pickup vs shipping options for orders",status:"untested",category:"Shopping Cart",priority:"high"},{id:"bookmarks-add",name:"Add to Bookmarks",description:"Save items to personal bookmarks list",status:"untested",category:"Bookmarks",priority:"medium"},{id:"bookmarks-management",name:"Bookmark Management",description:"View and manage bookmarked items",status:"untested",category:"Bookmarks",priority:"medium"},{id:"bookmarks-persistence",name:"Bookmark Persistence",description:"User-specific bookmark storage and retrieval",status:"untested",category:"Bookmarks",priority:"medium"},{id:"admin-pending-approval",name:"Pending Items Approval",description:"Review and approve/reject pending items",status:"untested",category:"Admin Dashboard",priority:"critical"},{id:"admin-inventory-management",name:"Inventory Dashboard",description:"Comprehensive inventory management interface",status:"untested",category:"Admin Dashboard",priority:"critical"},{id:"admin-actions-dashboard",name:"Actions Dashboard",description:"Track and manage all administrative actions",status:"untested",category:"Admin Dashboard",priority:"high"},{id:"admin-user-analytics",name:"User Analytics",description:"Comprehensive user performance and analytics",status:"untested",category:"Admin Dashboard",priority:"high"},{id:"admin-bulk-operations",name:"Bulk Operations",description:"Bulk approve, archive, or modify multiple items",status:"untested",category:"Admin Dashboard",priority:"medium"},{id:"sales-in-store",name:"In-Store Sales",description:"Process in-store sales with cash/card payments",status:"untested",category:"Sales Management",priority:"critical"},{id:"sales-online",name:"Online Sales",description:"Process online orders with shipping/pickup",status:"untested",category:"Sales Management",priority:"critical"},{id:"sales-tracking",name:"Sales Tracking",description:"Track sales history and transaction details",status:"untested",category:"Sales Management",priority:"high"},{id:"sales-refunds",name:"Refund Processing",description:"Process refunds with reason tracking",status:"untested",category:"Sales Management",priority:"high"},{id:"shipping-labels",name:"Shipping Label Generation",description:"Generate shipping labels for online orders",status:"untested",category:"Shipping",priority:"high"},{id:"shipping-tracking",name:"Shipping Tracking",description:"Track shipment status and delivery updates",status:"untested",category:"Shipping",priority:"high"},{id:"shipping-notifications",name:"Shipping Notifications",description:"Automated notifications for shipping updates",status:"untested",category:"Shipping",priority:"medium"},{id:"barcode-generation",name:"Barcode Generation",description:"Generate unique barcodes for inventory items",status:"untested",category:"Barcode System",priority:"medium"},{id:"barcode-printing",name:"Barcode Printing",description:"Print barcode labels for physical inventory",status:"untested",category:"Barcode System",priority:"medium"},{id:"barcode-scanning",name:"Barcode Scanning",description:"Scan barcodes for quick item lookup",status:"untested",category:"Barcode System",priority:"low"},{id:"financial-earnings-split",name:"Earnings Split Calculation",description:"Automatic 75/25 split between seller and store",status:"untested",category:"Financial",priority:"critical"},{id:"financial-store-credit",name:"Store Credit System",description:"Manage store credit balances and transactions",status:"untested",category:"Financial",priority:"high"},{id:"financial-payment-tracking",name:"Payment Tracking",description:"Track payments made to consigners",status:"untested",category:"Financial",priority:"high"},{id:"financial-outstanding-balance",name:"Outstanding Balance Management",description:"Track and manage outstanding payments to users",status:"untested",category:"Financial",priority:"high"},{id:"analytics-sales-metrics",name:"Sales Analytics",description:"Comprehensive sales metrics and performance tracking",status:"untested",category:"Analytics",priority:"high"},{id:"analytics-user-performance",name:"User Performance Analytics",description:"Individual user sales and performance metrics",status:"untested",category:"Analytics",priority:"medium"},{id:"analytics-inventory-metrics",name:"Inventory Analytics",description:"Inventory turnover and performance metrics",status:"untested",category:"Analytics",priority:"medium"},{id:"analytics-financial-reports",name:"Financial Reporting",description:"Revenue, profit, and financial performance reports",status:"untested",category:"Analytics",priority:"high"},{id:"notifications-activity",name:"Activity Notifications",description:"Real-time notifications for item status changes",status:"untested",category:"Notifications",priority:"medium"},{id:"notifications-alerts",name:"System Alerts",description:"Important system alerts and notifications",status:"untested",category:"Notifications",priority:"medium"},{id:"notifications-email",name:"Email Notifications",description:"Automated email notifications for key events",status:"untested",category:"Notifications",priority:"low"},{id:"mobile-responsive-design",name:"Mobile Responsive Design",description:"Fully responsive design for mobile devices",status:"untested",category:"Mobile",priority:"critical"},{id:"mobile-touch-interface",name:"Touch-Friendly Interface",description:"Optimized touch interactions for mobile",status:"untested",category:"Mobile",priority:"high"},{id:"mobile-navigation",name:"Mobile Navigation",description:"Collapsible navigation and mobile-optimized menus",status:"untested",category:"Mobile",priority:"high"},{id:"security-firebase-rules",name:"Firebase Security Rules",description:"Proper security rules for database access",status:"untested",category:"Security",priority:"critical"},{id:"security-user-permissions",name:"User Permission System",description:"Role-based access control for admin functions",status:"untested",category:"Security",priority:"critical"},{id:"performance-image-optimization",name:"Image Optimization",description:"Optimized image loading and caching",status:"untested",category:"Performance",priority:"medium"},{id:"performance-lazy-loading",name:"Lazy Loading",description:"Efficient loading of images and components",status:"untested",category:"Performance",priority:"medium"},{id:"performance-button-throttling",name:"Button Throttling",description:"Prevent double-clicks and rapid API calls",status:"untested",category:"Performance",priority:"medium"},{id:"error-handling-api",name:"API Error Handling",description:"Proper error handling for API calls",status:"untested",category:"Error Handling",priority:"high"},{id:"error-handling-ui",name:"UI Error States",description:"User-friendly error messages and states",status:"untested",category:"Error Handling",priority:"medium"},{id:"error-handling-offline",name:"Offline Handling",description:"Graceful handling of offline states",status:"untested",category:"Error Handling",priority:"low"}],T=()=>[{name:"Authentication Tests",status:"idle",tests:[{id:"auth-status-check",name:"Authentication Status Check",description:"Verify user authentication state",testFunction:async()=>{const V=Date.now();try{return{success:!0,message:`Auth: ${a}, User: ${!!i}, Admin: ${s}`,duration:Date.now()-V,details:{isAuthenticated:a,user:(i==null?void 0:i.displayName)||"None",isAdmin:s}}}catch(X){return{success:!1,message:`Authentication check failed: ${X}`,duration:Date.now()-V}}}}]},{name:"Firebase Database Tests",status:"idle",tests:[{id:"firebase-connection",name:"Firebase Connection Test",description:"Test connection to Firestore database",testFunction:async()=>{const V=Date.now();try{const X=Ft(ct(De,"items"),mn("status","==","live")),Y=await Dt(X);return{success:!0,message:`Connected successfully. Found ${Y.size} live items`,duration:Date.now()-V,details:{itemCount:Y.size}}}catch(X){return{success:!1,message:`Firebase connection failed: ${X}`,duration:Date.now()-V}}}},{id:"firebase-read-write",name:"Firebase Read/Write Test",description:"Test read and write operations to Firestore",testFunction:async()=>{const V=Date.now();try{const X={testId:`test-${Date.now()}`,timestamp:new Date,message:"Test document for application testing"},Y=await pu(ct(De,"test"),X);return await IY(Wn(De,"test",Y.id)),{success:!0,message:"Read/Write operations successful",duration:Date.now()-V,details:{testDocId:Y.id}}}catch(X){return{success:!1,message:`Read/Write test failed: ${X}`,duration:Date.now()-V}}}}]},{name:"Cart Functionality Tests",status:"idle",tests:[{id:"cart-count",name:"Cart Item Count",description:"Test cart item counting functionality",testFunction:async()=>{const V=Date.now();try{const X=u();return{success:!0,message:`Cart contains ${X} items`,duration:Date.now()-V,details:{itemCount:X}}}catch(X){return{success:!1,message:`Cart count test failed: ${X}`,duration:Date.now()-V}}}}]},{name:"Performance Tests",status:"idle",tests:[{id:"page-load-time",name:"Page Load Performance",description:"Measure page load and render times",testFunction:async()=>{const V=Date.now();try{const X=performance.now(),Y=performance.memory?performance.memory.usedJSHeapSize:"N/A";return{success:!0,message:`Load time: ${X.toFixed(2)}ms`,duration:Date.now()-V,details:{loadTime:X,memoryUsage:Y}}}catch(X){return{success:!1,message:`Performance test failed: ${X}`,duration:Date.now()-V}}}}]}],P={rules:{items:{read:"auth != null",write:"auth != null && (resource == null || resource.data.sellerId == auth.uid || request.auth.token.email == 'stuartjamessmith@gmail.com')",validate:{title:"newData.isString() && newData.val().length > 0",price:"newData.isNumber() && newData.val() > 0",status:"newData.val().matches(/^(pending|approved|live|sold|archived)$/)",sellerId:"newData.val() == auth.uid"}},actionLogs:{read:"auth != null && auth.token.email == 'stuartjamessmith@gmail.com'",write:"auth != null",validate:{userId:"newData.val() == auth.uid",timestamp:"newData.val() == now"}},payments:{read:"auth != null && (resource.data.userId == auth.uid || auth.token.email == 'stuartjamessmith@gmail.com')",write:"auth != null && auth.token.email == 'stuartjamessmith@gmail.com'"},refunds:{read:"auth != null && auth.token.email == 'stuartjamessmith@gmail.com'",write:"auth != null && auth.token.email == 'stuartjamessmith@gmail.com'"},storeCreditTransactions:{read:"auth != null && (resource.data.userId == auth.uid || auth.token.email == 'stuartjamessmith@gmail.com')",write:"auth != null && auth.token.email == 'stuartjamessmith@gmail.com'"}}};C.useEffect(()=>{t&&b(T())},[t,a,i,s]);const O=async(V,X)=>{const Y=x[V],K=Y.tests[X];b(F=>{const te=[...F];return te[V]={...te[V],status:"running"},te});try{const F=await K.testFunction(),te=`${Y.name}-${K.id}`;j(H=>new Map(H.set(te,F))),b(H=>{const ue=[...H];return ue[V]={...ue[V],status:F.success?"completed":"failed"},ue})}catch(F){const te=`${Y.name}-${K.id}`,H={success:!1,message:`Test execution failed: ${F}`,duration:0};j(ue=>new Map(ue.set(te,H))),b(ue=>{const oe=[...ue];return oe[V]={...oe[V],status:"failed"},oe})}},R=async()=>{_(!0),j(new Map);const V=x.reduce((Y,K)=>Y+K.tests.length,0);w({completed:0,total:V});let X=0;for(let Y=0;Y<x.length;Y++){const K=x[Y];for(let F=0;F<K.tests.length;F++)await O(Y,F),X++,w({completed:X,total:V}),await new Promise(te=>setTimeout(te,500))}_(!1),setTimeout(()=>{w({completed:0,total:0})},2e3)},I=["all",...Array.from(new Set(S.map(V=>V.category))).sort()],$=S.filter(V=>{const X=d==="all"||V.category===d,Y=h===""||V.name.toLowerCase().includes(h.toLowerCase())||V.description.toLowerCase().includes(h.toLowerCase())||V.category.toLowerCase().includes(h.toLowerCase());return X&&Y}),L=V=>{switch(V){case"passed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"testing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},U=V=>{switch(V){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},z={total:S.length,untested:S.filter(X=>X.status==="untested").length,testing:S.filter(X=>X.status==="testing").length,passed:S.filter(X=>X.status==="passed").length,failed:S.filter(X=>X.status==="failed").length};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-[95vw] max-h-[95vh] overflow-hidden",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 pb-0",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Application Test & Performance"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive feature testing and performance monitoring"})]}),o.jsx("button",{onClick:()=>n("close_modal",()=>e()),disabled:r("close_modal"),className:"text-gray-400 hover:text-gray-600 focus:outline-none disabled:opacity-50",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex border-b border-gray-200 px-6",children:[o.jsxs("button",{onClick:()=>g("features"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors ${y==="features"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["📋 Features (",S.length,")"]}),o.jsxs("button",{onClick:()=>g("tests"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors ${y==="tests"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["🧪 Live Tests (",x.length," suites)"]}),o.jsx("button",{onClick:()=>g("firebase"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors ${y==="firebase"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"🔥 Firebase Rules"})]})]}),o.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(95vh - 200px)"},children:[y==="features"&&o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Features"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.total})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Untested"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.untested})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Testing"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.testing})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.passed})]})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z.failed})]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Features"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:h,onChange:V=>p(V.target.value),placeholder:"Search features...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{className:"sm:w-64",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsx("select",{value:d,onChange:V=>f(V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:I.map(V=>o.jsx("option",{value:V,children:V==="all"?"All Categories":V},V))})]})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Feature"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(V=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.name}),o.jsx("div",{className:"text-sm text-gray-500 max-w-md",children:V.description})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:V.category})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U(V.priority)}`,children:V.priority.charAt(0).toUpperCase()+V.priority.slice(1)})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(V.status)}`,children:V.status.charAt(0).toUpperCase()+V.status.slice(1)})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[o.jsx("button",{className:"text-orange-600 hover:text-orange-900 mr-3",children:"Test"}),o.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:"Details"})]})]},V.id))})]})})}),$.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Features Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or category filter."})]})]}),y==="tests"&&o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Application Tests"}),o.jsx("p",{className:"text-gray-600",children:"Run automated tests to verify application functionality"})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("button",{onClick:R,disabled:v,className:`
                      relative overflow-hidden px-6 py-3 rounded-xl font-semibold text-sm
                      transition-all duration-300 transform hover:scale-105 active:scale-95
                      shadow-lg hover:shadow-xl
                      ${v?"bg-gradient-to-r from-gray-400 to-gray-500 text-white cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white"}
                    `,children:o.jsx("div",{className:"flex items-center gap-2",children:v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Running Tests..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-6-8h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2z"})}),o.jsx("span",{children:"Run All Tests"})]})})}),v&&A.total>0&&o.jsxs("div",{className:"w-full max-w-xs",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[A.completed,"/",A.total," (",Math.round(A.completed/A.total*100),"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${A.completed/A.total*100}%`,boxShadow:"0 0 10px rgba(249, 115, 22, 0.5)"}})})]})]})]}),o.jsx("div",{className:"space-y-6",children:x.map((V,X)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:`p-4 ${V.status==="running"?"bg-yellow-50":V.status==="completed"?"bg-green-50":V.status==="failed"?"bg-red-50":"bg-gray-50"}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900",children:V.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:[V.tests.length," tests"]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V.status==="running"?"bg-yellow-100 text-yellow-800":V.status==="completed"?"bg-green-100 text-green-800":V.status==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:V.status.charAt(0).toUpperCase()+V.status.slice(1)})})]})}),o.jsx("div",{className:"divide-y divide-gray-200",children:V.tests.map((Y,K)=>{const F=`${V.name}-${Y.id}`,te=N.get(F);return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:Y.name}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.description}),te&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:`text-sm ${te.success?"text-green-600":"text-red-600"}`,children:[te.success?"✅":"❌"," ",te.message]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Duration: ",te.duration,"ms",te.details&&o.jsx("div",{className:"mt-1 p-2 bg-gray-50 rounded text-xs",children:o.jsx("pre",{children:JSON.stringify(te.details,null,2)})})]})]})]}),o.jsx("button",{onClick:()=>O(X,K),disabled:v,className:"ml-4 px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300",children:"Run Test"})]})},Y.id)})})]},V.name))})]}),y==="firebase"&&o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Firebase Security Rules"}),o.jsx("p",{className:"text-gray-600",children:"Current security rules configuration for Firestore database"})]}),o.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:o.jsx("pre",{className:"text-green-400 text-sm",children:o.jsx("code",{children:JSON.stringify(P,null,2)})})}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"🔒 Security Features"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:"• Authentication required for all operations"}),o.jsx("li",{children:"• User-specific data access controls"}),o.jsx("li",{children:"• Admin-only access for sensitive operations"}),o.jsx("li",{children:"• Data validation rules"}),o.jsx("li",{children:"• Timestamp verification"})]})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"📊 Collections Protected"}),o.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[o.jsxs("li",{children:["• ",o.jsx("code",{children:"items"})," - Consignment items"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"actionLogs"})," - User activity logs"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"payments"})," - Payment records"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"refunds"})," - Refund transactions"]}),o.jsxs("li",{children:["• ",o.jsx("code",{children:"storeCreditTransactions"})," - Store credit"]})]})]})]}),o.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"⚠️ Important Notes"}),o.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[o.jsx("li",{children:"• Admin access is granted to: stuartjamessmith@gmail.com"}),o.jsx("li",{children:"• Users can only modify their own items"}),o.jsx("li",{children:"• All writes are logged with timestamps"}),o.jsx("li",{children:"• Read access requires authentication"})]})]})]})]})]})}):null},MC=({isOpen:t,onClose:e,onGoogleLogin:n,onPhoneLogin:r})=>{const[i,a]=C.useState(""),[s,l]=C.useState(!1),[c,u]=C.useState("selection"),[d,f]=C.useState(null);if(!t)return null;const h=async()=>{l(!0);try{await n(),e()}catch(v){console.error("Google login failed:",v),alert("Google login failed. Please try again.")}finally{l(!1)}},p=async()=>{if(!i.trim()){f("Please enter a phone number");return}if(i.replace(/\D/g,"").length!==10){f("Please enter a valid 10-digit phone number");return}l(!0),f(null);try{console.log("Starting phone login with:",i),await r(i),console.log("Phone login successful"),e(),y()}catch(_){console.error("Phone login failed:",_);const N=_ instanceof Error?_.message:"Phone login failed. Please try again.";f(N)}finally{l(!1)}},y=()=>{a(""),u("selection"),l(!1),f(null)},g=()=>{y(),e()},x=v=>{const _=v.replace(/\D/g,"");return _.length<=3?_:_.length<=6?`(${_.slice(0,3)}) ${_.slice(3)}`:`(${_.slice(0,3)}) ${_.slice(3,6)}-${_.slice(6,10)}`},b=v=>{const _=x(v.target.value);a(_)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c==="selection"?"Welcome to Summit Gear Exchange":"Sign In with Phone"}),o.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6",children:c==="selection"?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Choose how you'd like to sign in"}),o.jsxs("button",{onClick:h,disabled:s,className:"w-full flex items-center justify-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),o.jsxs("button",{onClick:()=>u("phone"),disabled:s,className:"w-full flex items-center justify-center px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone Number"]}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our terms and conditions"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>u("selection"),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm mb-4",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to sign in options"]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",id:"phone",value:i,onChange:b,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:14}),d&&o.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:d})]}),o.jsx("button",{onClick:p,disabled:s||!i.trim(),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Quick & Simple:"})," No verification needed! Just enter your phone number and you're ready to start buying and selling gear."]})})]})})]})})},jae=t=>{if(!t)return null;try{return t instanceof Date?t:t.toDate&&typeof t.toDate=="function"?t.toDate():t.seconds?new Date(t.seconds*1e3):new Date(t)}catch(e){return console.error("Error converting timestamp:",e),null}},Qi=t=>{const e=jae(t);return e?e.toLocaleDateString():"N/A"},dA=({isOpen:t,onClose:e,item:n,onItemUpdated:r})=>{var he,ye,ne,Oe,ve,Ae;const{addToCart:i,isInCart:a,getCartItemQuantity:s,toggleBookmark:l,isBookmarked:c,cartItems:u,bookmarkedItems:d,isCartActionDisabled:f,isCartActionProcessing:h}=ld(),{isAdmin:p,user:y}=jo(),g=C.useRef(null),{throttledAction:x,isActionDisabled:b,isActionProcessing:v}=IS(),[_,N]=C.useState(!1),[j,A]=C.useState(""),[w,S]=C.useState(!1),[T,P]=C.useState(!1),[O,R]=C.useState(""),[I,$]=C.useState(""),[L,U]=C.useState(!1);if(C.useEffect(()=>{},[d,n,c]),C.useEffect(()=>{n&&A(n.price.toString())},[n]),!t||!n)return null;const D=le=>{switch(le){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=le=>{switch(le){case"pending":return"Pending Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return le}},V=async()=>{await i(n,y);const le=document.createElement("div");le.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",le.textContent=`${n.title} added to cart!`,document.body.appendChild(le),setTimeout(()=>{document.body.contains(le)&&document.body.removeChild(le)},2e3)},X=async()=>{await x(`bookmark-${n.id}`,async()=>{const le=c(n.id);await l(n.id,y);const fe=document.createElement("div");fe.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",fe.textContent=le?`Removed ${n.title} from bookmarks`:`${n.title} bookmarked!`,document.body.appendChild(fe),setTimeout(()=>{document.body.contains(fe)&&document.body.removeChild(fe)},2e3)})},Y=n.status==="live",K=()=>{N(!0)},F=async()=>{if(!(!j||parseFloat(j)<=0)){S(!0);try{const le=Wn(De,"items",n.id),fe=parseFloat(j);await Nr(le,{status:"sold",soldAt:new Date,soldPrice:fe,saleType:"in-store"}),await Tt(y,"item_marked_sold",`Marked item as sold for $${fe}`,n.id,n.title),N(!1),A(""),setTimeout(()=>{e()},2e3)}finally{S(!1)}}},te=()=>{P(!0)},H=()=>{P(!1),R(""),$("")},ue=()=>{N(!1),A("")},oe=async()=>{var le;if(!O.trim()){alert("Please provide a reason for the refund.");return}if(I!=="123"){alert("Invalid password. Please enter the correct password.");return}U(!0);try{const fe={id:`refund_${n.id}_${Date.now()}`,itemId:n.id,itemTitle:n.title,originalPrice:n.soldPrice||n.price,refundAmount:n.soldPrice||n.price,reason:O.trim(),refundedAt:new Date,refundedBy:(y==null?void 0:y.uid)||"",refundedByName:(y==null?void 0:y.displayName)||(y==null?void 0:y.email)||"Admin",originalBuyerId:n.buyerId||"",originalBuyerName:n.buyerName||((le=n.buyerInfo)==null?void 0:le.name)||"Unknown Buyer",sellerName:n.sellerName,sellerId:n.sellerId},Ne=ct(De,"refunds");await pu(Ne,fe);const et=Wn(De,"items",n.id);await Nr(et,{status:"approved",soldAt:null,soldPrice:null,buyerId:null,buyerName:null,buyerEmail:null,saleType:null,refundedAt:new Date,refundReason:O.trim()}),await Tt(y,"item_refunded",`Issued refund: ${O}`,n.id,n.title),P(!1),R(""),$(""),setTimeout(()=>{e()},1500)}catch(fe){console.error("Error processing refund:",fe),alert("Error processing refund. Please try again.")}finally{U(!1)}},ge=le=>{const fe=window.open("","_blank");fe&&(fe.document.write(`
        <html>
          <head>
            <title>Barcode Label - ${n.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
              .item-info { margin-bottom: 20px; border: 1px solid #ccc; padding: 15px; background-color: #f9f9f9; }
              .barcode-container { margin: 20px 0; }
              .print-info { margin-top: 20px; font-size: 12px; color: #666; }
              h2 { color: #333; margin-bottom: 10px; }
              .detail-row { margin: 5px 0; text-align: left; }
              .label { font-weight: bold; display: inline-block; width: 100px; }
            </style>
          </head>
          <body>
            <h2>Summit Gear Exchange</h2>
            <div class="item-info">
              <h3>${n.title}</h3>
              <div class="detail-row">
                <span class="label">Price:</span> $${n.price}
              </div>
              <div class="detail-row">
                <span class="label">Category:</span> ${n.category}
              </div>
              <div class="detail-row">
                <span class="label">Brand:</span> ${n.brand||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Size:</span> ${n.size||"N/A"}
              </div>
              <div class="detail-row">
                <span class="label">Seller:</span> ${n.sellerName}
              </div>
              <div class="detail-row">
                <span class="label">Status:</span> ${n.status}
              </div>
            </div>
            <div class="barcode-container">
              <img src="${le}" alt="Barcode: ${n.barcodeData}" style="max-width: 100%; height: auto;" />
            </div>
            <div class="print-info">
              <p>Barcode: ${n.barcodeData}</p>
              <p>Generated: ${Qi(n.barcodeGeneratedAt)||Qi(new Date)}</p>
              <p>Printed: ${new Date().toLocaleString()}</p>
            </div>
          </body>
        </html>
      `),fe.document.close(),fe.focus(),fe.print())},G=async le=>{if(n)try{const fe=Wn(De,"items",n.id),Ne={status:le};le==="live"?Ne.liveAt=new Date:le==="approved"?Ne.approvedAt=new Date:le==="archived"?Ne.archivedAt=new Date:le==="pending"&&(Ne.approvedAt=null,Ne.liveAt=null),await Nr(fe,Ne);const et=le==="live"?"made item live":le==="approved"?"moved item to approved":le==="archived"?"removed/archived item":le==="pending"?"moved item back to pending":`updated item to ${le}`;await Tt(y,`item_${le}`,`Admin ${et}`,n.id,n.title);const Ye=document.createElement("div");Ye.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg";const Be=le==="live"?"made live":le==="approved"?"moved to approved":le==="archived"?"removed from listings":le==="pending"?"moved to pending review":`updated to ${le}`;Ye.textContent=`Item ${Be} successfully!`,document.body.appendChild(Ye),setTimeout(()=>{document.body.contains(Ye)&&document.body.removeChild(Ye)},2e3),r&&r(),e()}catch(fe){console.error("Error updating item:",fe);const Ne=document.createElement("div");Ne.className="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",Ne.textContent="Error updating item. Please try again.",document.body.appendChild(Ne),setTimeout(()=>{document.body.contains(Ne)&&document.body.removeChild(Ne)},2e3)}};return o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[80] p-4",children:[o.jsxs("div",{className:`bg-white rounded-xl shadow-2xl ${n.status==="sold"?"max-w-7xl":"max-w-4xl"} w-full max-h-[90vh] overflow-hidden`,children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${D(n.status)}`,children:z(n.status)}),o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",n.price]})]}),p&&n.status!=="sold"&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.status==="approved"&&o.jsxs("button",{onClick:K,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark as Sold"]}),n.status!=="pending"&&o.jsxs("button",{onClick:()=>G("pending"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Send to Pending"]}),n.status!=="approved"&&o.jsxs("button",{onClick:()=>G("approved"),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Send Back to Approved Items"]}),n.barcodeImageUrl&&o.jsxs("button",{onClick:()=>ge(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]}),p&&n.status==="sold"&&o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[o.jsxs("button",{onClick:te,className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-red-500 text-white hover:bg-red-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})}),"Issue Refund"]}),n.barcodeImageUrl&&o.jsxs("button",{onClick:()=>ge(n.barcodeImageUrl),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-slate-500 text-white hover:bg-slate-600 transition-colors flex items-center gap-1",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]})]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none ml-4",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:`${n.status==="sold"?"grid grid-cols-1 lg:grid-cols-2 gap-8":""}`,children:[n.images&&n.images.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:`grid ${n.status==="sold"?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2 gap-4"}`,children:n.images.slice(0,4).map((le,fe)=>o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:o.jsx("img",{src:le,alt:`${n.title} ${fe+1}`,className:"w-full h-full object-cover"})},fe))}),n.images.length>4&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["+",n.images.length-4," more images"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Category"}),o.jsx("p",{className:"text-gray-600",children:n.category})]}),n.brand&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Brand"}),o.jsx("p",{className:"text-gray-600",children:n.brand})]}),n.size&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Size"}),o.jsx("p",{className:"text-gray-600",children:n.size})]}),n.color&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Color"}),o.jsx("p",{className:"text-gray-600",children:n.color})]}),n.condition&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Condition"}),o.jsx("p",{className:"text-gray-600",children:n.condition})]}),n.gender&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800",children:"Gender"}),o.jsx("p",{className:"text-gray-600",children:n.gender})]})]})]})]}),o.jsxs("div",{className:`${n.status==="sold"?"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6":"mt-6"}`,children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Seller Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"}),o.jsx("span",{className:"ml-2 font-medium",children:n.sellerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"ml-2",children:n.sellerEmail})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Listed:"}),o.jsx("span",{className:"ml-2",children:Qi(n.createdAt)})]}),n.approvedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Approved:"}),o.jsx("span",{className:"ml-2",children:Qi(n.approvedAt)})]})]})]}),p&&n.barcodeData&&o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Barcode Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Barcode ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.barcodeData})]}),n.barcodeGeneratedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Generated:"}),o.jsx("span",{className:"ml-2",children:Qi(n.barcodeGeneratedAt)})]}),n.barcodeImageUrl&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Barcode Image:"}),o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:n.barcodeImageUrl,alt:`Barcode: ${n.barcodeData}`,className:"max-w-xs bg-white p-2 border rounded"})})]})]})]})]})]}),!p&&Y?o.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:X,disabled:b(`bookmark-${n.id}`),className:`flex-shrink-0 p-3 rounded-lg border-2 transition-all duration-200 ${c(n.id)?"border-red-500 bg-red-50 text-red-600":"border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"} disabled:opacity-50 disabled:cursor-not-allowed`,title:v(`bookmark-${n.id}`)?"Processing...":c(n.id)?"Remove from bookmarks":"Add to bookmarks",children:o.jsx("svg",{className:"w-6 h-6",fill:c(n.id)?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),o.jsxs("button",{onClick:V,disabled:f(`add-to-cart-${n.id}`),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${a(n.id)?"bg-green-500 text-white hover:bg-green-600":"bg-orange-500 text-white hover:bg-orange-600"} flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),h(`add-to-cart-${n.id}`)?o.jsx("span",{children:"Adding..."}):a(n.id)?o.jsxs("span",{children:["In Cart (",s(n.id),")"]}):o.jsxs("span",{children:["Add to Cart - $",n.price]})]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"✓ Secure checkout with Stripe • ✓ Quality guaranteed • ✓ Local pickup available"})})]}):null,!Y&&n.status!=="sold"&&o.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-gray-600 font-medium",children:[n.status==="pending"&&"This item is currently under review",n.status==="approved"&&"This item is approved and will be available soon",n.status==="archived"&&"This item is no longer available"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back later or browse our other available items"})]})}),n.status==="sold"&&o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"font-medium text-green-800",children:"Item Sold"}),o.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:n.saleType==="online"?"🌐 Online":"🏪 In-Store"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Sold Price:"}),o.jsxs("span",{className:"ml-2 font-semibold text-green-700",children:["$",n.soldPrice||n.price]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Sold Date:"}),o.jsx("span",{className:"ml-2 font-medium",children:Qi(n.soldAt)})]}),n.saleTransactionId&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.saleTransactionId})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[n.barcodeData&&o.jsxs("button",{onClick:()=>{const le=window.open("","_blank");le&&(le.document.write(`
                          <html>
                            <head>
                              <title>Barcode Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; text-align: center; }
                                .barcode-container { margin: 20px 0; }
                                .item-info { margin-bottom: 20px; }
                              </style>
                            </head>
                            <body>
                              <div class="item-info">
                                <h3>${n.title}</h3>
                                <p>Price: $${n.soldPrice||n.price} | Sold: ${Qi(n.soldAt)}</p>
                              </div>
                              <div class="barcode-container">
                                <p>Barcode: ${n.barcodeData}</p>
                                <p>Generated: ${Qi(n.barcodeGeneratedAt)||Qi(new Date)}</p>
                              </div>
                            </body>
                          </html>
                        `),le.document.close(),le.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-gray-500 text-white hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Barcode"]}),n.saleType==="online"&&n.buyerInfo&&o.jsxs("button",{onClick:()=>{var fe,Ne,et,Ye,Be;const le=window.open("","_blank");le&&(le.document.write(`
                          <html>
                            <head>
                              <title>Shipping Label - ${n.title}</title>
                              <style>
                                body { font-family: Arial, sans-serif; margin: 20px; }
                                .shipping-label { border: 2px solid #000; padding: 20px; max-width: 600px; margin: 0 auto; }
                                .from, .to { margin-bottom: 20px; }
                                .to { border-top: 2px solid #000; padding-top: 20px; }
                                .item-details { margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px; }
                                h3 { margin: 0 0 10px 0; }
                              </style>
                            </head>
                            <body>
                              <div class="shipping-label">
                                <div class="from">
                                  <h3>FROM:</h3>
                                  <p><strong>Summit Gear Exchange</strong><br>
                                  123 Mountain View Drive<br>
                                  Summit, CO 80424<br>
                                  Phone: (555) 123-4567</p>
                                </div>
                                                                 <div class="to">
                                   <h3>TO:</h3>
                                   <p><strong>${((fe=n.buyerInfo)==null?void 0:fe.name)||"N/A"}</strong><br>
                                   ${((Ne=n.buyerInfo)==null?void 0:Ne.address)||"N/A"}<br>
                                   ${((et=n.buyerInfo)==null?void 0:et.city)||"N/A"}, ${((Ye=n.buyerInfo)==null?void 0:Ye.zipCode)||"N/A"}<br>
                                   Phone: ${((Be=n.buyerInfo)==null?void 0:Be.phone)||"N/A"}</p>
                                 </div>
                                <div class="item-details">
                                  <p><strong>Item:</strong> ${n.title}</p>
                                  <p><strong>Order ID:</strong> ${n.saleTransactionId||"N/A"}</p>
                                  <p><strong>Sold Date:</strong> ${Qi(n.soldAt)}</p>
                                </div>
                              </div>
                            </body>
                          </html>
                        `),le.document.close(),le.print())},className:"flex-1 py-2 px-4 rounded-lg font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2V7"})}),"Print Shipping Label"]})]}),n.saleType==="online"&&n.buyerInfo&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Buyer Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Name:"})," ",o.jsx("span",{className:"ml-1",children:((he=n.buyerInfo)==null?void 0:he.name)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Email:"})," ",o.jsx("span",{className:"ml-1",children:((ye=n.buyerInfo)==null?void 0:ye.email)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",o.jsx("span",{className:"ml-1",children:((ne=n.buyerInfo)==null?void 0:ne.phone)||"N/A"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"text-gray-600",children:"Address:"}),o.jsxs("span",{className:"ml-1",children:[((Oe=n.buyerInfo)==null?void 0:Oe.address)||"N/A",", ",((ve=n.buyerInfo)==null?void 0:ve.city)||"N/A",", ",((Ae=n.buyerInfo)==null?void 0:Ae.zipCode)||"N/A"]})]})]})]})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[90]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mark Item as Sold"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Enter the sale price for this item:"}),o.jsx("input",{type:"number",value:j,onChange:le=>A(le.target.value),placeholder:"Enter sale price",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 mb-4",min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:ue,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:w,children:"Cancel"}),o.jsx("button",{onClick:F,disabled:w||!j||parseFloat(j)<=0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:w?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Confirm Sale"})]})]})}),T&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[90]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Issue Refund"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-gray-600 mb-2",children:["Item: ",o.jsx("strong",{children:n.title})]}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Refund Amount: ",o.jsxs("strong",{children:["$",n.soldPrice||n.price]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Refund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:O,onChange:le=>R(le.target.value),placeholder:"Please describe why this refund is being issued...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Admin Password ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"password",value:I,onChange:le=>$(le.target.value),placeholder:"Enter admin password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Testing password: 123"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:H,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:L,children:"Cancel"}),o.jsx("button",{onClick:oe,disabled:L||!O.trim()||!I,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:L?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Issue Refund"})]})]})}),o.jsx("canvas",{ref:g,style:{display:"none"}})]})},Sae=({isOpen:t,onClose:e,onCheckout:n})=>{const{cartItems:r,removeFromCart:i,updateQuantity:a,clearCart:s,getCartTotal:l,getCartItemCount:c}=ld();if(!t)return null;const u=()=>{n(),e()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[c()," ",c()===1?"item":"items"," in your cart"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Add some gear to get started!"}),o.jsx("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Continue Shopping"})]}):o.jsx("div",{className:"space-y-4",children:r.map(d=>o.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:d.item.images&&d.item.images.length>0?o.jsx("img",{src:d.item.images[0],alt:d.item.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:d.item.title}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:d.item.description}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.item.category&&o.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:d.item.category}),d.item.size&&o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs",children:["Size ",d.item.size]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["Qty: ",d.quantity]}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Consignment item)"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(d.item.price*d.quantity).toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["$",d.item.price," each"]})]}),o.jsx("button",{onClick:()=>i(d.item.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Remove from cart",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},d.item.id))})}),r.length>0&&o.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: $",l().toFixed(2)]}),o.jsx("button",{onClick:s,className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"Clear Cart"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"}),o.jsxs("button",{onClick:u,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Checkout - $",l().toFixed(2)]})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"✓ Secure payment with Stripe • ✓ Local pickup available • ✓ 30-day return policy"})})]})]})})},Aae=({isOpen:t,onClose:e,items:n,onItemClick:r})=>{const{bookmarkedItems:i,toggleBookmark:a,addToCart:s}=ld(),l=n.filter(c=>i.includes(c.id));return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Bookmarked Items"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:[l.length," item",l.length!==1?"s":""," saved"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:l.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarked items"}),o.jsx("p",{className:"text-gray-500",children:"Items you bookmark will appear here for easy access."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative",children:[c.images&&c.images.length>0?o.jsx("img",{src:c.images[0],alt:c.title,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer",onClick:()=>r(c)}):o.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-t-lg flex items-center justify-center cursor-pointer",onClick:()=>r(c),children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2v12a2 2 0 002 2z"})})}),o.jsx("button",{onClick:()=>{a(c.id);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`Removed ${c.title} from bookmarks`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"absolute top-2 right-2 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-colors",children:o.jsx("svg",{className:"w-5 h-5 text-red-500 fill-current",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>r(c),children:c.title}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 mb-3",children:["$",c.price]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${c.status==="live"?"bg-green-100 text-green-800":c.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status==="live"?"Available":c.status==="approved"?"Approved":c.status}),o.jsx("span",{className:"text-sm text-gray-500",children:c.category})]}),c.status==="live"&&o.jsx("button",{onClick:()=>{s(c);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`${c.title} added to cart!`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Add to Cart"})]})]},c.id))})})]})}):null};var qL="basil",Eae=function(e){return e===3?"v3":e},GL="https://js.stripe.com",Nae="".concat(GL,"/").concat(qL,"/stripe.js"),Tae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Oae=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Cae=function(e){return Tae.test(e)||Oae.test(e)},kae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(GL,'"]')),n=0;n<e.length;n++){var r=e[n];if(Cae(r.src))return r}return null},DC=function(e){var n="",r=document.createElement("script");r.src="".concat(Nae).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Iae=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Gd=null,Ip=null,Pp=null,Pae=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Rae=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Mae=function(e){return Gd!==null?Gd:(Gd=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=kae();if(!(i&&e)){if(!i)i=DC(e);else if(i&&Pp!==null&&Ip!==null){var a;i.removeEventListener("load",Pp),i.removeEventListener("error",Ip),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=DC(e)}}Pp=Rae(n,r),Ip=Pae(r),i.addEventListener("load",Pp),i.addEventListener("error",Ip)}catch(s){r(s);return}}),Gd.catch(function(n){return Gd=null,Promise.reject(n)}))},Dae=function(e,n,r){if(e===null)return null;var i=n[0],a=i.match(/^pk_test/),s=Eae(e.version),l=qL;a&&s!==l&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return Iae(c,r),c},Wd,WL=!1,KL=function(){return Wd||(Wd=Mae(null).catch(function(e){return Wd=null,Promise.reject(e)}),Wd)};Promise.resolve().then(function(){return KL()}).catch(function(t){WL||console.warn(t)});var $ae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];WL=!0;var i=Date.now();return KL().then(function(a){return Dae(a,n,i)})},XL={exports:{}},Lae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bae=Lae,Uae=Bae;function YL(){}function QL(){}QL.resetWarningCache=YL;var Vae=function(){function t(r,i,a,s,l,c){if(c!==Uae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QL,resetWarningCache:YL};return n.PropTypes=n,n};XL.exports=Vae();var zae=XL.exports;const Ce=pt(zae);function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){ZL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xg=function(e){return typeof e}:xg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function ZL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hae(t,e){if(t==null)return{};var n=Fae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JL(t,e){return qae(t)||Gae(t,e)||Wae(t,e)||Kae()}function qae(t){if(Array.isArray(t))return t}function Gae(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Wae(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Br=function(e,n,r){var i=!!r,a=B.useRef(r);B.useEffect(function(){a.current=r},[r]),B.useEffect(function(){if(!i||!e)return function(){};var s=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,s),function(){e.off(n,s)}},[i,n,e,a])},Uw=function(e){var n=B.useRef(e);return B.useEffect(function(){n.current=e},[e]),n.current},vu=function(e){return e!==null&&xg(e)==="object"},Xae=function(e){return vu(e)&&typeof e.then=="function"},Yae=function(e){return vu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},UC="[object Object]",Qae=function t(e,n){if(!vu(e)||!vu(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===UC,s=Object.prototype.toString.call(n)===UC;if(a!==s)return!1;if(!a&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var p=e,y=n,g=function(b){return t(p[b],y[b])};return h.every(g)},e5=function(e,n,r){return vu(e)?Object.keys(e).reduce(function(i,a){var s=!vu(n)||!Qae(e[a],n[a]);return r.includes(a)?(s&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):s?LC(LC({},i||{}),{},ZL({},a,e[a])):i},null):null},t5="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",VC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t5;if(e===null||Yae(e))return e;throw new Error(n)},Zae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t5;if(Xae(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return VC(i,n)})};var r=VC(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Jae=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},kv=B.createContext(null);kv.displayName="ElementsContext";var n5=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},r5=function(e){var n=e.stripe,r=e.options,i=e.children,a=B.useMemo(function(){return Zae(n)},[n]),s=B.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=JL(s,2),c=l[0],u=l[1];B.useEffect(function(){var h=!0,p=function(g){u(function(x){return x.stripe?x:{stripe:g,elements:g.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(y){y&&h&&p(y)}):a.tag==="sync"&&!c.stripe&&p(a.stripe),function(){h=!1}},[a,c,r]);var d=Uw(n);B.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=Uw(r);return B.useEffect(function(){if(c.elements){var h=e5(r,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,f,c.elements]),B.useEffect(function(){Jae(c.stripe)},[c.stripe]),B.createElement(kv.Provider,{value:c},i)};r5.propTypes={stripe:Ce.any,options:Ce.object};var ese=function(e){var n=B.useContext(kv);return n5(n,e)},tse=function(){var e=ese("calls useElements()"),n=e.elements;return n};Ce.func.isRequired;var i5=B.createContext(null);i5.displayName="CheckoutSdkContext";var nse=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},rse=B.createContext(null);rse.displayName="CheckoutContext";Ce.any,Ce.shape({fetchClientSecret:Ce.func.isRequired,elementsOptions:Ce.object}).isRequired;var Vw=function(e){var n=B.useContext(i5),r=B.useContext(kv);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?nse(n,e):n5(r,e)},ise=["mode"],ase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},yn=function(e,n){var r="".concat(ase(e),"Element"),i=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,p=c.onBlur,y=c.onFocus,g=c.onReady,x=c.onChange,b=c.onEscape,v=c.onClick,_=c.onLoadError,N=c.onLoaderStart,j=c.onNetworksChange,A=c.onConfirm,w=c.onCancel,S=c.onShippingAddressChange,T=c.onShippingRateChange,P=Vw("mounts <".concat(r,">")),O="elements"in P?P.elements:null,R="checkoutSdk"in P?P.checkoutSdk:null,I=B.useState(null),$=JL(I,2),L=$[0],U=$[1],D=B.useRef(null),z=B.useRef(null);Br(L,"blur",p),Br(L,"focus",y),Br(L,"escape",b),Br(L,"click",v),Br(L,"loaderror",_),Br(L,"loaderstart",N),Br(L,"networkschange",j),Br(L,"confirm",A),Br(L,"cancel",w),Br(L,"shippingaddresschange",S),Br(L,"shippingratechange",T),Br(L,"change",x);var V;g&&(e==="expressCheckout"?V=g:V=function(){g(L)}),Br(L,"ready",V),B.useLayoutEffect(function(){if(D.current===null&&z.current!==null&&(O||R)){var Y=null;if(R)switch(e){case"payment":Y=R.createPaymentElement(h);break;case"address":if("mode"in h){var K=h.mode,F=Hae(h,ise);if(K==="shipping")Y=R.createShippingAddressElement(F);else if(K==="billing")Y=R.createBillingAddressElement(F);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Y=R.createExpressCheckoutElement(h);break;case"currencySelector":Y=R.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(Y=O.create(e,h));D.current=Y,U(Y),Y&&Y.mount(z.current)}},[O,R,h]);var X=Uw(h);return B.useEffect(function(){if(D.current){var Y=e5(h,X,["paymentRequest"]);Y&&"update"in D.current&&D.current.update(Y)}},[h,X]),B.useLayoutEffect(function(){return function(){if(D.current&&typeof D.current.destroy=="function")try{D.current.destroy(),D.current=null}catch{}}},[]),B.createElement("div",{id:u,className:d,ref:z})},a=function(c){Vw("mounts <".concat(r,">"));var u=c.id,d=c.className;return B.createElement("div",{id:u,className:d})},s=n?a:i;return s.propTypes={id:Ce.string,className:Ce.string,onChange:Ce.func,onBlur:Ce.func,onFocus:Ce.func,onReady:Ce.func,onEscape:Ce.func,onClick:Ce.func,onLoadError:Ce.func,onLoaderStart:Ce.func,onNetworksChange:Ce.func,onConfirm:Ce.func,onCancel:Ce.func,onShippingAddressChange:Ce.func,onShippingRateChange:Ce.func,options:Ce.object},s.displayName=r,s.__elementType=e,s},vn=typeof window>"u",sse=B.createContext(null);sse.displayName="EmbeddedCheckoutProviderContext";var ose=function(){var e=Vw("calls useStripe()"),n=e.stripe;return n};yn("auBankAccount",vn);var lse=yn("card",vn);yn("cardNumber",vn);yn("cardExpiry",vn);yn("cardCvc",vn);yn("fpxBank",vn);yn("iban",vn);yn("idealBank",vn);yn("p24Bank",vn);yn("epsBank",vn);yn("payment",vn);yn("expressCheckout",vn);yn("currencySelector",vn);yn("paymentRequestButton",vn);yn("linkAuthentication",vn);yn("address",vn);yn("shippingAddress",vn);yn("paymentMethodMessaging",vn);yn("affirmMessage",vn);yn("afterpayClearpayMessage",vn);const cse=$ae("pk_test_51Rbnai4cE043YuFEryAiYmPIDw6WPTfMk0JFoJyi3eSpEZZBDpTY0tIusq95YjDXqttmcrbAePTHNot0kf3J85Q100Gz9jtjn3"),use=({onClose:t,onSuccess:e})=>{const n=ose(),r=tse(),{cartItems:i,getCartTotal:a,clearCart:s}=ld(),{user:l}=jo(),[c,u]=C.useState(!1),[d,f]=C.useState(null),{throttledAction:h,isActionDisabled:p,isActionProcessing:y}=kS(),[g,x]=C.useState({name:(l==null?void 0:l.displayName)||"",email:(l==null?void 0:l.email)||"",phone:l&&"phoneNumber"in l?l.phoneNumber:"",address:"",city:"",zipCode:""}),[b,v]=C.useState("shipping"),_=async j=>{for(const A of i)try{const w=A.item;console.log(`Processing sold item: ${w.title} (${w.id})`);const S=Wn(De,"items",w.id);if(await Nr(S,{status:"sold",soldAt:new Date,soldPrice:w.price,buyerId:(l==null?void 0:l.uid)||"anonymous",buyerInfo:{name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,zipCode:g.zipCode},saleTransactionId:j.paymentInfo.transactionId,saleType:"online",fulfillmentMethod:b,trackingNumber:b==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,shippingLabelGenerated:!1,userEarnings:w.price*.75,adminEarnings:w.price*.25}),await pu(ct(De,"sales"),{itemId:w.id,itemTitle:w.title,itemCategory:w.category,itemBrand:w.brand||"N/A",itemSize:w.size||"N/A",sellerId:w.sellerId,sellerName:w.sellerName,buyerId:(l==null?void 0:l.uid)||"anonymous",buyerName:g.name,salePrice:w.price,sellerEarnings:w.price*.75,storeCommission:w.price*.25,soldAt:new Date,transactionId:j.paymentInfo.transactionId,orderNumber:j.orderNumber,paymentMethod:j.paymentInfo.method,shippingAddress:{name:g.name,address:g.address,city:g.city,zipCode:g.zipCode,phone:g.phone,email:g.email}}),w.sellerId&&!w.sellerId.startsWith("phone_"))try{await pu(ct(De,"store_credits"),{userId:w.sellerId,amount:w.price*.75,source:"item_sale",itemId:w.id,itemTitle:w.title,salePrice:w.price,transactionId:j.paymentInfo.transactionId,createdAt:new Date,description:`Sale of "${w.title}"`}),console.log(`Added store credit for seller ${w.sellerId}: $${(w.price*.75).toFixed(2)}`)}catch(T){console.error("Error updating seller store credit:",T)}console.log(`Successfully processed sale for item: ${w.title}`)}catch(w){console.error(`Error processing item ${A.item.title}:`,w)}},N=async j=>{j.preventDefault(),!(!n||!r)&&await h("checkout-purchase",async()=>{u(!0),f(null);try{if(await new Promise(w=>setTimeout(w,2e3)),l){const w={id:Date.now().toString()+Math.random().toString(36).substr(2,9),orderNumber:`ORD-${Date.now().toString().slice(-6)}`,total:a()+(b==="shipping"?5.99:0),purchaseDate:new Date().toISOString(),items:i.map(S=>({id:S.item.id,title:S.item.title,price:S.item.price,quantity:S.quantity,category:S.item.category,brand:S.item.brand||"N/A",size:S.item.size||"N/A",images:S.item.images||[],sellerId:S.item.sellerId,sellerName:S.item.sellerName})),customerInfo:{name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,zipCode:g.zipCode},paymentInfo:{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Date.now().toString()+Math.random().toString(36).substr(2,9)}`},status:"completed",orderStatus:"processing",estimatedDelivery:b==="shipping"?new Date(Date.now()+6048e5).toISOString():void 0,trackingNumber:b==="shipping"?`TRK${Date.now().toString().slice(-8)}`:void 0,fulfillmentMethod:b,shippingLabelGenerated:!1};try{const S=localStorage.getItem(`purchase_history_${l.uid}`),T=S?JSON.parse(S):[];T.unshift(w),localStorage.setItem(`purchase_history_${l.uid}`,JSON.stringify(T)),await _(w),window.dispatchEvent(new StorageEvent("storage",{key:`purchase_history_${l.uid}`,newValue:JSON.stringify(T),storageArea:localStorage})),console.log("Purchase completed successfully:",w)}catch(S){throw console.error("Error saving purchase history:",S),S}}const A=a()+(b==="shipping"?5.99:0);await Tt(l,"item_purchased",`Purchased ${i.length} items for $${A.toFixed(2)} (${b})`),console.log("Clearing cart after successful checkout..."),await s(l),e()}catch(A){console.error("Payment error:",A),f("Payment processing failed. Please try again.")}finally{u(!1)}})};return o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2",children:[i.map(j=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[j.item.title," × ",j.quantity]}),o.jsxs("span",{children:["$",(j.item.price*j.quantity).toFixed(2)]})]},j.item.id)),b==="shipping"&&o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{children:"$5.99"})]}),o.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",(a()+(b==="shipping"?5.99:0)).toFixed(2)]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fulfillment Method"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${b==="pickup"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>v("pickup"),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"pickup",checked:b==="pickup",onChange:()=>v("pickup"),className:"text-orange-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"🏪 Store Pickup"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Pick up your items at Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Free • Available next business day"})]})]})}),o.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${b==="shipping"?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>v("shipping"),children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"radio",name:"fulfillmentMethod",value:"shipping",checked:b==="shipping",onChange:()=>v("shipping"),className:"text-orange-500"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"📦 Home Delivery"}),o.jsx("p",{className:"text-sm text-gray-600",children:"We'll ship your items to your address"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$5.99 shipping • 5-7 business days"})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),o.jsx("input",{type:"text",value:g.name,onChange:j=>x(A=>({...A,name:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:g.email,onChange:j=>x(A=>({...A,email:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:g.phone,onChange:j=>x(A=>({...A,phone:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),b==="shipping"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("input",{type:"text",value:g.address,onChange:j=>x(A=>({...A,address:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),o.jsx("input",{type:"text",value:g.city,onChange:j=>x(A=>({...A,city:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),o.jsx("input",{type:"text",value:g.zipCode,onChange:j=>x(A=>({...A,zipCode:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Information"}),o.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:o.jsx(lse,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}}}}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"🔒 Demo Mode: Payment will be simulated (no actual charge)"})]}),d&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:o.jsx("p",{className:"text-red-600 text-sm",children:d})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!n||c||p("checkout-purchase"),className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c||y("checkout-purchase")?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Complete Order - $",(a()+(b==="shipping"?5.99:0)).toFixed(2)]})})]})]})},dse=({isOpen:t,onClose:e,onSuccess:n})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Checkout"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Complete your purchase securely"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:o.jsx(r5,{stripe:cse,children:o.jsx(use,{onClose:e,onSuccess:n})})})]})}):null;function a5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a5(t))&&(r&&(r+=" "),r+=e);return r}var fse=Array.isArray,Rr=fse,hse=typeof np=="object"&&np&&np.Object===Object&&np,s5=hse,mse=s5,pse=typeof self=="object"&&self&&self.Object===Object&&self,gse=mse||pse||Function("return this")(),wa=gse,yse=wa,vse=yse.Symbol,km=vse,zC=km,o5=Object.prototype,xse=o5.hasOwnProperty,bse=o5.toString,Kd=zC?zC.toStringTag:void 0;function wse(t){var e=xse.call(t,Kd),n=t[Kd];try{t[Kd]=void 0;var r=!0}catch{}var i=bse.call(t);return r&&(e?t[Kd]=n:delete t[Kd]),i}var _se=wse,jse=Object.prototype,Sse=jse.toString;function Ase(t){return Sse.call(t)}var Ese=Ase,FC=km,Nse=_se,Tse=Ese,Ose="[object Null]",Cse="[object Undefined]",HC=FC?FC.toStringTag:void 0;function kse(t){return t==null?t===void 0?Cse:Ose:HC&&HC in Object(t)?Nse(t):Tse(t)}var fs=kse;function Ise(t){return t!=null&&typeof t=="object"}var hs=Ise,Pse=fs,Rse=hs,Mse="[object Symbol]";function Dse(t){return typeof t=="symbol"||Rse(t)&&Pse(t)==Mse}var hd=Dse,$se=Rr,Lse=hd,Bse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Use=/^\w*$/;function Vse(t,e){if($se(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Lse(t)?!0:Use.test(t)||!Bse.test(t)||e!=null&&t in Object(e)}var fA=Vse;function zse(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ao=zse;const md=pt(Ao);var Fse=fs,Hse=Ao,qse="[object AsyncFunction]",Gse="[object Function]",Wse="[object GeneratorFunction]",Kse="[object Proxy]";function Xse(t){if(!Hse(t))return!1;var e=Fse(t);return e==Gse||e==Wse||e==qse||e==Kse}var hA=Xse;const Re=pt(hA);var Yse=wa,Qse=Yse["__core-js_shared__"],Zse=Qse,$b=Zse,qC=function(){var t=/[^.]+$/.exec($b&&$b.keys&&$b.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jse(t){return!!qC&&qC in t}var eoe=Jse,toe=Function.prototype,noe=toe.toString;function roe(t){if(t!=null){try{return noe.call(t)}catch{}try{return t+""}catch{}}return""}var l5=roe,ioe=hA,aoe=eoe,soe=Ao,ooe=l5,loe=/[\\^$.*+?()[\]{}|]/g,coe=/^\[object .+?Constructor\]$/,uoe=Function.prototype,doe=Object.prototype,foe=uoe.toString,hoe=doe.hasOwnProperty,moe=RegExp("^"+foe.call(hoe).replace(loe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function poe(t){if(!soe(t)||aoe(t))return!1;var e=ioe(t)?moe:coe;return e.test(ooe(t))}var goe=poe;function yoe(t,e){return t==null?void 0:t[e]}var voe=yoe,xoe=goe,boe=voe;function woe(t,e){var n=boe(t,e);return xoe(n)?n:void 0}var Hl=woe,_oe=Hl,joe=_oe(Object,"create"),Iv=joe,GC=Iv;function Soe(){this.__data__=GC?GC(null):{},this.size=0}var Aoe=Soe;function Eoe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Noe=Eoe,Toe=Iv,Ooe="__lodash_hash_undefined__",Coe=Object.prototype,koe=Coe.hasOwnProperty;function Ioe(t){var e=this.__data__;if(Toe){var n=e[t];return n===Ooe?void 0:n}return koe.call(e,t)?e[t]:void 0}var Poe=Ioe,Roe=Iv,Moe=Object.prototype,Doe=Moe.hasOwnProperty;function $oe(t){var e=this.__data__;return Roe?e[t]!==void 0:Doe.call(e,t)}var Loe=$oe,Boe=Iv,Uoe="__lodash_hash_undefined__";function Voe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Boe&&e===void 0?Uoe:e,this}var zoe=Voe,Foe=Aoe,Hoe=Noe,qoe=Poe,Goe=Loe,Woe=zoe;function pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pd.prototype.clear=Foe;pd.prototype.delete=Hoe;pd.prototype.get=qoe;pd.prototype.has=Goe;pd.prototype.set=Woe;var Koe=pd;function Xoe(){this.__data__=[],this.size=0}var Yoe=Xoe;function Qoe(t,e){return t===e||t!==t&&e!==e}var mA=Qoe,Zoe=mA;function Joe(t,e){for(var n=t.length;n--;)if(Zoe(t[n][0],e))return n;return-1}var Pv=Joe,ele=Pv,tle=Array.prototype,nle=tle.splice;function rle(t){var e=this.__data__,n=ele(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nle.call(e,n,1),--this.size,!0}var ile=rle,ale=Pv;function sle(t){var e=this.__data__,n=ale(e,t);return n<0?void 0:e[n][1]}var ole=sle,lle=Pv;function cle(t){return lle(this.__data__,t)>-1}var ule=cle,dle=Pv;function fle(t,e){var n=this.__data__,r=dle(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var hle=fle,mle=Yoe,ple=ile,gle=ole,yle=ule,vle=hle;function gd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gd.prototype.clear=mle;gd.prototype.delete=ple;gd.prototype.get=gle;gd.prototype.has=yle;gd.prototype.set=vle;var Rv=gd,xle=Hl,ble=wa,wle=xle(ble,"Map"),pA=wle,WC=Koe,_le=Rv,jle=pA;function Sle(){this.size=0,this.__data__={hash:new WC,map:new(jle||_le),string:new WC}}var Ale=Sle;function Ele(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Nle=Ele,Tle=Nle;function Ole(t,e){var n=t.__data__;return Tle(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Mv=Ole,Cle=Mv;function kle(t){var e=Cle(this,t).delete(t);return this.size-=e?1:0,e}var Ile=kle,Ple=Mv;function Rle(t){return Ple(this,t).get(t)}var Mle=Rle,Dle=Mv;function $le(t){return Dle(this,t).has(t)}var Lle=$le,Ble=Mv;function Ule(t,e){var n=Ble(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Vle=Ule,zle=Ale,Fle=Ile,Hle=Mle,qle=Lle,Gle=Vle;function yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yd.prototype.clear=zle;yd.prototype.delete=Fle;yd.prototype.get=Hle;yd.prototype.has=qle;yd.prototype.set=Gle;var gA=yd,c5=gA,Wle="Expected a function";function yA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Wle);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(yA.Cache||c5),n}yA.Cache=c5;var u5=yA;const Kle=pt(u5);var Xle=u5,Yle=500;function Qle(t){var e=Xle(t,function(r){return n.size===Yle&&n.clear(),r}),n=e.cache;return e}var Zle=Qle,Jle=Zle,ece=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tce=/\\(\\)?/g,nce=Jle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ece,function(n,r,i,a){e.push(i?a.replace(tce,"$1"):r||n)}),e}),rce=nce;function ice(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var vA=ice,KC=km,ace=vA,sce=Rr,oce=hd,XC=KC?KC.prototype:void 0,YC=XC?XC.toString:void 0;function d5(t){if(typeof t=="string")return t;if(sce(t))return ace(t,d5)+"";if(oce(t))return YC?YC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lce=d5,cce=lce;function uce(t){return t==null?"":cce(t)}var f5=uce,dce=Rr,fce=fA,hce=rce,mce=f5;function pce(t,e){return dce(t)?t:fce(t,e)?[t]:hce(mce(t))}var h5=pce,gce=hd;function yce(t){if(typeof t=="string"||gce(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Dv=yce,vce=h5,xce=Dv;function bce(t,e){e=vce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[xce(e[n++])];return n&&n==r?t:void 0}var xA=bce,wce=xA;function _ce(t,e,n){var r=t==null?void 0:wce(t,e);return r===void 0?n:r}var m5=_ce;const ei=pt(m5);function jce(t){return t==null}var Sce=jce;const Ve=pt(Sce);var Ace=fs,Ece=Rr,Nce=hs,Tce="[object String]";function Oce(t){return typeof t=="string"||!Ece(t)&&Nce(t)&&Ace(t)==Tce}var Cce=Oce;const Al=pt(Cce);var p5={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=Symbol.for("react.element"),wA=Symbol.for("react.portal"),$v=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Vv=Symbol.for("react.context"),kce=Symbol.for("react.server_context"),zv=Symbol.for("react.forward_ref"),Fv=Symbol.for("react.suspense"),Hv=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Gv=Symbol.for("react.lazy"),Ice=Symbol.for("react.offscreen"),g5;g5=Symbol.for("react.module.reference");function Ei(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bA:switch(t=t.type,t){case $v:case Bv:case Lv:case Fv:case Hv:return t;default:switch(t=t&&t.$$typeof,t){case kce:case Vv:case zv:case Gv:case qv:case Uv:return t;default:return e}}case wA:return e}}}vt.ContextConsumer=Vv;vt.ContextProvider=Uv;vt.Element=bA;vt.ForwardRef=zv;vt.Fragment=$v;vt.Lazy=Gv;vt.Memo=qv;vt.Portal=wA;vt.Profiler=Bv;vt.StrictMode=Lv;vt.Suspense=Fv;vt.SuspenseList=Hv;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(t){return Ei(t)===Vv};vt.isContextProvider=function(t){return Ei(t)===Uv};vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bA};vt.isForwardRef=function(t){return Ei(t)===zv};vt.isFragment=function(t){return Ei(t)===$v};vt.isLazy=function(t){return Ei(t)===Gv};vt.isMemo=function(t){return Ei(t)===qv};vt.isPortal=function(t){return Ei(t)===wA};vt.isProfiler=function(t){return Ei(t)===Bv};vt.isStrictMode=function(t){return Ei(t)===Lv};vt.isSuspense=function(t){return Ei(t)===Fv};vt.isSuspenseList=function(t){return Ei(t)===Hv};vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$v||t===Bv||t===Lv||t===Fv||t===Hv||t===Ice||typeof t=="object"&&t!==null&&(t.$$typeof===Gv||t.$$typeof===qv||t.$$typeof===Uv||t.$$typeof===Vv||t.$$typeof===zv||t.$$typeof===g5||t.getModuleId!==void 0)};vt.typeOf=Ei;p5.exports=vt;var Pce=p5.exports,Rce=fs,Mce=hs,Dce="[object Number]";function $ce(t){return typeof t=="number"||Mce(t)&&Rce(t)==Dce}var y5=$ce;const Lce=pt(y5);var Bce=y5;function Uce(t){return Bce(t)&&t!=+t}var Vce=Uce;const vd=pt(Vce);var pr=function(e){return e===0?0:e>0?1:-1},Qo=function(e){return Al(e)&&e.indexOf("%")===e.length-1},ce=function(e){return Lce(e)&&!vd(e)},Sn=function(e){return ce(e)||Al(e)},zce=0,ql=function(e){var n=++zce;return"".concat(e||"").concat(n)},gr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(e)&&!Al(e))return r;var a;if(Qo(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return vd(a)&&(a=r),i&&a>n&&(a=n),a},Ms=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Fce=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_n=function(e,n){return ce(e)&&ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function xy(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ei(r,e))===n})}var Hce=function(e,n){return ce(e)&&ce(n)?e-n:Al(e)&&Al(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Gc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function zw(t){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}var qce=["viewBox","children"],Gce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QC=["points","pathLength"],Lb={svg:qce,polygon:QC,polyline:QC},_A=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],by=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!md(r))return null;var i={};return Object.keys(r).forEach(function(a){_A.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Wce=function(e,n,r){return function(i){return e(n,r,i),null}},El=function(e,n,r){if(!md(e)||zw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];_A.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Wce(s,n,r))}),i},Kce=["children"],Xce=["children"];function ZC(t,e){if(t==null)return{};var n=Yce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fw(t){"@babel/helpers - typeof";return Fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw(t)}var JC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ek=null,Bb=null,jA=function t(e){if(e===ek&&Array.isArray(Bb))return Bb;var n=[];return C.Children.forEach(e,function(r){Ve(r)||(Pce.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Bb=n,ek=e,n};function ti(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Xa(i)}):r=[Xa(e)],jA(t).forEach(function(i){var a=ei(i,"type.displayName")||ei(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Fr(t,e){var n=ti(t,e);return n&&n[0]}var tk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ce(r)||r<=0||!ce(i)||i<=0)},Qce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zce=function(e){return e&&e.type&&Al(e.type)&&Qce.indexOf(e.type)>=0},v5=function(e){return e&&Fw(e)==="object"&&"clipDot"in e},Jce=function(e,n,r,i){var a,s=(a=Lb==null?void 0:Lb[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Re(e)&&(i&&s.includes(n)||Gce.includes(n))||r&&_A.includes(n)},Ee=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!md(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;Jce((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},Hw=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return nk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!nk(a,s))return!1}return!0},nk=function(e,n){if(Ve(e)&&Ve(n))return!0;if(!Ve(e)&&!Ve(n)){var r=e.props||{},i=r.children,a=ZC(r,Kce),s=n.props||{},l=s.children,c=ZC(s,Xce);return i&&l?Gc(a,c)&&Hw(i,l):!i&&!l?Gc(a,c):!1}return!1},rk=function(e,n){var r=[],i={};return jA(e).forEach(function(a,s){if(Zce(a))r.push(a);else if(a){var l=Xa(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);r.push(f),i[l]=!0}}}),r},eue=function(e){var n=e&&e.type;return n&&JC[n]?JC[n]:null},tue=function(e,n){return jA(n).indexOf(e)},nue=["children","width","height","viewBox","className","style","title","desc"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function rue(t,e){if(t==null)return{};var n=iue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,u=rue(t,nue),d=i||{width:n,height:r,x:0,y:0},f=He("recharts-surface",a);return B.createElement("svg",qw({},Ee(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),e)}var aue=["children","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function sue(t,e){if(t==null)return{};var n=oue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Je=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=sue(t,aue),a=He("recharts-layer",r);return B.createElement("g",Ww({className:a},Ee(i,!0),{ref:e}),n)}),Bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function lue(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var cue=lue,uue=cue;function due(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:uue(t,e,n)}var fue=due,hue="\\ud800-\\udfff",mue="\\u0300-\\u036f",pue="\\ufe20-\\ufe2f",gue="\\u20d0-\\u20ff",yue=mue+pue+gue,vue="\\ufe0e\\ufe0f",xue="\\u200d",bue=RegExp("["+xue+hue+yue+vue+"]");function wue(t){return bue.test(t)}var x5=wue;function _ue(t){return t.split("")}var jue=_ue,b5="\\ud800-\\udfff",Sue="\\u0300-\\u036f",Aue="\\ufe20-\\ufe2f",Eue="\\u20d0-\\u20ff",Nue=Sue+Aue+Eue,Tue="\\ufe0e\\ufe0f",Oue="["+b5+"]",Kw="["+Nue+"]",Xw="\\ud83c[\\udffb-\\udfff]",Cue="(?:"+Kw+"|"+Xw+")",w5="[^"+b5+"]",_5="(?:\\ud83c[\\udde6-\\uddff]){2}",j5="[\\ud800-\\udbff][\\udc00-\\udfff]",kue="\\u200d",S5=Cue+"?",A5="["+Tue+"]?",Iue="(?:"+kue+"(?:"+[w5,_5,j5].join("|")+")"+A5+S5+")*",Pue=A5+S5+Iue,Rue="(?:"+[w5+Kw+"?",Kw,_5,j5,Oue].join("|")+")",Mue=RegExp(Xw+"(?="+Xw+")|"+Rue+Pue,"g");function Due(t){return t.match(Mue)||[]}var $ue=Due,Lue=jue,Bue=x5,Uue=$ue;function Vue(t){return Bue(t)?Uue(t):Lue(t)}var zue=Vue,Fue=fue,Hue=x5,que=zue,Gue=f5;function Wue(t){return function(e){e=Gue(e);var n=Hue(e)?que(e):void 0,r=n?n[0]:e.charAt(0),i=n?Fue(n,1).join(""):e.slice(1);return r[t]()+i}}var Kue=Wue,Xue=Kue,Yue=Xue("toUpperCase"),Que=Yue;const Wv=pt(Que);function Nt(t){return function(){return t}}const E5=Math.cos,wy=Math.sin,qi=Math.sqrt,_y=Math.PI,Kv=2*_y,Yw=Math.PI,Qw=2*Yw,Ho=1e-6,Zue=Qw-Ho;function N5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Jue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ede{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N5:Jue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-e,u=i-n,d=s-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ho)if(!(Math.abs(f*c-u*d)>Ho)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,y=i-l,g=c*c+u*u,x=p*p+y*y,b=Math.sqrt(g),v=Math.sqrt(h),_=a*Math.tan((Yw-Math.acos((g+h-x)/(2*b*v)))/2),N=_/v,j=_/b;Math.abs(N-1)>Ho&&this._append`L${e+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*p>d*y)},${this._x1=e+j*c},${this._y1=n+j*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ho||Math.abs(this._y1-d)>Ho)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Qw+Qw),h>Zue?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ho&&this._append`A${r},${r},0,${+(h>=Yw)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function SA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ede(e)}function AA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function T5(t){this._context=t}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xv(t){return new T5(t)}function O5(t){return t[0]}function C5(t){return t[1]}function k5(t,e){var n=Nt(!0),r=null,i=Xv,a=null,s=SA(l);t=typeof t=="function"?t:t===void 0?O5:Nt(t),e=typeof e=="function"?e:e===void 0?C5:Nt(e);function l(c){var u,d=(c=AA(c)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Nt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Nt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Nt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Rp(t,e,n){var r=null,i=Nt(!0),a=null,s=Xv,l=null,c=SA(u);t=typeof t=="function"?t:t===void 0?O5:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?C5:Nt(+n);function u(f){var h,p,y,g=(f=AA(f)).length,x,b=!1,v,_=new Array(g),N=new Array(g);for(a==null&&(l=s(v=c())),h=0;h<=g;++h){if(!(h<g&&i(x=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(_[y],N[y]);l.lineEnd(),l.areaEnd()}b&&(_[h]=+t(x,h,f),N[h]=+e(x,h,f),l.point(r?+r(x,h,f):_[h],n?+n(x,h,f):N[h]))}if(v)return l=null,v+""||null}function d(){return k5().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Nt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Nt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Nt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class I5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tde(t){return new I5(t,!0)}function nde(t){return new I5(t,!1)}const EA={draw(t,e){const n=qi(e/_y);t.moveTo(n,0),t.arc(0,0,n,0,Kv)}},rde={draw(t,e){const n=qi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P5=qi(1/3),ide=P5*2,ade={draw(t,e){const n=qi(e/ide),r=n*P5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sde={draw(t,e){const n=qi(e),r=-n/2;t.rect(r,r,n,n)}},ode=.8908130915292852,R5=wy(_y/10)/wy(7*_y/10),lde=wy(Kv/10)*R5,cde=-E5(Kv/10)*R5,ude={draw(t,e){const n=qi(e*ode),r=lde*n,i=cde*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Kv*a/5,l=E5(s),c=wy(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},Ub=qi(3),dde={draw(t,e){const n=-qi(e/(Ub*3));t.moveTo(0,n*2),t.lineTo(-Ub*n,-n),t.lineTo(Ub*n,-n),t.closePath()}},si=-.5,oi=qi(3)/2,Zw=1/qi(12),fde=(Zw/2+1)*3,hde={draw(t,e){const n=qi(e/fde),r=n/2,i=n*Zw,a=r,s=n*Zw+n,l=-a,c=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(l,c),t.lineTo(si*r-oi*i,oi*r+si*i),t.lineTo(si*a-oi*s,oi*a+si*s),t.lineTo(si*l-oi*c,oi*l+si*c),t.lineTo(si*r+oi*i,si*i-oi*r),t.lineTo(si*a+oi*s,si*s-oi*a),t.lineTo(si*l+oi*c,si*c-oi*l),t.closePath()}};function mde(t,e){let n=null,r=SA(i);t=typeof t=="function"?t:Nt(t||EA),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function jy(){}function Sy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function M5(t){this._context=t}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pde(t){return new M5(t)}function D5(t){this._context=t}D5.prototype={areaStart:jy,areaEnd:jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gde(t){return new D5(t)}function $5(t){this._context=t}$5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yde(t){return new $5(t)}function L5(t){this._context=t}L5.prototype={areaStart:jy,areaEnd:jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vde(t){return new L5(t)}function ik(t){return t<0?-1:1}function ak(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(ik(a)+ik(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function sk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,s-l*n,a,s)}function Ay(t){this._context=t}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vb(this,this._t0,sk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vb(this,sk(this,n=ak(this,t,e)),n);break;default:Vb(this,this._t0,n=ak(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function B5(t){this._context=new U5(t)}(B5.prototype=Object.create(Ay.prototype)).point=function(t,e){Ay.prototype.point.call(this,e,t)};function U5(t){this._context=t}U5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function xde(t){return new Ay(t)}function bde(t){return new B5(t)}function V5(t){this._context=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ok(t),i=ok(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ok(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wde(t){return new V5(t)}function Yv(t,e){this._context=t,this._t=e}Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _de(t){return new Yv(t,.5)}function jde(t){return new Yv(t,0)}function Sde(t){return new Yv(t,1)}function xu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,l=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ade(t,e){return t[e]}function Ede(t){const e=[];return e.key=t,e}function Nde(){var t=Nt([]),e=Jw,n=xu,r=Ade;function i(a){var s=Array.from(t.apply(this,arguments),Ede),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+r(f,s[l].key,u,a)]).data=f;for(l=0,d=AA(e(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Jw:typeof a=="function"?a:Nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??xu,i):n},i}function Tde(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}xu(t,e)}}function Ode(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}xu(t,e)}}function Cde(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var g=t[e[y]],x=g[r][1]||0,b=g[r-1][1]||0;p+=x-b}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,xu(t,e)}}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}var kde=["type","size","sizeType"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ide(t,e,n){return e=Pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pde(t){var e=Rde(t,"string");return gh(e)=="symbol"?e:e+""}function Rde(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mde(t,e){if(t==null)return{};var n=Dde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z5={symbolCircle:EA,symbolCross:rde,symbolDiamond:ade,symbolSquare:sde,symbolStar:ude,symbolTriangle:dde,symbolWye:hde},$de=Math.PI/180,Lde=function(e){var n="symbol".concat(Wv(e));return z5[n]||EA},Bde=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$de;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ude=function(e,n){z5["symbol".concat(Wv(e))]=n},NA=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=Mde(e,kde),u=ck(ck({},c),{},{type:r,size:a,sizeType:l}),d=function(){var x=Lde(r),b=mde().type(x).size(Bde(a,l,r));return b()},f=u.className,h=u.cx,p=u.cy,y=Ee(u,!0);return h===+h&&p===+p&&a===+a?B.createElement("path",e_({},y,{className:He("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};NA.registerSymbol=Ude;function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H5(r.key),r)}}function Hde(t,e,n){return e&&Fde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qde(t,e,n){return e=Ey(e),Gde(t,F5()?Reflect.construct(e,n||[],Ey(t).constructor):e.apply(t,n))}function Gde(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wde(t)}function Wde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!t})()}function Ey(t){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ey(t)}function Kde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function yh(t,e,n){return e=H5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=Xde(t,"string");return bu(e)=="symbol"?e:e+""}function Xde(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ci=32,TA=function(t){function e(){return zde(this,e),qde(this,e,arguments)}return Kde(e,t),Hde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ci/2,s=Ci/6,l=Ci/3,c=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ci,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ci,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ci/8,"h").concat(Ci,"v").concat(Ci*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=Vde({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(NA,{fill:c,cx:a,cy:a,size:Ci,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ci,height:Ci},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var g=p.formatter||c,x=He(yh(yh({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Re(p.value)?null:p.value;Bi(!Re(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return B.createElement("li",t_({className:x,style:f,key:"legend-item-".concat(y)},El(r.props,p,y)),B.createElement(Gw,{width:s,height:s,viewBox:d,style:h},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(b,p,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);yh(TA,"displayName","Legend");yh(TA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yde=Rv;function Qde(){this.__data__=new Yde,this.size=0}var Zde=Qde;function Jde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var efe=Jde;function tfe(t){return this.__data__.get(t)}var nfe=tfe;function rfe(t){return this.__data__.has(t)}var ife=rfe,afe=Rv,sfe=pA,ofe=gA,lfe=200;function cfe(t,e){var n=this.__data__;if(n instanceof afe){var r=n.__data__;if(!sfe||r.length<lfe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ofe(r)}return n.set(t,e),this.size=n.size,this}var ufe=cfe,dfe=Rv,ffe=Zde,hfe=efe,mfe=nfe,pfe=ife,gfe=ufe;function xd(t){var e=this.__data__=new dfe(t);this.size=e.size}xd.prototype.clear=ffe;xd.prototype.delete=hfe;xd.prototype.get=mfe;xd.prototype.has=pfe;xd.prototype.set=gfe;var q5=xd,yfe="__lodash_hash_undefined__";function vfe(t){return this.__data__.set(t,yfe),this}var xfe=vfe;function bfe(t){return this.__data__.has(t)}var wfe=bfe,_fe=gA,jfe=xfe,Sfe=wfe;function Ny(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _fe;++e<n;)this.add(t[e])}Ny.prototype.add=Ny.prototype.push=jfe;Ny.prototype.has=Sfe;var G5=Ny;function Afe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var W5=Afe;function Efe(t,e){return t.has(e)}var K5=Efe,Nfe=G5,Tfe=W5,Ofe=K5,Cfe=1,kfe=2;function Ife(t,e,n,r,i,a){var s=n&Cfe,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&kfe?new Nfe:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var y=t[f],g=e[f];if(r)var x=s?r(g,y,f,e,t,a):r(y,g,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Tfe(e,function(b,v){if(!Ofe(p,v)&&(y===b||i(y,b,n,r,a)))return p.push(v)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var X5=Ife,Pfe=wa,Rfe=Pfe.Uint8Array,Mfe=Rfe;function Dfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $fe=Dfe;function Lfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var OA=Lfe,dk=km,fk=Mfe,Bfe=mA,Ufe=X5,Vfe=$fe,zfe=OA,Ffe=1,Hfe=2,qfe="[object Boolean]",Gfe="[object Date]",Wfe="[object Error]",Kfe="[object Map]",Xfe="[object Number]",Yfe="[object RegExp]",Qfe="[object Set]",Zfe="[object String]",Jfe="[object Symbol]",ehe="[object ArrayBuffer]",the="[object DataView]",hk=dk?dk.prototype:void 0,zb=hk?hk.valueOf:void 0;function nhe(t,e,n,r,i,a,s){switch(n){case the:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ehe:return!(t.byteLength!=e.byteLength||!a(new fk(t),new fk(e)));case qfe:case Gfe:case Xfe:return Bfe(+t,+e);case Wfe:return t.name==e.name&&t.message==e.message;case Yfe:case Zfe:return t==e+"";case Kfe:var l=Vfe;case Qfe:var c=r&Ffe;if(l||(l=zfe),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=Hfe,s.set(t,e);var d=Ufe(l(t),l(e),r,i,a,s);return s.delete(t),d;case Jfe:if(zb)return zb.call(t)==zb.call(e)}return!1}var rhe=nhe;function ihe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Y5=ihe,ahe=Y5,she=Rr;function ohe(t,e,n){var r=e(t);return she(t)?r:ahe(r,n(t))}var lhe=ohe;function che(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var uhe=che;function dhe(){return[]}var fhe=dhe,hhe=uhe,mhe=fhe,phe=Object.prototype,ghe=phe.propertyIsEnumerable,mk=Object.getOwnPropertySymbols,yhe=mk?function(t){return t==null?[]:(t=Object(t),hhe(mk(t),function(e){return ghe.call(t,e)}))}:mhe,vhe=yhe;function xhe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var bhe=xhe,whe=fs,_he=hs,jhe="[object Arguments]";function She(t){return _he(t)&&whe(t)==jhe}var Ahe=She,pk=Ahe,Ehe=hs,Q5=Object.prototype,Nhe=Q5.hasOwnProperty,The=Q5.propertyIsEnumerable,Ohe=pk(function(){return arguments}())?pk:function(t){return Ehe(t)&&Nhe.call(t,"callee")&&!The.call(t,"callee")},CA=Ohe,Ty={exports:{}};function Che(){return!1}var khe=Che;Ty.exports;(function(t,e){var n=wa,r=khe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(Ty,Ty.exports);var Z5=Ty.exports,Ihe=9007199254740991,Phe=/^(?:0|[1-9]\d*)$/;function Rhe(t,e){var n=typeof t;return e=e??Ihe,!!e&&(n=="number"||n!="symbol"&&Phe.test(t))&&t>-1&&t%1==0&&t<e}var kA=Rhe,Mhe=9007199254740991;function Dhe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Mhe}var IA=Dhe,$he=fs,Lhe=IA,Bhe=hs,Uhe="[object Arguments]",Vhe="[object Array]",zhe="[object Boolean]",Fhe="[object Date]",Hhe="[object Error]",qhe="[object Function]",Ghe="[object Map]",Whe="[object Number]",Khe="[object Object]",Xhe="[object RegExp]",Yhe="[object Set]",Qhe="[object String]",Zhe="[object WeakMap]",Jhe="[object ArrayBuffer]",eme="[object DataView]",tme="[object Float32Array]",nme="[object Float64Array]",rme="[object Int8Array]",ime="[object Int16Array]",ame="[object Int32Array]",sme="[object Uint8Array]",ome="[object Uint8ClampedArray]",lme="[object Uint16Array]",cme="[object Uint32Array]",Pt={};Pt[tme]=Pt[nme]=Pt[rme]=Pt[ime]=Pt[ame]=Pt[sme]=Pt[ome]=Pt[lme]=Pt[cme]=!0;Pt[Uhe]=Pt[Vhe]=Pt[Jhe]=Pt[zhe]=Pt[eme]=Pt[Fhe]=Pt[Hhe]=Pt[qhe]=Pt[Ghe]=Pt[Whe]=Pt[Khe]=Pt[Xhe]=Pt[Yhe]=Pt[Qhe]=Pt[Zhe]=!1;function ume(t){return Bhe(t)&&Lhe(t.length)&&!!Pt[$he(t)]}var dme=ume;function fme(t){return function(e){return t(e)}}var J5=fme,Oy={exports:{}};Oy.exports;(function(t,e){var n=s5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(Oy,Oy.exports);var hme=Oy.exports,mme=dme,pme=J5,gk=hme,yk=gk&&gk.isTypedArray,gme=yk?pme(yk):mme,e8=gme,yme=bhe,vme=CA,xme=Rr,bme=Z5,wme=kA,_me=e8,jme=Object.prototype,Sme=jme.hasOwnProperty;function Ame(t,e){var n=xme(t),r=!n&&vme(t),i=!n&&!r&&bme(t),a=!n&&!r&&!i&&_me(t),s=n||r||i||a,l=s?yme(t.length,String):[],c=l.length;for(var u in t)(e||Sme.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wme(u,c)))&&l.push(u);return l}var Eme=Ame,Nme=Object.prototype;function Tme(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nme;return t===n}var Ome=Tme;function Cme(t,e){return function(n){return t(e(n))}}var t8=Cme,kme=t8,Ime=kme(Object.keys,Object),Pme=Ime,Rme=Ome,Mme=Pme,Dme=Object.prototype,$me=Dme.hasOwnProperty;function Lme(t){if(!Rme(t))return Mme(t);var e=[];for(var n in Object(t))$me.call(t,n)&&n!="constructor"&&e.push(n);return e}var Bme=Lme,Ume=hA,Vme=IA;function zme(t){return t!=null&&Vme(t.length)&&!Ume(t)}var Im=zme,Fme=Eme,Hme=Bme,qme=Im;function Gme(t){return qme(t)?Fme(t):Hme(t)}var Qv=Gme,Wme=lhe,Kme=vhe,Xme=Qv;function Yme(t){return Wme(t,Xme,Kme)}var Qme=Yme,vk=Qme,Zme=1,Jme=Object.prototype,epe=Jme.hasOwnProperty;function tpe(t,e,n,r,i,a){var s=n&Zme,l=vk(t),c=l.length,u=vk(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in e:epe.call(e,h)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var g=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<c;){h=l[f];var b=t[h],v=e[h];if(r)var _=s?r(v,b,h,e,t,a):r(b,v,h,t,e,a);if(!(_===void 0?b===v||i(b,v,n,r,a):_)){g=!1;break}x||(x=h=="constructor")}if(g&&!x){var N=t.constructor,j=e.constructor;N!=j&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(g=!1)}return a.delete(t),a.delete(e),g}var npe=tpe,rpe=Hl,ipe=wa,ape=rpe(ipe,"DataView"),spe=ape,ope=Hl,lpe=wa,cpe=ope(lpe,"Promise"),upe=cpe,dpe=Hl,fpe=wa,hpe=dpe(fpe,"Set"),n8=hpe,mpe=Hl,ppe=wa,gpe=mpe(ppe,"WeakMap"),ype=gpe,r_=spe,i_=pA,a_=upe,s_=n8,o_=ype,r8=fs,bd=l5,xk="[object Map]",vpe="[object Object]",bk="[object Promise]",wk="[object Set]",_k="[object WeakMap]",jk="[object DataView]",xpe=bd(r_),bpe=bd(i_),wpe=bd(a_),_pe=bd(s_),jpe=bd(o_),qo=r8;(r_&&qo(new r_(new ArrayBuffer(1)))!=jk||i_&&qo(new i_)!=xk||a_&&qo(a_.resolve())!=bk||s_&&qo(new s_)!=wk||o_&&qo(new o_)!=_k)&&(qo=function(t){var e=r8(t),n=e==vpe?t.constructor:void 0,r=n?bd(n):"";if(r)switch(r){case xpe:return jk;case bpe:return xk;case wpe:return bk;case _pe:return wk;case jpe:return _k}return e});var Spe=qo,Fb=q5,Ape=X5,Epe=rhe,Npe=npe,Sk=Spe,Ak=Rr,Ek=Z5,Tpe=e8,Ope=1,Nk="[object Arguments]",Tk="[object Array]",Mp="[object Object]",Cpe=Object.prototype,Ok=Cpe.hasOwnProperty;function kpe(t,e,n,r,i,a){var s=Ak(t),l=Ak(e),c=s?Tk:Sk(t),u=l?Tk:Sk(e);c=c==Nk?Mp:c,u=u==Nk?Mp:u;var d=c==Mp,f=u==Mp,h=c==u;if(h&&Ek(t)){if(!Ek(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Fb),s||Tpe(t)?Ape(t,e,n,r,i,a):Epe(t,e,c,n,r,i,a);if(!(n&Ope)){var p=d&&Ok.call(t,"__wrapped__"),y=f&&Ok.call(e,"__wrapped__");if(p||y){var g=p?t.value():t,x=y?e.value():e;return a||(a=new Fb),i(g,x,n,r,a)}}return h?(a||(a=new Fb),Npe(t,e,n,r,i,a)):!1}var Ipe=kpe,Ppe=Ipe,Ck=hs;function i8(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ck(t)&&!Ck(e)?t!==t&&e!==e:Ppe(t,e,n,r,i8,i)}var PA=i8,Rpe=q5,Mpe=PA,Dpe=1,$pe=2;function Lpe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=n[i];var c=l[0],u=t[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new Rpe;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?Mpe(d,u,Dpe|$pe,r,f):h))return!1}}return!0}var Bpe=Lpe,Upe=Ao;function Vpe(t){return t===t&&!Upe(t)}var a8=Vpe,zpe=a8,Fpe=Qv;function Hpe(t){for(var e=Fpe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zpe(i)]}return e}var qpe=Hpe;function Gpe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var s8=Gpe,Wpe=Bpe,Kpe=qpe,Xpe=s8;function Ype(t){var e=Kpe(t);return e.length==1&&e[0][2]?Xpe(e[0][0],e[0][1]):function(n){return n===t||Wpe(n,t,e)}}var Qpe=Ype;function Zpe(t,e){return t!=null&&e in Object(t)}var Jpe=Zpe,ege=h5,tge=CA,nge=Rr,rge=kA,ige=IA,age=Dv;function sge(t,e,n){e=ege(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=age(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&ige(i)&&rge(s,i)&&(nge(t)||tge(t)))}var oge=sge,lge=Jpe,cge=oge;function uge(t,e){return t!=null&&cge(t,e,lge)}var dge=uge,fge=PA,hge=m5,mge=dge,pge=fA,gge=a8,yge=s8,vge=Dv,xge=1,bge=2;function wge(t,e){return pge(t)&&gge(e)?yge(vge(t),e):function(n){var r=hge(n,t);return r===void 0&&r===e?mge(n,t):fge(e,r,xge|bge)}}var _ge=wge;function jge(t){return t}var wd=jge;function Sge(t){return function(e){return e==null?void 0:e[t]}}var Age=Sge,Ege=xA;function Nge(t){return function(e){return Ege(e,t)}}var Tge=Nge,Oge=Age,Cge=Tge,kge=fA,Ige=Dv;function Pge(t){return kge(t)?Oge(Ige(t)):Cge(t)}var Rge=Pge,Mge=Qpe,Dge=_ge,$ge=wd,Lge=Rr,Bge=Rge;function Uge(t){return typeof t=="function"?t:t==null?$ge:typeof t=="object"?Lge(t)?Dge(t[0],t[1]):Mge(t):Bge(t)}var _a=Uge;function Vge(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var o8=Vge;function zge(t){return t!==t}var Fge=zge;function Hge(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qge=Hge,Gge=o8,Wge=Fge,Kge=qge;function Xge(t,e,n){return e===e?Kge(t,e,n):Gge(t,Wge,n)}var Yge=Xge,Qge=Yge;function Zge(t,e){var n=t==null?0:t.length;return!!n&&Qge(t,e,0)>-1}var Jge=Zge;function eye(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var tye=eye;function nye(){}var rye=nye,Hb=n8,iye=rye,aye=OA,sye=1/0,oye=Hb&&1/aye(new Hb([,-0]))[1]==sye?function(t){return new Hb(t)}:iye,lye=oye,cye=G5,uye=Jge,dye=tye,fye=K5,hye=lye,mye=OA,pye=200;function gye(t,e,n){var r=-1,i=uye,a=t.length,s=!0,l=[],c=l;if(n)s=!1,i=dye;else if(a>=pye){var u=e?null:hye(t);if(u)return mye(u);s=!1,i=fye,c=new cye}else c=e?[]:l;e:for(;++r<a;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var yye=gye,vye=_a,xye=yye;function bye(t,e){return t&&t.length?xye(t,vye(e)):[]}var wye=bye;const kk=pt(wye);function l8(t,e,n){return e===!0?kk(t,n):Re(e)?kk(t,e):t}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}var _ye=["ref"];function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u8(r.key),r)}}function Sye(t,e,n){return e&&Pk(t.prototype,e),n&&Pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aye(t,e,n){return e=Cy(e),Eye(t,c8()?Reflect.construct(e,n||[],Cy(t).constructor):e.apply(t,n))}function Eye(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(t)}function Nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cy(t)}function Tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function Zv(t,e,n){return e=u8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=Oye(t,"string");return wu(e)=="symbol"?e:e+""}function Oye(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cye(t,e){if(t==null)return{};var n=kye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iye(t){return t.value}function Pye(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=Cye(e,_ye);return B.createElement(TA,n)}var Rk=1,Wc=function(t){function e(){var n;jye(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Aye(this,e,[].concat(i)),Zv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Tye(e,t),Sye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Rk||Math.abs(i.height-this.lastBoundingBox.height)>Rk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ca(Ca({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ca(Ca({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Pye(a,Ca(Ca({},this.props),{},{payload:l8(d,u,Iye)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ca(Ca({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ce(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);Zv(Wc,"displayName","Legend");Zv(Wc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Mk=km,Rye=CA,Mye=Rr,Dk=Mk?Mk.isConcatSpreadable:void 0;function Dye(t){return Mye(t)||Rye(t)||!!(Dk&&t&&t[Dk])}var $ye=Dye,Lye=Y5,Bye=$ye;function d8(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Bye),i||(i=[]);++a<s;){var l=t[a];e>0&&n(l)?e>1?d8(l,e-1,n,r,i):Lye(i,l):r||(i[i.length]=l)}return i}var f8=d8;function Uye(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),l=s.length;l--;){var c=s[t?l:++i];if(n(a[c],c,a)===!1)break}return e}}var Vye=Uye,zye=Vye,Fye=zye(),Hye=Fye,qye=Hye,Gye=Qv;function Wye(t,e){return t&&qye(t,e,Gye)}var h8=Wye,Kye=Im;function Xye(t,e){return function(n,r){if(n==null)return n;if(!Kye(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Yye=Xye,Qye=h8,Zye=Yye,Jye=Zye(Qye),RA=Jye,e0e=RA,t0e=Im;function n0e(t,e){var n=-1,r=t0e(t)?Array(t.length):[];return e0e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var m8=n0e;function r0e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var i0e=r0e,$k=hd;function a0e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=$k(t),s=e!==void 0,l=e===null,c=e===e,u=$k(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}var s0e=a0e,o0e=s0e;function l0e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,l=n.length;++r<s;){var c=o0e(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var c0e=l0e,qb=vA,u0e=xA,d0e=_a,f0e=m8,h0e=i0e,m0e=J5,p0e=c0e,g0e=wd,y0e=Rr;function v0e(t,e,n){e.length?e=qb(e,function(a){return y0e(a)?function(s){return u0e(s,a.length===1?a[0]:a)}:a}):e=[g0e];var r=-1;e=qb(e,m0e(d0e));var i=f0e(t,function(a,s,l){var c=qb(e,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return h0e(i,function(a,s){return p0e(a,s,n)})}var x0e=v0e;function b0e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var w0e=b0e,_0e=w0e,Lk=Math.max;function j0e(t,e,n){return e=Lk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Lk(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),_0e(t,this,l)}}var S0e=j0e;function A0e(t){return function(){return t}}var E0e=A0e,N0e=Hl,T0e=function(){try{var t=N0e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),p8=T0e,O0e=E0e,Bk=p8,C0e=wd,k0e=Bk?function(t,e){return Bk(t,"toString",{configurable:!0,enumerable:!1,value:O0e(e),writable:!0})}:C0e,I0e=k0e,P0e=800,R0e=16,M0e=Date.now;function D0e(t){var e=0,n=0;return function(){var r=M0e(),i=R0e-(r-n);if(n=r,i>0){if(++e>=P0e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $0e=D0e,L0e=I0e,B0e=$0e,U0e=B0e(L0e),V0e=U0e,z0e=wd,F0e=S0e,H0e=V0e;function q0e(t,e){return H0e(F0e(t,e,z0e),t+"")}var G0e=q0e,W0e=mA,K0e=Im,X0e=kA,Y0e=Ao;function Q0e(t,e,n){if(!Y0e(n))return!1;var r=typeof e;return(r=="number"?K0e(n)&&X0e(e,n.length):r=="string"&&e in n)?W0e(n[e],t):!1}var Jv=Q0e,Z0e=f8,J0e=x0e,eve=G0e,Uk=Jv,tve=eve(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Uk(t,e[0],e[1])?e=[]:n>2&&Uk(e[0],e[1],e[2])&&(e=[e[0]]),J0e(t,Z0e(e,1),[])}),nve=tve;const MA=pt(nve);function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function rve(t,e){return ove(t)||sve(t,e)||ave(t,e)||ive()}function ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ave(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function ove(t){if(Array.isArray(t))return t}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lve(t,e,n){return e=cve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=uve(t,"string");return vh(e)=="symbol"?e:e+""}function uve(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dve(t){return Array.isArray(t)&&Sn(t[0])&&Sn(t[1])?t.join(" ~ "):t}var fve=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,g=e.label,x=e.labelFormatter,b=e.accessibilityLayer,v=b===void 0?!1:b,_=function(){if(d&&d.length){var R={padding:0,margin:0},I=(h?MA(d,h):d).map(function($,L){if($.type==="none")return null;var U=Gb({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),D=$.formatter||f||dve,z=$.value,V=$.name,X=z,Y=V;if(D&&X!=null&&Y!=null){var K=D(z,V,$,L,d);if(Array.isArray(K)){var F=rve(K,2);X=F[0],Y=F[1]}else X=K}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:U},Sn(Y)?B.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Sn(Y)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},X),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:R},I)}return null},N=Gb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=Gb({margin:0},u),A=!Ve(g),w=A?g:"",S=He("recharts-default-tooltip",p),T=He("recharts-tooltip-label",y);A&&x&&d!==void 0&&d!==null&&(w=x(g,d));var P=v?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",c_({className:S,style:N},P),B.createElement("p",{className:T,style:j},B.isValidElement(w)?w:"".concat(w)),_())};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function Dp(t,e,n){return e=hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hve(t){var e=mve(t,"string");return xh(e)=="symbol"?e:e+""}function mve(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xd="recharts-tooltip-wrapper",pve={visibility:"hidden"};function gve(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return He(Xd,Dp(Dp(Dp(Dp({},"".concat(Xd,"-right"),ce(n)&&e&&ce(e.x)&&n>=e.x),"".concat(Xd,"-left"),ce(n)&&e&&ce(e.x)&&n<e.x),"".concat(Xd,"-bottom"),ce(r)&&e&&ce(e.y)&&r>=e.y),"".concat(Xd,"-top"),ce(r)&&e&&ce(e.y)&&r<e.y))}function Fk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&ce(a[r]))return a[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,g=c[r]+u;return y>g?Math.max(d,c[r]):Math.max(f,c[r])}function yve(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function vve(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=Fk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Fk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=yve({translateX:d,translateY:f,useTranslate3d:l})):u=pve,{cssProperties:u,cssClasses:gve({translateX:d,translateY:f,coordinate:n})}}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){d_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function wve(t,e,n){return e&&bve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ve(t,e,n){return e=ky(e),jve(t,g8()?Reflect.construct(e,n||[],ky(t).constructor):e.apply(t,n))}function jve(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(t)}function Sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g8=function(){return!!t})()}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(t)}function Ave(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function d_(t,e,n){return e=y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t){var e=Eve(t,"string");return _u(e)=="symbol"?e:e+""}function Eve(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gk=1,Nve=function(t){function e(){var n;xve(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_ve(this,e,[].concat(i)),d_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Ave(e,t),wve(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Gk||Math.abs(r.height-this.state.lastBoundingBox.height)>Gk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,g=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,v=i.wrapperStyle,_=vve({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),N=_.cssClasses,j=_.cssProperties,A=qk(qk({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return B.createElement("div",{tabIndex:-1,className:N,style:A,ref:function(S){r.wrapperNode=S}},u)}}])}(C.PureComponent),Tve=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Eo={isSsr:Tve()};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){DA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ove(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x8(r.key),r)}}function kve(t,e,n){return e&&Cve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t,e,n){return e=Iy(e),Pve(t,v8()?Reflect.construct(e,n||[],Iy(t).constructor):e.apply(t,n))}function Pve(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rve(t)}function Rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v8=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iy(t)}function Mve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f_(t,e)}function DA(t,e,n){return e=x8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x8(t){var e=Dve(t,"string");return ju(e)=="symbol"?e:e+""}function Dve(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $ve(t){return t.dataKey}function Lve(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(fve,e)}var fr=function(t){function e(){return Ove(this,e),Ive(this,e,arguments)}return Mve(e,t),kve(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,g=i.payloadUniqBy,x=i.position,b=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,N=i.wrapperStyle,j=y??[];f&&j.length&&(j=l8(y.filter(function(w){return w.value!=null&&(w.hide!==!0||r.props.includeHidden)}),g,$ve));var A=j.length>0;return B.createElement(Nve,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:A,offset:p,position:x,reverseDirection:b,useTranslate3d:v,viewBox:_,wrapperStyle:N},Lve(u,Kk(Kk({},this.props),{},{payload:j})))}}])}(C.PureComponent);DA(fr,"displayName","Tooltip");DA(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Eo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bve=wa,Uve=function(){return Bve.Date.now()},Vve=Uve,zve=/\s/;function Fve(t){for(var e=t.length;e--&&zve.test(t.charAt(e)););return e}var Hve=Fve,qve=Hve,Gve=/^\s+/;function Wve(t){return t&&t.slice(0,qve(t)+1).replace(Gve,"")}var Kve=Wve,Xve=Kve,Xk=Ao,Yve=hd,Yk=NaN,Qve=/^[-+]0x[0-9a-f]+$/i,Zve=/^0b[01]+$/i,Jve=/^0o[0-7]+$/i,exe=parseInt;function txe(t){if(typeof t=="number")return t;if(Yve(t))return Yk;if(Xk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Xk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Xve(t);var n=Zve.test(t);return n||Jve.test(t)?exe(t.slice(2),n?2:8):Qve.test(t)?Yk:+t}var b8=txe,nxe=Ao,Wb=Vve,Qk=b8,rxe="Expected a function",ixe=Math.max,axe=Math.min;function sxe(t,e,n){var r,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(rxe);e=Qk(e)||0,nxe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?ixe(Qk(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(A){var w=r,S=i;return r=i=void 0,u=A,s=t.apply(S,w),s}function y(A){return u=A,l=setTimeout(b,e),d?p(A):s}function g(A){var w=A-c,S=A-u,T=e-w;return f?axe(T,a-S):T}function x(A){var w=A-c,S=A-u;return c===void 0||w>=e||w<0||f&&S>=a}function b(){var A=Wb();if(x(A))return v(A);l=setTimeout(b,g(A))}function v(A){return l=void 0,h&&r?p(A):(r=i=void 0,s)}function _(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function N(){return l===void 0?s:v(Wb())}function j(){var A=Wb(),w=x(A);if(r=arguments,i=this,c=A,w){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(b,e),p(c)}return l===void 0&&(l=setTimeout(b,e)),s}return j.cancel=_,j.flush=N,j}var oxe=sxe,lxe=oxe,cxe=Ao,uxe="Expected a function";function dxe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(uxe);return cxe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lxe(t,e,{leading:r,maxWait:e,trailing:i})}var fxe=dxe;const w8=pt(fxe);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hxe(t,e,n){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mxe(t){var e=pxe(t,"string");return bh(e)=="symbol"?e:e+""}function pxe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gxe(t,e){return bxe(t)||xxe(t,e)||vxe(t,e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vxe(t,e){if(t){if(typeof t=="string")return Jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jk(t,e)}}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function bxe(t){if(Array.isArray(t))return t}var Tc=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,g=y===void 0?0:y,x=t.id,b=t.className,v=t.onResize,_=t.style,N=_===void 0?{}:_,j=C.useRef(null),A=C.useRef();A.current=v,C.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var w=C.useState({containerWidth:i.width,containerHeight:i.height}),S=gxe(w,2),T=S[0],P=S[1],O=C.useCallback(function(I,$){P(function(L){var U=Math.round(I),D=Math.round($);return L.containerWidth===U&&L.containerHeight===D?L:{containerWidth:U,containerHeight:D}})},[]);C.useEffect(function(){var I=function(V){var X,Y=V[0].contentRect,K=Y.width,F=Y.height;O(K,F),(X=A.current)===null||X===void 0||X.call(A,K,F)};g>0&&(I=w8(I,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(I),L=j.current.getBoundingClientRect(),U=L.width,D=L.height;return O(U,D),$.observe(j.current),function(){$.disconnect()}},[O,g]);var R=C.useMemo(function(){var I=T.containerWidth,$=T.containerHeight;if(I<0||$<0)return null;Bi(Qo(s)||Qo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Qo(s)?I:s,U=Qo(c)?$:c;n&&n>0&&(L?U=L/n:U&&(L=U*n),h&&U>h&&(U=h)),Bi(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,s,c,d,f,n);var D=!Array.isArray(p)&&Xa(p.type).endsWith("Chart");return B.Children.map(p,function(z){return B.isValidElement(z)?C.cloneElement(z,$p({width:L,height:U},D?{style:$p({height:"100%",width:"100%",maxHeight:U,maxWidth:L},z.props.style)}:{})):z})},[n,p,c,h,f,d,T,s]);return B.createElement("div",{id:x?"".concat(x):void 0,className:He("recharts-responsive-container",b),style:$p($p({},N),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},R)}),Su=function(e){return null};Su.displayName="Cell";function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){wxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e,n){return e=_xe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _xe(t){var e=jxe(t,"string");return wh(e)=="symbol"?e:e+""}function jxe(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ic={widthCache:{},cacheCount:0},Sxe=2e3,Axe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tI="recharts_measurement_span";function Exe(t){var e=h_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Lf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Eo.isSsr)return{width:0,height:0};var r=Exe(n),i=JSON.stringify({text:e,copyStyle:r});if(ic.widthCache[i])return ic.widthCache[i];try{var a=document.getElementById(tI);a||(a=document.createElement("span"),a.setAttribute("id",tI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=h_(h_({},Axe),r);Object.assign(a.style,s),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return ic.widthCache[i]=c,++ic.cacheCount>Sxe&&(ic.cacheCount=0,ic.widthCache={}),c}catch{return{width:0,height:0}}},Nxe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function Py(t,e){return kxe(t)||Cxe(t,e)||Oxe(t,e)||Txe()}function Txe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(t,e){if(t){if(typeof t=="string")return nI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(t,e)}}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function kxe(t){if(Array.isArray(t))return t}function Ixe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rxe(r.key),r)}}function Pxe(t,e,n){return e&&rI(t.prototype,e),n&&rI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rxe(t){var e=Mxe(t,"string");return _h(e)=="symbol"?e:e+""}function Mxe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$xe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lxe=Object.keys(_8),Oc="NaN";function Bxe(t,e){return t*_8[e]}var Lp=function(){function t(e,n){Ixe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Dxe.test(n)&&(this.num=NaN,this.unit=""),Lxe.includes(n)&&(this.num=Bxe(e,n),this.unit="px")}return Pxe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$xe.exec(n))!==null&&r!==void 0?r:[],a=Py(i,3),s=a[1],l=a[2];return new t(parseFloat(s),l??"")}}])}();function j8(t){if(t.includes(Oc))return Oc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=iI.exec(e))!==null&&n!==void 0?n:[],i=Py(r,4),a=i[1],s=i[2],l=i[3],c=Lp.parse(a??""),u=Lp.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Oc;e=e.replace(iI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=aI.exec(e))!==null&&f!==void 0?f:[],p=Py(h,4),y=p[1],g=p[2],x=p[3],b=Lp.parse(y??""),v=Lp.parse(x??""),_=g==="+"?b.add(v):b.subtract(v);if(_.isNaN())return Oc;e=e.replace(aI,_.toString())}return e}var sI=/\(([^()]*)\)/;function Uxe(t){for(var e=t;e.includes("(");){var n=sI.exec(e),r=Py(n,2),i=r[1];e=e.replace(sI,j8(i))}return e}function Vxe(t){var e=t.replace(/\s+/g,"");return e=Uxe(e),e=j8(e),e}function zxe(t){try{return Vxe(t)}catch{return Oc}}function Kb(t){var e=zxe(t.slice(5,-1));return e===Oc?"":e}var Fxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hxe=["dx","dy","angle","className","breakAll"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function oI(t,e){if(t==null)return{};var n=qxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lI(t,e){return Xxe(t)||Kxe(t,e)||Wxe(t,e)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t,e){if(t){if(typeof t=="string")return cI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(t,e)}}function cI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Xxe(t){if(Array.isArray(t))return t}var S8=/[ \f\n\r\t\v\u2028\u2029]+/,A8=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ve(n)||(r?a=n.toString().split(""):a=n.toString().split(S8));var s=a.map(function(c){return{word:c,width:Lf(c,i).width}}),l=r?0:Lf(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Yxe=function(e,n,r,i,a){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ce(s),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,D){var z=D.word,V=D.width,X=U[U.length-1];if(X&&(i==null||a||X.width+V+r<Number(i)))X.words.push(z),X.width+=V+r;else{var Y={words:[z],width:V};U.push(Y)}return U},[])},p=h(n),y=function(L){return L.reduce(function(U,D){return U.width>D.width?U:D})};if(!d)return p;for(var g="…",x=function(L){var U=f.slice(0,L),D=A8({breakAll:u,style:c,children:U+g}).wordsWithComputedWidth,z=h(D),V=z.length>s||y(z).width>Number(i);return[V,z]},b=0,v=f.length-1,_=0,N;b<=v&&_<=f.length-1;){var j=Math.floor((b+v)/2),A=j-1,w=x(A),S=lI(w,2),T=S[0],P=S[1],O=x(j),R=lI(O,1),I=R[0];if(!T&&!I&&(b=j+1),T&&I&&(v=j-1),!T&&I){N=P;break}_++}return N||p},uI=function(e){var n=Ve(e)?[]:e.toString().split(S8);return[{words:n}]},Qxe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!Eo.isSsr){var c,u,d=A8({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return uI(i);return Yxe({breakAll:s,children:i,maxLines:l,style:a},c,u,n,r)}return uI(i)},dI="#808080",Nl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,x=e.fill,b=x===void 0?dI:x,v=oI(e,Fxe),_=C.useMemo(function(){return Qxe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),N=v.dx,j=v.dy,A=v.angle,w=v.className,S=v.breakAll,T=oI(v,Hxe);if(!Sn(r)||!Sn(a))return null;var P=r+(ce(N)?N:0),O=a+(ce(j)?j:0),R;switch(g){case"start":R=Kb("calc(".concat(u,")"));break;case"middle":R=Kb("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=Kb("calc(".concat(_.length-1," * -").concat(l,")"));break}var I=[];if(f){var $=_[0].width,L=v.width;I.push("scale(".concat((ce(L)?L/$:1)/$,")"))}return A&&I.push("rotate(".concat(A,", ").concat(P,", ").concat(O,")")),I.length&&(T.transform=I.join(" ")),B.createElement("text",m_({},Ee(T,!0),{x:P,y:O,className:He("recharts-text",w),textAnchor:p,fill:b.includes("url")?dI:b}),_.map(function(U,D){var z=U.words.join(S?"":" ");return B.createElement("tspan",{x:P,dy:D===0?R:l,key:"".concat(z,"-").concat(D)},z)}))};function no(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $A(t){let e,n,r;t.length!==2?(e=no,n=(l,c)=>no(t(l),c),r=(l,c)=>t(l)-c):(e=t===no||t===Zxe?t:Jxe,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function Jxe(){return 0}function E8(t){return t===null?NaN:+t}function*ebe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const tbe=$A(no),Pm=tbe.right;$A(E8).center;class fI extends Map{constructor(e,n=ibe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(hI(this,e))}has(e){return super.has(hI(this,e))}set(e,n){return super.set(nbe(this,e),n)}delete(e){return super.delete(rbe(this,e))}}function hI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ibe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function abe(t=no){if(t===no)return N8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function N8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sbe=Math.sqrt(50),obe=Math.sqrt(10),lbe=Math.sqrt(2);function Ry(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=sbe?10:a>=obe?5:a>=lbe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?Ry(t,e,n*2):[l,c,u]}function p_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Ry(e,t,n):Ry(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function g_(t,e,n){return e=+e,t=+t,n=+n,Ry(t,e,n)[2]}function y_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?g_(e,t,n):g_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function T8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?N8:abe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(r,Math.floor(e+(c-u)*f/c+h));T8(t,e,p,y,i)}const a=t[e];let s=n,l=r;for(Yd(t,n,e),i(t[r],a)>0&&Yd(t,n,r);s<l;){for(Yd(t,s,l),++s,--l;i(t[s],a)<0;)++s;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Yd(t,n,l):(++l,Yd(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Yd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function cbe(t,e,n){if(t=Float64Array.from(ebe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pI(t);if(e>=1)return mI(t);var r,i=(r-1)*e,a=Math.floor(i),s=mI(T8(t,a).subarray(0,a+1)),l=pI(t.subarray(a+1));return s+(l-s)*(i-a)}}function ube(t,e,n=E8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return s+(l-s)*(i-a)}}function dbe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Ni(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ms(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v_=Symbol("implicit");function LA(){var t=new fI,e=[],n=[],r=v_;function i(a){let s=t.get(a);if(s===void 0){if(r!==v_)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fI;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LA(e,n).unknown(r)},Ni.apply(i,arguments),i}function jh(){var t=LA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,g=p?r:i;a=(g-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(g-y-a*(h-c))*d,s=a*(1-c),l&&(y=Math.round(y),s=Math.round(s));var x=dbe(h).map(function(b){return y+a*b});return n(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return jh(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ni.apply(f(),arguments)}function O8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O8(e())},t}function Bf(){return O8(jh.apply(null,arguments).paddingInner(1))}function BA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rm(){}var Sh=.7,My=1/Sh,Kc="\\s*([+-]?\\d+)\\s*",Ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fbe=/^#([0-9a-f]{3,8})$/,hbe=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),mbe=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),pbe=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${Ah}\\)$`),gbe=new RegExp(`^rgba\\(${da},${da},${da},${Ah}\\)$`),ybe=new RegExp(`^hsl\\(${Ah},${da},${da}\\)$`),vbe=new RegExp(`^hsla\\(${Ah},${da},${da},${Ah}\\)$`),gI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BA(Rm,Eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yI,formatHex:yI,formatHex8:xbe,formatHsl:bbe,formatRgb:vI,toString:vI});function yI(){return this.rgb().formatHex()}function xbe(){return this.rgb().formatHex8()}function bbe(){return k8(this).formatHsl()}function vI(){return this.rgb().formatRgb()}function Eh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fbe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xI(e):n===3?new Tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hbe.exec(t))?new Tr(e[1],e[2],e[3],1):(e=mbe.exec(t))?new Tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pbe.exec(t))?Bp(e[1],e[2],e[3],e[4]):(e=gbe.exec(t))?Bp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ybe.exec(t))?_I(e[1],e[2]/100,e[3]/100,1):(e=vbe.exec(t))?_I(e[1],e[2]/100,e[3]/100,e[4]):gI.hasOwnProperty(t)?xI(gI[t]):t==="transparent"?new Tr(NaN,NaN,NaN,0):null}function xI(t){return new Tr(t>>16&255,t>>8&255,t&255,1)}function Bp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tr(t,e,n,r)}function wbe(t){return t instanceof Rm||(t=Eh(t)),t?(t=t.rgb(),new Tr(t.r,t.g,t.b,t.opacity)):new Tr}function x_(t,e,n,r){return arguments.length===1?wbe(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BA(Tr,x_,C8(Rm,{brighter(t){return t=t==null?My:Math.pow(My,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tr(fl(this.r),fl(this.g),fl(this.b),Dy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bI,formatHex:bI,formatHex8:_be,formatRgb:wI,toString:wI}));function bI(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function _be(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function wI(){const t=Dy(this.opacity);return`${t===1?"rgb(":"rgba("}${fl(this.r)}, ${fl(this.g)}, ${fl(this.b)}${t===1?")":`, ${t})`}`}function Dy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zo(t){return t=fl(t),(t<16?"0":"")+t.toString(16)}function _I(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Mi(t,e,n,r)}function k8(t){if(t instanceof Mi)return new Mi(t.h,t.s,t.l,t.opacity);if(t instanceof Rm||(t=Eh(t)),!t)return new Mi;if(t instanceof Mi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(e===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Mi(s,l,c,t.opacity)}function jbe(t,e,n,r){return arguments.length===1?k8(t):new Mi(t,e,n,r??1)}function Mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BA(Mi,jbe,C8(Rm,{brighter(t){return t=t==null?My:Math.pow(My,t),new Mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sh:Math.pow(Sh,t),new Mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tr(Xb(t>=240?t-240:t+120,i,r),Xb(t,i,r),Xb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Mi(jI(this.h),Up(this.s),Up(this.l),Dy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dy(this.opacity);return`${t===1?"hsl(":"hsla("}${jI(this.h)}, ${Up(this.s)*100}%, ${Up(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jI(t){return t=(t||0)%360,t<0?t+360:t}function Up(t){return Math.max(0,Math.min(1,t||0))}function Xb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const UA=t=>()=>t;function Sbe(t,e){return function(n){return t+n*e}}function Abe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ebe(t){return(t=+t)==1?I8:function(e,n){return n-e?Abe(e,n,t):UA(isNaN(e)?n:e)}}function I8(t,e){var n=e-t;return n?Sbe(t,n):UA(isNaN(t)?e:t)}const SI=function t(e){var n=Ebe(e);function r(i,a){var s=n((i=x_(i)).r,(a=x_(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=I8(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Nbe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Tbe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Obe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=_d(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Cbe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $y(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kbe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_d(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var b_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yb=new RegExp(b_.source,"g");function Ibe(t){return function(){return t}}function Pbe(t){return function(e){return t(e)+""}}function Rbe(t,e){var n=b_.lastIndex=Yb.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=b_.exec(t))&&(i=Yb.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:$y(r,i)})),n=Yb.lastIndex;return n<e.length&&(a=e.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Pbe(c[0].x):Ibe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function _d(t,e){var n=typeof e,r;return e==null||n==="boolean"?UA(e):(n==="number"?$y:n==="string"?(r=Eh(e))?(e=r,SI):Rbe:e instanceof Eh?SI:e instanceof Date?Cbe:Tbe(e)?Nbe:Array.isArray(e)?Obe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kbe:$y)(t,e)}function VA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mbe(t,e){e===void 0&&(e=t,t=_d);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Dbe(t){return function(){return t}}function Ly(t){return+t}var AI=[0,1];function yr(t){return t}function w_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dbe(isNaN(e)?NaN:.5)}function $be(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Lbe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=w_(i,r),a=n(s,a)):(r=w_(r,i),a=n(a,s)),function(l){return a(r(l))}}function Bbe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=w_(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(l){var c=Pm(t,l,1,r)-1;return a[c](i[c](l))}}function Mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ex(){var t=AI,e=AI,n=_d,r,i,a,s=yr,l,c,u;function d(){var h=Math.min(t.length,e.length);return s!==yr&&(s=$be(t[0],t[h-1])),l=h>2?Bbe:Lbe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=l(e,t.map(r),$y)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ly),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=VA,d()},f.clamp=function(h){return arguments.length?(s=h?!0:yr,d()):s!==yr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function zA(){return ex()(yr,yr)}function Ube(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function By(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Au(t){return t=By(Math.abs(t)),t?t[1]:NaN}function Vbe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return a.reverse().join(e)}}function zbe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Fbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nh(t){if(!(e=Fbe.exec(t)))throw new Error("invalid format: "+t);var e;return new FA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nh.prototype=FA.prototype;function FA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hbe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var P8;function qbe(t,e){var n=By(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(P8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+By(t,Math.max(0,e+a-1))[0]}function EI(t,e){var n=By(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const NI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ube,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EI(t*100,e),r:EI,s:qbe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TI(t){return t}var OI=Array.prototype.map,CI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gbe(t){var e=t.grouping===void 0||t.thousands===void 0?TI:Vbe(OI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?TI:zbe(OI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Nh(f);var h=f.fill,p=f.align,y=f.sign,g=f.symbol,x=f.zero,b=f.width,v=f.comma,_=f.precision,N=f.trim,j=f.type;j==="n"?(v=!0,j="g"):NI[j]||(_===void 0&&(_=12),N=!0,j="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",w=g==="$"?r:/[%p]/.test(j)?s:"",S=NI[j],T=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(O){var R=A,I=w,$,L,U;if(j==="c")I=S(O)+I,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?c:S(Math.abs(O),_),N&&(O=Hbe(O)),D&&+O==0&&y!=="+"&&(D=!1),R=(D?y==="("?y:l:y==="-"||y==="("?"":y)+R,I=(j==="s"?CI[8+P8/3]:"")+I+(D&&y==="("?")":""),T){for($=-1,L=O.length;++$<L;)if(U=O.charCodeAt($),48>U||U>57){I=(U===46?i+O.slice($+1):O.slice($))+I,O=O.slice(0,$);break}}}v&&!x&&(O=e(O,1/0));var z=R.length+O.length+I.length,V=z<b?new Array(b-z+1).join(h):"";switch(v&&x&&(O=e(V+O,V.length?b-I.length:1/0),V=""),p){case"<":O=R+O+I+V;break;case"=":O=R+V+O+I;break;case"^":O=V.slice(0,z=V.length>>1)+R+O+I+V.slice(z);break;default:O=V+R+O+I;break}return a(O)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Nh(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Au(h)/3)))*3,g=Math.pow(10,-y),x=CI[8+y/3];return function(b){return p(g*b)+x}}return{format:u,formatPrefix:d}}var Vp,HA,R8;Wbe({thousands:",",grouping:[3],currency:["$",""]});function Wbe(t){return Vp=Gbe(t),HA=Vp.format,R8=Vp.formatPrefix,Vp}function Kbe(t){return Math.max(0,-Au(Math.abs(t)))}function Xbe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Au(e)/3)))*3-Au(Math.abs(t)))}function Ybe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Au(e)-Au(t))+1}function M8(t,e,n,r){var i=y_(t,e,n),a;switch(r=Nh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Xbe(i,s))&&(r.precision=a),R8(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ybe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Kbe(i))&&(r.precision=a-(r.type==="%")*2);break}}return HA(r)}function No(t){var e=t.domain;return t.ticks=function(n){var r=e();return p_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return M8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],l=r[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=g_(s,l,n),u===c)return r[i]=s,r[a]=l,e(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Uy(){var t=zA();return t.copy=function(){return Mm(t,Uy())},Ni.apply(t,arguments),No(t)}function D8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ly),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return D8(t).unknown(e)},t=arguments.length?Array.from(t,Ly):[0,1],No(n)}function $8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function kI(t){return Math.log(t)}function II(t){return Math.exp(t)}function Qbe(t){return-Math.log(-t)}function Zbe(t){return-Math.exp(-t)}function Jbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function e1e(t){return t===10?Jbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function t1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function PI(t){return(e,n)=>-t(-e,n)}function qA(t){const e=t(kI,II),n=e.domain;let r=10,i,a;function s(){return i=t1e(r),a=e1e(r),n()[0]<0?(i=PI(i),a=PI(a),t(Qbe,Zbe)):t(kI,II),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),y,g;const x=l==null?10:+l;let b=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(g=h<0?y/a(-h):y*a(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/a(-h):y*a(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<x&&(b=p_(u,d,x))}else b=p_(h,p,Math.min(p-h,x)).map(a);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Nh(c)).precision==null&&(c.trim=!0),c=HA(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n($8(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function L8(){const t=qA(ex()).domain([1,10]);return t.copy=()=>Mm(t,L8()).base(t.base()),Ni.apply(t,arguments),t}function RI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function GA(t){var e=1,n=t(RI(e),MI(e));return n.constant=function(r){return arguments.length?t(RI(e=+r),MI(e)):e},No(n)}function B8(){var t=GA(ex());return t.copy=function(){return Mm(t,B8()).constant(t.constant())},Ni.apply(t,arguments)}function DI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function n1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function r1e(t){return t<0?-t*t:t*t}function WA(t){var e=t(yr,yr),n=1;function r(){return n===1?t(yr,yr):n===.5?t(n1e,r1e):t(DI(n),DI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},No(e)}function KA(){var t=WA(ex());return t.copy=function(){return Mm(t,KA()).exponent(t.exponent())},Ni.apply(t,arguments),t}function i1e(){return KA.apply(null,arguments).exponent(.5)}function $I(t){return Math.sign(t)*t*t}function a1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function U8(){var t=zA(),e=[0,1],n=!1,r;function i(a){var s=a1e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert($I(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Ly)).map($I)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return U8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ni.apply(i,arguments),No(i)}function V8(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=ube(t,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Pm(n,s)]}return a.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(no),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return V8().domain(t).range(e).unknown(r)},Ni.apply(a,arguments)}function z8(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Pm(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return z8().domain([t,e]).range(i).unknown(a)},Ni.apply(No(s),arguments)}function F8(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Pm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return F8().domain(t).range(e).unknown(n)},Ni.apply(i,arguments)}const Qb=new Date,Zb=new Date;function Tn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<s);return c},i.filter=a=>Tn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!a(s););else for(;--l>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Qb.setTime(+a),Zb.setTime(+s),t(Qb),t(Zb),Math.floor(n(Qb,Zb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Vy=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vy);Vy.range;const Va=1e3,vi=Va*60,za=vi*60,os=za*24,XA=os*7,LI=os*30,Jb=os*365,Jo=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCSeconds());Jo.range;const YA=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Va)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getMinutes());YA.range;const QA=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCMinutes());QA.range;const ZA=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Va-t.getMinutes()*vi)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getHours());ZA.range;const JA=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCHours());JA.range;const Dm=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vi)/os,t=>t.getDate()-1);Dm.range;const tx=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/os,t=>t.getUTCDate()-1);tx.range;const H8=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/os,t=>Math.floor(t/os));H8.range;function Gl(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vi)/XA)}const nx=Gl(0),zy=Gl(1),s1e=Gl(2),o1e=Gl(3),Eu=Gl(4),l1e=Gl(5),c1e=Gl(6);nx.range;zy.range;s1e.range;o1e.range;Eu.range;l1e.range;c1e.range;function Wl(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/XA)}const rx=Wl(0),Fy=Wl(1),u1e=Wl(2),d1e=Wl(3),Nu=Wl(4),f1e=Wl(5),h1e=Wl(6);rx.range;Fy.range;u1e.range;d1e.range;Nu.range;f1e.range;h1e.range;const eE=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eE.range;const tE=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tE.range;const ls=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ls.range;const cs=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());cs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});cs.range;function q8(t,e,n,r,i,a){const s=[[Jo,1,Va],[Jo,5,5*Va],[Jo,15,15*Va],[Jo,30,30*Va],[a,1,vi],[a,5,5*vi],[a,15,15*vi],[a,30,30*vi],[i,1,za],[i,3,3*za],[i,6,6*za],[i,12,12*za],[r,1,os],[r,2,2*os],[n,1,XA],[e,1,LI],[e,3,3*LI],[t,1,Jb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=$A(([,,x])=>x).right(s,h);if(p===s.length)return t.every(y_(u/Jb,d/Jb,f));if(p===0)return Vy.every(Math.max(y_(u,d,f),1));const[y,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(g)}return[l,c]}const[m1e,p1e]=q8(cs,tE,rx,H8,JA,QA),[g1e,y1e]=q8(ls,eE,nx,Dm,ZA,YA);function e1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function t1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function v1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=Zd(i),d=Jd(i),f=Zd(a),h=Jd(a),p=Zd(s),y=Jd(s),g=Zd(l),x=Jd(l),b=Zd(c),v=Jd(c),_={a:D,A:z,b:V,B:X,c:null,d:HI,e:HI,f:V1e,g:Q1e,G:J1e,H:L1e,I:B1e,j:U1e,L:G8,m:z1e,M:F1e,p:Y,q:K,Q:WI,s:KI,S:H1e,u:q1e,U:G1e,V:W1e,w:K1e,W:X1e,x:null,X:null,y:Y1e,Y:Z1e,Z:ewe,"%":GI},N={a:F,A:te,b:H,B:ue,c:null,d:qI,e:qI,f:iwe,g:mwe,G:gwe,H:twe,I:nwe,j:rwe,L:K8,m:awe,M:swe,p:oe,q:ge,Q:WI,s:KI,S:owe,u:lwe,U:cwe,V:uwe,w:dwe,W:fwe,x:null,X:null,y:hwe,Y:pwe,Z:ywe,"%":GI},j={a:P,A:O,b:R,B:I,c:$,d:zI,e:zI,f:R1e,g:VI,G:UI,H:FI,I:FI,j:C1e,L:P1e,m:O1e,M:k1e,p:T,q:T1e,Q:D1e,s:$1e,S:I1e,u:j1e,U:S1e,V:A1e,w:_1e,W:E1e,x:L,X:U,y:VI,Y:UI,Z:N1e,"%":M1e};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),N.x=A(n,N),N.X=A(r,N),N.c=A(e,N);function A(G,he){return function(ye){var ne=[],Oe=-1,ve=0,Ae=G.length,le,fe,Ne;for(ye instanceof Date||(ye=new Date(+ye));++Oe<Ae;)G.charCodeAt(Oe)===37&&(ne.push(G.slice(ve,Oe)),(fe=BI[le=G.charAt(++Oe)])!=null?le=G.charAt(++Oe):fe=le==="e"?" ":"0",(Ne=he[le])&&(le=Ne(ye,fe)),ne.push(le),ve=Oe+1);return ne.push(G.slice(ve,Oe)),ne.join("")}}function w(G,he){return function(ye){var ne=Qd(1900,void 0,1),Oe=S(ne,G,ye+="",0),ve,Ae;if(Oe!=ye.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(he&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(ve=t1(Qd(ne.y,0,1)),Ae=ve.getUTCDay(),ve=Ae>4||Ae===0?Fy.ceil(ve):Fy(ve),ve=tx.offset(ve,(ne.V-1)*7),ne.y=ve.getUTCFullYear(),ne.m=ve.getUTCMonth(),ne.d=ve.getUTCDate()+(ne.w+6)%7):(ve=e1(Qd(ne.y,0,1)),Ae=ve.getDay(),ve=Ae>4||Ae===0?zy.ceil(ve):zy(ve),ve=Dm.offset(ve,(ne.V-1)*7),ne.y=ve.getFullYear(),ne.m=ve.getMonth(),ne.d=ve.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Ae="Z"in ne?t1(Qd(ne.y,0,1)).getUTCDay():e1(Qd(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Ae+5)%7:ne.w+ne.U*7-(Ae+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,t1(ne)):e1(ne)}}function S(G,he,ye,ne){for(var Oe=0,ve=he.length,Ae=ye.length,le,fe;Oe<ve;){if(ne>=Ae)return-1;if(le=he.charCodeAt(Oe++),le===37){if(le=he.charAt(Oe++),fe=j[le in BI?he.charAt(Oe++):le],!fe||(ne=fe(G,ye,ne))<0)return-1}else if(le!=ye.charCodeAt(ne++))return-1}return ne}function T(G,he,ye){var ne=u.exec(he.slice(ye));return ne?(G.p=d.get(ne[0].toLowerCase()),ye+ne[0].length):-1}function P(G,he,ye){var ne=p.exec(he.slice(ye));return ne?(G.w=y.get(ne[0].toLowerCase()),ye+ne[0].length):-1}function O(G,he,ye){var ne=f.exec(he.slice(ye));return ne?(G.w=h.get(ne[0].toLowerCase()),ye+ne[0].length):-1}function R(G,he,ye){var ne=b.exec(he.slice(ye));return ne?(G.m=v.get(ne[0].toLowerCase()),ye+ne[0].length):-1}function I(G,he,ye){var ne=g.exec(he.slice(ye));return ne?(G.m=x.get(ne[0].toLowerCase()),ye+ne[0].length):-1}function $(G,he,ye){return S(G,e,he,ye)}function L(G,he,ye){return S(G,n,he,ye)}function U(G,he,ye){return S(G,r,he,ye)}function D(G){return s[G.getDay()]}function z(G){return a[G.getDay()]}function V(G){return c[G.getMonth()]}function X(G){return l[G.getMonth()]}function Y(G){return i[+(G.getHours()>=12)]}function K(G){return 1+~~(G.getMonth()/3)}function F(G){return s[G.getUTCDay()]}function te(G){return a[G.getUTCDay()]}function H(G){return c[G.getUTCMonth()]}function ue(G){return l[G.getUTCMonth()]}function oe(G){return i[+(G.getUTCHours()>=12)]}function ge(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var he=A(G+="",_);return he.toString=function(){return G},he},parse:function(G){var he=w(G+="",!1);return he.toString=function(){return G},he},utcFormat:function(G){var he=A(G+="",N);return he.toString=function(){return G},he},utcParse:function(G){var he=w(G+="",!0);return he.toString=function(){return G},he}}}var BI={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,x1e=/^%/,b1e=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function w1e(t){return t.replace(b1e,"\\$&")}function Zd(t){return new RegExp("^(?:"+t.map(w1e).join("|")+")","i")}function Jd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _1e(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function j1e(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function S1e(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function A1e(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function E1e(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UI(t,e,n){var r=Ln.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function VI(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function N1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T1e(t,e,n){var r=Ln.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function O1e(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zI(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function C1e(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function FI(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function k1e(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function I1e(t,e,n){var r=Ln.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function P1e(t,e,n){var r=Ln.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function R1e(t,e,n){var r=Ln.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function M1e(t,e,n){var r=x1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function D1e(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $1e(t,e,n){var r=Ln.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HI(t,e){return ut(t.getDate(),e,2)}function L1e(t,e){return ut(t.getHours(),e,2)}function B1e(t,e){return ut(t.getHours()%12||12,e,2)}function U1e(t,e){return ut(1+Dm.count(ls(t),t),e,3)}function G8(t,e){return ut(t.getMilliseconds(),e,3)}function V1e(t,e){return G8(t,e)+"000"}function z1e(t,e){return ut(t.getMonth()+1,e,2)}function F1e(t,e){return ut(t.getMinutes(),e,2)}function H1e(t,e){return ut(t.getSeconds(),e,2)}function q1e(t){var e=t.getDay();return e===0?7:e}function G1e(t,e){return ut(nx.count(ls(t)-1,t),e,2)}function W8(t){var e=t.getDay();return e>=4||e===0?Eu(t):Eu.ceil(t)}function W1e(t,e){return t=W8(t),ut(Eu.count(ls(t),t)+(ls(t).getDay()===4),e,2)}function K1e(t){return t.getDay()}function X1e(t,e){return ut(zy.count(ls(t)-1,t),e,2)}function Y1e(t,e){return ut(t.getFullYear()%100,e,2)}function Q1e(t,e){return t=W8(t),ut(t.getFullYear()%100,e,2)}function Z1e(t,e){return ut(t.getFullYear()%1e4,e,4)}function J1e(t,e){var n=t.getDay();return t=n>=4||n===0?Eu(t):Eu.ceil(t),ut(t.getFullYear()%1e4,e,4)}function ewe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function qI(t,e){return ut(t.getUTCDate(),e,2)}function twe(t,e){return ut(t.getUTCHours(),e,2)}function nwe(t,e){return ut(t.getUTCHours()%12||12,e,2)}function rwe(t,e){return ut(1+tx.count(cs(t),t),e,3)}function K8(t,e){return ut(t.getUTCMilliseconds(),e,3)}function iwe(t,e){return K8(t,e)+"000"}function awe(t,e){return ut(t.getUTCMonth()+1,e,2)}function swe(t,e){return ut(t.getUTCMinutes(),e,2)}function owe(t,e){return ut(t.getUTCSeconds(),e,2)}function lwe(t){var e=t.getUTCDay();return e===0?7:e}function cwe(t,e){return ut(rx.count(cs(t)-1,t),e,2)}function X8(t){var e=t.getUTCDay();return e>=4||e===0?Nu(t):Nu.ceil(t)}function uwe(t,e){return t=X8(t),ut(Nu.count(cs(t),t)+(cs(t).getUTCDay()===4),e,2)}function dwe(t){return t.getUTCDay()}function fwe(t,e){return ut(Fy.count(cs(t)-1,t),e,2)}function hwe(t,e){return ut(t.getUTCFullYear()%100,e,2)}function mwe(t,e){return t=X8(t),ut(t.getUTCFullYear()%100,e,2)}function pwe(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function gwe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Nu(t):Nu.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function ywe(){return"+0000"}function GI(){return"%"}function WI(t){return+t}function KI(t){return Math.floor(+t/1e3)}var ac,Y8,Q8;vwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vwe(t){return ac=v1e(t),Y8=ac.format,ac.parse,Q8=ac.utcFormat,ac.utcParse,ac}function xwe(t){return new Date(t)}function bwe(t){return t instanceof Date?+t:+new Date(+t)}function nE(t,e,n,r,i,a,s,l,c,u){var d=zA(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),v=u("%b %d"),_=u("%B"),N=u("%Y");function j(A){return(c(A)<A?p:l(A)<A?y:s(A)<A?g:a(A)<A?x:r(A)<A?i(A)<A?b:v:n(A)<A?_:N)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,bwe)):h().map(xwe)},d.ticks=function(A){var w=h();return t(w[0],w[w.length-1],A??10)},d.tickFormat=function(A,w){return w==null?j:u(w)},d.nice=function(A){var w=h();return(!A||typeof A.range!="function")&&(A=e(w[0],w[w.length-1],A??10)),A?h($8(w,A)):d},d.copy=function(){return Mm(d,nE(t,e,n,r,i,a,s,l,c,u))},d}function wwe(){return Ni.apply(nE(g1e,y1e,ls,eE,nx,Dm,ZA,YA,Jo,Y8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _we(){return Ni.apply(nE(m1e,p1e,cs,tE,rx,tx,JA,QA,Jo,Q8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ix(){var t=0,e=1,n,r,i,a,s=yr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,s=f(p,y),u):[s(0),s(1)]}}return u.range=d(_d),u.rangeRound=d(VA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function To(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z8(){var t=No(ix()(yr));return t.copy=function(){return To(t,Z8())},ms.apply(t,arguments)}function J8(){var t=qA(ix()).domain([1,10]);return t.copy=function(){return To(t,J8()).base(t.base())},ms.apply(t,arguments)}function eB(){var t=GA(ix());return t.copy=function(){return To(t,eB()).constant(t.constant())},ms.apply(t,arguments)}function rE(){var t=WA(ix());return t.copy=function(){return To(t,rE()).exponent(t.exponent())},ms.apply(t,arguments)}function jwe(){return rE.apply(null,arguments).exponent(.5)}function tB(){var t=[],e=yr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Pm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(no),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>cbe(t,a/r))},n.copy=function(){return tB(e).domain(t)},ms.apply(n,arguments)}function ax(){var t=0,e=.5,n=1,r=1,i,a,s,l,c,u=yr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),s=d(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(x){var b,v,_;return arguments.length?([b,v,_]=x,u=Mbe(g,[b,v,_]),p):[u(0),u(.5),u(1)]}}return p.range=y(_d),p.rangeRound=y(VA),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function nB(){var t=No(ax()(yr));return t.copy=function(){return To(t,nB())},ms.apply(t,arguments)}function rB(){var t=qA(ax()).domain([.1,1,10]);return t.copy=function(){return To(t,rB()).base(t.base())},ms.apply(t,arguments)}function iB(){var t=GA(ax());return t.copy=function(){return To(t,iB()).constant(t.constant())},ms.apply(t,arguments)}function iE(){var t=WA(ax());return t.copy=function(){return To(t,iE()).exponent(t.exponent())},ms.apply(t,arguments)}function Swe(){return iE.apply(null,arguments).exponent(.5)}const XI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jh,scaleDiverging:nB,scaleDivergingLog:rB,scaleDivergingPow:iE,scaleDivergingSqrt:Swe,scaleDivergingSymlog:iB,scaleIdentity:D8,scaleImplicit:v_,scaleLinear:Uy,scaleLog:L8,scaleOrdinal:LA,scalePoint:Bf,scalePow:KA,scaleQuantile:V8,scaleQuantize:z8,scaleRadial:U8,scaleSequential:Z8,scaleSequentialLog:J8,scaleSequentialPow:rE,scaleSequentialQuantile:tB,scaleSequentialSqrt:jwe,scaleSequentialSymlog:eB,scaleSqrt:i1e,scaleSymlog:B8,scaleThreshold:F8,scaleTime:wwe,scaleUtc:_we,tickFormat:M8},Symbol.toStringTag,{value:"Module"}));var Awe=hd;function Ewe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(l===void 0?s===s&&!Awe(s):n(s,l)))var l=s,c=a}return c}var sx=Ewe;function Nwe(t,e){return t>e}var aB=Nwe,Twe=sx,Owe=aB,Cwe=wd;function kwe(t){return t&&t.length?Twe(t,Cwe,Owe):void 0}var Iwe=kwe;const Vs=pt(Iwe);function Pwe(t,e){return t<e}var sB=Pwe,Rwe=sx,Mwe=sB,Dwe=wd;function $we(t){return t&&t.length?Rwe(t,Dwe,Mwe):void 0}var Lwe=$we;const ox=pt(Lwe);var Bwe=vA,Uwe=_a,Vwe=m8,zwe=Rr;function Fwe(t,e){var n=zwe(t)?Bwe:Vwe;return n(t,Uwe(e))}var Hwe=Fwe,qwe=f8,Gwe=Hwe;function Wwe(t,e){return qwe(Gwe(t,e),1)}var Kwe=Wwe;const Xwe=pt(Kwe);var Ywe=PA;function Qwe(t,e){return Ywe(t,e)}var Zwe=Qwe;const Tl=pt(Zwe);var jd=1e9,Jwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sE,Gt=!0,ji="[DecimalError] ",hl=ji+"Invalid argument: ",aE=ji+"Exponent out of range: ",Sd=Math.floor,Go=Math.pow,e_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,In=1e7,Rt=7,oB=9007199254740991,Hy=Sd(oB/Rt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return Ya(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return At(Ya(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return gn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gr))throw Error(ji+"NaN");if(n.s<1)throw Error(ji+(n.s?"NaN":"-Infinity"));return n.eq(Gr)?new r(0):(Gt=!1,e=Ya(Th(n,a),Th(t,a),a),Gt=!0,At(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uB(e,t):lB(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ji+"NaN");return n.s?(Gt=!1,e=Ya(n,t,0,1).times(t),Gt=!0,n.minus(e)):At(new r(n),i)};we.naturalExponential=we.exp=function(){return cB(this)};we.naturalLogarithm=we.ln=function(){return Th(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lB(e,t):uB(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hl+t);if(e=gn(i)+1,r=i.d.length-1,n=r*Rt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ji+"NaN")}for(t=gn(l),Gt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ra(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Ya(l,a,s+2)).times(.5),ra(a.d).slice(0,s)===(e=ra(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;s+=4}return Gt=!0,At(r,n)};we.times=we.mul=function(t){var e,n,r,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+p[r]*h[i-r-1]+e,a[i--]=l%In|0,e=l/In|0;a[i]=(a[i]+e)%In|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gt?At(t,f.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ya(t,0,jd),e===void 0?e=r.rounding:ya(e,0,8),At(n,t+gn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ol(r,!0):(ya(t,0,jd),e===void 0?e=i.rounding:ya(e,0,8),r=At(new i(r),t+1,e),n=Ol(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ol(i):(ya(t,0,jd),e===void 0?e=a.rounding:ya(e,0,8),r=At(new a(i),t+gn(i)+1,e),n=Ol(r.abs(),!1,t+gn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return At(new e(t),gn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,a,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Gr);if(l=new c(l),!l.s){if(t.s<1)throw Error(ji+"Infinity");return l}if(l.eq(Gr))return l;if(r=c.precision,t.eq(Gr))return At(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=l.s,s){if((n=d<0?-d:d)<=oB){for(i=new c(Gr),e=Math.ceil(r/Rt+4),Gt=!1;n%2&&(i=i.times(l),QI(i.d,e)),n=Sd(n/2),n!==0;)l=l.times(l),QI(l.d,e);return Gt=!0,t.s<0?new c(Gr).div(i):At(i,r)}}else if(a<0)throw Error(ji+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Gt=!1,i=t.times(Th(l,r+u)),Gt=!0,i=cB(i),i.s=a,i};we.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=gn(i),r=Ol(i,n<=a.toExpNeg||n>=a.toExpPos)):(ya(t,1,jd),e===void 0?e=a.rounding:ya(e,0,8),i=At(new a(i),t,e),n=gn(i),r=Ol(i,t<=n||n<=a.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ya(t,1,jd),e===void 0?e=r.rounding:ya(e,0,8)),At(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gn(t),n=t.constructor;return Ol(t,e<=n.toExpNeg||e>=n.toExpPos)};function lB(t,e){var n,r,i,a,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Gt?At(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),s=Math.ceil(f/Rt),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/In|0,c[a]%=In;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Gt?At(e,f):e}function ya(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hl+t)}function ra(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(a+=Es(n)),a+=r;s=t[e],r=s+"",n=Rt-r.length,n&&(a+=Es(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ya=function(){function t(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%In|0,s=a/In|0;return s&&r.unshift(s),r}function e(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*In+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,u,d,f,h,p,y,g,x,b,v,_,N,j,A,w,S,T=r.constructor,P=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(ji+"Division by zero");for(c=r.e-i.e,w=R.length,j=O.length,p=new T(P),y=p.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--c,a==null?v=a=T.precision:s?v=a+(gn(r)-gn(i))+1:v=a,v<0)return new T(0);if(v=v/Rt+2|0,u=0,w==1)for(d=0,R=R[0],v++;(u<j||d)&&v--;u++)_=d*In+(O[u]||0),y[u]=_/R|0,d=_%R|0;else{for(d=In/(R[0]+1)|0,d>1&&(R=t(R,d),O=t(O,d),w=R.length,j=O.length),N=w,g=O.slice(0,w),x=g.length;x<w;)g[x++]=0;S=R.slice(),S.unshift(0),A=R[0],R[1]>=In/2&&++A;do d=0,l=e(R,g,w,x),l<0?(b=g[0],w!=x&&(b=b*In+(g[1]||0)),d=b/A|0,d>1?(d>=In&&(d=In-1),f=t(R,d),h=f.length,x=g.length,l=e(f,g,h,x),l==1&&(d--,n(f,w<h?S:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<x&&f.unshift(0),n(g,f,x),l==-1&&(x=g.length,l=e(R,g,w,x),l<1&&(d++,n(g,w<x?S:R,x))),x=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[x++]=O[N]||0:(g=[O[N]],x=1);while((N++<j||g[0]!==void 0)&&v--)}return y[0]||y.shift(),p.e=c,At(p,s?a+gn(p)+1:a)}}();function cB(t,e){var n,r,i,a,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(gn(t)>16)throw Error(aE+gn(t));if(!t.s)return new d(Gr);for(Gt=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Go(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(Gr),d.precision=l;;){if(i=At(i.times(t),l),n=n.times(++c),s=a.plus(Ya(i,n,l)),ra(s.d).slice(0,l)===ra(a.d).slice(0,l)){for(;u--;)a=At(a.times(a),l);return d.precision=f,e==null?(Gt=!0,At(a,f)):a}a=s}}function gn(t){for(var e=t.e*Rt,n=t.d[0];n>=10;n/=10)e++;return e}function n1(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(ji+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Es(t){for(var e="";t--;)e+="0";return e}function Th(t,e){var n,r,i,a,s,l,c,u,d,f=1,h=10,p=t,y=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(ji+(p.s?"NaN":"-Infinity"));if(p.eq(Gr))return new g(0);if(e==null?(Gt=!1,u=x):u=e,p.eq(10))return e==null&&(Gt=!0),n1(g,u);if(u+=h,g.precision=u,n=ra(y),r=n.charAt(0),a=gn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ra(p.d),r=n.charAt(0),f++;a=gn(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return c=n1(g,u+2,x).times(a+""),p=Th(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=x,e==null?(Gt=!0,At(p,x)):p;for(l=s=p=Ya(p.minus(Gr),p.plus(Gr),u),d=At(p.times(p),u),i=3;;){if(s=At(s.times(d),u),c=l.plus(Ya(s,new g(i),u)),ra(c.d).slice(0,u)===ra(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(n1(g,u+2,x).times(a+""))),l=Ya(l,new g(f),u),g.precision=x,e==null?(Gt=!0,At(l,x)):l;l=c,i+=2}}function YI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sd(n/Rt),t.d=[],r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Hy||t.e<-Hy))throw Error(aE+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,a,s,l,c,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Rt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Rt),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=Rt,i=r-Rt+s}if(n!==void 0&&(a=Go(10,s-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Go(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=gn(t),f.length=1,e=e-a-1,f[0]=Go(10,(Rt-e%Rt)%Rt),t.e=Sd(-e/Rt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Go(10,Rt-r),f[d]=i>0?(u/Go(10,s-i)%Go(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==In&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=In)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Gt&&(t.e>Hy||t.e<-Hy))throw Error(aE+gn(t));return t}function uB(t,e){var n,r,i,a,s,l,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Gt?At(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(p/Rt),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=In-1;--c[a],c[i]+=In}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Gt?At(e,p):e):new h(0)}function Ol(t,e,n){var r,i=gn(t),a=ra(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Es(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Es(-i-1)+a,n&&(r=n-s)>0&&(a+=Es(r))):i>=s?(a+=Es(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Es(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Es(r))),t.s<0?"-"+a:a}function QI(t,e){if(t.length>e)return t.length=e,!0}function dB(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return YI(s,a.toString())}else if(typeof a!="string")throw Error(hl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,e_e.test(a))YI(s,a);else throw Error(hl+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dB,i.config=i.set=t_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function t_e(t){if(!t||typeof t!="object")throw Error(ji+"Object expected");var e,n,r,i=["precision",1,jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hl+n+": "+r);return this}var sE=dB(Jwe);Gr=new sE(1);const bt=sE;function n_e(t){return s_e(t)||a_e(t)||i_e(t)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_e(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function a_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function s_e(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o_e=function(e){return e},fB={},hB=function(e){return e===fB},ZI=function(e){return function n(){return arguments.length===0||arguments.length===1&&hB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},l_e=function t(e,n){return e===1?n:ZI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==fB}).length;return s>=e?n.apply(void 0,i):t(e-s,ZI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return hB(f)?c.shift():f});return n.apply(void 0,n_e(d).concat(c))}))})},lx=function(e){return l_e(e.length,e)},j_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},c_e=lx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),u_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return o_e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},S_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},mB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function d_e(t){var e;return t===0?e=1:e=Math.floor(new bt(t).abs().log(10).toNumber())+1,e}function f_e(t,e,n){for(var r=new bt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var h_e=lx(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),m_e=lx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),p_e=lx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const cx={rangeStep:f_e,getDigitCount:d_e,interpolateNumber:h_e,uninterpolateNumber:m_e,uninterpolateTruncation:p_e};function A_(t){return v_e(t)||y_e(t)||pB(t)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function v_e(t){if(Array.isArray(t))return E_(t)}function Oh(t,e){return w_e(t)||b_e(t,e)||pB(t,e)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b_e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function w_e(t){if(Array.isArray(t))return t}function gB(t){var e=Oh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function yB(t,e,n){if(t.lte(0))return new bt(0);var r=cx.getDigitCount(t.toNumber()),i=new bt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,l=new bt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new bt(Math.ceil(c))}function __e(t,e,n){var r=1,i=new bt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new bt(10).pow(cx.getDigitCount(t)-1),i=new bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new bt(Math.floor(t)))}else t===0?i=new bt(Math.floor((e-1)/2)):n||(i=new bt(Math.floor(t)));var s=Math.floor((e-1)/2),l=u_e(c_e(function(c){return i.add(new bt(c-s).mul(r)).toNumber()}),j_);return l(0,e)}function vB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var a=yB(new bt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new bt(0):(s=new bt(t).add(e).div(2),s=s.sub(new bt(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new bt(e).sub(s).div(a).toNumber()),u=l+c+1;return u>n?vB(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:a,tickMin:s.sub(new bt(l).mul(a)),tickMax:s.add(new bt(c).mul(a))})}function j_e(t){var e=Oh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=gB([n,r]),c=Oh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(A_(j_(0,i-1).map(function(){return 1/0}))):[].concat(A_(j_(0,i-1).map(function(){return-1/0})),[d]);return n>r?S_(f):f}if(u===d)return __e(u,i,a);var h=vB(u,d,s,a),p=h.step,y=h.tickMin,g=h.tickMax,x=cx.rangeStep(y,g.add(new bt(.1).mul(p)),p);return n>r?S_(x):x}function S_e(t,e){var n=Oh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=gB([r,i]),l=Oh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=yB(new bt(u).sub(c).div(d-1),a,0),h=[].concat(A_(cx.rangeStep(new bt(c),new bt(u).sub(new bt(.99).mul(f)),f)),[u]);return r>i?S_(h):h}var A_e=mB(j_e),E_e=mB(S_e),N_e="Invariant failed";function Cl(t,e){throw new Error(N_e)}var T_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}function O_e(t,e){return P_e(t)||I_e(t,e)||k_e(t,e)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_e(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function P_e(t){if(Array.isArray(t))return t}function R_e(t,e){if(t==null)return{};var n=M_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wB(r.key),r)}}function L_e(t,e,n){return e&&$_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B_e(t,e,n){return e=Gy(e),U_e(t,xB()?Reflect.construct(e,n||[],Gy(t).constructor):e.apply(t,n))}function U_e(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V_e(t)}function V_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!t})()}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gy(t)}function z_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function bB(t,e,n){return e=wB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wB(t){var e=F_e(t,"string");return Tu(e)=="symbol"?e:e+""}function F_e(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $m=function(t){function e(){return D_e(this,e),B_e(this,e,arguments)}return z_e(e,t),L_e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=R_e(r,T_e),p=Ee(h,!1);this.props.direction==="x"&&d.type!=="number"&&Cl();var y=c.map(function(g){var x=u(g,l),b=x.x,v=x.y,_=x.value,N=x.errorVal;if(!N)return null;var j=[],A,w;if(Array.isArray(N)){var S=O_e(N,2);A=S[0],w=S[1]}else A=w=N;if(a==="vertical"){var T=d.scale,P=v+i,O=P+s,R=P-s,I=T(_-A),$=T(_+w);j.push({x1:$,y1:O,x2:$,y2:R}),j.push({x1:I,y1:P,x2:$,y2:P}),j.push({x1:I,y1:O,x2:I,y2:R})}else if(a==="horizontal"){var L=f.scale,U=b+i,D=U-s,z=U+s,V=L(_-A),X=L(_+w);j.push({x1:D,y1:X,x2:z,y2:X}),j.push({x1:U,y1:V,x2:U,y2:X}),j.push({x1:D,y1:V,x2:z,y2:V})}return B.createElement(Je,qy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),j.map(function(Y){return B.createElement("line",qy({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return B.createElement(Je,{className:"recharts-errorBars"},y)}}])}(B.Component);bB($m,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bB($m,"displayName","ErrorBar");function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){H_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H_e(t,e,n){return e=q_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q_e(t){var e=G_e(t,"string");return Ch(e)=="symbol"?e:e+""}function G_e(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _B=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Fr(n,Wc);if(!s)return null;var l=Wc.defaultProps,c=l!==void 0?$o($o({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?$o($o({},h),f.props):{},y=p.dataKey,g=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:c.iconType||x||"square",color:oE(f),value:g||y,payload:p}}),$o($o($o({},c),Wc.getWithHeight(s,i)),{},{payload:u,item:s})};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function tP(t){return Y_e(t)||X_e(t)||K_e(t)||W_e()}function W_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function X_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y_e(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){Xc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xc(t,e,n){return e=Q_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_e(t){var e=Z_e(t,"string");return kh(e)=="symbol"?e:e+""}function Z_e(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function on(t,e,n){return Ve(t)||Ve(e)?n:Sn(e)?ei(t,e,n):Re(e)?e(t):n}function Uf(t,e,n,r){var i=Xwe(t,function(l){return on(l,e)});if(n==="number"){var a=i.filter(function(l){return ce(l)||parseFloat(l)});return a.length?[ox(a),Vs(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!Ve(l)}):i;return s.map(function(l){return Sn(l)||l instanceof Date?l:""})}var J_e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(pr(f-d)!==pr(h-f)){var y=[];if(pr(h-f)===pr(c[1]-c[0])){p=h;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var x=h+c[1]-c[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var v=Math.min(d,h),_=Math.max(d,h);if(e>(v+f)/2&&e<=(_+f)/2){s=i[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},oE=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},e2e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],g=y.items,x=y.cateAxisId,b=g.filter(function(w){return Xa(w.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,_=v!==void 0?Jt(Jt({},v),b[0].props):b[0].props,N=_.barSize,j=_[x];s[j]||(s[j]=[]);var A=Ve(N)?n:N;s[j].push({item:b[0],stackList:b.slice(1),barSize:Ve(A)?void 0:gr(A,r,0)})}}return s},t2e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=gr(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/c,y=s.reduce(function(N,j){return N+j.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=c*p);var g=(i-y)/2>>0,x={offset:g-u,size:0};d=s.reduce(function(N,j){var A={item:j.item,position:{offset:x.offset+x.size+u,size:h?p:j.barSize}},w=[].concat(tP(N),[A]);return x=w[w.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){w.push({item:S,position:x})}),w},f)}else{var b=gr(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var v=(i-2*b-(c-1)*u)/c;v>1&&(v>>=0);var _=l===+l?Math.min(v,l):v;d=s.reduce(function(N,j,A){var w=[].concat(tP(N),[{item:j.item,position:{offset:b+(v+u)*A+(v-_)/2,size:_}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){w.push({item:S,position:w[w.length-1].position})}),w},f)}return d},n2e=function(e,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),u=_B({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&ce(e[p]))return Jt(Jt({},e),{},Xc({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&ce(e[y]))return Jt(Jt({},e),{},Xc({},y,e[y]+(h||0)))}return e},r2e=function(e,n,r){return Ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},jB=function(e,n,r,i,a){var s=n.props.children,l=ti(s,$m).filter(function(u){return r2e(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=on(d,r);if(Ve(f))return u;var h=Array.isArray(f)?[ox(f),Vs(f)]:[f,f],p=c.reduce(function(y,g){var x=on(d,g,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},i2e=function(e,n,r,i,a){var s=n.map(function(l){return jB(e,l,r,a,i)}).filter(function(l){return!Ve(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},SB=function(e,n,r,i,a){var s=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&jB(e,c,u,i)||Uf(e,u,r,a)});if(r==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},AB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},EB=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,s,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},Fa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?pr(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!vd(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},r1=new WeakMap,zp=function(e,n){if(typeof n!="function")return e;r1.has(e)||r1.set(e,new WeakMap);var r=r1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},NB=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:jh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Uy(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Bf(),realScaleType:"point"}:a==="category"?{scale:jh(),realScaleType:"band"}:{scale:Uy(),realScaleType:"linear"};if(Al(i)){var c="scale".concat(Wv(i));return{scale:(XI[c]||Bf)(),realScaleType:XI[c]?c:"point"}}return Re(i)?{scale:i}:{scale:Bf(),realScaleType:"point"}},rP=1e-4,TB=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-rP,s=Math.max(i[0],i[1])+rP,l=e(n[0]),c=e(n[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([n[0],n[r-1]])}},a2e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},s2e=function(e,n){if(!n||n.length!==2||!ce(n[0])||!ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ce(e[0])||e[0]<r)&&(a[0]=r),(!ce(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},o2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=vd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},l2e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=vd(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},c2e={sign:o2e,expand:Tde,none:xu,silhouette:Ode,wiggle:Cde,positive:l2e},u2e=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=c2e[r],s=Nde().keys(i).value(function(l,c){return+on(l,c,0)}).order(Jw).offset(a);return s(e)},d2e=function(e,n,r,i,a,s){if(!e)return null;var l=s?n.reverse():n,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Jt(Jt({},h.type.defaultProps),h.props):h.props,g=y.stackId,x=y.hide;if(x)return f;var b=y[r],v=f[b]||{hasStack:!1,stackGroups:{}};if(Sn(g)){var _=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),v.hasStack=!0,v.stackGroups[g]=_}else v.stackGroups[ql("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Jt(Jt({},f),{},Xc({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var b=p.stackGroups[x];return Jt(Jt({},g),{},Xc({},x,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:u2e(e,b.items,a)}))},y)}return Jt(Jt({},f),{},Xc({},h,p))},d)},OB=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=A_e(u,a,l);return e.domain([ox(d),Vs(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=E_e(f,a,l);return{niceTicks:h}}return null};function Wy(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ve(i[e.dataKey])){var l=xy(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=on(i,Ve(s)?e.dataKey:s);return Ve(c)?null:e.scale(c)}var iP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=on(s,n.dataKey,n.domain[l]);return Ve(c)?null:n.scale(c)-a/2+i},f2e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},h2e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Sn(a)){var s=n[a];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},m2e=function(e){return e.reduce(function(n,r){return[ox(r.concat([n[0]]).filter(ce)),Vs(r.concat([n[1]]).filter(ce))]},[1/0,-1/0])},CB=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],l=s.stackedData,c=l.reduce(function(u,d){var f=m2e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O_=function(e,n,r){if(Re(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(aP.test(e[0])){var a=+aP.exec(e[0])[1];i[0]=n[0]-a}else Re(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(sP.test(e[1])){var s=+sP.exec(e[1])[1];i[1]=n[1]+s}else Re(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ky=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=MA(n,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},oP=function(e,n,r){return!e||!e.length||Tl(e,ei(r,"type.defaultProps.domain"))?n:e},kB=function(e,n){var r=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Jt(Jt({},Ee(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:oE(e),value:on(n,i),type:c,payload:n,chartType:u,hide:d})};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){IB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IB(t,e,n){return e=p2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p2e(t){var e=g2e(t,"string");return Ih(e)=="symbol"?e:e+""}function g2e(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y2e(t,e){return w2e(t)||b2e(t,e)||x2e(t,e)||v2e()}function v2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x2e(t,e){if(t){if(typeof t=="string")return cP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(t,e)}}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function w2e(t){if(Array.isArray(t))return t}var Xy=Math.PI/180,_2e=function(e){return e*180/Math.PI},Ot=function(e,n,r,i){return{x:e+Math.cos(-Xy*i)*r,y:n+Math.sin(-Xy*i)*r}},PB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},j2e=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=gr(e.cx,s,s/2),f=gr(e.cy,l,l/2),h=PB(s,l,r),p=gr(e.innerRadius,h,0),y=gr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(x,b){var v=n[b],_=v.domain,N=v.reversed,j;if(Ve(v.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,y]),N&&(j=[j[1],j[0]]);else{j=v.range;var A=j,w=y2e(A,2);c=w[0],u=w[1]}var S=NB(v,a),T=S.realScaleType,P=S.scale;P.domain(_).range(j),TB(P);var O=OB(P,ka(ka({},v),{},{realScaleType:T})),R=ka(ka(ka({},v),O),{},{range:j,radius:y,realScaleType:T,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return ka(ka({},x),{},IB({},b,R))},{})},S2e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},A2e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,l=S2e({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:_2e(u),angleInRadian:u}},E2e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},N2e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return e+l*360},uP=function(e,n){var r=e.x,i=e.y,a=A2e({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=E2e(n),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?ka(ka({},n),{},{radius:s,angle:N2e(p,n)}):null},RB=function(e){return!C.isValidElement(e)&&!Re(e)&&typeof e!="boolean"?e.className:""};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var T2e=["offset"];function O2e(t){return P2e(t)||I2e(t)||k2e(t)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function I2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P2e(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R2e(t,e){if(t==null)return{};var n=M2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){D2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D2e(t,e,n){return e=$2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2e(t){var e=L2e(t,"string");return Ph(e)=="symbol"?e:e+""}function L2e(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}var B2e=function(e){var n=e.value,r=e.formatter,i=Ve(e.children)?n:e.children;return Re(r)?r(i):i},U2e=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},V2e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,x=(f+h)/2,b=U2e(p,y),v=b>=0?1:-1,_,N;i==="insideStart"?(_=p+v*s,N=g):i==="insideEnd"?(_=y-v*s,N=!g):i==="end"&&(_=y+v*s,N=g),N=b<=0?N:!N;var j=Ot(u,d,x,_),A=Ot(u,d,x,_+(N?1:-1)*359),w="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(A.x,",").concat(A.y),S=Ve(e.id)?ql("recharts-radial-line-"):e.id;return B.createElement("text",Rh({},r,{dominantBaseline:"central",className:He("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:S,d:w})),B.createElement("textPath",{xlinkHref:"#".concat(S)},n))},z2e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Ot(s,l,u+r,h),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=Ot(s,l,x,h),v=b.x,_=b.y;return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},F2e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,x=g*i,b=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var _={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return bn(bn({},_),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return bn(bn({},N),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return bn(bn({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return bn(bn({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var w=r?{width:u,height:d}:{};return a==="insideLeft"?bn({x:l+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},w):a==="insideRight"?bn({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},w):a==="insideTop"?bn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},w):a==="insideBottom"?bn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},w):a==="insideTopLeft"?bn({x:l+x,y:c+h,textAnchor:v,verticalAnchor:y},w):a==="insideTopRight"?bn({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:y},w):a==="insideBottomLeft"?bn({x:l+x,y:c+d-h,textAnchor:v,verticalAnchor:p},w):a==="insideBottomRight"?bn({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:p},w):md(a)&&(ce(a.x)||Qo(a.x))&&(ce(a.y)||Qo(a.y))?bn({x:l+gr(a.x,u),y:c+gr(a.y,d),textAnchor:"end",verticalAnchor:"end"},w):bn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},w)},H2e=function(e){return"cx"in e&&ce(e.cx)};function Mn(t){var e=t.offset,n=e===void 0?5:e,r=R2e(t,T2e),i=bn({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Ve(l)&&Ve(c)&&!C.isValidElement(u)&&!Re(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var p;if(Re(u)){if(p=C.createElement(u,i),C.isValidElement(p))return p}else p=B2e(i);var y=H2e(a),g=Ee(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return V2e(i,p,g);var x=y?z2e(i):F2e(i);return B.createElement(Nl,Rh({className:He("recharts-label",f)},g,x,{breakAll:h}),p)}Mn.displayName="Label";var MB=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,g=e.width,x=e.height,b=e.clockWise,v=e.labelViewBox;if(v)return v;if(ce(g)&&ce(x)){if(ce(f)&&ce(h))return{x:f,y:h,width:g,height:x};if(ce(p)&&ce(y))return{x:p,y,width:g,height:x}}return ce(f)&&ce(h)?{x:f,y:h,width:0,height:0}:ce(n)&&ce(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},q2e=function(e,n){return e?e===!0?B.createElement(Mn,{key:"label-implicit",viewBox:n}):Sn(e)?B.createElement(Mn,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Mn?C.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):Re(e)?B.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):md(e)?B.createElement(Mn,Rh({viewBox:n},e,{key:"label-implicit"})):null:null},G2e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=MB(e),s=ti(i,Mn).map(function(c,u){return C.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return s;var l=q2e(e.label,n||a);return[l].concat(O2e(s))};Mn.parseViewBox=MB;Mn.renderCallByParent=G2e;function W2e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var K2e=W2e;const X2e=pt(K2e);function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}var Y2e=["valueAccessor"],Q2e=["data","dataKey","clockWise","id","textBreakAll"];function Z2e(t){return nje(t)||tje(t)||eje(t)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eje(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function tje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nje(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yy.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){rje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rje(t,e,n){return e=ije(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ije(t){var e=aje(t,"string");return Mh(e)=="symbol"?e:e+""}function aje(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mP(t,e){if(t==null)return{};var n=sje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oje=function(e){return Array.isArray(e.value)?X2e(e.value):e.value};function fa(t){var e=t.valueAccessor,n=e===void 0?oje:e,r=mP(t,Y2e),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=mP(r,Q2e);return!i||!i.length?null:B.createElement(Je,{className:"recharts-label-list"},i.map(function(d,f){var h=Ve(a)?n(d,f):on(d&&d.payload,a),p=Ve(l)?{}:{id:"".concat(l,"-").concat(f)};return B.createElement(Mn,Yy({},Ee(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Mn.parseViewBox(Ve(s)?d:hP(hP({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}fa.displayName="LabelList";function lje(t,e){return t?t===!0?B.createElement(fa,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Re(t)?B.createElement(fa,{key:"labelList-implicit",data:e,content:t}):md(t)?B.createElement(fa,Yy({data:e},t,{key:"labelList-implicit"})):null:null}function cje(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ti(r,fa).map(function(s,l){return C.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=lje(t.label,e);return[a].concat(Z2e(i))}fa.renderCallByParent=cje;function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){uje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uje(t,e,n){return e=dje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dje(t){var e=fje(t,"string");return Dh(e)=="symbol"?e:e+""}function fje(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hje=function(e,n){var r=pr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fp=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Xy,h=u?a:a+s*f,p=Ot(n,r,d,h),y=Ot(n,r,i,h),g=u?a-s*f:a,x=Ot(n,r,d*Math.cos(f*Xy),g);return{center:p,circleTangency:y,lineTangency:x,theta:f}},DB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,l=e.endAngle,c=hje(s,l),u=s+c,d=Ot(n,r,a,s),f=Ot(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ot(n,r,i,s),y=Ot(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},mje=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=pr(d-u),h=Fp({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,g=h.theta,x=Fp({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=x.circleTangency,v=x.lineTangency,_=x.theta,N=c?Math.abs(u-d):Math.abs(u-d)-g-_;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):DB({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var A=Fp({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),w=A.circleTangency,S=A.lineTangency,T=A.theta,P=Fp({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=P.circleTangency,R=P.lineTangency,I=P.theta,$=c?Math.abs(u-d):Math.abs(u-d)-T-I;if($<0&&s===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},pje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$B=function(e){var n=gP(gP({},pje),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<a||d===f)return null;var p=He("recharts-sector",h),y=s-a,g=gr(l,y,0,!0),x;return g>0&&Math.abs(d-f)<360?x=mje({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=DB({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),B.createElement("path",I_({},Ee(n,!0),{className:p,d:x,role:"img"}))};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){gje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gje(t,e,n){return e=yje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yje(t){var e=vje(t,"string");return $h(e)=="symbol"?e:e+""}function vje(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xP={curveBasisClosed:gde,curveBasisOpen:yde,curveBasis:pde,curveBumpX:tde,curveBumpY:nde,curveLinearClosed:vde,curveLinear:Xv,curveMonotoneX:xde,curveMonotoneY:bde,curveNatural:wde,curveStep:_de,curveStepAfter:Sde,curveStepBefore:jde},Hp=function(e){return e.x===+e.x&&e.y===+e.y},ef=function(e){return e.x},tf=function(e){return e.y},xje=function(e,n){if(Re(e))return e;var r="curve".concat(Wv(e));return(r==="curveMonotone"||r==="curveBump")&&n?xP["".concat(r).concat(n==="vertical"?"Y":"X")]:xP[r]||Xv},bje=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=xje(r,l),f=u?a.filter(function(g){return Hp(g)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return Hp(g)}):s,y=f.map(function(g,x){return vP(vP({},g),{},{base:p[x]})});return l==="vertical"?h=Rp().y(tf).x1(ef).x0(function(g){return g.base.x}):h=Rp().x(ef).y1(tf).y0(function(g){return g.base.y}),h.defined(Hp).curve(d),h(y)}return l==="vertical"&&ce(s)?h=Rp().y(tf).x1(ef).x0(s):ce(s)?h=Rp().x(ef).y1(tf).y0(s):h=k5().x(ef).y(tf),h.defined(Hp).curve(d),h(f)},ml=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?bje(e):i;return B.createElement("path",P_({},Ee(e,!1),by(e),{className:He("recharts-curve",n),d:s,ref:a}))},wje=Object.getOwnPropertyNames,_je=Object.getOwnPropertySymbols,jje=Object.prototype.hasOwnProperty;function bP(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function qp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function wP(t){return wje(t).concat(_je(t))}var Sje=Object.hasOwn||function(t,e){return jje.call(t,e)};function Kl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Aje="__v",Eje="__o",Nje="_owner",_P=Object.getOwnPropertyDescriptor,jP=Object.keys;function Tje(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Oje(t,e){return Kl(t.getTime(),e.getTime())}function Cje(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kje(t,e){return t===e}function SP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=s.value,p=l.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Ije=Kl;function Pje(t,e,n){var r=jP(t),i=r.length;if(jP(e).length!==i)return!1;for(;i-- >0;)if(!LB(t,e,n,r[i]))return!1;return!0}function nf(t,e,n){var r=wP(t),i=r.length;if(wP(e).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=r[i],!LB(t,e,n,a)||(s=_P(t,a),l=_P(e,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Rje(t,e){return Kl(t.valueOf(),e.valueOf())}function Mje(t,e){return t.source===e.source&&t.flags===e.flags}function AP(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),s,l;(s=a.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Dje(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $je(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function LB(t,e,n,r){return(r===Nje||r===Eje||r===Aje)&&(t.$$typeof||e.$$typeof)?!0:Sje(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Lje="[object Arguments]",Bje="[object Boolean]",Uje="[object Date]",Vje="[object Error]",zje="[object Map]",Fje="[object Number]",Hje="[object Object]",qje="[object RegExp]",Gje="[object Set]",Wje="[object String]",Kje="[object URL]",Xje=Array.isArray,EP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NP=Object.assign,Yje=Object.prototype.toString.call.bind(Object.prototype.toString);function Qje(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,g,x){if(y===g)return!0;if(y==null||g==null)return!1;var b=typeof y;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?s(y,g,x):b==="function"?i(y,g,x):!1;var v=y.constructor;if(v!==g.constructor)return!1;if(v===Object)return l(y,g,x);if(Xje(y))return e(y,g,x);if(EP!=null&&EP(y))return f(y,g,x);if(v===Date)return n(y,g,x);if(v===RegExp)return u(y,g,x);if(v===Map)return a(y,g,x);if(v===Set)return d(y,g,x);var _=Yje(y);return _===Uje?n(y,g,x):_===qje?u(y,g,x):_===zje?a(y,g,x):_===Gje?d(y,g,x):_===Hje?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,x):_===Kje?h(y,g,x):_===Vje?r(y,g,x):_===Lje?l(y,g,x):_===Bje||_===Fje||_===Wje?c(y,g,x):!1}}function Zje(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nf:Tje,areDatesEqual:Oje,areErrorsEqual:Cje,areFunctionsEqual:kje,areMapsEqual:r?bP(SP,nf):SP,areNumbersEqual:Ije,areObjectsEqual:r?nf:Pje,arePrimitiveWrappersEqual:Rje,areRegExpsEqual:Mje,areSetsEqual:r?bP(AP,nf):AP,areTypedArraysEqual:r?nf:Dje,areUrlsEqual:$je};if(n&&(i=NP({},i,n(i))),e){var a=qp(i.areArraysEqual),s=qp(i.areMapsEqual),l=qp(i.areObjectsEqual),c=qp(i.areSetsEqual);i=NP({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function Jje(t){return function(e,n,r,i,a,s,l){return t(e,n,l)}}function eSe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,s)}}var tSe=Oo();Oo({strict:!0});Oo({circular:!0});Oo({circular:!0,strict:!0});Oo({createInternalComparator:function(){return Kl}});Oo({strict:!0,createInternalComparator:function(){return Kl}});Oo({circular:!0,createInternalComparator:function(){return Kl}});Oo({circular:!0,createInternalComparator:function(){return Kl},strict:!0});function Oo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,l=Zje(t),c=Qje(l),u=r?r(c):Jje(c);return eSe({circular:n,comparator:c,createState:i,equals:u,strict:s})}function nSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function TP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):nSe(i)};requestAnimationFrame(r)}function R_(t){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(t)}function rSe(t){return oSe(t)||sSe(t)||aSe(t)||iSe()}function iSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aSe(t,e){if(t){if(typeof t=="string")return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oSe(t){if(Array.isArray(t))return t}function lSe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=rSe(s),c=l[0],u=l.slice(1);if(typeof c=="number"){TP(i.bind(null,u),c);return}i(c),TP(i.bind(null,u));return}R_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){BB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BB(t,e,n){return e=cSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cSe(t){var e=uSe(t,"string");return Lh(e)==="symbol"?e:String(e)}function uSe(t,e){if(Lh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dSe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},fSe=function(e){return e},hSe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vf=function(e,n){return Object.keys(n).reduce(function(r,i){return kP(kP({},r),{},BB({},i,e(i,n[i])))},{})},IP=function(e,n,r){return e.map(function(i){return"".concat(hSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mSe(t,e){return ySe(t)||gSe(t,e)||UB(t,e)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function ySe(t){if(Array.isArray(t))return t}function vSe(t){return wSe(t)||bSe(t)||UB(t)||xSe()}function xSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UB(t,e){if(t){if(typeof t=="string")return M_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(t,e)}}function bSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wSe(t){if(Array.isArray(t))return M_(t)}function M_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qy=1e-4,VB=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},zB=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},PP=function(e,n){return function(r){var i=VB(e,n);return zB(i,r)}},_Se=function(e,n){return function(r){var i=VB(e,n),a=[].concat(vSe(i.map(function(s,l){return s*l}).slice(1)),[0]);return zB(a,r)}},RP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=mSe(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=PP(i,s),h=PP(a,l),p=_Se(i,s),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var v=b>1?1:b,_=v,N=0;N<8;++N){var j=f(_)-v,A=p(_);if(Math.abs(j-v)<Qy||A<Qy)return h(_);_=y(_-j/A)}return h(_)};return g.isStepper=!1,g},jSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*r,y=h*a,g=h+(p-y)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Qy&&Math.abs(g)<Qy?[f,0]:[x,g]};return c.isStepper=!0,c.dt=l,c},SSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RP(i);case"spring":return jSe();default:if(i.split("(")[0]==="cubic-bezier")return RP(i)}return typeof i=="function"?i:null};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function MP(t){return NSe(t)||ESe(t)||FB(t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NSe(t){if(Array.isArray(t))return $_(t)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_(t,e,n){return e=TSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TSe(t){var e=OSe(t,"string");return Bh(e)==="symbol"?e:String(e)}function OSe(t,e){if(Bh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CSe(t,e){return PSe(t)||ISe(t,e)||FB(t,e)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FB(t,e){if(t){if(typeof t=="string")return $_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $_(t,e)}}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ISe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function PSe(t){if(Array.isArray(t))return t}var Zy=function(e,n,r){return e+(n-e)*r},L_=function(e){var n=e.from,r=e.to;return n!==r},RSe=function t(e,n,r){var i=Vf(function(a,s){if(L_(s)){var l=e(s.from,s.to,s.velocity),c=CSe(l,2),u=c[0],d=c[1];return zn(zn({},s),{},{from:u,velocity:d})}return s},n);return r<1?Vf(function(a,s){return L_(s)?zn(zn({},s),{},{velocity:Zy(s.velocity,i[a].velocity,r),from:Zy(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const MSe=function(t,e,n,r,i){var a=dSe(t,e),s=a.reduce(function(x,b){return zn(zn({},x),{},D_({},b,[t[b],e[b]]))},{}),l=a.reduce(function(x,b){return zn(zn({},x),{},D_({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Vf(function(b,v){return v.from},l)},p=function(){return!Object.values(l).filter(L_).length},y=function(b){u||(u=b);var v=b-u,_=v/n.dt;l=RSe(n,l,_),i(zn(zn(zn({},t),e),h())),u=b,p()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var v=(b-d)/r,_=Vf(function(j,A){return Zy.apply(void 0,MP(A).concat([n(v)]))},s);if(i(zn(zn(zn({},t),e),_)),v<1)c=requestAnimationFrame(f);else{var N=Vf(function(j,A){return Zy.apply(void 0,MP(A).concat([n(1)]))},s);i(zn(zn(zn({},t),e),N))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}var DSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $Se(t,e){if(t==null)return{};var n=LSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function i1(t){return zSe(t)||VSe(t)||USe(t)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(t,e){if(t){if(typeof t=="string")return B_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(t,e)}}function VSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zSe(t){if(Array.isArray(t))return B_(t)}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){mf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mf(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HB(r.key),r)}}function qSe(t,e,n){return e&&HSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HB(t){var e=GSe(t,"string");return Ou(e)==="symbol"?e:String(e)}function GSe(t,e){if(Ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function KSe(t){var e=XSe();return function(){var r=Jy(t),i;if(e){var a=Jy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return V_(this,i)}}function V_(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_(t)}function z_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jy(t)}var zi=function(t){WSe(n,t);var e=KSe(n);function n(r,i){var a;FSe(this,n),a=e.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(z_(a)),a.changeStyle=a.changeStyle.bind(z_(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),V_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},V_(a);a.state={style:c?mf({},c,u):u}}else a.state={style:{}};return a}return qSe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var p={style:c?mf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(tSe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var x={style:c?mf({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(x)}this.runAnimation(ki(ki({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=MSe(s,l,SSe(u),c,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,x,b){if(b===0)return g;var v=x.duration,_=x.easing,N=_===void 0?"ease":_,j=x.style,A=x.properties,w=x.onAnimationEnd,S=b>0?s[b-1]:x,T=A||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(i1(g),[a.runJSAnimation.bind(a,{from:S.style,to:j,duration:v,easing:N}),v]);var P=IP(T,v,N),O=ki(ki(ki({},S.style),j),{},{transition:P});return[].concat(i1(g),[O,v,w]).filter(fSe)};return this.manager.start([c].concat(i1(s.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lSe());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?mf({},l,c):c,x=IP(Object.keys(g),s,u);y.start([d,a,ki(ki({},g),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=$Se(i,DSe),u=C.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(p){var y=p.props,g=y.style,x=g===void 0?{}:g,b=y.className,v=C.cloneElement(p,ki(ki({},c),{},{style:ki(ki({},x),d),className:b}));return v};return u===1?f(C.Children.only(a)):B.createElement("div",null,C.Children.map(a,function(h){return f(h)}))}}]),n}(C.PureComponent);zi.displayName="Animate";zi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zi.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function YSe(t,e){return eAe(t)||JSe(t,e)||ZSe(t,e)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZSe(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function eAe(t){if(Array.isArray(t))return t}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){tAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tAe(t,e,n){return e=nAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nAe(t){var e=rAe(t,"string");return Uh(e)=="symbol"?e:e+""}function rAe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VP=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},iAe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},aAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lE=function(e){var n=UP(UP({},aAe),e),r=C.useRef(),i=C.useState(-1),a=YSe(i,2),s=a[0],l=a[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=He("recharts-rectangle",p);return v?B.createElement(zi,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:v},function(N){var j=N.width,A=N.height,w=N.x,S=N.y;return B.createElement(zi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:y},B.createElement("path",e0({},Ee(n,!0),{className:_,d:VP(w,S,j,A,h),ref:r})))}):B.createElement("path",e0({},Ee(n,!0),{className:_,d:VP(c,u,d,f,h)}))},sAe=["points","className","baseLinePoints","connectNulls"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}function oAe(t,e){if(t==null)return{};var n=lAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zP(t){return fAe(t)||dAe(t)||uAe(t)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uAe(t,e){if(t){if(typeof t=="string")return F_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F_(t,e)}}function dAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fAe(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FP=function(e){return e&&e.x===+e.x&&e.y===+e.y},hAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){FP(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),FP(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zf=function(e,n){var r=hAe(e);n&&(r=[r.reduce(function(a,s){return[].concat(zP(a),zP(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},mAe=function(e,n,r){var i=zf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zf(n.reverse(),r).slice(1))},pAe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,s=oAe(e,sAe);if(!n||!n.length)return null;var l=He("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=mAe(n,i,a);return B.createElement("g",{className:l},B.createElement("path",Cc({},Ee(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?B.createElement("path",Cc({},Ee(s,!0),{fill:"none",d:zf(n,a)})):null,c?B.createElement("path",Cc({},Ee(s,!0),{fill:"none",d:zf(i,a)})):null)}var d=zf(n,a);return B.createElement("path",Cc({},Ee(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}var Lm=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=He("recharts-dot",a);return n===+n&&r===+r&&i===+i?B.createElement("circle",H_({},Ee(e,!1),by(e),{className:s,cx:n,cy:r,r:i})):null};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}var gAe=["x","y","top","left","width","height","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){vAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vAe(t,e,n){return e=xAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xAe(t){var e=bAe(t,"string");return Vh(e)=="symbol"?e:e+""}function bAe(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wAe(t,e){if(t==null)return{};var n=_Ae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jAe=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},SAe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,y=e.className,g=wAe(e,gAe),x=yAe({x:r,y:a,top:l,left:u,width:f,height:p},g);return!ce(r)||!ce(a)||!ce(f)||!ce(p)||!ce(l)||!ce(u)?null:B.createElement("path",q_({},Ee(x,!0),{className:He("recharts-cross",y),d:jAe(r,a,f,p,l,u)}))},AAe=sx,EAe=aB,NAe=_a;function TAe(t,e){return t&&t.length?AAe(t,NAe(e),EAe):void 0}var OAe=TAe;const CAe=pt(OAe);var kAe=sx,IAe=_a,PAe=sB;function RAe(t,e){return t&&t.length?kAe(t,IAe(e),PAe):void 0}var MAe=RAe;const DAe=pt(MAe);var $Ae=["cx","cy","angle","ticks","axisLine"],LAe=["ticks","tick","angle","tickFormatter","stroke"];function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GP(t,e){if(t==null)return{};var n=BAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GB(r.key),r)}}function VAe(t,e,n){return e&&WP(t.prototype,e),n&&WP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zAe(t,e,n){return e=t0(e),FAe(t,qB()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function FAe(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HAe(t)}function HAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qB=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function qAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G_(t,e)}function ux(t,e,n){return e=GB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GB(t){var e=GAe(t,"string");return Cu(e)=="symbol"?e:e+""}function GAe(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dx=function(t){function e(){return UAe(this,e),zAe(this,e,arguments)}return qAe(e,t),VAe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return Ot(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=CAe(l,function(d){return d.coordinate||0}),u=DAe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=r.axisLine,u=GP(r,$Ae),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=Ot(i,a,d[0],s),h=Ot(i,a,d[1],s),p=Lo(Lo(Lo({},Ee(u,!1)),{},{fill:"none"},Ee(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",Ff({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=GP(i,LAe),f=this.getTickTextAnchor(),h=Ee(d,!1),p=Ee(s,!1),y=a.map(function(g,x){var b=r.getTickValueCoord(g),v=Lo(Lo(Lo(Lo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},b),{},{payload:g});return B.createElement(Je,Ff({className:He("recharts-polar-radius-axis-tick",RB(s)),key:"tick-".concat(g.coordinate)},El(r.props,g,x)),e.renderTickItem(s,v,c?c(g.value,x):g.value))});return B.createElement(Je,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:B.createElement(Je,{className:He("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Mn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Re(r)?s=r(i):s=B.createElement(Nl,Ff({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(C.PureComponent);ux(dx,"displayName","PolarRadiusAxis");ux(dx,"axisType","radiusAxis");ux(dx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(this,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KB(r.key),r)}}function KAe(t,e,n){return e&&XP(t.prototype,e),n&&XP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XAe(t,e,n){return e=n0(e),YAe(t,WB()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function YAe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QAe(t)}function QAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function ZAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function fx(t,e,n){return e=KB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KB(t){var e=JAe(t,"string");return ku(e)=="symbol"?e:e+""}function JAe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eEe=Math.PI/180,tEe=1e-5,hx=function(t){function e(){return WAe(this,e),XAe(this,e,arguments)}return ZAe(e,t),KAe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Ot(a,s,l,r.coordinate),h=Ot(a,s,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*eEe),s;return a>tEe?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,l=r.axisLine,c=r.axisLineType,u=Bo(Bo({},Ee(this.props,!1)),{},{fill:"none"},Ee(l,!1));if(c==="circle")return B.createElement(Lm,Wo({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Ot(i,a,s,h.coordinate)});return B.createElement(pAe,Wo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ee(this.props,!1),f=Ee(s,!1),h=Bo(Bo({},d),{},{fill:"none"},Ee(l,!1)),p=a.map(function(y,g){var x=r.getTickLineCoord(y),b=r.getTickTextAnchor(y),v=Bo(Bo(Bo({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:x.x2,y:x.y2});return B.createElement(Je,Wo({className:He("recharts-polar-angle-axis-tick",RB(s)),key:"tick-".concat(y.coordinate)},El(r.props,y,g)),l&&B.createElement("line",Wo({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,v,c?c(y.value,g):y.value))});return B.createElement(Je,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:B.createElement(Je,{className:He("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Re(r)?s=r(i):s=B.createElement(Nl,Wo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(C.PureComponent);fx(hx,"displayName","PolarAngleAxis");fx(hx,"axisType","angleAxis");fx(hx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nEe=t8,rEe=nEe(Object.getPrototypeOf,Object),iEe=rEe,aEe=fs,sEe=iEe,oEe=hs,lEe="[object Object]",cEe=Function.prototype,uEe=Object.prototype,XB=cEe.toString,dEe=uEe.hasOwnProperty,fEe=XB.call(Object);function hEe(t){if(!oEe(t)||aEe(t)!=lEe)return!1;var e=sEe(t);if(e===null)return!0;var n=dEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XB.call(n)==fEe}var mEe=hEe;const pEe=pt(mEe);var gEe=fs,yEe=hs,vEe="[object Boolean]";function xEe(t){return t===!0||t===!1||yEe(t)&&gEe(t)==vEe}var bEe=xEe;const wEe=pt(bEe);function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r0.apply(this,arguments)}function _Ee(t,e){return EEe(t)||AEe(t,e)||SEe(t,e)||jEe()}function jEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SEe(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function EEe(t){if(Array.isArray(t))return t}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){NEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NEe(t,e,n){return e=TEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TEe(t){var e=OEe(t,"string");return zh(e)=="symbol"?e:e+""}function OEe(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JP=function(e,n,r,i,a){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+a),l+="L ".concat(e+r-s/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},CEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kEe=function(e){var n=ZP(ZP({},CEe),e),r=C.useRef(),i=C.useState(-1),a=_Ee(i,2),s=a[0],l=a[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=He("recharts-trapezoid",p);return b?B.createElement(zi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(_){var N=_.upperWidth,j=_.lowerWidth,A=_.height,w=_.x,S=_.y;return B.createElement(zi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:y},B.createElement("path",r0({},Ee(n,!0),{className:v,d:JP(w,S,N,j,A),ref:r})))}):B.createElement("g",null,B.createElement("path",r0({},Ee(n,!0),{className:v,d:JP(c,u,d,f,h)})))},IEe=["option","shapeType","propTransformer","activeClassName","isActive"];function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function PEe(t,e){if(t==null)return{};var n=REe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function REe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){MEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MEe(t,e,n){return e=DEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DEe(t){var e=$Ee(t,"string");return Fh(e)=="symbol"?e:e+""}function $Ee(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LEe(t,e){return i0(i0({},e),t)}function BEe(t,e){return t==="symbols"}function tR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(lE,n);case"trapezoid":return B.createElement(kEe,n);case"sector":return B.createElement($B,n);case"symbols":if(BEe(e))return B.createElement(NA,n);break;default:return null}}function UEe(t){return C.isValidElement(t)?t.props:t}function YB(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?LEe:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,l=t.isActive,c=PEe(t,IEe),u;if(C.isValidElement(e))u=C.cloneElement(e,i0(i0({},c),UEe(e)));else if(Re(e))u=e(c);else if(pEe(e)&&!wEe(e)){var d=i(e,c);u=B.createElement(tR,{shapeType:n,elementProps:d})}else{var f=c;u=B.createElement(tR,{shapeType:n,elementProps:f})}return l?B.createElement(Je,{className:s},u):u}function mx(t,e){return e!=null&&"trapezoids"in t.props}function px(t,e){return e!=null&&"sectors"in t.props}function Hh(t,e){return e!=null&&"points"in t.props}function VEe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function zEe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function FEe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function HEe(t,e){var n;return mx(t,e)?n=VEe:px(t,e)?n=zEe:Hh(t,e)&&(n=FEe),n}function qEe(t,e){var n;return mx(t,e)?n="trapezoids":px(t,e)?n="sectors":Hh(t,e)&&(n="points"),n}function GEe(t,e){if(mx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(px(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hh(t,e)?e.payload:{}}function WEe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=qEe(n,e),a=GEe(n,e),s=r.filter(function(c,u){var d=Tl(a,c),f=n.props[i].filter(function(y){var g=HEe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=r.indexOf(s[s.length-1]);return l}var bg;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){gi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZB(r.key),r)}}function XEe(t,e,n){return e&&rR(t.prototype,e),n&&rR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YEe(t,e,n){return e=a0(e),QEe(t,QB()?Reflect.construct(e,n||[],a0(t).constructor):e.apply(t,n))}function QEe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZEe(t)}function ZEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!t})()}function a0(t){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a0(t)}function JEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function gi(t,e,n){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t){var e=eNe(t,"string");return Iu(e)=="symbol"?e:e+""}function eNe(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fi=function(t){function e(n){var r;return KEe(this,e),r=YEe(this,e,[n]),gi(r,"pieRef",null),gi(r,"sectorRefs",[]),gi(r,"id",ql("recharts-pie-")),gi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(i)&&i()}),gi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return JEe(e,t),XEe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ee(this.props,!1),f=Ee(s,!1),h=Ee(l,!1),p=s&&s.offsetRadius||20,y=r.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,v=Ot(g.cx,g.cy,g.outerRadius+p,b),_=Et(Et(Et(Et({},d),g),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(v.x,g.cx)},v),N=Et(Et(Et(Et({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:x,points:[Ot(g.cx,g.cy,g.outerRadius,b),v]}),j=c;return Ve(c)&&Ve(u)?j="value":Ve(c)&&(j=u),B.createElement(Je,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,N,"line"),e.renderLabelItem(s,_,on(g,j)))});return B.createElement(Je,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?s:h,y=Et(Et({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return B.createElement(Je,kc({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},El(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(YB,kc({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return B.createElement(zi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,x=[],b=a&&a[0],v=b.startAngle;return a.forEach(function(_,N){var j=h&&h[N],A=N>0?ei(_,"paddingAngle",0):0;if(j){var w=_n(j.endAngle-j.startAngle,_.endAngle-_.startAngle),S=Et(Et({},_),{},{startAngle:v+A,endAngle:v+w(g)+A});x.push(S),v=S.endAngle}else{var T=_.endAngle,P=_.startAngle,O=_n(0,T-P),R=O(g),I=Et(Et({},_),{},{startAngle:v+A,endAngle:v+R+A});x.push(I),v=I.endAngle}}),B.createElement(Je,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Tl(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!s||!s.length||!ce(u)||!ce(d)||!ce(f)||!ce(h))return null;var g=He("recharts-pie",l);return B.createElement(Je,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),Mn.renderCallByParent(this.props,null,!1),(!p||y)&&fa.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(B.isValidElement(r))return B.cloneElement(r,i);if(Re(r))return r(i);var s=He("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(ml,kc({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(B.isValidElement(r))return B.cloneElement(r,i);var s=a;if(Re(r)&&(s=r(i),B.isValidElement(s)))return s;var l=He("recharts-pie-label-text",typeof r!="boolean"&&!Re(r)?r.className:"");return B.createElement(Nl,kc({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(C.PureComponent);bg=Fi;gi(Fi,"displayName","Pie");gi(Fi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Eo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});gi(Fi,"parseDeltaAngle",function(t,e){var n=pr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});gi(Fi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ee(t,!1),i=ti(n,Su);return e&&e.length?e.map(function(a,s){return Et(Et(Et({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Et(Et({},r),a.props)}):[]});gi(Fi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,s=PB(i,a),l=r+gr(t.cx,i,i/2),c=n+gr(t.cy,a,a/2),u=gr(t.innerRadius,s,0),d=gr(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});gi(Fi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Et(Et({},e.type.defaultProps),e.props):e.props,i=bg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),y=bg.parseCoordinateOfPie(r,n),g=bg.parseDeltaAngle(s,l),x=Math.abs(g),b=u;Ve(u)&&Ve(f)?(Bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ve(u)&&(Bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=i.filter(function(S){return on(S,b,0)!==0}).length,_=(x>=360?v:v-1)*c,N=x-v*p-_,j=i.reduce(function(S,T){var P=on(T,b,0);return S+(ce(P)?P:0)},0),A;if(j>0){var w;A=i.map(function(S,T){var P=on(S,b,0),O=on(S,d,T),R=(ce(P)?P:0)/j,I;T?I=w.endAngle+pr(g)*c*(P!==0?1:0):I=s;var $=I+pr(g)*((P!==0?p:0)+R*N),L=(I+$)/2,U=(y.innerRadius+y.outerRadius)/2,D=[{name:O,value:P,payload:S,dataKey:b,type:h}],z=Ot(y.cx,y.cy,U,L);return w=Et(Et(Et({percent:R,cornerRadius:a,name:O,tooltipPayload:D,midAngle:L,middleRadius:U,tooltipPosition:z},S),y),{},{value:on(S,b),startAngle:I,endAngle:$,payload:S,paddingAngle:pr(g)*c}),w})}return Et(Et({},y),{},{sectors:A,data:i})});var tNe=Math.ceil,nNe=Math.max;function rNe(t,e,n,r){for(var i=-1,a=nNe(tNe((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var iNe=rNe,aNe=b8,sNe=1/0,oNe=17976931348623157e292;function lNe(t){if(!t)return t===0?t:0;if(t=aNe(t),t===sNe||t===-1/0){var e=t<0?-1:1;return e*oNe}return t===t?t:0}var JB=lNe,cNe=iNe,uNe=Jv,a1=JB;function dNe(t){return function(e,n,r){return r&&typeof r!="number"&&uNe(e,n,r)&&(n=r=void 0),e=a1(e),n===void 0?(n=e,e=0):n=a1(n),r=r===void 0?e<n?1:-1:a1(r),cNe(e,n,r,t)}}var fNe=dNe,hNe=fNe,mNe=hNe(),pNe=mNe;const s0=pt(pNe);function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){e9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e9(t,e,n){return e=gNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gNe(t){var e=yNe(t,"string");return qh(e)=="symbol"?e:e+""}function yNe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vNe=["Webkit","Moz","O","ms"],xNe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=vNe.reduce(function(a,s){return aR(aR({},a),{},e9({},s+r,n))},{});return i[e]=n,i};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function wNe(t,e,n){return e&&oR(t.prototype,e),n&&oR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ne(t,e,n){return e=l0(e),jNe(t,t9()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function jNe(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SNe(t)}function SNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function ANe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function Vr(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=ENe(t,"string");return Pu(e)=="symbol"?e:e+""}function ENe(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NNe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Bf().domain(s0(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},lR=function(e){return e.changedTouches&&!!e.changedTouches.length},Ru=function(t){function e(n){var r;return bNe(this,e),r=_Ne(this,e,[n]),Vr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vr(r,"handleSlideDragStart",function(i){var a=lR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ANe(e,t),wNe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=on(a[r],l,r);return Re(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var x=this.getIndex({startX:s+g,endX:l+g});(x.startIndex!==h||x.endIndex!==p)&&y&&y(x),this.setState({startX:s+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=lR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,f+h-p-u):v<0&&(v=Math.max(v,f-u)),b[s]=u+v;var _=this.getIndex(b),N=_.startIndex,j=_.endIndex,A=function(){var S=x.length-1;return s==="startX"&&(l>c?N%g===0:j%g===0)||l<c&&j===S||s==="endX"&&(l>c?j%g===0:N%g===0)||l>c&&j===S};this.setState(Vr(Vr({},s,u+v),"brushMoveStartX",r.pageX),function(){y&&A()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Vr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=C.Children.only(u);return f?B.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,x=c.endIndex,b=Math.max(r,this.props.x),v=s1(s1({},Ee(this.props,!1)),{},{x:b,y:u,width:d,height:f}),_=p||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=y[x])===null||s===void 0?void 0:s.name);return B.createElement(Je,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return B.createElement(Je,{className:"recharts-brush-texts"},B.createElement(Nl,o0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},y),this.getTextOfTick(i)),B.createElement(Nl,o0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,g=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!ce(l)||!ce(c)||!ce(u)||!ce(d)||u<=0||d<=0)return null;var _=He("recharts-brush",a),N=B.Children.count(s)===1,j=xNe("userSelect","none");return B.createElement(Je,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||x||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Re(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return s1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?NNe({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])}(C.PureComponent);Vr(Ru,"displayName","Brush");Vr(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TNe=RA;function ONe(t,e){var n;return TNe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var CNe=ONe,kNe=W5,INe=_a,PNe=CNe,RNe=Rr,MNe=Jv;function DNe(t,e,n){var r=RNe(t)?kNe:PNe;return n&&MNe(t,e,n)&&(e=void 0),r(t,INe(e))}var $Ne=DNe;const LNe=pt($Ne);var ha=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},cR=p8;function BNe(t,e,n){e=="__proto__"&&cR?cR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var UNe=BNe,VNe=UNe,zNe=h8,FNe=_a;function HNe(t,e){var n={};return e=FNe(e),zNe(t,function(r,i,a){VNe(n,i,e(r,i,a))}),n}var qNe=HNe;const GNe=pt(qNe);function WNe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var KNe=WNe,XNe=RA;function YNe(t,e){var n=!0;return XNe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var QNe=YNe,ZNe=KNe,JNe=QNe,eTe=_a,tTe=Rr,nTe=Jv;function rTe(t,e,n){var r=tTe(t)?ZNe:JNe;return n&&nTe(t,e,n)&&(e=void 0),r(t,eTe(e))}var iTe=rTe;const r9=pt(iTe);var aTe=["x","y"];function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){sTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e,n){return e=oTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oTe(t){var e=lTe(t,"string");return Gh(e)=="symbol"?e:e+""}function lTe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cTe(t,e){if(t==null)return{};var n=uTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dTe(t,e){var n=t.x,r=t.y,i=cTe(t,aTe),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return rf(rf(rf(rf(rf({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function dR(t){return B.createElement(YB,Y_({shapeType:"rectangle",propTransformer:dTe,activeClassName:"recharts-active-bar"},t))}var fTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Cl(),n)}},hTe=["value","background"],i9;function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function mTe(t,e){if(t==null)return{};var n=pTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function yTe(t,e,n){return e&&hR(t.prototype,e),n&&hR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vTe(t,e,n){return e=u0(e),xTe(t,a9()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function xTe(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bTe(t)}function bTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function wTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q_(t,e)}function zs(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=_Te(t,"string");return Mu(e)=="symbol"?e:e+""}function _Te(t,e){if(Mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xl=function(t){function e(){var n;gTe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=vTe(this,e,[].concat(i)),zs(n,"state",{isAnimationFinished:!1}),zs(n,"id",ql("recharts-bar-")),zs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),zs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return wTe(e,t),yTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ee(this.props,!1);return r&&r.map(function(f,h){var p=h===c,y=p?u:s,g=dn(dn(dn({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Je,c0({className:"recharts-bar-rectangle"},El(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(dR,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(zi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=a.map(function(x,b){var v=h&&h[b];if(v){var _=_n(v.x,x.x),N=_n(v.y,x.y),j=_n(v.width,x.width),A=_n(v.height,x.height);return dn(dn({},x),{},{x:_(y),y:N(y),width:j(y),height:A(y)})}if(s==="horizontal"){var w=_n(0,x.height),S=w(y);return dn(dn({},x),{},{y:x.y+x.height-S,height:S})}var T=_n(0,x.width),P=T(y);return dn(dn({},x),{},{width:P})});return B.createElement(Je,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Tl(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=Ee(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=mTe(u,hTe);if(!f)return null;var p=dn(dn(dn(dn(dn({},h),{},{fill:"#eee"},f),c),El(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(dR,c0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ti(d,$m);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(x,b){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:on(x,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Je,y,f.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,g=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=He("recharts-bar",s),v=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,N=v||_,j=Ve(g)?this.id:g;return B.createElement(Je,{className:b},v||_?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(j)},B.createElement("rect",{x:v?u:u-f/2,y:_?d:d-h/2,width:v?f:f*2,height:_?h:h*2}))):null,B.createElement(Je,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||x)&&fa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);i9=Xl;zs(Xl,"displayName","Bar");zs(Xl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zs(Xl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=a2e(r,n);if(!p)return null;var y=e.layout,g=n.type.defaultProps,x=g!==void 0?dn(dn({},g),n.props):n.props,b=x.dataKey,v=x.children,_=x.minPointSize,N=y==="horizontal"?s:a,j=u?N.scale.domain():null,A=f2e({numericAxis:N}),w=ti(v,Su),S=f.map(function(T,P){var O,R,I,$,L,U;u?O=s2e(u[d+P],j):(O=on(T,b),Array.isArray(O)||(O=[A,O]));var D=fTe(_,i9.defaultProps.minPointSize)(O[1],P);if(y==="horizontal"){var z,V=[s.scale(O[0]),s.scale(O[1])],X=V[0],Y=V[1];R=iP({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:T,index:P}),I=(z=Y??X)!==null&&z!==void 0?z:void 0,$=p.size;var K=X-Y;if(L=Number.isNaN(K)?0:K,U={x:R,y:s.y,width:$,height:s.height},Math.abs(D)>0&&Math.abs(L)<Math.abs(D)){var F=pr(L||D)*(Math.abs(D)-Math.abs(L));I-=F,L+=F}}else{var te=[a.scale(O[0]),a.scale(O[1])],H=te[0],ue=te[1];if(R=H,I=iP({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:T,index:P}),$=ue-H,L=p.size,U={x:a.x,y:I,width:a.width,height:L},Math.abs(D)>0&&Math.abs($)<Math.abs(D)){var oe=pr($||D)*(Math.abs(D)-Math.abs($));$+=oe}}return dn(dn(dn({},T),{},{x:R,y:I,width:$,height:L,value:u?O:O[1],payload:T,background:U},w&&w[P]&&w[P].props),{},{tooltipPayload:[kB(n,T)],tooltipPosition:{x:R+$/2,y:I+L/2}})});return dn({data:S,layout:y},h)});function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function STe(t,e,n){return e&&mR(t.prototype,e),n&&mR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){gx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gx(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=ATe(t,"string");return Wh(e)=="symbol"?e:e+""}function ATe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cE=function(e,n,r,i,a){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Fr(u,Xl);return d.reduce(function(p,y){var g=n[y],x=g.orientation,b=g.domain,v=g.padding,_=v===void 0?{}:v,N=g.mirror,j=g.reversed,A="".concat(x).concat(N?"Mirror":""),w,S,T,P,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=b[1]-b[0],I=1/0,$=g.categoricalDomain.sort(Hce);if($.forEach(function(te,H){H>0&&(I=Math.min((te||0)-($[H-1]||0),I))}),Number.isFinite(I)){var L=I/R,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(w=L*U/2),g.padding==="no-gap"){var D=gr(e.barCategoryGap,L*U),z=L*U/2;w=z-D-(z-D)/U*D}}}i==="xAxis"?S=[r.left+(_.left||0)+(w||0),r.left+r.width-(_.right||0)-(w||0)]:i==="yAxis"?S=c==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(w||0),r.top+r.height-(_.bottom||0)-(w||0)]:S=g.range,j&&(S=[S[1],S[0]]);var V=NB(g,a,h),X=V.scale,Y=V.realScaleType;X.domain(b).range(S),TB(X);var K=OB(X,Pi(Pi({},g),{},{realScaleType:Y}));i==="xAxis"?(O=x==="top"&&!N||x==="bottom"&&N,T=r.left,P=f[A]-O*g.height):i==="yAxis"&&(O=x==="left"&&!N||x==="right"&&N,T=f[A]-O*g.width,P=r.top);var F=Pi(Pi(Pi({},g),K),{},{realScaleType:Y,x:T,y:P,scale:X,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return F.bandSize=Ky(F,K),!g.hide&&i==="xAxis"?f[A]+=(O?-1:1)*F.height:g.hide||(f[A]+=(O?-1:1)*F.width),Pi(Pi({},p),{},gx({},y,F))},{})},l9=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},ETe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return l9({x:n,y:r},{x:i,y:a})},c9=function(){function t(e){jTe(this,t),this.scale=e}return STe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();gx(c9,"EPS",1e-4);var uE=function(e){var n=Object.keys(e).reduce(function(r,i){return Pi(Pi({},r),{},gx({},i,c9.create(e[i])))},{});return Pi(Pi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return GNe(i,function(c,u){return n[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return r9(i,function(a,s){return n[s].isInRange(a)})}})};function NTe(t){return(t%180+180)%180}var TTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=NTe(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},OTe=_a,CTe=Im,kTe=Qv;function ITe(t){return function(e,n,r){var i=Object(e);if(!CTe(e)){var a=OTe(n);e=kTe(e),n=function(l){return a(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var PTe=ITe,RTe=JB;function MTe(t){var e=RTe(t),n=e%1;return e===e?n?e-n:e:0}var DTe=MTe,$Te=o8,LTe=_a,BTe=DTe,UTe=Math.max;function VTe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:BTe(n);return i<0&&(i=UTe(r+i,0)),$Te(t,LTe(e),i)}var zTe=VTe,FTe=PTe,HTe=zTe,qTe=FTe(HTe),GTe=qTe;const WTe=pt(GTe);var KTe=Kle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dE=C.createContext(void 0),fE=C.createContext(void 0),u9=C.createContext(void 0),d9=C.createContext({}),f9=C.createContext(void 0),h9=C.createContext(0),m9=C.createContext(0),gR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=KTe(a);return B.createElement(dE.Provider,{value:r},B.createElement(fE.Provider,{value:i},B.createElement(d9.Provider,{value:a},B.createElement(u9.Provider,{value:d},B.createElement(f9.Provider,{value:s},B.createElement(h9.Provider,{value:u},B.createElement(m9.Provider,{value:c},l)))))))},XTe=function(){return C.useContext(f9)},p9=function(e){var n=C.useContext(dE);n==null&&Cl();var r=n[e];return r==null&&Cl(),r},YTe=function(){var e=C.useContext(dE);return Ms(e)},QTe=function(){var e=C.useContext(fE),n=WTe(e,function(r){return r9(r.domain,Number.isFinite)});return n||Ms(e)},g9=function(e){var n=C.useContext(fE);n==null&&Cl();var r=n[e];return r==null&&Cl(),r},ZTe=function(){var e=C.useContext(u9);return e},JTe=function(){return C.useContext(d9)},hE=function(){return C.useContext(m9)},mE=function(){return C.useContext(h9)};function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function eOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v9(r.key),r)}}function nOe(t,e,n){return e&&tOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rOe(t,e,n){return e=d0(e),iOe(t,y9()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function iOe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aOe(t)}function aOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function sOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z_(t,e)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){pE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pE(t,e,n){return e=v9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v9(t){var e=oOe(t,"string");return Du(e)=="symbol"?e:e+""}function oOe(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lOe(t,e){return fOe(t)||dOe(t,e)||uOe(t,e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(t,e){if(t){if(typeof t=="string")return xR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(t,e)}}function xR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function fOe(t){if(Array.isArray(t))return t}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}var hOe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Re(e)?r=e(n):r=B.createElement("line",J_({},n,{className:"recharts-reference-line-line"})),r},mOe=function(e,n,r,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var y=u.y,g=e.y.apply(y,{position:s});if(ha(u,"discard")&&!e.y.isInRange(g))return null;var x=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?x.reverse():x}if(n){var b=u.x,v=e.x.apply(b,{position:s});if(ha(u,"discard")&&!e.x.isInRange(v))return null;var _=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?_.reverse():_}if(i){var N=u.segment,j=N.map(function(A){return e.apply(A,{position:s})});return ha(u,"discard")&&LNe(j,function(A){return!e.isInRange(A)})?null:j}return null};function pOe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=XTe(),d=p9(i),f=g9(a),h=ZTe();if(!u||!h)return null;Bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=uE({x:d.scale,y:f.scale}),y=Sn(e),g=Sn(n),x=r&&r.length===2,b=mOe(p,y,g,x,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var v=lOe(b,2),_=v[0],N=_.x,j=_.y,A=v[1],w=A.x,S=A.y,T=ha(t,"hidden")?"url(#".concat(u,")"):void 0,P=vR(vR({clipPath:T},Ee(t,!0)),{},{x1:N,y1:j,x2:w,y2:S});return B.createElement(Je,{className:He("recharts-reference-line",l)},hOe(s,P),Mn.renderCallByParent(t,ETe({x1:N,y1:j,x2:w,y2:S})))}var gE=function(t){function e(){return eOe(this,e),rOe(this,e,arguments)}return sOe(e,t),nOe(e,[{key:"render",value:function(){return B.createElement(pOe,this.props)}}])}(B.Component);pE(gE,"displayName","ReferenceLine");pE(gE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function e2(){return e2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e2.apply(this,arguments)}function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function vOe(t,e,n){return e&&yOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xOe(t,e,n){return e=f0(e),bOe(t,x9()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function bOe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wOe(t)}function wOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x9=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function _Oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t2(t,e)}function yx(t,e,n){return e=b9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t){var e=jOe(t,"string");return $u(e)=="symbol"?e:e+""}function jOe(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SOe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=uE({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return ha(e,"discard")&&!s.isInRange(l)?null:l},vx=function(t){function e(){return gOe(this,e),xOe(this,e,arguments)}return _Oe(e,t),vOe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,u=Sn(i),d=Sn(a);if(Bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=SOe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,g=y.shape,x=y.className,b=ha(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=wR(wR({clipPath:b},Ee(this.props,!0)),{},{cx:h,cy:p});return B.createElement(Je,{className:He("recharts-reference-dot",x)},e.renderDot(g,v),Mn.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(B.Component);yx(vx,"displayName","ReferenceDot");yx(vx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yx(vx,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Re(t)?n=t(e):n=B.createElement(Lm,e2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_9(r.key),r)}}function NOe(t,e,n){return e&&EOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TOe(t,e,n){return e=h0(e),OOe(t,w9()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function OOe(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return COe(t)}function COe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function kOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r2(t,e)}function r2(t,e){return r2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r2(t,e)}function xx(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=IOe(t,"string");return Lu(e)=="symbol"?e:e+""}function IOe(t,e){if(Lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var POe=function(e,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=uE({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ha(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:l9(p,y)},bx=function(t){function e(){return AOe(this,e),TOe(this,e,arguments)}return kOe(e,t),NOe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sn(i),h=Sn(a),p=Sn(s),y=Sn(l),g=this.props.shape;if(!f&&!h&&!p&&!y&&!g)return null;var x=POe(f,h,p,y,this.props);if(!x&&!g)return null;var b=ha(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(Je,{className:He("recharts-reference-area",c)},e.renderRect(g,jR(jR({clipPath:b},Ee(this.props,!0)),x)),Mn.renderCallByParent(this.props,x))}}])}(B.Component);xx(bx,"displayName","ReferenceArea");xx(bx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xx(bx,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Re(t)?n=t(e):n=B.createElement(lE,n2({},e,{className:"recharts-reference-area-rect"})),n});function j9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ROe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return TTe(r,n)}function MOe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function m0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function DOe(t,e){return j9(t,e+1)}function $Oe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:j9(r,u)};var g=c,x,b=function(){return x===void 0&&(x=n(y,g)),x},v=y.coordinate,_=c===0||m0(t,v,b,d,l);_||(c=0,d=s,u+=1),_&&(d=v+t*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){LOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LOe(t,e,n){return e=BOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BOe(t){var e=UOe(t,"string");return Kh(e)=="symbol"?e:e+""}function UOe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VOe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end,u=function(h){var p=a[h],y,g=function(){return y===void 0&&(y=n(p,h)),y};if(h===s-1){var x=t*(p.coordinate+t*g()/2-c);a[h]=p=tr(tr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=tr(tr({},p),{},{tickCoord:p.coordinate});var b=m0(t,p.tickCoord,g,l,c);b&&(c=p.tickCoord-t*(g()/2+i),a[h]=tr(tr({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function zOe(t,e,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=e.start,u=e.end;if(a){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);s[l-1]=d=tr(tr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=m0(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),s[l-1]=tr(tr({},d),{},{isShow:!0}))}for(var y=a?l-1:l,g=function(v){var _=s[v],N,j=function(){return N===void 0&&(N=n(_,v)),N};if(v===0){var A=t*(_.coordinate-t*j()/2-c);s[v]=_=tr(tr({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else s[v]=_=tr(tr({},_),{},{tickCoord:_.coordinate});var w=m0(t,_.tickCoord,j,c,u);w&&(c=_.tickCoord+t*(j()/2+i),s[v]=tr(tr({},_),{},{isShow:!0}))},x=0;x<y;x++)g(x);return s}function yE(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ce(c)||Eo.isSsr)return DOe(i,typeof c=="number"&&ce(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Lf(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,N){var j=Re(u)?u(_.value,N):_.value;return p==="width"?ROe(Lf(j,{fontSize:e,letterSpacing:n}),y,f):Lf(j,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?pr(i[1].coordinate-i[0].coordinate):1,b=MOe(a,x,p);return c==="equidistantPreserveStart"?$Oe(x,b,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=zOe(x,b,g,i,s,c==="preserveStartEnd"):h=VOe(x,b,g,i,s),h.filter(function(v){return v.isShow}))}var FOe=["viewBox"],HOe=["viewBox"],qOe=["ticks"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){vE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1(t,e){if(t==null)return{};var n=GOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ER(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A9(r.key),r)}}function KOe(t,e,n){return e&&ER(t.prototype,e),n&&ER(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XOe(t,e,n){return e=p0(e),YOe(t,S9()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function YOe(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QOe(t)}function QOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function ZOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i2(t,e)}function vE(t,e,n){return e=A9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9(t){var e=JOe(t,"string");return Bu(e)=="symbol"?e:e+""}function JOe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ad=function(t){function e(n){var r;return WOe(this,e),r=XOe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ZOe(e,t),KOe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=o1(r,FOe),l=this.props,c=l.viewBox,u=o1(l,HOe);return!Gc(a,c)||!Gc(s,u)||!Gc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,g,x,b,v,_=f?-1:1,N=r.tickSize||d,j=ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,x=s+ +!f*c,g=x-_*N,v=g-_*h,b=j;break;case"left":g=x=r.coordinate,y=a+ +!f*l,p=y-_*N,b=p-_*h,v=j;break;case"right":g=x=r.coordinate,y=a+ +f*l,p=y+_*N,b=p+_*h,v=j;break;default:p=y=r.coordinate,x=s+ +f*c,g=x+_*N,v=g+_*h,b=j;break}return{line:{x1:p,y1:g,x2:y,y2:x},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=dr(dr(dr({},Ee(this.props,!1)),Ee(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=dr(dr({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=dr(dr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+l})}return B.createElement("line",Ic({},f,{className:He("recharts-cartesian-axis-line",ei(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=yE(dr(dr({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Ee(this.props,!1),b=Ee(d,!1),v=dr(dr({},x),{},{fill:"none"},Ee(c,!1)),_=p.map(function(N,j){var A=s.getTickLineCoord(N),w=A.line,S=A.tick,T=dr(dr(dr(dr({textAnchor:y,verticalAnchor:g},x),{},{stroke:"none",fill:u},b),S),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:f});return B.createElement(Je,Ic({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},El(s.props,N,j)),c&&B.createElement("line",Ic({},v,w,{className:He("recharts-cartesian-axis-tick-line",ei(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(Re(f)?f(N.value,j):N.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=o1(f,qOe),y=h;return Re(c)&&(y=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!y||!y.length?null:B.createElement(Je,{className:He("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Re(r)?s=r(i):s=B.createElement(Nl,Ic({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(C.Component);vE(Ad,"displayName","CartesianAxis");vE(Ad,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eCe=["x1","y1","x2","y2","key"],tCe=["offset"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){nCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nCe(t,e,n){return e=rCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rCe(t){var e=iCe(t,"string");return kl(e)=="symbol"?e:e+""}function iCe(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function TR(t,e){if(t==null)return{};var n=aCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,l=e.height,c=e.ry;return B.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function E9(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Re(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=TR(e,eCe),u=Ee(c,!1);u.offset;var d=TR(u,tCe);n=B.createElement("line",el({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function oCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=ir(ir({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return E9(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function lCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=ir(ir({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return E9(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function cCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?i+s-h:d[p+1]-h;if(g<=0)return null;var x=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function uCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?a+l-h:d[p+1]-h;if(g<=0)return null;var x=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:c,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var dCe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return EB(yE(ir(ir(ir({},Ad.defaultProps),r),{},{ticks:Fa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},fCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return EB(yE(ir(ir(ir({},Ad.defaultProps),r),{},{ticks:Fa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function g0(t){var e,n,r,i,a,s,l=hE(),c=mE(),u=JTe(),d=ir(ir({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:sc.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sc.verticalFill,x:ce(t.x)?t.x:u.left,y:ce(t.y)?t.y:u.top,width:ce(t.width)?t.width:u.width,height:ce(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,g=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=YTe(),_=QTe();if(!ce(p)||p<=0||!ce(y)||y<=0||!ce(f)||f!==+f||!ce(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||dCe,j=d.horizontalCoordinatesGenerator||fCe,A=d.horizontalPoints,w=d.verticalPoints;if((!A||!A.length)&&Re(j)){var S=x&&x.length,T=j({yAxis:_?ir(ir({},_),{},{ticks:S?x:_.ticks}):void 0,width:l,height:c,offset:u},S?!0:g);Bi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(kl(T),"]")),Array.isArray(T)&&(A=T)}if((!w||!w.length)&&Re(N)){var P=b&&b.length,O=N({xAxis:v?ir(ir({},v),{},{ticks:P?b:v.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);Bi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(kl(O),"]")),Array.isArray(O)&&(w=O)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(sCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(oCe,el({},d,{offset:u,horizontalPoints:A,xAxis:v,yAxis:_})),B.createElement(lCe,el({},d,{offset:u,verticalPoints:w,xAxis:v,yAxis:_})),B.createElement(cCe,el({},d,{horizontalPoints:A})),B.createElement(uCe,el({},d,{verticalPoints:w})))}g0.displayName="CartesianGrid";var hCe=["type","layout","connectNulls","ref"],mCe=["key"];function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function OR(t,e){if(t==null)return{};var n=pCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hf(){return Hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hf.apply(this,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oc(t){return xCe(t)||vCe(t)||yCe(t)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(t,e){if(t){if(typeof t=="string")return a2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a2(t,e)}}function vCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xCe(t){if(Array.isArray(t))return a2(t)}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T9(r.key),r)}}function wCe(t,e,n){return e&&kR(t.prototype,e),n&&kR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ce(t,e,n){return e=y0(e),jCe(t,N9()?Reflect.construct(e,n||[],y0(t).constructor):e.apply(t,n))}function jCe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SCe(t)}function SCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(t)}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s2(t,e)}function s2(t,e){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s2(t,e)}function Ri(t,e,n){return e=T9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T9(t){var e=ECe(t,"string");return Uu(e)=="symbol"?e:e+""}function ECe(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bm=function(t){function e(){var n;bCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_Ce(this,e,[].concat(i)),Ri(n,"state",{isAnimationFinished:!0,totalLength:0}),Ri(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Ri(n,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(b,v){return b+v});if(!u)return n.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){p=[].concat(oc(c.slice(0,y)),[f-g]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(oc(e.repeat(c,d)),oc(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),Ri(n,"id",ql("recharts-line-")),Ri(n,"pathRef",function(s){n.mainCurve=s}),Ri(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ri(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ACe(e,t),wCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ti(d,$m);if(!f)return null;var h=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:on(g.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Je,p,f.map(function(y){return B.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ee(this.props,!1),h=Ee(c,!0),p=u.map(function(g,x){var b=Ur(Ur(Ur({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Je,Hf({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=OR(l,hCe),h=Ur(Ur(Ur({},Ee(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:u,connectNulls:d});return B.createElement(ml,Hf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=s.animateNewValues,g=s.width,x=s.height,b=this.state,v=b.prevPoints,_=b.totalLength;return B.createElement(zi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(v){var A=v.length/l.length,w=l.map(function(R,I){var $=Math.floor(I*A);if(v[$]){var L=v[$],U=_n(L.x,R.x),D=_n(L.y,R.y);return Ur(Ur({},R),{},{x:U(j),y:D(j)})}if(y){var z=_n(g*2,R.x),V=_n(x/2,R.y);return Ur(Ur({},R),{},{x:z(j),y:V(j)})}return Ur(Ur({},R),{},{x:R.x,y:R.y})});return a.renderCurveStatically(w,r,i)}var S=_n(0,_),T=S(j),P;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});P=a.getStrokeDasharray(T,_,O)}else P=a.generateSimpleStrokeDasharray(_,T);return a.renderCurveStatically(l,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Tl(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,g=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,_=He("recharts-line",c),N=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,A=N||j,w=Ve(x)?this.id:x,S=(r=Ee(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=S.r,P=T===void 0?3:T,O=S.strokeWidth,R=O===void 0?2:O,I=v5(s)?s:{},$=I.clipDot,L=$===void 0?!0:$,U=P*2+R;return B.createElement(Je,{className:_},N||j?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(w)},B.createElement("rect",{x:N?h:h-p/2,y:j?f:f-y/2,width:N?p:p*2,height:j?y:y*2})),!L&&B.createElement("clipPath",{id:"clipPath-dots-".concat(w)},B.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:y+U}))):null,!v&&this.renderCurve(A,w),this.renderErrorBar(A,w),(v||s)&&this.renderDots(A,L,w),(!g||b)&&fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(oc(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(oc(s),oc(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(B.isValidElement(r))a=B.cloneElement(r,i);else if(Re(r))a=r(i);else{var s=i.key,l=OR(i,mCe),c=He("recharts-line-dot",typeof r!="boolean"?r.className:"");a=B.createElement(Lm,Hf({key:s},l,{className:c}))}return a}}])}(C.PureComponent);Ri(Bm,"displayName","Line");Ri(Bm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Eo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ri(Bm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var y=on(h,s);return d==="horizontal"?{x:Wy({axis:n,ticks:i,bandSize:l,entry:h,index:p}),y:Ve(y)?null:r.scale(y),value:y,payload:h}:{x:Ve(y)?null:n.scale(y),y:Wy({axis:r,ticks:a,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Ur({points:f,layout:d},u)});var NCe=["layout","type","stroke","connectNulls","isRange","ref"],TCe=["key"],O9;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function C9(t,e){if(t==null)return{};var n=OCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I9(r.key),r)}}function kCe(t,e,n){return e&&PR(t.prototype,e),n&&PR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ICe(t,e,n){return e=v0(e),PCe(t,k9()?Reflect.construct(e,n||[],v0(t).constructor):e.apply(t,n))}function PCe(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RCe(t)}function RCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!t})()}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v0(t)}function MCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o2(t,e)}function o2(t,e){return o2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o2(t,e)}function ia(t,e,n){return e=I9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9(t){var e=DCe(t,"string");return Vu(e)=="symbol"?e:e+""}function DCe(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Co=function(t){function e(){var n;CCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ICe(this,e,[].concat(i)),ia(n,"state",{isAnimationFinished:!0}),ia(n,"id",ql("recharts-area-")),ia(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Re(s)&&s()}),ia(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Re(s)&&s()}),n}return MCe(e,t),kCe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ee(this.props,!1),p=Ee(u,!0),y=d.map(function(x,b){var v=js(js(js({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(u,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Je,tl({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=r*Math.abs(c-u),f=Vs(s.map(function(h){return h.y||0}));return ce(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Vs(a.map(function(h){return h.y||0})),f)),ce(f)?B.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=r*Math.abs(c-u),f=Vs(s.map(function(h){return h.x||0}));return ce(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Vs(a.map(function(h){return h.x||0})),f)),ce(f)?B.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=C9(l,NCe);return B.createElement(Je,{clipPath:a?"url(#clipPath-".concat(s,")"):null},B.createElement(ml,tl({},Ee(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&B.createElement(ml,tl({},Ee(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&B.createElement(ml,tl({},Ee(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,g=y.prevPoints,x=y.prevBaseLine;return B.createElement(zi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(g){var _=g.length/l.length,N=l.map(function(S,T){var P=Math.floor(T*_);if(g[P]){var O=g[P],R=_n(O.x,S.x),I=_n(O.y,S.y);return js(js({},S),{},{x:R(v),y:I(v)})}return S}),j;if(ce(c)&&typeof c=="number"){var A=_n(x,c);j=A(v)}else if(Ve(c)||vd(c)){var w=_n(x,0);j=w(v)}else j=c.map(function(S,T){var P=Math.floor(T*_);if(x[P]){var O=x[P],R=_n(O.x,S.x),I=_n(O.y,S.y);return js(js({},S),{},{x:R(v),y:I(v)})}return S});return a.renderAreaStatically(N,j,r,i)}return B.createElement(Je,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(v))),B.createElement(Je,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!Tl(d,s)||!Tl(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,g=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,_=He("recharts-area",c),N=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,A=N||j,w=Ve(x)?this.id:x,S=(r=Ee(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=S.r,P=T===void 0?3:T,O=S.strokeWidth,R=O===void 0?2:O,I=v5(s)?s:{},$=I.clipDot,L=$===void 0?!0:$,U=P*2+R;return B.createElement(Je,{className:_},N||j?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(w)},B.createElement("rect",{x:N?d:d-p/2,y:j?u:u-y/2,width:N?p:p*2,height:j?y:y*2})),!L&&B.createElement("clipPath",{id:"clipPath-dots-".concat(w)},B.createElement("rect",{x:d-U/2,y:u-U/2,width:p+U,height:y+U}))):null,v?null:this.renderArea(A,w),(s||v)&&this.renderDots(A,L,w),(!g||b)&&fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);O9=Co;ia(Co,"displayName","Area");ia(Co,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ia(Co,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,l=s??a;if(ce(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ia(Co,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=u&&u.length,g=O9.getBaseValue(e,n,r,i),x=p==="horizontal",b=!1,v=f.map(function(N,j){var A;y?A=u[d+j]:(A=on(N,c),Array.isArray(A)?b=!0:A=[g,A]);var w=A[1]==null||y&&on(N,c)==null;return x?{x:Wy({axis:r,ticks:a,bandSize:l,entry:N,index:j}),y:w?null:i.scale(A[1]),value:A,payload:N}:{x:w?null:r.scale(A[1]),y:Wy({axis:i,ticks:s,bandSize:l,entry:N,index:j}),value:A,payload:N}}),_;return y||b?_=v.map(function(N){var j=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:j!=null&&N.y!=null?i.scale(j):null}:{x:j!=null?r.scale(j):null,y:N.y}}):_=x?i.scale(g):r.scale(g),js({points:v,baseLine:_,layout:p,isRange:b},h)});ia(Co,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Re(t))n=t(e);else{var r=He("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=C9(e,TCe);n=B.createElement(Lm,tl({},a,{key:i,className:r}))}return n});function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function BCe(t,e,n){return e&&LCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UCe(t,e,n){return e=x0(e),VCe(t,P9()?Reflect.construct(e,n||[],x0(t).constructor):e.apply(t,n))}function VCe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(t)}function zCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(t)}function FCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l2(t,e)}function l2(t,e){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l2(t,e)}function R9(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=HCe(t,"string");return zu(e)=="symbol"?e:e+""}function HCe(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(this,arguments)}function qCe(t){var e=t.xAxisId,n=hE(),r=mE(),i=p9(e);return i==null?null:B.createElement(Ad,c2({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Fa(s,!0)}}))}var mo=function(t){function e(){return $Ce(this,e),UCe(this,e,arguments)}return FCe(e,t),BCe(e,[{key:"render",value:function(){return B.createElement(qCe,this.props)}}])}(B.Component);R9(mo,"displayName","XAxis");R9(mo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function GCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L9(r.key),r)}}function KCe(t,e,n){return e&&WCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XCe(t,e,n){return e=b0(e),YCe(t,D9()?Reflect.construct(e,n||[],b0(t).constructor):e.apply(t,n))}function YCe(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QCe(t)}function QCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D9=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b0(t)}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u2(t,e)}function $9(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=JCe(t,"string");return Fu(e)=="symbol"?e:e+""}function JCe(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d2(){return d2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d2.apply(this,arguments)}var eke=function(e){var n=e.yAxisId,r=hE(),i=mE(),a=g9(n);return a==null?null:B.createElement(Ad,d2({},a,{className:He("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Fa(l,!0)}}))},po=function(t){function e(){return GCe(this,e),XCe(this,e,arguments)}return ZCe(e,t),KCe(e,[{key:"render",value:function(){return B.createElement(eke,this.props)}}])}(B.Component);$9(po,"displayName","YAxis");$9(po,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function RR(t){return ike(t)||rke(t)||nke(t)||tke()}function tke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nke(t,e){if(t){if(typeof t=="string")return f2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f2(t,e)}}function rke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ike(t){if(Array.isArray(t))return f2(t)}function f2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h2=function(e,n,r,i,a){var s=ti(e,gE),l=ti(e,vx),c=[].concat(RR(s),RR(l)),u=ti(e,bx),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,x){if(x.props[d]===r&&ha(x.props,"extendDomain")&&ce(x.props[f])){var b=x.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,x){if(x.props[d]===r&&ha(x.props,"extendDomain")&&ce(x.props[p])&&ce(x.props[y])){var b=x.props[p],v=x.props[y];return[Math.min(g[0],b,v),Math.max(g[1],b,v)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,x){return ce(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},h)),h},B9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var g=n?n+u:u;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,v,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,y),!0}for(_=1,v=new Array(b-1);_<b;_++)v[_-1]=arguments[_];x.fn.apply(x.context,v)}else{var N=x.length,j;for(_=0;_<N;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,d);break;case 3:x[_].fn.call(x[_].context,d,f);break;case 4:x[_].fn.call(x[_].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];x[_].fn.apply(x[_].context,v)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,p);else{for(var g=0,x=[],b=y.length;g<b;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&x.push(y[g]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(B9);var ake=B9.exports;const ske=pt(ake);var l1=new ske,c1="recharts.syncMouseEvents";function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function oke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U9(r.key),r)}}function cke(t,e,n){return e&&lke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u1(t,e,n){return e=U9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U9(t){var e=uke(t,"string");return Xh(e)=="symbol"?e:e+""}function uke(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dke=function(){function t(){oke(this,t),u1(this,"activeIndex",0),u1(this,"coordinateList",[]),u1(this,"layout","horizontal")}return cke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ce(r)&&ce(i))return!0}return!1}function hke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Ot(e,n,r,i),l=Ot(e,n,r,a);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function mke(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ot(l,c,u,f),p=Ot(l,c,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return V9(e);return[{x:r,y:i},{x:a,y:s}]}function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){pke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pke(t,e,n){return e=gke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gke(t){var e=yke(t,"string");return Yh(e)=="symbol"?e:e+""}function yke(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vke(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,g=ml;if(h==="ScatterChart")y=s,g=SAe;else if(h==="BarChart")y=hke(f,s,c,d),g=lE;else if(f==="radial"){var x=V9(s),b=x.cx,v=x.cy,_=x.radius,N=x.startAngle,j=x.endAngle;y={cx:b,cy:v,startAngle:N,endAngle:j,innerRadius:_,outerRadius:_},g=$B}else y={points:mke(f,s,c)},g=ml;var A=Gp(Gp(Gp(Gp({stroke:"#ccc",pointerEvents:"none"},c),y),Ee(p,!1)),{},{payload:l,payloadIndex:u,className:He("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,A):C.createElement(g,A)}var xke=["item"],bke=["children","className","width","height","style","compact","title","desc"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function DR(t,e){return jke(t)||_ke(t,e)||F9(t,e)||wke()}function wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function jke(t){if(Array.isArray(t))return t}function $R(t,e){if(t==null)return{};var n=Ske(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ske(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ake(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H9(r.key),r)}}function Nke(t,e,n){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tke(t,e,n){return e=w0(e),Oke(t,z9()?Reflect.construct(e,n||[],w0(t).constructor):e.apply(t,n))}function Oke(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cke(t)}function Cke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w0(t)}function kke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m2(t,e)}function m2(t,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m2(t,e)}function qu(t){return Rke(t)||Pke(t)||F9(t)||Ike()}function Ike(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(t,e){if(t){if(typeof t=="string")return p2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p2(t,e)}}function Pke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rke(t){if(Array.isArray(t))return p2(t)}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pe(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=Mke(t,"string");return Hu(e)=="symbol"?e:e+""}function Mke(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dke={xAxis:["bottom","top"],yAxis:["left","right"]},$ke={width:"100%",height:"100%"},q9={x:0,y:0};function Wp(t){return t}var Lke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Bke=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,l=i.radius;return J(J(J({},i),Ot(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return J(J(J({},i),Ot(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return q9},wx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(qu(l),qu(u)):l},[]);return s.length>0?s:e&&e.length&&ce(i)&&ce(a)?e.slice(i,a+1):[]};function G9(t){return t==="number"?[0,"auto"]:void 0}var g2=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,l=wx(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=xy(p,s.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(qu(c),[kB(u,h)]):c},[])},BR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=Lke(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=J_e(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=g2(e,n,d,f),p=Bke(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Uke=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=AB(d,a);return r.reduce(function(y,g){var x,b=g.type.defaultProps!==void 0?J(J({},g.type.defaultProps),g.props):g.props,v=b.type,_=b.dataKey,N=b.allowDataOverflow,j=b.allowDuplicatedCategory,A=b.scale,w=b.ticks,S=b.includeHidden,T=b[s];if(y[T])return y;var P=wx(e.data,{graphicalItems:i.filter(function(K){var F,te=s in K.props?K.props[s]:(F=K.type.defaultProps)===null||F===void 0?void 0:F[s];return te===T}),dataStartIndex:c,dataEndIndex:u}),O=P.length,R,I,$;fke(b.domain,N,v)&&(R=O_(b.domain,null,N),p&&(v==="number"||A!=="auto")&&($=Uf(P,_,"category")));var L=G9(v);if(!R||R.length===0){var U,D=(U=b.domain)!==null&&U!==void 0?U:L;if(_){if(R=Uf(P,_,v),v==="category"&&p){var z=Fce(R);j&&z?(I=R,R=s0(0,O)):j||(R=oP(D,R,g).reduce(function(K,F){return K.indexOf(F)>=0?K:[].concat(qu(K),[F])},[]))}else if(v==="category")j?R=R.filter(function(K){return K!==""&&!Ve(K)}):R=oP(D,R,g).reduce(function(K,F){return K.indexOf(F)>=0||F===""||Ve(F)?K:[].concat(qu(K),[F])},[]);else if(v==="number"){var V=i2e(P,i.filter(function(K){var F,te,H=s in K.props?K.props[s]:(F=K.type.defaultProps)===null||F===void 0?void 0:F[s],ue="hide"in K.props?K.props.hide:(te=K.type.defaultProps)===null||te===void 0?void 0:te.hide;return H===T&&(S||!ue)}),_,a,d);V&&(R=V)}p&&(v==="number"||A!=="auto")&&($=Uf(P,_,"category"))}else p?R=s0(0,O):l&&l[T]&&l[T].hasStack&&v==="number"?R=h==="expand"?[0,1]:CB(l[T].stackGroups,c,u):R=SB(P,i.filter(function(K){var F=s in K.props?K.props[s]:K.type.defaultProps[s],te="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return F===T&&(S||!te)}),v,d,!0);if(v==="number")R=h2(f,R,T,a,w),D&&(R=O_(D,R,N));else if(v==="category"&&D){var X=D,Y=R.every(function(K){return X.indexOf(K)>=0});Y&&(R=X)}}return J(J({},y),{},Pe({},T,J(J({},b),{},{axisType:a,domain:R,categoricalDomain:$,duplicateDomain:I,originalDomain:(x=b.domain)!==null&&x!==void 0?x:L,isCategorical:p,layout:d})))},{})},Vke=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=wx(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=AB(d,a),g=-1;return r.reduce(function(x,b){var v=b.type.defaultProps!==void 0?J(J({},b.type.defaultProps),b.props):b.props,_=v[s],N=G9("number");if(!x[_]){g++;var j;return y?j=s0(0,p):l&&l[_]&&l[_].hasStack?(j=CB(l[_].stackGroups,c,u),j=h2(f,j,_,a)):(j=O_(N,SB(h,r.filter(function(A){var w,S,T=s in A.props?A.props[s]:(w=A.type.defaultProps)===null||w===void 0?void 0:w[s],P="hide"in A.props?A.props.hide:(S=A.type.defaultProps)===null||S===void 0?void 0:S.hide;return T===_&&!P}),"number",d),i.defaultProps.allowDataOverflow),j=h2(f,j,_,a)),J(J({},x),{},Pe({},_,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:ei(Dke,"".concat(a,".").concat(g%2),null),domain:j,originalDomain:N,isCategorical:y,layout:d})))}return x},{})},zke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ti(d,a),p={};return h&&h.length?p=Uke(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=Vke(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Fke=function(e){var n=Ms(e),r=Fa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:MA(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ky(n,r)}},UR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Fr(n,Ru),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Hke=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xa(n&&n.type);return r&&r.indexOf("Bar")>=0})},VR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qke=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Fr(f,Ru),y=Fr(f,Wc),g=Object.keys(c).reduce(function(j,A){var w=c[A],S=w.orientation;return!w.mirror&&!w.hide?J(J({},j),{},Pe({},S,j[S]+w.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(j,A){var w=s[A],S=w.orientation;return!w.mirror&&!w.hide?J(J({},j),{},Pe({},S,ei(j,"".concat(S))+w.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=J(J({},x),g),v=b.bottom;p&&(b.bottom+=p.props.height||Ru.defaultProps.height),y&&n&&(b=n2e(b,i,r,n));var _=u-b.left-b.right,N=d-b.top-b.bottom;return J(J({brushBottom:v},b),{},{width:Math.max(_,0),height:Math.max(N,0)})},Gke=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},_x=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,v){var _=v.graphicalItems,N=v.stackGroups,j=v.offset,A=v.updateId,w=v.dataStartIndex,S=v.dataEndIndex,T=b.barSize,P=b.layout,O=b.barGap,R=b.barCategoryGap,I=b.maxBarSize,$=VR(P),L=$.numericAxisName,U=$.cateAxisName,D=Hke(_),z=[];return _.forEach(function(V,X){var Y=wx(b.data,{graphicalItems:[V],dataStartIndex:w,dataEndIndex:S}),K=V.type.defaultProps!==void 0?J(J({},V.type.defaultProps),V.props):V.props,F=K.dataKey,te=K.maxBarSize,H=K["".concat(L,"Id")],ue=K["".concat(U,"Id")],oe={},ge=c.reduce(function(Be,Bt){var Yn=v["".concat(Bt.axisType,"Map")],On=K["".concat(Bt.axisType,"Id")];Yn&&Yn[On]||Bt.axisType==="zAxis"||Cl();var q=Yn[On];return J(J({},Be),{},Pe(Pe({},Bt.axisType,q),"".concat(Bt.axisType,"Ticks"),Fa(q)))},oe),G=ge[U],he=ge["".concat(U,"Ticks")],ye=N&&N[H]&&N[H].hasStack&&h2e(V,N[H].stackGroups),ne=Xa(V.type).indexOf("Bar")>=0,Oe=Ky(G,he),ve=[],Ae=D&&e2e({barSize:T,stackGroups:N,totalSize:Gke(ge,U)});if(ne){var le,fe,Ne=Ve(te)?I:te,et=(le=(fe=Ky(G,he,!0))!==null&&fe!==void 0?fe:Ne)!==null&&le!==void 0?le:0;ve=t2e({barGap:O,barCategoryGap:R,bandSize:et!==Oe?et:Oe,sizeList:Ae[ue],maxBarSize:Ne}),et!==Oe&&(ve=ve.map(function(Be){return J(J({},Be),{},{position:J(J({},Be.position),{},{offset:Be.position.offset-et/2})})}))}var Ye=V&&V.type&&V.type.getComposedData;Ye&&z.push({props:J(J({},Ye(J(J({},ge),{},{displayedData:Y,props:b,dataKey:F,item:V,bandSize:Oe,barPosition:ve,offset:j,stackedData:ye,layout:P,dataStartIndex:w,dataEndIndex:S}))),{},Pe(Pe(Pe({key:V.key||"item-".concat(X)},L,ge[L]),U,ge[U]),"animationId",A)),childIndex:tue(V,b.children),item:V})}),z},p=function(b,v){var _=b.props,N=b.dataStartIndex,j=b.dataEndIndex,A=b.updateId;if(!tk({props:_}))return null;var w=_.children,S=_.layout,T=_.stackOffset,P=_.data,O=_.reverseStackOrder,R=VR(S),I=R.numericAxisName,$=R.cateAxisName,L=ti(w,r),U=d2e(P,L,"".concat(I,"Id"),"".concat($,"Id"),T,O),D=c.reduce(function(K,F){var te="".concat(F.axisType,"Map");return J(J({},K),{},Pe({},te,zke(_,J(J({},F),{},{graphicalItems:L,stackGroups:F.axisType===I&&U,dataStartIndex:N,dataEndIndex:j}))))},{}),z=qke(J(J({},D),{},{props:_,graphicalItems:L}),v==null?void 0:v.legendBBox);Object.keys(D).forEach(function(K){D[K]=d(_,D[K],z,K.replace("Map",""),n)});var V=D["".concat($,"Map")],X=Fke(V),Y=h(_,J(J({},D),{},{dataStartIndex:N,dataEndIndex:j,updateId:A,graphicalItems:L,stackGroups:U,offset:z}));return J(J({formattedGraphicalItems:Y,graphicalItems:L,offset:z,stackGroups:U},X),D)},y=function(x){function b(v){var _,N,j;return Ake(this,b),j=Tke(this,b,[v]),Pe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(j,"accessibilityManager",new dke),Pe(j,"handleLegendBBoxUpdate",function(A){if(A){var w=j.state,S=w.dataStartIndex,T=w.dataEndIndex,P=w.updateId;j.setState(J({legendBBox:A},p({props:j.props,dataStartIndex:S,dataEndIndex:T,updateId:P},J(J({},j.state),{},{legendBBox:A}))))}}),Pe(j,"handleReceiveSyncEvent",function(A,w,S){if(j.props.syncId===A){if(S===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(w)}}),Pe(j,"handleBrushChange",function(A){var w=A.startIndex,S=A.endIndex;if(w!==j.state.dataStartIndex||S!==j.state.dataEndIndex){var T=j.state.updateId;j.setState(function(){return J({dataStartIndex:w,dataEndIndex:S},p({props:j.props,dataStartIndex:w,dataEndIndex:S,updateId:T},j.state))}),j.triggerSyncEvent({dataStartIndex:w,dataEndIndex:S})}}),Pe(j,"handleMouseEnter",function(A){var w=j.getMouseInfo(A);if(w){var S=J(J({},w),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var T=j.props.onMouseEnter;Re(T)&&T(S,A)}}),Pe(j,"triggeredAfterMouseMove",function(A){var w=j.getMouseInfo(A),S=w?J(J({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var T=j.props.onMouseMove;Re(T)&&T(S,A)}),Pe(j,"handleItemMouseEnter",function(A){j.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Pe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Pe(j,"handleMouseMove",function(A){A.persist(),j.throttleTriggeredAfterMouseMove(A)}),Pe(j,"handleMouseLeave",function(A){j.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};j.setState(w),j.triggerSyncEvent(w);var S=j.props.onMouseLeave;Re(S)&&S(w,A)}),Pe(j,"handleOuterEvent",function(A){var w=eue(A),S=ei(j.props,"".concat(w));if(w&&Re(S)){var T,P;/.*touch.*/i.test(w)?P=j.getMouseInfo(A.changedTouches[0]):P=j.getMouseInfo(A),S((T=P)!==null&&T!==void 0?T:{},A)}}),Pe(j,"handleClick",function(A){var w=j.getMouseInfo(A);if(w){var S=J(J({},w),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var T=j.props.onClick;Re(T)&&T(S,A)}}),Pe(j,"handleMouseDown",function(A){var w=j.props.onMouseDown;if(Re(w)){var S=j.getMouseInfo(A);w(S,A)}}),Pe(j,"handleMouseUp",function(A){var w=j.props.onMouseUp;if(Re(w)){var S=j.getMouseInfo(A);w(S,A)}}),Pe(j,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Pe(j,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseDown(A.changedTouches[0])}),Pe(j,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseUp(A.changedTouches[0])}),Pe(j,"handleDoubleClick",function(A){var w=j.props.onDoubleClick;if(Re(w)){var S=j.getMouseInfo(A);w(S,A)}}),Pe(j,"handleContextMenu",function(A){var w=j.props.onContextMenu;if(Re(w)){var S=j.getMouseInfo(A);w(S,A)}}),Pe(j,"triggerSyncEvent",function(A){j.props.syncId!==void 0&&l1.emit(c1,j.props.syncId,A,j.eventEmitterSymbol)}),Pe(j,"applySyncEvent",function(A){var w=j.props,S=w.layout,T=w.syncMethod,P=j.state.updateId,O=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)j.setState(J({dataStartIndex:O,dataEndIndex:R},p({props:j.props,dataStartIndex:O,dataEndIndex:R,updateId:P},j.state)));else if(A.activeTooltipIndex!==void 0){var I=A.chartX,$=A.chartY,L=A.activeTooltipIndex,U=j.state,D=U.offset,z=U.tooltipTicks;if(!D)return;if(typeof T=="function")L=T(z,A);else if(T==="value"){L=-1;for(var V=0;V<z.length;V++)if(z[V].value===A.activeLabel){L=V;break}}var X=J(J({},D),{},{x:D.left,y:D.top}),Y=Math.min(I,X.x+X.width),K=Math.min($,X.y+X.height),F=z[L]&&z[L].value,te=g2(j.state,j.props.data,L),H=z[L]?{x:S==="horizontal"?z[L].coordinate:Y,y:S==="horizontal"?K:z[L].coordinate}:q9;j.setState(J(J({},A),{},{activeLabel:F,activeCoordinate:H,activePayload:te,activeTooltipIndex:L}))}else j.setState(A)}),Pe(j,"renderCursor",function(A){var w,S=j.state,T=S.isTooltipActive,P=S.activeCoordinate,O=S.activePayload,R=S.offset,I=S.activeTooltipIndex,$=S.tooltipAxisBandSize,L=j.getTooltipEventType(),U=(w=A.props.active)!==null&&w!==void 0?w:T,D=j.props.layout,z=A.key||"_recharts-cursor";return B.createElement(vke,{key:z,activeCoordinate:P,activePayload:O,activeTooltipIndex:I,chartName:n,element:A,isActive:U,layout:D,offset:R,tooltipAxisBandSize:$,tooltipEventType:L})}),Pe(j,"renderPolarAxis",function(A,w,S){var T=ei(A,"type.axisType"),P=ei(j.state,"".concat(T,"Map")),O=A.type.defaultProps,R=O!==void 0?J(J({},O),A.props):A.props,I=P&&P[R["".concat(T,"Id")]];return C.cloneElement(A,J(J({},I),{},{className:He(T,I.className),key:A.key||"".concat(w,"-").concat(S),ticks:Fa(I,!0)}))}),Pe(j,"renderPolarGrid",function(A){var w=A.props,S=w.radialLines,T=w.polarAngles,P=w.polarRadius,O=j.state,R=O.radiusAxisMap,I=O.angleAxisMap,$=Ms(R),L=Ms(I),U=L.cx,D=L.cy,z=L.innerRadius,V=L.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(T)?T:Fa(L,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(P)?P:Fa($,!0).map(function(X){return X.coordinate}),cx:U,cy:D,innerRadius:z,outerRadius:V,key:A.key||"polar-grid",radialLines:S})}),Pe(j,"renderLegend",function(){var A=j.state.formattedGraphicalItems,w=j.props,S=w.children,T=w.width,P=w.height,O=j.props.margin||{},R=T-(O.left||0)-(O.right||0),I=_B({children:S,formattedGraphicalItems:A,legendWidth:R,legendContent:u});if(!I)return null;var $=I.item,L=$R(I,xke);return C.cloneElement($,J(J({},L),{},{chartWidth:T,chartHeight:P,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Pe(j,"renderTooltip",function(){var A,w=j.props,S=w.children,T=w.accessibilityLayer,P=Fr(S,fr);if(!P)return null;var O=j.state,R=O.isTooltipActive,I=O.activeCoordinate,$=O.activePayload,L=O.activeLabel,U=O.offset,D=(A=P.props.active)!==null&&A!==void 0?A:R;return C.cloneElement(P,{viewBox:J(J({},U),{},{x:U.left,y:U.top}),active:D,label:L,payload:D?$:[],coordinate:I,accessibilityLayer:T})}),Pe(j,"renderBrush",function(A){var w=j.props,S=w.margin,T=w.data,P=j.state,O=P.offset,R=P.dataStartIndex,I=P.dataEndIndex,$=P.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:zp(j.handleBrushChange,A.props.onChange),data:T,x:ce(A.props.x)?A.props.x:O.left,y:ce(A.props.y)?A.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:ce(A.props.width)?A.props.width:O.width,startIndex:R,endIndex:I,updateId:"brush-".concat($)})}),Pe(j,"renderReferenceElement",function(A,w,S){if(!A)return null;var T=j,P=T.clipPathId,O=j.state,R=O.xAxisMap,I=O.yAxisMap,$=O.offset,L=A.type.defaultProps||{},U=A.props,D=U.xAxisId,z=D===void 0?L.xAxisId:D,V=U.yAxisId,X=V===void 0?L.yAxisId:V;return C.cloneElement(A,{key:A.key||"".concat(w,"-").concat(S),xAxis:R[z],yAxis:I[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),Pe(j,"renderActivePoints",function(A){var w=A.item,S=A.activePoint,T=A.basePoint,P=A.childIndex,O=A.isRange,R=[],I=w.props.key,$=w.item.type.defaultProps!==void 0?J(J({},w.item.type.defaultProps),w.item.props):w.item.props,L=$.activeDot,U=$.dataKey,D=J(J({index:P,dataKey:U,cx:S.x,cy:S.y,r:4,fill:oE(w.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Ee(L,!1)),by(L));return R.push(b.renderActiveDot(L,D,"".concat(I,"-activePoint-").concat(P))),T?R.push(b.renderActiveDot(L,J(J({},D),{},{cx:T.x,cy:T.y}),"".concat(I,"-basePoint-").concat(P))):O&&R.push(null),R}),Pe(j,"renderGraphicChild",function(A,w,S){var T=j.filterFormatItem(A,w,S);if(!T)return null;var P=j.getTooltipEventType(),O=j.state,R=O.isTooltipActive,I=O.tooltipAxis,$=O.activeTooltipIndex,L=O.activeLabel,U=j.props.children,D=Fr(U,fr),z=T.props,V=z.points,X=z.isRange,Y=z.baseLine,K=T.item.type.defaultProps!==void 0?J(J({},T.item.type.defaultProps),T.item.props):T.item.props,F=K.activeDot,te=K.hide,H=K.activeBar,ue=K.activeShape,oe=!!(!te&&R&&D&&(F||H||ue)),ge={};P!=="axis"&&D&&D.props.trigger==="click"?ge={onClick:zp(j.handleItemMouseEnter,A.props.onClick)}:P!=="axis"&&(ge={onMouseLeave:zp(j.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:zp(j.handleItemMouseEnter,A.props.onMouseEnter)});var G=C.cloneElement(A,J(J({},T.props),ge));function he(Bt){return typeof I.dataKey=="function"?I.dataKey(Bt.payload):null}if(oe)if($>=0){var ye,ne;if(I.dataKey&&!I.allowDuplicatedCategory){var Oe=typeof I.dataKey=="function"?he:"payload.".concat(I.dataKey.toString());ye=xy(V,Oe,L),ne=X&&Y&&xy(Y,Oe,L)}else ye=V==null?void 0:V[$],ne=X&&Y&&Y[$];if(ue||H){var ve=A.props.activeIndex!==void 0?A.props.activeIndex:$;return[C.cloneElement(A,J(J(J({},T.props),ge),{},{activeIndex:ve})),null,null]}if(!Ve(ye))return[G].concat(qu(j.renderActivePoints({item:T,activePoint:ye,basePoint:ne,childIndex:$,isRange:X})))}else{var Ae,le=(Ae=j.getItemByXY(j.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:G},fe=le.graphicalItem,Ne=fe.item,et=Ne===void 0?A:Ne,Ye=fe.childIndex,Be=J(J(J({},T.props),ge),{},{activeIndex:Ye});return[C.cloneElement(et,Be),null,null]}return X?[G,null,null]:[G,null]}),Pe(j,"renderCustomized",function(A,w,S){return C.cloneElement(A,J(J({key:"recharts-customized-".concat(S)},j.props),j.state))}),Pe(j,"renderMap",{CartesianGrid:{handler:Wp,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Wp},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Wp},YAxis:{handler:Wp},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((_=v.id)!==null&&_!==void 0?_:ql("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=w8(j.triggeredAfterMouseMove,(N=v.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return kke(b,x),Nke(b,[{key:"componentDidMount",value:function(){var _,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,N=_.children,j=_.data,A=_.height,w=_.layout,S=Fr(N,fr);if(S){var T=S.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=g2(this.state,j,T,P),R=this.state.tooltipTicks[T].coordinate,I=(this.state.offset.top+A)/2,$=w==="horizontal",L=$?{x:R,y:I}:{y:R,x:I},U=this.state.formattedGraphicalItems.find(function(z){var V=z.item;return V.type.name==="Scatter"});U&&(L=J(J({},L),U.props.points[T].tooltipPosition),O=U.props.points[T].tooltipPayload);var D={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:L};this.setState(D),this.renderCursor(S),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var j,A;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Hw([Fr(_.children,fr)],[Fr(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Fr(this.props.children,fr);if(_&&typeof _.props.shared=="boolean"){var N=_.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),A=Nxe(j),w={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},S=j.width/N.offsetWidth||1,T=this.inRange(w.chartX,w.chartY,S);if(!T)return null;var P=this.state,O=P.xAxisMap,R=P.yAxisMap,I=this.getTooltipEventType(),$=BR(this.state,this.props.data,this.props.layout,T);if(I!=="axis"&&O&&R){var L=Ms(O).scale,U=Ms(R).scale,D=L&&L.invert?L.invert(w.chartX):null,z=U&&U.invert?U.invert(w.chartY):null;return J(J({},w),{},{xValue:D,yValue:z},$)}return $?J(J({},w),$):null}},{key:"inRange",value:function(_,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,w=_/j,S=N/j;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,P=w>=T.left&&w<=T.left+T.width&&S>=T.top&&S<=T.top+T.height;return P?{x:w,y:S}:null}var O=this.state,R=O.angleAxisMap,I=O.radiusAxisMap;if(R&&I){var $=Ms(R);return uP({x:w,y:S},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,N=this.getTooltipEventType(),j=Fr(_,fr),A={};j&&N==="axis"&&(j.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=by(this.props,this.handleOuterEvent);return J(J({},w),A)}},{key:"addListener",value:function(){l1.on(c1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){l1.removeListener(c1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,N,j){for(var A=this.state.formattedGraphicalItems,w=0,S=A.length;w<S;w++){var T=A[w];if(T.item===_||T.props.key===_.key||N===Xa(T.item.type)&&j===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,N=this.state.offset,j=N.left,A=N.top,w=N.height,S=N.width;return B.createElement("defs",null,B.createElement("clipPath",{id:_},B.createElement("rect",{x:j,y:A,height:w,width:S})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(N,j){var A=DR(j,2),w=A[0],S=A[1];return J(J({},N),{},Pe({},w,S.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(N,j){var A=DR(j,2),w=A[0],S=A[1];return J(J({},N),{},Pe({},w,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(_){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[_])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(_){var N=this.state,j=N.formattedGraphicalItems,A=N.activeItem;if(j&&j.length)for(var w=0,S=j.length;w<S;w++){var T=j[w],P=T.props,O=T.item,R=O.type.defaultProps!==void 0?J(J({},O.type.defaultProps),O.props):O.props,I=Xa(O.type);if(I==="Bar"){var $=(P.data||[]).find(function(z){return iAe(_,z)});if($)return{graphicalItem:T,payload:$}}else if(I==="RadialBar"){var L=(P.data||[]).find(function(z){return uP(_,z)});if(L)return{graphicalItem:T,payload:L}}else if(mx(T,A)||px(T,A)||Hh(T,A)){var U=WEe({graphicalItem:T,activeTooltipItem:A,itemData:R.data}),D=R.activeIndex===void 0?U:R.activeIndex;return{graphicalItem:J(J({},T),{},{childIndex:D}),payload:Hh(T,A)?R.data[U]:T.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!tk(this))return null;var N=this.props,j=N.children,A=N.className,w=N.width,S=N.height,T=N.style,P=N.compact,O=N.title,R=N.desc,I=$R(N,bke),$=Ee(I,!1);if(P)return B.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(Gw,Pc({},$,{width:w,height:S,title:O,desc:R}),this.renderClipPath(),rk(j,this.renderMap)));if(this.props.accessibilityLayer){var L,U;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(z){_.accessibilityManager.keyboardEvent(z)},$.onFocus=function(){_.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return B.createElement(gR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Pc({className:He("recharts-wrapper",A),style:J({position:"relative",cursor:"default",width:w,height:S},T)},D,{ref:function(V){_.container=V}}),B.createElement(Gw,Pc({},$,{width:w,height:S,title:O,desc:R,style:$ke}),this.renderClipPath(),rk(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Pe(y,"displayName",n),Pe(y,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Pe(y,"getDerivedStateFromProps",function(x,b){var v=x.dataKey,_=x.data,N=x.children,j=x.width,A=x.height,w=x.layout,S=x.stackOffset,T=x.margin,P=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var R=UR(x);return J(J(J({},R),{},{updateId:0},p(J(J({props:x},R),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:_,prevWidth:j,prevHeight:A,prevLayout:w,prevStackOffset:S,prevMargin:T,prevChildren:N})}if(v!==b.prevDataKey||_!==b.prevData||j!==b.prevWidth||A!==b.prevHeight||w!==b.prevLayout||S!==b.prevStackOffset||!Gc(T,b.prevMargin)){var I=UR(x),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},L=J(J({},BR(b,_,w)),{},{updateId:b.updateId+1}),U=J(J(J({},I),$),L);return J(J(J({},U),p(J({props:x},U),b)),{},{prevDataKey:v,prevData:_,prevWidth:j,prevHeight:A,prevLayout:w,prevStackOffset:S,prevMargin:T,prevChildren:N})}if(!Hw(N,b.prevChildren)){var D,z,V,X,Y=Fr(N,Ru),K=Y&&(D=(z=Y.props)===null||z===void 0?void 0:z.startIndex)!==null&&D!==void 0?D:P,F=Y&&(V=(X=Y.props)===null||X===void 0?void 0:X.endIndex)!==null&&V!==void 0?V:O,te=K!==P||F!==O,H=!Ve(_),ue=H&&!te?b.updateId:b.updateId+1;return J(J({updateId:ue},p(J(J({props:x},b),{},{updateId:ue,dataStartIndex:K,dataEndIndex:F}),b)),{},{prevChildren:N,dataStartIndex:K,dataEndIndex:F})}return null}),Pe(y,"renderActiveDot",function(x,b,v){var _;return C.isValidElement(x)?_=C.cloneElement(x,b):Re(x)?_=x(b):_=B.createElement(Lm,b),B.createElement(Je,{className:"recharts-active-dot",key:v},_)});var g=C.forwardRef(function(b,v){return B.createElement(y,Pc({},b,{ref:v}))});return g.displayName=y.displayName,g},Wke=_x({chartName:"LineChart",GraphicalChild:Bm,axisComponents:[{axisType:"xAxis",AxisComp:mo},{axisType:"yAxis",AxisComp:po}],formatAxisMap:cE}),Kke=_x({chartName:"BarChart",GraphicalChild:Xl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mo},{axisType:"yAxis",AxisComp:po}],formatAxisMap:cE}),y2=_x({chartName:"PieChart",GraphicalChild:Fi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hx},{axisType:"radiusAxis",AxisComp:dx}],formatAxisMap:j2e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Xke=_x({chartName:"AreaChart",GraphicalChild:Co,axisComponents:[{axisType:"xAxis",AxisComp:mo},{axisType:"yAxis",AxisComp:po}],formatAxisMap:cE});const Yke=({isOpen:t,onClose:e,onItemClick:n})=>{var j;const[r,i]=C.useState([]),[a,s]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState(!1),[f,h]=C.useState(!1),[p,y]=C.useState(null);jo();const g=C.useRef(null);C.useEffect(()=>{t&&x()},[t]);const x=async()=>{s(!0);try{const A=ct(De,"items"),w=Ft(A,mn("status","==","sold"),mn("saleType","==","online"),mn("fulfillmentMethod","==","shipping")),S=await Dt(w),T=[];S.forEach(P=>{var R,I,$,L;const O=P.data();O.shippedAt&&T.push({id:P.id,...O,createdAt:((R=O.createdAt)==null?void 0:R.toDate())||new Date,soldAt:((I=O.soldAt)==null?void 0:I.toDate())||new Date,shippedAt:($=O.shippedAt)==null?void 0:$.toDate(),barcodeGeneratedAt:(L=O.barcodeGeneratedAt)==null?void 0:L.toDate()})}),T.sort((P,O)=>{const R=P.shippedAt||P.soldAt||P.createdAt;return(O.shippedAt||O.soldAt||O.createdAt).getTime()-R.getTime()}),i(T)}catch(A){console.error("Error fetching shipped items:",A)}finally{s(!1)}},b=A=>{y(A),h(!0)},v=A=>{n&&n(A)},_=A=>{var S,T,P;if(!A.buyerInfo||!A.trackingNumber)return;const w=window.open("","_blank");w&&(w.document.write(`
      <html>
        <head>
          <title>Shipping Label - ${A.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              line-height: 1.4;
            }
            .shipping-label {
              border: 2px solid #000;
              padding: 20px;
              max-width: 600px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 1px solid #000;
              padding-bottom: 15px;
              margin-bottom: 15px;
            }
            .section {
              margin: 15px 0;
            }
            .section-title {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              text-transform: uppercase;
            }
            .address-block {
              border: 1px solid #000;
              padding: 10px;
              margin: 10px 0;
            }
            .tracking-section {
              text-align: center;
              margin: 20px 0;
            }
            .item-details {
              background-color: #f5f5f5;
              padding: 10px;
              margin: 10px 0;
            }
          </style>
        </head>
        <body>
          <div class="shipping-label">
            <div class="header">
              <h2>Summit Gear Exchange</h2>
              <p>Shipping Label - REPRINT</p>
            </div>
            
            <div class="section">
              <div class="section-title">Ship To:</div>
              <div class="address-block">
                <strong>${A.buyerInfo.name}</strong><br>
                ${A.buyerInfo.address}<br>
                ${A.buyerInfo.city}, ${A.buyerInfo.zipCode}<br>
                Phone: ${A.buyerInfo.phone}<br>
                Email: ${A.buyerInfo.email}
              </div>
            </div>

            <div class="section">
              <div class="section-title">Ship From:</div>
              <div class="address-block">
                <strong>Summit Gear Exchange</strong><br>
                123 Mountain View Drive<br>
                Boulder, CO 80301<br>
                Phone: (303) 555-0123
              </div>
            </div>

            <div class="tracking-section">
              <div class="section-title">Tracking Number:</div>
              <h3>${A.trackingNumber}</h3>
              ${A.barcodeImageUrl?`<img src="${A.barcodeImageUrl}" alt="Tracking Barcode" />`:""}
            </div>

            <div class="item-details">
              <div class="section-title">Item Details:</div>
              <strong>Item:</strong> ${A.title}<br>
              <strong>Price:</strong> $${A.soldPrice||A.price}<br>
              <strong>Category:</strong> ${A.category||"N/A"}<br>
              <strong>Brand:</strong> ${A.brand||"N/A"}<br>
              <strong>Size:</strong> ${A.size||"N/A"}<br>
              <strong>Order Date:</strong> ${((S=A.soldAt)==null?void 0:S.toLocaleDateString())||"N/A"}<br>
              <strong>Shipped Date:</strong> ${((T=A.shippedAt)==null?void 0:T.toLocaleDateString())||"N/A"}
            </div>

            <div class="section">
              <div class="section-title">Shipping Status:</div>
              <p>✅ SHIPPED - ${(P=A.shippedAt)==null?void 0:P.toLocaleDateString()}</p>
            </div>
          </div>
        </body>
      </html>
    `),w.document.close(),w.focus(),w.print())},N=A=>`$${A.toFixed(2)}`;return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shipped Items"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["Online orders that have been shipped (",r.length,")"]})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Shipped Items"}),o.jsx("p",{className:"text-gray-600",children:"No online orders have been shipped yet."})]}):o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipped Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(A=>{var w,S,T;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[A.images&&A.images[0]&&o.jsx("img",{className:"h-12 w-12 rounded-lg object-cover mr-3",src:A.images[0],alt:A.title}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:A.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),o.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Shipped"})]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:A.sellerName}),o.jsx("div",{className:"text-xs text-gray-500",children:A.sellerEmail})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:((w=A.buyerInfo)==null?void 0:w.name)||"N/A"}),o.jsx("div",{className:"text-xs text-gray-500",children:((S=A.buyerInfo)==null?void 0:S.email)||"N/A"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:N(A.soldPrice||A.price)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-900",children:A.trackingNumber||"N/A"}),A.trackingNumber&&o.jsxs("div",{className:"text-xs text-gray-500",children:["Track: TRK-",A.trackingNumber.slice(-4)]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((T=A.shippedAt)==null?void 0:T.toLocaleDateString())||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsx("button",{onClick:()=>v(A),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-orange-500 text-white hover:bg-orange-600 transition-colors text-center",children:"View Details"}),A.barcodeImageUrl&&o.jsx("button",{onClick:()=>b(A),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-500 text-white hover:bg-blue-600 transition-colors text-center",children:"View Barcode"}),o.jsx("button",{onClick:()=>_(A),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-green-500 text-white hover:bg-green-600 transition-colors text-center",children:"Reprint Label"})]})})]},A.id)})})]})})})}),o.jsx("canvas",{ref:g,style:{display:"none"}})]})}),f&&p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Item Barcode"}),o.jsx("p",{className:"text-gray-600",children:p.title})]}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 text-center",children:p.barcodeImageUrl?o.jsxs("div",{className:"space-y-4",children:[o.jsx("img",{src:p.barcodeImageUrl,alt:"Item Barcode",className:"mx-auto border border-gray-200 rounded-lg p-4 bg-white max-w-full h-auto"}),o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Barcode ID:"})," ",p.barcodeData]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Generated:"})," ",(j=p.barcodeGeneratedAt)==null?void 0:j.toLocaleDateString()]})]}),o.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[o.jsx("button",{onClick:()=>{var A;if(p.barcodeImageUrl){const w=window.open("","_blank");w&&(w.document.write(`
                              <html>
                                <head>
                                  <title>Barcode - ${p.title}</title>
                                  <style>
                                    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
                                    .barcode-container { margin: 20px 0; }
                                    img { max-width: 100%; height: auto; }
                                  </style>
                                </head>
                                <body>
                                  <h2>${p.title}</h2>
                                  <div class="barcode-container">
                                    <img src="${p.barcodeImageUrl}" alt="Barcode" />
                                  </div>
                                  <p>Barcode ID: ${p.barcodeData}</p>
                                  <p>Generated: ${(A=p.barcodeGeneratedAt)==null?void 0:A.toLocaleDateString()}</p>
                                </body>
                              </html>
                            `),w.document.close(),w.focus(),w.print())}},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Print Barcode"}),o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}):o.jsxs("div",{className:"py-8",children:[o.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"📊"}),o.jsx("p",{className:"text-gray-500",children:"No barcode image available"}),o.jsx("button",{onClick:()=>h(!1),className:"mt-4 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})})]})})]}):null},Qke=({isOpen:t,onClose:e,user:n,refreshTrigger:r=0,onItemClick:i})=>{const[a,s]=C.useState(!1),[l,c]=C.useState([]),[u,d]=C.useState(!1);C.useEffect(()=>{t&&f()},[t,r]);const f=async()=>{s(!0);try{const x=ct(De,"items");let b=Ft(x,mn("status","==","sold"),mn("saleType","==","online"),mn("fulfillmentMethod","==","shipping"));const v=await Dt(b),_=[];v.forEach(N=>{var A,w,S,T,P,O;const j=N.data();j.shippedAt||_.push({id:N.id,...j,createdAt:((A=j.createdAt)==null?void 0:A.toDate())||new Date,approvedAt:(w=j.approvedAt)==null?void 0:w.toDate(),liveAt:(S=j.liveAt)==null?void 0:S.toDate(),soldAt:((T=j.soldAt)==null?void 0:T.toDate())||new Date,shippedAt:(P=j.shippedAt)==null?void 0:P.toDate(),deliveredAt:(O=j.deliveredAt)==null?void 0:O.toDate()})}),_.sort((N,j)=>{const A=N.soldAt||N.createdAt;return(j.soldAt||j.createdAt).getTime()-A.getTime()}),c(_)}catch(x){console.error("Error fetching unshipped items:",x)}finally{s(!1)}},h=async x=>{if(x.id){d(!0);try{const b=`TRK${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,v=Wn(De,"items",x.id);await Nr(v,{shippedAt:new Date,trackingNumber:b,shippingLabelGenerated:!0}),await Tt(n,"item_shipped",`Item marked as shipped with tracking ${b}`,x.id,x.title),c(_=>_.filter(N=>N.id!==x.id))}catch(b){console.error("Error marking item as shipped:",b)}finally{d(!1)}}},p=x=>{i&&i(x)},y=x=>`$${x.toFixed(2)}`,g=x=>x.toLocaleDateString();return l.reduce((x,b)=>x+(b.soldPrice||b.price),0),l.reduce((x,b)=>{const v=b.soldPrice||b.price;return x+v*.25},0),l.reduce((x,b)=>{const v=b.soldPrice||b.price;return x+v*.75},0),t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Unshipped Items"}),o.jsx("p",{className:"text-gray-600",children:"Online orders awaiting shipment"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Items Awaiting Shipment (",l.length,")"]}),l.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No items awaiting shipment"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All online orders have been shipped or are store pickups"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buyer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Pending"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(x=>{const b=x.soldPrice||x.price,v=Math.floor((new Date().getTime()-(x.soldAt||new Date).getTime())/(1e3*60*60*24));return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[x.images&&x.images[0]&&o.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:x.images[0],alt:x.title}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:x.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),o.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Awaiting Shipment"})]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.buyerInfo?x.buyerInfo.name:"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:y(b)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(x.soldAt||new Date)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v>3?"bg-red-100 text-red-800":v>1?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[v," day",v!==1?"s":""]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>p(x),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"}),o.jsx("button",{onClick:()=>h(x),disabled:u,className:"text-orange-600 hover:text-orange-900 font-medium disabled:text-gray-400",children:u?"Shipping...":"Mark Shipped"})]})]},x.id)})})]})})]})})})]})}):null},Zke=({isOpen:t,onClose:e})=>{const[n,r]=C.useState([]),[i,a]=C.useState(!0),{throttledAction:s,isActionDisabled:l}=Am();C.useEffect(()=>{if(!t)return;const d=Ft(ct(De,"refunds"),od("refundedAt","desc")),f=Rw(d,h=>{const p=h.docs.map(y=>{var g;return{id:y.id,...y.data(),refundedAt:((g=y.data().refundedAt)==null?void 0:g.toDate())||new Date}});r(p),a(!1)},h=>{console.error("Error fetching refunds:",h),a(!1)});return()=>f()},[t]);const c=d=>d.toLocaleDateString()+" "+d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),u=n.reduce((d,f)=>d+f.refundAmount,0);return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Issued Refunds"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"All refund transactions and records"})]}),o.jsx("button",{onClick:()=>s("close_modal",()=>e()),disabled:l("close_modal"),className:"text-gray-400 hover:text-gray-600 focus:outline-none disabled:opacity-50",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-red-600",children:"Total Refunds"}),o.jsx("p",{className:"text-2xl font-bold text-red-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["$",u.toFixed(2)]})]})]})}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0v-1a4 4 0 114 0v1z"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Avg Refund"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",n.length>0?(u/n.length).toFixed(2):"0.00"]})]})]})})]}),i?o.jsxs("div",{className:"flex justify-center items-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-2 text-gray-600",children:"Loading refunds..."})]}):n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Refunds Issued"}),o.jsx("p",{className:"text-gray-500",children:"No refund transactions have been processed yet."})]}):o.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Details"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refund Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Refunded By"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(d=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.itemTitle}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Seller: ",d.sellerName,d.originalBuyerName&&o.jsxs("span",{className:"block",children:["Original Buyer: ",d.originalBuyerName]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm font-medium text-red-600",children:["$",d.refundAmount.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Original: $",d.originalPrice.toFixed(2)]})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",title:d.reason,children:d.reason})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:d.refundedByName})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c(d.refundedAt)})]},d.id))})]})})})]})]})}):null},Jke=({user:t,isAdmin:e})=>{const[n,r]=C.useState("dashboard"),[i,a]=C.useState(!0),[s,l]=C.useState(null),[c,u]=C.useState([]),[d,f]=C.useState([]),[h,p]=C.useState(null),[y,g]=C.useState(null),[x,b]=C.useState(!1),[v,_]=C.useState(!1),[N,j]=C.useState(!1),[A,w]=C.useState(!1),S=["#64748b","#94a3b8","#cbd5e1","#e2e8f0","#f1f5f9"];C.useEffect(()=>{n==="dashboard"?T():n==="users"&&e?P():n==="sold"?O():n==="shipped"&&e?_(!0):n==="unshipped"&&e?j(!0):n==="refunds"&&e&&w(!0)},[n,t,e]);const T=async()=>{a(!0);try{const D=ct(De,"items"),z=await Dt(D),V=[];z.forEach(te=>{var ue,oe,ge,G;const H=te.data();V.push({id:te.id,...H,createdAt:((ue=H.createdAt)==null?void 0:ue.toDate())||new Date,approvedAt:(oe=H.approvedAt)==null?void 0:oe.toDate(),liveAt:(ge=H.liveAt)==null?void 0:ge.toDate(),soldAt:(G=H.soldAt)==null?void 0:G.toDate()})});const X=ct(De,"users"),Y=await Dt(X),K=[];Y.forEach(te=>{K.push({id:te.id,...te.data()})});const F=R(V,K);l(F)}catch(D){console.error("Error fetching dashboard data:",D)}finally{a(!1)}},P=async()=>{a(!0);try{const D=[],z=new Map,V=ct(De,"items");(await Dt(V)).forEach(Y=>{var H,ue,oe,ge;const K={id:Y.id,...Y.data(),createdAt:((H=Y.data().createdAt)==null?void 0:H.toDate())||new Date,approvedAt:(ue=Y.data().approvedAt)==null?void 0:ue.toDate(),liveAt:(oe=Y.data().liveAt)==null?void 0:oe.toDate(),soldAt:(ge=Y.data().soldAt)==null?void 0:ge.toDate()},F=K.sellerId;if(!z.has(F)){const G={uid:F,email:K.sellerEmail,displayName:K.sellerName,photoURL:""};D.push(G),z.set(F,{userId:F,userName:K.sellerName,userEmail:K.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const te=z.get(F);switch(te.totalItemsListed++,K.status){case"pending":te.pendingItems.push(K);break;case"approved":te.approvedItems.push(K);break;case"live":te.activeItems.push(K);break;case"sold":te.soldItems.push(K),te.totalItemsSold++;const G=K.soldPrice||K.price,he=K.userEarnings||G*.75;te.totalEarnings+=he;break}}),z.forEach(Y=>{Y.outstandingBalance=Y.totalEarnings-Y.totalPaid}),u(Array.from(z.values()))}catch(D){console.error("Error fetching user analytics:",D)}finally{a(!1)}},O=async()=>{a(!0);try{const D=ct(De,"items"),z=Ft(D,mn("status","==","sold")),V=await Dt(z),X=[];V.forEach(Y=>{var F,te,H,ue,oe,ge;const K=Y.data();X.push({id:Y.id,...K,createdAt:((F=K.createdAt)==null?void 0:F.toDate())||new Date,approvedAt:(te=K.approvedAt)==null?void 0:te.toDate(),liveAt:(H=K.liveAt)==null?void 0:H.toDate(),soldAt:((ue=K.soldAt)==null?void 0:ue.toDate())||new Date,barcodeGeneratedAt:(oe=K.barcodeGeneratedAt)==null?void 0:oe.toDate(),printConfirmedAt:(ge=K.printConfirmedAt)==null?void 0:ge.toDate()})}),X.sort((Y,K)=>{const F=Y.soldAt||Y.createdAt;return(K.soldAt||K.createdAt).getTime()-F.getTime()}),f(X)}catch(D){console.error("Error fetching sold items:",D)}finally{a(!1)}},R=(D,z)=>{const V=new Date,X=D.filter(G=>G.status==="sold"),Y=X.reduce((G,he)=>G+(he.soldPrice||he.price),0),K=new Set(D.map(G=>G.sellerId)),F=X.length>0?Y/X.length:0,te=[];for(let G=11;G>=0;G--){const he=new Date(V.getFullYear(),V.getMonth()-G,1),ye=new Date(he.getFullYear(),he.getMonth(),1),ne=new Date(he.getFullYear(),he.getMonth()+1,0),Oe=X.filter(Ae=>Ae.soldAt&&Ae.soldAt>=ye&&Ae.soldAt<=ne),ve=Oe.reduce((Ae,le)=>Ae+(le.soldPrice||le.price),0);te.push({month:he.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),revenue:ve,items:Oe.length})}const H=new Map;D.forEach(G=>{const he=G.category||"Uncategorized";H.has(he)||H.set(he,{count:0,revenue:0});const ye=H.get(he);ye.count++,G.status==="sold"&&(ye.revenue+=G.soldPrice||G.price)});const ue=Array.from(H.entries()).map(([G,he])=>({category:G,count:he.count,revenue:he.revenue})).sort((G,he)=>he.count-G.count),oe=new Map;D.forEach(G=>{oe.set(G.status,(oe.get(G.status)||0)+1)});const ge=Array.from(oe.entries()).map(([G,he])=>({status:G.charAt(0).toUpperCase()+G.slice(1),count:he,value:he}));return{totalRevenue:Y,totalItems:D.length,activeUsers:K.size,avgItemPrice:F,monthlyRevenue:te,categoryBreakdown:ue,statusBreakdown:ge}},I=D=>{const z=new Date().toISOString().split("T")[0];if(D==="csv"){let V="";n==="dashboard"&&s?(V=`Month,Revenue,Items Sold
`,s.monthlyRevenue.forEach(F=>{V+=`${F.month},${F.revenue},${F.items}
`})):n==="sold"&&(V=`Title,Seller,Original Price,Sold Price,Date Sold
`,d.forEach(F=>{var te;V+=`"${F.title}","${F.sellerName}",${F.price},${F.soldPrice||F.price},"${(te=F.soldAt)==null?void 0:te.toLocaleDateString()}"
`}));const X=new Blob([V],{type:"text/csv"}),Y=window.URL.createObjectURL(X),K=document.createElement("a");K.href=Y,K.download=`analytics-${n}-${z}.csv`,K.click(),window.URL.revokeObjectURL(Y)}else{let V={};n==="dashboard"?V=s:n==="sold"?V={soldItems:d}:n==="users"&&(V={userAnalytics:c});const X=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),Y=window.URL.createObjectURL(X),K=document.createElement("a");K.href=Y,K.download=`analytics-${n}-${z}.json`,K.click(),window.URL.revokeObjectURL(Y)}},$=D=>`$${D.toFixed(2)}`,L=D=>{g(D),b(!0)},U=()=>{g(null),b(!1)};return o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive business insights and performance metrics"})]}),o.jsx("div",{className:"border-b border-gray-200 mb-8",children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>r("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="dashboard"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dashboard Overview"}),o.jsx("button",{onClick:()=>r("sold"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sold"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sold Items"}),e&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("unshipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="unshipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Unshipped Items"}),o.jsx("button",{onClick:()=>r("shipped"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="shipped"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Shipped Items"}),o.jsx("button",{onClick:()=>r("refunds"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="refunds"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Refunds"}),o.jsx("button",{onClick:()=>r("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="users"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Analytics"})]})]})}),o.jsxs("div",{className:"mb-6 flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>I("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export CSV"}),o.jsx("button",{onClick:()=>I("json"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export JSON"})]}),i?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-500"})}):o.jsxs(o.Fragment,{children:[n==="dashboard"&&s&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold",children:$(s.totalRevenue)})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Items"}),o.jsx("p",{className:"text-3xl font-bold",children:s.totalItems})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Sellers"}),o.jsx("p",{className:"text-3xl font-bold",children:s.activeUsers})]}),o.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg Item Price"}),o.jsx("p",{className:"text-3xl font-bold",children:$(s.avgItemPrice)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),o.jsx(Tc,{width:"100%",height:300,children:o.jsxs(Xke,{data:s.monthlyRevenue,children:[o.jsx(g0,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(mo,{dataKey:"month",stroke:"#64748b"}),o.jsx(po,{stroke:"#64748b"}),o.jsx(fr,{formatter:D=>[$(D),"Revenue"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),o.jsx(Co,{type:"monotone",dataKey:"revenue",stroke:"#64748b",fill:"#94a3b8",fillOpacity:.3})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items Sold by Month"}),o.jsx(Tc,{width:"100%",height:300,children:o.jsxs(Kke,{data:s.monthlyRevenue,children:[o.jsx(g0,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(mo,{dataKey:"month",stroke:"#64748b"}),o.jsx(po,{stroke:"#64748b"}),o.jsx(fr,{formatter:D=>[D,"Items Sold"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),o.jsx(Xl,{dataKey:"items",fill:"#64748b"})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),o.jsx(Tc,{width:"100%",height:300,children:o.jsxs(y2,{children:[o.jsx(Fi,{data:s.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({category:D,count:z})=>`${D}: ${z}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:s.categoryBreakdown.map((D,z)=>o.jsx(Su,{fill:S[z%S.length]},`cell-${z}`))}),o.jsx(fr,{formatter:D=>[D,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Status Distribution"}),o.jsx(Tc,{width:"100%",height:300,children:o.jsxs(y2,{children:[o.jsx(Fi,{data:s.statusBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({status:D,count:z})=>`${D}: ${z}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.statusBreakdown.map((D,z)=>o.jsx(Su,{fill:S[z%S.length]},`cell-${z}`))}),o.jsx(fr,{formatter:D=>[D,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]})]})]}),n==="sold"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),o.jsx("p",{className:"text-3xl font-bold",children:$(d.reduce((D,z)=>D+(z.soldPrice||z.price),0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Earnings (25%)"}),o.jsx("p",{className:"text-3xl font-bold",children:$(d.reduce((D,z)=>{const V=z.soldPrice||z.price;return D+(z.adminEarnings||V*.25)},0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Earnings (75%)"}),o.jsx("p",{className:"text-3xl font-bold",children:$(d.reduce((D,z)=>{const V=z.soldPrice||z.price;return D+(z.userEarnings||V*.75)},0))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Items Sold"}),o.jsx("p",{className:"text-3xl font-bold",children:d.length})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Sale Types"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{children:["In-Store: ",d.filter(D=>D.saleType==="in-store").length]}),o.jsxs("div",{children:["Online: ",d.filter(D=>D.saleType==="online").length]})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["All Sold Items (",d.length,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barcode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(D=>{const z=D.soldPrice||D.price;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[D.images&&D.images[0]&&o.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:D.images[0],alt:D.title}),o.jsx("div",{children:o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:D.title})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$(D.price)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:$(z)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.saleType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:D.saleType==="online"?"🌐 Online":"🏪 In-Store"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.barcodeData?o.jsx("span",{className:"text-green-600",children:"✓ Generated"}):o.jsx("span",{className:"text-gray-400",children:"No barcode"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(D.soldAt||new Date).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("button",{onClick:()=>L(D),className:"text-slate-600 hover:text-slate-900",children:"View Details"})})]},D.id)})})]})})]})]}),n==="users"&&e&&o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["User Performance (",c.length," users)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Listed"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Sold"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Earnings"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding Balance"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(D=>{const z=D.totalItemsListed>0?D.totalItemsSold/D.totalItemsListed*100:0;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:D.userEmail})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.totalItemsListed}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.totalItemsSold}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:$(D.totalEarnings)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-600",children:$(D.outstandingBalance)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[z.toFixed(1),"%"]})]},D.userId)})})]})})]})})]}),o.jsx(dA,{isOpen:x,onClose:U,item:y,onItemUpdated:()=>{T(),O()}}),o.jsx(Yke,{isOpen:v,onClose:()=>{_(!1),r("dashboard")},onItemClick:L}),o.jsx(Qke,{isOpen:N,onClose:()=>{j(!1),r("dashboard")},user:t,onItemClick:L}),o.jsx(Zke,{isOpen:A,onClose:()=>{w(!1),r("dashboard")}})]})})},eIe=({user:t})=>{const[e,n]=C.useState("overview"),[r,i]=C.useState(!0),[a,s]=C.useState(null),[l,c]=C.useState([]),[u,d]=C.useState([]),[f,h]=C.useState(null),[p,y]=C.useState(!1),[g,x]=C.useState([]),[b,v]=C.useState(!1),[_,N]=C.useState(null),[j,A]=C.useState(!1),[w,S]=C.useState(null),T=C.useRef(0),P=C.useRef(!0),O=C.useCallback(()=>{if(!t)return[];try{const H=localStorage.getItem(`purchase_history_${t.uid}`);if(H)return JSON.parse(H).map(oe=>({...oe,purchaseDate:new Date(oe.purchaseDate),orderNumber:oe.orderNumber||`ORD-${oe.id.slice(-6)}`,customerInfo:oe.customerInfo||{name:"N/A",email:"N/A",phone:"N/A",address:"N/A",city:"N/A",zipCode:"N/A"},paymentInfo:oe.paymentInfo||{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${oe.id.slice(-8)}`},orderStatus:oe.orderStatus||"delivered",estimatedDelivery:oe.estimatedDelivery||new Date(oe.purchaseDate).toISOString(),trackingNumber:oe.trackingNumber||`TRK${oe.id.slice(-8)}`,items:oe.items.map(ge=>({...ge,category:ge.category||"N/A",brand:ge.brand||"N/A",size:ge.size||"N/A",images:ge.images||[]}))}))}catch(H){console.error("Error loading purchase history:",H)}return[]},[t]),R=C.useCallback(()=>{if(!t)return;const H=Date.now();if(H-T.current<5e3)return;T.current=H;const ue=O();x(ue);const oe=ue.reduce((ge,G)=>ge+G.total,0);s(ge=>ge?{...ge,totalPurchases:ue.length,totalSpent:oe}:null)},[t,O]),I=C.useCallback(async()=>{if(t)try{const H=ct(De,"items");let ue,oe=[];try{ue=Ft(H,mn("sellerId","==",t.uid),od("createdAt","desc")),(await Dt(ue)).forEach(le=>{var Ne,et,Ye,Be;const fe=le.data();oe.push({id:le.id,...fe,createdAt:((Ne=fe.createdAt)==null?void 0:Ne.toDate())||new Date,approvedAt:(et=fe.approvedAt)==null?void 0:et.toDate(),liveAt:(Ye=fe.liveAt)==null?void 0:Ye.toDate(),soldAt:(Be=fe.soldAt)==null?void 0:Be.toDate()})})}catch(Ae){console.warn("Index not ready, using fallback query:",Ae.message),ue=Ft(H,mn("sellerId","==",t.uid)),(await Dt(ue)).forEach(fe=>{var et,Ye,Be,Bt;const Ne=fe.data();oe.push({id:fe.id,...Ne,createdAt:((et=Ne.createdAt)==null?void 0:et.toDate())||new Date,approvedAt:(Ye=Ne.approvedAt)==null?void 0:Ye.toDate(),liveAt:(Be=Ne.liveAt)==null?void 0:Be.toDate(),soldAt:(Bt=Ne.soldAt)==null?void 0:Bt.toDate()})}),oe.sort((fe,Ne)=>{const et=fe.createdAt||new Date(0);return(Ne.createdAt||new Date(0)).getTime()-et.getTime()})}c(oe);const ge=oe.filter(Ae=>Ae.status==="sold"),G=oe.filter(Ae=>Ae.status==="live"),he=oe.filter(Ae=>Ae.status==="pending"),ye=ge.reduce((Ae,le)=>{const fe=le.soldPrice||le.price;return Ae+fe*.75},0),ne=O();x(ne);const Oe=ne.reduce((Ae,le)=>Ae+le.total,0),ve=Math.max(0,ye-Oe*.1);s({totalItemsListed:oe.length,totalItemsSold:ge.length,totalEarnings:ye,storeCredit:ve,activeListings:G.length,pendingListings:he.length,totalPurchases:ne.length,totalSpent:Oe}),d(ge)}catch(H){console.error("Error fetching my listings:",H),c([]),d([]),s({totalItemsListed:0,totalItemsSold:0,totalEarnings:0,storeCredit:0,activeListings:0,pendingListings:0,totalPurchases:0,totalSpent:0})}},[t,O]),$=C.useCallback(async()=>{if(t){i(!0);try{await I()}catch(H){console.error("Error fetching user data:",H)}finally{i(!1)}}},[t,I]);C.useEffect(()=>{t&&P.current&&(P.current=!1,$())},[t,$]),C.useEffect(()=>{let H;const ue=()=>{t&&!P.current&&(clearTimeout(H),H=setTimeout(()=>{R()},1e3))};return window.addEventListener("focus",ue),()=>{window.removeEventListener("focus",ue),clearTimeout(H)}},[t,R]),C.useEffect(()=>{let H;const ue=oe=>{oe.key===`purchase_history_${t==null?void 0:t.uid}`&&t&&!P.current&&(clearTimeout(H),H=setTimeout(()=>{R()},500))};return window.addEventListener("storage",ue),()=>{window.removeEventListener("storage",ue),clearTimeout(H)}},[t,R]);const L=H=>{h(H),y(!0)},U=()=>{h(null),y(!1)},D=H=>{switch(H){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},z=H=>{switch(H){case"pending":return"Under Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return H}},V=a?[{name:"Sold",value:a.totalItemsSold,color:"#10b981"},{name:"Active",value:a.activeListings,color:"#3b82f6"},{name:"Pending",value:a.pendingListings,color:"#f59e0b"}]:[],X=u.map((H,ue)=>{var oe;return{name:`Sale ${ue+1}`,earnings:(H.soldPrice||H.price)*.75,date:((oe=H.soldAt)==null?void 0:oe.toLocaleDateString())||"N/A"}}),Y=(H,ue,oe)=>{N({trackingNumber:H,orderNumber:ue,estimatedDelivery:oe}),v(!0)},K=H=>{S(H),A(!0)},F=()=>{A(!1),S(null)},te=({isOpen:H,onClose:ue,item:oe})=>{var le;const[ge,G]=C.useState("shipping"),[he,ye]=C.useState(!1),[ne,Oe]=C.useState(!1),ve=async()=>{Oe(!0),await new Promise(Ne=>setTimeout(Ne,2e3));const fe={trackingNumber:`TRK${Date.now().toString().slice(-8)}`,estimatedDelivery:new Date(Date.now()+5*24*60*60*1e3).toISOString(),cost:(Math.random()*10+5).toFixed(2)};ye(!0),Oe(!1),alert(`Shipping label generated!
Tracking: ${fe.trackingNumber}
Estimated delivery: ${new Date(fe.estimatedDelivery).toLocaleDateString()}`)},Ae=()=>{var Ye,Be,Bt,Yn,On;const fe=window.open("","_blank");if(!fe||!oe)return;const Ne=`TRK${Date.now().toString().slice(-8)}`,et=`
        <html>
          <head>
            <title>Shipping Label - ${oe.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .label-container { border: 2px solid #000; padding: 20px; width: 600px; margin: 0 auto; }
              .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
              .section { margin: 15px 0; }
              .tracking { font-size: 24px; font-weight: bold; text-align: center; margin: 20px 0; padding: 10px; border: 1px solid #000; }
              .barcode { text-align: center; font-family: 'Courier New', monospace; font-size: 12px; margin: 10px 0; }
            </style>
          </head>
          <body>
            <div class="label-container">
              <div class="header">
                <h2>Summit Gear Exchange</h2>
                <p>Shipping Label</p>
              </div>
              <div class="section">
                <strong>FROM:</strong><br>
                Summit Gear Exchange<br>
                123 Mountain View Drive<br>
                Denver, CO 80202<br>
                (555) 123-4567
              </div>
              <div class="section">
                <strong>TO:</strong><br>
                ${((Ye=oe.buyerInfo)==null?void 0:Ye.name)||"Customer"}<br>
                ${((Be=oe.buyerInfo)==null?void 0:Be.address)||"Address"}<br>
                ${((Bt=oe.buyerInfo)==null?void 0:Bt.city)||"City"}, ${((Yn=oe.buyerInfo)==null?void 0:Yn.zipCode)||"ZIP"}<br>
                ${((On=oe.buyerInfo)==null?void 0:On.phone)||"Phone"}
              </div>
              <div class="tracking">TRACKING: ${Ne}</div>
              <div class="barcode">||||| |||| | |||| ||||| | |||| |||||<br>${Ne}</div>
              <div class="section">
                <strong>Item:</strong> ${oe.title}<br>
                <strong>Service:</strong> FedEx Ground<br>
                <strong>Date:</strong> ${new Date().toLocaleDateString()}
              </div>
            </div>
          </body>
        </html>
      `;fe.document.write(et),fe.document.close(),fe.focus(),fe.print()};return!H||!oe?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sold Item Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage fulfillment for your sold item"})]}),o.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:oe.title}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Sale Price:"})," $",oe.soldPrice||oe.price]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Your Earnings:"})," $",((oe.soldPrice||oe.price)*.75).toFixed(2)]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Sold Date:"})," ",((le=oe.soldAt)==null?void 0:le.toLocaleDateString())||"N/A"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",oe.saleTransactionId||"N/A"]})]})]}),oe.buyerInfo&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Buyer Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",oe.buyerInfo.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",oe.buyerInfo.email]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Phone:"})," ",oe.buyerInfo.phone]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("span",{className:"font-medium",children:"Address:"})," ",oe.buyerInfo.address,", ",oe.buyerInfo.city,", ",oe.buyerInfo.zipCode]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fulfillment Method"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"fulfillment",value:"shipping",checked:ge==="shipping",onChange:fe=>G(fe.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Ship to Customer"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Generate shipping label and send directly to buyer"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"fulfillment",value:"pickup",checked:ge==="pickup",onChange:fe=>G(fe.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"In-Store Pickup"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Customer will pick up item at store location"})]})]})]})]}),ge==="shipping"&&o.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Shipping Actions"}),he?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-green-600 mb-3",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsx("span",{className:"font-medium",children:"Shipping label generated!"})]}),o.jsxs("button",{onClick:Ae,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Shipping Label"]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Generate a shipping label to send this item to the customer."}),o.jsx("button",{onClick:ve,disabled:ne,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ne?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Label..."]}):o.jsx(o.Fragment,{children:"Generate Shipping Label"})})]})]}),ge==="pickup"&&o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"In-Store Pickup"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("p",{className:"text-gray-700",children:[o.jsx("strong",{children:"Customer Instructions:"})," Please bring a valid ID and your order confirmation to pick up your item."]}),o.jsxs("div",{className:"bg-white rounded p-3 border",children:[o.jsx("p",{children:o.jsx("strong",{children:"Store Location:"})}),o.jsx("p",{children:"Summit Gear Exchange"}),o.jsx("p",{children:"123 Mountain View Drive"}),o.jsx("p",{children:"Denver, CO 80202"}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hours:"})," Mon-Sat 9AM-7PM, Sun 10AM-6PM"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]}),o.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Mark as Ready for Pickup"})]})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsx("button",{onClick:ue,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};return r?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My User History"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Track your listings, sales, purchases, and store credit"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>{$(),R()},className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",title:"Refresh data",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Available Credit"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-4 md:space-x-8 px-4 md:px-6 overflow-x-auto scrollbar-hide",children:[{key:"overview",label:"Overview",icon:"📈"},{key:"listings",label:"My Listings",icon:"📋"},{key:"sales",label:"Sales History",icon:"💵"},{key:"purchases",label:"Purchases",icon:"🛍️"},{key:"orders",label:"My Orders",icon:"📦"},{key:"credit",label:"Store Credit",icon:"💰"}].map(H=>o.jsxs("button",{onClick:()=>n(H.key),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap flex-shrink-0 ${e===H.key?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx("span",{className:"mr-2",children:H.icon}),o.jsx("span",{className:"hidden sm:inline",children:H.label}),o.jsx("span",{className:"sm:hidden",children:H.label.split(" ")[0]})]},H.key))})}),o.jsxs("div",{className:"p-6",children:[e==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"📦"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.totalItemsListed)||0}),o.jsx("div",{className:"text-sm text-blue-600",children:"Items Listed"})]})]})}),o.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"✅"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.totalItemsSold)||0}),o.jsx("div",{className:"text-sm text-green-600",children:"Items Sold"})]})]})}),o.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"💰"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-purple-600",children:"Total Earnings"})]})]})}),o.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"🛒"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:(a==null?void 0:a.totalPurchases)||0}),o.jsx("div",{className:"text-sm text-indigo-600",children:"Purchases"})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:"💳"})})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("div",{className:"text-sm text-orange-600",children:"Store Credit"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Listings Status"}),o.jsx("div",{className:"h-64",children:o.jsx(Tc,{width:"100%",height:"100%",children:o.jsxs(y2,{children:[o.jsx(Fi,{data:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:V.map((H,ue)=>o.jsx(Su,{fill:H.color},`cell-${ue}`))}),o.jsx(fr,{})]})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings from Sales"}),o.jsx("div",{className:"h-64",children:X.length>0?o.jsx(Tc,{width:"100%",height:"100%",children:o.jsxs(Wke,{data:X,children:[o.jsx(g0,{strokeDasharray:"3 3"}),o.jsx(mo,{dataKey:"name"}),o.jsx(po,{}),o.jsx(fr,{}),o.jsx(Bm,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:2})]})}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:"📈"}),o.jsx("p",{children:"No sales data yet"}),o.jsx("p",{className:"text-sm",children:"Start listing items to see your earnings here"})]})})})]})]})]}),e==="listings"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Listings (",l.length,")"]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("span",{className:"text-sm text-gray-500",children:["Active: ",(a==null?void 0:a.activeListings)||0," | Pending: ",(a==null?void 0:a.pendingListings)||0," | Sold: ",(a==null?void 0:a.totalItemsSold)||0]})})]}),l.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📦"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings yet"}),o.jsx("p",{className:"text-gray-500",children:"Start by listing your first item for consignment"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(H=>o.jsxs("div",{onClick:()=>L(H),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-900 truncate",children:H.title}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(H.status)}`,children:z(H.status)})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:H.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",H.price]}),o.jsx("span",{className:"text-xs text-gray-500",children:H.createdAt.toLocaleDateString()})]}),H.status==="sold"&&o.jsxs("div",{className:"mt-2 text-xs text-green-600",children:["Earned: $",((H.soldPrice||H.price)*.75).toFixed(2)]})]},H.id))})]}),e==="sales"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sales History (",u.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Earned: $",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),u.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"💰"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),o.jsx("p",{className:"text-gray-500",children:"Your earnings will appear here when items sell"})]}):o.jsx("div",{className:"space-y-3",children:u.map(H=>{var ue;return o.jsx("div",{onClick:()=>K(H),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:H.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Sold on ",(ue=H.soldAt)==null?void 0:ue.toLocaleDateString()]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Sale price: $",(H.soldPrice||H.price).toFixed(2)]}),H.buyerInfo&&o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Buyer: ",H.buyerInfo.name," • ",H.buyerInfo.city,", ",H.buyerInfo.zipCode]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+$",((H.soldPrice||H.price)*.75).toFixed(2)]}),o.jsx("div",{className:"text-xs text-gray-500",children:"your earnings"}),o.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"📦 Click to manage fulfillment"})]})]})},H.id)})})]}),e==="purchases"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Purchase History (",g.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),g.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🛒"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No purchases yet"}),o.jsx("p",{className:"text-gray-500",children:"Your purchase history will appear here after you make your first purchase"}),o.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-3",children:g.map(H=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:["Order #",H.id.slice(-8)]}),o.jsx("p",{className:"text-sm text-gray-600",children:H.purchaseDate.toLocaleDateString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",H.total.toFixed(2)]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.status})]})]}),o.jsxs("div",{className:"border-t pt-3",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Items purchased:"}),o.jsx("div",{className:"space-y-1",children:H.items.map((ue,oe)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-gray-900",children:ue.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-gray-500",children:["Qty: ",ue.quantity]}),o.jsxs("span",{className:"font-medium",children:["$",(ue.price*ue.quantity).toFixed(2)]})]})]},oe))})]})]},H.id))})]}),e==="orders"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Orders (",g.length,")"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),g.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📋"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),o.jsx("p",{className:"text-gray-500",children:"Your order history will appear here after you make your first purchase"}),o.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):o.jsx("div",{className:"space-y-4",children:g.map(H=>{var ue,oe;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order ",H.orderNumber||`#${H.id.slice(-8)}`]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",H.purchaseDate.toLocaleDateString()," at ",H.purchaseDate.toLocaleTimeString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",H.total.toFixed(2)]}),o.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${H.orderStatus==="delivered"?"bg-green-100 text-green-800":H.orderStatus==="shipped"?"bg-blue-100 text-blue-800":H.orderStatus==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((ue=H.orderStatus)==null?void 0:ue.charAt(0).toUpperCase())+((oe=H.orderStatus)==null?void 0:oe.slice(1))||"Completed"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Items Ordered"}),o.jsx("div",{className:"space-y-3",children:H.items.map((ge,G)=>o.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:ge.images&&ge.images.length>0?o.jsx("img",{src:ge.images[0],alt:ge.title,className:"w-full h-full object-cover rounded-lg"}):o.jsx("span",{className:"text-gray-400 text-2xl",children:"📦"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h6",{className:"font-medium text-gray-900",children:ge.title}),o.jsxs("p",{className:"text-sm text-gray-600",children:[ge.brand," • ",ge.category," • Size: ",ge.size]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",ge.quantity]}),o.jsxs("span",{className:"font-medium",children:["$",(ge.price*ge.quantity).toFixed(2)]})]})]})]},G))})]}),o.jsxs("div",{className:"space-y-4",children:[H.customerInfo&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsx("p",{className:"font-medium",children:H.customerInfo.name}),o.jsx("p",{children:H.customerInfo.address}),o.jsxs("p",{children:[H.customerInfo.city,", ",H.customerInfo.zipCode]}),o.jsx("p",{children:H.customerInfo.phone}),o.jsx("p",{children:H.customerInfo.email})]})]}),H.paymentInfo&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:[H.paymentInfo.method," ending in ",H.paymentInfo.last4]}),o.jsxs("p",{className:"text-xs",children:["Transaction ID: ",H.paymentInfo.transactionId]}),o.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${H.paymentInfo.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.paymentInfo.status})]})]}),H.trackingNumber&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Delivery"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Tracking: ",H.trackingNumber]}),H.estimatedDelivery&&o.jsxs("p",{children:["Estimated: ",new Date(H.estimatedDelivery).toLocaleDateString()]})]}),o.jsx("button",{onClick:()=>Y(H.trackingNumber,H.orderNumber||`#${H.id.slice(-8)}`,H.estimatedDelivery),className:"mt-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Track Package"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx("button",{className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Invoice"})})]})]})})]},H.id)})})]}),e==="credit"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Store Credit Balance"}),o.jsxs("div",{className:"text-3xl font-bold mt-1",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),o.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Available for purchases"})]}),o.jsx("div",{className:"text-6xl opacity-20",children:"💳"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"How Store Credit Works"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Earn 75% of your item's final sale price"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Credit is added automatically when items sell"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Use credit for purchases in our store"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Credit never expires"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-500 mr-2",children:"•"}),o.jsx("span",{children:"Redeem credit during checkout"})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Credit Summary"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Total Earned:"}),o.jsxs("span",{className:"font-medium text-green-600",children:["+$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Total Used:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["-$",(((a==null?void 0:a.totalEarnings)||0)-((a==null?void 0:a.storeCredit)||0)).toFixed(2)]})]}),o.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-900 font-semibold",children:"Current Balance:"}),o.jsxs("span",{className:"font-bold text-orange-600 text-lg",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Start Shopping"})})]})]}),u.length>0&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Credit Activity"}),o.jsx("div",{className:"space-y-2",children:u.slice(0,5).map(H=>{var ue;return o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-900",children:H.title}),o.jsxs("span",{className:"text-gray-500 ml-2",children:["sold ",(ue=H.soldAt)==null?void 0:ue.toLocaleDateString()]})]}),o.jsxs("span",{className:"text-green-600 font-medium",children:["+$",((H.soldPrice||H.price)*.75).toFixed(2)]})]},H.id)})})]})]})]})]}),o.jsx(dA,{isOpen:p,onClose:U,item:f,onItemUpdated:()=>{$(),I()}}),b&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Tracking"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.orderNumber})]}),o.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Package In Transit"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Your order is on its way!"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),o.jsx("span",{className:"text-sm text-gray-900 font-mono",children:_.trackingNumber})]})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),o.jsx("span",{className:"text-sm text-gray-900",children:new Date(_.estimatedDelivery).toLocaleDateString()})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:"Tracking History"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Package shipped"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Denver, CO - 2 days ago"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"In transit"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Salt Lake City, UT - 1 day ago"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Out for delivery"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Your city - Today"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Delivered"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Expected by end of day"})]})]})]})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t",children:o.jsx("button",{onClick:()=>v(!1),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Close"})})]})]})}),o.jsx(te,{isOpen:j,onClose:F,item:w})]})},tIe=()=>{const[t,e]=C.useState([]),[n,r]=C.useState([]),[i,a]=C.useState([]),[s,l]=C.useState(!0),[c,u]=C.useState(""),[d,f]=C.useState("all"),[h,p]=C.useState("all"),[y,g]=C.useState("all"),[x,b]=C.useState("all"),[v,_]=C.useState("all"),[N,j]=C.useState([]),[A,w]=C.useState("newest"),[S,T]=C.useState(!1),[P,O]=C.useState("individual"),[R,I]=C.useState(!1),[$,L]=C.useState(null),[U,D]=C.useState(!1),[z,V]=C.useState(!1),[X,Y]=C.useState(!1),{user:K}=jo(),[F,te]=C.useState([]),[H,ue]=C.useState([]),[oe,ge]=C.useState([]),[G,he]=C.useState([]);C.useEffect(()=>{ye()},[]),C.useEffect(()=>{Oe(),ne()},[t,c,d,h,y,x,v,A]),C.useEffect(()=>{P==="grouped"&&ve()},[n,P]);const ye=async()=>{try{const q=ct(De,"items"),ae=Ft(q,od("createdAt","desc")),ee=await Dt(ae),ke=[];ee.forEach(_e=>{var je,Ge,_t,ze;const de=_e.data();ke.push({id:_e.id,...de,createdAt:((je=de.createdAt)==null?void 0:je.toDate())||new Date,approvedAt:(Ge=de.approvedAt)==null?void 0:Ge.toDate(),liveAt:(_t=de.liveAt)==null?void 0:_t.toDate(),soldAt:(ze=de.soldAt)==null?void 0:ze.toDate()})}),e(ke)}catch(q){console.error("Error fetching items:",q)}finally{l(!1)}},ne=()=>{const q=[...new Set(t.map(_e=>_e.category).filter(_e=>!!_e&&_e!==""))].sort(),ae=[...new Set(t.map(_e=>_e.brand).filter(_e=>!!_e&&_e!==""))].sort(),ee=[...new Set(t.map(_e=>_e.condition).filter(Boolean).filter(_e=>_e!==""))].sort(),ke=[...new Set(t.map(_e=>_e.gender).filter(Boolean).filter(_e=>_e!==""))].sort();te(q),ue(ae),ge(ee),he(ke)},Oe=()=>{let q=[...t];if(d!=="all"&&(q=q.filter(ae=>ae.status===d)),h!=="all"&&(q=q.filter(ae=>ae.category===h)),y!=="all"&&(q=q.filter(ae=>ae.brand===y)),x!=="all"&&(q=q.filter(ae=>ae.condition===x)),v!=="all"&&(q=q.filter(ae=>ae.gender===v)),c){const ae=c.toLowerCase();q=q.filter(ee=>{var ke,_e,de,je,Ge,_t,ze;return((ke=ee.title)==null?void 0:ke.toLowerCase().includes(ae))||((_e=ee.description)==null?void 0:_e.toLowerCase().includes(ae))||((de=ee.brand)==null?void 0:de.toLowerCase().includes(ae))||((je=ee.category)==null?void 0:je.toLowerCase().includes(ae))||((Ge=ee.sellerName)==null?void 0:Ge.toLowerCase().includes(ae))||((_t=ee.material)==null?void 0:_t.toLowerCase().includes(ae))||((ze=ee.color)==null?void 0:ze.toLowerCase().includes(ae))||ee.id.toLowerCase().includes(ae)})}switch(A){case"oldest":q.sort((ae,ee)=>ae.createdAt.getTime()-ee.createdAt.getTime());break;case"price-high":q.sort((ae,ee)=>ee.price-ae.price);break;case"price-low":q.sort((ae,ee)=>ae.price-ee.price);break;case"shelf-time":q.sort((ae,ee)=>{const ke=ae.liveAt||ae.createdAt,_e=ee.liveAt||ee.createdAt;return ke.getTime()-_e.getTime()});break;case"shelf-time-newest":q.sort((ae,ee)=>{const ke=ae.liveAt||ae.createdAt;return(ee.liveAt||ee.createdAt).getTime()-ke.getTime()});break;case"newest":default:q.sort((ae,ee)=>ee.createdAt.getTime()-ae.createdAt.getTime());break}r(q)},ve=()=>{const q={};n.forEach(ee=>{var _e,de,je,Ge;const ke=`${(_e=ee.title)==null?void 0:_e.toLowerCase()}-${(de=ee.category)==null?void 0:de.toLowerCase()}-${(je=ee.brand)==null?void 0:je.toLowerCase()}-${(Ge=ee.condition)==null?void 0:Ge.toLowerCase()}`;q[ke]||(q[ke]=[]),q[ke].push(ee)});const ae=Object.values(q).map(ee=>{const ke=ee[0];return{id:`group-${ke.id}`,title:ke.title,category:ke.category||"",brand:ke.brand||"",condition:ke.condition||"",price:ke.price,quantity:ee.length,items:ee,representativeItem:ke}});a(ae)},Ae=q=>{j(ae=>ae.includes(q)?ae.filter(ee=>ee!==q):[...ae,q])},le=()=>{N.length===n.length?j([]):j(n.map(q=>q.id))},fe=async q=>{try{const ae=N.map(async ee=>{const ke=Wn(De,"items",ee),_e={status:q};return q==="live"?_e.liveAt=new Date:q==="approved"&&(_e.approvedAt=new Date),Nr(ke,_e)});await Promise.all(ae),await Tt(K,"bulk_action",`Bulk updated ${N.length} items to ${q}`),await ye(),j([]),T(!1)}catch(ae){console.error("Error updating items:",ae)}},Ne=async(q,ae)=>{try{const ee=Wn(De,"items",q),ke={status:ae};ae==="live"||ae==="approved"||ae==="archived"&&(ke.archivedAt=new Date),await Nr(ee,ke);const _e=t.find(de=>de.id===q);_e&&await Tt(K,`item_${ae}`,`Updated item status to ${ae}`,q,_e.title),await ye()}catch(ee){console.error("Error updating item:",ee)}},et=q=>{switch(q){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-purple-100 text-purple-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Ye=q=>{const ae=q.liveAt||q.createdAt,ke=new Date().getTime()-ae.getTime(),_e=Math.floor(ke/(1e3*60*60*24));return _e===0?"Today":_e===1?"1 day":`${_e} days`},Be=q=>{const ae=q.liveAt||q.createdAt,ke=new Date().getTime()-ae.getTime();return Math.floor(ke/(1e3*60*60*24))},Bt=q=>{L(q),I(!0)},Yn=async(q,ae)=>{if($)try{const ee=Wn(De,"items",$.id),ke=$.originalPrice||$.price,_e=ke*(1-q/100);await Nr(ee,{originalPrice:ke,price:Math.round(_e*100)/100,discountPercentage:q,discountAppliedAt:new Date,discountReason:ae}),await Tt(K,"item_discounted",`Applied ${q}% discount: ${ae}`,$.id,$.title),await ye(),I(!1),L(null)}catch(ee){console.error("Error applying discount:",ee)}},On=async(q,ae)=>{try{const ee=n.filter(_e=>_e.status!=="live"?!1:Be(_e)>=q),ke=ee.map(async _e=>{const de=Wn(De,"items",_e.id),je=_e.originalPrice||_e.price,Ge=je*(1-ae/100);return Nr(de,{originalPrice:je,price:Math.round(Ge*100)/100,discountPercentage:ae,discountAppliedAt:new Date,discountReason:`Auto-discount: ${q}+ days on shelf`})});await Promise.all(ke),await Tt(K,"bulk_discount",`Applied ${ae}% discount to ${ee.length} items with ${q}+ days on shelf`),await ye(),D(!1)}catch(ee){console.error("Error applying bulk discount:",ee)}};return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage all items across all statuses"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>V(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Data"]}),o.jsxs("button",{onClick:()=>Y(!0),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l3-3m0 0l-3-3m3 3H9"})}),"Export Data"]}),o.jsxs("button",{onClick:()=>D(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Auto-Discount"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," items | Filtered: ",n.length," items"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg border p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View Mode:"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{onClick:()=>O("individual"),className:`px-4 py-2 text-sm font-medium ${P==="individual"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Individual Items"}),o.jsx("button",{onClick:()=>O("grouped"),className:`px-4 py-2 text-sm font-medium ${P==="grouped"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Grouped by Similarity"})]})]}),o.jsx("div",{className:"text-sm text-gray-500",children:P==="individual"?`Showing ${n.length} individual items`:`Showing ${i.length} item groups`})]})}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsx("input",{type:"text",value:c,onChange:q=>u(q.target.value),placeholder:"Search items, brands, sellers...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("select",{value:d,onChange:q=>f(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Statuses"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"approved",children:"Approved"}),o.jsx("option",{value:"live",children:"Live"}),o.jsx("option",{value:"sold",children:"Sold"}),o.jsx("option",{value:"archived",children:"Archived"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:h,onChange:q=>p(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Categories"}),F.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsxs("select",{value:y,onChange:q=>g(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Brands"}),H.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),o.jsxs("select",{value:x,onChange:q=>b(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Conditions"}),oe.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{value:v,onChange:q=>_(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Genders"}),G.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),o.jsxs("select",{value:A,onChange:q=>w(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"shelf-time",children:"Longest on Shelf"}),o.jsx("option",{value:"shelf-time-newest",children:"Shortest on Shelf"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Actions"}),o.jsxs("button",{onClick:()=>T(!S),disabled:N.length===0,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed text-sm",children:["Actions (",N.length,")"]})]})]}),S&&N.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>fe("approved"),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",children:"Move to Approved"}),o.jsx("button",{onClick:()=>fe("live"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600",children:"Make Live"}),o.jsx("button",{onClick:()=>fe("archived"),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Archive Items"}),o.jsx("button",{onClick:()=>T(!1),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Cancel"})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left",children:o.jsx("input",{type:"checkbox",checked:N.length===n.length&&n.length>0,onChange:le,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shelf Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P==="individual"?n.map(q=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:N.includes(q.id),onChange:()=>Ae(q.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[q.images&&q.images.length>0&&o.jsx("img",{src:q.images[0],alt:q.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.title}),o.jsxs("div",{className:"text-sm text-gray-500",children:[q.category&&`${q.category} • `,q.brand&&`${q.brand} • `,q.condition&&`${q.condition}`,q.gender&&` • ${q.gender}`,q.size&&` • Size ${q.size}`]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${et(q.status)}`,children:q.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:q.discountPercentage?"text-red-600 font-medium":"",children:["$",q.price]}),q.discountPercentage&&o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsxs("span",{className:"line-through",children:["$",q.originalPrice]}),o.jsxs("span",{className:"ml-1 text-red-600",children:["-",q.discountPercentage,"%"]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:q.status==="live"?o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:`${Be(q)>=30?"text-red-600 font-medium":Be(q)>=14?"text-orange-600 font-medium":Be(q)>=7?"text-yellow-600 font-medium":"text-gray-500"}`,children:Ye(q)}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",Be(q)," days)"]})]}):o.jsx("span",{className:"text-gray-500",children:"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.sellerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[q.status==="live"&&o.jsx("button",{onClick:()=>Bt(q),className:"text-orange-600 hover:text-orange-900",children:"Discount"}),q.status!=="archived"&&o.jsx("button",{onClick:()=>Ne(q.id,"archived"),className:"text-gray-600 hover:text-gray-900",children:"Archive"})]})})]},q.id)):i.map(q=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("input",{type:"checkbox",checked:q.items.every(ae=>N.includes(ae.id)),onChange:()=>{const ae=q.items.every(ee=>N.includes(ee.id));j(ae?ee=>ee.filter(ke=>!q.items.some(_e=>_e.id===ke)):ee=>[...ee,...q.items.map(ke=>ke.id)])},className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[q.representativeItem.images&&q.representativeItem.images.length>0&&o.jsx("img",{src:q.representativeItem.images[0],alt:q.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.title}),o.jsxs("div",{className:"text-sm text-gray-500",children:[q.category&&`${q.category} • `,q.brand&&`${q.brand} • `,q.condition]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:[...new Set(q.items.map(ae=>ae.status))].map(ae=>o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${et(ae)}`,children:ae},ae))})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Math.min(...q.items.map(ae=>ae.price)),q.items.length>1&&` - $${Math.max(...q.items.map(ae=>ae.price))}`]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:q.quantity})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:q.items.some(ae=>ae.status==="live")?Ye(q.items.find(ae=>ae.status==="live")):"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[...new Set(q.items.map(ae=>ae.sellerName))].join(", ")}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>{q.items.forEach(ae=>{ae.status!=="archived"&&Ne(ae.id,"archived")})},className:"text-gray-600 hover:text-gray-900",children:"Archive All"})})})]},q.id))})]})}),(P==="individual"?n.length===0:i.length===0)&&o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:t.length===0?"No items found":"No items match your filters"})})]}),R&&$&&o.jsx(nIe,{item:$,onApply:Yn,onClose:()=>{I(!1),L(null)}}),U&&o.jsx(rIe,{items:n,onApply:On,onClose:()=>D(!1),getShelfDays:Be}),z&&o.jsx(iIe,{onClose:()=>V(!1),onImportComplete:()=>{V(!1),ye()}}),X&&o.jsx(aIe,{items:t,filteredItems:n,onClose:()=>Y(!1),user:K})]})},nIe=({item:t,onApply:e,onClose:n})=>{const[r,i]=C.useState(10),[a,s]=C.useState(""),l=t.originalPrice||t.price,c=l*(1-r/100),u=d=>{d.preventDefault(),e(r,a||"Manual discount applied")};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Apply Discount"}),o.jsx("p",{className:"text-gray-600 mt-1",children:t.title})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("form",{onSubmit:u,className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage"}),o.jsx("input",{type:"number",min:"1",max:"50",value:r,onChange:d=>i(Number(d.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (optional)"}),o.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"e.g., Shelf time over 30 days",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Original Price:"}),o.jsxs("span",{className:"font-medium",children:["$",l]})]}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),o.jsxs("span",{className:"text-red-600",children:["-",r,"%"]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[o.jsx("span",{className:"font-medium",children:"New Price:"}),o.jsxs("span",{className:"font-bold text-lg text-green-600",children:["$",c.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Apply Discount"})]})]})]})})},rIe=({items:t,onApply:e,onClose:n,getShelfDays:r})=>{const i=[{days:7,discount:10,label:"7+ days - 10% off"},{days:14,discount:15,label:"14+ days - 15% off"},{days:21,discount:20,label:"21+ days - 20% off"},{days:30,discount:25,label:"30+ days - 25% off"},{days:45,discount:30,label:"45+ days - 30% off"},{days:60,discount:35,label:"60+ days - 35% off"}],a=s=>t.filter(l=>l.status!=="live"?!1:r(l)>=s).length;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Auto-Discount by Shelf Time"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Apply discounts to items based on how long they've been on the shelf"})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o.jsx("div",{className:"grid gap-3",children:i.map(s=>{const l=a(s.days);return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:s.label}),o.jsxs("div",{className:"text-sm text-gray-500",children:[l," eligible items"]})]}),o.jsxs("button",{onClick:()=>e(s.days,s.discount),disabled:l===0,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Apply to ",l]})]},s.days)})}),o.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Note:"}),' Discounts will only be applied to items with "live" status. Items that already have discounts will have their discount updated based on the original price.']})]})}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Close"})})]})]})})},iIe=({onClose:t,onImportComplete:e})=>{const[n,r]=C.useState(null),[i,a]=C.useState("csv"),[s,l]=C.useState(!1),[c,u]=C.useState(0),[d,f]=C.useState([]),[h,p]=C.useState(!1),{user:y}=jo(),g=_=>{var j,A;const N=(j=_.target.files)==null?void 0:j[0];if(N){r(N);const w=(A=N.name.split(".").pop())==null?void 0:A.toLowerCase();w==="csv"?a("csv"):w==="json"?a("json"):w==="sql"&&a("sql"),(w==="csv"||w==="json")&&x(N,w)}},x=async(_,N)=>{const j=new FileReader;j.onload=A=>{var S;const w=(S=A.target)==null?void 0:S.result;if(N==="csv"){const T=w.split(`
`).filter(R=>R.trim()),P=T[0].split(",").map(R=>R.trim().replace(/"/g,"")),O=T.slice(1,6).map(R=>{const I=R.split(",").map(L=>L.trim().replace(/"/g,"")),$={};return P.forEach((L,U)=>{$[L]=I[U]||""}),$});f(O)}else if(N==="json")try{const T=JSON.parse(w);f(Array.isArray(T)?T.slice(0,5):[T])}catch{console.error("Invalid JSON format")}p(!0)},j.readAsText(_)},b=async()=>{if(!(!n||!y)){l(!0),u(0);try{const _=setInterval(()=>{u(j=>j>=90?(clearInterval(_),90):j+10)},200),N=new FileReader;N.onload=async j=>{var S;const A=(S=j.target)==null?void 0:S.result;let w=[];try{if(i==="csv"){const T=A.split(`
`).filter(O=>O.trim()),P=T[0].split(",").map(O=>O.trim().replace(/"/g,""));w=T.slice(1).map(O=>{const R=O.split(",").map($=>$.trim().replace(/"/g,"")),I={};return P.forEach(($,L)=>{I[$]=R[L]||""}),I})}else if(i==="json"){const T=JSON.parse(A);w=Array.isArray(T)?T:[T]}await Tt(y,"data_import",`Imported ${w.length} items from ${i.toUpperCase()} file`,n.name,`${w.length} items`),clearInterval(_),u(100),setTimeout(()=>{e()},1e3)}catch(T){console.error("Import error:",T),clearInterval(_),l(!1)}},N.readAsText(n)}catch(_){console.error("Import failed:",_),l(!1)}}},v=_=>{if(_===0)return"0 Bytes";const N=1024,j=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(_)/Math.log(N));return parseFloat((_/Math.pow(N,A)).toFixed(2))+" "+j[A]};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Import Data"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Upload CSV, JSON, or SQL data sheets to import inventory items"})]}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mb-4",children:o.jsx("svg",{className:"mx-auto h-16 w-16 text-blue-500 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Importing Data..."}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("div",{className:"text-sm text-gray-600",children:[c,"% complete"]}),c===100&&o.jsx("div",{className:"mt-4 text-green-600 font-medium",children:"Import completed successfully!"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Import Format"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[o.jsxs("button",{onClick:()=>a("csv"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="csv"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"CSV"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Comma Separated Values"})]}),o.jsxs("button",{onClick:()=>a("json"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="json"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"JSON"}),o.jsx("div",{className:"text-sm text-gray-500",children:"JavaScript Object Notation"})]}),o.jsxs("button",{onClick:()=>a("sql"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="sql"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"text-lg font-semibold",children:"SQL"}),o.jsx("div",{className:"text-sm text-gray-500",children:"SQL Insert Statements"})]})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:[o.jsx("input",{type:"file",accept:i==="csv"?".csv":i==="json"?".json":".sql",onChange:g,className:"hidden",id:"file-upload"}),o.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:o.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Click to upload or drag and drop"}),o.jsxs("div",{className:"text-sm text-gray-500",children:[i.toUpperCase()," files only"]})]})]}),n&&o.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:n.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:[v(n.size)," • ",i.toUpperCase()]})]}),o.jsx("button",{onClick:()=>{r(null),p(!1),f([])},className:"text-red-500 hover:text-red-700",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}),h&&d.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Preview"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:Object.keys(d[0]||{}).map(_=>o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:_},_))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((_,N)=>o.jsx("tr",{children:Object.values(_).map((j,A)=>o.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 whitespace-nowrap",children:[String(j).substring(0,50),String(j).length>50?"...":""]},A))},N))})]})})}),o.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Showing first ",d.length," rows"]})]}),o.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Import Guidelines:"}),o.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"CSV files should have headers in the first row"}),o.jsx("li",{children:"JSON files should contain an array of objects or a single object"}),o.jsx("li",{children:"SQL files should contain INSERT statements"}),o.jsx("li",{children:"Required fields: title, price, category, condition"}),o.jsx("li",{children:"Optional fields: brand, size, color, material, description"})]})]})]})})]})}),!s&&o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsxs("button",{onClick:b,disabled:!n,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import Data"]})]})})]})})},aIe=({items:t,filteredItems:e,onClose:n,user:r})=>{const[i,a]=C.useState("csv"),[s,l]=C.useState("filtered"),[c,u]=C.useState(["title","price","category","brand","condition","status","createdAt"]),[d,f]=C.useState({status:[],category:[],brand:[],dateRange:{start:"",end:""}}),[h,p]=C.useState(!1),[y,g]=C.useState(!1),[x,b]=C.useState(!1),[v,_]=C.useState(!1),N=[{key:"id",label:"Item ID",category:"Basic"},{key:"title",label:"Title",category:"Basic"},{key:"description",label:"Description",category:"Basic"},{key:"price",label:"Price",category:"Basic"},{key:"originalPrice",label:"Original Price",category:"Basic"},{key:"soldPrice",label:"Sold Price",category:"Sales"},{key:"category",label:"Category",category:"Details"},{key:"brand",label:"Brand",category:"Details"},{key:"condition",label:"Condition",category:"Details"},{key:"size",label:"Size",category:"Details"},{key:"color",label:"Color",category:"Details"},{key:"material",label:"Material",category:"Details"},{key:"gender",label:"Gender",category:"Details"},{key:"status",label:"Status",category:"Status"},{key:"sellerName",label:"Seller Name",category:"Seller"},{key:"sellerEmail",label:"Seller Email",category:"Seller"},{key:"sellerId",label:"Seller ID",category:"Seller"},{key:"createdAt",label:"Date Listed",category:"Dates"},{key:"approvedAt",label:"Date Approved",category:"Dates"},{key:"liveAt",label:"Date Live",category:"Dates"},{key:"soldAt",label:"Date Sold",category:"Dates"},{key:"discountPercentage",label:"Discount %",category:"Pricing"},{key:"discountReason",label:"Discount Reason",category:"Pricing"},{key:"barcodeData",label:"Barcode",category:"Inventory"},{key:"trackingNumber",label:"Tracking Number",category:"Shipping"},{key:"buyerInfo",label:"Buyer Information",category:"Sales"}],j=[...new Set(N.map($=>$.category))],A=()=>{let $=t;return s==="filtered"?$=e:s==="custom"&&($=t.filter(L=>!(d.status.length>0&&!d.status.includes(L.status)||d.category.length>0&&!d.category.includes(L.category||"")||d.brand.length>0&&!d.brand.includes(L.brand||"")||d.dateRange.start&&new Date(L.createdAt)<new Date(d.dateRange.start)||d.dateRange.end&&new Date(L.createdAt)>new Date(d.dateRange.end)))),$.map(L=>{const U={};if(c.forEach(D=>{D==="createdAt"||D==="approvedAt"||D==="liveAt"||D==="soldAt"?U[D]=L[D]?L[D].toISOString():"":D==="buyerInfo"?U[D]=L.buyerInfo?JSON.stringify(L.buyerInfo):"":D==="images"&&h?U[D]=L.images?L.images.join("; "):"":U[D]=L[D]||""}),y&&L.status==="sold"&&(U.adminEarnings=(L.soldPrice||L.price)*.25,U.userEarnings=(L.soldPrice||L.price)*.75,U.saleType=L.saleType||"unknown"),x){const D=Math.floor((new Date().getTime()-L.createdAt.getTime())/864e5);U.daysOnShelf=D,U.hasDiscount=!!L.discountPercentage,U.priceChange=L.originalPrice?L.originalPrice-L.price:0}return U})},w=$=>{if($.length===0)return;const L=Object.keys($[0]),U=[L.join(","),...$.map(X=>L.map(Y=>{const K=X[Y];return typeof K=="string"&&(K.includes(",")||K.includes('"'))?`"${K.replace(/"/g,'""')}"`:K}).join(","))].join(`
`),D=new Blob([U],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),V=URL.createObjectURL(D);z.setAttribute("href",V),z.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)},S=$=>{const L=JSON.stringify($,null,2),U=new Blob([L],{type:"application/json;charset=utf-8;"}),D=document.createElement("a"),z=URL.createObjectURL(U);D.setAttribute("href",z),D.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.json`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)},T=$=>{if($.length===0)return;const L=Object.keys($[0]),U=[L.join("	"),...$.map(X=>L.map(Y=>X[Y]||"").join("	"))].join(`
`),D=new Blob([U],{type:"text/tab-separated-values;charset=utf-8;"}),z=document.createElement("a"),V=URL.createObjectURL(D);z.setAttribute("href",V),z.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.xlsx`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)},P=async()=>{_(!0);try{const $=A();if($.length===0){alert("No data to export with current filters"),_(!1);return}switch(await new Promise(L=>setTimeout(L,1e3)),i){case"csv":w($);break;case"json":S($);break;case"excel":T($);break}r&&await Tt(r,"data_export",`Exported ${$.length} items as ${i.toUpperCase()}`,void 0,`${$.length} items`),n()}catch($){console.error("Export failed:",$),alert("Export failed. Please try again.")}finally{_(!1)}},O=$=>{u(L=>L.includes($)?L.filter(U=>U!==$):[...L,$])},R=()=>{c.length===N.length?u(["title","price","category","status"]):u(N.map($=>$.key))},I=$=>{const L=N.filter(D=>D.category===$).map(D=>D.key),U=L.every(D=>c.includes(D));u(U?D=>D.filter(z=>!L.includes(z)):D=>[...new Set([...D,...L])])};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Export Inventory Data"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Download comprehensive inventory data in your preferred format"})]}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Export Format"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("button",{onClick:()=>a("csv"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="csv"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"font-semibold",children:"CSV"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Comma Separated"})]}),o.jsxs("button",{onClick:()=>a("json"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="json"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"font-semibold",children:"JSON"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Structured Data"})]}),o.jsxs("button",{onClick:()=>a("excel"),className:`p-4 border-2 rounded-lg text-center transition-colors ${i==="excel"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"font-semibold",children:"Excel"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Spreadsheet"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Data Scope"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"dataScope",value:"all",checked:s==="all",onChange:$=>l($.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:["All Items (",t.length,")"]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Export entire inventory database"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"dataScope",value:"filtered",checked:s==="filtered",onChange:$=>l($.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:["Current Filtered Items (",e.length,")"]}),o.jsx("div",{className:"text-sm text-gray-500",children:"Export items matching current dashboard filters"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"dataScope",value:"custom",checked:s==="custom",onChange:$=>l($.target.value),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Custom Selection"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Define custom filters below"})]})]})]})]}),s==="custom"&&o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Custom Filters"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["pending","approved","live","sold","archived"].map($=>o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:d.status.includes($),onChange:L=>{L.target.checked?f(U=>({...U,status:[...U.status,$]})):f(U=>({...U,status:U.status.filter(D=>D!==$)}))},className:"mr-1"}),o.jsx("span",{className:"text-sm capitalize",children:$})]},$))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),o.jsx("input",{type:"date",value:d.dateRange.start,onChange:$=>f(L=>({...L,dateRange:{...L.dateRange,start:$.target.value}})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),o.jsx("input",{type:"date",value:d.dateRange.end,onChange:$=>f(L=>({...L,dateRange:{...L.dateRange,end:$.target.value}})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Additional Data"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:h,onChange:$=>p($.target.checked),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Include Image URLs"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Export image URLs for each item"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:$=>g($.target.checked),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Include Sales Analytics"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Add earnings breakdown for sold items"})]})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:$=>b($.target.checked),className:"mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Include Performance Metrics"}),o.jsx("div",{className:"text-sm text-gray-500",children:"Add shelf time, discounts, and price changes"})]})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Select Fields to Export"}),o.jsx("button",{onClick:R,className:"text-sm text-green-600 hover:text-green-700 font-medium",children:c.length===N.length?"Deselect All":"Select All"})]}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:j.map($=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h4",{className:"font-medium text-gray-700",children:$}),o.jsx("button",{onClick:()=>I($),className:"text-xs text-green-600 hover:text-green-700",children:"Toggle All"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-1",children:N.filter(L=>L.category===$).map(L=>o.jsxs("label",{className:"flex items-center text-sm",children:[o.jsx("input",{type:"checkbox",checked:c.includes(L.key),onChange:()=>O(L.key),className:"mr-2"}),o.jsx("span",{className:c.includes(L.key)?"text-gray-900":"text-gray-500",children:L.label})]},L.key))})]},$))}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Selected:"})," ",c.length," fields",o.jsx("br",{}),o.jsx("strong",{children:"Estimated rows:"})," ",A().length," items"]})})]})]})}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Ready to export ",A().length," items with ",c.length," fields"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),o.jsx("button",{onClick:P,disabled:c.length===0||v,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:v?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Exporting..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),"Export ",i.toUpperCase()]})})]})]})})]})})},sIe=({isOpen:t,onClose:e,user:n,isAdmin:r=!1,refreshTrigger:i=0})=>{const[a,s]=C.useState(!1),[l,c]=C.useState(null),[u,d]=C.useState([]),[f,h]=C.useState(null),[p,y]=C.useState([]),[g,x]=C.useState([]),[b,v]=C.useState(null),[_,N]=C.useState(!1),[j,A]=C.useState(!1),[w,S]=C.useState(""),[T,P]=C.useState(""),[O,R]=C.useState(!1),[I,$]=C.useState(""),[L,U]=C.useState([]),[D,z]=C.useState(!1),[V,X]=C.useState(null),[Y,K]=C.useState(!1),[F,te]=C.useState(null),[H,ue]=C.useState(""),[oe,ge]=C.useState("totalEarnings"),[G,he]=C.useState("desc"),[ye,ne]=C.useState([]),[Oe,ve]=C.useState(!1),[Ae,le]=C.useState(""),[fe,Ne]=C.useState(null);C.useEffect(()=>{t&&(r?et():n&&Ye(n.uid))},[t,r,n,i]),C.useEffect(()=>{l&&r&&Be(l)},[l,r]);const et=async()=>{s(!0);try{const de=[],je=new Map,Ge=ct(De,"items");(await Dt(Ge)).forEach(Ie=>{var ln,br,ri,Gi;const Xe={id:Ie.id,...Ie.data(),createdAt:((ln=Ie.data().createdAt)==null?void 0:ln.toDate())||new Date,approvedAt:(br=Ie.data().approvedAt)==null?void 0:br.toDate(),liveAt:(ri=Ie.data().liveAt)==null?void 0:ri.toDate(),soldAt:(Gi=Ie.data().soldAt)==null?void 0:Gi.toDate()},Ut=Xe.sellerId;if(!je.has(Ut)){const ja={uid:Ut,email:Xe.sellerEmail,displayName:Xe.sellerName,photoURL:""};de.push(ja),je.set(Ut,{userId:Ut,userName:Xe.sellerName,userEmail:Xe.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const dt=je.get(Ut);switch(dt.totalItemsListed++,Xe.status){case"pending":dt.pendingItems.push(Xe);break;case"approved":dt.approvedItems.push(Xe);break;case"live":dt.activeItems.push(Xe);break;case"sold":dt.soldItems.push(Xe),dt.totalItemsSold++;const ja=Xe.soldPrice||Xe.price,ii=Xe.userEarnings||ja*.75;dt.totalEarnings+=ii;break;case"archived":dt.archivedItems||(dt.archivedItems=[]),dt.archivedItems.push(Xe);break}});try{const Ie=ct(De,"users");(await Dt(Ie)).forEach(Ut=>{const dt=Ut.data(),ln=Ut.id;if(!je.has(ln)){const br={uid:ln,email:dt.email||"",displayName:dt.displayName||dt.name||"Unknown User",photoURL:dt.photoURL||""};de.push(br),je.set(ln,{userId:ln,userName:br.displayName,userEmail:br.email||dt.phoneNumber||"",totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:Math.random()*100,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}})}catch{console.warn("Users collection not found, using only item sellers")}try{const Ie=ct(De,"payments");(await Dt(Ie)).forEach(Ut=>{const dt=Ut.data(),ln=je.get(dt.userId);ln&&(ln.totalPaid+=dt.amount)})}catch(Ie){console.warn("Error fetching payments:",Ie)}je.forEach(Ie=>{Ie.outstandingBalance=Math.max(0,Ie.totalEarnings-Ie.totalPaid)});const ze=Array.from(je.values());d(ze),x(de)}catch(de){console.error("Error fetching user analytics:",de)}finally{s(!1)}},Ye=async de=>{s(!0);try{const je=ct(De,"items"),Ge=Ft(je,mn("sellerId","==",de)),_t=await Dt(Ge),ze={userId:de,userName:(n==null?void 0:n.displayName)||"User",userEmail:(n==null?void 0:n.email)||"",totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]};_t.forEach(Ie=>{var Ut,dt,ln,br;const Xe={id:Ie.id,...Ie.data(),createdAt:((Ut=Ie.data().createdAt)==null?void 0:Ut.toDate())||new Date,approvedAt:(dt=Ie.data().approvedAt)==null?void 0:dt.toDate(),liveAt:(ln=Ie.data().liveAt)==null?void 0:ln.toDate(),soldAt:(br=Ie.data().soldAt)==null?void 0:br.toDate()};switch(ze.totalItemsListed++,Xe.status){case"pending":ze.pendingItems.push(Xe);break;case"approved":ze.approvedItems.push(Xe);break;case"live":ze.activeItems.push(Xe);break;case"sold":ze.soldItems.push(Xe),ze.totalItemsSold++;const ri=Xe.soldPrice||Xe.price,Gi=Xe.userEarnings||ri*.75;ze.totalEarnings+=Gi;break}});try{const Ie=ct(De,"payments"),Xe=Ft(Ie,mn("userId","==",de));(await Dt(Xe)).forEach(dt=>{const ln=dt.data();ze.totalPaid+=ln.amount})}catch(Ie){console.warn("Error fetching user payments:",Ie)}ze.outstandingBalance=Math.max(0,ze.totalEarnings-ze.totalPaid),h(ze)}catch(je){console.error("Error fetching user analytics:",je)}finally{s(!1)}},Be=async de=>{try{const je=ct(De,"payments"),Ge=Ft(je,mn("userId","==",de),od("paidAt","desc")),_t=await Dt(Ge),ze=[];_t.forEach(Ie=>{var Xe;ze.push({id:Ie.id,...Ie.data(),paidAt:((Xe=Ie.data().paidAt)==null?void 0:Xe.toDate())||new Date})}),U(ze)}catch(je){console.error("Error fetching payment history:",je),U([])}},Bt=de=>{oe===de?he(G==="asc"?"desc":"asc"):(ge(de),he("desc"))},Yn=async de=>{Ne(de),ve(!0);try{const je=yL(Ge=>{const _t=Ge.filter(ze=>ze.userId===de.userId).map(ze=>{var Ie;return{...ze,timestamp:(Ie=ze.timestamp)!=null&&Ie.toDate?ze.timestamp.toDate():new Date}}).sort((ze,Ie)=>Ie.timestamp.getTime()-ze.timestamp.getTime());ne(_t)});window.userActionsUnsubscribe=je}catch(je){console.error("Error fetching user actions:",je)}},On=u.filter(de=>de.userName.toLowerCase().includes(Ae.toLowerCase())||de.userEmail.toLowerCase().includes(Ae.toLowerCase())).sort((de,je)=>{const Ge=de[oe],_t=je[oe],ze=G==="asc"?1:-1;return(Ge-_t)*ze}),q=de=>oe!==de?"↕️":G==="asc"?"↑":"↓",ae=de=>{switch(de){case"item_listed":return"📝";case"item_approved":return"✅";case"item_purchased":return"🛒";case"item_sold":return"💰";case"item_archived":return"📦";case"user_login":return"🔐";case"user_logout":return"🚪";case"item_bookmarked":return"❤️";case"cart_updated":return"🛍️";default:return"📊"}},ee=de=>{const Ge=new Date().getTime()-de.getTime(),_t=Math.floor(Ge/(1e3*60)),ze=Math.floor(Ge/(1e3*60*60)),Ie=Math.floor(Ge/(1e3*60*60*24));return _t<1?"Just now":_t<60?`${_t}m ago`:ze<24?`${ze}h ago`:`${Ie}d ago`},ke=de=>de.totalItemsListed===0?0:de.totalItemsSold/de.totalItemsListed*100,_e=de=>{const je=[...de.activeItems,...de.soldItems,...de.approvedItems,...de.pendingItems];return je.length===0?new Date(0):je.reduce((Ge,_t)=>{const ze=_t.createdAt||new Date(0);return ze>Ge?ze:Ge},new Date(0))};return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Analytics Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive user performance and statistics"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(95vh-200px)]",children:[o.jsxs("div",{className:"mb-6 space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[o.jsx("div",{className:"flex-1 max-w-md",children:o.jsx("input",{type:"text",value:Ae,onChange:de=>le(de.target.value),placeholder:"Search users by name or email...",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500"})}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",On.length," of ",u.length," users"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.reduce((de,je)=>de+je.totalItemsListed,0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items Listed"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.reduce((de,je)=>de+je.totalItemsSold,0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items Sold"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",u.reduce((de,je)=>de+je.totalEarnings,0).toFixed(2)]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total User Earnings"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",u.reduce((de,je)=>de+je.storeCredit,0).toFixed(2)]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Store Credit"})]})]})]}),a?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"}),o.jsx("span",{className:"ml-3 text-gray-600",children:"Loading user statistics..."})]}):o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Bt("totalItemsSold"),children:["Items Sold ",q("totalItemsSold")]}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Bt("totalEarnings"),children:["Total Earned ",q("totalEarnings")]}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Bt("outstandingBalance"),children:["Outstanding Balance ",q("outstandingBalance")]}),o.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>Bt("storeCredit"),children:["Store Credit ",q("storeCredit")]}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:On.map(de=>{const je=ke(de),Ge=_e(de);return o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Yn(de),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.userName}),o.jsx("div",{className:"text-sm text-gray-500",children:de.userEmail}),o.jsxs("div",{className:"text-xs text-gray-400",children:[de.totalItemsListed," listed • ",de.activeItems.length," active • ",de.pendingItems.length," pending"]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-semibold text-green-600",children:de.totalItemsSold})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-semibold text-purple-600",children:["$",de.totalEarnings.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:`text-sm font-semibold ${de.outstandingBalance>0?"text-red-600":"text-gray-400"}`,children:["$",de.outstandingBalance.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-semibold text-orange-600",children:["$",de.storeCredit.toFixed(2)]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:`text-sm font-semibold ${je>=70?"text-green-600":je>=40?"text-yellow-600":"text-red-600"}`,children:[je.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ee(Ge)})]},de.userId)})})]})})}),On.length===0&&!a&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),o.jsx("p",{className:"text-gray-500",children:"No users match your search criteria."})]})]})]})}),Oe&&fe&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[80] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden",children:[o.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:fe.userName}),o.jsx("p",{className:"text-gray-600 mt-1",children:"User Activity & Action History"})]}),o.jsx("button",{onClick:()=>{ve(!1),Ne(null),window.userActionsUnsubscribe&&window.userActionsUnsubscribe()},className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(95vh-200px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900",children:fe.totalItemsListed}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Items Listed"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900",children:fe.totalItemsSold}),o.jsx("div",{className:"text-sm text-gray-600",children:"Items Sold"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",fe.totalEarnings.toFixed(2)]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[ke(fe).toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),o.jsx("p",{className:"text-sm text-gray-600",children:"All actions performed by this user"})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:ye.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-2",children:"📊"}),o.jsx("p",{children:"No activity found for this user"})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:ye.map((de,je)=>o.jsx("div",{className:"p-4 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"text-2xl",children:ae(de.action)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:de.action.replace("_"," ")}),o.jsx("p",{className:"text-sm text-gray-500",children:ee(de.timestamp)})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:de.details}),de.itemTitle&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Item: ",de.itemTitle]})]})]})},je))})})]})]})]})})]}):null},oIe=({user:t,isAdmin:e})=>{const[n,r]=C.useState([]),[i,a]=C.useState([]),[s,l]=C.useState(!0),[c,u]=C.useState(""),[d,f]=C.useState("all"),[h,p]=C.useState("all"),[y,g]=C.useState("24h"),[x,b]=C.useState(!1);C.useEffect(()=>{console.log("ActionsDashboard useEffect triggered, timeFilter:",y),l(!0),t&&(console.log("Logging dashboard access for user:",t.displayName),Tt(t,"dashboard_viewed","Accessed Actions Dashboard")),console.log("Setting up subscription to action logs...");const w=yL(T=>{try{if(console.log("ActionsDashboard received action logs from Firebase:",T.length),T.length===0){console.log("No action logs found in Firebase database"),r([]),l(!1);return}const P=T.map(I=>{var L;const $=(L=I.timestamp)!=null&&L.toDate?I.timestamp.toDate():new Date;return console.log("Processing log:",I.id,I.action,"timestamp:",$),{...I,timestamp:$}}),O=v();console.log("Time threshold for filtering:",new Date(O));const R=P.filter(I=>I.timestamp.getTime()>=O);console.log("Filtered actions by time:",R.length,"out of",P.length),r(R),l(!1)}catch(P){console.error("Error processing action logs:",P),r([]),l(!1)}}),S=setTimeout(()=>{s&&(console.warn("Action logs taking longer than expected to load"),r([]),l(!1))},1e4);return()=>{w(),clearTimeout(S)}},[y]),C.useEffect(()=>{_()},[n,c,d,h]);const v=()=>{const w=new Date;switch(y){case"1h":return w.getTime()-1e3*60*60;case"24h":return w.getTime()-1e3*60*60*24;case"7d":return w.getTime()-1e3*60*60*24*7;case"30d":return w.getTime()-1e3*60*60*24*30;default:return 0}},_=()=>{let w=[...n];if(d!=="all"&&(w=w.filter(S=>S.action===d)),h!=="all"&&(h==="admin"?w=w.filter(S=>S.isAdmin===!0):h==="user"&&(w=w.filter(S=>S.isAdmin!==!0))),c){const S=c.toLowerCase();w=w.filter(T=>T.userName.toLowerCase().includes(S)||T.userEmail.toLowerCase().includes(S)||T.action.toLowerCase().includes(S)||T.details.toLowerCase().includes(S)||T.itemTitle&&T.itemTitle.toLowerCase().includes(S))}a(w)},N=w=>{switch(w){case"item_listed":return"📝";case"item_approved":return"✅";case"item_purchased":return"🛒";case"item_sold":return"💰";case"item_archived":return"📦";case"item_discounted":return"🏷️";case"bulk_discount":return"💸";case"user_login":return"🔐";case"user_logout":return"🚪";case"bulk_action":return"⚡";case"item_bookmarked":return"❤️";case"cart_updated":return"🛍️";case"status_changed":return"🔄";case"barcode_generated":return"📊";case"shipping_label_generated":return"📦";case"item_shipped":return"🚚";default:return"📊"}},j=w=>{switch(w){case"item_listed":return"bg-blue-100 text-blue-800";case"item_approved":return"bg-green-100 text-green-800";case"item_purchased":return"bg-purple-100 text-purple-800";case"item_sold":return"bg-yellow-100 text-yellow-800";case"item_archived":return"bg-gray-100 text-gray-800";case"item_discounted":return"bg-orange-100 text-orange-800";case"bulk_discount":return"bg-red-100 text-red-800";case"user_login":return"bg-indigo-100 text-indigo-800";case"user_logout":return"bg-red-100 text-red-800";case"bulk_action":return"bg-orange-100 text-orange-800";case"item_bookmarked":return"bg-pink-100 text-pink-800";case"cart_updated":return"bg-teal-100 text-teal-800";case"status_changed":return"bg-cyan-100 text-cyan-800";case"barcode_generated":return"bg-emerald-100 text-emerald-800";case"shipping_label_generated":return"bg-blue-100 text-blue-800";case"item_shipped":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=w=>{const T=new Date().getTime()-w.getTime(),P=Math.floor(T/(1e3*60)),O=Math.floor(T/(1e3*60*60)),R=Math.floor(T/(1e3*60*60*24));return P<1?"Just now":P<60?`${P}m ago`:O<24?`${O}h ago`:`${R}d ago`};return s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Actions Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Track all user and admin activities"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[e&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>b(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"User Analytics"]}),o.jsxs("button",{onClick:async()=>{console.log("Manual fetch of action logs...");try{const w=await hJ();console.log("Manual fetch successful:",w.length,"logs");const S=w.map(O=>{var R;return{...O,timestamp:(R=O.timestamp)!=null&&R.toDate?O.timestamp.toDate():new Date}}),T=v(),P=S.filter(O=>O.timestamp.getTime()>=T);r(P),l(!1)}catch(w){console.error("Manual fetch failed:",w)}},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",n.length," actions | Filtered: ",i.length," actions",h==="admin"&&" | Admin Actions Only",h==="user"&&" | User Actions Only"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg border p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsx("input",{type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"Search users, actions, items...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),o.jsxs("select",{value:d,onChange:w=>f(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Actions"}),o.jsx("option",{value:"item_listed",children:"Item Listed"}),o.jsx("option",{value:"item_approved",children:"Item Approved"}),o.jsx("option",{value:"item_purchased",children:"Item Purchased"}),o.jsx("option",{value:"item_sold",children:"Item Sold"}),o.jsx("option",{value:"item_archived",children:"Item Archived"}),o.jsx("option",{value:"item_discounted",children:"Item Discounted"}),o.jsx("option",{value:"bulk_discount",children:"Bulk Discount"}),o.jsx("option",{value:"status_changed",children:"Status Changed"}),o.jsx("option",{value:"barcode_generated",children:"Barcode Generated"}),o.jsx("option",{value:"shipping_label_generated",children:"Shipping Label Generated"}),o.jsx("option",{value:"item_shipped",children:"Item Shipped"}),o.jsx("option",{value:"user_login",children:"User Login"}),o.jsx("option",{value:"bulk_action",children:"Bulk Actions"}),o.jsx("option",{value:"item_bookmarked",children:"Item Bookmarked"}),o.jsx("option",{value:"cart_updated",children:"Cart Updated"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Type"}),o.jsxs("select",{value:h,onChange:w=>p(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"all",children:"All Users"}),o.jsx("option",{value:"admin",children:"Admin Only"}),o.jsx("option",{value:"user",children:"Users Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),o.jsxs("select",{value:y,onChange:w=>g(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"1h",children:"Last Hour"}),o.jsx("option",{value:"24h",children:"Last 24 Hours"}),o.jsx("option",{value:"7d",children:"Last 7 Days"}),o.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export"}),o.jsx("button",{onClick:()=>{console.log("Export actions to CSV")},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Export CSV"})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg border",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),o.jsx("div",{className:"divide-y divide-gray-200",children:i.map(w=>o.jsx("div",{className:"p-6 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"text-2xl",children:N(w.action)})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(w.action)}`,children:w.action.replace("_"," ")}),w.isAdmin&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"👑 Admin"}),o.jsx("span",{className:"text-sm text-gray-500",children:A(w.timestamp)})]}),o.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[o.jsxs("span",{className:"font-medium",children:[w.isAdmin&&o.jsx("span",{className:"text-red-600",children:"👑 "}),w.userName]}),o.jsxs("span",{className:"text-gray-500",children:[" (",w.userEmail,")"]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[w.details,w.itemTitle&&o.jsxs("span",{className:"font-medium text-gray-900",children:[" • ",w.itemTitle]})]})]}),o.jsx("div",{className:"flex-shrink-0 text-sm text-gray-500",children:w.timestamp.toLocaleString()})]})},w.id))}),i.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-gray-500",children:n.length===0?"No actions found for this time period":"No actions match your filters"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.filter(w=>w.action.includes("item_")).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Item Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.filter(w=>w.isAdmin===!0).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Admin Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.filter(w=>w.isAdmin!==!0).length}),o.jsx("div",{className:"text-sm text-gray-600",children:"User Actions"})]}),o.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(n.map(w=>w.userId)).size}),o.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]})]}),o.jsx(sIe,{isOpen:x,onClose:()=>b(!1),user:t,isAdmin:e})]})},lIe=({isOpen:t,onClose:e})=>{const[n,r]=C.useState(null),[i,a]=C.useState(!1),[s,l]=C.useState(null),[c,u]=C.useState(null),{throttledAction:d,isActionDisabled:f}=Am({delay:3e3,preventDoubleClick:!0}),h=async()=>{await d("run-tests",async()=>{a(!0),l(null);try{const v=await fetch("http://localhost:8000/api/run-tests");if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const _=await v.json();r(_)}catch(v){l(v instanceof Error?v.message:"Failed to run tests")}finally{a(!1)}})},p=v=>{switch(v){case"passed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"error":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},y=v=>{switch(v){case"passed":return"✅";case"failed":return"❌";case"error":return"⚠️";default:return"❓"}},g=v=>`${(v*1e3).toFixed(0)}ms`,x=()=>!n||n.total_tests===0?0:Math.round(n.passed/n.total_tests*100),b=()=>{if(!n)return;const v=JSON.stringify(n,null,2),_=new Blob([v],{type:"application/json"}),N=URL.createObjectURL(_),j=document.createElement("a");j.href=N,j.download=`test-results-${n.timestamp.replace(/[:\s]/g,"-")}.json`,j.click(),URL.revokeObjectURL(N)};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Test Results Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Comprehensive application testing"})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsx("button",{onClick:h,disabled:f("run-tests")||i,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Running Tests..."]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"🧪"}),"Run Tests"]})}),n&&o.jsxs("button",{onClick:b,className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 flex items-center gap-2",children:[o.jsx("span",{children:"📄"}),"Export Results"]})]}),s&&o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[o.jsx("strong",{children:"Error:"})," ",s]}),n&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-h-[60vh] overflow-auto",children:[o.jsxs("div",{className:"lg:col-span-3",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.total_tests}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Tests"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.passed}),o.jsx("div",{className:"text-sm text-gray-600",children:"Passed"})]}),o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.failed}),o.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.errors}),o.jsx("div",{className:"text-sm text-gray-600",children:"Errors"})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[x(),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Test Progress"}),o.jsxs("span",{children:[g(n.duration)," total"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-500",style:{width:`${x()}%`}})})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Details"}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.test_details.map((v,_)=>o.jsx("div",{onClick:()=>u(v),className:`p-3 rounded-lg border cursor-pointer hover:shadow-md transition-all ${c===v?"ring-2 ring-blue-500":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-lg",children:y(v.status)}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:v.test_name}),o.jsx("div",{className:"text-sm text-gray-500",children:g(v.duration)})]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(v.status)}`,children:v.status.toUpperCase()})]})},_))})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Details"}),c?o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"font-medium text-gray-900",children:c.test_name}),o.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium mt-1 ${p(c.status)}`,children:c.status.toUpperCase()})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Duration:"})," ",g(c.duration)]}),c.error_message&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Error:"}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mt-1 text-red-700 text-xs overflow-auto max-h-32",children:c.error_message})]})]})]}):o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg text-center text-gray-500",children:"Select a test to view details"})]})]}),!n&&!i&&!s&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:"🧪"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to Test"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Run comprehensive tests to verify all application features are working correctly."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto text-sm text-gray-600",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("div",{className:"font-medium text-blue-900",children:"Backend Tests"}),o.jsx("div",{children:"API endpoints, validation, security"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("div",{className:"font-medium text-green-900",children:"Performance Tests"}),o.jsx("div",{children:"Response times, load handling"})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[o.jsx("div",{className:"font-medium text-purple-900",children:"Security Tests"}),o.jsx("div",{children:"XSS protection, data validation"})]})]})]})]})}):null},cIe=()=>{const{user:t,loading:e,signInWithGoogle:n,signInWithPhone:r,logout:i,isAuthenticated:a,isAdmin:s,toggleAdmin:l}=jo(),{getCartItemCount:c,getBookmarkCount:u,switchUser:d}=ld(),[f,h]=C.useState([]),[p,y]=C.useState(!1),[g,x]=C.useState(!1),[b,v]=C.useState(!1),[_,N]=C.useState(!1),[j,A]=C.useState(!1),[w,S]=C.useState(!1),[T,P]=C.useState(!1),[O,R]=C.useState(!1),[I,$]=C.useState(!1),[L,U]=C.useState(!1),[D,z]=C.useState(!1),[V,X]=C.useState(!1),[Y,K]=C.useState(!1),[F,te]=C.useState(!1),[H,ue]=C.useState(!1),[oe,ge]=C.useState(!0),[G,he]=C.useState(!1),[ye,ne]=C.useState(0),[Oe,ve]=C.useState(!1),Ae=C.useRef(null),[le,fe]=C.useState(!1),[Ne,et]=C.useState(!1),Ye=C.useRef(null),[Be,Bt]=C.useState([]),[Yn,On]=C.useState(null),[q,ae]=C.useState(!1),[ee,ke]=C.useState({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""}),[_e,de]=C.useState({pending:0,approved:0,sold:0}),[je,Ge]=C.useState(!1),_t=C.useRef(null);C.useEffect(()=>{a?(Xe(),ze()):(ge(!1),he(!1))},[a,s]),C.useEffect(()=>{d((t==null?void 0:t.uid)||null)},[t,d]),C.useEffect(()=>{const Q=me=>{Ae.current&&!Ae.current.contains(me.target)&&ve(!1),Ye.current&&!Ye.current.contains(me.target)&&et(!1),_t.current&&!_t.current.contains(me.target)&&window.innerWidth<1024&&Ge(!1)};return(Oe||Ne||je)&&document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[Oe,Ne,je]);const ze=()=>{t&&he(s)},Ie=C.useCallback(async()=>{if(t)try{const Q=ct(De,"items"),me=Ft(Q,mn("status","==","pending")),Se=await Dt(me),Vt=Ft(Q,mn("status","==","approved")),kt=await Dt(Vt),xn=Ft(Q,mn("status","==","sold")),it=await Dt(xn),ot=new Date(Date.now()-24*60*60*1e3);let rt=0;it.forEach(cn=>{var Qn;const Un=(Qn=cn.data().soldAt)==null?void 0:Qn.toDate();Un&&Un>=ot&&rt++});const ai={pending:Se.size,approved:kt.size,sold:rt};de(ai)}catch(Q){console.error("Error fetching notification counts:",Q)}},[t]),Xe=async()=>{try{const Q=ct(De,"items"),me=Ft(Q,mn("status","==","live")),Se=await Dt(me),Vt=[];Se.forEach(kt=>{var it,ot,rt;const xn=kt.data();Vt.push({id:kt.id,...xn,createdAt:((it=xn.createdAt)==null?void 0:it.toDate())||new Date,approvedAt:(ot=xn.approvedAt)==null?void 0:ot.toDate(),liveAt:(rt=xn.liveAt)==null?void 0:rt.toDate()})}),Vt.sort((kt,xn)=>{const it=kt.liveAt||kt.createdAt;return(xn.liveAt||xn.createdAt).getTime()-it.getTime()}),h(Vt)}catch(Q){console.error("Error fetching items:",Q),h([])}finally{ge(!1)}},Ut=C.useCallback(async()=>{if(t)try{const Q=ct(De,"items"),me=new Date(Date.now()-24*60*60*1e3);let Se=[];if(G){const kt=Ft(Q);(await Dt(kt)).forEach(it=>{var cn,Cn,Un,Qn;const ot=it.data(),rt={id:it.id,...ot,createdAt:((cn=ot.createdAt)==null?void 0:cn.toDate())||new Date,approvedAt:(Cn=ot.approvedAt)==null?void 0:Cn.toDate(),liveAt:(Un=ot.liveAt)==null?void 0:Un.toDate(),soldAt:(Qn=ot.soldAt)==null?void 0:Qn.toDate()};(rt.createdAt&&rt.createdAt>=me||rt.approvedAt&&rt.approvedAt>=me||rt.liveAt&&rt.liveAt>=me||rt.soldAt&&rt.soldAt>=me)&&Se.push(rt)}),Se.sort((it,ot)=>{var cn,Cn,Un,Qn,Xi,gs,Sa,Ti;const rt=Math.max(((cn=it.createdAt)==null?void 0:cn.getTime())||0,((Cn=it.approvedAt)==null?void 0:Cn.getTime())||0,((Un=it.liveAt)==null?void 0:Un.getTime())||0,((Qn=it.soldAt)==null?void 0:Qn.getTime())||0);return Math.max(((Xi=ot.createdAt)==null?void 0:Xi.getTime())||0,((gs=ot.approvedAt)==null?void 0:gs.getTime())||0,((Sa=ot.liveAt)==null?void 0:Sa.getTime())||0,((Ti=ot.soldAt)==null?void 0:Ti.getTime())||0)-rt})}else{const kt=Ft(Q,mn("sellerUid","==",t.uid));(await Dt(kt)).forEach(it=>{var cn,Cn,Un,Qn;const ot=it.data(),rt={id:it.id,...ot,createdAt:((cn=ot.createdAt)==null?void 0:cn.toDate())||new Date,approvedAt:(Cn=ot.approvedAt)==null?void 0:Cn.toDate(),liveAt:(Un=ot.liveAt)==null?void 0:Un.toDate(),soldAt:(Qn=ot.soldAt)==null?void 0:Qn.toDate()};(rt.createdAt&&rt.createdAt>=me||rt.approvedAt&&rt.approvedAt>=me||rt.liveAt&&rt.liveAt>=me||rt.soldAt&&rt.soldAt>=me)&&Se.push(rt)}),Se.sort((it,ot)=>{var cn,Cn,Un,Qn,Xi,gs,Sa,Ti;const rt=Math.max(((cn=it.createdAt)==null?void 0:cn.getTime())||0,((Cn=it.approvedAt)==null?void 0:Cn.getTime())||0,((Un=it.liveAt)==null?void 0:Un.getTime())||0,((Qn=it.soldAt)==null?void 0:Qn.getTime())||0);return Math.max(((Xi=ot.createdAt)==null?void 0:Xi.getTime())||0,((gs=ot.approvedAt)==null?void 0:gs.getTime())||0,((Sa=ot.liveAt)==null?void 0:Sa.getTime())||0,((Ti=ot.soldAt)==null?void 0:Ti.getTime())||0)-rt})}const Vt=Se.slice(0,15);Bt(Vt)}catch(Q){console.error("Error fetching recent items:",Q)}},[t,G]);C.useEffect(()=>{if(a&&t){Ut();const Q=setInterval(Ut,3e4);return()=>clearInterval(Q)}},[a,t,Ut]),C.useEffect(()=>{if(G&&t){Ie();const Q=setInterval(Ie,3e4);return()=>clearInterval(Q)}},[G,t,Ie]);const dt=async()=>{await Tt(t,"modal_opened","Opened Add Item modal"),y(!0)},ln=()=>{y(!1),Xe(),Ut(),G&&Ie()},br=async()=>{await Tt(t,"modal_opened","Opened Admin modal"),x(!0)},ri=()=>{x(!1),Xe(),Ut(),G&&Ie()},Gi=async()=>{await Tt(t,"modal_opened","Opened Approved Items modal"),v(!0)},ja=()=>{v(!1),Xe(),Ut(),G&&Ie()},ii=()=>{A(!0)},Um=()=>{A(!1)},ko=()=>{R(!0)},Vm=()=>{R(!1)},Wi=async Q=>{await Tt(t,"item_viewed","Viewed item details",Q.id,Q.title),On(Q),ae(!0),et(!1)},zm=()=>{On(null),ae(!1)},Bn=()=>{te(!0)},Fm=()=>{te(!1)},Io=()=>{te(!1),ue(!0),setTimeout(()=>{ue(!1)},5e3)},ps=Q=>{const me=new Date(Date.now()-864e5),Se=[];return Q.soldAt&&Q.soldAt>=me&&Se.push({type:"sold",time:Q.soldAt,icon:"💰",message:"Sold",color:"text-green-600"}),Q.liveAt&&Q.liveAt>=me&&Se.push({type:"live",time:Q.liveAt,icon:"🟢",message:"Went Live",color:"text-green-600"}),Q.approvedAt&&Q.approvedAt>=me&&Se.push({type:"approved",time:Q.approvedAt,icon:"✅",message:"Approved",color:"text-blue-600"}),Q.createdAt&&Q.createdAt>=me&&Se.push({type:"created",time:Q.createdAt,icon:"📝",message:"Listed",color:"text-purple-600"}),Se.length>0?(Se.sort((Vt,kt)=>kt.time.getTime()-Vt.time.getTime()),Se[0]):null},cr=(Q,me)=>{ke(Se=>({...Se,[Q]:me})),Q!=="searchQuery"&&window.innerWidth<1024&&Ge(!1)},Hm=()=>{ke({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""})},Ki=()=>{let Q=[...f];if(ee.searchQuery){const me=ee.searchQuery.toLowerCase();Q=Q.filter(Se=>{var Vt,kt,xn,it,ot,rt,ai,cn,Cn;return((Vt=Se.title)==null?void 0:Vt.toLowerCase().includes(me))||((kt=Se.description)==null?void 0:kt.toLowerCase().includes(me))||((xn=Se.brand)==null?void 0:xn.toLowerCase().includes(me))||((it=Se.category)==null?void 0:it.toLowerCase().includes(me))||((ot=Se.color)==null?void 0:ot.toLowerCase().includes(me))||((rt=Se.size)==null?void 0:rt.toLowerCase().includes(me))||((ai=Se.condition)==null?void 0:ai.toLowerCase().includes(me))||((cn=Se.gender)==null?void 0:cn.toLowerCase().includes(me))||((Cn=Se.sellerName)==null?void 0:Cn.toLowerCase().includes(me))})}if(ee.category&&(Q=Q.filter(me=>me.category===ee.category)),ee.gender&&(Q=Q.filter(me=>me.gender===ee.gender)),ee.size&&(Q=Q.filter(me=>me.size===ee.size)),ee.brand&&(Q=Q.filter(me=>{var Se;return(Se=me.brand)==null?void 0:Se.toLowerCase().includes(ee.brand.toLowerCase())})),ee.color&&(Q=Q.filter(me=>{var Se;return(Se=me.color)==null?void 0:Se.toLowerCase().includes(ee.color.toLowerCase())})),ee.priceRange){const[me,Se]=ee.priceRange.split("-").map(Number);Q=Q.filter(Vt=>Se?Vt.price>=me&&Vt.price<=Se:Vt.price>=me)}switch(ee.sortBy){case"price-low":Q.sort((me,Se)=>me.price-Se.price);break;case"price-high":Q.sort((me,Se)=>Se.price-me.price);break;case"oldest":Q.sort((me,Se)=>me.createdAt.getTime()-Se.createdAt.getTime());break;case"popular":Q.sort((me,Se)=>{const Vt=(Date.now()-me.createdAt.getTime())/864e5+me.price/100,kt=(Date.now()-Se.createdAt.getTime())/(1e3*60*60*24)+Se.price/100;return Vt-kt});break;case"alphabetical":Q.sort((me,Se)=>me.title.localeCompare(Se.title));break;case"category":Q.sort((me,Se)=>{const Vt=me.category||"",kt=Se.category||"";return Vt===kt?me.title.localeCompare(Se.title):Vt.localeCompare(kt)});break;case"newest":default:Q.sort((me,Se)=>Se.createdAt.getTime()-me.createdAt.getTime());break}return Q};return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto"}),o.jsx("p",{className:"mt-4 text-white",children:"Loading Summit Gear..."})]})}):a?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!I&&!L&&!D&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"desktop-nav-header",children:o.jsx("div",{className:"desktop-nav-container",children:o.jsxs("div",{className:"desktop-nav-content",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),o.jsxs("div",{className:"desktop-nav-actions",children:[o.jsxs("div",{className:"desktop-nav-buttons",children:[o.jsxs("button",{onClick:dt,className:"desktop-button-primary",children:[o.jsx("span",{className:"hidden sm:inline",children:"List Item"}),o.jsx("span",{className:"sm:hidden",children:"List"})]}),G&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:br,className:"desktop-button-secondary relative",children:[o.jsx("span",{className:"hidden sm:inline",children:"Pending Items"}),o.jsx("span",{className:"sm:hidden",children:"Pending"}),_e.pending>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-yellow-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:_e.pending>9?"9+":_e.pending})]}),o.jsxs("button",{onClick:Gi,className:"desktop-button-secondary relative",children:[o.jsx("span",{className:"hidden sm:inline",children:"Approved Items"}),o.jsx("span",{className:"sm:hidden",children:"Approved"}),_e.approved>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:_e.approved>9?"9+":_e.approved})]})]})]}),o.jsxs("div",{className:"desktop-nav-icons",children:[!G&&o.jsxs("button",{onClick:()=>K(!0),className:"desktop-icon-button",title:"Bookmarked Items",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:u()>9?"9+":u()})]}),!G&&o.jsxs("button",{onClick:()=>X(!0),className:"desktop-icon-button",title:"Shopping Cart",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),c()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:c()>9?"9+":c()})]}),o.jsxs("div",{ref:Ye,className:"relative",children:[o.jsxs("button",{onClick:()=>et(!Ne),className:"desktop-icon-button",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Be.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:Be.length>9?"9+":Be.length})]}),Ne&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:G?"Platform Activity":"My Item Updates"}),o.jsx("p",{className:"text-xs text-gray-500",children:G?"All item activity in the last 24 hours":"Your items with recent activity"})]}),o.jsx("div",{className:"max-h-72 overflow-y-auto",children:Be.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("p",{className:"text-sm",children:G?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:Be.map(Q=>{const me=ps(Q);return o.jsx("button",{onClick:()=>Wi(Q),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:o.jsxs("div",{className:"flex items-start gap-3",children:[Q.images&&Q.images.length>0?o.jsx("img",{src:Q.images[0],alt:Q.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):o.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Q.title}),o.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",Q.price]})]}),o.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${Q.status==="pending"?"bg-yellow-100 text-yellow-800":Q.status==="approved"?"bg-blue-100 text-blue-800":Q.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Q.status==="pending"?"Pending":Q.status==="approved"?"Approved":Q.status==="live"?"Live":Q.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["by ",Q.sellerName]}),me&&o.jsxs("div",{className:`flex items-center gap-1 text-xs ${me.color} font-medium`,children:[o.jsx("span",{children:me.icon}),o.jsx("span",{children:me.message}),o.jsx("span",{className:"text-gray-400",children:me.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},Q.id)})})}),Be.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:G?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),o.jsxs("div",{ref:Ae,className:"desktop-nav-user-section",children:[o.jsxs("button",{onClick:()=>ve(!Oe),className:"desktop-nav-user-button mobile-touch-target",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[o.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),G&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),o.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 text-gray-500 transition-transform ${Oe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Oe&&o.jsx("div",{className:"mobile-backdrop",onClick:()=>ve(!1),"aria-hidden":"true"}),Oe&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 mobile-user-menu",children:[o.jsx("div",{className:"p-4 sm:p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover flex-shrink-0"}):o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.displayName}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")}),G&&o.jsx("span",{className:"inline-block mt-1 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full",children:"Admin"})]})]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),o.jsxs("button",{onClick:()=>{$(!0),U(!1),z(!1),ve(!1)},className:`mobile-user-menu-item ${I?"mobile-user-menu-item-active":"mobile-user-menu-item-default"}`,children:["📊 ",G?"Analytics Dashboard":"My User History"]}),G&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{U(!0),$(!1),z(!1),ve(!1)},className:`mobile-user-menu-item ${L?"mobile-user-menu-item-active":"mobile-user-menu-item-default"}`,children:"📦 Inventory Dashboard"}),o.jsx("button",{onClick:()=>{z(!0),$(!1),U(!1),ve(!1)},className:`mobile-user-menu-item ${D?"mobile-user-menu-item-active":"mobile-user-menu-item-default"}`,children:"🎯 Actions Dashboard"}),o.jsx("button",{onClick:()=>{ii(),ve(!1)},className:"mobile-user-menu-item mobile-user-menu-item-default",children:"🧪 Application Test & Performance"}),o.jsx("button",{onClick:()=>{ko(),ve(!1)},className:"mobile-user-menu-item mobile-user-menu-item-default",children:"📊 Test Results Dashboard"})]}),o.jsx("div",{className:"border-t border-gray-200 my-3 sm:my-2"}),o.jsxs("button",{onClick:()=>{l(),ve(!1)},className:"mobile-user-menu-item mobile-user-menu-item-default",children:["🔄 ",G?"Exit Admin Mode":"Enter Admin Mode"]}),o.jsx("button",{onClick:()=>{i(),ve(!1)},className:"mobile-user-menu-item mobile-user-menu-item-danger",children:"Sign Out"})]})]})]})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8",children:[o.jsxs("div",{ref:_t,className:"w-full lg:w-64 lg:flex-shrink-0",children:[o.jsxs("button",{onClick:()=>Ge(!je),className:"w-full lg:hidden mb-4 bg-white rounded-lg shadow-sm border p-4 flex items-center justify-between text-left",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707v4.586a1 1 0 01-1.414.924l-2-1A1 1 0 0110 17.414V13.414a1 1 0 00-.293-.707L3.293 6.293A1 1 0 013 5.586V4z"})}),o.jsx("span",{className:"font-medium text-gray-900",children:"Filters & Search"}),(ee.category||ee.gender||ee.size||ee.brand||ee.color||ee.priceRange||ee.searchQuery)&&o.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full",children:"Active"})]}),o.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${je?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-4 sm:p-6 lg:sticky lg:top-8 ${je?"block":"hidden lg:block"}`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Filters"}),o.jsx("button",{onClick:Hm,className:"text-sm text-orange-600 hover:text-orange-700",children:"Clear All"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:ee.searchQuery,onChange:Q=>cr("searchQuery",Q.target.value),placeholder:"Search items...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),ee.searchQuery&&o.jsx("button",{onClick:()=>cr("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ee.searchQuery&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Searching in titles, descriptions, brands, and more"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),o.jsxs("select",{value:ee.sortBy,onChange:Q=>cr("sortBy",Q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"newest",children:"Newest First"}),o.jsx("option",{value:"oldest",children:"Oldest First"}),o.jsx("option",{value:"price-low",children:"Price: Low to High"}),o.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),o.jsxs("select",{value:ee.category,onChange:Q=>cr("category",Q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Categories"}),o.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),o.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),o.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),o.jsx("option",{value:"Camping",children:"Camping ⛺"}),o.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),o.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),o.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),o.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),o.jsx("option",{value:"Apparel",children:"Apparel 👕"}),o.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsxs("select",{value:ee.gender,onChange:Q=>cr("gender",Q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Men",children:"Men"}),o.jsx("option",{value:"Women",children:"Women"}),o.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),o.jsxs("select",{value:ee.size,onChange:Q=>cr("size",Q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Sizes"}),o.jsx("option",{value:"XS",children:"XS"}),o.jsx("option",{value:"S",children:"S"}),o.jsx("option",{value:"M",children:"M"}),o.jsx("option",{value:"L",children:"L"}),o.jsx("option",{value:"XL",children:"XL"}),o.jsx("option",{value:"XXL",children:"XXL"}),o.jsx("option",{value:"6",children:"6"}),o.jsx("option",{value:"7",children:"7"}),o.jsx("option",{value:"8",children:"8"}),o.jsx("option",{value:"9",children:"9"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"11",children:"11"}),o.jsx("option",{value:"12",children:"12"}),o.jsx("option",{value:"13",children:"13"}),o.jsx("option",{value:"One Size",children:"One Size"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),o.jsx("input",{type:"text",value:ee.brand,onChange:Q=>cr("brand",Q.target.value),placeholder:"Search brands...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),o.jsxs("select",{value:ee.color,onChange:Q=>cr("color",Q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"All Colors"}),o.jsx("option",{value:"Black",children:"Black"}),o.jsx("option",{value:"White",children:"White"}),o.jsx("option",{value:"Gray",children:"Gray"}),o.jsx("option",{value:"Red",children:"Red"}),o.jsx("option",{value:"Blue",children:"Blue"}),o.jsx("option",{value:"Green",children:"Green"}),o.jsx("option",{value:"Yellow",children:"Yellow"}),o.jsx("option",{value:"Orange",children:"Orange"}),o.jsx("option",{value:"Purple",children:"Purple"}),o.jsx("option",{value:"Pink",children:"Pink"}),o.jsx("option",{value:"Brown",children:"Brown"}),o.jsx("option",{value:"Navy",children:"Navy"}),o.jsx("option",{value:"Burgundy",children:"Burgundy"}),o.jsx("option",{value:"Olive",children:"Olive"}),o.jsx("option",{value:"Tan",children:"Tan"}),o.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),o.jsxs("select",{value:ee.priceRange,onChange:Q=>cr("priceRange",Q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[o.jsx("option",{value:"",children:"Any Price"}),o.jsx("option",{value:"0-25",children:"Under $25"}),o.jsx("option",{value:"25-50",children:"$25 - $50"}),o.jsx("option",{value:"50-100",children:"$50 - $100"}),o.jsx("option",{value:"100-200",children:"$100 - $200"}),o.jsx("option",{value:"200-500",children:"$200 - $500"}),o.jsx("option",{value:"500",children:"$500+"})]})]})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Gear"}),o.jsx("p",{className:"text-gray-600",children:"Quality mountain equipment from fellow outdoor enthusiasts"})]}),o.jsxs("div",{className:"relative w-full sm:w-80",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:ee.searchQuery,onChange:Q=>cr("searchQuery",Q.target.value),placeholder:"Search gear...",className:"w-full pl-10 pr-10 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white shadow-sm"}),ee.searchQuery&&o.jsx("button",{onClick:()=>cr("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-6 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),o.jsx("span",{className:"font-medium",children:"Sort by:"})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:[{key:"newest",label:"Newest",desc:"Recently added",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{key:"popular",label:"Popular",desc:"Trending items",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{key:"price-low",label:"Price ↗",desc:"Low to high",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"price-high",label:"Price ↘",desc:"High to low",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{key:"alphabetical",label:"A-Z",desc:"Alphabetical",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})},{key:"category",label:"Category",desc:"By type",icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}].map(Q=>o.jsxs("button",{onClick:()=>cr("sortBy",Q.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${ee.sortBy===Q.key?"bg-orange-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,title:Q.desc,children:[Q.icon,Q.label]},Q.key))}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),o.jsxs("span",{children:[f.length," items"]})]}),Ki().length!==f.length&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),o.jsxs("span",{children:[Ki().length," filtered"]})]})]})]})})]}),oe?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):(()=>{const Q=Ki();return Q.length===0?o.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:f.length===0?"No items available yet":ee.searchQuery?`No results found for "${ee.searchQuery}"`:"No items match your filters"}),o.jsx("p",{className:"text-gray-500 mb-6",children:f.length===0?"Be the first to list your mountain gear!":ee.searchQuery?"Try different keywords or check your spelling":"Try adjusting your search criteria"}),f.length===0?o.jsx("button",{onClick:dt,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"List Your First Item"}):o.jsx("button",{onClick:Hm,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Clear Filters"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("div",{className:"text-sm text-gray-600",children:ee.searchQuery?o.jsxs("span",{children:["Found ",o.jsx("span",{className:"font-semibold",children:Q.length})," results",Q.length!==f.length&&o.jsxs("span",{children:[" of ",f.length," total items"]}),ee.searchQuery&&o.jsxs("span",{children:[' for "',o.jsx("span",{className:"font-medium text-gray-900",children:ee.searchQuery}),'"']})]}):o.jsxs("span",{children:["Showing ",Q.length," of ",f.length," items"]})}),ee.searchQuery&&o.jsxs("button",{onClick:()=>cr("searchQuery",""),className:"text-xs text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear search"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Q.map(me=>o.jsx(pJ,{item:me,isAdmin:G,onClick:Wi},me.id))})]})})()]})]})})]}),(I||L||D)&&o.jsx("div",{className:"fixed inset-0 bg-white z-[60] overflow-auto",children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"desktop-nav-header",children:o.jsx("div",{className:"desktop-nav-container",children:o.jsxs("div",{className:"desktop-nav-content",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),o.jsxs("div",{className:"desktop-nav-actions",children:[o.jsx("div",{className:"desktop-nav-buttons",children:o.jsxs("button",{onClick:()=>{$(!1),U(!1),z(!1)},className:"bg-gray-500 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm sm:text-base flex-shrink-0",children:[o.jsx("span",{className:"hidden sm:inline",children:"Back to Store"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]})}),o.jsxs("div",{className:"desktop-nav-icons",children:[!G&&o.jsxs("button",{onClick:()=>K(!0),className:"desktop-icon-button",title:"Bookmarked Items",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:u()>9?"9+":u()})]}),!G&&o.jsxs("button",{onClick:()=>X(!0),className:"desktop-icon-button",title:"Shopping Cart",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),c()>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:c()>9?"9+":c()})]}),o.jsxs("div",{ref:Ye,className:"relative",children:[o.jsxs("button",{onClick:()=>et(!Ne),className:"desktop-icon-button",children:[o.jsx("svg",{className:"w-5 h-5 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Be.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full desktop-badge flex items-center justify-center",children:Be.length>9?"9+":Be.length})]}),Ne&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[80vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:G?"Platform Activity":"My Item Updates"}),o.jsx("p",{className:"text-xs text-gray-500",children:G?"All item activity in the last 24 hours":"Your items with recent activity"})]}),o.jsx("div",{className:"max-h-72 overflow-y-auto",children:Be.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),o.jsx("p",{className:"text-sm",children:G?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:Be.map(Q=>{const me=ps(Q);return o.jsx("button",{onClick:()=>Wi(Q),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:o.jsxs("div",{className:"flex items-start gap-3",children:[Q.images&&Q.images.length>0?o.jsx("img",{src:Q.images[0],alt:Q.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):o.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Q.title}),o.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",Q.price]})]}),o.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${Q.status==="pending"?"bg-yellow-100 text-yellow-800":Q.status==="approved"?"bg-blue-100 text-blue-800":Q.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:Q.status==="pending"?"Pending":Q.status==="approved"?"Approved":Q.status==="live"?"Live":Q.status})]}),o.jsxs("div",{className:"flex items-center justify-between mt-1",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["by ",Q.sellerName]}),me&&o.jsxs("div",{className:`flex items-center gap-1 text-xs ${me.color} font-medium`,children:[o.jsx("span",{children:me.icon}),o.jsx("span",{children:me.message}),o.jsx("span",{className:"text-gray-400",children:me.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},Q.id)})})}),Be.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:G?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),o.jsxs("div",{ref:Ae,className:"relative flex items-center gap-2 sm:gap-3 pl-2 sm:pl-4 border-l border-gray-200 flex-shrink-0",children:[o.jsxs("button",{onClick:()=>ve(!Oe),className:`flex items-center gap-2 sm:gap-3 hover:bg-gray-50 active:bg-gray-100 rounded-lg p-2 sm:p-2 transition-colors touch-manipulation
                                                    /* Ensure minimum touch target size on mobile */
                                                    min-w-[44px] min-h-[44px] sm:min-w-0 sm:min-h-0`,children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[o.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),G&&o.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),o.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 text-gray-500 transition-transform ${Oe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Oe&&o.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-25 sm:hidden",onClick:()=>ve(!1),"aria-hidden":"true"}),Oe&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[80vh] overflow-y-auto max-w-[calc(100vw-2rem)] overflow-x-hidden shadow-xl sm:shadow-lg transform transition-all duration-200 ease-out opacity-100 scale-100 translate-y-0",children:[o.jsx("div",{className:"p-4 sm:p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?o.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover flex-shrink-0"}):o.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-orange-500 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-4 sm:h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:t==null?void 0:t.displayName}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")}),G&&o.jsx("span",{className:"inline-block mt-1 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full",children:"Admin"})]})]})}),o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),o.jsxs("button",{onClick:()=>{$(!0),U(!1),z(!1),ve(!1)},className:`w-full text-left px-3 py-3 sm:py-2 text-sm rounded-lg transition-colors touch-manipulation ${I?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50 active:bg-gray-100"}`,children:["📊 ",G?"Analytics Dashboard":"My User History"]}),G&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{U(!0),$(!1),z(!1),ve(!1)},className:`w-full text-left px-3 py-3 sm:py-2 text-sm rounded-lg transition-colors touch-manipulation ${L?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50 active:bg-gray-100"}`,children:"📦 Inventory Dashboard"}),o.jsx("button",{onClick:()=>{z(!0),$(!1),U(!1),ve(!1)},className:`w-full text-left px-3 py-3 sm:py-2 text-sm rounded-lg transition-colors touch-manipulation ${D?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50 active:bg-gray-100"}`,children:"🎯 Actions Dashboard"}),o.jsx("button",{onClick:()=>{ii(),ve(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:"🧪 Application Test & Performance"}),o.jsx("button",{onClick:()=>{ko(),ve(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:"📊 Test Results Dashboard"})]}),o.jsx("div",{className:"border-t border-gray-200 my-3 sm:my-2"}),o.jsxs("button",{onClick:()=>{l(),ve(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-gray-700 hover:bg-gray-50 active:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:["🔄 ",G?"Exit Admin Mode":"Enter Admin Mode"]}),o.jsx("button",{onClick:()=>{i(),ve(!1)},className:"w-full text-left px-3 py-3 sm:py-2 text-sm text-red-600 hover:bg-red-50 active:bg-red-100 rounded-lg transition-colors touch-manipulation",children:"Sign Out"})]})]})]})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:L?o.jsx(tIe,{user:t,isAdmin:G}):D?o.jsx(oIe,{user:t,isAdmin:G}):G?o.jsx(Jke,{user:t,isAdmin:G}):o.jsx(eIe,{user:t})})]})}),o.jsx(gJ,{isOpen:p,onClose:ln,user:t}),G&&o.jsxs(o.Fragment,{children:[o.jsx(xae,{isOpen:g,onClose:ri,user:t}),o.jsx(wae,{isOpen:b,onClose:ja,user:t}),o.jsx(_ae,{isOpen:j,onClose:Um}),o.jsx(lIe,{isOpen:O,onClose:Vm})]}),o.jsx(MC,{isOpen:le,onClose:()=>fe(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async Q=>{await r(Q)}}),o.jsx(dA,{isOpen:q,onClose:zm,item:Yn,onItemUpdated:()=>{Xe(),Ut(),Ie()}}),o.jsx(Sae,{isOpen:V,onClose:()=>X(!1),onCheckout:Bn}),o.jsx(Aae,{isOpen:Y,onClose:()=>K(!1),items:f,onItemClick:Wi}),o.jsx(dse,{isOpen:F,onClose:Fm,onSuccess:Io}),H&&o.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3",children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Order Successful!"}),o.jsx("p",{className:"text-sm opacity-90",children:"Thank you for your purchase. You'll receive a confirmation email soon."})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[o.jsx("nav",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Summit Gear Exchange"}),o.jsx("p",{className:"text-xs text-gray-300",children:"Mountain Consignment Store"})]})]}),o.jsxs("button",{onClick:()=>fe(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors flex items-center gap-2",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign In"]})]})})}),o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-blue-900/70 z-10"}),o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-blue-900"}),o.jsx("svg",{className:"absolute bottom-0 w-full h-64 text-slate-700",fill:"currentColor",viewBox:"0 0 1200 300",children:o.jsx("path",{d:"M0,300 L0,200 L100,150 L200,100 L300,120 L400,80 L500,90 L600,50 L700,70 L800,40 L900,60 L1000,30 L1100,50 L1200,20 L1200,300 Z"})})]}),o.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Premium Mountain",o.jsx("span",{className:"block text-orange-400",children:"Gear Exchange"})]}),o.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Buy and sell quality outdoor equipment. From climbing gear to skiing essentials, find everything you need for your next mountain adventure."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>fe(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Enter Store"]}),o.jsx("button",{onClick:()=>fe(!0),className:"border-2 border-orange-400 text-orange-400 hover:bg-orange-400 hover:text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Selling"})]})]})})]}),o.jsx("div",{className:"py-24 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Choose Summit Gear Exchange?"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"The trusted marketplace for mountain enthusiasts"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quality Guaranteed"}),o.jsx("p",{className:"text-gray-400",children:"Every item is inspected by our mountain gear experts before listing"})]}),o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Fair Pricing"}),o.jsx("p",{className:"text-gray-400",children:"Competitive prices for both buyers and sellers in the outdoor community"})]}),o.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Community Focused"}),o.jsx("p",{className:"text-gray-400",children:"Built by climbers, for climbers. Join our community of mountain enthusiasts"})]})]})]})}),o.jsx("div",{className:"py-24 bg-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Popular Categories"}),o.jsx("p",{className:"text-gray-400 text-lg",children:"Find gear for every mountain adventure"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{name:"Climbing",icon:"🧗",color:"from-red-500 to-orange-500"},{name:"Skiing",icon:"⛷️",color:"from-blue-500 to-cyan-500"},{name:"Hiking",icon:"🥾",color:"from-green-500 to-emerald-500"},{name:"Camping",icon:"⛺",color:"from-purple-500 to-pink-500"},{name:"Mountaineering",icon:"🏔️",color:"from-gray-500 to-slate-500"},{name:"Snowboarding",icon:"🏂",color:"from-indigo-500 to-blue-500"},{name:"Cycling",icon:"🚵",color:"from-yellow-500 to-orange-500"},{name:"Water Sports",icon:"🚣",color:"from-teal-500 to-cyan-500"}].map((Q,me)=>o.jsxs("div",{className:`bg-gradient-to-br ${Q.color} rounded-xl p-6 text-center cursor-pointer hover:scale-105 transition-transform`,children:[o.jsx("div",{className:"text-4xl mb-3",children:Q.icon}),o.jsx("h3",{className:"text-white font-semibold",children:Q.name})]},me))}),o.jsx("div",{className:"text-center mt-12",children:o.jsx("button",{onClick:()=>fe(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Sign In to Browse All Items"})})]})}),o.jsx("div",{className:"py-24 bg-gradient-to-r from-orange-600 to-orange-500",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Gear Up?"}),o.jsx("p",{className:"text-xl text-orange-100 mb-8",children:"Join thousands of mountain enthusiasts buying and selling quality gear"}),o.jsxs("button",{onClick:()=>fe(!0),className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2 mx-auto",children:[o.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Get Started Now"]})]})}),o.jsx(MC,{isOpen:le,onClose:()=>fe(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async Q=>{await r(Q)}})]})};function uIe(){return o.jsx(mJ,{children:o.jsx(kF,{children:o.jsx("div",{className:"min-h-screen bg-gray-100",children:o.jsx(oF,{children:o.jsx(XD,{path:"/",element:o.jsx(cIe,{})})})})})})}sz.createRoot(document.getElementById("root")).render(o.jsx(C.StrictMode,{children:o.jsx(uIe,{})}));
