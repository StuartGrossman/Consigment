(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TR={exports:{}},iy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y9=Symbol.for("react.transitional.element"),Q9=Symbol.for("react.fragment");function OR(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:Y9,type:t,key:r,ref:e!==void 0?e:null,props:n}}iy.Fragment=Q9;iy.jsx=OR;iy.jsxs=OR;TR.exports=iy;var c=TR.exports,jR={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA=Symbol.for("react.transitional.element"),Z9=Symbol.for("react.portal"),J9=Symbol.for("react.fragment"),eU=Symbol.for("react.strict_mode"),tU=Symbol.for("react.profiler"),nU=Symbol.for("react.consumer"),rU=Symbol.for("react.context"),iU=Symbol.for("react.forward_ref"),aU=Symbol.for("react.suspense"),oU=Symbol.for("react.memo"),NR=Symbol.for("react.lazy"),$2=Symbol.iterator;function sU(t){return t===null||typeof t!="object"?null:(t=$2&&t[$2]||t["@@iterator"],typeof t=="function"?t:null)}var CR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IR=Object.assign,PR={};function Eu(t,e,n){this.props=t,this.context=e,this.refs=PR,this.updater=n||CR}Eu.prototype.isReactComponent={};Eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kR(){}kR.prototype=Eu.prototype;function nA(t,e,n){this.props=t,this.context=e,this.refs=PR,this.updater=n||CR}var rA=nA.prototype=new kR;rA.constructor=nA;IR(rA,Eu.prototype);rA.isPureReactComponent=!0;var L2=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},RR=Object.prototype.hasOwnProperty;function iA(t,e,n,r,i,a){return n=a.ref,{$$typeof:tA,type:t,key:e,ref:n!==void 0?n:null,props:a}}function lU(t,e){return iA(t.type,e,void 0,void 0,void 0,t.props)}function aA(t){return typeof t=="object"&&t!==null&&t.$$typeof===tA}function cU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var B2=/\/+/g;function pb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cU(""+t.key):e.toString(36)}function U2(){}function uU(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(U2,U2):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Vl(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tA:case Z9:o=!0;break;case NR:return o=t._init,Vl(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+pb(t,0):r,L2(i)?(n="",o!=null&&(n=o.replace(B2,"$&/")+"/"),Vl(i,e,n,"",function(u){return u})):i!=null&&(aA(i)&&(i=lU(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(B2,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(L2(t))for(var l=0;l<t.length;l++)r=t[l],a=s+pb(r,l),o+=Vl(r,e,n,a,i);else if(l=sU(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+pb(r,l++),o+=Vl(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Vl(uU(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Up(t,e,n){if(t==null)return t;var r=[],i=0;return Vl(t,r,"","",function(a){return e.call(n,a,i++)}),r}function fU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var V2=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dU(){}Ie.Children={map:Up,forEach:function(t,e,n){Up(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Up(t,function(){e++}),e},toArray:function(t){return Up(t,function(e){return e})||[]},only:function(t){if(!aA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Eu;Ie.Fragment=J9;Ie.Profiler=tU;Ie.PureComponent=nA;Ie.StrictMode=eU;Ie.Suspense=aU;Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;Ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _t.H.useMemoCache(t)}};Ie.cache=function(t){return function(){return t.apply(null,arguments)}};Ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=IR({},t.props),i=t.key,a=void 0;if(e!=null)for(o in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!RR.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}return iA(t.type,i,void 0,void 0,a,r)};Ie.createContext=function(t){return t={$$typeof:rU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:nU,_context:t},t};Ie.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)RR.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return iA(t,a,void 0,void 0,null,i)};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:iU,render:t}};Ie.isValidElement=aA;Ie.lazy=function(t){return{$$typeof:NR,_payload:{_status:-1,_result:t},_init:fU}};Ie.memo=function(t,e){return{$$typeof:oU,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=_t.T,n={};_t.T=n;try{var r=t(),i=_t.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(dU,V2)}catch(a){V2(a)}finally{_t.T=e}};Ie.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()};Ie.use=function(t){return _t.H.use(t)};Ie.useActionState=function(t,e,n){return _t.H.useActionState(t,e,n)};Ie.useCallback=function(t,e){return _t.H.useCallback(t,e)};Ie.useContext=function(t){return _t.H.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t,e){return _t.H.useDeferredValue(t,e)};Ie.useEffect=function(t,e,n){var r=_t.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Ie.useId=function(){return _t.H.useId()};Ie.useImperativeHandle=function(t,e,n){return _t.H.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return _t.H.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return _t.H.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return _t.H.useMemo(t,e)};Ie.useOptimistic=function(t,e){return _t.H.useOptimistic(t,e)};Ie.useReducer=function(t,e,n){return _t.H.useReducer(t,e,n)};Ie.useRef=function(t){return _t.H.useRef(t)};Ie.useState=function(t){return _t.H.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return _t.H.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return _t.H.useTransition()};Ie.version="19.1.0";jR.exports=Ie;var R=jR.exports;const $=Qe(R);var MR={exports:{}},ay={},DR={exports:{}},$R={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var V=D.length;D.push(B);e:for(;0<V;){var H=V-1>>>1,te=D[H];if(0<i(te,B))D[H]=B,D[V]=te,V=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],V=D.pop();if(V!==B){D[0]=V;e:for(var H=0,te=D.length,ne=te>>>1;H<ne;){var q=2*(H+1)-1,L=D[q],W=q+1,ee=D[W];if(0>i(L,V))W<te&&0>i(ee,L)?(D[H]=ee,D[W]=V,H=W):(D[H]=L,D[q]=V,H=q);else if(W<te&&0>i(ee,V))D[H]=ee,D[W]=V,H=W;else break e}}return B}function i(D,B){var V=D.sortIndex-B.sortIndex;return V!==0?V:D.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,d=null,h=3,m=!1,v=!1,x=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function E(D){if(x=!1,O(D),!v)if(n(l)!==null)v=!0,N||(N=!0,P());else{var B=n(u);B!==null&&U(E,B.startTime-D)}}var N=!1,S=-1,w=5,j=-1;function I(){return _?!0:!(t.unstable_now()-j<w)}function T(){if(_=!1,N){var D=t.unstable_now();j=D;var B=!0;try{e:{v=!1,x&&(x=!1,g(S),S=-1),m=!0;var V=h;try{t:{for(O(D),d=n(l);d!==null&&!(d.expirationTime>D&&I());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var te=H(d.expirationTime<=D);if(D=t.unstable_now(),typeof te=="function"){d.callback=te,O(D),B=!0;break t}d===n(l)&&r(l),O(D)}else r(l);d=n(l)}if(d!==null)B=!0;else{var ne=n(u);ne!==null&&U(E,ne.startTime-D),B=!1}}break e}finally{d=null,h=V,m=!1}B=void 0}}finally{B?P():N=!1}}}var P;if(typeof b=="function")P=function(){b(T)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,z=k.port2;k.port1.onmessage=T,P=function(){z.postMessage(null)}}else P=function(){y(T,0)};function U(D,B){S=y(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return D()}finally{h=V}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=h;h=D;try{return B()}finally{h=V}},t.unstable_scheduleCallback=function(D,B,V){var H=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?H+V:H):V=H,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=V+te,D={id:f++,callback:B,priorityLevel:D,startTime:V,expirationTime:te,sortIndex:-1},V>H?(D.sortIndex=V,e(u,D),n(l)===null&&D===n(u)&&(x?(g(S),S=-1):x=!0,U(E,V-H))):(D.sortIndex=te,e(l,D),v||m||(v=!0,N||(N=!0,P()))),D},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(D){var B=h;return function(){var V=h;h=B;try{return D.apply(this,arguments)}finally{h=V}}}})($R);DR.exports=$R;var hU=DR.exports,LR={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pU=R;function BR(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qa(){}var qn={d:{f:Qa,r:function(){throw Error(BR(522))},D:Qa,C:Qa,L:Qa,m:Qa,X:Qa,S:Qa,M:Qa},p:0,findDOMNode:null},mU=Symbol.for("react.portal");function gU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mU,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Zf=pU.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function oy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(BR(299));return gU(t,e,null,n)};Yn.flushSync=function(t){var e=Zf.T,n=qn.p;try{if(Zf.T=null,qn.p=2,t)return t()}finally{Zf.T=e,qn.p=n,qn.d.f()}};Yn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Yn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Yn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=oy(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&qn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Yn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=oy(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Yn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=oy(n,e.crossOrigin);qn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Yn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=oy(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Yn.requestFormReset=function(t){qn.d.r(t)};Yn.unstable_batchedUpdates=function(t,e){return t(e)};Yn.useFormState=function(t,e,n){return Zf.H.useFormState(t,e,n)};Yn.useFormStatus=function(){return Zf.H.useHostTransitionStatus()};Yn.version="19.1.0";function UR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UR)}catch(t){console.error(t)}}UR(),LR.exports=Yn;var vU=LR.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=hU,VR=R,yU=vU;function J(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z2(t){if(Rh(t)!==t)throw Error(J(188))}function bU(t){var e=t.alternate;if(!e){if(e=Rh(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return z2(i),t;if(a===r)return z2(i),e;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function HR(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=HR(t),e!==null)return e;t=t.sibling}return null}var yt=Object.assign,xU=Symbol.for("react.element"),Vp=Symbol.for("react.transitional.element"),zf=Symbol.for("react.portal"),Xl=Symbol.for("react.fragment"),qR=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),_U=Symbol.for("react.provider"),GR=Symbol.for("react.consumer"),da=Symbol.for("react.context"),oA=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),Yx=Symbol.for("react.suspense_list"),sA=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),Qx=Symbol.for("react.activity"),wU=Symbol.for("react.memo_cache_sentinel"),F2=Symbol.iterator;function vf(t){return t===null||typeof t!="object"?null:(t=F2&&t[F2]||t["@@iterator"],typeof t=="function"?t:null)}var AU=Symbol.for("react.client.reference");function Zx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===AU?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xl:return"Fragment";case Kx:return"Profiler";case qR:return"StrictMode";case Xx:return"Suspense";case Yx:return"SuspenseList";case Qx:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case zf:return"Portal";case da:return(t.displayName||"Context")+".Provider";case GR:return(t._context.displayName||"Context")+".Consumer";case oA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sA:return e=t.displayName||null,e!==null?e:Zx(t.type)||"Memo";case no:e=t._payload,t=t._init;try{return Zx(t(e))}catch{}}return null}var Ff=Array.isArray,Ae=VR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe=yU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ks={pending:!1,data:null,method:null,action:null},Jx=[],Yl=-1;function Yi(t){return{current:t}}function gn(t){0>Yl||(t.current=Jx[Yl],Jx[Yl]=null,Yl--)}function wt(t,e){Yl++,Jx[Yl]=t.current,t.current=e}var Di=Yi(null),jd=Yi(null),wo=Yi(null),ig=Yi(null);function ag(t,e){switch(wt(wo,e),wt(jd,t),wt(Di,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?KO(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=KO(e),t=c$(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}gn(Di),wt(Di,t)}function Nc(){gn(Di),gn(jd),gn(wo)}function e1(t){t.memoizedState!==null&&wt(ig,t);var e=Di.current,n=c$(e,t.type);e!==n&&(wt(jd,t),wt(Di,n))}function og(t){jd.current===t&&(gn(Di),gn(jd)),ig.current===t&&(gn(ig),Ld._currentValue=ks)}var t1=Object.prototype.hasOwnProperty,lA=on.unstable_scheduleCallback,mb=on.unstable_cancelCallback,EU=on.unstable_shouldYield,SU=on.unstable_requestPaint,$i=on.unstable_now,TU=on.unstable_getCurrentPriorityLevel,WR=on.unstable_ImmediatePriority,KR=on.unstable_UserBlockingPriority,sg=on.unstable_NormalPriority,OU=on.unstable_LowPriority,XR=on.unstable_IdlePriority,jU=on.log,NU=on.unstable_setDisableYieldValue,Mh=null,Or=null;function mo(t){if(typeof jU=="function"&&NU(t),Or&&typeof Or.setStrictMode=="function")try{Or.setStrictMode(Mh,t)}catch{}}var jr=Math.clz32?Math.clz32:PU,CU=Math.log,IU=Math.LN2;function PU(t){return t>>>=0,t===0?32:31-(CU(t)/IU|0)|0}var zp=256,Fp=4194304;function vs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sy(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=vs(r):(o&=s,o!==0?i=vs(o):n||(n=s&~t,n!==0&&(i=vs(n))))):(s=r&~a,s!==0?i=vs(s):o!==0?i=vs(o):n||(n=r&~t,n!==0&&(i=vs(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Dh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function kU(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YR(){var t=zp;return zp<<=1,!(zp&4194048)&&(zp=256),t}function QR(){var t=Fp;return Fp<<=1,!(Fp&62914560)&&(Fp=4194304),t}function gb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $h(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function RU(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var f=31-jr(n),d=1<<f;s[f]=0,l[f]=-1;var h=u[f];if(h!==null)for(u[f]=null,f=0;f<h.length;f++){var m=h[f];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&ZR(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function ZR(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-jr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function JR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function cA(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function uA(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function eM(){var t=Xe.p;return t!==0?t:(t=window.event,t===void 0?32:b$(t.type))}function MU(t,e){var n=Xe.p;try{return Xe.p=t,e()}finally{Xe.p=n}}var Ko=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ko,cr="__reactProps$"+Ko,Su="__reactContainer$"+Ko,n1="__reactEvents$"+Ko,DU="__reactListeners$"+Ko,$U="__reactHandles$"+Ko,H2="__reactResources$"+Ko,Lh="__reactMarker$"+Ko;function fA(t){delete t[$n],delete t[cr],delete t[n1],delete t[DU],delete t[$U]}function Ql(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Su]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=QO(t);t!==null;){if(n=t[$n])return n;t=QO(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){if(t=t[$n]||t[Su]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Hf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(J(33))}function hc(t){var e=t[H2];return e||(e=t[H2]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function hn(t){t[Lh]=!0}var tM=new Set,nM={};function cl(t,e){Cc(t,e),Cc(t+"Capture",e)}function Cc(t,e){for(nM[t]=e,t=0;t<e.length;t++)tM.add(e[t])}var LU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),q2={},G2={};function BU(t){return t1.call(G2,t)?!0:t1.call(q2,t)?!1:LU.test(t)?G2[t]=!0:(q2[t]=!0,!1)}function Im(t,e,n){if(BU(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Hp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function aa(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var vb,W2;function zl(t){if(vb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vb=e&&e[1]||"",W2=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vb+t+W2}var yb=!1;function bb(t,e){if(!t||yb)return"";yb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(t,[],d)}else{try{d.call()}catch(m){h=m}t.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var f=`
`+l[r].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=r&&0<=i);break}}}finally{yb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?zl(n):""}function UU(t){switch(t.tag){case 26:case 27:case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 15:return bb(t.type,!1);case 11:return bb(t.type.render,!1);case 1:return bb(t.type,!0);case 31:return zl("Activity");default:return""}}function K2(t){try{var e="";do e+=UU(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Lr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VU(t){var e=rM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lg(t){t._valueTracker||(t._valueTracker=VU(t))}function iM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zU=/[\n"\\]/g;function zr(t){return t.replace(zU,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function r1(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Lr(e)):t.value!==""+Lr(e)&&(t.value=""+Lr(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?i1(t,o,Lr(e)):n!=null?i1(t,o,Lr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+Lr(s):t.removeAttribute("name")}function aM(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Lr(n):"",e=e!=null?""+Lr(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function i1(t,e,n){e==="number"&&cg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function pc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oM(t,e,n){if(e!=null&&(e=""+Lr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Lr(n):""}function sM(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(J(92));if(Ff(r)){if(1<r.length)throw Error(J(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Lr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var FU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function X2(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||FU.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function lM(t,e,n){if(e!=null&&typeof e!="object")throw Error(J(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&X2(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&X2(t,a,e[a])}function dA(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pm(t){return qU.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var a1=null;function hA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zl=null,mc=null;function Y2(t){var e=Tu(t);if(e&&(t=e.stateNode)){var n=t[cr]||null;e:switch(t=e.stateNode,e.type){case"input":if(r1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[cr]||null;if(!i)throw Error(J(90));r1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&iM(r)}break e;case"textarea":oM(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&pc(t,!!n.multiple,e,!1)}}}var xb=!1;function cM(t,e,n){if(xb)return t(e,n);xb=!0;try{var r=t(e);return r}finally{if(xb=!1,(Zl!==null||mc!==null)&&(vy(),Zl&&(e=Zl,t=mc,mc=Zl=null,Y2(e),t)))for(e=0;e<t.length;e++)Y2(t[e])}}function Nd(t,e){var n=t.stateNode;if(n===null)return null;var r=n[cr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=!1;if(Na)try{var yf={};Object.defineProperty(yf,"passive",{get:function(){o1=!0}}),window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{o1=!1}var go=null,pA=null,km=null;function uM(){if(km)return km;var t,e=pA,n=e.length,r,i="value"in go?go.value:go.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return km=i.slice(t,1<r?1-r:void 0)}function Rm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qp(){return!0}function Q2(){return!1}function ur(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qp:Q2,this.isPropagationStopped=Q2,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qp)},persist:function(){},isPersistent:qp}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ly=ur(ul),Bh=yt({},ul,{view:0,detail:0}),GU=ur(Bh),_b,wb,bf,cy=yt({},Bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bf&&(bf&&t.type==="mousemove"?(_b=t.screenX-bf.screenX,wb=t.screenY-bf.screenY):wb=_b=0,bf=t),_b)},movementY:function(t){return"movementY"in t?t.movementY:wb}}),Z2=ur(cy),WU=yt({},cy,{dataTransfer:0}),KU=ur(WU),XU=yt({},Bh,{relatedTarget:0}),Ab=ur(XU),YU=yt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),QU=ur(YU),ZU=yt({},ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JU=ur(ZU),eV=yt({},ul,{data:0}),J2=ur(eV),tV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rV[t])?!!e[t]:!1}function mA(){return iV}var aV=yt({},Bh,{key:function(t){if(t.key){var e=tV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mA,charCode:function(t){return t.type==="keypress"?Rm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oV=ur(aV),sV=yt({},cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eO=ur(sV),lV=yt({},Bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mA}),cV=ur(lV),uV=yt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),fV=ur(uV),dV=yt({},cy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hV=ur(dV),pV=yt({},ul,{newState:0,oldState:0}),mV=ur(pV),gV=[9,13,27,32],gA=Na&&"CompositionEvent"in window,Jf=null;Na&&"documentMode"in document&&(Jf=document.documentMode);var vV=Na&&"TextEvent"in window&&!Jf,fM=Na&&(!gA||Jf&&8<Jf&&11>=Jf),tO=" ",nO=!1;function dM(t,e){switch(t){case"keyup":return gV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jl=!1;function yV(t,e){switch(t){case"compositionend":return hM(e);case"keypress":return e.which!==32?null:(nO=!0,tO);case"textInput":return t=e.data,t===tO&&nO?null:t;default:return null}}function bV(t,e){if(Jl)return t==="compositionend"||!gA&&dM(t,e)?(t=uM(),km=pA=go=null,Jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fM&&e.locale!=="ko"?null:e.data;default:return null}}var xV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xV[t.type]:e==="textarea"}function pM(t,e,n,r){Zl?mc?mc.push(r):mc=[r]:Zl=r,e=Og(e,"onChange"),0<e.length&&(n=new ly("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ed=null,Cd=null;function _V(t){o$(t,0)}function uy(t){var e=Hf(t);if(iM(e))return t}function iO(t,e){if(t==="change")return e}var mM=!1;if(Na){var Eb;if(Na){var Sb="oninput"in document;if(!Sb){var aO=document.createElement("div");aO.setAttribute("oninput","return;"),Sb=typeof aO.oninput=="function"}Eb=Sb}else Eb=!1;mM=Eb&&(!document.documentMode||9<document.documentMode)}function oO(){ed&&(ed.detachEvent("onpropertychange",gM),Cd=ed=null)}function gM(t){if(t.propertyName==="value"&&uy(Cd)){var e=[];pM(e,Cd,t,hA(t)),cM(_V,e)}}function wV(t,e,n){t==="focusin"?(oO(),ed=e,Cd=n,ed.attachEvent("onpropertychange",gM)):t==="focusout"&&oO()}function AV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uy(Cd)}function EV(t,e){if(t==="click")return uy(e)}function SV(t,e){if(t==="input"||t==="change")return uy(e)}function TV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rr=typeof Object.is=="function"?Object.is:TV;function Id(t,e){if(Rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t1.call(e,i)||!Rr(t[i],e[i]))return!1}return!0}function sO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lO(t,e){var n=sO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sO(n)}}function vM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yM(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=cg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cg(t.document)}return e}function vA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var OV=Na&&"documentMode"in document&&11>=document.documentMode,ec=null,s1=null,td=null,l1=!1;function cO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l1||ec==null||ec!==cg(r)||(r=ec,"selectionStart"in r&&vA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),td&&Id(td,r)||(td=r,r=Og(s1,"onSelect"),0<r.length&&(e=new ly("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ec)))}function hs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var tc={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Tb={},bM={};Na&&(bM=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function fl(t){if(Tb[t])return Tb[t];if(!tc[t])return t;var e=tc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bM)return Tb[t]=e[n];return t}var xM=fl("animationend"),_M=fl("animationiteration"),wM=fl("animationstart"),jV=fl("transitionrun"),NV=fl("transitionstart"),CV=fl("transitioncancel"),AM=fl("transitionend"),EM=new Map,c1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");c1.push("scrollEnd");function xi(t,e){EM.set(t,e),cl(e,[t])}var uO=new WeakMap;function Fr(t,e){if(typeof t=="object"&&t!==null){var n=uO.get(t);return n!==void 0?n:(e={value:t,source:e,stack:K2(e)},uO.set(t,e),e)}return{value:t,source:e,stack:K2(e)}}var $r=[],nc=0,yA=0;function fy(){for(var t=nc,e=yA=nc=0;e<t;){var n=$r[e];$r[e++]=null;var r=$r[e];$r[e++]=null;var i=$r[e];$r[e++]=null;var a=$r[e];if($r[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&SM(n,i,a)}}function dy(t,e,n,r){$r[nc++]=t,$r[nc++]=e,$r[nc++]=n,$r[nc++]=r,yA|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function bA(t,e,n,r){return dy(t,e,n,r),ug(t)}function Ou(t,e){return dy(t,null,null,e),ug(t)}function SM(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-jr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function ug(t){if(50<fd)throw fd=0,C1=null,Error(J(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var rc={};function IV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new IV(t,e,n,r)}function xA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wa(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function TM(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Mm(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")xA(t)&&(o=1);else if(typeof t=="string")o=k7(t,n,Di.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Qx:return t=wr(31,n,e,i),t.elementType=Qx,t.lanes=a,t;case Xl:return Rs(n.children,i,a,e);case qR:o=8,i|=24;break;case Kx:return t=wr(12,n,e,i|2),t.elementType=Kx,t.lanes=a,t;case Xx:return t=wr(13,n,e,i),t.elementType=Xx,t.lanes=a,t;case Yx:return t=wr(19,n,e,i),t.elementType=Yx,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _U:case da:o=10;break e;case GR:o=9;break e;case oA:o=11;break e;case sA:o=14;break e;case no:o=16,r=null;break e}o=29,n=Error(J(130,t===null?"null":typeof t,"")),r=null}return e=wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Rs(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function Ob(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function jb(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ic=[],ac=0,fg=null,dg=0,Br=[],Ur=0,Ms=null,ha=1,pa="";function ys(t,e){ic[ac++]=dg,ic[ac++]=fg,fg=t,dg=e}function OM(t,e,n){Br[Ur++]=ha,Br[Ur++]=pa,Br[Ur++]=Ms,Ms=t;var r=ha;t=pa;var i=32-jr(r)-1;r&=~(1<<i),n+=1;var a=32-jr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ha=1<<32-jr(e)+i|n<<i|r,pa=a+t}else ha=1<<a|n<<i|r,pa=t}function _A(t){t.return!==null&&(ys(t,1),OM(t,1,0))}function wA(t){for(;t===fg;)fg=ic[--ac],ic[ac]=null,dg=ic[--ac],ic[ac]=null;for(;t===Ms;)Ms=Br[--Ur],Br[Ur]=null,pa=Br[--Ur],Br[Ur]=null,ha=Br[--Ur],Br[Ur]=null}var Hn=null,Pt=null,Ke=!1,Ds=null,Ni=!1,u1=Error(J(519));function Gs(t){var e=Error(J(418,""));throw Pd(Fr(e,t)),u1}function fO(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[$n]=t,e[cr]=r,n){case"dialog":$e("cancel",e),$e("close",e);break;case"iframe":case"object":case"embed":$e("load",e);break;case"video":case"audio":for(n=0;n<Md.length;n++)$e(Md[n],e);break;case"source":$e("error",e);break;case"img":case"image":case"link":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"input":$e("invalid",e),aM(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),lg(e);break;case"select":$e("invalid",e);break;case"textarea":$e("invalid",e),sM(e,r.value,r.defaultValue,r.children),lg(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||l$(e.textContent,n)?(r.popover!=null&&($e("beforetoggle",e),$e("toggle",e)),r.onScroll!=null&&$e("scroll",e),r.onScrollEnd!=null&&$e("scrollend",e),r.onClick!=null&&(e.onclick=xy),e=!0):e=!1,e||Gs(t)}function dO(t){for(Hn=t.return;Hn;)switch(Hn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:Hn=Hn.return}}function xf(t){if(t!==Hn)return!1;if(!Ke)return dO(t),Ke=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||D1(t.type,t.memoizedProps)),n=!n),n&&Pt&&Gs(t),dO(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Pt=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Pt=null}}else e===27?(e=Pt,Xo(t.type)?(t=B1,B1=null,Pt=t):Pt=e):Pt=Hn?fi(t.stateNode.nextSibling):null;return!0}function Uh(){Pt=Hn=null,Ke=!1}function hO(){var t=Ds;return t!==null&&(tr===null?tr=t:tr.push.apply(tr,t),Ds=null),t}function Pd(t){Ds===null?Ds=[t]:Ds.push(t)}var f1=Yi(null),dl=null,ma=null;function ao(t,e,n){wt(f1,e._currentValue),e._currentValue=n}function Aa(t){t._currentValue=f1.current,gn(f1)}function d1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function h1(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),d1(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),d1(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Vh(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(J(387));if(o=o.memoizedProps,o!==null){var s=i.type;Rr(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===ig.current){if(o=i.alternate,o===null)throw Error(J(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ld):t=[Ld])}i=i.return}t!==null&&h1(e,t,n,r),e.flags|=262144}function hg(t){for(t=t.firstContext;t!==null;){if(!Rr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){dl=t,ma=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return jM(dl,t)}function Gp(t,e){return dl===null&&Ws(t),jM(t,e)}function jM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ma===null){if(t===null)throw Error(J(308));ma=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ma=ma.next=e;return n}var PV=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},kV=on.unstable_scheduleCallback,RV=on.unstable_NormalPriority,Jt={$$typeof:da,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function AA(){return{controller:new PV,data:new Map,refCount:0}}function zh(t){t.refCount--,t.refCount===0&&kV(RV,function(){t.controller.abort()})}var nd=null,p1=0,Pc=0,gc=null;function MV(t,e){if(nd===null){var n=nd=[];p1=0,Pc=GA(),gc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return p1++,e.then(pO,pO),e}function pO(){if(--p1===0&&nd!==null){gc!==null&&(gc.status="fulfilled");var t=nd;nd=null,Pc=0,gc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function DV(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var mO=Ae.S;Ae.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&MV(t,e),mO!==null&&mO(t,e)};var $s=Yi(null);function EA(){var t=$s.current;return t!==null?t:ht.pooledCache}function Dm(t,e){e===null?wt($s,$s.current):wt($s,e.pool)}function NM(){var t=EA();return t===null?null:{parent:Jt._currentValue,pool:t}}var Fh=Error(J(460)),CM=Error(J(474)),hy=Error(J(542)),m1={then:function(){}};function gO(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wp(){}function IM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Wp,Wp),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yO(t),t;default:if(typeof e.status=="string")e.then(Wp,Wp);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(J(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yO(t),t}throw rd=e,Fh}}var rd=null;function vO(){if(rd===null)throw Error(J(459));var t=rd;return rd=null,t}function yO(t){if(t===Fh||t===hy)throw Error(J(483))}var ro=!1;function SA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ao(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=ug(t),SM(t,null,n),e}return dy(t,r,e,n),ug(t)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JR(t,n)}}function Nb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var v1=!1;function ad(){if(v1){var t=gc;if(t!==null)throw t}}function od(t,e,n,r){v1=!1;var i=t.updateQueue;ro=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,f=u=l=null,s=a;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(qe&h)===h:(r&h)===h){h!==0&&h===Pc&&(v1=!0),f!==null&&(f=f.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,x=s;h=e;var _=n;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(_,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(_,d,h):v,h==null)break e;d=yt({},d,h);break e;case 2:ro=!0}}h=s.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,a===null&&(i.shared.lanes=0),Lo|=o,t.lanes=o,t.memoizedState=d}}function PM(t,e){if(typeof t!="function")throw Error(J(191,t));t.call(e)}function kM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)PM(n[t],e)}var kc=Yi(null),pg=Yi(0);function bO(t,e){t=Pa,wt(pg,t),wt(kc,e),Pa=t|e.baseLanes}function y1(){wt(pg,Pa),wt(kc,kc.current)}function TA(){Pa=pg.current,gn(kc),gn(pg)}var Do=0,ke=null,at=null,qt=null,mg=!1,vc=!1,Ks=!1,gg=0,kd=0,yc=null,$V=0;function Bt(){throw Error(J(321))}function OA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rr(t[n],e[n]))return!1;return!0}function jA(t,e,n,r,i,a){return Do=a,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ae.H=t===null||t.memoizedState===null?uD:fD,Ks=!1,a=n(r,i),Ks=!1,vc&&(a=MM(e,n,r,i)),RM(t),a}function RM(t){Ae.H=vg;var e=at!==null&&at.next!==null;if(Do=0,qt=at=ke=null,mg=!1,kd=0,yc=null,e)throw Error(J(300));t===null||mn||(t=t.dependencies,t!==null&&hg(t)&&(mn=!0))}function MM(t,e,n,r){ke=t;var i=0;do{if(vc&&(yc=null),kd=0,vc=!1,25<=i)throw Error(J(301));if(i+=1,qt=at=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ae.H=HV,a=e(n,r)}while(vc);return a}function LV(){var t=Ae.H,e=t.useState()[0];return e=typeof e.then=="function"?Hh(e):e,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(ke.flags|=1024),e}function NA(){var t=gg!==0;return gg=0,t}function CA(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function IA(t){if(mg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}mg=!1}Do=0,qt=at=ke=null,vc=!1,kd=gg=0,yc=null}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?ke.memoizedState=qt=t:qt=qt.next=t,qt}function Wt(){if(at===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=qt===null?ke.memoizedState:qt.next;if(e!==null)qt=e,at=t;else{if(t===null)throw ke.alternate===null?Error(J(467)):Error(J(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},qt===null?ke.memoizedState=qt=t:qt=qt.next=t}return qt}function PA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hh(t){var e=kd;return kd+=1,yc===null&&(yc=[]),t=IM(yc,t,e),e=ke,(qt===null?e.memoizedState:qt.next)===null&&(e=e.alternate,Ae.H=e===null||e.memoizedState===null?uD:fD),t}function py(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Hh(t);if(t.$$typeof===da)return Ln(t)}throw Error(J(438,String(t)))}function kA(t){var e=null,n=ke.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ke.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=PA(),ke.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=wU;return e.index++,n}function Ca(t,e){return typeof e=="function"?e(t):e}function $m(t){var e=Wt();return RA(e,at,t)}function RA(t,e,n){var r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(qe&d)===d:(Do&d)===d){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Pc&&(f=!0);else if((Do&h)===h){u=u.next,h===Pc&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,o=a):l=l.next=d,ke.lanes|=h,Lo|=h;d=u.action,Ks&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else h={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,o=a):l=l.next=h,ke.lanes|=d,Lo|=d;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!Rr(a,t.memoizedState)&&(mn=!0,f&&(n=gc,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Cb(t){var e=Wt(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Rr(a,e.memoizedState)||(mn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function DM(t,e,n){var r=ke,i=Wt(),a=Ke;if(a){if(n===void 0)throw Error(J(407));n=n()}else n=e();var o=!Rr((at||i).memoizedState,n);o&&(i.memoizedState=n,mn=!0),i=i.queue;var s=BM.bind(null,r,i,t);if(qh(2048,8,s,[t]),i.getSnapshot!==e||o||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,Rc(9,my(),LM.bind(null,r,i,n,e),null),ht===null)throw Error(J(349));a||Do&124||$M(r,e,n)}return n}function $M(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e=PA(),ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LM(t,e,n,r){e.value=n,e.getSnapshot=r,UM(e)&&VM(t)}function BM(t,e,n){return n(function(){UM(e)&&VM(t)})}function UM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rr(t,n)}catch{return!0}}function VM(t){var e=Ou(t,2);e!==null&&Cr(e,t,2)}function b1(t){var e=Jn();if(typeof t=="function"){var n=t;if(t=n(),Ks){mo(!0);try{n()}finally{mo(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e}function zM(t,e,n,r){return t.baseState=n,RA(t,at,typeof r=="function"?r:Ca)}function BV(t,e,n,r,i){if(gy(t))throw Error(J(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};Ae.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,FM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function FM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Ae.T,o={};Ae.T=o;try{var s=n(i,r),l=Ae.S;l!==null&&l(o,s),xO(t,e,s)}catch(u){x1(t,e,u)}finally{Ae.T=a}}else try{a=n(i,r),xO(t,e,a)}catch(u){x1(t,e,u)}}function xO(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){_O(t,e,r)},function(r){return x1(t,e,r)}):_O(t,e,n)}function _O(t,e,n){e.status="fulfilled",e.value=n,HM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,FM(t,n)))}function x1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,HM(e),e=e.next;while(e!==r)}t.action=null}function HM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function qM(t,e){return e}function wO(t,e){if(Ke){var n=ht.formState;if(n!==null){e:{var r=ke;if(Ke){if(Pt){t:{for(var i=Pt,a=Ni;i.nodeType!==8;){if(!a){i=null;break t}if(i=fi(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Pt=fi(i.nextSibling),r=i.data==="F!";break e}}Gs(r)}r=!1}r&&(e=n[0])}}return n=Jn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qM,lastRenderedState:e},n.queue=r,n=sD.bind(null,ke,r),r.dispatch=n,r=b1(!1),a=LA.bind(null,ke,!1,r.queue),r=Jn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=BV.bind(null,ke,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function AO(t){var e=Wt();return GM(e,at,t)}function GM(t,e,n){if(e=RA(t,e,qM)[0],t=$m(Ca)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Hh(e)}catch(o){throw o===Fh?hy:o}else r=e;e=Wt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ke.flags|=2048,Rc(9,my(),UV.bind(null,i,n),null)),[r,a,t]}function UV(t,e){t.action=e}function EO(t){var e=Wt(),n=at;if(n!==null)return GM(e,n,t);Wt(),e=e.memoizedState,n=Wt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Rc(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ke.updateQueue,e===null&&(e=PA(),ke.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function my(){return{destroy:void 0,resource:void 0}}function WM(){return Wt().memoizedState}function Lm(t,e,n,r){var i=Jn();r=r===void 0?null:r,ke.flags|=t,i.memoizedState=Rc(1|e,my(),n,r)}function qh(t,e,n,r){var i=Wt();r=r===void 0?null:r;var a=i.memoizedState.inst;at!==null&&r!==null&&OA(r,at.memoizedState.deps)?i.memoizedState=Rc(e,a,n,r):(ke.flags|=t,i.memoizedState=Rc(1|e,a,n,r))}function SO(t,e){Lm(8390656,8,t,e)}function KM(t,e){qh(2048,8,t,e)}function XM(t,e){return qh(4,2,t,e)}function YM(t,e){return qh(4,4,t,e)}function QM(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZM(t,e,n){n=n!=null?n.concat([t]):null,qh(4,4,QM.bind(null,e,t),n)}function MA(){}function JM(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&OA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eD(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&OA(e,r[1]))return r[0];if(r=t(),Ks){mo(!0);try{t()}finally{mo(!1)}}return n.memoizedState=[r,e],r}function DA(t,e,n){return n===void 0||Do&1073741824?t.memoizedState=e:(t.memoizedState=n,t=HD(),ke.lanes|=t,Lo|=t,n)}function tD(t,e,n,r){return Rr(n,e)?n:kc.current!==null?(t=DA(t,n,r),Rr(t,e)||(mn=!0),t):Do&42?(t=HD(),ke.lanes|=t,Lo|=t,e):(mn=!0,t.memoizedState=n)}function nD(t,e,n,r,i){var a=Xe.p;Xe.p=a!==0&&8>a?a:8;var o=Ae.T,s={};Ae.T=s,LA(t,!1,e,n);try{var l=i(),u=Ae.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=DV(l,r);sd(t,e,f,Nr(t))}else sd(t,e,r,Nr(t))}catch(d){sd(t,e,{then:function(){},status:"rejected",reason:d},Nr())}finally{Xe.p=a,Ae.T=o}}function VV(){}function _1(t,e,n,r){if(t.tag!==5)throw Error(J(476));var i=rD(t).queue;nD(t,i,e,ks,n===null?VV:function(){return iD(t),n(r)})}function rD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ks,baseState:ks,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:ks},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function iD(t){var e=rD(t).next.queue;sd(t,e,{},Nr())}function $A(){return Ln(Ld)}function aD(){return Wt().memoizedState}function oD(){return Wt().memoizedState}function zV(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Nr();t=Ao(n);var r=Eo(e,t,n);r!==null&&(Cr(r,e,n),id(r,e,n)),e={cache:AA()},t.payload=e;return}e=e.return}}function FV(t,e,n){var r=Nr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},gy(t)?lD(e,n):(n=bA(t,e,n,r),n!==null&&(Cr(n,t,r),cD(n,e,r)))}function sD(t,e,n){var r=Nr();sd(t,e,n,r)}function sd(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(gy(t))lD(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Rr(s,o))return dy(t,e,i,0),ht===null&&fy(),!1}catch{}finally{}if(n=bA(t,e,i,r),n!==null)return Cr(n,t,r),cD(n,e,r),!0}return!1}function LA(t,e,n,r){if(r={lane:2,revertLane:GA(),action:r,hasEagerState:!1,eagerState:null,next:null},gy(t)){if(e)throw Error(J(479))}else e=bA(t,n,r,2),e!==null&&Cr(e,t,2)}function gy(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function lD(t,e){vc=mg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cD(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JR(t,n)}}var vg={readContext:Ln,use:py,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},uD={readContext:Ln,use:py,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:SO,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Lm(4194308,4,QM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lm(4194308,4,t,e)},useInsertionEffect:function(t,e){Lm(4,2,t,e)},useMemo:function(t,e){var n=Jn();e=e===void 0?null:e;var r=t();if(Ks){mo(!0);try{t()}finally{mo(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Jn();if(n!==void 0){var i=n(e);if(Ks){mo(!0);try{n(e)}finally{mo(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=FV.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:function(t){t=b1(t);var e=t.queue,n=sD.bind(null,ke,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:MA,useDeferredValue:function(t,e){var n=Jn();return DA(n,t,e)},useTransition:function(){var t=b1(!1);return t=nD.bind(null,ke,t.queue,!0,!1),Jn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ke,i=Jn();if(Ke){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),ht===null)throw Error(J(349));qe&124||$M(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,SO(BM.bind(null,r,a,t),[t]),r.flags|=2048,Rc(9,my(),LM.bind(null,r,a,n,e),null),n},useId:function(){var t=Jn(),e=ht.identifierPrefix;if(Ke){var n=pa,r=ha;n=(r&~(1<<32-jr(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=gg++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=$V++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:$A,useFormState:wO,useActionState:wO,useOptimistic:function(t){var e=Jn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=LA.bind(null,ke,!0,n),n.dispatch=e,[t,e]},useMemoCache:kA,useCacheRefresh:function(){return Jn().memoizedState=zV.bind(null,ke)}},fD={readContext:Ln,use:py,useCallback:JM,useContext:Ln,useEffect:KM,useImperativeHandle:ZM,useInsertionEffect:XM,useLayoutEffect:YM,useMemo:eD,useReducer:$m,useRef:WM,useState:function(){return $m(Ca)},useDebugValue:MA,useDeferredValue:function(t,e){var n=Wt();return tD(n,at.memoizedState,t,e)},useTransition:function(){var t=$m(Ca)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:Hh(t),e]},useSyncExternalStore:DM,useId:aD,useHostTransitionStatus:$A,useFormState:AO,useActionState:AO,useOptimistic:function(t,e){var n=Wt();return zM(n,at,t,e)},useMemoCache:kA,useCacheRefresh:oD},HV={readContext:Ln,use:py,useCallback:JM,useContext:Ln,useEffect:KM,useImperativeHandle:ZM,useInsertionEffect:XM,useLayoutEffect:YM,useMemo:eD,useReducer:Cb,useRef:WM,useState:function(){return Cb(Ca)},useDebugValue:MA,useDeferredValue:function(t,e){var n=Wt();return at===null?DA(n,t,e):tD(n,at.memoizedState,t,e)},useTransition:function(){var t=Cb(Ca)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:Hh(t),e]},useSyncExternalStore:DM,useId:aD,useHostTransitionStatus:$A,useFormState:EO,useActionState:EO,useOptimistic:function(t,e){var n=Wt();return at!==null?zM(n,at,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:kA,useCacheRefresh:oD},bc=null,Rd=0;function Kp(t){var e=Rd;return Rd+=1,bc===null&&(bc=[]),IM(bc,t,e)}function _f(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xp(t,e){throw e.$$typeof===xU?Error(J(525)):(t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function TO(t){var e=t._init;return e(t._payload)}function dD(t){function e(y,g){if(t){var b=y.deletions;b===null?(y.deletions=[g],y.flags|=16):b.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=wa(y,g),y.index=0,y.sibling=null,y}function a(y,g,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<g?(y.flags|=67108866,g):b):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,g,b,O){return g===null||g.tag!==6?(g=Ob(b,y.mode,O),g.return=y,g):(g=i(g,b),g.return=y,g)}function l(y,g,b,O){var E=b.type;return E===Xl?f(y,g,b.props.children,O,b.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===no&&TO(E)===g.type)?(g=i(g,b.props),_f(g,b),g.return=y,g):(g=Mm(b.type,b.key,b.props,null,y.mode,O),_f(g,b),g.return=y,g)}function u(y,g,b,O){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=jb(b,y.mode,O),g.return=y,g):(g=i(g,b.children||[]),g.return=y,g)}function f(y,g,b,O,E){return g===null||g.tag!==7?(g=Rs(b,y.mode,O,E),g.return=y,g):(g=i(g,b),g.return=y,g)}function d(y,g,b){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ob(""+g,y.mode,b),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vp:return b=Mm(g.type,g.key,g.props,null,y.mode,b),_f(b,g),b.return=y,b;case zf:return g=jb(g,y.mode,b),g.return=y,g;case no:var O=g._init;return g=O(g._payload),d(y,g,b)}if(Ff(g)||vf(g))return g=Rs(g,y.mode,b,null),g.return=y,g;if(typeof g.then=="function")return d(y,Kp(g),b);if(g.$$typeof===da)return d(y,Gp(y,g),b);Xp(y,g)}return null}function h(y,g,b,O){var E=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return E!==null?null:s(y,g,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vp:return b.key===E?l(y,g,b,O):null;case zf:return b.key===E?u(y,g,b,O):null;case no:return E=b._init,b=E(b._payload),h(y,g,b,O)}if(Ff(b)||vf(b))return E!==null?null:f(y,g,b,O,null);if(typeof b.then=="function")return h(y,g,Kp(b),O);if(b.$$typeof===da)return h(y,g,Gp(y,b),O);Xp(y,b)}return null}function m(y,g,b,O,E){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return y=y.get(b)||null,s(g,y,""+O,E);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Vp:return y=y.get(O.key===null?b:O.key)||null,l(g,y,O,E);case zf:return y=y.get(O.key===null?b:O.key)||null,u(g,y,O,E);case no:var N=O._init;return O=N(O._payload),m(y,g,b,O,E)}if(Ff(O)||vf(O))return y=y.get(b)||null,f(g,y,O,E,null);if(typeof O.then=="function")return m(y,g,b,Kp(O),E);if(O.$$typeof===da)return m(y,g,b,Gp(g,O),E);Xp(g,O)}return null}function v(y,g,b,O){for(var E=null,N=null,S=g,w=g=0,j=null;S!==null&&w<b.length;w++){S.index>w?(j=S,S=null):j=S.sibling;var I=h(y,S,b[w],O);if(I===null){S===null&&(S=j);break}t&&S&&I.alternate===null&&e(y,S),g=a(I,g,w),N===null?E=I:N.sibling=I,N=I,S=j}if(w===b.length)return n(y,S),Ke&&ys(y,w),E;if(S===null){for(;w<b.length;w++)S=d(y,b[w],O),S!==null&&(g=a(S,g,w),N===null?E=S:N.sibling=S,N=S);return Ke&&ys(y,w),E}for(S=r(S);w<b.length;w++)j=m(S,y,w,b[w],O),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?w:j.key),g=a(j,g,w),N===null?E=j:N.sibling=j,N=j);return t&&S.forEach(function(T){return e(y,T)}),Ke&&ys(y,w),E}function x(y,g,b,O){if(b==null)throw Error(J(151));for(var E=null,N=null,S=g,w=g=0,j=null,I=b.next();S!==null&&!I.done;w++,I=b.next()){S.index>w?(j=S,S=null):j=S.sibling;var T=h(y,S,I.value,O);if(T===null){S===null&&(S=j);break}t&&S&&T.alternate===null&&e(y,S),g=a(T,g,w),N===null?E=T:N.sibling=T,N=T,S=j}if(I.done)return n(y,S),Ke&&ys(y,w),E;if(S===null){for(;!I.done;w++,I=b.next())I=d(y,I.value,O),I!==null&&(g=a(I,g,w),N===null?E=I:N.sibling=I,N=I);return Ke&&ys(y,w),E}for(S=r(S);!I.done;w++,I=b.next())I=m(S,y,w,I.value,O),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?w:I.key),g=a(I,g,w),N===null?E=I:N.sibling=I,N=I);return t&&S.forEach(function(P){return e(y,P)}),Ke&&ys(y,w),E}function _(y,g,b,O){if(typeof b=="object"&&b!==null&&b.type===Xl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vp:e:{for(var E=b.key;g!==null;){if(g.key===E){if(E=b.type,E===Xl){if(g.tag===7){n(y,g.sibling),O=i(g,b.props.children),O.return=y,y=O;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===no&&TO(E)===g.type){n(y,g.sibling),O=i(g,b.props),_f(O,b),O.return=y,y=O;break e}n(y,g);break}else e(y,g);g=g.sibling}b.type===Xl?(O=Rs(b.props.children,y.mode,O,b.key),O.return=y,y=O):(O=Mm(b.type,b.key,b.props,null,y.mode,O),_f(O,b),O.return=y,y=O)}return o(y);case zf:e:{for(E=b.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(y,g.sibling),O=i(g,b.children||[]),O.return=y,y=O;break e}else{n(y,g);break}else e(y,g);g=g.sibling}O=jb(b,y.mode,O),O.return=y,y=O}return o(y);case no:return E=b._init,b=E(b._payload),_(y,g,b,O)}if(Ff(b))return v(y,g,b,O);if(vf(b)){if(E=vf(b),typeof E!="function")throw Error(J(150));return b=E.call(b),x(y,g,b,O)}if(typeof b.then=="function")return _(y,g,Kp(b),O);if(b.$$typeof===da)return _(y,g,Gp(y,b),O);Xp(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,g!==null&&g.tag===6?(n(y,g.sibling),O=i(g,b),O.return=y,y=O):(n(y,g),O=Ob(b,y.mode,O),O.return=y,y=O),o(y)):n(y,g)}return function(y,g,b,O){try{Rd=0;var E=_(y,g,b,O);return bc=null,E}catch(S){if(S===Fh||S===hy)throw S;var N=wr(29,S,null,y.mode);return N.lanes=O,N.return=y,N}finally{}}}var Mc=dD(!0),hD=dD(!1),Xr=Yi(null),Li=null;function oo(t){var e=t.alternate;wt(tn,tn.current&1),wt(Xr,t),Li===null&&(e===null||kc.current!==null||e.memoizedState!==null)&&(Li=t)}function pD(t){if(t.tag===22){if(wt(tn,tn.current),wt(Xr,t),Li===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Li=t)}}else so()}function so(){wt(tn,tn.current),wt(Xr,Xr.current)}function ga(t){gn(Xr),Li===t&&(Li=null),gn(tn)}var tn=Yi(0);function yg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||L1(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ib(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var w1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=Ao(r);i.payload=e,n!=null&&(i.callback=n),e=Eo(t,i,r),e!==null&&(Cr(e,t,r),id(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nr(),i=Ao(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Eo(t,i,r),e!==null&&(Cr(e,t,r),id(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nr(),r=Ao(n);r.tag=2,e!=null&&(r.callback=e),e=Eo(t,r,n),e!==null&&(Cr(e,t,n),id(e,t,n))}};function OO(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Id(n,r)||!Id(i,a):!0}function jO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&w1.enqueueReplaceState(e,e.state,null)}function Xs(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=yt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var bg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mD(t){bg(t)}function gD(t){console.error(t)}function vD(t){bg(t)}function xg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function NO(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function A1(t,e,n){return n=Ao(n),n.tag=3,n.payload={element:null},n.callback=function(){xg(t,e)},n}function yD(t){return t=Ao(t),t.tag=3,t}function bD(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){NO(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){NO(e,n,r),typeof i!="function"&&(So===null?So=new Set([this]):So.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function qV(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Vh(e,n,i,!0),n=Xr.current,n!==null){switch(n.tag){case 13:return Li===null?I1():n.alternate===null&&Rt===0&&(Rt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===m1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),zb(t,r,i)),!1;case 22:return n.flags|=65536,r===m1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),zb(t,r,i)),!1}throw Error(J(435,n.tag))}return zb(t,r,i),I1(),!1}if(Ke)return e=Xr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==u1&&(t=Error(J(422),{cause:r}),Pd(Fr(t,n)))):(r!==u1&&(e=Error(J(423),{cause:r}),Pd(Fr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Fr(r,n),i=A1(t.stateNode,r,i),Nb(t,i),Rt!==4&&(Rt=2)),!1;var a=Error(J(520),{cause:r});if(a=Fr(a,n),ud===null?ud=[a]:ud.push(a),Rt!==4&&(Rt=2),e===null)return!0;r=Fr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=A1(n.stateNode,r,t),Nb(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(So===null||!So.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=yD(i),bD(i,t,n,r),Nb(n,i),!1}n=n.return}while(n!==null);return!1}var xD=Error(J(461)),mn=!1;function _n(t,e,n,r){e.child=t===null?hD(e,null,n,r):Mc(e,t.child,n,r)}function CO(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Ws(e),r=jA(t,e,n,o,a,i),s=NA(),t!==null&&!mn?(CA(t,e,i),Ia(t,e,i)):(Ke&&s&&_A(e),e.flags|=1,_n(t,e,r,i),e.child)}function IO(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!xA(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,_D(t,e,a,r,i)):(t=Mm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!BA(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Id,n(o,r)&&t.ref===e.ref)return Ia(t,e,i)}return e.flags|=1,t=wa(a,r),t.ref=e.ref,t.return=e,e.child=t}function _D(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Id(a,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=a,BA(t,i))t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,Ia(t,e,i)}return E1(t,e,n,r,i)}function wD(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return PO(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dm(e,a!==null?a.cachePool:null),a!==null?bO(e,a):y1(),pD(e);else return e.lanes=e.childLanes=536870912,PO(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Dm(e,a.cachePool),bO(e,a),so(),e.memoizedState=null):(t!==null&&Dm(e,null),y1(),so());return _n(t,e,i,n),e.child}function PO(t,e,n,r){var i=EA();return i=i===null?null:{parent:Jt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Dm(e,null),y1(),pD(e),t!==null&&Vh(t,e,r,!0),null}function Bm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(J(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function E1(t,e,n,r,i){return Ws(e),n=jA(t,e,n,r,void 0,i),r=NA(),t!==null&&!mn?(CA(t,e,i),Ia(t,e,i)):(Ke&&r&&_A(e),e.flags|=1,_n(t,e,n,i),e.child)}function kO(t,e,n,r,i,a){return Ws(e),e.updateQueue=null,n=MM(e,r,n,i),RM(t),r=NA(),t!==null&&!mn?(CA(t,e,a),Ia(t,e,a)):(Ke&&r&&_A(e),e.flags|=1,_n(t,e,n,a),e.child)}function RO(t,e,n,r,i){if(Ws(e),e.stateNode===null){var a=rc,o=n.contextType;typeof o=="object"&&o!==null&&(a=Ln(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=w1,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},SA(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Ln(o):rc,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Ib(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&w1.enqueueReplaceState(a,a.state,null),od(e,r,a,i),ad(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=Xs(n,s);a.props=l;var u=a.context,f=n.contextType;o=rc,typeof f=="object"&&f!==null&&(o=Ln(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&jO(e,a,r,o),ro=!1;var h=e.memoizedState;a.state=h,od(e,r,a,i),ad(),u=e.memoizedState,s||h!==u||ro?(typeof d=="function"&&(Ib(e,n,d,r),u=e.memoizedState),(l=ro||OO(e,n,l,r,h,u,o))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,g1(t,e),o=e.memoizedProps,f=Xs(n,o),a.props=f,d=e.pendingProps,h=a.context,u=n.contextType,l=rc,typeof u=="object"&&u!==null&&(l=Ln(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&jO(e,a,r,l),ro=!1,h=e.memoizedState,a.state=h,od(e,r,a,i),ad();var m=e.memoizedState;o!==d||h!==m||ro||t!==null&&t.dependencies!==null&&hg(t.dependencies)?(typeof s=="function"&&(Ib(e,n,s,r),m=e.memoizedState),(f=ro||OO(e,n,f,r,h,m,l)||t!==null&&t.dependencies!==null&&hg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=f):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Bm(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Mc(e,t.child,null,i),e.child=Mc(e,null,n,i)):_n(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Ia(t,e,i),t}function MO(t,e,n,r){return Uh(),e.flags|=256,_n(t,e,n,r),e.child}var Pb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kb(t){return{baseLanes:t,cachePool:NM()}}function Rb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Wr),t}function AD(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(tn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ke){if(i?oo(e):so(),Ke){var s=Pt,l;if(l=s){e:{for(l=s,s=Ni;l.nodeType!==8;){if(!s){s=null;break e}if(l=fi(l.nextSibling),l===null){s=null;break e}}s=l}s!==null?(e.memoizedState={dehydrated:s,treeContext:Ms!==null?{id:ha,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},l=wr(18,null,null,0),l.stateNode=s,l.return=e,e.child=l,Hn=e,Pt=null,l=!0):l=!1}l||Gs(e)}if(s=e.memoizedState,s!==null&&(s=s.dehydrated,s!==null))return L1(s)?e.lanes=32:e.lanes=536870912,null;ga(e)}return s=r.children,r=r.fallback,i?(so(),i=e.mode,s=_g({mode:"hidden",children:s},i),r=Rs(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,i=e.child,i.memoizedState=kb(n),i.childLanes=Rb(t,o,n),e.memoizedState=Pb,r):(oo(e),S1(e,s))}if(l=t.memoizedState,l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(oo(e),e.flags&=-257,e=Mb(t,e,n)):e.memoizedState!==null?(so(),e.child=t.child,e.flags|=128,e=null):(so(),i=r.fallback,s=e.mode,r=_g({mode:"visible",children:r.children},s),i=Rs(i,s,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Mc(e,t.child,null,n),r=e.child,r.memoizedState=kb(n),r.childLanes=Rb(t,o,n),e.memoizedState=Pb,e=i);else if(oo(e),L1(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(J(419)),r.stack="",r.digest=o,Pd({value:r,source:null,stack:null}),e=Mb(t,e,n)}else if(mn||Vh(t,e,n,!1),o=(n&t.childLanes)!==0,mn||o){if(o=ht,o!==null&&(r=n&-n,r=r&42?1:cA(r),r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,Ou(t,r),Cr(o,t,r),xD;s.data==="$?"||I1(),e=Mb(t,e,n)}else s.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Pt=fi(s.nextSibling),Hn=e,Ke=!0,Ds=null,Ni=!1,t!==null&&(Br[Ur++]=ha,Br[Ur++]=pa,Br[Ur++]=Ms,ha=t.id,pa=t.overflow,Ms=e),e=S1(e,r.children),e.flags|=4096);return e}return i?(so(),i=r.fallback,s=e.mode,l=t.child,u=l.sibling,r=wa(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?i=wa(u,i):(i=Rs(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s===null?s=kb(n):(l=s.cachePool,l!==null?(u=Jt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=NM(),s={baseLanes:s.baseLanes|n,cachePool:l}),i.memoizedState=s,i.childLanes=Rb(t,o,n),e.memoizedState=Pb,r):(oo(e),n=t.child,t=n.sibling,n=wa(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function S1(t,e){return e=_g({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function _g(t,e){return t=wr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mb(t,e,n){return Mc(e,t.child,null,n),t=S1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),d1(t.return,e,n)}function Db(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ED(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(_n(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DO(t,n,e);else if(t.tag===19)DO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(wt(tn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Db(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Db(e,!0,n,null,a);break;case"together":Db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lo|=e.lanes,!(n&e.childLanes))if(t!==null){if(Vh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=wa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BA(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&hg(t)))}function GV(t,e,n){switch(e.tag){case 3:ag(e,e.stateNode.containerInfo),ao(e,Jt,t.memoizedState.cache),Uh();break;case 27:case 5:e1(e);break;case 4:ag(e,e.stateNode.containerInfo);break;case 10:ao(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(oo(e),e.flags|=128,null):n&e.child.childLanes?AD(t,e,n):(oo(e),t=Ia(t,e,n),t!==null?t.sibling:null);oo(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Vh(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return ED(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,wD(t,e,n);case 24:ao(e,Jt,t.memoizedState.cache)}return Ia(t,e,n)}function SD(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)mn=!0;else{if(!BA(t,n)&&!(e.flags&128))return mn=!1,GV(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Ke&&e.flags&1048576&&OM(e,dg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")xA(r)?(t=Xs(r,t),e.tag=1,e=RO(null,e,r,t,n)):(e.tag=0,e=E1(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===oA){e.tag=11,e=CO(null,e,r,t,n);break e}else if(i===sA){e.tag=14,e=IO(null,e,r,t,n);break e}}throw e=Zx(r)||r,Error(J(306,e,""))}}return e;case 0:return E1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Xs(r,e.pendingProps),RO(t,e,r,i,n);case 3:e:{if(ag(e,e.stateNode.containerInfo),t===null)throw Error(J(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,g1(t,e),od(e,r,null,n);var o=e.memoizedState;if(r=o.cache,ao(e,Jt,r),r!==a.cache&&h1(e,[Jt],n,!0),ad(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=MO(t,e,r,n);break e}else if(r!==i){i=Fr(Error(J(424)),e),Pd(i),e=MO(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=fi(t.firstChild),Hn=e,Ke=!0,Ds=null,Ni=!0,n=hD(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Uh(),r===i){e=Ia(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 26:return Bm(t,e),t===null?(n=JO(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ke||(n=e.type,t=e.pendingProps,r=jg(wo.current).createElement(n),r[$n]=e,r[cr]=t,Sn(r,n,t),hn(r),e.stateNode=r):e.memoizedState=JO(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return e1(e),t===null&&Ke&&(r=e.stateNode=f$(e.type,e.pendingProps,wo.current),Hn=e,Ni=!0,i=Pt,Xo(e.type)?(B1=i,Pt=fi(r.firstChild)):Pt=i),_n(t,e,e.pendingProps.children,n),Bm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ke&&((i=r=Pt)&&(r=x7(r,e.type,e.pendingProps,Ni),r!==null?(e.stateNode=r,Hn=e,Pt=fi(r.firstChild),Ni=!1,i=!0):i=!1),i||Gs(e)),e1(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,D1(i,a)?r=null:o!==null&&D1(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=jA(t,e,LV,null,null,n),Ld._currentValue=i),Bm(t,e),_n(t,e,r,n),e.child;case 6:return t===null&&Ke&&((t=n=Pt)&&(n=_7(n,e.pendingProps,Ni),n!==null?(e.stateNode=n,Hn=e,Pt=null,t=!0):t=!1),t||Gs(e)),null;case 13:return AD(t,e,n);case 4:return ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):_n(t,e,r,n),e.child;case 11:return CO(t,e,e.type,e.pendingProps,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ao(e,e.type,r.value),_n(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ws(e),i=Ln(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return IO(t,e,e.type,e.pendingProps,n);case 15:return _D(t,e,e.type,e.pendingProps,n);case 19:return ED(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=_g(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=wa(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return wD(t,e,n);case 24:return Ws(e),r=Ln(Jt),t===null?(i=EA(),i===null&&(i=ht,a=AA(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},SA(e),ao(e,Jt,i)):(t.lanes&n&&(g1(t,e),od(e,null,null,n),ad()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),ao(e,Jt,r)):(r=a.cache,ao(e,Jt,r),r!==i.cache&&h1(e,[Jt],n,!0))),_n(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(J(156,e.tag))}function oa(t){t.flags|=4}function $O(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!p$(e)){if(e=Xr.current,e!==null&&((qe&4194048)===qe?Li!==null:(qe&62914560)!==qe&&!(qe&536870912)||e!==Li))throw rd=m1,CM;t.flags|=8192}}function Yp(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?QR():536870912,t.lanes|=e,Dc|=e)}function wf(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WV(t,e,n){var r=e.pendingProps;switch(wA(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return St(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Aa(Jt),Nc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xf(e)?oa(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hO())),St(e),null;case 26:return n=e.memoizedState,t===null?(oa(e),n!==null?(St(e),$O(e,n)):(St(e),e.flags&=-16777217)):n?n!==t.memoizedState?(oa(e),St(e),$O(e,n)):(St(e),e.flags&=-16777217):(t.memoizedProps!==r&&oa(e),St(e),e.flags&=-16777217),null;case 27:og(e),n=wo.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&oa(e);else{if(!r){if(e.stateNode===null)throw Error(J(166));return St(e),null}t=Di.current,xf(e)?fO(e):(t=f$(i,r,n),e.stateNode=t,oa(e))}return St(e),null;case 5:if(og(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&oa(e);else{if(!r){if(e.stateNode===null)throw Error(J(166));return St(e),null}if(t=Di.current,xf(e))fO(e);else{switch(i=jg(wo.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[$n]=e,t[cr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Sn(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&oa(e)}}return St(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&oa(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(t=wo.current,xf(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Hn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[$n]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||l$(t.nodeValue,n)),t||Gs(e)}else t=jg(t).createTextNode(r),t[$n]=e,e.stateNode=t}return St(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[$n]=e}else Uh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),i=!1}else i=hO(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ga(e),e):(ga(e),null)}if(ga(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Yp(e,e.updateQueue),St(e),null;case 4:return Nc(),t===null&&WA(e.stateNode.containerInfo),St(e),null;case 10:return Aa(e.type),St(e),null;case 19:if(gn(tn),i=e.memoizedState,i===null)return St(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)wf(i,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yg(t),a!==null){for(e.flags|=128,wf(i,!1),t=a.updateQueue,e.updateQueue=t,Yp(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)TM(n,t),n=n.sibling;return wt(tn,tn.current&1|2),e.child}t=t.sibling}i.tail!==null&&$i()>Ag&&(e.flags|=128,r=!0,wf(i,!1),e.lanes=4194304)}else{if(!r)if(t=yg(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Yp(e,t),wf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ke)return St(e),null}else 2*$i()-i.renderingStartTime>Ag&&n!==536870912&&(e.flags|=128,r=!0,wf(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$i(),e.sibling=null,t=tn.current,wt(tn,r?t&1|2:t&1),e):(St(e),null);case 22:case 23:return ga(e),TA(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),n=e.updateQueue,n!==null&&Yp(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&gn($s),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Aa(Jt),St(e),null;case 25:return null;case 30:return null}throw Error(J(156,e.tag))}function KV(t,e){switch(wA(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(Jt),Nc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return og(e),null;case 13:if(ga(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Uh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gn(tn),null;case 4:return Nc(),null;case 10:return Aa(e.type),null;case 22:case 23:return ga(e),TA(),t!==null&&gn($s),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Aa(Jt),null;case 25:return null;default:return null}}function TD(t,e){switch(wA(e),e.tag){case 3:Aa(Jt),Nc();break;case 26:case 27:case 5:og(e);break;case 4:Nc();break;case 13:ga(e);break;case 19:gn(tn);break;case 10:Aa(e.type);break;case 22:case 23:ga(e),TA(),t!==null&&gn($s);break;case 24:Aa(Jt)}}function Gh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){st(e,e.return,s)}}function $o(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(f){st(i,l,f)}}}r=r.next}while(r!==a)}}catch(f){st(e,e.return,f)}}function OD(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{kM(e,n)}catch(r){st(t,t.return,r)}}}function jD(t,e,n){n.props=Xs(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){st(t,e,r)}}function ld(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){st(t,e,i)}}function Ii(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){st(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){st(t,e,i)}else n.current=null}function ND(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){st(t,t.return,i)}}function $b(t,e,n){try{var r=t.stateNode;m7(r,t.type,n,e),r[cr]=e}catch(i){st(t,t.return,i)}}function CD(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xo(t.type)||t.tag===4}function Lb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xy));else if(r!==4&&(r===27&&Xo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}function wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Xo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(wg(t,e,n),t=t.sibling;t!==null;)wg(t,e,n),t=t.sibling}function ID(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Sn(e,r,n),e[$n]=t,e[cr]=n}catch(a){st(t,t.return,a)}}var ua=!1,Ut=!1,Bb=!1,LO=typeof WeakSet=="function"?WeakSet:Set,dn=null;function XV(t,e){if(t=t.containerInfo,R1=Pg,t=yM(t),vA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++f===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M1={focusedElem:t,selectionRange:n},Pg=!1,dn=e;dn!==null;)if(e=dn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,dn=t;else for(;dn!==null;){switch(e=dn,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=Xs(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(x){st(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)$1(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(J(163))}if(t=e.sibling,t!==null){t.return=e.return,dn=t;break}dn=e.return}}function PD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Za(t,n),r&4&&Gh(5,n);break;case 1:if(Za(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){st(n,n.return,o)}else{var i=Xs(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){st(n,n.return,o)}}r&64&&OD(n),r&512&&ld(n,n.return);break;case 3:if(Za(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{kM(t,e)}catch(o){st(n,n.return,o)}}break;case 27:e===null&&r&4&&ID(n);case 26:case 5:Za(t,n),e===null&&r&4&&ND(n),r&512&&ld(n,n.return);break;case 12:Za(t,n);break;case 13:Za(t,n),r&4&&MD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=i7.bind(null,n),w7(t,n))));break;case 22:if(r=n.memoizedState!==null||ua,!r){e=e!==null&&e.memoizedState!==null||Ut,i=ua;var a=Ut;ua=r,(Ut=e)&&!a?eo(t,n,(n.subtreeFlags&8772)!==0):Za(t,n),ua=i,Ut=a}break;case 30:break;default:Za(t,n)}}function kD(t){var e=t.alternate;e!==null&&(t.alternate=null,kD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&fA(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,er=!1;function sa(t,e,n){for(n=n.child;n!==null;)RD(t,e,n),n=n.sibling}function RD(t,e,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Mh,n)}catch{}switch(n.tag){case 26:Ut||Ii(n,e),sa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ut||Ii(n,e);var r=xt,i=er;Xo(n.type)&&(xt=n.stateNode,er=!1),sa(t,e,n),dd(n.stateNode),xt=r,er=i;break;case 5:Ut||Ii(n,e);case 6:if(r=xt,i=er,xt=null,sa(t,e,n),xt=r,er=i,xt!==null)if(er)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(a){st(n,e,a)}else try{xt.removeChild(n.stateNode)}catch(a){st(n,e,a)}break;case 18:xt!==null&&(er?(t=xt,YO(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Vd(t)):YO(xt,n.stateNode));break;case 4:r=xt,i=er,xt=n.stateNode.containerInfo,er=!0,sa(t,e,n),xt=r,er=i;break;case 0:case 11:case 14:case 15:Ut||$o(2,n,e),Ut||$o(4,n,e),sa(t,e,n);break;case 1:Ut||(Ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&jD(n,e,r)),sa(t,e,n);break;case 21:sa(t,e,n);break;case 22:Ut=(r=Ut)||n.memoizedState!==null,sa(t,e,n),Ut=r;break;default:sa(t,e,n)}}function MD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vd(t)}catch(n){st(e,e.return,n)}}function YV(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new LO),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new LO),e;default:throw Error(J(435,t.tag))}}function Ub(t,e){var n=YV(t);e.forEach(function(r){var i=a7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Xo(s.type)){xt=s.stateNode,er=!1;break e}break;case 5:xt=s.stateNode,er=!1;break e;case 3:case 4:xt=s.stateNode.containerInfo,er=!0;break e}s=s.return}if(xt===null)throw Error(J(160));RD(a,o,i),xt=null,er=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)DD(e,t),e=e.sibling}var oi=null;function DD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pr(e,t),mr(t),r&4&&($o(3,t,t.return),Gh(3,t),$o(5,t,t.return));break;case 1:pr(e,t),mr(t),r&512&&(Ut||n===null||Ii(n,n.return)),r&64&&ua&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=oi;if(pr(e,t),mr(t),r&512&&(Ut||n===null||Ii(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Lh]||a[$n]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Sn(a,r,n),a[$n]=t,hn(a),r=a;break e;case"link":var o=tj("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Sn(a,r,n),i.head.appendChild(a);break;case"meta":if(o=tj("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Sn(a,r,n),i.head.appendChild(a);break;default:throw Error(J(468,r))}a[$n]=t,hn(a),r=a}t.stateNode=r}else nj(i,t.type,t.stateNode);else t.stateNode=ej(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?nj(i,t.type,t.stateNode):ej(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&$b(t,t.memoizedProps,n.memoizedProps)}break;case 27:pr(e,t),mr(t),r&512&&(Ut||n===null||Ii(n,n.return)),n!==null&&r&4&&$b(t,t.memoizedProps,n.memoizedProps);break;case 5:if(pr(e,t),mr(t),r&512&&(Ut||n===null||Ii(n,n.return)),t.flags&32){i=t.stateNode;try{Ic(i,"")}catch(m){st(t,t.return,m)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,$b(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Bb=!0);break;case 6:if(pr(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(J(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){st(t,t.return,m)}}break;case 3:if(zm=null,i=oi,oi=Ng(e.containerInfo),pr(e,t),oi=i,mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vd(e.containerInfo)}catch(m){st(t,t.return,m)}Bb&&(Bb=!1,$D(t));break;case 4:r=oi,oi=Ng(t.stateNode.containerInfo),pr(e,t),mr(t),oi=r;break;case 12:pr(e,t),mr(t);break;case 13:pr(e,t),mr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(HA=$i()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ub(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ua,f=Ut;if(ua=u||i,Ut=f||l,pr(e,t),Ut=f,ua=u,mr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||ua||Ut||bs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){st(l,l.return,m)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){st(l,l.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ub(t,n))));break;case 19:pr(e,t),mr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ub(t,r)));break;case 30:break;case 21:break;default:pr(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(CD(r)){n=r;break}r=r.return}if(n==null)throw Error(J(160));switch(n.tag){case 27:var i=n.stateNode,a=Lb(t);wg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(Ic(o,""),n.flags&=-33);var s=Lb(t);wg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Lb(t);T1(t,u,l);break;default:throw Error(J(161))}}catch(f){st(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $D(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;$D(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Za(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)PD(t,e.alternate,e),e=e.sibling}function bs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:$o(4,e,e.return),bs(e);break;case 1:Ii(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&jD(e,e.return,n),bs(e);break;case 27:dd(e.stateNode);case 26:case 5:Ii(e,e.return),bs(e);break;case 22:e.memoizedState===null&&bs(e);break;case 30:bs(e);break;default:bs(e)}t=t.sibling}}function eo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:eo(i,a,n),Gh(4,a);break;case 1:if(eo(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){st(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)PM(l[i],s)}catch(u){st(r,r.return,u)}}n&&o&64&&OD(a),ld(a,a.return);break;case 27:ID(a);case 26:case 5:eo(i,a,n),n&&r===null&&o&4&&ND(a),ld(a,a.return);break;case 12:eo(i,a,n);break;case 13:eo(i,a,n),n&&o&4&&MD(i,a);break;case 22:a.memoizedState===null&&eo(i,a,n),ld(a,a.return);break;case 30:break;default:eo(i,a,n)}e=e.sibling}}function UA(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&zh(n))}function VA(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zh(t))}function Oi(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)LD(t,e,n,r),e=e.sibling}function LD(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Oi(t,e,n,r),i&2048&&Gh(9,e);break;case 1:Oi(t,e,n,r);break;case 3:Oi(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zh(t)));break;case 12:if(i&2048){Oi(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){st(e,e.return,l)}}else Oi(t,e,n,r);break;case 13:Oi(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?Oi(t,e,n,r):cd(t,e):a._visibility&2?Oi(t,e,n,r):(a._visibility|=2,Fl(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&UA(o,e);break;case 24:Oi(t,e,n,r),i&2048&&VA(e.alternate,e);break;default:Oi(t,e,n,r)}}function Fl(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Fl(a,o,s,l,i),Gh(8,o);break;case 23:break;case 22:var f=o.stateNode;o.memoizedState!==null?f._visibility&2?Fl(a,o,s,l,i):cd(a,o):(f._visibility|=2,Fl(a,o,s,l,i)),i&&u&2048&&UA(o.alternate,o);break;case 24:Fl(a,o,s,l,i),i&&u&2048&&VA(o.alternate,o);break;default:Fl(a,o,s,l,i)}e=e.sibling}}function cd(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:cd(n,r),i&2048&&UA(r.alternate,r);break;case 24:cd(n,r),i&2048&&VA(r.alternate,r);break;default:cd(n,r)}e=e.sibling}}var qf=8192;function Pl(t){if(t.subtreeFlags&qf)for(t=t.child;t!==null;)BD(t),t=t.sibling}function BD(t){switch(t.tag){case 26:Pl(t),t.flags&qf&&t.memoizedState!==null&&M7(oi,t.memoizedState,t.memoizedProps);break;case 5:Pl(t);break;case 3:case 4:var e=oi;oi=Ng(t.stateNode.containerInfo),Pl(t),oi=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=qf,qf=16777216,Pl(t),qf=e):Pl(t));break;default:Pl(t)}}function UD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Af(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];dn=r,zD(r,t)}UD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)VD(t),t=t.sibling}function VD(t){switch(t.tag){case 0:case 11:case 15:Af(t),t.flags&2048&&$o(9,t,t.return);break;case 3:Af(t);break;case 12:Af(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Um(t)):Af(t);break;default:Af(t)}}function Um(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];dn=r,zD(r,t)}UD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:$o(8,e,e.return),Um(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Um(e));break;default:Um(e)}t=t.sibling}}function zD(t,e){for(;dn!==null;){var n=dn;switch(n.tag){case 0:case 11:case 15:$o(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:zh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,dn=r;else e:for(n=t;dn!==null;){r=dn;var i=r.sibling,a=r.return;if(kD(r),r===n){dn=null;break e}if(i!==null){i.return=a,dn=i;break e}dn=a}}}var QV={getCacheForType:function(t){var e=Ln(Jt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},ZV=typeof WeakMap=="function"?WeakMap:Map,Je=0,ht=null,Le=null,qe=0,Ze=0,xr=null,vo=!1,ju=!1,zA=!1,Pa=0,Rt=0,Lo=0,Ls=0,FA=0,Wr=0,Dc=0,ud=null,tr=null,O1=!1,HA=0,Ag=1/0,Eg=null,So=null,An=0,To=null,$c=null,xc=0,j1=0,N1=null,FD=null,fd=0,C1=null;function Nr(){if(Je&2&&qe!==0)return qe&-qe;if(Ae.T!==null){var t=Pc;return t!==0?t:GA()}return eM()}function HD(){Wr===0&&(Wr=!(qe&536870912)||Ke?YR():536870912);var t=Xr.current;return t!==null&&(t.flags|=32),Wr}function Cr(t,e,n){(t===ht&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Lc(t,0),yo(t,qe,Wr,!1)),$h(t,n),(!(Je&2)||t!==ht)&&(t===ht&&(!(Je&2)&&(Ls|=n),Rt===4&&yo(t,qe,Wr,!1)),Qi(t))}function qD(t,e,n){if(Je&6)throw Error(J(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Dh(t,e),i=r?t7(t,e):Vb(t,e,!0),a=r;do{if(i===0){ju&&!r&&yo(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!JV(n)){i=Vb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=ud;var l=s.current.memoizedState.isDehydrated;if(l&&(Lc(s,o).flags|=256),o=Vb(s,o,!1),o!==2){if(zA&&!l){s.errorRecoveryDisabledLanes|=a,Ls|=a,i=4;break e}a=tr,tr=i,a!==null&&(tr===null?tr=a:tr.push.apply(tr,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){Lc(t,0),yo(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(J(345));case 4:if((e&4194048)!==e)break;case 6:yo(r,e,Wr,!vo);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(J(329))}if((e&62914560)===e&&(i=HA+300-$i(),10<i)){if(yo(r,e,Wr,!vo),sy(r,0,!0)!==0)break e;r.timeoutHandle=u$(BO.bind(null,r,n,tr,Eg,O1,e,Wr,Ls,Dc,vo,a,2,-0,0),i);break e}BO(r,n,tr,Eg,O1,e,Wr,Ls,Dc,vo,a,0,-0,0)}}break}while(!0);Qi(t)}function BO(t,e,n,r,i,a,o,s,l,u,f,d,h,m){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&($d={stylesheets:null,count:0,unsuspend:R7},BD(e),d=D7(),d!==null)){t.cancelPendingCommit=d(VO.bind(null,t,e,a,n,r,i,o,s,l,f,1,h,m)),yo(t,a,o,!u);return}VO(t,e,a,n,r,i,o,s,l)}function JV(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Rr(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yo(t,e,n,r){e&=~FA,e&=~Ls,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-jr(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&ZR(t,n,e)}function vy(){return Je&6?!0:(Wh(0),!1)}function qA(){if(Le!==null){if(Ze===0)var t=Le.return;else t=Le,ma=dl=null,IA(t),bc=null,Rd=0,t=Le;for(;t!==null;)TD(t.alternate,t),t=t.return;Le=null}}function Lc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,v7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),qA(),ht=t,Le=n=wa(t.current,null),qe=e,Ze=0,xr=null,vo=!1,ju=Dh(t,e),zA=!1,Dc=Wr=FA=Ls=Lo=Rt=0,tr=ud=null,O1=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-jr(r),a=1<<i;e|=t[i],r&=~a}return Pa=e,fy(),n}function GD(t,e){ke=null,Ae.H=vg,e===Fh||e===hy?(e=vO(),Ze=3):e===CM?(e=vO(),Ze=4):Ze=e===xD?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,xr=e,Le===null&&(Rt=1,xg(t,Fr(e,t.current)))}function WD(){var t=Ae.H;return Ae.H=vg,t===null?vg:t}function KD(){var t=Ae.A;return Ae.A=QV,t}function I1(){Rt=4,vo||(qe&4194048)!==qe&&Xr.current!==null||(ju=!0),!(Lo&134217727)&&!(Ls&134217727)||ht===null||yo(ht,qe,Wr,!1)}function Vb(t,e,n){var r=Je;Je|=2;var i=WD(),a=KD();(ht!==t||qe!==e)&&(Eg=null,Lc(t,e)),e=!1;var o=Rt;e:do try{if(Ze!==0&&Le!==null){var s=Le,l=xr;switch(Ze){case 8:qA(),o=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(e=!0);var u=Ze;if(Ze=0,xr=null,oc(t,s,l,u),n&&ju){o=0;break e}break;default:u=Ze,Ze=0,xr=null,oc(t,s,l,u)}}e7(),o=Rt;break}catch(f){GD(t,f)}while(!0);return e&&t.shellSuspendCounter++,ma=dl=null,Je=r,Ae.H=i,Ae.A=a,Le===null&&(ht=null,qe=0,fy()),o}function e7(){for(;Le!==null;)XD(Le)}function t7(t,e){var n=Je;Je|=2;var r=WD(),i=KD();ht!==t||qe!==e?(Eg=null,Ag=$i()+500,Lc(t,e)):ju=Dh(t,e);e:do try{if(Ze!==0&&Le!==null){e=Le;var a=xr;t:switch(Ze){case 1:Ze=0,xr=null,oc(t,e,a,1);break;case 2:case 9:if(gO(a)){Ze=0,xr=null,UO(e);break}e=function(){Ze!==2&&Ze!==9||ht!==t||(Ze=7),Qi(t)},a.then(e,e);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:gO(a)?(Ze=0,xr=null,UO(e)):(Ze=0,xr=null,oc(t,e,a,7));break;case 5:var o=null;switch(Le.tag){case 26:o=Le.memoizedState;case 5:case 27:var s=Le;if(!o||p$(o)){Ze=0,xr=null;var l=s.sibling;if(l!==null)Le=l;else{var u=s.return;u!==null?(Le=u,yy(u)):Le=null}break t}}Ze=0,xr=null,oc(t,e,a,5);break;case 6:Ze=0,xr=null,oc(t,e,a,6);break;case 8:qA(),Rt=6;break e;default:throw Error(J(462))}}n7();break}catch(f){GD(t,f)}while(!0);return ma=dl=null,Ae.H=r,Ae.A=i,Je=n,Le!==null?0:(ht=null,qe=0,fy(),Rt)}function n7(){for(;Le!==null&&!EU();)XD(Le)}function XD(t){var e=SD(t.alternate,t,Pa);t.memoizedProps=t.pendingProps,e===null?yy(t):Le=e}function UO(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=kO(n,e,e.pendingProps,e.type,void 0,qe);break;case 11:e=kO(n,e,e.pendingProps,e.type.render,e.ref,qe);break;case 5:IA(e);default:TD(n,e),e=Le=TM(e,Pa),e=SD(n,e,Pa)}t.memoizedProps=t.pendingProps,e===null?yy(t):Le=e}function oc(t,e,n,r){ma=dl=null,IA(e),bc=null,Rd=0;var i=e.return;try{if(qV(t,i,e,n,qe)){Rt=1,xg(t,Fr(n,t.current)),Le=null;return}}catch(a){if(i!==null)throw Le=i,a;Rt=1,xg(t,Fr(n,t.current)),Le=null;return}e.flags&32768?(Ke||r===1?t=!0:ju||qe&536870912?t=!1:(vo=t=!0,(r===2||r===9||r===3||r===6)&&(r=Xr.current,r!==null&&r.tag===13&&(r.flags|=16384))),YD(e,t)):yy(e)}function yy(t){var e=t;do{if(e.flags&32768){YD(e,vo);return}t=e.return;var n=WV(e.alternate,e,Pa);if(n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Rt===0&&(Rt=5)}function YD(t,e){do{var n=KV(t.alternate,t);if(n!==null){n.flags&=32767,Le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Le=t;return}Le=t=n}while(t!==null);Rt=6,Le=null}function VO(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do by();while(An!==0);if(Je&6)throw Error(J(327));if(e!==null){if(e===t.current)throw Error(J(177));if(a=e.lanes|e.childLanes,a|=yA,RU(t,n,a,o,s,l),t===ht&&(Le=ht=null,qe=0),$c=e,To=t,xc=n,j1=a,N1=i,FD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,o7(sg,function(){return t$(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ae.T,Ae.T=null,i=Xe.p,Xe.p=2,o=Je,Je|=4;try{XV(t,e,n)}finally{Je=o,Xe.p=i,Ae.T=r}}An=1,QD(),ZD(),JD()}}function QD(){if(An===1){An=0;var t=To,e=$c,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ae.T,Ae.T=null;var r=Xe.p;Xe.p=2;var i=Je;Je|=4;try{DD(e,t);var a=M1,o=yM(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&vM(s.ownerDocument.documentElement,s)){if(l!==null&&vA(s)){var u=l.start,f=l.end;if(f===void 0&&(f=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(f,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,x=Math.min(l.start,v),_=l.end===void 0?x:Math.min(l.end,v);!m.extend&&x>_&&(o=_,_=x,x=o);var y=lO(s,x),g=lO(s,_);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),x>_?(m.addRange(b),m.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),m.addRange(b))}}}}for(d=[],m=s;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var O=d[s];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Pg=!!R1,M1=R1=null}finally{Je=i,Xe.p=r,Ae.T=n}}t.current=e,An=2}}function ZD(){if(An===2){An=0;var t=To,e=$c,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ae.T,Ae.T=null;var r=Xe.p;Xe.p=2;var i=Je;Je|=4;try{PD(t,e.alternate,e)}finally{Je=i,Xe.p=r,Ae.T=n}}An=3}}function JD(){if(An===4||An===3){An=0,SU();var t=To,e=$c,n=xc,r=FD;e.subtreeFlags&10256||e.flags&10256?An=5:(An=0,$c=To=null,e$(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(So=null),uA(n),e=e.stateNode,Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Mh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ae.T,i=Xe.p,Xe.p=2,Ae.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{Ae.T=e,Xe.p=i}}xc&3&&by(),Qi(t),i=t.pendingLanes,n&4194090&&i&42?t===C1?fd++:(fd=0,C1=t):fd=0,Wh(0)}}function e$(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,zh(e)))}function by(t){return QD(),ZD(),JD(),t$()}function t$(){if(An!==5)return!1;var t=To,e=j1;j1=0;var n=uA(xc),r=Ae.T,i=Xe.p;try{Xe.p=32>n?32:n,Ae.T=null,n=N1,N1=null;var a=To,o=xc;if(An=0,$c=To=null,xc=0,Je&6)throw Error(J(331));var s=Je;if(Je|=4,VD(a.current),LD(a,a.current,o,n),Je=s,Wh(0,!1),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Mh,a)}catch{}return!0}finally{Xe.p=i,Ae.T=r,e$(t,e)}}function zO(t,e,n){e=Fr(n,e),e=A1(t.stateNode,e,2),t=Eo(t,e,2),t!==null&&($h(t,2),Qi(t))}function st(t,e,n){if(t.tag===3)zO(t,t,n);else for(;e!==null;){if(e.tag===3){zO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){t=Fr(n,t),n=yD(2),r=Eo(e,n,2),r!==null&&(bD(n,r,e,t),$h(r,2),Qi(r));break}}e=e.return}}function zb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(zA=!0,i.add(n),t=r7.bind(null,t,e,n),e.then(t,t))}function r7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ht===t&&(qe&n)===n&&(Rt===4||Rt===3&&(qe&62914560)===qe&&300>$i()-HA?!(Je&2)&&Lc(t,0):FA|=n,Dc===qe&&(Dc=0)),Qi(t)}function n$(t,e){e===0&&(e=QR()),t=Ou(t,e),t!==null&&($h(t,e),Qi(t))}function i7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n$(t,n)}function a7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(J(314))}r!==null&&r.delete(e),n$(t,n)}function o7(t,e){return lA(t,e)}var Sg=null,Hl=null,P1=!1,Tg=!1,Fb=!1,Bs=0;function Qi(t){t!==Hl&&t.next===null&&(Hl===null?Sg=Hl=t:Hl=Hl.next=t),Tg=!0,P1||(P1=!0,l7())}function Wh(t,e){if(!Fb&&Tg){Fb=!0;do for(var n=!1,r=Sg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-jr(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,FO(r,a))}else a=qe,a=sy(r,r===ht?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Dh(r,a)||(n=!0,FO(r,a));r=r.next}while(n);Fb=!1}}function s7(){r$()}function r$(){Tg=P1=!1;var t=0;Bs!==0&&(g7()&&(t=Bs),Bs=0);for(var e=$i(),n=null,r=Sg;r!==null;){var i=r.next,a=i$(r,e);a===0?(r.next=null,n===null?Sg=i:n.next=i,i===null&&(Hl=n)):(n=r,(t!==0||a&3)&&(Tg=!0)),r=i}Wh(t)}function i$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-jr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=kU(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=ht,n=qe,n=sy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&mb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Dh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&mb(r),uA(n)){case 2:case 8:n=KR;break;case 32:n=sg;break;case 268435456:n=XR;break;default:n=sg}return r=a$.bind(null,t),n=lA(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&mb(r),t.callbackPriority=2,t.callbackNode=null,2}function a$(t,e){if(An!==0&&An!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(by()&&t.callbackNode!==n)return null;var r=qe;return r=sy(t,t===ht?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(qD(t,r,e),i$(t,$i()),t.callbackNode!=null&&t.callbackNode===n?a$.bind(null,t):null)}function FO(t,e){if(by())return null;qD(t,e,!0)}function l7(){y7(function(){Je&6?lA(WR,s7):r$()})}function GA(){return Bs===0&&(Bs=YR()),Bs}function HO(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pm(""+t)}function qO(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function c7(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=HO((i[cr]||null).action),o=r.submitter;o&&(e=(e=o[cr]||null)?HO(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new ly("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Bs!==0){var l=o?qO(i,o):new FormData(i);_1(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?qO(i,o):new FormData(i),_1(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Hb=0;Hb<c1.length;Hb++){var qb=c1[Hb],u7=qb.toLowerCase(),f7=qb[0].toUpperCase()+qb.slice(1);xi(u7,"on"+f7)}xi(xM,"onAnimationEnd");xi(_M,"onAnimationIteration");xi(wM,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(jV,"onTransitionRun");xi(NV,"onTransitionStart");xi(CV,"onTransitionCancel");xi(AM,"onTransitionEnd");Cc("onMouseEnter",["mouseout","mouseover"]);Cc("onMouseLeave",["mouseout","mouseover"]);Cc("onPointerEnter",["pointerout","pointerover"]);Cc("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function o$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(f){bg(f)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(f){bg(f)}i.currentTarget=null,a=l}}}}function $e(t,e){var n=e[n1];n===void 0&&(n=e[n1]=new Set);var r=t+"__bubble";n.has(r)||(s$(e,t,2,!1),n.add(r))}function Gb(t,e,n){var r=0;e&&(r|=4),s$(n,t,r,e)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function WA(t){if(!t[Qp]){t[Qp]=!0,tM.forEach(function(n){n!=="selectionchange"&&(d7.has(n)||Gb(n,!1,t),Gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qp]||(e[Qp]=!0,Gb("selectionchange",!1,e))}}function s$(t,e,n,r){switch(b$(e)){case 2:var i=B7;break;case 8:i=U7;break;default:i=QA}n=i.bind(null,e,n,t),i=void 0,!o1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=Ql(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}cM(function(){var u=a,f=hA(n),d=[];e:{var h=EM.get(t);if(h!==void 0){var m=ly,v=t;switch(t){case"keypress":if(Rm(n)===0)break e;case"keydown":case"keyup":m=oV;break;case"focusin":v="focus",m=Ab;break;case"focusout":v="blur",m=Ab;break;case"beforeblur":case"afterblur":m=Ab;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Z2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cV;break;case xM:case _M:case wM:m=QU;break;case AM:m=fV;break;case"scroll":case"scrollend":m=GU;break;case"wheel":m=hV;break;case"copy":case"cut":case"paste":m=JU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=eO;break;case"toggle":case"beforetoggle":m=mV}var x=(e&4)!==0,_=!x&&(t==="scroll"||t==="scrollend"),y=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,b;g!==null;){var O=g;if(b=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||b===null||y===null||(O=Nd(g,y),O!=null&&x.push(Dd(g,O,b))),_)break;g=g.return}0<x.length&&(h=new m(h,v,null,n,f),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==a1&&(v=n.relatedTarget||n.fromElement)&&(Ql(v)||v[Su]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ql(v):null,v!==null&&(_=Rh(v),x=v.tag,v!==_||x!==5&&x!==27&&x!==6)&&(v=null)):(m=null,v=u),m!==v)){if(x=Z2,O="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=eO,O="onPointerLeave",y="onPointerEnter",g="pointer"),_=m==null?h:Hf(m),b=v==null?h:Hf(v),h=new x(O,g+"leave",m,n,f),h.target=_,h.relatedTarget=b,O=null,Ql(f)===u&&(x=new x(y,g+"enter",v,n,f),x.target=b,x.relatedTarget=_,O=x),_=O,m&&v)t:{for(x=m,y=v,g=0,b=x;b;b=kl(b))g++;for(b=0,O=y;O;O=kl(O))b++;for(;0<g-b;)x=kl(x),g--;for(;0<b-g;)y=kl(y),b--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=kl(x),y=kl(y)}x=null}else x=null;m!==null&&GO(d,h,m,x,!1),v!==null&&_!==null&&GO(d,_,v,x,!0)}}e:{if(h=u?Hf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=iO;else if(rO(h))if(mM)E=SV;else{E=AV;var N=wV}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&dA(u.elementType)&&(E=iO):E=EV;if(E&&(E=E(t,u))){pM(d,E,n,f);break e}N&&N(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&i1(h,"number",h.value)}switch(N=u?Hf(u):window,t){case"focusin":(rO(N)||N.contentEditable==="true")&&(ec=N,s1=u,td=null);break;case"focusout":td=s1=ec=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,cO(d,n,f);break;case"selectionchange":if(OV)break;case"keydown":case"keyup":cO(d,n,f)}var S;if(gA)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Jl?dM(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(fM&&n.locale!=="ko"&&(Jl||w!=="onCompositionStart"?w==="onCompositionEnd"&&Jl&&(S=uM()):(go=f,pA="value"in go?go.value:go.textContent,Jl=!0)),N=Og(u,w),0<N.length&&(w=new J2(w,t,null,n,f),d.push({event:w,listeners:N}),S?w.data=S:(S=hM(n),S!==null&&(w.data=S)))),(S=vV?yV(t,n):bV(t,n))&&(w=Og(u,"onBeforeInput"),0<w.length&&(N=new J2("onBeforeInput","beforeinput",null,n,f),d.push({event:N,listeners:w}),N.data=S)),c7(d,t,u,n,f)}o$(d,e)})}function Dd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Og(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Nd(t,n),i!=null&&r.unshift(Dd(t,i,a)),i=Nd(t,e),i!=null&&r.push(Dd(t,i,a))),t.tag===3)return r;t=t.return}return[]}function kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function GO(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Nd(n,a),u!=null&&o.unshift(Dd(n,u,l))):i||(u=Nd(n,a),u!=null&&o.push(Dd(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h7=/\r\n?/g,p7=/\u0000|\uFFFD/g;function WO(t){return(typeof t=="string"?t:""+t).replace(h7,`
`).replace(p7,"")}function l$(t,e){return e=WO(e),WO(t)===e}function xy(){}function rt(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Ic(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Ic(t,""+r);break;case"className":Hp(t,"class",r);break;case"tabIndex":Hp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Hp(t,n,r);break;case"style":lM(t,r,a);break;case"data":if(e!=="object"){Hp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Pm(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&rt(t,e,"name",i.name,i,null),rt(t,e,"formEncType",i.formEncType,i,null),rt(t,e,"formMethod",i.formMethod,i,null),rt(t,e,"formTarget",i.formTarget,i,null)):(rt(t,e,"encType",i.encType,i,null),rt(t,e,"method",i.method,i,null),rt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Pm(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=xy);break;case"onScroll":r!=null&&$e("scroll",t);break;case"onScrollEnd":r!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(J(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(J(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Pm(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":$e("beforetoggle",t),$e("toggle",t),Im(t,"popover",r);break;case"xlinkActuate":aa(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":aa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":aa(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":aa(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":aa(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":aa(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":aa(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":aa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":aa(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Im(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=HU.get(n)||n,Im(t,n,r))}}function k1(t,e,n,r,i,a){switch(n){case"style":lM(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(J(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(J(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Ic(t,r):(typeof r=="number"||typeof r=="bigint")&&Ic(t,""+r);break;case"onScroll":r!=null&&$e("scroll",t);break;case"onScrollEnd":r!=null&&$e("scrollend",t);break;case"onClick":r!=null&&(t.onclick=xy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[cr]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Im(t,n,r)}}}function Sn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(J(137,e));default:rt(t,e,a,o,n,null)}}i&&rt(t,e,"srcSet",n.srcSet,n,null),r&&rt(t,e,"src",n.src,n,null);return;case"input":$e("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":i=f;break;case"type":o=f;break;case"checked":l=f;break;case"defaultChecked":u=f;break;case"value":a=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(J(137,e));break;default:rt(t,e,r,f,n,null)}}aM(t,a,s,l,u,o,i,!1),lg(t);return;case"select":$e("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:rt(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?pc(t,!!r,e,!1):n!=null&&pc(t,!!r,n,!0);return;case"textarea":$e("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(J(91));break;default:rt(t,e,o,s,n,null)}sM(t,r,i,a),lg(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:rt(t,e,l,r,n,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(r=0;r<Md.length;r++)$e(Md[r],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(J(137,e));default:rt(t,e,u,r,n,null)}return;default:if(dA(e)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&k1(t,e,f,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&rt(t,e,s,r,n,null))}function m7(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,f=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||rt(t,e,m,null,r,d)}}for(var h in r){var m=r[h];if(d=n[h],r.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(J(137,e));break;default:m!==d&&rt(t,e,h,m,r,d)}}r1(t,o,s,l,u,f,a,i);return;case"select":m=o=s=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(a)||rt(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&rt(t,e,i,a,r,l)}e=s,n=o,r=m,h!=null?pc(t,!!n,h,!1):!!r!=!!n&&(e!=null?pc(t,!!n,e,!0):pc(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:rt(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(J(91));break;default:i!==a&&rt(t,e,o,i,r,a)}oM(t,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:rt(t,e,v,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:rt(t,e,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x)&&rt(t,e,x,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(J(137,e));break;default:rt(t,e,u,h,r,m)}return;default:if(dA(e)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!r.hasOwnProperty(_)&&k1(t,e,_,void 0,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h===void 0&&m===void 0||k1(t,e,f,h,r,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&rt(t,e,y,null,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h==null&&m==null||rt(t,e,d,h,r,m)}var R1=null,M1=null;function jg(t){return t.nodeType===9?t:t.ownerDocument}function KO(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c$(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function D1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kb=null;function g7(){var t=window.event;return t&&t.type==="popstate"?t===Kb?!1:(Kb=t,!0):(Kb=null,!1)}var u$=typeof setTimeout=="function"?setTimeout:void 0,v7=typeof clearTimeout=="function"?clearTimeout:void 0,XO=typeof Promise=="function"?Promise:void 0,y7=typeof queueMicrotask=="function"?queueMicrotask:typeof XO<"u"?function(t){return XO.resolve(null).then(t).catch(b7)}:u$;function b7(t){setTimeout(function(){throw t})}function Xo(t){return t==="head"}function YO(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var o=t.ownerDocument;if(n&1&&dd(o.documentElement),n&2&&dd(o.body),n&4)for(n=o.head,dd(n),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[Lh]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}if(i===0){t.removeChild(a),Vd(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Vd(e)}function $1(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$1(n),fA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function x7(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Lh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=fi(t.nextSibling),t===null)break}return null}function _7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=fi(t.nextSibling),t===null))return null;return t}function L1(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function w7(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var B1=null;function QO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function f$(t,e,n){switch(e=jg(n),t){case"html":if(t=e.documentElement,!t)throw Error(J(452));return t;case"head":if(t=e.head,!t)throw Error(J(453));return t;case"body":if(t=e.body,!t)throw Error(J(454));return t;default:throw Error(J(451))}}function dd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);fA(t)}var Yr=new Map,ZO=new Set;function Ng(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var za=Xe.d;Xe.d={f:A7,r:E7,D:S7,C:T7,L:O7,m:j7,X:C7,S:N7,M:I7};function A7(){var t=za.f(),e=vy();return t||e}function E7(t){var e=Tu(t);e!==null&&e.tag===5&&e.type==="form"?iD(e):za.r(t)}var Nu=typeof document>"u"?null:document;function d$(t,e,n){var r=Nu;if(r&&typeof e=="string"&&e){var i=zr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),ZO.has(i)||(ZO.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Sn(e,"link",t),hn(e),r.head.appendChild(e)))}}function S7(t){za.D(t),d$("dns-prefetch",t,null)}function T7(t,e){za.C(t,e),d$("preconnect",t,e)}function O7(t,e,n){za.L(t,e,n);var r=Nu;if(r&&t&&e){var i='link[rel="preload"][as="'+zr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+zr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+zr(n.imageSizes)+'"]')):i+='[href="'+zr(t)+'"]';var a=i;switch(e){case"style":a=Bc(t);break;case"script":a=Cu(t)}Yr.has(a)||(t=yt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Yr.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Kh(a))||e==="script"&&r.querySelector(Xh(a))||(e=r.createElement("link"),Sn(e,"link",t),hn(e),r.head.appendChild(e)))}}function j7(t,e){za.m(t,e);var n=Nu;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+zr(r)+'"][href="'+zr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Cu(t)}if(!Yr.has(a)&&(t=yt({rel:"modulepreload",href:t},e),Yr.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xh(a)))return}r=n.createElement("link"),Sn(r,"link",t),hn(r),n.head.appendChild(r)}}}function N7(t,e,n){za.S(t,e,n);var r=Nu;if(r&&t){var i=hc(r).hoistableStyles,a=Bc(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Kh(a)))s.loading=5;else{t=yt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Yr.get(a))&&KA(t,n);var l=o=r.createElement("link");hn(l),Sn(l,"link",t),l._p=new Promise(function(u,f){l.onload=u,l.onerror=f}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Vm(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function C7(t,e){za.X(t,e);var n=Nu;if(n&&t){var r=hc(n).hoistableScripts,i=Cu(t),a=r.get(i);a||(a=n.querySelector(Xh(i)),a||(t=yt({src:t,async:!0},e),(e=Yr.get(i))&&XA(t,e),a=n.createElement("script"),hn(a),Sn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function I7(t,e){za.M(t,e);var n=Nu;if(n&&t){var r=hc(n).hoistableScripts,i=Cu(t),a=r.get(i);a||(a=n.querySelector(Xh(i)),a||(t=yt({src:t,async:!0,type:"module"},e),(e=Yr.get(i))&&XA(t,e),a=n.createElement("script"),hn(a),Sn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function JO(t,e,n,r){var i=(i=wo.current)?Ng(i):null;if(!i)throw Error(J(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Bc(n.href),n=hc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Bc(n.href);var a=hc(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(Kh(t)))&&!a._p&&(o.instance=a,o.state.loading=5),Yr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yr.set(t,n),a||P7(i,t,n,o.state))),e&&r===null)throw Error(J(528,""));return o}if(e&&r!==null)throw Error(J(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Cu(n),n=hc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(J(444,t))}}function Bc(t){return'href="'+zr(t)+'"'}function Kh(t){return'link[rel="stylesheet"]['+t+"]"}function h$(t){return yt({},t,{"data-precedence":t.precedence,precedence:null})}function P7(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Sn(e,"link",n),hn(e),t.head.appendChild(e))}function Cu(t){return'[src="'+zr(t)+'"]'}function Xh(t){return"script[async]"+t}function ej(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+zr(n.href)+'"]');if(r)return e.instance=r,hn(r),r;var i=yt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),hn(r),Sn(r,"style",i),Vm(r,n.precedence,t),e.instance=r;case"stylesheet":i=Bc(n.href);var a=t.querySelector(Kh(i));if(a)return e.state.loading|=4,e.instance=a,hn(a),a;r=h$(n),(i=Yr.get(i))&&KA(r,i),a=(t.ownerDocument||t).createElement("link"),hn(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Sn(a,"link",r),e.state.loading|=4,Vm(a,n.precedence,t),e.instance=a;case"script":return a=Cu(n.src),(i=t.querySelector(Xh(a)))?(e.instance=i,hn(i),i):(r=n,(i=Yr.get(a))&&(r=yt({},n),XA(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),hn(i),Sn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(J(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Vm(r,n.precedence,t));return e.instance}function Vm(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function KA(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function XA(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var zm=null;function tj(t,e,n){if(zm===null){var r=new Map,i=zm=new Map;i.set(n,r)}else i=zm,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Lh]||a[$n]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function nj(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function k7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function p$(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var $d=null;function R7(){}function M7(t,e,n){if($d===null)throw Error(J(475));var r=$d;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Bc(n.href),a=t.querySelector(Kh(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Cg.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,hn(a);return}a=t.ownerDocument||t,n=h$(n),(i=Yr.get(i))&&KA(n,i),a=a.createElement("link"),hn(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Sn(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Cg.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function D7(){if($d===null)throw Error(J(475));var t=$d;return t.stylesheets&&t.count===0&&U1(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&U1(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Cg(){if(this.count--,this.count===0){if(this.stylesheets)U1(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ig=null;function U1(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ig=new Map,e.forEach($7,t),Ig=null,Cg.call(t))}function $7(t,e){if(!(e.state.loading&4)){var n=Ig.get(t);if(n)var r=n.get(null);else{n=new Map,Ig.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Cg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ld={$$typeof:da,Provider:null,Consumer:null,_currentValue:ks,_currentValue2:ks,_threadCount:0};function L7(t,e,n,r,i,a,o,s){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gb(0),this.hiddenUpdates=gb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function m$(t,e,n,r,i,a,o,s,l,u,f,d){return t=new L7(t,e,n,o,s,l,u,d),e=1,a===!0&&(e|=24),a=wr(3,null,null,e),t.current=a,a.stateNode=t,e=AA(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},SA(a),t}function g$(t){return t?(t=rc,t):rc}function v$(t,e,n,r,i,a){i=g$(i),r.context===null?r.context=i:r.pendingContext=i,r=Ao(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Eo(t,r,e),n!==null&&(Cr(n,t,e),id(n,t,e))}function rj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function YA(t,e){rj(t,e),(t=t.alternate)&&rj(t,e)}function y$(t){if(t.tag===13){var e=Ou(t,67108864);e!==null&&Cr(e,t,67108864),YA(t,67108864)}}var Pg=!0;function B7(t,e,n,r){var i=Ae.T;Ae.T=null;var a=Xe.p;try{Xe.p=2,QA(t,e,n,r)}finally{Xe.p=a,Ae.T=i}}function U7(t,e,n,r){var i=Ae.T;Ae.T=null;var a=Xe.p;try{Xe.p=8,QA(t,e,n,r)}finally{Xe.p=a,Ae.T=i}}function QA(t,e,n,r){if(Pg){var i=V1(r);if(i===null)Wb(t,e,r,kg,n),ij(t,r);else if(z7(i,t,e,n,r))r.stopPropagation();else if(ij(t,r),e&4&&-1<V7.indexOf(t)){for(;i!==null;){var a=Tu(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=vs(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-jr(o);s.entanglements[1]|=l,o&=~l}Qi(a),!(Je&6)&&(Ag=$i()+500,Wh(0))}}break;case 13:s=Ou(a,2),s!==null&&Cr(s,a,2),vy(),YA(a,2)}if(a=V1(r),a===null&&Wb(t,e,r,kg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Wb(t,e,r,null,n)}}function V1(t){return t=hA(t),ZA(t)}var kg=null;function ZA(t){if(kg=null,t=Ql(t),t!==null){var e=Rh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=FR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return kg=t,null}function b$(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TU()){case WR:return 2;case KR:return 8;case sg:case OU:return 32;case XR:return 268435456;default:return 32}default:return 32}}var z1=!1,Oo=null,jo=null,No=null,Bd=new Map,Ud=new Map,lo=[],V7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ij(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Bd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ud.delete(e.pointerId)}}function Ef(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Tu(e),e!==null&&y$(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z7(t,e,n,r,i){switch(e){case"focusin":return Oo=Ef(Oo,t,e,n,r,i),!0;case"dragenter":return jo=Ef(jo,t,e,n,r,i),!0;case"mouseover":return No=Ef(No,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Bd.set(a,Ef(Bd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ud.set(a,Ef(Ud.get(a)||null,t,e,n,r,i)),!0}return!1}function x$(t){var e=Ql(t.target);if(e!==null){var n=Rh(e);if(n!==null){if(e=n.tag,e===13){if(e=FR(n),e!==null){t.blockedOn=e,MU(t.priority,function(){if(n.tag===13){var r=Nr();r=cA(r);var i=Ou(n,r);i!==null&&Cr(i,n,r),YA(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=V1(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);a1=r,n.target.dispatchEvent(r),a1=null}else return e=Tu(n),e!==null&&y$(e),t.blockedOn=n,!1;e.shift()}return!0}function aj(t,e,n){Fm(t)&&n.delete(e)}function F7(){z1=!1,Oo!==null&&Fm(Oo)&&(Oo=null),jo!==null&&Fm(jo)&&(jo=null),No!==null&&Fm(No)&&(No=null),Bd.forEach(aj),Ud.forEach(aj)}function Zp(t,e){t.blockedOn===e&&(t.blockedOn=null,z1||(z1=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,F7)))}var Jp=null;function oj(t){Jp!==t&&(Jp=t,on.unstable_scheduleCallback(on.unstable_NormalPriority,function(){Jp===t&&(Jp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(ZA(r||n)===null)continue;break}var a=Tu(n);a!==null&&(t.splice(e,3),e-=3,_1(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vd(t){function e(l){return Zp(l,t)}Oo!==null&&Zp(Oo,t),jo!==null&&Zp(jo,t),No!==null&&Zp(No,t),Bd.forEach(e),Ud.forEach(e);for(var n=0;n<lo.length;n++){var r=lo[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<lo.length&&(n=lo[0],n.blockedOn===null);)x$(n),n.blockedOn===null&&lo.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[cr]||null;if(typeof a=="function")o||oj(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[cr]||null)s=o.formAction;else if(ZA(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),oj(n)}}}function JA(t){this._internalRoot=t}_y.prototype.render=JA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));var n=e.current,r=Nr();v$(n,r,t,e,null,null)};_y.prototype.unmount=JA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;v$(t.current,2,null,t,null,null),vy(),e[Su]=null}};function _y(t){this._internalRoot=t}_y.prototype.unstable_scheduleHydration=function(t){if(t){var e=eM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lo.length&&e!==0&&e<lo[n].priority;n++);lo.splice(n,0,t),n===0&&x$(t)}};var sj=VR.version;if(sj!=="19.1.0")throw Error(J(527,sj,"19.1.0"));Xe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=bU(e),t=t!==null?HR(t):null,t=t===null?null:t.stateNode,t};var H7={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{Mh=em.inject(H7),Or=em}catch{}}ay.createRoot=function(t,e){if(!zR(t))throw Error(J(299));var n=!1,r="",i=mD,a=gD,o=vD,s=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(s=e.unstable_transitionCallbacks)),e=m$(t,1,!1,null,null,n,r,i,a,o,s,null),t[Su]=e.current,WA(t),new JA(e)};ay.hydrateRoot=function(t,e,n){if(!zR(t))throw Error(J(299));var r=!1,i="",a=mD,o=gD,s=vD,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=m$(t,1,!0,e,n??null,r,i,a,o,s,l,u),e.context=g$(null),n=e.current,r=Nr(),r=cA(r),i=Ao(r),i.callback=null,Eo(n,i,r),n=r,e.current.lanes=n,$h(e,n),Qi(e),t[Su]=e.current,WA(t),new _y(e)};ay.version="19.1.0";function _$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_$)}catch(t){console.error(t)}}_$(),MR.exports=ay;var q7=MR.exports,eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.parse=Z7;eE.serialize=J7;const G7=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,W7=/^[\u0021-\u003A\u003C-\u007E]*$/,K7=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,X7=/^[\u0020-\u003A\u003D-\u007E]*$/,Y7=Object.prototype.toString,Q7=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function Z7(t,e){const n=new Q7,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||ez;let a=0;do{const o=t.indexOf("=",a);if(o===-1)break;const s=t.indexOf(";",a),l=s===-1?r:s;if(o>l){a=t.lastIndexOf(";",o-1)+1;continue}const u=lj(t,a,o),f=cj(t,o,u),d=t.slice(u,f);if(n[d]===void 0){let h=lj(t,o+1,l),m=cj(t,l,h);const v=i(t.slice(h,m));n[d]=v}a=l+1}while(a<r);return n}function lj(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function cj(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function J7(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!G7.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!W7.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!K7.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!X7.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!tz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function ez(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function tz(t){return Y7.call(t)==="[object Date]"}var uj="popstate";function nz(t={}){function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return F1("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zd(i)}return iz(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rz(){return Math.random().toString(36).substring(2,10)}function fj(t,e){return{usr:t.state,key:t.key,idx:e}}function F1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Iu(e):e,state:n,key:e&&e.key||r||rz()}}function zd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function iz(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function d(){s="POP";let _=f(),y=_==null?null:_-u;u=_,l&&l({action:s,location:x.location,delta:y})}function h(_,y){s="PUSH";let g=F1(x.location,_,y);u=f()+1;let b=fj(g,u),O=x.createHref(g);try{o.pushState(b,"",O)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(O)}a&&l&&l({action:s,location:x.location,delta:1})}function m(_,y){s="REPLACE";let g=F1(x.location,_,y);u=f();let b=fj(g,u),O=x.createHref(g);o.replaceState(b,"",O),a&&l&&l({action:s,location:x.location,delta:0})}function v(_){return az(_)}let x={get action(){return s},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uj,d),l=_,()=>{i.removeEventListener(uj,d),l=null}},createHref(_){return e(i,_)},createURL:v,encodeLocation(_){let y=v(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(_){return o.go(_)}};return x}function az(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function w$(t,e,n="/"){return oz(t,e,n,!1)}function oz(t,e,n,r){let i=typeof e=="string"?Iu(e):e,a=ka(i.pathname||"/",n);if(a==null)return null;let o=A$(t);sz(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=yz(a);s=gz(o[l],u,r)}return s}function A$(t,e=[],n=[],r=""){let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Ea([r,l.relativePath]),f=n.concat(l);a.children&&a.children.length>0&&(Tt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),A$(a.children,e,f,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:pz(u,a.index),routesMeta:f})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of E$(a.path))i(a,o,l)}),e}function E$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=E$(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function sz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lz=/^:[\w-]+$/,cz=3,uz=2,fz=1,dz=10,hz=-2,dj=t=>t==="*";function pz(t,e){let n=t.split("/"),r=n.length;return n.some(dj)&&(r+=hz),e&&(r+=uz),n.filter(i=>!dj(i)).reduce((i,a)=>i+(lz.test(a)?cz:a===""?fz:dz),r)}function mz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gz(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",d=Rg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Rg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ea([a,d.pathname]),pathnameBase:wz(Ea([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ea([a,d.pathnameBase]))}return o}function Rg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:d},h)=>{if(f==="*"){let v=s[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=s[h];return d&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function vz(t,e=!1,n=!0){qi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ka(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bz(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Iu(t):t;return{pathname:n?n.startsWith("/")?n:xz(n,e):e,search:Az(r),hash:Ez(i)}}function xz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _z(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S$(t){let e=_z(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function T$(t,e,n,r=!1){let i;typeof t=="string"?i=Iu(t):(i={...t},Tt(!i.pathname||!i.pathname.includes("?"),Xb("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Xb("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Xb("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=bz(i,s),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Ea=t=>t.join("/").replace(/\/\/+/g,"/"),wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Az=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ez=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Sz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var O$=["POST","PUT","PATCH","DELETE"];new Set(O$);var Tz=["GET",...O$];new Set(Tz);var Pu=R.createContext(null);Pu.displayName="DataRouter";var wy=R.createContext(null);wy.displayName="DataRouterState";var j$=R.createContext({isTransitioning:!1});j$.displayName="ViewTransition";var Oz=R.createContext(new Map);Oz.displayName="Fetchers";var jz=R.createContext(null);jz.displayName="Await";var Zi=R.createContext(null);Zi.displayName="Navigation";var Yh=R.createContext(null);Yh.displayName="Location";var Fa=R.createContext({outlet:null,matches:[],isDataRoute:!1});Fa.displayName="Route";var tE=R.createContext(null);tE.displayName="RouteError";function Nz(t,{relative:e}={}){Tt(Qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Zi),{hash:i,pathname:a,search:o}=Zh(t,{relative:e}),s=a;return n!=="/"&&(s=a==="/"?n:Ea([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Qh(){return R.useContext(Yh)!=null}function hl(){return Tt(Qh(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Yh).location}var N$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C$(t){R.useContext(Zi).static||R.useLayoutEffect(t)}function Cz(){let{isDataRoute:t}=R.useContext(Fa);return t?Fz():Iz()}function Iz(){Tt(Qh(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Pu),{basename:e,navigator:n}=R.useContext(Zi),{matches:r}=R.useContext(Fa),{pathname:i}=hl(),a=JSON.stringify(S$(r)),o=R.useRef(!1);return C$(()=>{o.current=!0}),R.useCallback((l,u={})=>{if(qi(o.current,N$),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=T$(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ea([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,a,i,t])}R.createContext(null);function Zh(t,{relative:e}={}){let{matches:n}=R.useContext(Fa),{pathname:r}=hl(),i=JSON.stringify(S$(n));return R.useMemo(()=>T$(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Pz(t,e){return I$(t,e)}function I$(t,e,n,r){var y;Tt(Qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(Zi),{matches:a}=R.useContext(Fa),o=a[a.length-1],s=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let g=f&&f.path||"";P$(l,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let d=hl(),h;if(e){let g=typeof e=="string"?Iu(e):e;Tt(u==="/"||((y=g.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),h=g}else h=d;let m=h.pathname||"/",v=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=w$(t,{pathname:v});qi(f||x!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),qi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=$z(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Ea([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Ea([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r);return e&&_?R.createElement(Yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},_):_}function kz(){let t=zz(),e=Sz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}var Rz=R.createElement(kz,null),Mz=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Fa.Provider,{value:this.props.routeContext},R.createElement(tE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dz({routeContext:t,match:e,children:n}){let r=R.useContext(Pu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Fa.Provider,{value:t},n)}function $z(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let l=i.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);Tt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:f,errors:d}=n,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){o=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let d,h=!1,m=null,v=null;n&&(d=a&&u.route.id?a[u.route.id]:void 0,m=u.route.errorElement||Rz,o&&(s<0&&f===0?(P$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):s===f&&(h=!0,v=u.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,f+1)),_=()=>{let y;return d?y=m:h?y=v:u.route.Component?y=R.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,R.createElement(Dz,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:y})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?R.createElement(Mz,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}function nE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lz(t){let e=R.useContext(Pu);return Tt(e,nE(t)),e}function Bz(t){let e=R.useContext(wy);return Tt(e,nE(t)),e}function Uz(t){let e=R.useContext(Fa);return Tt(e,nE(t)),e}function rE(t){let e=Uz(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Vz(){return rE("useRouteId")}function zz(){var r;let t=R.useContext(tE),e=Bz("useRouteError"),n=rE("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Fz(){let{router:t}=Lz("useNavigate"),e=rE("useNavigate"),n=R.useRef(!1);return C$(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{qi(n.current,N$),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var hj={};function P$(t,e,n){!e&&!hj[t]&&(hj[t]=!0,qi(!1,n))}R.memo(Hz);function Hz({routes:t,future:e,state:n}){return I$(t,void 0,n,e)}function k$(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Tt(!Qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=R.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Iu(n));let{pathname:l="/",search:u="",hash:f="",state:d=null,key:h="default"}=n,m=R.useMemo(()=>{let v=ka(l,o);return v==null?null:{location:{pathname:v,search:u,hash:f,state:d,key:h},navigationType:r}},[o,l,u,f,d,h,r]);return qi(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:R.createElement(Zi.Provider,{value:s},R.createElement(Yh.Provider,{children:e,value:m}))}function Gz({children:t,location:e}){return Pz(H1(t),e)}function H1(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,H1(r.props.children,a));return}Tt(r.type===k$,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=H1(r.props.children,a)),n.push(o)}),n}var Hm="get",qm="application/x-www-form-urlencoded";function Ay(t){return t!=null&&typeof t.tagName=="string"}function Wz(t){return Ay(t)&&t.tagName.toLowerCase()==="button"}function Kz(t){return Ay(t)&&t.tagName.toLowerCase()==="form"}function Xz(t){return Ay(t)&&t.tagName.toLowerCase()==="input"}function Yz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qz(t,e){return t.button===0&&(!e||e==="_self")&&!Yz(t)}var tm=null;function Zz(){if(tm===null)try{new FormData(document.createElement("form"),0),tm=!1}catch{tm=!0}return tm}var Jz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yb(t){return t!=null&&!Jz.has(t)?(qi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qm}"`),null):t}function eF(t,e){let n,r,i,a,o;if(Kz(t)){let s=t.getAttribute("action");r=s?ka(s,e):null,n=t.getAttribute("method")||Hm,i=Yb(t.getAttribute("enctype"))||qm,a=new FormData(t)}else if(Wz(t)||Xz(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(r=l?ka(l,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Hm,i=Yb(t.getAttribute("formenctype"))||Yb(s.getAttribute("enctype"))||qm,a=new FormData(s,t),!Zz()){let{name:u,type:f,value:d}=t;if(f==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,d)}}else{if(Ay(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hm,r=null,i=qm,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function iE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function tF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rF(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await tF(a,n);return o.links?o.links():[]}return[]}));return sF(r.flat(1).filter(nF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pj(t,e,n,r,i,a){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,s=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>o(l,u)||s(l,u)):a==="data"?e.filter((l,u)=>{var d;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function iF(t,e,{includeHydrateFallback:n}={}){return aF(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function aF(t){return[...new Set(t)]}function oF(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function sF(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(oF(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lF=new Set([100,101,204,205]);function cF(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ka(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function R$(){let t=R.useContext(Pu);return iE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uF(){let t=R.useContext(wy);return iE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var aE=R.createContext(void 0);aE.displayName="FrameworkContext";function M$(){let t=R.useContext(aE);return iE(t,"You must render this element inside a <HydratedRouter> element"),t}function fF(t,e){let n=R.useContext(aE),[r,i]=R.useState(!1),[a,o]=R.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:d}=e,h=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=y=>{y.forEach(g=>{o(g.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return h.current&&_.observe(h.current),()=>{_.disconnect()}}},[t]),R.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,h,{}]:[a,h,{onFocus:Sf(s,m),onBlur:Sf(l,v),onMouseEnter:Sf(u,m),onMouseLeave:Sf(f,v),onTouchStart:Sf(d,m)}]:[!1,h,{}]}function Sf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dF({page:t,...e}){let{router:n}=R$(),r=R.useMemo(()=>w$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(pF,{page:t,matches:r,...e}):null}function hF(t){let{manifest:e,routeModules:n}=M$(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return rF(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function pF({page:t,matches:e,...n}){let r=hl(),{manifest:i,routeModules:a}=M$(),{basename:o}=R$(),{loaderData:s,matches:l}=uF(),u=R.useMemo(()=>pj(t,e,l,i,r,"data"),[t,e,l,i,r]),f=R.useMemo(()=>pj(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(e.forEach(y=>{var b;let g=i.routes[y.route.id];!g||!g.hasLoader||(!u.some(O=>O.route.id===y.route.id)&&y.route.id in s&&((b=a[y.route.id])!=null&&b.shouldRevalidate)||g.hasClientLoader?x=!0:v.add(y.route.id))}),v.size===0)return[];let _=cF(t,o);return x&&v.size>0&&_.searchParams.set("_routes",e.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[_.pathname+_.search]},[o,s,r,i,u,e,t,a]),h=R.useMemo(()=>iF(f,i),[f,i]),m=hF(f);return R.createElement(R.Fragment,null,d.map(v=>R.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>R.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:x})=>R.createElement("link",{key:v,...x})))}function mF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var D$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D$&&(window.__reactRouterVersion="7.6.2")}catch{}function gF({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=nz({window:n,v5Compat:!0}));let i=r.current,[a,o]=R.useState({action:i.action,location:i.location}),s=R.useCallback(l=>{R.startTransition(()=>o(l))},[o]);return R.useLayoutEffect(()=>i.listen(s),[i,s]),R.createElement(qz,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var $$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L$=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:f,viewTransition:d,...h},m){let{basename:v}=R.useContext(Zi),x=typeof u=="string"&&$$.test(u),_,y=!1;if(typeof u=="string"&&x&&(_=u,D$))try{let j=new URL(window.location.href),I=u.startsWith("//")?new URL(j.protocol+u):new URL(u),T=ka(I.pathname,v);I.origin===j.origin&&T!=null?u=T+I.search+I.hash:y=!0}catch{qi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Nz(u,{relative:i}),[b,O,E]=fF(r,h),N=xF(u,{replace:o,state:s,target:l,preventScrollReset:f,relative:i,viewTransition:d});function S(j){e&&e(j),j.defaultPrevented||N(j)}let w=R.createElement("a",{...h,...E,href:_||g,onClick:y||a?e:S,ref:mF(m,O),target:l,"data-discover":!x&&n==="render"?"true":void 0});return b&&!x?R.createElement(R.Fragment,null,w,R.createElement(dF,{page:g})):w});L$.displayName="Link";var vF=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...u},f){let d=Zh(o,{relative:u.relative}),h=hl(),m=R.useContext(wy),{navigator:v,basename:x}=R.useContext(Zi),_=m!=null&&SF(d)&&s===!0,y=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,g=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(g=g.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&x&&(b=ka(b,x)||b);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=g===y||!i&&g.startsWith(y)&&g.charAt(O)==="/",N=b!=null&&(b===y||!i&&b.startsWith(y)&&b.charAt(y.length)==="/"),S={isActive:E,isPending:N,isTransitioning:_},w=E?e:void 0,j;typeof r=="function"?j=r(S):j=[r,E?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(S):a;return R.createElement(L$,{...u,"aria-current":w,className:j,ref:f,style:I,to:o,viewTransition:s},typeof l=="function"?l(S):l)});vF.displayName="NavLink";var yF=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Hm,action:s,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:d,...h},m)=>{let v=AF(),x=EF(s,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",y=typeof s=="string"&&$$.test(s),g=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let O=b.nativeEvent.submitter,E=(O==null?void 0:O.getAttribute("formmethod"))||o;v(O||b.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:a,relative:u,preventScrollReset:f,viewTransition:d})};return R.createElement("form",{ref:m,method:_,action:x,onSubmit:r?l:g,...h,"data-discover":!y&&t==="render"?"true":void 0})});yF.displayName="Form";function bF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B$(t){let e=R.useContext(Pu);return Tt(e,bF(t)),e}function xF(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Cz(),l=hl(),u=Zh(t,{relative:a});return R.useCallback(f=>{if(Qz(f,e)){f.preventDefault();let d=n!==void 0?n:zd(l)===zd(u);s(t,{replace:d,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,u,n,r,e,t,i,a,o])}var _F=0,wF=()=>`__${String(++_F)}__`;function AF(){let{router:t}=B$("useSubmit"),{basename:e}=R.useContext(Zi),n=Vz();return R.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:l,body:u}=eF(r,e);if(i.navigate===!1){let f=i.fetcherKey||wF();await t.fetch(f,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function EF(t,{relative:e}={}){let{basename:n}=R.useContext(Zi),r=R.useContext(Fa);Tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Zh(t||".",{relative:e})},o=hl();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(f=>f==="")){s.delete("index"),l.filter(d=>d).forEach(d=>s.append("index",d));let f=s.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ea([n,a.pathname])),zd(a)}function SF(t,e={}){let n=R.useContext(j$);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B$("useViewTransitionState"),i=Zh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ka(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ka(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rg(i.pathname,o)!=null||Rg(i.pathname,a)!=null}[...lF];const TF=()=>{};var mj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},V$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[f],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new jF;const h=a<<2|s>>4;if(r.push(h),u!==64){const m=s<<4&240|u>>2;if(r.push(m),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NF=function(t){const e=U$(t);return V$.encodeByteArray(e,!0)},Mg=function(t){return NF(t).replace(/\./g,"")},z$=function(t){try{return V$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=()=>CF().__FIREBASE_DEFAULTS__,PF=()=>{if(typeof process>"u"||typeof mj>"u")return;const t=mj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z$(t[1]);return e&&JSON.parse(e)},Ey=()=>{try{return TF()||IF()||PF()||kF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F$=t=>{var e,n;return(n=(e=Ey())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H$=t=>{const e=F$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q$=()=>{var t;return(t=Ey())===null||t===void 0?void 0:t.config},G$=t=>{var e;return(e=Ey())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){return t.endsWith(".cloudworkstations.dev")}async function oE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mg(JSON.stringify(n)),Mg(JSON.stringify(o)),""].join(".")}const hd={};function MF(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function DF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gj=!1;function sE(t,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||hd[t]===e||hd[t]||gj)return;hd[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=MF().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{gj=!0,o()},h}function f(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=DF(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),x=n("learnmore"),_=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),g=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;s(b),f(_,x);const O=u();l(g,y),b.append(g,v,_,O),document.body.appendChild(b)}a?(v.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function LF(){var t;const e=(t=Ey())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VF(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zF(){return!LF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X$(){try{return typeof indexedDB=="object"}catch{return!1}}function Y$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function FF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HF,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?qF(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Jr(i,s,r)}}function qF(t,e){return t.replace(GF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GF=/\{\$([^}]+)}/g;function WF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(vj(a)&&vj(o)){if(!Bo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KF(t,e){const n=new XF(t,e);return n.subscribe.bind(n)}class XF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qb),i.error===void 0&&(i.error=Qb),i.complete===void 0&&(i.complete=Qb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=1e3,ZF=2,JF=4*60*60*1e3,eH=.5;function yj(t,e=QF,n=ZF){const r=e*Math.pow(n,t),i=Math.round(eH*r*(Math.random()-.5)*2);return Math.min(JF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rH(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nH(t){return t===xs?void 0:t}function rH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const aH={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},oH=Ve.INFO,sH={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},lH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=oH,this._logHandler=lH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const cH=(t,e)=>e.some(n=>t instanceof n);let bj,xj;function uH(){return bj||(bj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fH(){return xj||(xj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q$=new WeakMap,q1=new WeakMap,Z$=new WeakMap,Zb=new WeakMap,lE=new WeakMap;function dH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Q$.set(n,t)}).catch(()=>{}),lE.set(e,t),e}function hH(t){if(q1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});q1.set(t,e)}let G1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return q1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pH(t){G1=t(G1)}function mH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jb(this),e,...n);return Z$.set(r,e.sort?e.sort():[e]),Co(r)}:fH().includes(t)?function(...e){return t.apply(Jb(this),e),Co(Q$.get(this))}:function(...e){return Co(t.apply(Jb(this),e))}}function gH(t){return typeof t=="function"?mH(t):(t instanceof IDBTransaction&&hH(t),cH(t,uH())?new Proxy(t,G1):t)}function Co(t){if(t instanceof IDBRequest)return dH(t);if(Zb.has(t))return Zb.get(t);const e=gH(t);return e!==t&&(Zb.set(t,e),lE.set(e,t)),e}const Jb=t=>lE.get(t);function J$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const vH=["get","getKey","getAll","getAllKeys","count"],yH=["put","add","delete","clear"],ex=new Map;function _j(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ex.get(e))return ex.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vH.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ex.set(e,a),a}pH(t=>({...t,get:(e,n,r)=>_j(e,n)||t.get(e,n,r),has:(e,n)=>!!_j(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W1="@firebase/app",wj="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Sy("@firebase/app"),_H="@firebase/app-compat",wH="@firebase/analytics-compat",AH="@firebase/analytics",EH="@firebase/app-check-compat",SH="@firebase/app-check",TH="@firebase/auth",OH="@firebase/auth-compat",jH="@firebase/database",NH="@firebase/data-connect",CH="@firebase/database-compat",IH="@firebase/functions",PH="@firebase/functions-compat",kH="@firebase/installations",RH="@firebase/installations-compat",MH="@firebase/messaging",DH="@firebase/messaging-compat",$H="@firebase/performance",LH="@firebase/performance-compat",BH="@firebase/remote-config",UH="@firebase/remote-config-compat",VH="@firebase/storage",zH="@firebase/storage-compat",FH="@firebase/firestore",HH="@firebase/ai",qH="@firebase/firestore-compat",GH="firebase",WH="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="[DEFAULT]",KH={[W1]:"fire-core",[_H]:"fire-core-compat",[AH]:"fire-analytics",[wH]:"fire-analytics-compat",[SH]:"fire-app-check",[EH]:"fire-app-check-compat",[TH]:"fire-auth",[OH]:"fire-auth-compat",[jH]:"fire-rtdb",[NH]:"fire-data-connect",[CH]:"fire-rtdb-compat",[IH]:"fire-fn",[PH]:"fire-fn-compat",[kH]:"fire-iid",[RH]:"fire-iid-compat",[MH]:"fire-fcm",[DH]:"fire-fcm-compat",[$H]:"fire-perf",[LH]:"fire-perf-compat",[BH]:"fire-rc",[UH]:"fire-rc-compat",[VH]:"fire-gcs",[zH]:"fire-gcs-compat",[FH]:"fire-fst",[qH]:"fire-fst-compat",[HH]:"fire-vertex","fire-js":"fire-js",[GH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Map,XH=new Map,X1=new Map;function Aj(t,e){try{t.container.addComponent(e)}catch(n){Ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(X1.has(e))return Ra.debug(`There were multiple attempts to register component ${e}.`),!1;X1.set(e,t);for(const n of Dg.values())Aj(n,t);for(const n of XH.values())Aj(n,t);return!0}function Qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new pl("app","Firebase",YH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=WH;function e4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:K1,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Io.create("bad-app-name",{appName:String(i)});if(n||(n=q$()),!n)throw Io.create("no-options");const a=Dg.get(i);if(a){if(Bo(n,a.options)&&Bo(r,a.config))return a;throw Io.create("duplicate-app",{appName:i})}const o=new iH(i);for(const l of X1.values())o.addComponent(l);const s=new QH(n,r,o);return Dg.set(i,s),s}function Ty(t=K1){const e=Dg.get(t);if(!e&&t===K1&&q$())return e4();if(!e)throw Io.create("no-app",{appName:t});return e}function sr(t,e,n){var r;let i=(r=KH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ra.warn(s.join(" "));return}mi(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="firebase-heartbeat-database",JH=1,Fd="firebase-heartbeat-store";let tx=null;function t4(){return tx||(tx=J$(ZH,JH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),tx}async function eq(t){try{const n=(await t4()).transaction(Fd),r=await n.objectStore(Fd).get(n4(t));return await n.done,r}catch(e){if(e instanceof Jr)Ra.warn(e.message);else{const n=Io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ra.warn(n.message)}}}async function Ej(t,e){try{const r=(await t4()).transaction(Fd,"readwrite");await r.objectStore(Fd).put(e,n4(t)),await r.done}catch(n){if(n instanceof Jr)Ra.warn(n.message);else{const r=Io.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ra.warn(r.message)}}}function n4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=1024,nq=30;class rq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Sj();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nq){const o=oq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sj(),{heartbeatsToSend:r,unsentEntries:i}=iq(this._heartbeatsCache.heartbeats),a=Mg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ra.warn(n),""}}}function Sj(){return new Date().toISOString().substring(0,10)}function iq(t,e=tq){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Tj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X$()?Y$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ej(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ej(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tj(t){return Mg(JSON.stringify({version:2,heartbeats:t})).length}function oq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t){mi(new Qr("platform-logger",e=>new bH(e),"PRIVATE")),mi(new Qr("heartbeat",e=>new rq(e),"PRIVATE")),sr(W1,wj,t),sr(W1,wj,"esm2017"),sr("fire-js","")}sq("");function cE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function r4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lq=r4,i4=new pl("auth","Firebase",r4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new Sy("@firebase/auth");function cq(t,...e){$g.logLevel<=Ve.WARN&&$g.warn(`Auth (${ml}): ${t}`,...e)}function Gm(t,...e){$g.logLevel<=Ve.ERROR&&$g.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,...e){throw fE(t,...e)}function di(t,...e){return fE(t,...e)}function uE(t,e,n){const r=Object.assign(Object.assign({},lq()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function Us(t){return uE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gi(t,"argument-error"),uE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return i4.create(t,...e)}function Ee(t,e,...n){if(!t)throw fE(e,...n)}function va(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gm(e),new Error(e)}function Ma(t,e){t||va(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fq(){return Oj()==="http:"||Oj()==="https:"}function Oj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fq()||K$()||"connection"in navigator)?navigator.onLine:!0}function hq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ma(n>e,"Short delay should be less than long delay!"),this.isMobile=$F()||UF()}get(){return dq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){Ma(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gq=new ep(3e4,6e4);function hE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ku(t,e,n,r,i={}){return o4(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Jh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return BF()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(u.credentials="include"),a4.fetch()(await s4(t,t.config.apiHost,n,s),u)})}async function o4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pq),e);try{const i=new yq(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw nm(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nm(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uE(t,f,u);Gi(t,f)}}catch(i){if(i instanceof Jr)throw i;Gi(t,"network-request-failed",{message:String(i)})}}async function vq(t,e,n,r,i={}){const a=await ku(t,e,n,r,i);return"mfaPendingCredential"in a&&Gi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function s4(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?dE(t.config,i):`${t.config.apiScheme}://${i}`;return mq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class yq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),gq.get())})}}function nm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e){return ku(t,"POST","/v1/accounts:delete",e)}async function Lg(t,e){return ku(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xq(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=pE(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:pd(nx(i.auth_time)),issuedAtTime:pd(nx(i.iat)),expirationTime:pd(nx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function nx(t){return Number(t)*1e3}function pE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gm("JWT malformed, contained fewer than 3 sections"),null;try{const i=z$(n);return i?JSON.parse(i):(Gm("Failed to decode base64 JWT payload"),null)}catch(i){return Gm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jj(t){const e=pE(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&_q(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _q({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Hd(t,Lg(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?l4(a.providerUserInfo):[],s=Eq(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),f=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Q1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function Aq(t){const e=Ot(t);await Bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Eq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l4(t){return t.map(e=>{var{providerId:n}=e,r=cE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e){const n=await o4(t,{},async()=>{const r=Jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await s4(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Yo(t.emulatorConfig.host)&&(l.credentials="include"),a4.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tq(t,e){return ku(t,"POST","/v2/accounts:revokeToken",hE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=jj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Sq(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new _c;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ee(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _c,this.toJSON())}_performRefresh(){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=cE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Q1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Hd(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xq(this,e)}reload(){return Aq(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await Hd(this,bq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,f;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:O,isAnonymous:E,providerData:N,stsTokenManager:S}=n;Ee(b&&S,e,"internal-error");const w=_c.fromJSON(this.name,S);Ee(typeof b=="string",e,"internal-error"),Ja(d,e.name),Ja(h,e.name),Ee(typeof O=="boolean",e,"internal-error"),Ee(typeof E=="boolean",e,"internal-error"),Ja(m,e.name),Ja(v,e.name),Ja(x,e.name),Ja(_,e.name),Ja(y,e.name),Ja(g,e.name);const j=new ui({uid:b,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:E,photoURL:v,phoneNumber:m,tenantId:x,stsTokenManager:w,createdAt:y,lastLoginAt:g});return N&&Array.isArray(N)&&(j.providerData=N.map(I=>Object.assign({},I))),_&&(j._redirectEventId=_),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new _c;i.updateFromServerResponse(n);const a=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?l4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new _c;s.updateFromIdToken(r);const l=new ui({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Q1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new Map;function ya(t){Ma(t instanceof Function,"Expected a class definition");let e=Nj.get(t);return e?(Ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c4.type="NONE";const Cj=c4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e,n){return`firebase:${t}:${e}:${n}`}class wc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Wm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Wm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lg(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wc(ya(Cj),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ya(Cj);const o=Wm(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const f=await u._get(o);if(f){let d;if(typeof f=="string"){const h=await Lg(e,{idToken:f}).catch(()=>{});if(!h)break;d=await ui._fromGetAccountInfoResponse(e,h,f)}else d=ui._fromJSON(e,f);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new wc(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new wc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m4(e))return"Blackberry";if(g4(e))return"Webos";if(f4(e))return"Safari";if((e.includes("chrome/")||d4(e))&&!e.includes("edge/"))return"Chrome";if(p4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u4(t=Bn()){return/firefox\//i.test(t)}function f4(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d4(t=Bn()){return/crios\//i.test(t)}function h4(t=Bn()){return/iemobile/i.test(t)}function p4(t=Bn()){return/android/i.test(t)}function m4(t=Bn()){return/blackberry/i.test(t)}function g4(t=Bn()){return/webos/i.test(t)}function mE(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oq(t=Bn()){var e;return mE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jq(){return VF()&&document.documentMode===10}function v4(t=Bn()){return mE(t)||p4(t)||g4(t)||m4(t)||/windows phone/i.test(t)||h4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t,e=[]){let n;switch(t){case"Browser":n=Ij(Bn());break;case"Worker":n=`${Ij(Bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e={}){return ku(t,"GET","/v2/passwordPolicy",hE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=6;class Pq{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Iq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pj(this),this.idTokenSubscription=new Pj(this),this.beforeStateQueue=new Nq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ya(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await wc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lg(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(Us(this));const n=e?Ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ya(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cq(this),n=new Pq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ya(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await wc.create(this,[ya(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oy(t){return Ot(t)}class Pj{constructor(e){this.auth=e,this.observer=null,this.addObserver=KF(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rq(t){gE=t}function Mq(t){return gE.loadJS(t)}function Dq(){return gE.gapiScript}function $q(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(t,e){const n=Qo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Bo(a,e??{}))return i;Gi(i,"already-initialized")}return n.initialize({options:e})}function Bq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ya);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Uq(t,e,n){const r=Oy(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=b4(e),{host:o,port:s}=Vq(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},f=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Bo(u,r.config.emulator)&&Bo(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Yo(o)?(oE(`${a}//${o}${l}`),sE("Auth",!0)):zq()}function b4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vq(t){const e=b4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:kj(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:kj(o)}}}function kj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return va("not implemented")}_getIdTokenResponse(e){return va("not implemented")}_linkToIdToken(e,n){return va("not implemented")}_getReauthenticationResolver(e){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e){return vq(t,"POST","/v1/accounts:signInWithIdp",hE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="http://localhost";class Ys extends x4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=cE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ac(e,n)}buildRequest(){const e={requestUri:Fq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends vE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends tp{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends tp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fa.credential(n,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends tp{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.GITHUB_SIGN_IN_METHOD="github.com";uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends tp{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ui._fromIdTokenResponse(e,r,i),o=Rj(r);return new Uc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rj(r);return new Uc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Jr{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ug.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ug(e,n,r,i)}}function _4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ug._fromErrorAndOperation(t,a,e,r):a})}async function Hq(t,e,n=!1){const r=await Hd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e,n=!1){const{auth:r}=t;if(Hr(r.app))return Promise.reject(Us(r));const i="reauthenticate";try{const a=await Hd(t,_4(r,i,e,t),n);Ee(a.idToken,r,"internal-error");const o=pE(a.idToken);Ee(o,r,"internal-error");const{sub:s}=o;return Ee(t.uid===s,r,"user-mismatch"),Uc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e,n=!1){if(Hr(t.app))return Promise.reject(Us(t));const r="signIn",i=await _4(t,r,e),a=await Uc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function Wq(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function Kq(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function Xq(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function Yq(t){return Ot(t).signOut()}const Vg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vg,"1"),this.storage.removeItem(Vg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=1e3,Zq=10;class A4 extends w4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);jq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A4.type="LOCAL";const Jq=A4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4 extends w4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E4.type="SESSION";const S4=E4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await eG(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=yE("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function nG(t){Bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function rG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aG(){return T4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firebaseLocalStorageDb",oG=1,zg="firebaseLocalStorage",j4="fbase_key";class np{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ny(t,e){return t.transaction([zg],e?"readwrite":"readonly").objectStore(zg)}function sG(){const t=indexedDB.deleteDatabase(O4);return new np(t).toPromise()}function Z1(){const t=indexedDB.open(O4,oG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zg,{keyPath:j4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zg)?e(r):(r.close(),await sG(),e(await Z1()))})})}async function Mj(t,e,n){const r=Ny(t,!0).put({[j4]:e,value:n});return new np(r).toPromise()}async function lG(t,e){const n=Ny(t,!1).get(e),r=await new np(n).toPromise();return r===void 0?null:r.value}function Dj(t,e){const n=Ny(t,!0).delete(e);return new np(n).toPromise()}const cG=800,uG=3;class N4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jy._getInstance(aG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rG(),!this.activeServiceWorker)return;this.sender=new tG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z1();return await Mj(e,Vg,"1"),await Dj(e,Vg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ny(i,!1).getAll();return new np(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N4.type="LOCAL";const fG=N4;new ep(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){return e?ya(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends x4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dG(t){return Gq(t.auth,new bE(t),t.bypassAuthState)}function hG(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),qq(n,new bE(t),t.bypassAuthState)}async function pG(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),Hq(n,new bE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dG;case"linkViaPopup":case"linkViaRedirect":return pG;case"reauthViaPopup":case"reauthViaRedirect":return hG;default:Gi(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=new ep(2e3,1e4);async function gG(t,e,n){if(Hr(t.app))return Promise.reject(di(t,"operation-not-supported-in-this-environment"));const r=Oy(t);uq(t,e,vE);const i=C4(r,n);return new Ss(r,"signInViaPopup",e,i).executeNotNull()}class Ss extends I4{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ma(this.filter.length===1,"Popup operations only handle one event");const e=yE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mG.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="pendingRedirect",Km=new Map;class yG extends I4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Km.get(this.auth._key());if(!e){try{const r=await bG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Km.set(this.auth._key(),e)}return this.bypassAuthState||Km.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bG(t,e){const n=wG(e),r=_G(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xG(t,e){Km.set(t._key(),e)}function _G(t){return ya(t._redirectPersistence)}function wG(t){return Wm(vG,t.config.apiKey,t.name)}async function AG(t,e,n=!1){if(Hr(t.app))return Promise.reject(Us(t));const r=Oy(t),i=C4(r,e),o=await new yG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=10*60*1e3;class SG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EG&&this.cachedEventUids.clear(),this.cachedEventUids.has($j(e))}saveEventToCache(e){this.cachedEventUids.add($j(e)),this.lastProcessedEventTime=Date.now()}}function $j(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OG(t,e={}){return ku(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NG=/^https?/;async function CG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OG(t);for(const n of e)try{if(IG(n))return}catch{}Gi(t,"unauthorized-domain")}function IG(t){const e=Y1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NG.test(n))return!1;if(jG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG=new ep(3e4,6e4);function Lj(){const t=Bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kG(t){return new Promise((e,n)=>{var r,i,a;function o(){Lj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lj(),n(di(t,"network-request-failed"))},timeout:PG.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Bi().gapi)===null||a===void 0)&&a.load)o();else{const s=$q("iframefcb");return Bi()[s]=()=>{gapi.load?o():n(di(t,"network-request-failed"))},Mq(`${Dq()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Xm=null,e})}let Xm=null;function RG(t){return Xm=Xm||kG(t),Xm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=new ep(5e3,15e3),DG="__/auth/iframe",$G="emulator/auth/iframe",LG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UG(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dE(e,$G):`https://${t.config.authDomain}/${DG}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=BG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Jh(r).slice(1)}`}async function VG(t){const e=await RG(t),n=Bi().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:UG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=di(t,"network-request-failed"),s=Bi().setTimeout(()=>{a(o)},MG.get());function l(){Bi().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FG=500,HG=600,qG="_blank",GG="http://localhost";class Bj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WG(t,e,n,r=FG,i=HG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},zG),{width:r.toString(),height:i.toString(),top:a,left:o}),u=Bn().toLowerCase();n&&(s=d4(u)?qG:n),u4(u)&&(e=e||GG,l.scrollbars="yes");const f=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(Oq(u)&&s!=="_self")return KG(e||"",s),new Bj(null);const d=window.open(e||"",s,f);Ee(d,t,"popup-blocked");try{d.focus()}catch{}return new Bj(d)}function KG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG="__/auth/handler",YG="emulator/auth/handler",QG=encodeURIComponent("fac");async function Uj(t,e,n,r,i,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof vE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))o[f]=d}if(e instanceof tp){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${QG}=${encodeURIComponent(l)}`:"";return`${ZG(t)}?${Jh(s).slice(1)}${u}`}function ZG({config:t}){return t.emulator?dE(t,YG):`https://${t.authDomain}/${XG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="webStorageSupport";class JG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S4,this._completeRedirectFn=AG,this._overrideRedirectResult=xG}async _openPopup(e,n,r,i){var a;Ma((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Uj(e,n,r,Y1(),i);return WG(e,o,yE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Uj(e,n,r,Y1(),i);return nG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ma(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VG(e),r=new SG(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rx,{type:rx},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[rx];o!==void 0&&n(!!o),Gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v4()||f4()||mE()}}const eW=JG;var Vj="@firebase/auth",zj="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rW(t){mi(new Qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y4(t)},u=new kq(r,i,a,l);return Bq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mi(new Qr("auth-internal",e=>{const n=Oy(e.getProvider("auth").getImmediate());return(r=>new tW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(Vj,zj,nW(t)),sr(Vj,zj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=5*60,aW=G$("authIdTokenMaxAge")||iW;let Fj=null;const oW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aW)return;const i=n==null?void 0:n.token;Fj!==i&&(Fj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sW(t=Ty()){const e=Qo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lq(t,{popupRedirectResolver:eW,persistence:[fG,Jq,S4]}),r=G$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=oW(a.toString());Kq(n,o,()=>o(n.currentUser)),Wq(n,s=>o(s))}}const i=F$("auth");return i&&Uq(n,`http://${i}`),n}function lW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=di("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",lW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rW("Browser");var Hj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,k4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function j(){}j.prototype=w.prototype,S.D=w.prototype,S.prototype=new j,S.prototype.constructor=S,S.C=function(I,T,P){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return w.prototype[T].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,j){j||(j=0);var I=Array(16);if(typeof w=="string")for(var T=0;16>T;++T)I[T]=w.charCodeAt(j++)|w.charCodeAt(j++)<<8|w.charCodeAt(j++)<<16|w.charCodeAt(j++)<<24;else for(T=0;16>T;++T)I[T]=w[j++]|w[j++]<<8|w[j++]<<16|w[j++]<<24;w=S.g[0],j=S.g[1],T=S.g[2];var P=S.g[3],k=w+(P^j&(T^P))+I[0]+3614090360&4294967295;w=j+(k<<7&4294967295|k>>>25),k=P+(T^w&(j^T))+I[1]+3905402710&4294967295,P=w+(k<<12&4294967295|k>>>20),k=T+(j^P&(w^j))+I[2]+606105819&4294967295,T=P+(k<<17&4294967295|k>>>15),k=j+(w^T&(P^w))+I[3]+3250441966&4294967295,j=T+(k<<22&4294967295|k>>>10),k=w+(P^j&(T^P))+I[4]+4118548399&4294967295,w=j+(k<<7&4294967295|k>>>25),k=P+(T^w&(j^T))+I[5]+1200080426&4294967295,P=w+(k<<12&4294967295|k>>>20),k=T+(j^P&(w^j))+I[6]+2821735955&4294967295,T=P+(k<<17&4294967295|k>>>15),k=j+(w^T&(P^w))+I[7]+4249261313&4294967295,j=T+(k<<22&4294967295|k>>>10),k=w+(P^j&(T^P))+I[8]+1770035416&4294967295,w=j+(k<<7&4294967295|k>>>25),k=P+(T^w&(j^T))+I[9]+2336552879&4294967295,P=w+(k<<12&4294967295|k>>>20),k=T+(j^P&(w^j))+I[10]+4294925233&4294967295,T=P+(k<<17&4294967295|k>>>15),k=j+(w^T&(P^w))+I[11]+2304563134&4294967295,j=T+(k<<22&4294967295|k>>>10),k=w+(P^j&(T^P))+I[12]+1804603682&4294967295,w=j+(k<<7&4294967295|k>>>25),k=P+(T^w&(j^T))+I[13]+4254626195&4294967295,P=w+(k<<12&4294967295|k>>>20),k=T+(j^P&(w^j))+I[14]+2792965006&4294967295,T=P+(k<<17&4294967295|k>>>15),k=j+(w^T&(P^w))+I[15]+1236535329&4294967295,j=T+(k<<22&4294967295|k>>>10),k=w+(T^P&(j^T))+I[1]+4129170786&4294967295,w=j+(k<<5&4294967295|k>>>27),k=P+(j^T&(w^j))+I[6]+3225465664&4294967295,P=w+(k<<9&4294967295|k>>>23),k=T+(w^j&(P^w))+I[11]+643717713&4294967295,T=P+(k<<14&4294967295|k>>>18),k=j+(P^w&(T^P))+I[0]+3921069994&4294967295,j=T+(k<<20&4294967295|k>>>12),k=w+(T^P&(j^T))+I[5]+3593408605&4294967295,w=j+(k<<5&4294967295|k>>>27),k=P+(j^T&(w^j))+I[10]+38016083&4294967295,P=w+(k<<9&4294967295|k>>>23),k=T+(w^j&(P^w))+I[15]+3634488961&4294967295,T=P+(k<<14&4294967295|k>>>18),k=j+(P^w&(T^P))+I[4]+3889429448&4294967295,j=T+(k<<20&4294967295|k>>>12),k=w+(T^P&(j^T))+I[9]+568446438&4294967295,w=j+(k<<5&4294967295|k>>>27),k=P+(j^T&(w^j))+I[14]+3275163606&4294967295,P=w+(k<<9&4294967295|k>>>23),k=T+(w^j&(P^w))+I[3]+4107603335&4294967295,T=P+(k<<14&4294967295|k>>>18),k=j+(P^w&(T^P))+I[8]+1163531501&4294967295,j=T+(k<<20&4294967295|k>>>12),k=w+(T^P&(j^T))+I[13]+2850285829&4294967295,w=j+(k<<5&4294967295|k>>>27),k=P+(j^T&(w^j))+I[2]+4243563512&4294967295,P=w+(k<<9&4294967295|k>>>23),k=T+(w^j&(P^w))+I[7]+1735328473&4294967295,T=P+(k<<14&4294967295|k>>>18),k=j+(P^w&(T^P))+I[12]+2368359562&4294967295,j=T+(k<<20&4294967295|k>>>12),k=w+(j^T^P)+I[5]+4294588738&4294967295,w=j+(k<<4&4294967295|k>>>28),k=P+(w^j^T)+I[8]+2272392833&4294967295,P=w+(k<<11&4294967295|k>>>21),k=T+(P^w^j)+I[11]+1839030562&4294967295,T=P+(k<<16&4294967295|k>>>16),k=j+(T^P^w)+I[14]+4259657740&4294967295,j=T+(k<<23&4294967295|k>>>9),k=w+(j^T^P)+I[1]+2763975236&4294967295,w=j+(k<<4&4294967295|k>>>28),k=P+(w^j^T)+I[4]+1272893353&4294967295,P=w+(k<<11&4294967295|k>>>21),k=T+(P^w^j)+I[7]+4139469664&4294967295,T=P+(k<<16&4294967295|k>>>16),k=j+(T^P^w)+I[10]+3200236656&4294967295,j=T+(k<<23&4294967295|k>>>9),k=w+(j^T^P)+I[13]+681279174&4294967295,w=j+(k<<4&4294967295|k>>>28),k=P+(w^j^T)+I[0]+3936430074&4294967295,P=w+(k<<11&4294967295|k>>>21),k=T+(P^w^j)+I[3]+3572445317&4294967295,T=P+(k<<16&4294967295|k>>>16),k=j+(T^P^w)+I[6]+76029189&4294967295,j=T+(k<<23&4294967295|k>>>9),k=w+(j^T^P)+I[9]+3654602809&4294967295,w=j+(k<<4&4294967295|k>>>28),k=P+(w^j^T)+I[12]+3873151461&4294967295,P=w+(k<<11&4294967295|k>>>21),k=T+(P^w^j)+I[15]+530742520&4294967295,T=P+(k<<16&4294967295|k>>>16),k=j+(T^P^w)+I[2]+3299628645&4294967295,j=T+(k<<23&4294967295|k>>>9),k=w+(T^(j|~P))+I[0]+4096336452&4294967295,w=j+(k<<6&4294967295|k>>>26),k=P+(j^(w|~T))+I[7]+1126891415&4294967295,P=w+(k<<10&4294967295|k>>>22),k=T+(w^(P|~j))+I[14]+2878612391&4294967295,T=P+(k<<15&4294967295|k>>>17),k=j+(P^(T|~w))+I[5]+4237533241&4294967295,j=T+(k<<21&4294967295|k>>>11),k=w+(T^(j|~P))+I[12]+1700485571&4294967295,w=j+(k<<6&4294967295|k>>>26),k=P+(j^(w|~T))+I[3]+2399980690&4294967295,P=w+(k<<10&4294967295|k>>>22),k=T+(w^(P|~j))+I[10]+4293915773&4294967295,T=P+(k<<15&4294967295|k>>>17),k=j+(P^(T|~w))+I[1]+2240044497&4294967295,j=T+(k<<21&4294967295|k>>>11),k=w+(T^(j|~P))+I[8]+1873313359&4294967295,w=j+(k<<6&4294967295|k>>>26),k=P+(j^(w|~T))+I[15]+4264355552&4294967295,P=w+(k<<10&4294967295|k>>>22),k=T+(w^(P|~j))+I[6]+2734768916&4294967295,T=P+(k<<15&4294967295|k>>>17),k=j+(P^(T|~w))+I[13]+1309151649&4294967295,j=T+(k<<21&4294967295|k>>>11),k=w+(T^(j|~P))+I[4]+4149444226&4294967295,w=j+(k<<6&4294967295|k>>>26),k=P+(j^(w|~T))+I[11]+3174756917&4294967295,P=w+(k<<10&4294967295|k>>>22),k=T+(w^(P|~j))+I[2]+718787259&4294967295,T=P+(k<<15&4294967295|k>>>17),k=j+(P^(T|~w))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(T+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var j=w-this.blockSize,I=this.B,T=this.h,P=0;P<w;){if(T==0)for(;P<=j;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<w;)if(I[T++]=S.charCodeAt(P++),T==this.blockSize){i(this,I),T=0;break}}else for(;P<w;)if(I[T++]=S[P++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var j=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=j&255,j/=256;for(this.u(S),S=Array(16),w=j=0;4>w;++w)for(var I=0;32>I;I+=8)S[j++]=this.g[w]>>>I&255;return S};function a(S,w){var j=s;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=w(S)}function o(S,w){this.h=w;for(var j=[],I=!0,T=S.length-1;0<=T;T--){var P=S[T]|0;I&&P==w||(j[T]=P,I=!1)}this.g=j}var s={};function l(S){return-128<=S&&128>S?a(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return _(u(-S));for(var w=[],j=1,I=0;S>=j;I++)w[I]=S/j|0,j*=4294967296;return new o(w,0)}function f(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return _(f(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(w,8)),I=d,T=0;T<S.length;T+=8){var P=Math.min(8,S.length-T),k=parseInt(S.substring(T,T+P),w);8>P?(P=u(Math.pow(w,P)),I=I.j(P).add(u(k))):(I=I.j(j),I=I.add(u(k)))}return I}var d=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-_(this).m();for(var S=0,w=1,j=0;j<this.g.length;j++){var I=this.i(j);S+=(0<=I?I:4294967296+I)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(x(this))return"-"+_(this).toString(S);for(var w=u(Math.pow(S,6)),j=this,I="";;){var T=O(j,w).g;j=y(j,T.j(w));var P=((0<j.g.length?j.g[0]:j.h)>>>0).toString(S);if(j=T,v(j))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=y(this,S),x(S)?-1:v(S)?0:1};function _(S){for(var w=S.g.length,j=[],I=0;I<w;I++)j[I]=~S.g[I];return new o(j,~S.h).add(h)}t.abs=function(){return x(this)?_(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),j=[],I=0,T=0;T<=w;T++){var P=I+(this.i(T)&65535)+(S.i(T)&65535),k=(P>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);I=k>>>16,P&=65535,k&=65535,j[T]=k<<16|P}return new o(j,j[j.length-1]&-2147483648?-1:0)};function y(S,w){return S.add(_(w))}t.j=function(S){if(v(this)||v(S))return d;if(x(this))return x(S)?_(this).j(_(S)):_(_(this).j(S));if(x(S))return _(this.j(_(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var w=this.g.length+S.g.length,j=[],I=0;I<2*w;I++)j[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<S.g.length;T++){var P=this.i(I)>>>16,k=this.i(I)&65535,z=S.i(T)>>>16,U=S.i(T)&65535;j[2*I+2*T]+=k*U,g(j,2*I+2*T),j[2*I+2*T+1]+=P*U,g(j,2*I+2*T+1),j[2*I+2*T+1]+=k*z,g(j,2*I+2*T+1),j[2*I+2*T+2]+=P*z,g(j,2*I+2*T+2)}for(I=0;I<w;I++)j[I]=j[2*I+1]<<16|j[2*I];for(I=w;I<2*w;I++)j[I]=0;return new o(j,0)};function g(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function b(S,w){this.g=S,this.h=w}function O(S,w){if(v(w))throw Error("division by zero");if(v(S))return new b(d,d);if(x(S))return w=O(_(S),w),new b(_(w.g),_(w.h));if(x(w))return w=O(S,_(w)),new b(_(w.g),w.h);if(30<S.g.length){if(x(S)||x(w))throw Error("slowDivide_ only works with positive integers.");for(var j=h,I=w;0>=I.l(S);)j=E(j),I=E(I);var T=N(j,1),P=N(I,1);for(I=N(I,2),j=N(j,2);!v(I);){var k=P.add(I);0>=k.l(S)&&(T=T.add(j),P=k),I=N(I,1),j=N(j,1)}return w=y(S,T.j(w)),new b(T,w)}for(T=d;0<=S.l(w);){for(j=Math.max(1,Math.floor(S.m()/w.m())),I=Math.ceil(Math.log(j)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=u(j),k=P.j(w);x(k)||0<k.l(S);)j-=I,P=u(j),k=P.j(w);v(P)&&(P=h),T=T.add(P),S=y(S,k)}return new b(T,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),j=[],I=0;I<w;I++)j[I]=this.i(I)&S.i(I);return new o(j,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),j=[],I=0;I<w;I++)j[I]=this.i(I)|S.i(I);return new o(j,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),j=[],I=0;I<w;I++)j[I]=this.i(I)^S.i(I);return new o(j,this.h^S.h)};function E(S){for(var w=S.g.length+1,j=[],I=0;I<w;I++)j[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(j,S.h)}function N(S,w){var j=w>>5;w%=32;for(var I=S.g.length-j,T=[],P=0;P<I;P++)T[P]=0<w?S.i(P+j)>>>w|S.i(P+j+1)<<32-w:S.i(P+j);return new o(T,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Po=o}).apply(typeof Hj<"u"?Hj:typeof self<"u"?self:typeof window<"u"?window:{});var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R4,Gf,M4,Ym,J1,D4,$4,L4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,A,C){return p==Array.prototype||p==Object.prototype||(p[A]=C.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof rm=="object"&&rm];for(var A=0;A<p.length;++A){var C=p[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(p,A){if(A)e:{var C=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var F=p[M];if(!(F in C))break e;C=C[F]}p=p[p.length-1],M=C[p],A=A(M),A!=M&&A!=null&&e(C,p,{configurable:!0,writable:!0,value:A})}}function a(p,A){p instanceof String&&(p+="");var C=0,M=!1,F={next:function(){if(!M&&C<p.length){var G=C++;return{value:A(G,p[G]),done:!1}}return M=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(p){return p||function(){return a(this,function(A,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(p){var A=typeof p;return A=A!="object"?A:p?Array.isArray(p)?"array":A:"null",A=="array"||A=="object"&&typeof p.length=="number"}function u(p){var A=typeof p;return A=="object"&&p!=null||A=="function"}function f(p,A,C){return p.call.apply(p.bind,arguments)}function d(p,A,C){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,M),p.apply(A,F)}}return function(){return p.apply(A,arguments)}}function h(p,A,C){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,h.apply(null,arguments)}function m(p,A){var C=Array.prototype.slice.call(arguments,1);return function(){var M=C.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function v(p,A){function C(){}C.prototype=A.prototype,p.aa=A.prototype,p.prototype=new C,p.prototype.constructor=p,p.Qb=function(M,F,G){for(var oe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)oe[ot-2]=arguments[ot];return A.prototype[F].apply(M,oe)}}function x(p){const A=p.length;if(0<A){const C=Array(A);for(let M=0;M<A;M++)C[M]=p[M];return C}return[]}function _(p,A){for(let C=1;C<arguments.length;C++){const M=arguments[C];if(l(M)){const F=p.length||0,G=M.length||0;p.length=F+G;for(let oe=0;oe<G;oe++)p[F+oe]=M[oe]}else p.push(M)}}class y{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function g(p){return/^[\s\xa0]*$/.test(p)}function b(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function O(p){return O[" "](p),p}O[" "]=function(){};var E=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function N(p,A,C){for(const M in p)A.call(C,p[M],M,p)}function S(p,A){for(const C in p)A.call(void 0,p[C],C,p)}function w(p){const A={};for(const C in p)A[C]=p[C];return A}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,A){let C,M;for(let F=1;F<arguments.length;F++){M=arguments[F];for(C in M)p[C]=M[C];for(let G=0;G<j.length;G++)C=j[G],Object.prototype.hasOwnProperty.call(M,C)&&(p[C]=M[C])}}function T(p){var A=1;p=p.split(":");const C=[];for(;0<A&&p.length;)C.push(p.shift()),A--;return p.length&&C.push(p.join(":")),C}function P(p){s.setTimeout(()=>{throw p},0)}function k(){var p=H;let A=null;return p.g&&(A=p.g,p.g=p.g.next,p.g||(p.h=null),A.next=null),A}class z{constructor(){this.h=this.g=null}add(A,C){const M=U.get();M.set(A,C),this.h?this.h.next=M:this.g=M,this.h=M}}var U=new y(()=>new D,p=>p.reset());class D{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let B,V=!1,H=new z,te=()=>{const p=s.Promise.resolve(void 0);B=()=>{p.then(ne)}};var ne=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(C){P(C)}var A=U;A.j(p),100>A.h&&(A.h++,p.next=A.g,A.g=p)}V=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,A){this.type=p,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,A=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};s.addEventListener("test",C,A),s.removeEventListener("test",C,A)}catch{}return p}();function ee(p,A){if(L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var C=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=A,A=p.relatedTarget){if(E){e:{try{O(A.nodeName);var F=!0;break e}catch{}F=!1}F||(A=null)}}else C=="mouseover"?A=p.fromElement:C=="mouseout"&&(A=p.toElement);this.relatedTarget=A,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ee.aa.h.call(this)}}v(ee,L);var xe={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function re(p,A,C,M,F){this.listener=p,this.proxy=null,this.src=A,this.type=C,this.capture=!!M,this.ha=F,this.key=++Ue,this.da=this.fa=!1}function fe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function me(p){this.src=p,this.g={},this.h=0}me.prototype.add=function(p,A,C,M,F){var G=p.toString();p=this.g[G],p||(p=this.g[G]=[],this.h++);var oe=Se(p,A,M,F);return-1<oe?(A=p[oe],C||(A.fa=!1)):(A=new re(A,this.src,G,!!M,F),A.fa=C,p.push(A)),A};function Y(p,A){var C=A.type;if(C in p.g){var M=p.g[C],F=Array.prototype.indexOf.call(M,A,void 0),G;(G=0<=F)&&Array.prototype.splice.call(M,F,1),G&&(fe(A),p.g[C].length==0&&(delete p.g[C],p.h--))}}function Se(p,A,C,M){for(var F=0;F<p.length;++F){var G=p[F];if(!G.da&&G.listener==A&&G.capture==!!C&&G.ha==M)return F}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),he={};function Te(p,A,C,M,F){if(Array.isArray(A)){for(var G=0;G<A.length;G++)Te(p,A[G],C,M,F);return null}return C=ss(C),p&&p[ct]?p.K(A,C,u(M)?!!M.capture:!1,F):tt(p,A,C,!1,M,F)}function tt(p,A,C,M,F,G){if(!A)throw Error("Invalid event type");var oe=u(F)?!!F.capture:!!F,ot=wi(p);if(ot||(p[ge]=ot=new me(p)),C=ot.add(A,C,M,oe,G),C.proxy)return C;if(M=Nt(),C.proxy=M,M.src=p,M.listener=C,p.addEventListener)W||(F=oe),F===void 0&&(F=!1),p.addEventListener(A.toString(),M,F);else if(p.attachEvent)p.attachEvent(jn(A.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Nt(){function p(C){return A.call(p.src,p.listener,C)}const A=we;return p}function $t(p,A,C,M,F){if(Array.isArray(A))for(var G=0;G<A.length;G++)$t(p,A[G],C,M,F);else M=u(M)?!!M.capture:!!M,C=ss(C),p&&p[ct]?(p=p.i,A=String(A).toString(),A in p.g&&(G=p.g[A],C=Se(G,C,M,F),-1<C&&(fe(G[C]),Array.prototype.splice.call(G,C,1),G.length==0&&(delete p.g[A],p.h--)))):p&&(p=wi(p))&&(A=p.g[A.toString()],p=-1,A&&(p=Se(A,C,M,F)),(C=-1<p?A[p]:null)&&On(C))}function On(p){if(typeof p!="number"&&p&&!p.da){var A=p.src;if(A&&A[ct])Y(A.i,p);else{var C=p.type,M=p.proxy;A.removeEventListener?A.removeEventListener(C,M,p.capture):A.detachEvent?A.detachEvent(jn(C),M):A.addListener&&A.removeListener&&A.removeListener(M),(C=wi(A))?(Y(C,p),C.h==0&&(C.src=null,A[ge]=null)):fe(p)}}}function jn(p){return p in he?he[p]:he[p]="on"+p}function we(p,A){if(p.da)p=!0;else{A=new ee(A,this);var C=p.listener,M=p.ha||p.src;p.fa&&On(p),p=C.call(M,A)}return p}function wi(p){return p=p[ge],p instanceof me?p:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ss(p){return typeof p=="function"?p:(p[dr]||(p[dr]=function(A){return p.handleEvent(A)}),p[dr])}function ln(){q.call(this),this.i=new me(this),this.M=this,this.F=null}v(ln,q),ln.prototype[ct]=!0,ln.prototype.removeEventListener=function(p,A,C,M){$t(this,p,A,C,M)};function Lt(p,A){var C,M=p.F;if(M)for(C=[];M;M=M.F)C.push(M);if(p=p.M,M=A.type||A,typeof A=="string")A=new L(A,p);else if(A instanceof L)A.target=A.target||p;else{var F=A;A=new L(M,p),I(A,F)}if(F=!0,C)for(var G=C.length-1;0<=G;G--){var oe=A.g=C[G];F=Ai(oe,M,!0,A)&&F}if(oe=A.g=p,F=Ai(oe,M,!0,A)&&F,F=Ai(oe,M,!1,A)&&F,C)for(G=0;G<C.length;G++)oe=A.g=C[G],F=Ai(oe,M,!1,A)&&F}ln.prototype.N=function(){if(ln.aa.N.call(this),this.i){var p=this.i,A;for(A in p.g){for(var C=p.g[A],M=0;M<C.length;M++)fe(C[M]);delete p.g[A],p.h--}}this.F=null},ln.prototype.K=function(p,A,C,M){return this.i.add(String(p),A,!1,C,M)},ln.prototype.L=function(p,A,C,M){return this.i.add(String(p),A,!0,C,M)};function Ai(p,A,C,M){if(A=p.i.g[String(A)],!A)return!0;A=A.concat();for(var F=!0,G=0;G<A.length;++G){var oe=A[G];if(oe&&!oe.da&&oe.capture==C){var ot=oe.listener,bn=oe.ha||oe.src;oe.fa&&Y(p.i,oe),F=ot.call(bn,M)!==!1&&F}}return F&&!M.defaultPrevented}function ta(p,A,C){if(typeof p=="function")C&&(p=h(p,C));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:s.setTimeout(p,A||0)}function rf(p){p.g=ta(()=>{p.g=null,p.i&&(p.i=!1,rf(p))},p.l);const A=p.h;p.h=null,p.m.apply(null,A)}class tb extends q{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:rf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(p){q.call(this),this.h=p,this.g={}}v(ls,q);var Ap=[];function Ep(p){N(p.g,function(A,C){this.g.hasOwnProperty(C)&&On(A)},p),p.g={}}ls.prototype.N=function(){ls.aa.N.call(this),Ep(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var af=s.JSON.stringify,of=s.JSON.parse,nb=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function sf(){}sf.prototype.h=null;function Sp(p){return p.h||(p.h=p.i())}function Tp(){}var cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){L.call(this,"d")}v(lf,L);function yn(){L.call(this,"c")}v(yn,L);var Ei={},jl=null;function K(){return jl=jl||new ln}Ei.La="serverreachability";function ae(p){L.call(this,Ei.La,p)}v(ae,L);function ue(p){const A=K();Lt(A,new ae(A))}Ei.STAT_EVENT="statevent";function nt(p,A){L.call(this,Ei.STAT_EVENT,p),this.stat=A}v(nt,L);function Me(p){const A=K();Lt(A,new nt(A,p))}Ei.Ma="timingevent";function Fe(p,A){L.call(this,Ei.Ma,p),this.size=A}v(Fe,L);function De(p,A){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},A)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function Zn(p,A,C,M,F,G){p.info(function(){if(p.g)if(G)for(var oe="",ot=G.split("&"),bn=0;bn<ot.length;bn++){var Ge=ot[bn].split("=");if(1<Ge.length){var Cn=Ge[0];Ge=Ge[1];var In=Cn.split("_");oe=2<=In.length&&In[1]=="type"?oe+(Cn+"="+Ge+"&"):oe+(Cn+"=redacted&")}}else oe=null;else oe=G;return"XMLHTTP REQ ("+M+") [attempt "+F+"]: "+A+`
`+C+`
`+oe})}function cn(p,A,C,M,F,G,oe){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+F+"]: "+A+`
`+C+`
`+G+" "+oe})}function Ct(p,A,C,M){p.info(function(){return"XMLHTTP TEXT ("+A+"): "+Nn(p,C)+(M?" "+M:"")})}function Qt(p,A){p.info(function(){return"TIMEOUT: "+A})}Re.prototype.info=function(){};function Nn(p,A){if(!p.g)return A;if(!A)return null;try{var C=JSON.parse(A);if(C){for(p=0;p<C.length;p++)if(Array.isArray(C[p])){var M=C[p];if(!(2>M.length)){var F=M[1];if(Array.isArray(F)&&!(1>F.length)){var G=F[0];if(G!="noop"&&G!="stop"&&G!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return af(C)}catch{return A}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},na;function Ti(){}v(Ti,sf),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},na=new Ti;function Ka(p,A,C,M){this.j=p,this.i=A,this.l=C,this.R=M||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JT}function JT(){this.i=null,this.g="",this.h=!1}var e2={},rb={};function ib(p,A,C){p.L=1,p.v=Cp(ra(A)),p.m=C,p.P=!0,t2(p,null)}function t2(p,A){p.F=Date.now(),Op(p),p.A=ra(p.v);var C=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),m2(C.i,"t",M),p.C=0,C=p.j.J,p.h=new JT,p.g=k2(p.j,C?A:null,!p.m),0<p.O&&(p.M=new tb(h(p.Y,p,p.g),p.O)),A=p.U,C=p.g,M=p.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ap[0]=F.toString()),F=Ap);for(var G=0;G<F.length;G++){var oe=Te(C,F[G],M||A.handleEvent,!1,A.h||A);if(!oe)break;A.g[oe.key]=oe}A=p.H?w(p.H):{},p.m?(p.u||(p.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,A)):(p.u="GET",p.g.ea(p.A,p.u,null,A)),ue(),Zn(p.i,p.u,p.A,p.l,p.R,p.m)}Ka.prototype.ca=function(p){p=p.target;const A=this.M;A&&ia(p)==3?A.j():this.Y(p)},Ka.prototype.Y=function(p){try{if(p==this.g)e:{const In=ia(this.g);var A=this.g.Ba();const Il=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||w2(this.g)))){this.J||In!=4||A==7||(A==8||0>=Il?ue(3):ue(2)),ab(this);var C=this.g.Z();this.X=C;t:if(n2(this)){var M=w2(this.g);p="";var F=M.length,G=ia(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){us(this),cf(this);var oe="";break t}this.h.i=new s.TextDecoder}for(A=0;A<F;A++)this.h.h=!0,p+=this.h.i.decode(M[A],{stream:!(G&&A==F-1)});M.length=0,this.h.g+=p,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=C==200,cn(this.i,this.u,this.A,this.l,this.R,In,C),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,bn=this.g;if((ot=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ot)){var Ge=ot;break t}}Ge=null}if(C=Ge)Ct(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ob(this,C);else{this.o=!1,this.s=3,Me(12),us(this),cf(this);break e}}if(this.P){C=!0;let ri;for(;!this.J&&this.C<oe.length;)if(ri=I9(this,oe),ri==rb){In==4&&(this.s=4,Me(14),C=!1),Ct(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==e2){this.s=4,Me(15),Ct(this.i,this.l,oe,"[Invalid Chunk]"),C=!1;break}else Ct(this.i,this.l,ri,null),ob(this,ri);if(n2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||oe.length!=0||this.h.h||(this.s=1,Me(16),C=!1),this.o=this.o&&C,!C)Ct(this.i,this.l,oe,"[Invalid Chunked Response]"),us(this),cf(this);else if(0<oe.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),db(Cn),Cn.M=!0,Me(11))}}else Ct(this.i,this.l,oe,null),ob(this,oe);In==4&&us(this),this.o&&!this.J&&(In==4?N2(this.j,this):(this.o=!1,Op(this)))}else K9(this.g),C==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),us(this),cf(this)}}}catch{}finally{}};function n2(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function I9(p,A){var C=p.C,M=A.indexOf(`
`,C);return M==-1?rb:(C=Number(A.substring(C,M)),isNaN(C)?e2:(M+=1,M+C>A.length?rb:(A=A.slice(M,M+C),p.C=M+C,A)))}Ka.prototype.cancel=function(){this.J=!0,us(this)};function Op(p){p.S=Date.now()+p.I,r2(p,p.I)}function r2(p,A){if(p.B!=null)throw Error("WatchDog timer not null");p.B=De(h(p.ba,p),A)}function ab(p){p.B&&(s.clearTimeout(p.B),p.B=null)}Ka.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Qt(this.i,this.A),this.L!=2&&(ue(),Me(17)),us(this),this.s=2,cf(this)):r2(this,this.S-p)};function cf(p){p.j.G==0||p.J||N2(p.j,p)}function us(p){ab(p);var A=p.M;A&&typeof A.ma=="function"&&A.ma(),p.M=null,Ep(p.U),p.g&&(A=p.g,p.g=null,A.abort(),A.ma())}function ob(p,A){try{var C=p.j;if(C.G!=0&&(C.g==p||sb(C.h,p))){if(!p.K&&sb(C.h,p)&&C.G==3){try{var M=C.Da.g.parse(A)}catch{M=null}if(Array.isArray(M)&&M.length==3){var F=M;if(F[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<p.F)Dp(C),Rp(C);else break e;fb(C),Me(18)}}else C.za=F[1],0<C.za-C.T&&37500>F[2]&&C.F&&C.v==0&&!C.C&&(C.C=De(h(C.Za,C),6e3));if(1>=o2(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ds(C,11)}else if((p.K||C.g==p)&&Dp(C),!g(A))for(F=C.Da.g.parse(A),A=0;A<F.length;A++){let Ge=F[A];if(C.T=Ge[0],Ge=Ge[1],C.G==2)if(Ge[0]=="c"){C.K=Ge[1],C.ia=Ge[2];const Cn=Ge[3];Cn!=null&&(C.la=Cn,C.j.info("VER="+C.la));const In=Ge[4];In!=null&&(C.Aa=In,C.j.info("SVER="+C.Aa));const Il=Ge[5];Il!=null&&typeof Il=="number"&&0<Il&&(M=1.5*Il,C.L=M,C.j.info("backChannelRequestTimeoutMs_="+M)),M=C;const ri=p.g;if(ri){const Lp=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lp){var G=M.h;G.g||Lp.indexOf("spdy")==-1&&Lp.indexOf("quic")==-1&&Lp.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(lb(G,G.h),G.h=null))}if(M.D){const hb=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;hb&&(M.ya=hb,pt(M.I,M.D,hb))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-p.F,C.j.info("Handshake RTT: "+C.R+"ms")),M=C;var oe=p;if(M.qa=P2(M,M.J?M.ia:null,M.W),oe.K){s2(M.h,oe);var ot=oe,bn=M.L;bn&&(ot.I=bn),ot.B&&(ab(ot),Op(ot)),M.g=oe}else O2(M);0<C.i.length&&Mp(C)}else Ge[0]!="stop"&&Ge[0]!="close"||ds(C,7);else C.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ds(C,7):ub(C):Ge[0]!="noop"&&C.l&&C.l.ta(Ge),C.v=0)}}ue(4)}catch{}}var P9=class{constructor(p,A){this.g=p,this.map=A}};function i2(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function a2(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function o2(p){return p.h?1:p.g?p.g.size:0}function sb(p,A){return p.h?p.h==A:p.g?p.g.has(A):!1}function lb(p,A){p.g?p.g.add(A):p.h=A}function s2(p,A){p.h&&p.h==A?p.h=null:p.g&&p.g.has(A)&&p.g.delete(A)}i2.prototype.cancel=function(){if(this.i=l2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function l2(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let A=p.i;for(const C of p.g.values())A=A.concat(C.D);return A}return x(p.i)}function k9(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var A=[],C=p.length,M=0;M<C;M++)A.push(p[M]);return A}A=[],C=0;for(M in p)A[C++]=p[M];return A}function R9(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var A=[];p=p.length;for(var C=0;C<p;C++)A.push(C);return A}A=[],C=0;for(const M in p)A[C++]=M;return A}}}function c2(p,A){if(p.forEach&&typeof p.forEach=="function")p.forEach(A,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,A,void 0);else for(var C=R9(p),M=k9(p),F=M.length,G=0;G<F;G++)A.call(void 0,M[G],C&&C[G],p)}var u2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M9(p,A){if(p){p=p.split("&");for(var C=0;C<p.length;C++){var M=p[C].indexOf("="),F=null;if(0<=M){var G=p[C].substring(0,M);F=p[C].substring(M+1)}else G=p[C];A(G,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function fs(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof fs){this.h=p.h,jp(this,p.j),this.o=p.o,this.g=p.g,Np(this,p.s),this.l=p.l;var A=p.i,C=new df;C.i=A.i,A.g&&(C.g=new Map(A.g),C.h=A.h),f2(this,C),this.m=p.m}else p&&(A=String(p).match(u2))?(this.h=!1,jp(this,A[1]||"",!0),this.o=uf(A[2]||""),this.g=uf(A[3]||"",!0),Np(this,A[4]),this.l=uf(A[5]||"",!0),f2(this,A[6]||"",!0),this.m=uf(A[7]||"")):(this.h=!1,this.i=new df(null,this.h))}fs.prototype.toString=function(){var p=[],A=this.j;A&&p.push(ff(A,d2,!0),":");var C=this.g;return(C||A=="file")&&(p.push("//"),(A=this.o)&&p.push(ff(A,d2,!0),"@"),p.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&p.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(ff(C,C.charAt(0)=="/"?L9:$9,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",ff(C,U9)),p.join("")};function ra(p){return new fs(p)}function jp(p,A,C){p.j=C?uf(A,!0):A,p.j&&(p.j=p.j.replace(/:$/,""))}function Np(p,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);p.s=A}else p.s=null}function f2(p,A,C){A instanceof df?(p.i=A,V9(p.i,p.h)):(C||(A=ff(A,B9)),p.i=new df(A,p.h))}function pt(p,A,C){p.i.set(A,C)}function Cp(p){return pt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function uf(p,A){return p?A?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ff(p,A,C){return typeof p=="string"?(p=encodeURI(p).replace(A,D9),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function D9(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var d2=/[#\/\?@]/g,$9=/[#\?:]/g,L9=/[#\?]/g,B9=/[#\?@]/g,U9=/#/g;function df(p,A){this.h=this.g=null,this.i=p||null,this.j=!!A}function Xa(p){p.g||(p.g=new Map,p.h=0,p.i&&M9(p.i,function(A,C){p.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=df.prototype,t.add=function(p,A){Xa(this),this.i=null,p=Nl(this,p);var C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(A),this.h+=1,this};function h2(p,A){Xa(p),A=Nl(p,A),p.g.has(A)&&(p.i=null,p.h-=p.g.get(A).length,p.g.delete(A))}function p2(p,A){return Xa(p),A=Nl(p,A),p.g.has(A)}t.forEach=function(p,A){Xa(this),this.g.forEach(function(C,M){C.forEach(function(F){p.call(A,F,M,this)},this)},this)},t.na=function(){Xa(this);const p=Array.from(this.g.values()),A=Array.from(this.g.keys()),C=[];for(let M=0;M<A.length;M++){const F=p[M];for(let G=0;G<F.length;G++)C.push(A[M])}return C},t.V=function(p){Xa(this);let A=[];if(typeof p=="string")p2(this,p)&&(A=A.concat(this.g.get(Nl(this,p))));else{p=Array.from(this.g.values());for(let C=0;C<p.length;C++)A=A.concat(p[C])}return A},t.set=function(p,A){return Xa(this),this.i=null,p=Nl(this,p),p2(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[A]),this.h+=1,this},t.get=function(p,A){return p?(p=this.V(p),0<p.length?String(p[0]):A):A};function m2(p,A,C){h2(p,A),0<C.length&&(p.i=null,p.g.set(Nl(p,A),x(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],A=Array.from(this.g.keys());for(var C=0;C<A.length;C++){var M=A[C];const G=encodeURIComponent(String(M)),oe=this.V(M);for(M=0;M<oe.length;M++){var F=G;oe[M]!==""&&(F+="="+encodeURIComponent(String(oe[M]))),p.push(F)}}return this.i=p.join("&")};function Nl(p,A){return A=String(A),p.j&&(A=A.toLowerCase()),A}function V9(p,A){A&&!p.j&&(Xa(p),p.i=null,p.g.forEach(function(C,M){var F=M.toLowerCase();M!=F&&(h2(this,M),m2(this,F,C))},p)),p.j=A}function z9(p,A){const C=new Re;if(s.Image){const M=new Image;M.onload=m(Ya,C,"TestLoadImage: loaded",!0,A,M),M.onerror=m(Ya,C,"TestLoadImage: error",!1,A,M),M.onabort=m(Ya,C,"TestLoadImage: abort",!1,A,M),M.ontimeout=m(Ya,C,"TestLoadImage: timeout",!1,A,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else A(!1)}function F9(p,A){const C=new Re,M=new AbortController,F=setTimeout(()=>{M.abort(),Ya(C,"TestPingServer: timeout",!1,A)},1e4);fetch(p,{signal:M.signal}).then(G=>{clearTimeout(F),G.ok?Ya(C,"TestPingServer: ok",!0,A):Ya(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(F),Ya(C,"TestPingServer: error",!1,A)})}function Ya(p,A,C,M,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),M(C)}catch{}}function H9(){this.g=new nb}function q9(p,A,C){const M=C||"";try{c2(p,function(F,G){let oe=F;u(F)&&(oe=af(F)),A.push(M+G+"="+encodeURIComponent(oe))})}catch(F){throw A.push(M+"type="+encodeURIComponent("_badmap")),F}}function Ip(p){this.l=p.Ub||null,this.j=p.eb||!1}v(Ip,sf),Ip.prototype.g=function(){return new Pp(this.l,this.j)},Ip.prototype.i=function(p){return function(){return p}}({});function Pp(p,A){ln.call(this),this.D=p,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Pp,ln),t=Pp.prototype,t.open=function(p,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=A,this.readyState=1,pf(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(A.body=p),(this.D||s).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hf(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,pf(this)),this.g&&(this.readyState=3,pf(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g2(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function g2(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var A=p.value?p.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!p.done}))&&(this.response=this.responseText+=A)}p.done?hf(this):pf(this),this.readyState==3&&g2(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,hf(this))},t.Qa=function(p){this.g&&(this.response=p,hf(this))},t.ga=function(){this.g&&hf(this)};function hf(p){p.readyState=4,p.l=null,p.j=null,p.v=null,pf(p)}t.setRequestHeader=function(p,A){this.u.append(p,A)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=A.next();return p.join(`\r
`)};function pf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function v2(p){let A="";return N(p,function(C,M){A+=M,A+=":",A+=C,A+=`\r
`}),A}function cb(p,A,C){e:{for(M in C){var M=!1;break e}M=!0}M||(C=v2(C),typeof p=="string"?C!=null&&encodeURIComponent(String(C)):pt(p,A,C))}function It(p){ln.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(It,ln);var G9=/^https?$/i,W9=["POST","PUT"];t=It.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,A,C,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);A=A?A.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():na.g(),this.v=this.o?Sp(this.o):Sp(na),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(p),!0),this.B=!1}catch(G){y2(this,G);return}if(p=C||"",C=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var F in M)C.set(F,M[F]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const G of M.keys())C.set(G,M.get(G));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(C.keys()).find(G=>G.toLowerCase()=="content-type"),F=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call(W9,A,void 0))||M||F||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of C)this.g.setRequestHeader(G,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_2(this),this.u=!0,this.g.send(p),this.u=!1}catch(G){y2(this,G)}};function y2(p,A){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=A,p.m=5,b2(p),kp(p)}function b2(p){p.A||(p.A=!0,Lt(p,"complete"),Lt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Lt(this,"complete"),Lt(this,"abort"),kp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kp(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?x2(this):this.bb())},t.bb=function(){x2(this)};function x2(p){if(p.h&&typeof o<"u"&&(!p.v[1]||ia(p)!=4||p.Z()!=2)){if(p.u&&ia(p)==4)ta(p.Ea,0,p);else if(Lt(p,"readystatechange"),ia(p)==4){p.h=!1;try{const oe=p.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var M;if(M=oe===0){var F=String(p.D).match(u2)[1]||null;!F&&s.self&&s.self.location&&(F=s.self.location.protocol.slice(0,-1)),M=!G9.test(F?F.toLowerCase():"")}C=M}if(C)Lt(p,"complete"),Lt(p,"success");else{p.m=6;try{var G=2<ia(p)?p.g.statusText:""}catch{G=""}p.l=G+" ["+p.Z()+"]",b2(p)}}finally{kp(p)}}}}function kp(p,A){if(p.g){_2(p);const C=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,A||Lt(p,"ready");try{C.onreadystatechange=M}catch{}}}function _2(p){p.I&&(s.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function ia(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<ia(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var A=this.g.responseText;return p&&A.indexOf(p)==0&&(A=A.substring(p.length)),of(A)}};function w2(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function K9(p){const A={};p=(p.g&&2<=ia(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(g(p[M]))continue;var C=T(p[M]);const F=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const G=A[F]||[];A[F]=G,G.push(C)}S(A,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mf(p,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||A}function A2(p){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mf("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mf("baseRetryDelayMs",5e3,p),this.cb=mf("retryDelaySeedMs",1e4,p),this.Wa=mf("forwardChannelMaxRetries",2,p),this.wa=mf("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new i2(p&&p.concurrentRequestLimit),this.Da=new H9,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=A2.prototype,t.la=8,t.G=1,t.connect=function(p,A,C,M){Me(0),this.W=p,this.H=A||{},C&&M!==void 0&&(this.H.OSID=C,this.H.OAID=M),this.F=this.X,this.I=P2(this,null,this.W),Mp(this)};function ub(p){if(E2(p),p.G==3){var A=p.U++,C=ra(p.I);if(pt(C,"SID",p.K),pt(C,"RID",A),pt(C,"TYPE","terminate"),gf(p,C),A=new Ka(p,p.j,A),A.L=2,A.v=Cp(ra(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(A.v.toString(),"")}catch{}!C&&s.Image&&(new Image().src=A.v,C=!0),C||(A.g=k2(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Op(A)}I2(p)}function Rp(p){p.g&&(db(p),p.g.cancel(),p.g=null)}function E2(p){Rp(p),p.u&&(s.clearTimeout(p.u),p.u=null),Dp(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function Mp(p){if(!a2(p.h)&&!p.s){p.s=!0;var A=p.Ga;B||te(),V||(B(),V=!0),H.add(A,p),p.B=0}}function X9(p,A){return o2(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=A.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=De(h(p.Ga,p,A),C2(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const F=new Ka(this,this.j,p);let G=this.o;if(this.S&&(G?(G=w(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(F.H=G,G=null),this.P)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var M=this.i[C];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(A+=M,4096<A){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=T2(this,F,A),C=ra(this.I),pt(C,"RID",p),pt(C,"CVER",22),this.D&&pt(C,"X-HTTP-Session-Id",this.D),gf(this,C),G&&(this.O?A="headers="+encodeURIComponent(String(v2(G)))+"&"+A:this.m&&cb(C,this.m,G)),lb(this.h,F),this.Ua&&pt(C,"TYPE","init"),this.P?(pt(C,"$req",A),pt(C,"SID","null"),F.T=!0,ib(F,C,null)):ib(F,C,A),this.G=2}}else this.G==3&&(p?S2(this,p):this.i.length==0||a2(this.h)||S2(this))};function S2(p,A){var C;A?C=A.l:C=p.U++;const M=ra(p.I);pt(M,"SID",p.K),pt(M,"RID",C),pt(M,"AID",p.T),gf(p,M),p.m&&p.o&&cb(M,p.m,p.o),C=new Ka(p,p.j,C,p.B+1),p.m===null&&(C.H=p.o),A&&(p.i=A.D.concat(p.i)),A=T2(p,C,1e3),C.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),lb(p.h,C),ib(C,M,A)}function gf(p,A){p.H&&N(p.H,function(C,M){pt(A,M,C)}),p.l&&c2({},function(C,M){pt(A,M,C)})}function T2(p,A,C){C=Math.min(p.i.length,C);var M=p.l?h(p.l.Na,p.l,p):null;e:{var F=p.i;let G=-1;for(;;){const oe=["count="+C];G==-1?0<C?(G=F[0].g,oe.push("ofs="+G)):G=0:oe.push("ofs="+G);let ot=!0;for(let bn=0;bn<C;bn++){let Ge=F[bn].g;const Cn=F[bn].map;if(Ge-=G,0>Ge)G=Math.max(0,F[bn].g-100),ot=!1;else try{q9(Cn,oe,"req"+Ge+"_")}catch{M&&M(Cn)}}if(ot){M=oe.join("&");break e}}}return p=p.i.splice(0,C),A.D=p,M}function O2(p){if(!p.g&&!p.u){p.Y=1;var A=p.Fa;B||te(),V||(B(),V=!0),H.add(A,p),p.v=0}}function fb(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=De(h(p.Fa,p),C2(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,j2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=De(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),Rp(this),j2(this))};function db(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function j2(p){p.g=new Ka(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var A=ra(p.qa);pt(A,"RID","rpc"),pt(A,"SID",p.K),pt(A,"AID",p.T),pt(A,"CI",p.F?"0":"1"),!p.F&&p.ja&&pt(A,"TO",p.ja),pt(A,"TYPE","xmlhttp"),gf(p,A),p.m&&p.o&&cb(A,p.m,p.o),p.L&&(p.g.I=p.L);var C=p.g;p=p.ia,C.L=1,C.v=Cp(ra(A)),C.m=null,C.P=!0,t2(C,p)}t.Za=function(){this.C!=null&&(this.C=null,Rp(this),fb(this),Me(19))};function Dp(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function N2(p,A){var C=null;if(p.g==A){Dp(p),db(p),p.g=null;var M=2}else if(sb(p.h,A))C=A.D,s2(p.h,A),M=1;else return;if(p.G!=0){if(A.o)if(M==1){C=A.m?A.m.length:0,A=Date.now()-A.F;var F=p.B;M=K(),Lt(M,new Fe(M,C)),Mp(p)}else O2(p);else if(F=A.s,F==3||F==0&&0<A.X||!(M==1&&X9(p,A)||M==2&&fb(p)))switch(C&&0<C.length&&(A=p.h,A.i=A.i.concat(C)),F){case 1:ds(p,5);break;case 4:ds(p,10);break;case 3:ds(p,6);break;default:ds(p,2)}}}function C2(p,A){let C=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(C*=2),C*A}function ds(p,A){if(p.j.info("Error code "+A),A==2){var C=h(p.fb,p),M=p.Xa;const F=!M;M=new fs(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||jp(M,"https"),Cp(M),F?z9(M.toString(),C):F9(M.toString(),C)}else Me(2);p.G=0,p.l&&p.l.sa(A),I2(p),E2(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function I2(p){if(p.G=0,p.ka=[],p.l){const A=l2(p.h);(A.length!=0||p.i.length!=0)&&(_(p.ka,A),_(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function P2(p,A,C){var M=C instanceof fs?ra(C):new fs(C);if(M.g!="")A&&(M.g=A+"."+M.g),Np(M,M.s);else{var F=s.location;M=F.protocol,A=A?A+"."+F.hostname:F.hostname,F=+F.port;var G=new fs(null);M&&jp(G,M),A&&(G.g=A),F&&Np(G,F),C&&(G.l=C),M=G}return C=p.D,A=p.ya,C&&A&&pt(M,C,A),pt(M,"VER",p.la),gf(p,M),M}function k2(p,A,C){if(A&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=p.Ca&&!p.pa?new It(new Ip({eb:C})):new It(p.pa),A.Ha(p.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R2(){}t=R2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $p(){}$p.prototype.g=function(p,A){return new hr(p,A)};function hr(p,A){ln.call(this),this.g=new A2(A),this.l=p,this.h=A&&A.messageUrlParams||null,p=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(p?p["X-WebChannel-Content-Type"]=A.messageContentType:p={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(p?p["X-WebChannel-Client-Profile"]=A.va:p={"X-WebChannel-Client-Profile":A.va}),this.g.S=p,(p=A&&A.Sb)&&!g(p)&&(this.g.m=p),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!g(A)&&(this.g.D=A,p=this.h,p!==null&&A in p&&(p=this.h,A in p&&delete p[A])),this.j=new Cl(this)}v(hr,ln),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){ub(this.g)},hr.prototype.o=function(p){var A=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.u&&(C={},C.__data__=af(p),p=C);A.i.push(new P9(A.Ya++,p)),A.G==3&&Mp(A)},hr.prototype.N=function(){this.g.l=null,delete this.j,ub(this.g),delete this.g,hr.aa.N.call(this)};function M2(p){lf.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var A=p.__sm__;if(A){e:{for(const C in A){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,A=A!==null&&p in A?A[p]:void 0),this.data=A}else this.data=p}v(M2,lf);function D2(){yn.call(this),this.status=1}v(D2,yn);function Cl(p){this.g=p}v(Cl,R2),Cl.prototype.ua=function(){Lt(this.g,"a")},Cl.prototype.ta=function(p){Lt(this.g,new M2(p))},Cl.prototype.sa=function(p){Lt(this.g,new D2)},Cl.prototype.ra=function(){Lt(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,L4=function(){return new $p},$4=function(){return K()},D4=Ei,J1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,Ym=Si,Wa.COMPLETE="complete",M4=Wa,Tp.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",ln.prototype.listen=ln.prototype.K,Gf=Tp,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,R4=It}).apply(typeof rm<"u"?rm:typeof self<"u"?self:typeof window<"u"?window:{});const qj="@firebase/firestore",Gj="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Sy("@firebase/firestore");function ql(){return Qs.logLevel}function se(t,...e){if(Qs.logLevel<=Ve.DEBUG){const n=e.map(xE);Qs.debug(`Firestore (${Ru}): ${t}`,...n)}}function Da(t,...e){if(Qs.logLevel<=Ve.ERROR){const n=e.map(xE);Qs.error(`Firestore (${Ru}): ${t}`,...n)}}function Vc(t,...e){if(Qs.logLevel<=Ve.WARN){const n=e.map(xE);Qs.warn(`Firestore (${Ru}): ${t}`,...n)}}function xE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,B4(t,r,n)}function B4(t,e,n){let r=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Da(r),new Error(r)}function Ye(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||B4(e,i,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class uW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fW{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Sa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Sa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new U4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class dW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=a=>{a.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function e_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Pe(r,i);{const a=V4(),o=gW(a.encode(Kj(t,n)),a.encode(Kj(e,n)));return o!==0?o:Pe(r,i)}}n+=r>65535?2:1}return Pe(t.length,e.length)}function Kj(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Pe(t[n],e[n]);return Pe(t.length,e.length)}function zc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=-62135596800,Yj=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Yj);return new rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xj)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yj}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new rn(0,0))}static max(){return new Oe(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="__name__";class ji{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ji.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Pe(e.length,n.length)}static compareSegments(e,n){const r=ji.isNumericId(e),i=ji.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ji.extractNumericId(e).compare(ji.extractNumericId(n)):e_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Po.fromString(e.substring(4,e.length-2))}}class vt extends ji{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const vW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends ji{construct(e,n,r){return new En(e,n,r)}static isValidIdentifier(e){return vW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qj}static keyField(){return new En([Qj])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(vt.fromString(e))}static fromName(e){return new pe(vt.fromString(e).popFirst(5))}static empty(){return new pe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=-1;function yW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Uo(i,pe.empty(),e)}function bW(t){return new Uo(t.readTime,t.key,qd)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(Oe.min(),pe.empty(),qd)}static max(){return new Uo(Oe.max(),pe.empty(),qd)}}function xW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==_W)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++s,s===a&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Z((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function AW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Cy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=-1;function Iy(t){return t==null}function Fg(t){return t===0&&1/t==-1/0}function EW(t){return typeof t=="number"&&Number.isInteger(t)&&!Fg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="";function SW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zj(e)),e=TW(t.get(n),e);return Zj(e)}function TW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case F4:n+="";break;default:n+=a}}return n}function Zj(t){return t+F4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=a??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eN(this.data.getIterator())}getIteratorFrom(e){return new eN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class eN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new an(En.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new q4("Invalid base64 string: "+a):a}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const OW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=OW.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zo(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="server_timestamp",W4="__type__",K4="__previous_value__",X4="__local_write_time__";function wE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[W4])===null||n===void 0?void 0:n.stringValue)===G4}function Py(t){const e=t.mapValue.fields[K4];return wE(e)?Py(e):e}function Gd(t){const e=Vo(t.mapValue.fields[X4].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r,i,a,o,s,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Hg="(default)";class Wd{constructor(e,n){this.projectId=e,this.database=n||Hg}static empty(){return new Wd("","")}get isDefaultDatabase(){return this.database===Hg}isEqual(e){return e instanceof Wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="__type__",NW="__max__",am={mapValue:{}},Q4="__vector__",qg="value";function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wE(t)?4:IW(t)?9007199254740991:CW(t)?10:11:_e(28295,{value:t})}function Wi(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gd(t).isEqual(Gd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Vo(i.timestampValue),s=Vo(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return zo(i.bytesValue).isEqual(zo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Vt(i.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Vt(i.integerValue)===Vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Vt(i.doubleValue),s=Vt(a.doubleValue);return o===s?Fg(o)===Fg(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return zc(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(Jj(o)!==Jj(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Wi(o[l],s[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function Kd(t,e){return(t.values||[]).find(n=>Wi(n,e))!==void 0}function Fc(t,e){if(t===e)return 0;const n=Fo(t),r=Fo(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Vt(a.integerValue||a.doubleValue),l=Vt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return tN(t.timestampValue,e.timestampValue);case 4:return tN(Gd(t),Gd(e));case 5:return e_(t.stringValue,e.stringValue);case 6:return function(a,o){const s=zo(a),l=zo(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=Pe(s[u],l[u]);if(f!==0)return f}return Pe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Pe(Vt(a.latitude),Vt(o.latitude));return s!==0?s:Pe(Vt(a.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nN(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,f;const d=a.fields||{},h=o.fields||{},m=(s=d[qg])===null||s===void 0?void 0:s.arrayValue,v=(l=h[qg])===null||l===void 0?void 0:l.arrayValue,x=Pe(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:nN(m,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===am.mapValue&&o===am.mapValue)return 0;if(a===am.mapValue)return 1;if(o===am.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const h=e_(l[d],f[d]);if(h!==0)return h;const m=Fc(s[l[d]],u[f[d]]);if(m!==0)return m}return Pe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function tN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Vo(t),r=Vo(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function nN(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Fc(n[i],r[i]);if(a)return a}return Pe(n.length,r.length)}function Hc(t){return t_(t)}function t_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=t_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${t_(n.fields[o])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function Qm(t){switch(Fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Py(t);return e?16+Qm(e):16;case 5:return 2*t.stringValue.length;case 6:return zo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Qm(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zo(r.fields,(a,o)=>{i+=a.length+Qm(o)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function rN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n_(t){return!!t&&"integerValue"in t}function AE(t){return!!t&&"arrayValue"in t}function iN(t){return!!t&&"nullValue"in t}function aN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zm(t){return!!t&&"mapValue"in t}function CW(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Y4])===null||n===void 0?void 0:n.stringValue)===Q4}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=En.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=md(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Zm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ir(md(this.value))}}function Z4(t){const e=[];return Zo(t.fields,(n,r)=>{const i=new En([n]);if(Zm(r)){const a=Z4(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Mn(e,0,Oe.min(),Oe.min(),Oe.min(),ir.empty(),0)}static newFoundDocument(e,n,r,i){return new Mn(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Mn(e,2,n,Oe.min(),Oe.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Oe.min(),Oe.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.position=e,this.inclusive=n}}function oN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=Fc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n="asc"){this.field=e,this.dir=n}}function PW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class Gt extends J4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RW(e,n,r):n==="array-contains"?new $W(e,r):n==="in"?new LW(e,r):n==="not-in"?new BW(e,r):n==="array-contains-any"?new UW(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MW(e,r):new DW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fc(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(Fc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends J4{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new gi(e,n)}matches(e){return e6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function e6(t){return t.op==="and"}function t6(t){return kW(t)&&e6(t)}function kW(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function r_(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Hc(t.value);if(t6(t))return t.filters.map(e=>r_(e)).join(",");{const e=t.filters.map(n=>r_(n)).join(",");return`${t.op}(${e})`}}function n6(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&Wi(r.value,i.value)}(t,e):t instanceof gi?function(r,i){return i instanceof gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&n6(o,i.filters[s]),!0):!1}(t,e):void _e(19439)}function r6(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hc(n.value)}`}(t):t instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(r6).join(" ,")+"}"}(t):"Filter"}class RW extends Gt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class MW extends Gt{constructor(e,n){super(e,"in",n),this.keys=i6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DW extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=i6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class $W extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return AE(n)&&Kd(n.arrayValue,this.value)}}class LW extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kd(this.value.arrayValue,n)}}class BW extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kd(this.value.arrayValue,n)}}class UW extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!AE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function lN(t,e=null,n=[],r=[],i=null,a=null,o=null){return new VW(t,e,n,r,i,a,o)}function EE(t){const e=Ne(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>r_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Iy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hc(r)).join(",")),e.Ie=n}return e.Ie}function SE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sN(t.startAt,e.startAt)&&sN(t.endAt,e.endAt)}function i_(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zW(t,e,n,r,i,a,o,s){return new $u(t,e,n,r,i,a,o,s)}function TE(t){return new $u(t)}function cN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a6(t){return t.collectionGroup!==null}function gd(t){const e=Ne(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new an(En.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Xd(a,r))}),n.has(En.keyField().canonicalString())||e.Ee.push(new Xd(En.keyField(),r))}return e.Ee}function Ui(t){const e=Ne(t);return e.de||(e.de=FW(e,gd(t))),e.de}function FW(t,e){if(t.limitType==="F")return lN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Xd(i.field,a)});const n=t.endAt?new Gg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gg(t.startAt.position,t.startAt.inclusive):null;return lN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a_(t,e){const n=t.filters.concat([e]);return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o_(t,e,n){return new $u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ky(t,e){return SE(Ui(t),Ui(e))&&t.limitType===e.limitType}function o6(t){return`${EE(Ui(t))}|lt:${t.limitType}`}function Gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>r6(i)).join(", ")}]`),Iy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hc(i)).join(",")),`Target(${r})`}(Ui(t))}; limitType=${t.limitType})`}function Ry(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of gd(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=oN(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,gd(r),i)||r.endAt&&!function(o,s,l){const u=oN(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,gd(r),i))}(t,e)}function HW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function s6(t){return(e,n)=>{let r=!1;for(const i of gd(t)){const a=qW(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function qW(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Fc(l,u):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return H4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new jt(pe.comparator);function $a(){return GW}const l6=new jt(pe.comparator);function Wf(...t){let e=l6;for(const n of t)e=e.insert(n.key,n);return e}function c6(t){let e=l6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return vd()}function u6(){return vd()}function vd(){return new gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const WW=new jt(pe.comparator),KW=new an(pe.comparator);function ze(...t){let e=KW;for(const n of t)e=e.add(n);return e}const XW=new an(Pe);function YW(){return XW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fg(e)?"-0":e}}function f6(t){return{integerValue:""+t}}function QW(t,e){return EW(e)?f6(e):OE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this._=void 0}}function ZW(t,e,n){return t instanceof Yd?function(i,a){const o={fields:{[W4]:{stringValue:G4},[X4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&wE(a)&&(a=Py(a)),a&&(o.fields[K4]=a),{mapValue:o}}(n,e):t instanceof Qd?h6(t,e):t instanceof Zd?p6(t,e):function(i,a){const o=d6(i,a),s=uN(o)+uN(i.Re);return n_(o)&&n_(i.Re)?f6(s):OE(i.serializer,s)}(t,e)}function JW(t,e,n){return t instanceof Qd?h6(t,e):t instanceof Zd?p6(t,e):n}function d6(t,e){return t instanceof Wg?function(r){return n_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Yd extends My{}class Qd extends My{constructor(e){super(),this.elements=e}}function h6(t,e){const n=m6(e);for(const r of t.elements)n.some(i=>Wi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zd extends My{constructor(e){super(),this.elements=e}}function p6(t,e){let n=m6(e);for(const r of t.elements)n=n.filter(i=>!Wi(i,r));return{arrayValue:{values:n}}}class Wg extends My{constructor(e,n){super(),this.serializer=e,this.Re=n}}function uN(t){return Vt(t.integerValue||t.doubleValue)}function m6(t){return AE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,n){this.field=e,this.transform=n}}function tK(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qd&&i instanceof Qd||r instanceof Zd&&i instanceof Zd?zc(r.elements,i.elements,Wi):r instanceof Wg&&i instanceof Wg?Wi(r.Re,i.Re):r instanceof Yd&&i instanceof Yd}(t.transform,e.transform)}class nK{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dy{}function g6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y6(t.key,hi.none()):new rp(t.key,t.data,hi.none());{const n=t.data,r=ir.empty();let i=new an(En.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Jo(t.key,r,new Sr(i.toArray()),hi.none())}}function rK(t,e,n){t instanceof rp?function(i,a,o){const s=i.value.clone(),l=dN(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(i,a,o){if(!Jm(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=dN(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(v6(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yd(t,e,n,r){return t instanceof rp?function(a,o,s,l){if(!Jm(a.precondition,o))return s;const u=a.value.clone(),f=hN(a.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jo?function(a,o,s,l){if(!Jm(a.precondition,o))return s;const u=hN(a.fieldTransforms,l,o),f=o.data;return f.setAll(v6(a)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,o,s){return Jm(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function iK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=d6(r.transform,i||null);a!=null&&(n===null&&(n=ir.empty()),n.set(r.field,a))}return n||null}function fN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,(a,o)=>tK(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rp extends Dy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jo extends Dy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function v6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dN(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,JW(o,s,n[i]))}return r}function hN(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,ZW(a,o,e))}return r}class y6 extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aK extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rK(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u6();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=g6(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(n,r)=>fN(n,r))&&zc(this.baseMutations,e.baseMutations,(n,r)=>fN(n,r))}}class jE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return WW}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new jE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,He;function cK(t){switch(t){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function b6(t){if(t===void 0)return Da("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Ft.OK:return Q.OK;case Ft.CANCELLED:return Q.CANCELLED;case Ft.UNKNOWN:return Q.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Q.INTERNAL;case Ft.UNAVAILABLE:return Q.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Q.NOT_FOUND;case Ft.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ft.ABORTED:return Q.ABORTED;case Ft.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ft.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:t})}}(He=Ft||(Ft={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=new Po([4294967295,4294967295],0);function pN(t){const e=V4().encode(t),n=new k4;return n.update(e),new Uint8Array(n.digest())}function mN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Po([n,r],0),new Po([i,a],0)]}class NE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kf(`Invalid padding: ${n}`);if(r<0)throw new Kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Po.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Po.fromNumber(r)));return i.compare(uK)===1&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=pN(e),[r,i]=mN(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new NE(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const n=pN(e),[r,i]=mN(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ip.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $y(Oe.min(),i,new jt(Pe),$a(),ze())}}class ip{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ip(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class x6{constructor(e,n){this.targetId=e,this.Ce=n}}class _6{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gN{constructor(){this.Fe=0,this.Me=vN(),this.xe=Tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),n=ze(),r=ze();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}}),new ip(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=vN()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fK{constructor(e){this.ze=e,this.je=new Map,this.He=$a(),this.Je=om(),this.Ye=om(),this.Ze=new jt(Pe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(i_(a))if(r===0){const o=new pe(a.path);this.tt(n,o,Mn.newNoDocument(o,Oe.min()))}else Ye(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=zo(r).toUint8Array()}catch(l){if(l instanceof q4)return Vc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new NE(o,i,a)}catch(l){return Vc(l instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&i_(s.target)){const l=new pe(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Mn.newNoDocument(l,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=ze();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new $y(e,n,this.Ze,this.He,r);return this.He=$a(),this.Je=om(),this.Ye=om(),this.Ze=new jt(Pe),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new gN,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new an(Pe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new an(Pe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gN),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function om(){return new jt(pe.comparator)}function vN(){return new jt(pe.comparator)}const dK={asc:"ASCENDING",desc:"DESCENDING"},hK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pK={and:"AND",or:"OR"};class mK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s_(t,e){return t.useProto3Json||Iy(e)?e:{value:e}}function Kg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gK(t,e){return Kg(t,e.toTimestamp())}function Vi(t){return Ye(!!t,49232),Oe.fromTimestamp(function(n){const r=Vo(n);return new rn(r.seconds,r.nanos)}(t))}function CE(t,e){return l_(t,e).canonicalString()}function l_(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function A6(t){const e=vt.fromString(t);return Ye(j6(e),10190,{key:e.toString()}),e}function c_(t,e){return CE(t.databaseId,e.path)}function ix(t,e){const n=A6(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(S6(n))}function E6(t,e){return CE(t.databaseId,e)}function vK(t){const e=A6(t);return e.length===4?vt.emptyPath():S6(e)}function u_(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S6(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yN(t,e,n){return{name:c_(t,e),fields:n.value.mapValue.fields}}function yK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,f){return u.useProto3Json?(Ye(f===void 0||typeof f=="string",58123),Tn.fromBase64String(f||"")):(Ye(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Tn.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const f=u.code===void 0?Q.UNKNOWN:b6(u.code);return new le(f,u.message||"")}(o);n=new _6(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ix(t,r.document.name),a=Vi(r.document.updateTime),o=r.document.createTime?Vi(r.document.createTime):Oe.min(),s=new ir({mapValue:{fields:r.document.fields}}),l=Mn.newFoundDocument(i,a,o,s),u=r.targetIds||[],f=r.removedTargetIds||[];n=new eg(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ix(t,r.document),a=r.readTime?Vi(r.readTime):Oe.min(),o=Mn.newNoDocument(i,a),s=r.removedTargetIds||[];n=new eg([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ix(t,r.document),a=r.removedTargetIds||[];n=new eg([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new lK(i,a),s=r.targetId;n=new x6(s,o)}}return n}function bK(t,e){let n;if(e instanceof rp)n={update:yN(t,e.key,e.value)};else if(e instanceof y6)n={delete:c_(t,e.key)};else if(e instanceof Jo)n={update:yN(t,e.key,e.data),updateMask:jK(e.fieldMask)};else{if(!(e instanceof aK))return _e(16599,{ft:e.type});n={verify:c_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Yd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Qd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Zd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Wg)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:gK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)}(t,e.precondition)),n}function xK(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Vi(i.updateTime):Vi(a);return o.isEqual(Oe.min())&&(o=Vi(a)),new nK(o,i.transformResults||[])}(n,e))):[]}function _K(t,e){return{documents:[E6(t,e.path)]}}function wK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E6(t,i);const a=function(u){if(u.length!==0)return O6(gi.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(f=>function(h){return{field:Wl(h.field),direction:SK(h.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=s_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function AK(t){let e=vK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(d){const h=T6(d);return h instanceof gi&&t6(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new Xd(Kl(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Iy(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new Gg(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new Gg(m,h)}(n.endAt)),zW(e,i,o,a,s,"F",l,u)}function EK(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kl(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kl(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Kl(n.unaryFilter.field);return Gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Kl(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(Kl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(r=>T6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function SK(t){return dK[t]}function TK(t){return hK[t]}function OK(t){return pK[t]}function Wl(t){return{fieldPath:t.canonicalString()}}function Kl(t){return En.fromServerFormat(t.fieldPath)}function O6(t){return t instanceof Gt?function(n){if(n.op==="=="){if(aN(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NAN"}};if(iN(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aN(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NAN"}};if(iN(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(n.field),op:TK(n.op),value:n.value}}}(t):t instanceof gi?function(n){const r=n.getFilters().map(i=>O6(i));return r.length===1?r[0]:{compositeFilter:{op:OK(n.op),filters:r}}}(t):_e(54877,{filter:t})}function jK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,i,a=Oe.min(),o=Oe.min(),s=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e){this.wt=e}}function CK(t){const e=AK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.Cn=new PK}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Uo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class PK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N6=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(N6,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new qc(0)}static lr(){return new qc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="LruGarbageCollector",kK=1048576;function _N([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class RK{constructor(e){this.Er=e,this.buffer=new an(_N),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_N(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){se(xN,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Du(n)?se(xN,"Ignoring IndexedDB error during garbage collection: ",n):await Mu(n)}await this.mr(3e5)})}}class DK{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Cy.le);const r=new RK(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(bN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bN):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,o,s,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,s=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),ql()<=Ve.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function $K(t,e){return new DK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(){this.changes=new gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yd(r.mutation,i,Sr.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=Ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Wf();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=$a();const o=vd(),s=function(){return vd()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Jo)?a=a.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),yd(f.mutation,u,f.mutation.getFieldMask(),rn.now())):o.set(u.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var d;return s.set(u,new BK(f,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,n){const r=vd();let i=new jt((o,s)=>o-s),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Sr.empty();f=s.applyToLocalView(u,f),r.set(l,f);const d=(i.get(s.batchId)||ze()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,d=u6();f.forEach(h=>{if(!a.has(h)){const m=g6(n.get(h),r.get(h));m!==null&&d.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Z.resolve(Ts());let s=qd,l=a;return o.next(u=>Z.forEach(u,(f,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(f)?Z.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{l=l.insert(f,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,ze())).next(f=>({batchId:s,changes:c6(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Wf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Wf();return this.indexManager.getCollectionParents(e,a).next(s=>Z.forEach(s,l=>{const u=function(d,h){return new $u(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Mn.newInvalidDocument(f)))});let s=Wf();return o.forEach((l,u)=>{const f=a.get(l);f!==void 0&&yd(f.mutation,u,Sr.empty(),rn.now()),Ry(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Z.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vi(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:CK(i.bundledQuery),readTime:Vi(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(){this.overlays=new jt(pe.comparator),this.Qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return Z.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=Ts(),a=n.length+1,o=new pe(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new jt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=a.get(u.largestBatchId);f===null&&(f=Ts(),a=a.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=Ts(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>s.set(u,f)),!(s.size()>=i)););return Z.resolve(s)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sK(n,r));let a=this.Qr.get(n);a===void 0&&(a=ze(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.$r=new an(un.Ur),this.Kr=new an(un.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new un(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new un(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new pe(new vt([])),r=new un(n,e),i=new un(n,e+1),a=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new pe(new vt([])),r=new un(n,e),i=new un(n,e+1);let a=ze();return this.Kr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new un(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return pe.comparator(e.key,n.key)||Pe(e.Zr,n.Zr)}static Wr(e,n){return Pe(e.Zr,n.Zr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new an(un.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oK(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.Xr=this.Xr.add(new un(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_E:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],o=>{const s=this.ei(o.Zr);a.push(s)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Pe);return n.forEach(i=>{const a=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],s=>{r=r.add(s.Zr)})}),Z.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;pe.isDocumentKey(a)||(a=a.child(""));const o=new un(new pe(a),0);let s=new an(Pe);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Zr)),!0)},o),Z.resolve(this.ni(s))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Z.forEach(n.mutations,i=>{const a=new un(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new un(n,0),i=this.Xr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e){this.ii=e,this.docs=function(){return new jt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=$a();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=$a();const o=n.path,s=new pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xW(bW(f),r)<=0||(i.has(f.key)||Ry(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}si(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GK(this)}getSize(e){return Z.resolve(this.size)}}class GK extends LK{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e){this.persistence=e,this.oi=new gl(n=>EE(n),SE),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new IE,this.targetCount=0,this.ui=qc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Z.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new qc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Tr(n),Z.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Z.waitFor(a).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.ci={},this.overlays={},this.li=new Cy(0),this.hi=!1,this.hi=!0,this.Pi=new FK,this.referenceDelegate=e(this),this.Ti=new WK(this),this.indexManager=new IK,this.remoteDocumentCache=function(i){return new qK(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new NK(n),this.Ei=new VK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new HK(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new KK(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return Z.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class KK extends wW{constructor(e){super(),this.currentSequenceNumber=e}}class PE{constructor(e){this.persistence=e,this.Vi=new IE,this.mi=null}static fi(e){return new PE(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,r=>{const i=pe.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,Oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Z.or([()=>Z.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Xg{constructor(e,n){this.persistence=e,this.yi=new gl(r=>SW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$K(this,n)}static fi(e,n){return new Xg(e,n)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Z.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?Z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(s=>{s||(r++,a.removeEntry(o,Oe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Z.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qm(e.data.value)),n}Dr(e,n,r){return Z.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ze(),i=ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new kE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return zF()?8:AW(Bn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new XK;return this.Ss(e,n,o).next(s=>{if(a.result=s,this.fs)return this.Ds(e,n,o,s.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ql()<=Ve.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(ql()<=Ve.DEBUG&&se("QueryEngine","Query:",Gl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ql()<=Ve.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):Z.resolve())}ws(e,n){if(cN(n))return Z.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=o_(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ze(...a);return this.ys.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,s);return this.Cs(n,u,o,l.readTime)?this.ws(e,o_(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return cN(n)||i.isEqual(Oe.min())?Z.resolve(null):this.ys.getDocuments(e,r).next(a=>{const o=this.vs(n,a);return this.Cs(n,o,r,i)?Z.resolve(null):(ql()<=Ve.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gl(n)),this.Fs(e,o,n,yW(i,qd)).next(s=>s))})}vs(e,n){let r=new an(s6(e));return n.forEach((i,a)=>{Ry(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ql()<=Ve.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Gl(n)),this.ys.getDocumentsMatchingQuery(e,n,Uo.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LocalStore",QK=3e8;class ZK{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new jt(Pe),this.Os=new gl(a=>EE(a),SE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UK(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function JK(t,e,n,r){return new ZK(t,e,n,r)}async function I6(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=ze();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of a){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:s}))})})}function eX(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,f){const d=u.batch,h=d.keys();let m=Z.resolve();return h.forEach(v=>{m=m.next(()=>f.getEntry(l,v)).next(x=>{const _=u.docVersions.get(v);Ye(_!==null,48541),x.version.compareTo(_)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),f.addEntry(x)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=ze();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function P6(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function tX(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const s=[];e.targetChanges.forEach((f,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ti.removeMatchingKeys(a,f.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(a,f.addedDocuments,d)));let m=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Tn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(d,m),function(x,_,y){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=QK?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,f)&&s.push(n.Ti.updateTargetData(a,m))});let l=$a(),u=ze();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),s.push(nX(a,o,e.documentUpdates).next(f=>{l=f.qs,u=f.Qs})),!r.isEqual(Oe.min())){const f=n.Ti.getLastRemoteSnapshotVersion(a).next(d=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(f)}return Z.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.xs=i,a))}function nX(t,e,n){let r=ze(),i=ze();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=$a();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):se(RE,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function rX(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_E),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iX(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,Z.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new bo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function f_(t,e,n){const r=Ne(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Du(o))throw o;se(RE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function wN(t,e,n){const r=Ne(t);let i=Oe.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const d=Ne(l),h=d.Os.get(f);return h!==void 0?Z.resolve(d.xs.get(h)):d.Ti.getTargetData(u,f)}(r,o,Ui(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?a:ze())).next(s=>(aX(r,HW(e),s),{documents:s,$s:a})))}function aX(t,e,n){let r=t.Ns.get(e)||Oe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class AN{constructor(){this.activeTargetIds=YW()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oX{constructor(){this.xo=new AN,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new AN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="ConnectivityMonitor";class SN{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){se(EN,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){se(EN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm=null;function d_(){return sm===null?sm=function(){return 268435456+Math.round(2147483648*Math.random())}():sm++,"0x"+sm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="RestConnection",lX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Hg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const o=d_(),s=this.jo(e,n.toUriEncodedString());se(ax,`Sending RPC '${e}' ${o}:`,s,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,a);const{host:u}=new URL(s),f=Yo(u);return this.Jo(e,s,l,r,f).then(d=>(se(ax,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Vc(ax,`RPC '${e}' ${o} failed with error: `,d,"url: ",s,"request:",r),d})}Yo(e,n,r,i,a,o){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=lX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class fX extends cX{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=d_();return new Promise((s,l)=>{const u=new R4;u.setWithCredentials(!0),u.listenOnce(M4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ym.NO_ERROR:const d=u.getResponseJson();se(Pn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ym.TIMEOUT:se(Pn,`RPC '${e}' ${o} timed out`),l(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const h=u.getStatus();if(se(Pn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const x=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(g)>=0?g:Q.UNKNOWN}(v.status);l(new le(x,v.message))}else l(new le(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{se(Pn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);se(Pn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",f,r,15)})}I_(e,n,r){const i=d_(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L4(),s=$4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=a.join("");se(Pn,`Creating RPC '${e}' stream ${i}: ${f}`,l);const d=o.createWebChannel(f,l);this.E_(d);let h=!1,m=!1;const v=new uX({Zo:_=>{m?se(Pn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(se(Pn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),se(Pn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},Xo:()=>d.close()}),x=(_,y,g)=>{_.listen(y,b=>{try{g(b)}catch(O){setTimeout(()=>{throw O},0)}})};return x(d,Gf.EventType.OPEN,()=>{m||(se(Pn,`RPC '${e}' stream ${i} transport opened.`),v.__())}),x(d,Gf.EventType.CLOSE,()=>{m||(m=!0,se(Pn,`RPC '${e}' stream ${i} transport closed`),v.u_(),this.d_(d))}),x(d,Gf.EventType.ERROR,_=>{m||(m=!0,Vc(Pn,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),v.u_(new le(Q.UNAVAILABLE,"The operation could not be completed")))}),x(d,Gf.EventType.MESSAGE,_=>{var y;if(!m){const g=_.data[0];Ye(!!g,16349);const b=g,O=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(O){se(Pn,`RPC '${e}' stream ${i} received error:`,O);const E=O.status;let N=function(j){const I=Ft[j];if(I!==void 0)return b6(I)}(E),S=O.message;N===void 0&&(N=Q.INTERNAL,S="Unknown error status: "+E+" with message "+O.message),m=!0,v.u_(new le(N,S)),d.close()}else se(Pn,`RPC '${e}' stream ${i} received:`,g),v.c_(g)}}),x(s,D4.STAT_EVENT,_=>{_.stat===J1.PROXY?se(Pn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===J1.NOPROXY&&se(Pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function ox(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){return new mK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="PersistentStream";class R6{constructor(e,n,r,i,a,o,s,l){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new k6(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Da(n.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new le(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return se(TN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(se(TN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dX extends R6{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=yK(this.serializer,e),r=function(a){if(!("targetChange"in a))return Oe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Vi(o.readTime):Oe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=u_(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=i_(l)?{documents:_K(a,l)}:{query:wK(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=w6(a,o.resumeToken);const u=s_(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Oe.min())>0){s.readTime=Kg(a,o.snapshotVersion.toTimestamp());const u=s_(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=EK(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=u_(this.serializer),n.removeTarget=e,this.Q_(n)}}class hX extends R6{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=xK(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=u_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bK(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{}class mX extends pX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,l_(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Q.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Yo(e,l_(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Q.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class gX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Da(n),this.ua=!1):se("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class vX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{r.enqueueAndForget(async()=>{vl(this)&&(se(Zs,"Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.da.add(4),await ap(u),u.Va.set("Unknown"),u.da.delete(4),await By(u)}(this))})}),this.Va=new gX(r,i)}}async function By(t){if(vl(t))for(const e of t.Aa)await e(!0)}async function ap(t){for(const e of t.Aa)await e(!1)}function M6(t,e){const n=Ne(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),LE(n)?$E(n):Lu(n).N_()&&DE(n,e))}function ME(t,e){const n=Ne(t),r=Lu(n);n.Ea.delete(e),r.N_()&&D6(n,e),n.Ea.size===0&&(r.N_()?r.k_():vl(n)&&n.Va.set("Unknown"))}function DE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lu(t).Z_(e)}function D6(t,e){t.ma.Ke(e),Lu(t).X_(e)}function $E(t){t.ma=new fK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Lu(t).start(),t.Va.ca()}function LE(t){return vl(t)&&!Lu(t).O_()&&t.Ea.size>0}function vl(t){return Ne(t).da.size===0}function $6(t){t.ma=void 0}async function yX(t){t.Va.set("Online")}async function bX(t){t.Ea.forEach((e,n)=>{DE(t,e)})}async function xX(t,e){$6(t),LE(t)?(t.Va.Pa(e),$E(t)):t.Va.set("Unknown")}async function _X(t,e,n){if(t.Va.set("Online"),e instanceof _6&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ea.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ea.delete(s),i.ma.removeTarget(s))}(t,e)}catch(r){se(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yg(t,r)}else if(e instanceof eg?t.ma.Xe(e):e instanceof x6?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Oe.min()))try{const r=await P6(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.ma.It(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=a.Ea.get(u);f&&a.Ea.set(u,f.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const f=a.Ea.get(l);if(!f)return;a.Ea.set(l,f.withResumeToken(Tn.EMPTY_BYTE_STRING,f.snapshotVersion)),D6(a,l);const d=new bo(f.target,l,u,f.sequenceNumber);DE(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){se(Zs,"Failed to raise snapshot:",r),await Yg(t,r)}}async function Yg(t,e,n){if(!Du(e))throw e;t.da.add(1),await ap(t),t.Va.set("Offline"),n||(n=()=>P6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Zs,"Retrying IndexedDB access"),await n(),t.da.delete(1),await By(t)})}function L6(t,e){return e().catch(n=>Yg(t,n,e))}async function Uy(t){const e=Ne(t),n=Ho(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:_E;for(;wX(e);)try{const i=await rX(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,AX(e,i)}catch(i){await Yg(e,i)}B6(e)&&U6(e)}function wX(t){return vl(t)&&t.Ia.length<10}function AX(t,e){t.Ia.push(e);const n=Ho(t);n.N_()&&n.ea&&n.ta(e.mutations)}function B6(t){return vl(t)&&!Ho(t).O_()&&t.Ia.length>0}function U6(t){Ho(t).start()}async function EX(t){Ho(t).ia()}async function SX(t){const e=Ho(t);for(const n of t.Ia)e.ta(n.mutations)}async function TX(t,e,n){const r=t.Ia.shift(),i=jE.from(r,e,n);await L6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uy(t)}async function OX(t,e){e&&Ho(t).ea&&await async function(r,i){if(function(o){return cK(o)&&o!==Q.ABORTED}(i.code)){const a=r.Ia.shift();Ho(r).L_(),await L6(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Uy(r)}}(t,e),B6(t)&&U6(t)}async function ON(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),se(Zs,"RemoteStore received new credentials");const r=vl(n);n.da.add(3),await ap(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await By(n)}async function jX(t,e){const n=Ne(t);e?(n.da.delete(2),await By(n)):e||(n.da.add(2),await ap(n),n.Va.set("Unknown"))}function Lu(t){return t.fa||(t.fa=function(n,r,i){const a=Ne(n);return a.oa(),new dX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:yX.bind(null,t),n_:bX.bind(null,t),i_:xX.bind(null,t),Y_:_X.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),LE(t)?$E(t):t.Va.set("Unknown")):(await t.fa.stop(),$6(t))})),t.fa}function Ho(t){return t.ga||(t.ga=function(n,r,i){const a=Ne(n);return a.oa(),new hX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:EX.bind(null,t),i_:OX.bind(null,t),na:SX.bind(null,t),ra:TX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Uy(t)):(await t.ga.stop(),t.Ia.length>0&&(se(Zs,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new BE(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UE(t,e){if(Da("AsyncQueue",`${e}: ${t}`),Du(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{static emptySet(e){return new Ec(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Wf(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.pa=new jt(pe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gc{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Gc(e,n,Ec.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ky(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class CX{constructor(){this.queries=NN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ne(n),a=i.queries;i.queries=NN(),a.forEach((o,s)=>{for(const l of s.Sa)l.onError(r)})})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function NN(){return new gl(t=>o6(t),ky)}async function V6(t,e){const n=Ne(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new NX,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=UE(o,`Initialization of query '${Gl(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&VE(n)}async function z6(t,e){const n=Ne(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IX(t,e){const n=Ne(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.Sa)s.Ma(i)&&(r=!0);o.ba=i}}r&&VE(n)}function PX(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function VE(t){t.Ca.forEach(e=>{e.next()})}var h_,CN;(CN=h_||(h_={})).xa="default",CN.Cache="cache";class F6{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==h_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.key=e}}class q6{constructor(e){this.key=e}}class kX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.Za=s6(e),this.Xa=new Ec(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new jN,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,d)=>{const h=i.get(f),m=Ry(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?v!==x&&(r.track({type:3,doc:m}),_=!0):this.ru(h,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Za(m,l)>0||u&&this.Za(m,u)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(s=!0)),_&&(m?(o=o.add(m),a=x?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{Xa:o,nu:r,Cs:s,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((f,d)=>function(m,v){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:_})}};return x(m)-x(v)}(f.type,d.type)||this.Za(f.doc,d.doc)),this.iu(r),i=i!=null&&i;const s=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,o.length!==0||u?{snapshot:new Gc(this.query,e.Xa,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:s}:{ou:s}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new jN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new q6(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new H6(r))}),n}au(e){this.Ha=e.$s,this.Ya=ze();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Gc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const zE="SyncEngine";class RX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MX{constructor(e){this.key=e,this.cu=!1}}class DX{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new gl(s=>o6(s),ky),this.Pu=new Map,this.Tu=new Set,this.Iu=new jt(pe.comparator),this.Eu=new Map,this.du=new IE,this.Au={},this.Ru=new Map,this.Vu=qc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function $X(t,e,n=!0){const r=Q6(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await G6(r,e,n,!0),i}async function LX(t,e){const n=Q6(t);await G6(n,e,!0,!1)}async function G6(t,e,n,r){const i=await iX(t.localStore,Ui(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await BX(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&M6(t.remoteStore,i),s}async function BX(t,e,n,r,i){t.fu=(d,h,m)=>async function(x,_,y,g){let b=_.view.tu(y);b.Cs&&(b=await wN(x.localStore,_.query,!1).then(({documents:S})=>_.view.tu(S,b)));const O=g&&g.targetChanges.get(_.targetId),E=g&&g.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(b,x.isPrimaryClient,O,E);return PN(x,_.targetId,N.ou),N.snapshot}(t,d,h,m);const a=await wN(t.localStore,e,!0),o=new kX(e,a.$s),s=o.tu(a.documents),l=ip.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);PN(t,n,u.ou);const f=new RX(e,n,o);return t.hu.set(e,f),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function UX(t,e,n){const r=Ne(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(o=>!ky(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await f_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ME(r.remoteStore,i.targetId),p_(r,i.targetId)}).catch(Mu)):(p_(r,i.targetId),await f_(r.localStore,i.targetId,!0))}async function VX(t,e){const n=Ne(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ME(n.remoteStore,r.targetId))}async function zX(t,e,n){const r=XX(t);try{const i=await function(o,s){const l=Ne(o),u=rn.now(),f=s.reduce((m,v)=>m.add(v.key),ze());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=$a(),x=ze();return l.Bs.getEntries(m,f).next(_=>{v=_,v.forEach((y,g)=>{g.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(_=>{d=_;const y=[];for(const g of s){const b=iK(g,d.get(g.key).overlayedDocument);b!=null&&y.push(new Jo(g.key,b,Z4(b.value.mapValue),hi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,y,s)}).next(_=>{h=_;const y=_.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(m,_.batchId,y)})}).then(()=>({batchId:h.batchId,changes:c6(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Au[o.currentUser.toKey()];u||(u=new jt(Pe)),u=u.insert(s,l),o.Au[o.currentUser.toKey()]=u}(r,i.batchId,n),await op(r,i.changes),await Uy(r.remoteStore)}catch(i){const a=UE(i,"Failed to persist write");n.reject(a)}}async function W6(t,e){const n=Ne(t);try{const r=await tX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Eu.get(a);o&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Ye(o.cu,14607):i.removedDocuments.size>0&&(Ye(o.cu,42227),o.cu=!1))}),await op(n,r,e)}catch(r){await Mu(r)}}function IN(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,o)=>{const s=o.view.Fa(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Ne(o);l.onlineState=s;let u=!1;l.queries.forEach((f,d)=>{for(const h of d.Sa)h.Fa(s)&&(u=!0)}),u&&VE(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FX(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let o=new jt(pe.comparator);o=o.insert(a,Mn.newNoDocument(a,Oe.min()));const s=ze().add(a),l=new $y(Oe.min(),new Map,new jt(Pe),o,s);await W6(r,l),r.Iu=r.Iu.remove(a),r.Eu.delete(e),FE(r)}else await f_(r.localStore,e,!1).then(()=>p_(r,e,n)).catch(Mu)}async function HX(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await eX(n.localStore,e);X6(n,r,null),K6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await op(n,i)}catch(i){await Mu(i)}}async function qX(t,e,n){const r=Ne(t);try{const i=await function(o,s){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Ye(d!==null,37113),f=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);X6(r,e,n),K6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await op(r,i)}catch(i){await Mu(i)}}function K6(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function X6(t,e,n){const r=Ne(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function p_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||Y6(t,r)})}function Y6(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(ME(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),FE(t))}function PN(t,e,n){for(const r of n)r instanceof H6?(t.du.addReference(r.key,e),GX(t,r)):r instanceof q6?(se(zE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||Y6(t,r.key)):_e(19791,{pu:r})}function GX(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(se(zE,"New document in limbo: "+n),t.Tu.add(r),FE(t))}function FE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new pe(vt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new MX(n)),t.Iu=t.Iu.insert(n,r),M6(t.remoteStore,new bo(Ui(TE(n.path)),r,"TargetPurposeLimboResolution",Cy.le))}}async function op(t,e,n){const r=Ne(t),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((s,l)=>{o.push(r.fu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=kE.Rs(l.targetId,u);a.push(d)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,u){const f=Ne(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Z.forEach(u,h=>Z.forEach(h.ds,m=>f.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>Z.forEach(h.As,m=>f.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!Du(d))throw d;se(RE,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=f.xs.get(h),v=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(v);f.xs=f.xs.insert(h,x)}}}(r.localStore,a))}async function WX(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){se(zE,"User change. New user:",e.toKey());const r=await I6(n.localStore,e);n.currentUser=e,function(a,o){a.Ru.forEach(s=>{s.forEach(l=>{l.reject(new le(Q.CANCELLED,o))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await op(n,r.ks)}}function KX(t,e){const n=Ne(t),r=n.Eu.get(e);if(r&&r.cu)return ze().add(r.key);{let i=ze();const a=n.Pu.get(e);if(!a)return i;for(const o of a){const s=n.hu.get(o);i=i.unionWith(s.view.eu)}return i}}function Q6(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FX.bind(null,e),e.lu.Y_=IX.bind(null,e.eventManager),e.lu.gu=PX.bind(null,e.eventManager),e}function XX(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qX.bind(null,e),e}class Qg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ly(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return JK(this.persistence,new YK,e.initialUser,this.serializer)}Su(e){return new C6(PE.fi,this.serializer)}bu(e){return new oX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qg.provider={build:()=>new Qg};class YX extends Qg{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ye(this.persistence.referenceDelegate instanceof Xg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MK(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new C6(r=>Xg.fi(r,n),this.serializer)}}class m_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WX.bind(null,this.syncEngine),await jX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CX}()}createDatastore(e){const n=Ly(e.databaseInfo.databaseId),r=function(a){return new fX(a)}(e.databaseInfo);return function(a,o,s,l){return new mX(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new vX(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>IN(this.syncEngine,n,0),function(){return SN.C()?new SN:new sX}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,f){const d=new DX(i,a,o,s,l,u);return f&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ne(i);se(Zs,"RemoteStore shutting down."),a.da.add(5),await ap(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m_.provider={build:()=>new m_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Da("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="FirestoreClient";class QX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rn.UNAUTHENTICATED,this.clientId=z4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{se(qo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se(qo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sx(t,e){t.asyncQueue.verifyOperationInProgress(),se(qo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await I6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZX(t);se(qo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ON(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ON(e.remoteStore,i)),t._onlineComponents=e}async function ZX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(qo,"Using user provided OfflineComponentProvider");try{await sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vc("Error using user provided cache. Falling back to memory cache: "+n),await sx(t,new Qg)}}else se(qo,"Using default OfflineComponentProvider"),await sx(t,new YX(void 0));return t._offlineComponents}async function J6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(qo,"Using user provided OnlineComponentProvider"),await kN(t,t._uninitializedComponentsProvider._online)):(se(qo,"Using default OnlineComponentProvider"),await kN(t,new m_))),t._onlineComponents}function JX(t){return J6(t).then(e=>e.syncEngine)}async function e3(t){const e=await J6(t),n=e.eventManager;return n.onListen=$X.bind(null,e.syncEngine),n.onUnlisten=UX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VX.bind(null,e.syncEngine),n}function eY(t,e,n={}){const r=new Sa;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const f=new Z6({next:h=>{f.xu(),o.enqueueAndForget(()=>z6(a,d));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new F6(TE(s.path),f,{includeMetadataChanges:!0,Qa:!0});return V6(a,d)}(await e3(t),t.asyncQueue,e,n,r)),r.promise}function tY(t,e,n={}){const r=new Sa;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const f=new Z6({next:h=>{f.xu(),o.enqueueAndForget(()=>z6(a,d)),h.fromCache&&l.source==="server"?u.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new F6(s,f,{includeMetadataChanges:!0,Qa:!0});return V6(a,d)}(await e3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nY(t,e,n,r){if(e===!0&&r===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MN(t){if(!pe.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DN(t){if(pe.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vy(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="firestore.googleapis.com",$N=!0;class LN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r3,this.ssl=$N}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$N;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kK)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cW;switch(r.type){case"firstParty":return new hW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RN.get(n);r&&(se("ComponentProvider","Removing Datastore"),RN.delete(n),r.terminate())}(this),Promise.resolve()}}function rY(t,e,n,r={}){var i;t=Ki(t,zy);const a=Yo(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;a&&(oE(`https://${l}`),sE("Firestore",!0)),o.host!==r3&&o.host!==l&&Vc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:r});if(!Bo(u,s)&&(t._setSettings(u),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=Rn.MOCK_USER;else{f=W$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Rn(h)}t._authCredentials=new uW(new U4(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class ko extends yl{constructor(e,n,r){super(e,n,TE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new pe(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function ar(t,e,...n){if(t=Ot(t),n3("collection","path",e),t instanceof zy){const r=vt.fromString(e,...n);return DN(r),new ko(t,null,r)}{if(!(t instanceof Xn||t instanceof ko))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return DN(r),new ko(t.firestore,null,r)}}function vi(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=z4.newId()),n3("doc","path",e),t instanceof zy){const r=vt.fromString(e,...n);return MN(r),new Xn(t,null,new pe(r))}{if(!(t instanceof Xn||t instanceof ko))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return MN(r),new Xn(t.firestore,t instanceof ko?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="AsyncQueue";class UN{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new k6(this,"async_queue_retry"),this.rc=()=>{const r=ox();r&&se(BN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=ox();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=ox();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Sa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Du(e))throw e;se(BN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Da("INTERNAL UNHANDLED ERROR: ",VN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=BE.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&_e(47125,{cc:VN(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function VN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bu extends zy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UN(e),this._firestoreClient=void 0,await e}}}function iY(t,e){const n=typeof t=="object"?t:Ty(),r=typeof t=="string"?t:Hg,i=Qo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=H$("firestore");a&&rY(i,...a)}return i}function HE(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aY(t),t._firestoreClient}function aY(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,f){return new jW(s,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,t3(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new QX(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Tn.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wc(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=/^__.*__$/;class sY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new rp(e,this.data,n,this.fieldTransforms)}}class i3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ic:t})}}class WE{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new WE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zg(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(a3(this.Ic)&&oY.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class lY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ly(e)}bc(e,n,r,i=!1){return new WE({Ic:e,methodName:n,wc:r,path:En.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qy(t){const e=t._freezeSettings(),n=Ly(t._databaseId);return new lY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o3(t,e,n,r,i,a={}){const o=t.bc(a.merge||a.mergeFields?2:0,e,n,i);XE("Data must be an object, but it was:",o,r);const s=s3(r,o);let l,u;if(a.merge)l=new Sr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const d of a.mergeFields){const h=g_(e,d,n);if(!o.contains(h))throw new le(Q.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);c3(f,h)||f.push(h)}l=new Sr(f),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new sY(new ir(s),l,u)}class Gy extends Hy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gy}}class KE extends Hy{_toFieldTransform(e){return new eK(e.path,new Yd)}isEqual(e){return e instanceof KE}}function cY(t,e,n,r){const i=t.bc(1,e,n);XE("Data must be an object, but it was:",i,r);const a=[],o=ir.empty();Zo(r,(l,u)=>{const f=YE(e,l,n);u=Ot(u);const d=i.mc(f);if(u instanceof Gy)a.push(f);else{const h=sp(u,d);h!=null&&(a.push(f),o.set(f,h))}});const s=new Sr(a);return new i3(o,s,i.fieldTransforms)}function uY(t,e,n,r,i,a){const o=t.bc(1,e,n),s=[g_(e,r,n)],l=[i];if(a.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(g_(e,a[h])),l.push(a[h+1]);const u=[],f=ir.empty();for(let h=s.length-1;h>=0;--h)if(!c3(u,s[h])){const m=s[h];let v=l[h];v=Ot(v);const x=o.mc(m);if(v instanceof Gy)u.push(m);else{const _=sp(v,x);_!=null&&(u.push(m),f.set(m,_))}}const d=new Sr(u);return new i3(f,d,o.fieldTransforms)}function fY(t,e,n,r=!1){return sp(n,t.bc(r?4:3,e))}function sp(t,e){if(l3(t=Ot(t)))return XE("Unsupported field value:",e,t),s3(t,e);if(t instanceof Hy)return function(r,i){if(!a3(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=sp(s,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rn.fromDate(r);return{timestampValue:Kg(i.serializer,a)}}if(r instanceof rn){const a=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,a)}}if(r instanceof qE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wc)return{bytesValue:w6(i.serializer,r._byteString)};if(r instanceof Xn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:CE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof GE)return function(o,s){return{mapValue:{fields:{[Y4]:{stringValue:Q4},[qg]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.gc("VectorValues must only contain numeric values.");return OE(s.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Vy(r)}`)}(t,e)}function s3(t,e){const n={};return H4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(r,i)=>{const a=sp(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function l3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof qE||t instanceof Wc||t instanceof Xn||t instanceof Hy||t instanceof GE)}function XE(t,e,n){if(!l3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vy(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function g_(t,e,n){if((e=Ot(e))instanceof Fy)return e._internalPath;if(typeof e=="string")return YE(t,e);throw Zg("Field path arguments must be of type string or ",t,!1,void 0,n)}const dY=new RegExp("[~\\*/\\[\\]]");function YE(t,e,n){if(e.search(dY)>=0)throw Zg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fy(...e.split("."))._internalPath}catch{throw Zg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zg(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new le(Q.INVALID_ARGUMENT,s+t+l)}function c3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hY extends u3{data(){return super.data()}}function Wy(t,e){return typeof e=="string"?YE(t,e):e instanceof Fy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QE{}class f3 extends QE{}function Vr(t,e,...n){let r=[];e instanceof QE&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof ZE).length,s=a.filter(l=>l instanceof Ky).length;if(o>1||o>0&&s>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ky extends f3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ky(e,n,r)}_apply(e){const n=this._parse(e);return h3(e._query,n),new yl(e.firestore,e.converter,a_(e._query,n))}_parse(e){const n=qy(e.firestore);return function(a,o,s,l,u,f,d){let h;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){FN(d,f);const v=[];for(const x of d)v.push(zN(l,a,x));h={arrayValue:{values:v}}}else h=zN(l,a,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||FN(d,f),h=fY(s,o,d,f==="in"||f==="not-in");return Gt.create(u,f,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ci(t,e,n){const r=e,i=Wy("where",t);return Ky._create(i,r,n)}class ZE extends QE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ZE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)h3(o,l),o=a_(o,l)}(e._query,n),new yl(e.firestore,e.converter,a_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class JE extends f3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new JE(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xd(a,o)}(e._query,this._field,this._direction);return new yl(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new $u(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function d3(t,e="asc"){const n=e,r=Wy("orderBy",t);return JE._create(r,n)}function zN(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a6(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!pe.isDocumentKey(r))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rN(t,new pe(r))}if(n instanceof Xn)return rN(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vy(n)}.`)}function FN(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h3(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mY{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[qg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Vt(o.doubleValue));return new GE(a)}convertGeoPoint(e){return new qE(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Py(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gd(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Ye(j6(r),9688,{name:e});const i=new Wd(r.get(1),r.get(3)),a=new pe(r.popFirst(5));return i.isEqual(n)||Da(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m3 extends u3{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tg extends m3{data(e={}){return super.data(e)}}class gY{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tg(this._firestore,this._userDataWriter,r.key,r,new Xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new tg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new tg(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Xf(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),f=o.indexOf(s.doc.key)),{type:vY(s.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){t=Ki(t,Xn);const e=Ki(t.firestore,Bu);return eY(HE(e),t._key).then(n=>bY(e,t,n))}class g3 extends mY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function Fn(t){t=Ki(t,yl);const e=Ki(t.firestore,Bu),n=HE(e),r=new g3(e);return pY(t._query),tY(n,t._query).then(i=>new gY(e,r,t,i))}function HN(t,e,n){t=Ki(t,Xn);const r=Ki(t.firestore,Bu),i=p3(t.converter,e,n);return eS(r,[o3(qy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function La(t,e,n,...r){t=Ki(t,Xn);const i=Ki(t.firestore,Bu),a=qy(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Fy?uY(a,"updateDoc",t._key,e,n,r):cY(a,"updateDoc",t._key,e),eS(i,[o.toMutation(t._key,hi.exists(!0))])}function v_(t,e){const n=Ki(t.firestore,Bu),r=vi(t),i=p3(t.converter,e);return eS(n,[o3(qy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function eS(t,e){return function(r,i){const a=new Sa;return r.asyncQueue.enqueueAndForget(async()=>zX(await JX(r),i,a)),a.promise}(HE(t),e)}function bY(t,e,n){const r=n.docs.get(e._key),i=new g3(t);return new m3(t,i,e._key,r,new Xf(n.hasPendingWrites,n.fromCache),e.converter)}function tS(){return new KE("serverTimestamp")}(function(e,n=!0){(function(i){Ru=i})(ml),mi(new Qr("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Bu(new fW(r.getProvider("auth-internal")),new pW(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wd(u.options.projectId,f)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),sr(qj,Gj,e),sr(qj,Gj,"esm2017")})();var xY="firebase",_Y="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(xY,_Y,"app");const v3="@firebase/installations",nS="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=1e4,b3=`w:${nS}`,x3="FIS_v2",wY="https://firebaseinstallations.googleapis.com/v1",AY=60*60*1e3,EY="installations",SY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Js=new pl(EY,SY,TY);function _3(t){return t instanceof Jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3({projectId:t}){return`${wY}/projects/${t}/installations`}function A3(t){return{token:t.token,requestStatus:2,expiresIn:jY(t.expiresIn),creationTime:Date.now()}}async function E3(t,e){const r=(await e.json()).error;return Js.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function S3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OY(t,{refreshToken:e}){const n=S3(t);return n.append("Authorization",NY(e)),n}async function T3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jY(t){return Number(t.replace("s","000"))}function NY(t){return`${x3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=w3(t),i=S3(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:x3,appId:t.appId,sdkVersion:b3},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await T3(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:A3(u.authToken)}}else throw await E3("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=/^[cdef][\w-]{21}$/,y_="";function kY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=RY(t);return PY.test(n)?n:y_}catch{return y_}}function RY(t){return IY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Map;function N3(t,e){const n=Xy(t);C3(n,e),MY(n,e)}function C3(t,e){const n=j3.get(t);if(n)for(const r of n)r(e)}function MY(t,e){const n=DY();n&&n.postMessage({key:t,fid:e}),$Y()}let Os=null;function DY(){return!Os&&"BroadcastChannel"in self&&(Os=new BroadcastChannel("[Firebase] FID Change"),Os.onmessage=t=>{C3(t.data.key,t.data.fid)}),Os}function $Y(){j3.size===0&&Os&&(Os.close(),Os=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY="firebase-installations-database",BY=1,el="firebase-installations-store";let lx=null;function rS(){return lx||(lx=J$(LY,BY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(el)}}})),lx}async function Jg(t,e){const n=Xy(t),i=(await rS()).transaction(el,"readwrite"),a=i.objectStore(el),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&N3(t,e.fid),e}async function I3(t){const e=Xy(t),r=(await rS()).transaction(el,"readwrite");await r.objectStore(el).delete(e),await r.done}async function Yy(t,e){const n=Xy(t),i=(await rS()).transaction(el,"readwrite"),a=i.objectStore(el),o=await a.get(n),s=e(o);return s===void 0?await a.delete(n):await a.put(s,n),await i.done,s&&(!o||o.fid!==s.fid)&&N3(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(t){let e;const n=await Yy(t.appConfig,r=>{const i=UY(r),a=VY(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===y_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function UY(t){const e=t||{fid:kY(),registrationStatus:0};return P3(e)}function VY(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Js.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zY(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FY(t)}:{installationEntry:e}}async function zY(t,e){try{const n=await CY(t,e);return Jg(t.appConfig,n)}catch(n){throw _3(n)&&n.customData.serverCode===409?await I3(t.appConfig):await Jg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FY(t){let e=await qN(t.appConfig);for(;e.registrationStatus===1;)await O3(100),e=await qN(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await iS(t);return r||n}return e}function qN(t){return Yy(t,e=>{if(!e)throw Js.create("installation-not-found");return P3(e)})}function P3(t){return HY(t)?{fid:t.fid,registrationStatus:0}:t}function HY(t){return t.registrationStatus===1&&t.registrationTime+y3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY({appConfig:t,heartbeatServiceProvider:e},n){const r=GY(t,n),i=OY(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:b3,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await T3(()=>fetch(r,s));if(l.ok){const u=await l.json();return A3(u)}else throw await E3("Generate Auth Token",l)}function GY(t,{fid:e}){return`${w3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t,e=!1){let n;const r=await Yy(t.appConfig,a=>{if(!k3(a))throw Js.create("not-registered");const o=a.authToken;if(!e&&XY(o))return a;if(o.requestStatus===1)return n=WY(t,e),a;{if(!navigator.onLine)throw Js.create("app-offline");const s=QY(a);return n=KY(t,s),s}});return n?await n:r.authToken}async function WY(t,e){let n=await GN(t.appConfig);for(;n.authToken.requestStatus===1;)await O3(100),n=await GN(t.appConfig);const r=n.authToken;return r.requestStatus===0?aS(t,e):r}function GN(t){return Yy(t,e=>{if(!k3(e))throw Js.create("not-registered");const n=e.authToken;return ZY(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function KY(t,e){try{const n=await qY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Jg(t.appConfig,r),n}catch(n){if(_3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await I3(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jg(t.appConfig,r)}throw n}}function k3(t){return t!==void 0&&t.registrationStatus===2}function XY(t){return t.requestStatus===2&&!YY(t)}function YY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AY}function QY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZY(t){return t.requestStatus===1&&t.requestTime+y3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JY(t){const e=t,{installationEntry:n,registrationPromise:r}=await iS(e);return r?r.catch(console.error):aS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eQ(t,e=!1){const n=t;return await tQ(n),(await aS(n,e)).token}async function tQ(t){const{registrationPromise:e}=await iS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(t){if(!t||!t.options)throw cx("App Configuration");if(!t.name)throw cx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function cx(t){return Js.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="installations",rQ="installations-internal",iQ=t=>{const e=t.getProvider("app").getImmediate(),n=nQ(e),r=Qo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},aQ=t=>{const e=t.getProvider("app").getImmediate(),n=Qo(e,R3).getImmediate();return{getId:()=>JY(n),getToken:i=>eQ(n,i)}};function oQ(){mi(new Qr(R3,iQ,"PUBLIC")),mi(new Qr(rQ,aQ,"PRIVATE"))}oQ();sr(v3,nS);sr(v3,nS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="analytics",sQ="firebase_id",lQ="origin",cQ=60*1e3,uQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Sy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ir=new pl("analytics","Analytics",fQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t){if(!t.startsWith(oS)){const e=Ir.create("invalid-gtag-resource",{gtagURL:t});return lr.warn(e.message),""}return t}function M3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function pQ(t,e){const n=hQ("firebase-js-sdk-policy",{createScriptURL:dQ}),r=document.createElement("script"),i=`${oS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function mQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gQ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const l=(await M3(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){lr.error(s)}t("config",i,a)}async function vQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await M3(n);for(const l of o){const u=s.find(d=>d.measurementId===l),f=u&&e[u.appId];if(f)a.push(f);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){lr.error(a)}}function yQ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await vQ(t,e,n,s,l)}else if(a==="config"){const[s,l]=o;await gQ(t,e,n,r,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){lr.error(s)}}return i}function bQ(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=yQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function xQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(oS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q=30,wQ=1e3;class AQ{constructor(e={},n=wQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D3=new AQ;function EQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function SQ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:EQ(r)},a=uQ.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function TQ(t,e=D3,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Ir.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ir.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new NQ;return setTimeout(async()=>{s.abort()},cQ),$3({appId:r,apiKey:i,measurementId:a},o,s,e)}async function $3(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=D3){var a;const{appId:o,measurementId:s}=t;try{await OQ(r,e)}catch(l){if(s)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await SQ(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!jQ(u)){if(i.deleteThrottleMetadata(o),s)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw l}const f=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?yj(n,i.intervalMillis,_Q):yj(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(o,d),lr.debug(`Calling attemptFetch again in ${f} millis`),$3(t,d,r,i)}}function OQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jQ(t){if(!(t instanceof Jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class NQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CQ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(){if(X$())try{await Y$()}catch(t){return lr.warn(Ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return lr.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PQ(t,e,n,r,i,a,o){var s;const l=TQ(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>lr.error(m)),e.push(l);const u=IQ().then(m=>{if(m)return r.getId()}),[f,d]=await Promise.all([l,u]);xQ(a)||pQ(a,f.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[lQ]="firebase",h.update=!0,d!=null&&(h[sQ]=d),i("config",f.measurementId,h),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.app=e}_delete(){return delete bd[this.app.options.appId],Promise.resolve()}}let bd={},WN=[];const KN={};let ux="dataLayer",RQ="gtag",XN,L3,YN=!1;function MQ(){const t=[];if(K$()&&t.push("This is a browser extension environment."),FF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:e});lr.warn(n.message)}}function DQ(t,e,n){MQ();const r=t.options.appId;if(!r)throw Ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ir.create("no-api-key");if(bd[r]!=null)throw Ir.create("already-exists",{id:r});if(!YN){mQ(ux);const{wrappedGtag:a,gtagCore:o}=bQ(bd,WN,KN,ux,RQ);L3=a,XN=o,YN=!0}return bd[r]=PQ(t,WN,KN,e,XN,ux,n),new kQ(t)}function $Q(t=Ty()){t=Ot(t);const e=Qo(t,ev);return e.isInitialized()?e.getImmediate():LQ(t)}function LQ(t,e={}){const n=Qo(t,ev);if(n.isInitialized()){const i=n.getImmediate();if(Bo(e,n.getOptions()))return i;throw Ir.create("already-initialized")}return n.initialize({options:e})}function BQ(t,e,n,r){t=Ot(t),CQ(L3,bd[t.app.options.appId],e,n,r).catch(i=>lr.error(i))}const QN="@firebase/analytics",ZN="0.10.16";function UQ(){mi(new Qr(ev,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return DQ(r,i,n)},"PUBLIC")),mi(new Qr("analytics-internal",t,"PRIVATE")),sr(QN,ZN),sr(QN,ZN,"esm2017");function t(e){try{const n=e.getProvider(ev).getImmediate();return{logEvent:(r,i,a)=>BQ(n,r,i,a)}}catch(n){throw Ir.create("interop-component-reg-failed",{reason:n})}}}UQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="firebasestorage.googleapis.com",U3="storageBucket",VQ=2*60*1e3,zQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends Jr{constructor(e,n,r=0){super(fx(e),`Firebase Storage: ${n} (${fx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mt||(Mt={}));function fx(t){return"storage/"+t}function sS(){const t="An unknown error occurred, please check the error payload for server response.";return new Dt(Mt.UNKNOWN,t)}function FQ(t){return new Dt(Mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HQ(t){return new Dt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt(Mt.UNAUTHENTICATED,t)}function GQ(){return new Dt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WQ(t){return new Dt(Mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KQ(){return new Dt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XQ(){return new Dt(Mt.CANCELED,"User canceled the upload/download.")}function YQ(t){return new Dt(Mt.INVALID_URL,"Invalid URL '"+t+"'.")}function QQ(t){return new Dt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZQ(){return new Dt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U3+"' property when initializing the app?")}function JQ(){return new Dt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eZ(){return new Dt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tZ(t){return new Dt(Mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function b_(t){return new Dt(Mt.INVALID_ARGUMENT,t)}function V3(){return new Dt(Mt.APP_DELETED,"The Firebase app was deleted.")}function nZ(t){return new Dt(Mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xd(t,e){return new Dt(Mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tf(t){throw new Dt(Mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw QQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const f="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${f}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},x=n===B3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",y=new RegExp(`^https?://${x}/${i}/${_}`,"i"),b=[{regex:s,indices:l,postModify:a},{regex:m,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<b.length;O++){const E=b[O],N=E.regex.exec(e);if(N){const S=N[E.indices.bucket];let w=N[E.indices.path];w||(w=""),r=new Tr(S,w),E.postModify(r);break}}if(r==null)throw YQ(e);return r}}class rZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function f(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function h(){a&&clearTimeout(a)}function m(_,...y){if(u){h();return}if(_){h(),f.call(null,_,...y);return}if(l()||o){h(),f.call(null,_,...y);return}r<64&&(r*=2);let b;s===1?(s=2,b=0):b=(r+Math.random())*1e3,d(b)}let v=!1;function x(_){v||(v=!0,h(),!u&&(i!==null?(_||(s=2),clearTimeout(i),d(0)):_||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,x(!0)},n),x}function aZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(t){return t!==void 0}function sZ(t){return typeof t=="object"&&!Array.isArray(t)}function lS(t){return typeof t=="string"||t instanceof String}function JN(t){return cS()&&t instanceof Blob}function cS(){return typeof Blob<"u"}function eC(t,e,n,r){if(r<e)throw b_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw b_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function z3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vs||(Vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e,n,r,i,a,o,s,l,u,f,d,h=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,x)=>{this.resolve_=v,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Vs.NO_ERROR,l=a.getStatus();if(!s||lZ(l,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===Vs.ABORT;r(!1,new lm(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new lm(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());oZ(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=sS();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?V3():XQ();o(l)}else{const l=KQ();o(l)}};this.canceled_?n(!1,new lm(!1,null,!0)):this.backoffId_=iZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pZ(t,e,n,r,i,a,o=!0,s=!1){const l=z3(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return dZ(f,e),uZ(f,n),fZ(f,a),hZ(f,r),new cZ(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gZ(...t){const e=mZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cS())return new Blob(t);throw new Dt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(t){if(typeof atob>"u")throw tZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dx{constructor(e,n){this.data=e,this.contentType=n||null}}function bZ(t,e){switch(t){case Pi.RAW:return new dx(F3(e));case Pi.BASE64:case Pi.BASE64URL:return new dx(H3(t,e));case Pi.DATA_URL:return new dx(_Z(e),wZ(e))}throw sS()}function F3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xZ(t){let e;try{e=decodeURIComponent(t)}catch{throw xd(Pi.DATA_URL,"Malformed data URL.")}return F3(e)}function H3(t,e){switch(t){case Pi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw xd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Pi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw xd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yZ(e)}catch(i){throw i.message.includes("polyfill")?i:xd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class q3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xd(Pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=AZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _Z(t){const e=new q3(t);return e.base64?H3(Pi.BASE64,e.rest):xZ(e.rest)}function wZ(t){return new q3(t).contentType}function AZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){let r=0,i="";JN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(JN(this.data_)){const r=this.data_,i=vZ(r,e,n);return i===null?null:new ho(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ho(r,!0)}}static getBlob(...e){if(cS()){const n=e.map(r=>r instanceof ho?r.data_:r);return new ho(gZ.apply(null,n))}else{const n=e.map(o=>lS(o)?bZ(Pi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new ho(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){let e;try{e=JSON.parse(t)}catch{return null}return sZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function W3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(t,e){return e}class Un{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||TZ}}let cm=null;function OZ(t){return!lS(t)||t.length<2?t:W3(t)}function K3(){if(cm)return cm;const t=[];t.push(new Un("bucket")),t.push(new Un("generation")),t.push(new Un("metageneration")),t.push(new Un("name","fullPath",!0));function e(a,o){return OZ(o)}const n=new Un("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Un("size");return i.xform=r,t.push(i),t.push(new Un("timeCreated")),t.push(new Un("updated")),t.push(new Un("md5Hash",null,!0)),t.push(new Un("cacheControl",null,!0)),t.push(new Un("contentDisposition",null,!0)),t.push(new Un("contentEncoding",null,!0)),t.push(new Un("contentLanguage",null,!0)),t.push(new Un("contentType",null,!0)),t.push(new Un("metadata","customMetadata",!0)),cm=t,cm}function jZ(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Tr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function NZ(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return jZ(r,t),r}function X3(t,e,n){const r=G3(e);return r===null?null:NZ(t,r,n)}function CZ(t,e,n,r){const i=G3(e);if(i===null||!lS(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const f=t.bucket,d=t.fullPath,h="/b/"+o(f)+"/o/"+o(d),m=uS(h,n,r),v=z3({alt:"media",token:u});return m+v})[0]}function IZ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Y3{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){if(!t)throw sS()}function PZ(t,e){function n(r,i){const a=X3(t,i,e);return Q3(a!==null),a}return n}function kZ(t,e){function n(r,i){const a=X3(t,i,e);return Q3(a!==null),CZ(a,i,t.host,t._protocol)}return n}function Z3(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=GQ():i=qQ():n.getStatus()===402?i=HQ(t.bucket):n.getStatus()===403?i=WQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function RZ(t){const e=Z3(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=FQ(t.path)),a.serverResponse=i.serverResponse,a}return n}function MZ(t,e,n){const r=e.fullServerUrl(),i=uS(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new Y3(i,a,kZ(t,n),o);return s.errorHandler=RZ(e),s}function DZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $Z(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=DZ(null,e)),r}function LZ(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let b="";for(let O=0;O<2;O++)b=b+Math.random().toString().slice(2);return b}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=$Z(e,r,i),f=IZ(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",m=ho.getBlob(d,r,h);if(m===null)throw JQ();const v={name:u.fullPath},x=uS(a,t.host,t._protocol),_="POST",y=t.maxUploadRetryTime,g=new Y3(x,_,PZ(t,n),y);return g.urlParams=v,g.headers=o,g.body=m.uploadData(),g.errorHandler=Z3(e),g}class BZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Tf("cannot .send() more than once");if(Yo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class UZ extends BZ{initXhr(){this.xhr_.responseType="text"}}function J3(){return new UZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tl(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W3(this._location.path)}get storage(){return this._service}get parent(){const e=EZ(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new tl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nZ(e)}}function VZ(t,e,n){t._throwIfRoot("uploadBytes");const r=LZ(t.storage,t._location,K3(),new ho(e,!0),n);return t.storage.makeRequestWithTokens(r,J3).then(i=>({metadata:i,ref:t}))}function zZ(t){t._throwIfRoot("getDownloadURL");const e=MZ(t.storage,t._location,K3());return t.storage.makeRequestWithTokens(e,J3).then(n=>{if(n===null)throw eZ();return n})}function FZ(t,e){const n=SZ(t._location.path,e),r=new Tr(t._location.bucket,n);return new tl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(t){return/^[A-Za-z]+:\/\//.test(t)}function qZ(t,e){return new tl(t,e)}function eL(t,e){if(t instanceof fS){const n=t;if(n._bucket==null)throw ZQ();const r=new tl(n,n._bucket);return e!=null?eL(r,e):r}else return e!==void 0?FZ(t,e):t}function GZ(t,e){if(e&&HZ(e)){if(t instanceof fS)return qZ(t,e);throw b_("To use ref(service, url), the first argument must be a Storage instance.")}else return eL(t,e)}function tC(t,e){const n=e==null?void 0:e[U3];return n==null?null:Tr.makeFromBucketSpec(n,t)}function WZ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Yo(e);i&&(oE(`https://${t.host}/b`),sE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:W$(a,t.app.options.projectId))}class fS{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=B3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VQ,this._maxUploadRetryTime=zQ,this._requests=new Set,i!=null?this._bucket=Tr.makeFromBucketSpec(i,this._host):this._bucket=tC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=tC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new rZ(V3());{const o=pZ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nC="@firebase/storage",rC="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="storage";function KZ(t,e,n){return t=Ot(t),VZ(t,e,n)}function XZ(t){return t=Ot(t),zZ(t)}function YZ(t,e){return t=Ot(t),GZ(t,e)}function QZ(t=Ty(),e){t=Ot(t);const r=Qo(t,tL).getImmediate({identifier:e}),i=H$("storage");return i&&ZZ(r,...i),r}function ZZ(t,e,n,r={}){WZ(t,e,n,r)}function JZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fS(n,r,i,e,ml)}function eJ(){mi(new Qr(tL,JZ,"PUBLIC").setMultipleInstances(!0)),sr(nC,rC,""),sr(nC,rC,"esm2017")}eJ();const tJ={apiKey:"AIzaSyCs378LldkmXoZ3w9aPQEj-gJ1XgzFzhD0",authDomain:"consignment-store-4a564.firebaseapp.com",projectId:"consignment-store-4a564",storageBucket:"consignment-store-4a564.firebasestorage.app",messagingSenderId:"723799732977",appId:"1:723799732977:web:fa12372a7a91682807af50",measurementId:"G-K6DPX8D0SD"},Qy=e4(tJ);$Q(Qy);const At=iY(Qy),hx=sW(Qy),nJ=QZ(Qy),rJ=new fa,dS=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(!0),[i,a]=R.useState(!1);R.useEffect(()=>{const d=Xq(hx,async h=>{try{const m=localStorage.getItem("phoneUserSession"),v=localStorage.getItem("phoneUser");if(m==="active"&&v){const x=JSON.parse(v);console.log("Loading phone user from session:",x),e(x),r(!1);return}h?(console.log("Loading Firebase user:",h.uid),await o(h),e(h)):e(null)}catch(m){console.error("Error in auth state change:",m),e(null)}finally{r(!1)}});return()=>d()},[]),R.useEffect(()=>{if(t){const d=localStorage.getItem(`adminMode_${t.uid}`);a(d==="true")}},[t]);const o=async d=>{try{const h=vi(At,"users",d.uid),m=await yY(h),v={email:d.email||"",displayName:d.displayName,photoURL:d.photoURL||"",phoneNumber:"phoneNumber"in d?d.phoneNumber:"",isPhoneUser:"isPhoneUser"in d?d.isPhoneUser:!1,lastSignIn:new Date};m.exists()?await HN(h,v,{merge:!0}):await HN(h,{...v,createdAt:new Date})}catch(h){console.error("Error storing user data:",h)}};return{user:t,loading:n,signInWithGoogle:async()=>{try{return(await gG(hx,rJ)).user}catch(d){throw console.error("Error signing in with Google:",d),d}},signInWithPhone:async d=>{try{const h=d.replace(/\D/g,"");if(h.length!==10)throw new Error("Please enter a valid 10-digit phone number");const m=`+1${h}`;console.log("Attempting phone sign-in with:",m);const x={uid:`phone_${h}_${Date.now()}`,phoneNumber:m,displayName:`📱 ${d}`,email:void 0,photoURL:void 0,isPhoneUser:!0};return console.log("Created phone user object:",x),localStorage.setItem("phoneUser",JSON.stringify(x)),localStorage.setItem("phoneUserSession","active"),await o(x),e(x),console.log("Phone authentication completed successfully"),x}catch(h){throw console.error("Error signing in with phone:",h),h instanceof Error?h.message.includes("phone number")?new Error("Please enter a valid phone number"):h.message.includes("auth")?new Error("Authentication service is currently unavailable. Please try again later."):new Error(`Sign-in failed: ${h.message}`):new Error("Phone sign-in failed. Please try again.")}},logout:async()=>{try{localStorage.getItem("phoneUserSession")==="active"?(localStorage.removeItem("phoneUser"),localStorage.removeItem("phoneUserSession"),console.log("Phone user logged out")):await Yq(hx),t&&localStorage.removeItem(`adminMode_${t.uid}`),e(null),a(!1)}catch(d){throw console.error("Error signing out:",d),d}},isAuthenticated:!!t,isAdmin:i,toggleAdmin:()=>{if(t){const d=!i;a(d),localStorage.setItem(`adminMode_${t.uid}`,d.toString()),console.log(`Toggling admin mode: ${i} → ${d}. Refreshing page...`),setTimeout(()=>{window.location.reload()},100)}}}},nL=R.createContext(void 0),iJ=({children:t})=>{const[e,n]=R.useState([]),[r,i]=R.useState([]),[a,o]=R.useState(!1);R.useEffect(()=>{console.log("Loading cart and bookmarks from localStorage...");const b=localStorage.getItem("shopping_cart"),O=localStorage.getItem("bookmarked_items");if(console.log("Saved cart:",b),console.log("Saved bookmarks:",O),b)try{const N=JSON.parse(b).map(S=>({...S,addedAt:new Date(S.addedAt)}));console.log("Loaded cart items:",N.length),n(N)}catch(E){console.error("Error loading cart from localStorage:",E)}if(O)try{const E=JSON.parse(O);console.log("Loaded bookmarks:",E.length),i(E)}catch(E){console.error("Error loading bookmarks from localStorage:",E)}o(!0)},[]),R.useEffect(()=>{a&&(console.log("Saving cart to localStorage:",e.length,"items"),localStorage.setItem("shopping_cart",JSON.stringify(e)))},[e,a]),R.useEffect(()=>{a&&(console.log("Saving bookmarks to localStorage:",r.length,"items"),localStorage.setItem("bookmarked_items",JSON.stringify(r)))},[r,a]);const s=(b,O=1)=>{if(console.log("addToCart called:",b.title,"Current cart size:",e.length),e.findIndex(N=>N.item.id===b.id)>=0){console.log("Item already in cart, not adding again (consignment items are unique)");return}else{const N={item:b,quantity:1,addedAt:new Date};console.log("Adding new item to cart:",N),n(S=>{const w=[...S,N];return console.log("New cart size will be:",w.length),w})}},l=b=>{n(O=>O.filter(E=>E.item.id!==b))},g={cartItems:e,bookmarkedItems:r,addToCart:s,removeFromCart:l,updateQuantity:(b,O)=>{if(O<=0){l(b);return}n(E=>E.map(N=>N.item.id===b?{...N,quantity:O}:N))},clearCart:()=>{n([])},isInCart:b=>e.some(O=>O.item.id===b),getCartItemQuantity:b=>{const O=e.find(E=>E.item.id===b);return(O==null?void 0:O.quantity)||0},toggleBookmark:b=>{console.log("toggleBookmark called:",b,"Current bookmarks:",r.length),i(O=>{if(O.includes(b)){const E=O.filter(N=>N!==b);return console.log("Removed bookmark, new count:",E.length),E}else{const E=[...O,b];return console.log("Added bookmark, new count:",E.length),E}})},isBookmarked:b=>r.includes(b),getCartTotal:()=>e.reduce((b,O)=>b+O.item.price*O.quantity,0),getCartItemCount:()=>e.reduce((b,O)=>b+O.quantity,0),getBookmarkCount:()=>r.length};return c.jsx(nL.Provider,{value:g,children:t})},lp=()=>{const t=R.useContext(nL);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},aJ=({item:t,isAdmin:e=!1,onMarkAsSold:n,onClick:r})=>{const[i,a]=R.useState(0),[o,s]=R.useState(!1),[l,u]=R.useState(!1),[f,d]=R.useState(t.price.toString()),h=()=>{a(b=>b===t.images.length-1?0:b+1)},m=()=>{a(b=>b===0?t.images.length-1:b-1)},v=()=>{u(!0)},x=async()=>{if(!n)return;const b=parseFloat(f);if(!(isNaN(b)||b<=0)){s(!0);try{await n(t,b),u(!1)}catch(O){console.error("Error marking item as sold:",O)}finally{s(!1)}}},_=()=>{u(!1),d(t.price.toString())},y=()=>{r&&r(t)},g=b=>{b.stopPropagation()};return c.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer",onClick:y,children:[c.jsx("div",{className:"relative h-48 bg-gray-200",children:t.images.length>0?c.jsxs(c.Fragment,{children:[c.jsx("img",{src:t.images[i],alt:t.title,className:"w-full h-full object-cover"}),t.images.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:b=>{g(b),m()},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:b=>{g(b),h()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-1 hover:bg-opacity-75 transition-opacity",children:c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),c.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.images.map((b,O)=>c.jsx("div",{className:`w-2 h-2 rounded-full ${O===i?"bg-white":"bg-white bg-opacity-50"}`},O))})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:c.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:t.title}),c.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:t.description}),(t.category||t.brand||t.size||t.condition||t.color)&&c.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-md",children:c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.category&&c.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:t.category}),t.brand&&c.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:t.brand}),t.size&&c.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["Size ",t.size]}),t.condition&&c.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t.condition}),t.gender&&c.jsx("span",{className:"bg-pink-100 text-pink-800 px-2 py-1 rounded-full",children:t.gender}),t.color&&c.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full",children:t.color})]})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.price.toFixed(2)]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["by ",t.sellerName]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400",children:[c.jsxs("span",{children:["Listed ",new Date(t.createdAt).toLocaleDateString()]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="live"?"bg-green-100 text-green-800":t.status==="approved"?"bg-blue-100 text-blue-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]}),e&&t.status==="live"&&c.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:c.jsx("button",{onClick:b=>{g(b),v()},disabled:o,className:`w-full py-2 px-4 rounded-lg text-sm font-medium transition-colors ${o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white"}`,children:o?c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Processing..."]}):c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark as Sold"]})})})]})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-orange-600 text-xl",children:"💰"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark as Sold"})]}),c.jsxs("p",{className:"text-gray-600 mb-4",children:['Mark "',c.jsx("span",{className:"font-medium",children:t.title}),'" as sold']}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Final Sale Price"}),c.jsx("input",{type:"number",value:f,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter sale price",min:"0",step:"0.01"}),f&&parseFloat(f)<=0&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid price greater than 0"})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:_,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",disabled:o,children:"Cancel"}),c.jsx("button",{onClick:x,disabled:o||!f||parseFloat(f)<=0,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center",children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Confirm Sale"})]})]})})]})},oJ=({isOpen:t,onClose:e,user:n})=>{const[r,i]=R.useState(""),[a,o]=R.useState(""),[s,l]=R.useState(""),[u,f]=R.useState([]),[d,h]=R.useState(!1),[m,v]=R.useState(!1),[x,_]=R.useState(!1),[y,g]=R.useState(""),[b,O]=R.useState(""),[E,N]=R.useState(""),[S,w]=R.useState(""),[j,I]=R.useState(""),[T,P]=R.useState(""),[k,z]=R.useState("");if(!t)return null;const U=q=>{if(q.target.files){const L=Array.from(q.target.files);f(W=>[...W,...L].slice(0,5))}},D=q=>{f(L=>L.filter((W,ee)=>ee!==q))},B=async q=>{const L=q.map(async(W,ee)=>{const xe=`items/${n==null?void 0:n.uid}/${Date.now()}_${ee}_${W.name}`,ct=YZ(nJ,xe);try{const Ue=await KZ(ct,W);return await XZ(Ue.ref)}catch(Ue){throw console.error("Error uploading image:",Ue),Ue}});return Promise.all(L)},V=()=>{if(!r.trim()||!a.trim()||!s.trim()||u.length===0){alert("Please fill in all required fields before previewing");return}const q=parseFloat(s);if(isNaN(q)||q<=0){alert("Please enter a valid price greater than 0");return}v(!0)},H=async()=>{if(n){h(!0);try{const q=await B(u),L={title:r.trim(),description:a.trim(),price:parseFloat(s),images:q,sellerId:n.uid,sellerName:n.displayName||"Anonymous",sellerEmail:n.email||("phoneNumber"in n?n.phoneNumber:""),status:"pending",createdAt:tS()};y&&y.trim()&&(L.category=y.trim()),b&&b.trim()&&(L.gender=b),E&&E.trim()&&(L.size=E.trim()),S&&S.trim()&&(L.brand=S.trim()),j&&j.trim()&&(L.condition=j),T&&T.trim()&&(L.material=T.trim()),k&&k.trim()&&(L.color=k.trim()),await v_(ar(At,"items"),L),_(!0),v(!1)}catch(q){console.error("Error adding item:",q),alert("Error adding item. Please try again."),h(!1)}}},te=()=>{i(""),o(""),l(""),f([]),v(!1),_(!1),h(!1),g(""),O(""),N(""),w(""),I(""),P(""),z("")},ne=()=>{te(),e()};return x?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:c.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Item Submitted Successfully!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your item has been submitted for review. Please bring the physical item to the front desk so our team can inspect and approve it."}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Next Steps:"}),c.jsx("br",{}),"1. Bring your item to the front desk",c.jsx("br",{}),"2. Our team will inspect and approve it",c.jsx("br",{}),"3. After approval, employees get first pick for 3 days",c.jsx("br",{}),"4. Then it goes live for all customers"]})}),c.jsx("button",{onClick:ne,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Got it!"})]})})}):m?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Preview Item"}),c.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"relative h-64 bg-gray-200",children:[u.length>0&&c.jsx("img",{src:URL.createObjectURL(u[0]),alt:"Preview",className:"w-full h-full object-cover"}),u.length>1&&c.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:["+",u.length-1," more"]})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:r}),c.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a}),c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",parseFloat(s).toFixed(2)]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["by ",n==null?void 0:n.displayName]})]}),(y||b||E||S||j||T||k)&&c.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Item Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[y&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Category:"})," ",c.jsx("span",{className:"font-medium",children:y})]}),b&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Gender:"})," ",c.jsx("span",{className:"font-medium",children:b})]}),E&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Size:"})," ",c.jsx("span",{className:"font-medium",children:E})]}),S&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Brand:"})," ",c.jsx("span",{className:"font-medium",children:S})]}),j&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Condition:"})," ",c.jsx("span",{className:"font-medium",children:j})]}),T&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Material:"})," ",c.jsx("span",{className:"font-medium",children:T})]}),k&&c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Color:"})," ",c.jsx("span",{className:"font-medium",children:k})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-gray-100",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"pending review"})})]})]}),c.jsxs("div",{className:"flex gap-4 pt-6",children:[c.jsx("button",{onClick:()=>v(!1),disabled:d,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 transition-colors",children:"Edit"}),c.jsx("button",{onClick:H,disabled:d,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):"Confirm & Submit"})]})]})]})}):c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add Item for Consignment"}),c.jsx("button",{onClick:ne,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Title *"}),c.jsx("input",{type:"text",id:"title",value:r,onChange:q=>i(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item title",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),c.jsx("textarea",{id:"description",value:a,onChange:q=>o(q.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Describe your item in detail...",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Asking Price *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),c.jsx("input",{type:"text",id:"price",value:s,onChange:q=>{const L=q.target.value;(L===""||/^\d*\.?\d*$/.test(L))&&l(L)},className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",required:!0})]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Item Details (Optional but Recommended)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsxs("select",{id:"category",value:y,onChange:q=>g(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Category"}),c.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),c.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),c.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),c.jsx("option",{value:"Camping",children:"Camping ⛺"}),c.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),c.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),c.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),c.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),c.jsx("option",{value:"Apparel",children:"Apparel 👕"}),c.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),c.jsxs("select",{id:"gender",value:b,onChange:q=>O(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"Men",children:"Men"}),c.jsx("option",{value:"Women",children:"Women"}),c.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),c.jsxs("select",{id:"size",value:E,onChange:q=>N(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Size"}),c.jsx("option",{value:"XS",children:"XS"}),c.jsx("option",{value:"S",children:"S"}),c.jsx("option",{value:"M",children:"M"}),c.jsx("option",{value:"L",children:"L"}),c.jsx("option",{value:"XL",children:"XL"}),c.jsx("option",{value:"XXL",children:"XXL"}),c.jsx("option",{value:"6",children:"6"}),c.jsx("option",{value:"7",children:"7"}),c.jsx("option",{value:"8",children:"8"}),c.jsx("option",{value:"9",children:"9"}),c.jsx("option",{value:"10",children:"10"}),c.jsx("option",{value:"11",children:"11"}),c.jsx("option",{value:"12",children:"12"}),c.jsx("option",{value:"13",children:"13"}),c.jsx("option",{value:"One Size",children:"One Size"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),c.jsx("input",{type:"text",id:"brand",value:S,onChange:q=>w(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Patagonia, REI, North Face"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),c.jsxs("select",{id:"condition",value:j,onChange:q=>I(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Condition"}),c.jsx("option",{value:"New",children:"New - Never used"}),c.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),c.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),c.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-700 mb-2",children:"Material/Fabric"}),c.jsx("input",{type:"text",id:"material",value:T,onChange:q=>P(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Gore-Tex, Merino Wool, Cotton"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),c.jsxs("select",{id:"color",value:k,onChange:q=>z(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select Color"}),c.jsx("option",{value:"Black",children:"Black"}),c.jsx("option",{value:"White",children:"White"}),c.jsx("option",{value:"Gray",children:"Gray"}),c.jsx("option",{value:"Red",children:"Red"}),c.jsx("option",{value:"Blue",children:"Blue"}),c.jsx("option",{value:"Green",children:"Green"}),c.jsx("option",{value:"Yellow",children:"Yellow"}),c.jsx("option",{value:"Orange",children:"Orange"}),c.jsx("option",{value:"Purple",children:"Purple"}),c.jsx("option",{value:"Pink",children:"Pink"}),c.jsx("option",{value:"Brown",children:"Brown"}),c.jsx("option",{value:"Navy",children:"Navy"}),c.jsx("option",{value:"Burgundy",children:"Burgundy"}),c.jsx("option",{value:"Olive",children:"Olive"}),c.jsx("option",{value:"Tan",children:"Tan"}),c.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos * (Max 5)"}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[c.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:U,className:"hidden",id:"image-upload",disabled:u.length>=5}),c.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${u.length>=5?"opacity-50 cursor-not-allowed":""}`,children:[c.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),c.jsx("span",{className:"text-gray-600",children:u.length>=5?"Maximum 5 images reached":"Click to add photos"})]})]}),u.length>0&&c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:u.map((q,L)=>c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:URL.createObjectURL(q),alt:`Preview ${L+1}`,className:"w-full h-24 object-cover rounded-lg"}),c.jsx("button",{type:"button",onClick:()=>D(L),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},L))})]}),c.jsxs("div",{className:"flex gap-4 pt-4",children:[c.jsx("button",{type:"button",onClick:ne,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),c.jsx("button",{type:"button",onClick:V,disabled:!r.trim()||!a.trim()||!s.trim()||u.length===0,className:"flex-1 px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Preview Item"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Your item will be reviewed by our team before appearing in the store."})]})]})})};var hS={},Zy={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var lJ=function t(e,n){sJ(this,t),this.data=e,this.text=n.text||e,this.options=n};Qn.default=lJ;Object.defineProperty(Zy,"__esModule",{value:!0});Zy.CODE39=void 0;var cJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),uJ=Qn,fJ=dJ(uJ);function dJ(t){return t&&t.__esModule?t:{default:t}}function hJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gJ=function(t){mJ(e,t);function e(n,r){return hJ(this,e),n=n.toUpperCase(),r.mod43&&(n+=bJ(xJ(n))),pJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return cJ(e,[{key:"encode",value:function(){for(var r=px("*"),i=0;i<this.data.length;i++)r+=px(this.data[i])+"0";return r+=px("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(fJ.default),rL=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],vJ=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function px(t){return yJ(iL(t))}function yJ(t){return vJ[t].toString(2)}function bJ(t){return rL[t]}function iL(t){return rL.indexOf(t)}function xJ(t){for(var e=0,n=0;n<t.length;n++)e+=iL(t[n]);return e=e%43,e}Zy.CODE39=gJ;var ki={},pS={},Uu={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});var Of;function mx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aL=bt.SET_A=0,oL=bt.SET_B=1,sL=bt.SET_C=2;bt.SHIFT=98;var _J=bt.START_A=103,wJ=bt.START_B=104,AJ=bt.START_C=105;bt.MODULO=103;bt.STOP=106;bt.FNC1=207;bt.SET_BY_CODE=(Of={},mx(Of,_J,aL),mx(Of,wJ,oL),mx(Of,AJ,sL),Of);bt.SWAP={101:aL,100:oL,99:sL};bt.A_START_CHAR="Ð";bt.B_START_CHAR="Ñ";bt.C_START_CHAR="Ò";bt.A_CHARS="[\0-_È-Ï]";bt.B_CHARS="[ -È-Ï]";bt.C_CHARS="(Ï*[0-9]{2}Ï*)";bt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Uu,"__esModule",{value:!0});var EJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),SJ=Qn,TJ=OJ(SJ),gr=bt;function OJ(t){return t&&t.__esModule?t:{default:t}}function jJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function CJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IJ=function(t){CJ(e,t);function e(n,r){jJ(this,e);var i=NJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(a){return a.charCodeAt(0)}),i}return EJ(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,a=gr.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(gr.FNC1);var o=e.next(r,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+o.result+e.getBar((o.checksum+i)%gr.MODULO)+e.getBar(gr.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return gr.BARS[r]?gr.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===gr.SET_A){var a=r.shift();return a<32?a+64:a-32}else return i===gr.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,a){if(!r.length)return{result:"",checksum:0};var o=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var l=gr.SWAP[s];l!==void 0?o=e.next(r,i+1,l):((a===gr.SET_A||a===gr.SET_B)&&s===gr.SHIFT&&(r[0]=a===gr.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),o=e.next(r,i+1,a))}else s=e.correctIndex(r,a),o=e.next(r,i+1,a);var u=e.getBar(s),f=s*i;return{result:u+o.result,checksum:f+o.checksum}}}]),e}(TJ.default);Uu.default=IJ;var mS={};Object.defineProperty(mS,"__esModule",{value:!0});var Ro=bt,lL=function(e){return e.match(new RegExp("^"+Ro.A_CHARS+"*"))[0].length},cL=function(e){return e.match(new RegExp("^"+Ro.B_CHARS+"*"))[0].length},uL=function(e){return e.match(new RegExp("^"+Ro.C_CHARS+"*"))[0]};function gS(t,e){var n=e?Ro.A_CHARS:Ro.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"Ì"+fL(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+gS(t.substring(i.length),!e)}function fL(t){var e=uL(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=lL(t)>=cL(t);return e+String.fromCharCode(r?206:205)+gS(t,r)}mS.default=function(t){var e=void 0,n=uL(t).length;if(n>=2)e=Ro.C_START_CHAR+fL(t);else{var r=lL(t)>cL(t);e=(r?Ro.A_START_CHAR:Ro.B_START_CHAR)+gS(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return"Ë"+a})};Object.defineProperty(pS,"__esModule",{value:!0});var PJ=Uu,kJ=dL(PJ),RJ=mS,MJ=dL(RJ);function dL(t){return t&&t.__esModule?t:{default:t}}function DJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LJ=function(t){$J(e,t);function e(n,r){if(DJ(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=gx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,MJ.default)(n),r));else var i=gx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return gx(i)}return e}(kJ.default);pS.default=LJ;var vS={};Object.defineProperty(vS,"__esModule",{value:!0});var BJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),UJ=Uu,VJ=zJ(UJ),iC=bt;function zJ(t){return t&&t.__esModule?t:{default:t}}function FJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var GJ=function(t){qJ(e,t);function e(n,r){return FJ(this,e),HJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,iC.A_START_CHAR+n,r))}return BJ(e,[{key:"valid",value:function(){return new RegExp("^"+iC.A_CHARS+"+$").test(this.data)}}]),e}(VJ.default);vS.default=GJ;var yS={};Object.defineProperty(yS,"__esModule",{value:!0});var WJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),KJ=Uu,XJ=YJ(KJ),aC=bt;function YJ(t){return t&&t.__esModule?t:{default:t}}function QJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eee=function(t){JJ(e,t);function e(n,r){return QJ(this,e),ZJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,aC.B_START_CHAR+n,r))}return WJ(e,[{key:"valid",value:function(){return new RegExp("^"+aC.B_CHARS+"+$").test(this.data)}}]),e}(XJ.default);yS.default=eee;var bS={};Object.defineProperty(bS,"__esModule",{value:!0});var tee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nee=Uu,ree=iee(nee),oC=bt;function iee(t){return t&&t.__esModule?t:{default:t}}function aee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function see(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lee=function(t){see(e,t);function e(n,r){return aee(this,e),oee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,oC.C_START_CHAR+n,r))}return tee(e,[{key:"valid",value:function(){return new RegExp("^"+oC.C_CHARS+"+$").test(this.data)}}]),e}(ree.default);bS.default=lee;Object.defineProperty(ki,"__esModule",{value:!0});ki.CODE128C=ki.CODE128B=ki.CODE128A=ki.CODE128=void 0;var cee=pS,uee=Jy(cee),fee=vS,dee=Jy(fee),hee=yS,pee=Jy(hee),mee=bS,gee=Jy(mee);function Jy(t){return t&&t.__esModule?t:{default:t}}ki.CODE128=uee.default;ki.CODE128A=dee.default;ki.CODE128B=pee.default;ki.CODE128C=gee.default;var rr={},xS={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.SIDE_BIN="101";ei.MIDDLE_BIN="01010";ei.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};ei.EAN2_STRUCTURE=["LL","LG","GL","GG"];ei.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];ei.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var e0={},bl={};Object.defineProperty(bl,"__esModule",{value:!0});var vee=ei,yee=function(e,n,r){var i=e.split("").map(function(o,s){return vee.BINARIES[n[s]]}).map(function(o,s){return o?o[e[s]]:""});if(r){var a=e.length-1;i=i.map(function(o,s){return s<a?o+r:o})}return i.join("")};bl.default=yee;Object.defineProperty(e0,"__esModule",{value:!0});var bee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Rl=ei,xee=bl,sC=hL(xee),_ee=Qn,wee=hL(_ee);function hL(t){return t&&t.__esModule?t:{default:t}}function Aee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function See(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tee=function(t){See(e,t);function e(n,r){Aee(this,e);var i=Eee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return bee(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,sC.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,sC.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Rl.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Rl.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Rl.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Rl.SIDE_BIN,this.leftEncode(),Rl.MIDDLE_BIN,this.rightEncode(),Rl.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(wee.default);e0.default=Tee;Object.defineProperty(xS,"__esModule",{value:!0});var Oee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jf=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},jee=ei,Nee=e0,Cee=Iee(Nee);function Iee(t){return t&&t.__esModule?t:{default:t}}function Pee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ree(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lC=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*3:r+i},0);return(10-n%10)%10},Mee=function(t){Ree(e,t);function e(n,r){Pee(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=lC(n));var i=kee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return Oee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===lC(this.data)}},{key:"leftText",value:function(){return jf(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=jee.EAN13_STRUCTURE[this.data[0]];return jf(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return jf(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return jf(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=jf(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(Cee.default);xS.default=Mee;var _S={};Object.defineProperty(_S,"__esModule",{value:!0});var Dee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),um=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},$ee=e0,Lee=Bee($ee);function Bee(t){return t&&t.__esModule?t:{default:t}}function Uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cC=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i:r+i*3},0);return(10-n%10)%10},Fee=function(t){zee(e,t);function e(n,r){return Uee(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=cC(n)),Vee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Dee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===cC(this.data)}},{key:"leftText",value:function(){return um(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return um(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return um(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return um(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(Lee.default);_S.default=Fee;var wS={};Object.defineProperty(wS,"__esModule",{value:!0});var Hee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qee=ei,Gee=bl,Wee=pL(Gee),Kee=Qn,Xee=pL(Kee);function pL(t){return t&&t.__esModule?t:{default:t}}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jee=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*9:r+i*3},0);return n%10},ete=function(t){Zee(e,t);function e(n,r){return Yee(this,e),Qee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Hee(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=qee.EAN5_STRUCTURE[Jee(this.data)];return{data:"1011"+(0,Wee.default)(this.data,r,"01"),text:this.text}}}]),e}(Xee.default);wS.default=ete;var AS={};Object.defineProperty(AS,"__esModule",{value:!0});var tte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nte=ei,rte=bl,ite=mL(rte),ate=Qn,ote=mL(ate);function mL(t){return t&&t.__esModule?t:{default:t}}function ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ute=function(t){cte(e,t);function e(n,r){return ste(this,e),lte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return tte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=nte.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,ite.default)(this.data,r,"01"),text:this.text}}}]),e}(ote.default);AS.default=ute;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});var fte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();cp.checksum=x_;var dte=bl,Ml=gL(dte),hte=Qn,pte=gL(hte);function gL(t){return t&&t.__esModule?t:{default:t}}function mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yte=function(t){vte(e,t);function e(n,r){mte(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=x_(n));var i=gte(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return fte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==x_(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Ml.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Ml.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Ml.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Ml.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Ml.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Ml.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(pte.default);function x_(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}cp.default=yte;var ES={};Object.defineProperty(ES,"__esModule",{value:!0});var bte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xte=bl,_te=vL(xte),wte=Qn,Ate=vL(wte),Ete=cp;function vL(t){return t&&t.__esModule?t:{default:t}}function Ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vx(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ote=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],jte=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Nte=function(t){Tte(e,t);function e(n,r){Ste(this,e);var i=vx(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=uC(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=uC(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return vx(i);else return vx(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return bte(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],a=jte[parseInt(i)][parseInt(r)];return(0,_te.default)(this.middleDigits,a)}}]),e}(Ate.default);function uC(t,e){for(var n=parseInt(t[t.length-1]),r=Ote[n],i="",a=0,o=0;o<r.length;o++){var s=r[o];s==="X"?i+=t[a++]:i+=s}return i=""+e+i,""+i+(0,Ete.checksum)(i)}ES.default=Nte;Object.defineProperty(rr,"__esModule",{value:!0});rr.UPCE=rr.UPC=rr.EAN2=rr.EAN5=rr.EAN8=rr.EAN13=void 0;var Cte=xS,Ite=Vu(Cte),Pte=_S,kte=Vu(Pte),Rte=wS,Mte=Vu(Rte),Dte=AS,$te=Vu(Dte),Lte=cp,Bte=Vu(Lte),Ute=ES,Vte=Vu(Ute);function Vu(t){return t&&t.__esModule?t:{default:t}}rr.EAN13=Ite.default;rr.EAN8=kte.default;rr.EAN5=Mte.default;rr.EAN2=$te.default;rr.UPC=Bte.default;rr.UPCE=Vte.default;var Kc={},t0={},up={};Object.defineProperty(up,"__esModule",{value:!0});up.START_BIN="1010";up.END_BIN="11101";up.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(t0,"__esModule",{value:!0});var zte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fm=up,Fte=Qn,Hte=qte(Fte);function qte(t){return t&&t.__esModule?t:{default:t}}function Gte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wte(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xte=function(t){Kte(e,t);function e(){return Gte(this,e),Wte(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return zte(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(a){return r.encodePair(a)}).join("");return{data:fm.START_BIN+i+fm.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=fm.BINARIES[r[1]];return fm.BINARIES[r[0]].split("").map(function(a,o){return(a==="1"?"111":"1")+(i[o]==="1"?"000":"0")}).join("")}}]),e}(Hte.default);t0.default=Xte;var SS={};Object.defineProperty(SS,"__esModule",{value:!0});var Yte=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Qte=t0,Zte=Jte(Qte);function Jte(t){return t&&t.__esModule?t:{default:t}}function ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fC=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,a){return r+i*(3-a%2*2)},0);return Math.ceil(n/10)*10-n},rne=function(t){nne(e,t);function e(n,r){return ene(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=fC(n)),tne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Yte(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===fC(this.data)}}]),e}(Zte.default);SS.default=rne;Object.defineProperty(Kc,"__esModule",{value:!0});Kc.ITF14=Kc.ITF=void 0;var ine=t0,ane=yL(ine),one=SS,sne=yL(one);function yL(t){return t&&t.__esModule?t:{default:t}}Kc.ITF=ane.default;Kc.ITF14=sne.default;var qr={},xl={};Object.defineProperty(xl,"__esModule",{value:!0});var lne=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),cne=Qn,une=fne(cne);function fne(t){return t&&t.__esModule?t:{default:t}}function dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mne=function(t){pne(e,t);function e(n,r){return dne(this,e),hne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return lne(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),o=a.toString(2);o=gne(o,4-o.length);for(var s=0;s<o.length;s++)r+=o[s]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(une.default);function gne(t,e){for(var n=0;n<e;n++)t="0"+t;return t}xl.default=mne;var TS={},_l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.mod10=vne;_l.mod11=yne;function vne(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function yne(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(TS,"__esModule",{value:!0});var bne=xl,xne=wne(bne),_ne=_l;function wne(t){return t&&t.__esModule?t:{default:t}}function Ane(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ene(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tne=function(t){Sne(e,t);function e(n,r){return Ane(this,e),Ene(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,_ne.mod10)(n),r))}return e}(xne.default);TS.default=Tne;var OS={};Object.defineProperty(OS,"__esModule",{value:!0});var One=xl,jne=Cne(One),Nne=_l;function Cne(t){return t&&t.__esModule?t:{default:t}}function Ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rne=function(t){kne(e,t);function e(n,r){return Ine(this,e),Pne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,Nne.mod11)(n),r))}return e}(jne.default);OS.default=Rne;var jS={};Object.defineProperty(jS,"__esModule",{value:!0});var Mne=xl,Dne=$ne(Mne),dC=_l;function $ne(t){return t&&t.__esModule?t:{default:t}}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vne=function(t){Une(e,t);function e(n,r){return Lne(this,e),n+=(0,dC.mod10)(n),n+=(0,dC.mod10)(n),Bne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Dne.default);jS.default=Vne;var NS={};Object.defineProperty(NS,"__esModule",{value:!0});var zne=xl,Fne=Hne(zne),hC=_l;function Hne(t){return t&&t.__esModule?t:{default:t}}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kne=function(t){Wne(e,t);function e(n,r){return qne(this,e),n+=(0,hC.mod11)(n),n+=(0,hC.mod10)(n),Gne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Fne.default);NS.default=Kne;Object.defineProperty(qr,"__esModule",{value:!0});qr.MSI1110=qr.MSI1010=qr.MSI11=qr.MSI10=qr.MSI=void 0;var Xne=xl,Yne=fp(Xne),Qne=TS,Zne=fp(Qne),Jne=OS,ere=fp(Jne),tre=jS,nre=fp(tre),rre=NS,ire=fp(rre);function fp(t){return t&&t.__esModule?t:{default:t}}qr.MSI=Yne.default;qr.MSI10=Zne.default;qr.MSI11=ere.default;qr.MSI1010=nre.default;qr.MSI1110=ire.default;var n0={};Object.defineProperty(n0,"__esModule",{value:!0});n0.pharmacode=void 0;var are=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ore=Qn,sre=lre(ore);function lre(t){return t&&t.__esModule?t:{default:t}}function cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ure(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dre=function(t){fre(e,t);function e(n,r){cre(this,e);var i=ure(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return are(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(sre.default);n0.pharmacode=dre;var r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.codabar=void 0;var hre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pre=Qn,mre=gre(pre);function gre(t){return t&&t.__esModule?t:{default:t}}function vre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xre=function(t){bre(e,t);function e(n,r){vre(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=yre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return hre(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),a=0;a<this.data.length;a++)r.push(i[this.data.charAt(a)]),a!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(mre.default);r0.codabar=xre;var Xc={},i0={},dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"];dp.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];dp.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(i0,"__esModule",{value:!0});var _re=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),dm=dp,wre=Qn,Are=Ere(wre);function Ere(t){return t&&t.__esModule?t:{default:t}}function Sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ore(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jre=function(t){Ore(e,t);function e(n,r){return Sre(this,e),Tre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return _re(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(s){return dm.MULTI_SYMBOLS[s]||s}),i=r.map(function(s){return e.getEncoding(s)}).join(""),a=e.checksum(r,20),o=e.checksum(r.concat(a),15);return{text:this.text,data:e.getEncoding("ÿ")+i+e.getEncoding(a)+e.getEncoding(o)+e.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return dm.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return dm.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return dm.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var a=r.slice().reverse().reduce(function(o,s,l){var u=l%i+1;return o+e.symbolValue(s)*u},0);return e.getSymbol(a%47)}}]),e}(Are.default);i0.default=jre;var CS={};Object.defineProperty(CS,"__esModule",{value:!0});var Nre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cre=i0,Ire=Pre(Cre);function Pre(t){return t&&t.__esModule?t:{default:t}}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dre=function(t){Mre(e,t);function e(n,r){return kre(this,e),Rre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Nre(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Ire.default);CS.default=Dre;Object.defineProperty(Xc,"__esModule",{value:!0});Xc.CODE93FullASCII=Xc.CODE93=void 0;var $re=i0,Lre=bL($re),Bre=CS,Ure=bL(Bre);function bL(t){return t&&t.__esModule?t:{default:t}}Xc.CODE93=Lre.default;Xc.CODE93FullASCII=Ure.default;var a0={};Object.defineProperty(a0,"__esModule",{value:!0});a0.GenericBarcode=void 0;var Vre=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zre=Qn,Fre=Hre(zre);function Hre(t){return t&&t.__esModule?t:{default:t}}function qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gre(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kre=function(t){Wre(e,t);function e(n,r){return qre(this,e),Gre(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Vre(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Fre.default);a0.GenericBarcode=Kre;Object.defineProperty(hS,"__esModule",{value:!0});var Xre=Zy,hm=ki,Dl=rr,pC=Kc,Nf=qr,Yre=n0,Qre=r0,mC=Xc,Zre=a0;hS.default={CODE39:Xre.CODE39,CODE128:hm.CODE128,CODE128A:hm.CODE128A,CODE128B:hm.CODE128B,CODE128C:hm.CODE128C,EAN13:Dl.EAN13,EAN8:Dl.EAN8,EAN5:Dl.EAN5,EAN2:Dl.EAN2,UPC:Dl.UPC,UPCE:Dl.UPCE,ITF14:pC.ITF14,ITF:pC.ITF,MSI:Nf.MSI,MSI10:Nf.MSI10,MSI11:Nf.MSI11,MSI1010:Nf.MSI1010,MSI1110:Nf.MSI1110,pharmacode:Yre.pharmacode,codabar:Qre.codabar,CODE93:mC.CODE93,CODE93FullASCII:mC.CODE93FullASCII,GenericBarcode:Zre.GenericBarcode};var zu={};Object.defineProperty(zu,"__esModule",{value:!0});var Jre=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};zu.default=function(t,e){return Jre({},t,e)};var IS={};Object.defineProperty(IS,"__esModule",{value:!0});IS.default=eie;function eie(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var PS={};Object.defineProperty(PS,"__esModule",{value:!0});PS.default=tie;function tie(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var kS={},RS={},o0={};Object.defineProperty(o0,"__esModule",{value:!0});o0.default=nie;function nie(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var s0={};Object.defineProperty(s0,"__esModule",{value:!0});var rie={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};s0.default=rie;Object.defineProperty(RS,"__esModule",{value:!0});var iie=o0,aie=xL(iie),oie=s0,gC=xL(oie);function xL(t){return t&&t.__esModule?t:{default:t}}function sie(t){var e={};for(var n in gC.default)gC.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,aie.default)(e),e}RS.default=sie;var MS={},DS={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getTotalWidthOfEncodings=Ar.calculateEncodingAttributes=Ar.getBarcodePadding=Ar.getEncodingHeight=Ar.getMaximumHeightOfEncodings=void 0;var lie=zu,cie=uie(lie);function uie(t){return t&&t.__esModule?t:{default:t}}function _L(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function wL(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function fie(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=(0,cie.default)(e,i.options),o;a.displayValue?o=pie(i.text,a,n):o=0;var s=i.data.length*a.width;i.width=Math.ceil(Math.max(o,s)),i.height=_L(i,a),i.barcodePadding=wL(o,s,a)}}function die(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function hie(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function pie(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var a=i.width;return a}Ar.getMaximumHeightOfEncodings=hie;Ar.getEncodingHeight=_L;Ar.getBarcodePadding=wL;Ar.calculateEncodingAttributes=fie;Ar.getTotalWidthOfEncodings=die;Object.defineProperty(DS,"__esModule",{value:!0});var mie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gie=zu,vie=yie(gie),yx=Ar;function yie(t){return t&&t.__esModule?t:{default:t}}function bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var xie=function(){function t(e,n,r){bie(this,t),this.canvas=e,this.encodings=n,this.options=r}return mie(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,vie.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,yx.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,yx.getTotalWidthOfEncodings)(this.encodings),i=(0,yx.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),a=r.data,o;n.textPosition=="top"?o=n.marginTop+n.fontSize+n.textMargin:o=n.marginTop,i.fillStyle=n.lineColor;for(var s=0;s<a.length;s++){var l=s*n.width+r.barcodePadding;a[s]==="1"?i.fillRect(l,o,n.width,n.height):a[s]&&i.fillRect(l,o,n.width,n.height*a[s])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),a=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var o,s;n.textPosition=="top"?s=n.marginTop+n.fontSize-n.textMargin:s=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=a,n.textAlign=="left"||r.barcodePadding>0?(o=0,i.textAlign="left"):n.textAlign=="right"?(o=r.width-1,i.textAlign="right"):(o=r.width/2,i.textAlign="center"),i.fillText(r.text,o,s)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();DS.default=xie;var $S={};Object.defineProperty($S,"__esModule",{value:!0});var _ie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wie=zu,Aie=Eie(wie),bx=Ar;function Eie(t){return t&&t.__esModule?t:{default:t}}function Sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var pm="http://www.w3.org/2000/svg",Tie=function(){function t(e,n,r){Sie(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return _ie(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],a=(0,Aie.default)(this.options,i.options),o=this.createGroup(n,a.marginTop,this.svg);this.setGroupOptions(o,a),this.drawSvgBarcode(o,a,i),this.drawSVGText(o,a,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,bx.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,bx.getTotalWidthOfEncodings)(this.encodings),r=(0,bx.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a=i.data,o;r.textPosition=="top"?o=r.fontSize+r.textMargin:o=0;for(var s=0,l=0,u=0;u<a.length;u++)l=u*r.width+i.barcodePadding,a[u]==="1"?s++:s>0&&(this.drawRect(l-r.width*s,o,r.width*s,r.height,n),s=0);s>0&&this.drawRect(l-r.width*(s-1),o,r.width*s,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a=this.document.createElementNS(pm,"text");if(r.displayValue){var o,s;a.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?s=r.fontSize-r.textMargin:s=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(o=0,a.setAttribute("text-anchor","start")):r.textAlign=="right"?(o=i.width-1,a.setAttribute("text-anchor","end")):(o=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",o),a.setAttribute("y",s),a.appendChild(this.document.createTextNode(i.text)),n.appendChild(a)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",pm),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var a=this.document.createElementNS(pm,"g");return a.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,a,o){var s=this.document.createElementNS(pm,"rect");return s.setAttribute("x",n),s.setAttribute("y",r),s.setAttribute("width",i),s.setAttribute("height",a),o.appendChild(s),s}}]),t}();$S.default=Tie;var LS={};Object.defineProperty(LS,"__esModule",{value:!0});var Oie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Nie=function(){function t(e,n,r){jie(this,t),this.object=e,this.encodings=n,this.options=r}return Oie(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();LS.default=Nie;Object.defineProperty(MS,"__esModule",{value:!0});var Cie=DS,Iie=BS(Cie),Pie=$S,kie=BS(Pie),Rie=LS,Mie=BS(Rie);function BS(t){return t&&t.__esModule?t:{default:t}}MS.default={CanvasRenderer:Iie.default,SVGRenderer:kie.default,ObjectRenderer:Mie.default};var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});function US(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Die=function(t){zS(e,t);function e(n,r){US(this,e);var i=VS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),$ie=function(t){zS(e,t);function e(){US(this,e);var n=VS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),Lie=function(t){zS(e,t);function e(){US(this,e);var n=VS(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Fu.InvalidInputException=Die;Fu.InvalidElementException=$ie;Fu.NoElementException=Lie;Object.defineProperty(kS,"__esModule",{value:!0});var Bie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uie=RS,__=AL(Uie),Vie=MS,Yf=AL(Vie),zie=Fu;function AL(t){return t&&t.__esModule?t:{default:t}}function FS(t){if(typeof t=="string")return Fie(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(FS(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Hie(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,__.default)(t),renderer:Yf.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,__.default)(t),renderer:Yf.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Yf.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Bie(t))==="object"&&!t.nodeName)return{element:t,renderer:Yf.default.ObjectRenderer};throw new zie.InvalidElementException}}function Fie(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(FS(e[r]));return n}}function Hie(t){var e=document.createElement("canvas");return{element:e,options:(0,__.default)(t),renderer:Yf.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}kS.default=FS;var HS={};Object.defineProperty(HS,"__esModule",{value:!0});var qie=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Wie=function(){function t(e){Gie(this,t),this.api=e}return qie(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();HS.default=Wie;var Kie=hS,zs=es(Kie),Xie=zu,hp=es(Xie),Yie=IS,EL=es(Yie),Qie=PS,vC=es(Qie),Zie=kS,Jie=es(Zie),eae=o0,tae=es(eae),nae=HS,rae=es(nae),SL=Fu,iae=s0,TL=es(iae);function es(t){return t&&t.__esModule?t:{default:t}}var Ta=function(){},l0=function(e,n,r){var i=new Ta;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,Jie.default)(e),i._encodings=[],i._options=TL.default,i._errorHandler=new rae.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=jL()),i.options(r)[r.format](n,r).render()),i};l0.getModule=function(t){return zs.default[t]};for(var yC in zs.default)zs.default.hasOwnProperty(yC)&&aae(zs.default,yC);function aae(t,e){Ta.prototype[e]=Ta.prototype[e.toUpperCase()]=Ta.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var a=(0,hp.default)(i._options,r);a=(0,tae.default)(a);var o=t[e],s=OL(n,o,a);return i._encodings.push(s),i})}}function OL(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new SL.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,EL.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,hp.default)(n,i[a].options);return i}function jL(){return zs.default.CODE128?"CODE128":Object.keys(zs.default)[0]}Ta.prototype.options=function(t){return this._options=(0,hp.default)(this._options,t),this};Ta.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Ta.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,hp.default)(this._options,t.options);n.format=="auto"&&(n.format=jL()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=zs.default[n.format.toUpperCase()],a=OL(r,i,n);w_(t,a,n)})}}};Ta.prototype.render=function(){if(!this._renderProperties)throw new SL.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)w_(this._renderProperties[t],this._encodings,this._options);else w_(this._renderProperties,this._encodings,this._options);return this};Ta.prototype._defaults=TL.default;function w_(t,e,n){e=(0,EL.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,hp.default)(n,e[r].options),(0,vC.default)(e[r].options);(0,vC.default)(n);var i=t.renderer,a=new i(t.element,e,n);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=l0);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),l0(n,t,e)});var oae=l0;const sae=Qe(oae),lae=({isOpen:t,onClose:e,item:n,onConfirmPrint:r})=>{const[i,a]=R.useState(""),[o,s]=R.useState(!1),[l,u]=R.useState(!1),f=R.useRef(null);R.useEffect(()=>{t&&n&&(d(),u(!1))},[t,n]);const d=()=>{if(!n)return;s(!0);const v=new Date;v.getTime().toString();const x=v.toISOString().split("T")[0].replace(/-/g,""),_=v.toTimeString().split(" ")[0].replace(/:/g,""),y=`${n.id.slice(-8)}${x}${_}`.slice(0,12);if(a(y),f.current)try{sae(f.current,y,{format:"CODE128",width:2,height:80,displayValue:!0,fontSize:12,margin:10}),s(!1)}catch(g){console.error("Error generating barcode:",g),s(!1)}},h=()=>{if(!f.current||!n)return;const v=window.open("","_blank");if(!v)return;const _=f.current.toDataURL("image/png");v.document.write(`
      <html>
        <head>
          <title>Item Barcode - ${n.title}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              text-align: center;
            }
            .item-info {
              margin-bottom: 20px;
              border: 1px solid #ccc;
              padding: 15px;
              background-color: #f9f9f9;
            }
            .barcode-container {
              margin: 20px 0;
            }
            .print-info {
              margin-top: 20px;
              font-size: 12px;
              color: #666;
            }
            h2 {
              color: #333;
              margin-bottom: 10px;
            }
            .detail-row {
              margin: 5px 0;
              text-align: left;
            }
            .label {
              font-weight: bold;
              display: inline-block;
              width: 100px;
            }
          </style>
        </head>
        <body>
          <h2>Summit Gear Exchange</h2>
          <div class="item-info">
            <h3>${n.title}</h3>
            <div class="detail-row">
              <span class="label">Price:</span> $${n.price}
            </div>
            <div class="detail-row">
              <span class="label">Category:</span> ${n.category}
            </div>
            <div class="detail-row">
              <span class="label">Brand:</span> ${n.brand||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Size:</span> ${n.size||"N/A"}
            </div>
            <div class="detail-row">
              <span class="label">Seller:</span> ${n.sellerName}
            </div>
            <div class="detail-row">
              <span class="label">Approved:</span> ${new Date().toLocaleString()}
            </div>
          </div>
          <div class="barcode-container">
            <img src="${_}" alt="Barcode: ${i}" />
          </div>
          <div class="print-info">
            <p>Barcode: ${i}</p>
            <p>Generated: ${new Date().toLocaleString()}</p>
          </div>
        </body>
      </html>
    `),v.document.close(),v.focus(),v.print()},m=async()=>{if(!(!n||!i)){u(!0);try{const v=vi(At,"items",n.id);await La(v,{barcodeData:i,barcodeGeneratedAt:new Date,printConfirmedAt:new Date,status:"approved",approvedAt:new Date}),r(n,i),e()}catch(v){console.error("Error updating item with barcode:",v)}finally{u(!1)}}};return!t||!n?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Item Barcode"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Create and print barcode before approving item"})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:n.title}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Price:"})," $",n.price]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Category:"})," ",n.category]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Brand:"})," ",n.brand||"N/A"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Size:"})," ",n.size||"N/A"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Seller:"})," ",n.sellerName]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",n.status]})]})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Generated Barcode"}),o?c.jsxs("div",{className:"flex justify-center items-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),c.jsx("span",{className:"ml-2 text-gray-600",children:"Generating barcode..."})]}):c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 inline-block",children:[c.jsx("canvas",{ref:f,className:"mx-auto"}),i&&c.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Barcode ID:"})," ",i]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Generated:"})," ",new Date().toLocaleString()]})]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Print Label"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Print this barcode label and attach it to the item before adding to inventory."})]}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:c.jsxs("button",{onClick:h,disabled:o||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white disabled:text-gray-500",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Label"]})})]})})]}),c.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),c.jsx("button",{onClick:m,disabled:l||o||!i,className:"px-6 py-2 rounded-lg transition-colors font-medium flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-300 disabled:cursor-not-allowed disabled:text-gray-500",children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Confirming..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Printed"]})})]})})]})})},cae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=R.useState([]),[a,o]=R.useState(!0),[s,l]=R.useState(null),[u,f]=R.useState(!1),[d,h]=R.useState(!1),[m,v]=R.useState(!1),[x,_]=R.useState(!1),[y,g]=R.useState(!1),[b,O]=R.useState(null),[E,N]=R.useState(""),[S,w]=R.useState("");R.useEffect(()=>{t&&n&&j()},[t,n]);const j=async()=>{o(!0);try{const D=ar(At,"items"),B=Vr(D,Ci("status","==","pending")),V=await Fn(B),H=[];V.forEach(te=>{var q,L,W;const ne=te.data();H.push({id:te.id,...ne,createdAt:((q=ne.createdAt)==null?void 0:q.toDate())||new Date,approvedAt:(L=ne.approvedAt)==null?void 0:L.toDate(),liveAt:(W=ne.liveAt)==null?void 0:W.toDate()})}),H.sort((te,ne)=>ne.createdAt.getTime()-te.createdAt.getTime()),i(H)}catch(D){console.error("Error fetching pending items:",D)}finally{o(!1)}},I=D=>{O(D),f(!0)},T=D=>{O(D),N(""),v(!0)},P=()=>{b&&(f(!1),h(!0))},k=async(D,B)=>{i(V=>V.filter(H=>H.id!==D.id)),w("Item approved with barcode generated! It will be available to employees for 3 days before going live."),_(!0),O(null)},z=()=>{h(!1),O(null)},U=async()=>{if(b){l(b.id),v(!1);try{await La(vi(At,"items",b.id),{status:"rejected",rejectedAt:tS(),rejectionReason:E||"No reason provided"}),i(D=>D.filter(B=>B.id!==b.id)),w("Item rejected."),_(!0)}catch(D){console.error("Error rejecting item:",D),w("Error rejecting item. Please try again."),g(!0)}finally{l(null),O(null)}}};return t?c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Manage Pending Items"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:a?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No pending items to review"}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All items have been processed!"})]}):c.jsx("div",{className:"space-y-6",children:r.map(D=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:c.jsxs("div",{className:"flex gap-6",children:[c.jsx("div",{className:"flex-shrink-0",children:D.images.length>0?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:D.images[0],alt:D.title,className:"w-32 h-32 object-cover rounded-lg"}),D.images.length>1&&c.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",D.images.length-1]})]}):c.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:D.title}),c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",D.price.toFixed(2)]})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:D.description}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 mb-4",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Seller:"})," ",D.sellerName]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",D.sellerEmail]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Submitted:"})," ",D.createdAt.toLocaleDateString()]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Images:"})," ",D.images.length]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>I(D),disabled:s===D.id,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s===D.id?"Processing...":"Approve Item"}),c.jsx("button",{onClick:()=>T(D),disabled:s===D.id,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s===D.id?"Processing...":"Reject Item"})]})]})]})},D.id))})})]}),u&&b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-green-600 text-xl",children:"✅"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Approve Item"})]}),c.jsxs("p",{className:"text-gray-600 mb-6",children:['Approving "',c.jsx("span",{className:"font-medium",children:b.title}),'" will generate a barcode label that must be printed. After printing, the item will be available to employees for 3 days before going live to all customers.']}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:P,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Generate Label & Approve"})]})]})}),m&&b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-red-600 text-xl",children:"❌"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reject Item"})]}),c.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to reject "',c.jsx("span",{className:"font-medium",children:b.title}),'"?']}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for rejection (optional)"}),c.jsx("textarea",{value:E,onChange:D=>N(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:3,placeholder:"Enter reason for rejection..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:U,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Reject Item"})]})]})}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-green-600 text-xl",children:"🎉"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:S}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),y&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:S}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})}),d&&b&&c.jsx(lae,{isOpen:d,onClose:z,item:b,onConfirmPrint:k})]}):null},uae=({isOpen:t,onClose:e,user:n})=>{const[r,i]=R.useState([]),[a,o]=R.useState(!0),[s,l]=R.useState(null),[u,f]=R.useState(null),[d,h]=R.useState(!1),[m,v]=R.useState(!1),[x,_]=R.useState(!1),[y,g]=R.useState(null),[b,O]=R.useState("");R.useEffect(()=>{t&&n&&E()},[t,n]);const E=async()=>{o(!0);try{const T=ar(At,"items"),P=Vr(T,Ci("status","==","approved")),k=await Fn(P),z=[];k.forEach(U=>{var B,V,H,te,ne;const D=U.data();z.push({id:U.id,...D,createdAt:((B=D.createdAt)==null?void 0:B.toDate())||new Date,approvedAt:((V=D.approvedAt)==null?void 0:V.toDate())||new Date,liveAt:(H=D.liveAt)==null?void 0:H.toDate(),barcodeGeneratedAt:(te=D.barcodeGeneratedAt)==null?void 0:te.toDate(),printConfirmedAt:(ne=D.printConfirmedAt)==null?void 0:ne.toDate()})}),z.sort((U,D)=>{var B,V;return(((B=D.approvedAt)==null?void 0:B.getTime())||0)-(((V=U.approvedAt)==null?void 0:V.getTime())||0)}),i(z)}catch(T){console.error("Error fetching approved items:",T)}finally{o(!1)}},N=T=>{const k=new Date(T.getTime()+2592e5),z=new Date,U=k.getTime()-z.getTime();if(U<=0)return{expired:!0,text:"Ready to go live!"};const D=Math.floor(U/(24*60*60*1e3)),B=Math.floor(U%(24*60*60*1e3)/(60*60*1e3)),V=Math.floor(U%(60*60*1e3)/(60*1e3));return{expired:!1,text:`${D}d ${B}h ${V}m remaining`,goLiveTime:k.toLocaleDateString()+" "+k.toLocaleTimeString()}},S=T=>{g(T),h(!0)},w=async()=>{if(y){h(!1),f(y.id);try{await La(vi(At,"items",y.id),{status:"live",liveAt:tS()}),i(T=>T.filter(P=>P.id!==y.id)),O("Item is now live!"),v(!0)}catch(T){console.error("Error making item live:",T),O("Error making item live. Please try again."),_(!0)}finally{f(null),g(null)}}},j=T=>{l(T)},I=async T=>{f(T.id);try{await La(vi(At,"items",T.id),{title:T.title,description:T.description,price:T.price,category:T.category||null,gender:T.gender||null,size:T.size||null,brand:T.brand||null,condition:T.condition||null,material:T.material||null}),i(P=>P.map(k=>k.id===T.id?T:k)),l(null),O("Item updated successfully!"),v(!0)}catch(P){console.error("Error updating item:",P),O("Error updating item. Please try again."),_(!0)}finally{f(null)}};return t?c.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Approved Items (Employee Preview)"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Items approved for 3-day employee preview before going live to all customers"})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:a?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No approved items"}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Items will appear here after approval"})]}):c.jsx("div",{className:"space-y-6",children:r.map(T=>{var k;const P=N(T.approvedAt);return c.jsx("div",{className:"border border-gray-200 rounded-lg p-6 bg-gradient-to-r from-orange-50 to-yellow-50",children:c.jsxs("div",{className:"flex gap-6",children:[c.jsx("div",{className:"flex-shrink-0",children:T.images.length>0?c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:T.images[0],alt:T.title,className:"w-32 h-32 object-cover rounded-lg"}),T.images.length>1&&c.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:["+",T.images.length-1]})]}):c.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{className:"flex-grow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:T.title}),c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",T.price.toFixed(2)]})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:T.description}),c.jsxs("div",{className:"bg-white rounded-lg p-3 mb-4 border border-orange-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:`font-medium ${P.expired?"text-green-600":"text-orange-600"}`,children:P.text})]}),!P.expired&&P.goLiveTime&&c.jsxs("p",{className:"text-xs text-gray-500",children:["Goes live: ",P.goLiveTime]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-500 mb-4",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Seller:"})," ",T.sellerName]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Approved:"})," ",(k=T.approvedAt)==null?void 0:k.toLocaleDateString()]}),T.barcodeData&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Barcode:"})," ",T.barcodeData]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Label Generated:"})," ",T.barcodeGeneratedAt?T.barcodeGeneratedAt instanceof Date?T.barcodeGeneratedAt.toLocaleDateString():new Date(T.barcodeGeneratedAt).toLocaleDateString():"N/A"]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>j(T),disabled:u===T.id,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Edit Details"}),c.jsx("button",{onClick:()=>S(T),disabled:u===T.id,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u===T.id?"Processing...":"Make Live Now"})]})]})]})},T.id)})})})]}),s&&c.jsx(fae,{item:s,onSave:I,onCancel:()=>l(null),isProcessing:u===s.id}),d&&y&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-green-600 text-xl",children:"🚀"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Make Item Live"})]}),c.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to make "',c.jsx("span",{className:"font-medium",children:y.title}),'" live? This will make it available to all customers immediately.',y.barcodeData?c.jsx("span",{className:"block mt-2 text-green-600 text-sm",children:"✓ Barcode label has been generated and printed."}):c.jsx("span",{className:"block mt-2 text-amber-600 text-sm",children:"⚠ Note: No barcode label has been generated for this item."})]}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Make Live Now"})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-green-600 text-xl",children:"🎉"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:b}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"OK"})})]})}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Error"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:b}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]}):null},fae=({item:t,onSave:e,onCancel:n,isProcessing:r})=>{const[i,a]=R.useState(t.title),[o,s]=R.useState(t.description),[l,u]=R.useState(t.price.toString()),[f,d]=R.useState(t.category||""),[h,m]=R.useState(t.gender||""),[v,x]=R.useState(t.size||""),[_,y]=R.useState(t.brand||""),[g,b]=R.useState(t.condition||""),[O,E]=R.useState(t.material||""),[N,S]=R.useState(!1),[w,j]=R.useState(""),I=()=>{if(!i.trim()||!o.trim()||!l.trim()){j("Please fill in all required fields"),S(!0);return}const T=parseFloat(l);if(isNaN(T)||T<=0){j("Please enter a valid price greater than 0"),S(!0);return}e({...t,title:i.trim(),description:o.trim(),price:T,category:f||void 0,gender:h||void 0,size:v||void 0,brand:_.trim()||void 0,condition:g||void 0,material:O.trim()||void 0})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Item Details"})}),c.jsxs("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),c.jsx("textarea",{value:o,onChange:T=>s(T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),c.jsx("input",{type:"text",value:l,onChange:T=>{const P=T.target.value;(P===""||/^\d*\.?\d*$/.test(P))&&u(P)},className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Additional Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{value:f,onChange:T=>d(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select Category"}),c.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),c.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),c.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),c.jsx("option",{value:"Camping",children:"Camping ⛺"}),c.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),c.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),c.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),c.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),c.jsx("option",{value:"Apparel",children:"Apparel 👕"}),c.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),c.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"Men",children:"Men"}),c.jsx("option",{value:"Women",children:"Women"}),c.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),c.jsxs("select",{value:v,onChange:T=>x(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select Size"}),c.jsx("option",{value:"XS",children:"XS"}),c.jsx("option",{value:"S",children:"S"}),c.jsx("option",{value:"M",children:"M"}),c.jsx("option",{value:"L",children:"L"}),c.jsx("option",{value:"XL",children:"XL"}),c.jsx("option",{value:"XXL",children:"XXL"}),c.jsx("option",{value:"6",children:"6"}),c.jsx("option",{value:"7",children:"7"}),c.jsx("option",{value:"8",children:"8"}),c.jsx("option",{value:"9",children:"9"}),c.jsx("option",{value:"10",children:"10"}),c.jsx("option",{value:"11",children:"11"}),c.jsx("option",{value:"12",children:"12"}),c.jsx("option",{value:"13",children:"13"}),c.jsx("option",{value:"One Size",children:"One Size"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),c.jsxs("select",{value:g,onChange:T=>b(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Select Condition"}),c.jsx("option",{value:"New",children:"New - Never used"}),c.jsx("option",{value:"Like New",children:"Like New - Minimal wear"}),c.jsx("option",{value:"Good",children:"Good - Some wear but functional"}),c.jsx("option",{value:"Fair",children:"Fair - Well used but still works"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),c.jsx("input",{type:"text",value:_,onChange:T=>y(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Patagonia, REI"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),c.jsx("input",{type:"text",value:O,onChange:T=>E(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Gore-Tex, Cotton"})]})]})]})]}),c.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[c.jsx("button",{onClick:n,disabled:r,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:I,disabled:r,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:r?"Saving...":"Save Changes"})]}),N&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:c.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Validation Error"})]}),c.jsx("p",{className:"text-gray-600 mb-6",children:w}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"OK"})})]})})]})})},bC=({isOpen:t,onClose:e,onGoogleLogin:n,onPhoneLogin:r})=>{const[i,a]=R.useState(""),[o,s]=R.useState(!1),[l,u]=R.useState("selection"),[f,d]=R.useState(null);if(!t)return null;const h=async()=>{s(!0);try{await n(),e()}catch(g){console.error("Google login failed:",g),alert("Google login failed. Please try again.")}finally{s(!1)}},m=async()=>{if(!i.trim()){d("Please enter a phone number");return}if(i.replace(/\D/g,"").length!==10){d("Please enter a valid 10-digit phone number");return}s(!0),d(null);try{console.log("Starting phone login with:",i),await r(i),console.log("Phone login successful"),e(),v()}catch(b){console.error("Phone login failed:",b);const O=b instanceof Error?b.message:"Phone login failed. Please try again.";d(O)}finally{s(!1)}},v=()=>{a(""),u("selection"),s(!1),d(null)},x=()=>{v(),e()},_=g=>{const b=g.replace(/\D/g,"");return b.length<=3?b:b.length<=6?`(${b.slice(0,3)}) ${b.slice(3)}`:`(${b.slice(0,3)}) ${b.slice(3,6)}-${b.slice(6,10)}`},y=g=>{const b=_(g.target.value);a(b)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l==="selection"?"Welcome to Summit Gear Exchange":"Sign In with Phone"}),c.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"p-6",children:l==="selection"?c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Choose how you'd like to sign in"}),c.jsxs("button",{onClick:h,disabled:o,className:"w-full flex items-center justify-center px-6 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[c.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),c.jsxs("button",{onClick:()=>u("phone"),disabled:o,className:"w-full flex items-center justify-center px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 transition-colors",children:[c.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Continue with Phone Number"]}),c.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"By continuing, you agree to our terms and conditions"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>u("selection"),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm mb-4",children:[c.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to sign in options"]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsx("input",{type:"tel",id:"phone",value:i,onChange:y,placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:14}),f&&c.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg p-3",children:f})]}),c.jsx("button",{onClick:m,disabled:o||!i.trim(),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Quick & Simple:"})," No verification needed! Just enter your phone number and you're ready to start buying and selling gear."]})})]})})]})})},qS=({isOpen:t,onClose:e,item:n})=>{const{addToCart:r,isInCart:i,getCartItemQuantity:a,toggleBookmark:o,isBookmarked:s,cartItems:l,bookmarkedItems:u}=lp(),{isAdmin:f}=dS();if(R.useEffect(()=>{n&&(console.log("Bookmark state check for",n.title,"- Bookmarked:",s(n.id)),console.log("Total bookmarked items:",u.length))},[u,n,s]),!t||!n)return null;const d=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=y=>{switch(y){case"pending":return"Pending Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return y}},m=()=>{console.log("Before adding to cart - Cart items count:",l.length),console.log("Item being added:",n.title,"ID:",n.id),console.log("Is item already in cart?",i(n.id)),console.log("Current cart quantity for this item:",a(n.id)),r(n);const y=document.createElement("div");y.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",y.textContent=`${n.title} added to cart!`,document.body.appendChild(y),setTimeout(()=>{document.body.contains(y)&&document.body.removeChild(y)},2e3)},v=()=>{const y=s(n.id);console.log("Before bookmark toggle - Item ID:",n.id,"Was bookmarked:",y),console.log("Current bookmarked items count:",u.length),o(n.id);const g=document.createElement("div");g.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",g.textContent=y?`Removed ${n.title} from bookmarks`:`${n.title} bookmarked!`,document.body.appendChild(g),setTimeout(()=>{document.body.contains(g)&&document.body.removeChild(g)},2e3)},x=n.status==="live",_=async y=>{if(n)try{const g=vi(At,"items",n.id),b={status:y};y==="live"?b.liveAt=new Date:y==="approved"?b.approvedAt=new Date:y==="archived"&&(b.archivedAt=new Date),await La(g,b);const O=document.createElement("div");O.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",O.textContent=`Item ${y==="live"?"made live":y==="approved"?"approved":"archived"} successfully!`,document.body.appendChild(O),setTimeout(()=>{document.body.contains(O)&&document.body.removeChild(O)},2e3),e()}catch(g){console.error("Error updating item:",g);const b=document.createElement("div");b.className="fixed top-4 right-4 z-50 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg",b.textContent="Error updating item. Please try again.",document.body.appendChild(b),setTimeout(()=>{document.body.contains(b)&&document.body.removeChild(b)},2e3)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200 rounded-t-xl",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),c.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(n.status)}`,children:h(n.status)}),c.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",n.price]})]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[n.images&&n.images.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.images.slice(0,4).map((y,g)=>c.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:c.jsx("img",{src:y,alt:`${n.title} ${g+1}`,className:"w-full h-full object-cover"})},g))}),n.images.length>4&&c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["+",n.images.length-4," more images"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Description"}),c.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:n.description})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:"Category"}),c.jsx("p",{className:"text-gray-600",children:n.category})]}),n.brand&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:"Brand"}),c.jsx("p",{className:"text-gray-600",children:n.brand})]}),n.size&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:"Size"}),c.jsx("p",{className:"text-gray-600",children:n.size})]}),n.color&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:"Color"}),c.jsx("p",{className:"text-gray-600",children:n.color})]}),n.condition&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:"Condition"}),c.jsx("p",{className:"text-gray-600",children:n.condition})]}),n.gender&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-800",children:"Gender"}),c.jsx("p",{className:"text-gray-600",children:n.gender})]})]})]})]}),f?c.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Admin Actions"}),c.jsxs("div",{className:"flex gap-3",children:[n.status!=="live"&&c.jsxs("button",{onClick:()=>_("live"),className:"flex-1 py-3 px-4 rounded-lg font-semibold bg-green-500 text-white hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Make Live"]}),n.status!=="approved"&&c.jsxs("button",{onClick:()=>_("approved"),className:"flex-1 py-3 px-4 rounded-lg font-semibold bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4"})}),"Approve"]}),n.status!=="archived"&&c.jsxs("button",{onClick:()=>_("archived"),className:"flex-1 py-3 px-4 rounded-lg font-semibold bg-gray-500 text-white hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 7h14l-1 10H6L5 7zm0 0V5a2 2 0 012-2h10a2 2 0 012 2v2"})}),"Archive"]})]}),c.jsx("div",{className:"mt-3 text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Admin actions will immediately update the item status"})})]})}):x?c.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:v,className:`flex-shrink-0 p-3 rounded-lg border-2 transition-all duration-200 ${s(n.id)?"border-red-500 bg-red-50 text-red-600":"border-gray-300 text-gray-600 hover:border-red-300 hover:text-red-500"}`,title:s(n.id)?"Remove from bookmarks":"Add to bookmarks",children:c.jsx("svg",{className:"w-6 h-6",fill:s(n.id)?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),c.jsxs("button",{onClick:m,className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${i(n.id)?"bg-green-500 text-white hover:bg-green-600":"bg-orange-500 text-white hover:bg-orange-600"} flex items-center justify-center gap-2`,children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),i(n.id)?c.jsxs("span",{children:["In Cart (",a(n.id),")"]}):c.jsxs("span",{children:["Add to Cart - $",n.price]})]})]}),c.jsx("div",{className:"mt-3 text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"✓ Secure checkout with Stripe • ✓ Quality guaranteed • ✓ Local pickup available"})})]}):null,!x&&c.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-gray-600 font-medium",children:[n.status==="pending"&&"This item is currently under review",n.status==="approved"&&"This item is approved and will be available soon",n.status==="sold"&&"This item has been sold",n.status==="archived"&&"This item is no longer available"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check back later or browse our other available items"})]})})]})})},dae=({isOpen:t,onClose:e,onCheckout:n})=>{const{cartItems:r,removeFromCart:i,updateQuantity:a,clearCart:o,getCartTotal:s,getCartItemCount:l}=lp();if(!t)return null;const u=()=>{n(),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"}),c.jsxs("p",{className:"text-gray-600 mt-1",children:[l()," ",l()===1?"item":"items"," in your cart"]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 7.2M7 13l-1.8 7.2M7 13h10m0 0v8a2 2 0 01-2 2H9a2 2 0 01-2-2v-8m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Your cart is empty"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Add some gear to get started!"}),c.jsx("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Continue Shopping"})]}):c.jsx("div",{className:"space-y-4",children:r.map(f=>c.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:f.item.images&&f.item.images.length>0?c.jsx("img",{src:f.item.images[0],alt:f.item.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:c.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:f.item.title}),c.jsx("p",{className:"text-sm text-gray-600 truncate",children:f.item.description}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.item.category&&c.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:f.item.category}),f.item.size&&c.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs",children:["Size ",f.item.size]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:["Qty: ",f.quantity]}),c.jsx("span",{className:"text-xs text-gray-500",children:"(Consignment item)"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-semibold text-gray-900",children:["$",(f.item.price*f.quantity).toFixed(2)]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["$",f.item.price," each"]})]}),c.jsx("button",{onClick:()=>i(f.item.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Remove from cart",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},f.item.id))})}),r.length>0&&c.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: $",s().toFixed(2)]}),c.jsx("button",{onClick:o,className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"Clear Cart"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:e,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Continue Shopping"}),c.jsxs("button",{onClick:u,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Checkout - $",s().toFixed(2)]})]}),c.jsx("div",{className:"mt-3 text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"✓ Secure payment with Stripe • ✓ Local pickup available • ✓ 30-day return policy"})})]})]})})},hae=({isOpen:t,onClose:e,items:n,onItemClick:r})=>{const{bookmarkedItems:i,toggleBookmark:a,addToCart:o}=lp(),s=n.filter(l=>i.includes(l.id));return t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Bookmarked Items"}),c.jsxs("p",{className:"text-gray-600 mt-1",children:[s.length," item",s.length!==1?"s":""," saved"]})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:s.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarked items"}),c.jsx("p",{className:"text-gray-500",children:"Items you bookmark will appear here for easy access."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"relative",children:[l.images&&l.images.length>0?c.jsx("img",{src:l.images[0],alt:l.title,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer",onClick:()=>r(l)}):c.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-t-lg flex items-center justify-center cursor-pointer",onClick:()=>r(l),children:c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2v12a2 2 0 002 2z"})})}),c.jsx("button",{onClick:()=>{a(l.id),console.log("Removed bookmark from bookmarks modal:",l.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`Removed ${l.title} from bookmarks`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"absolute top-2 right-2 p-2 bg-white bg-opacity-90 rounded-full hover:bg-opacity-100 transition-colors",children:c.jsx("svg",{className:"w-5 h-5 text-red-500 fill-current",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 cursor-pointer hover:text-orange-600 transition-colors",onClick:()=>r(l),children:l.title}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 mb-3",children:["$",l.price]}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${l.status==="live"?"bg-green-100 text-green-800":l.status==="approved"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:l.status==="live"?"Available":l.status==="approved"?"Approved":l.status}),c.jsx("span",{className:"text-sm text-gray-500",children:l.category})]}),l.status==="live"&&c.jsx("button",{onClick:()=>{o(l),console.log("Added to cart from bookmarks:",l.title);const u=document.createElement("div");u.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",u.textContent=`${l.title} added to cart!`,document.body.appendChild(u),setTimeout(()=>{document.body.removeChild(u)},2e3)},className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Add to Cart"})]})]},l.id))})})]})}):null};var NL="basil",pae=function(e){return e===3?"v3":e},CL="https://js.stripe.com",mae="".concat(CL,"/").concat(NL,"/stripe.js"),gae=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vae=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var yae=function(e){return gae.test(e)||vae.test(e)},bae=function(){for(var e=document.querySelectorAll('script[src^="'.concat(CL,'"]')),n=0;n<e.length;n++){var r=e[n];if(yae(r.src))return r}return null},xC=function(e){var n="",r=document.createElement("script");r.src="".concat(mae).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},xae=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Cf=null,mm=null,gm=null,_ae=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},wae=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Aae=function(e){return Cf!==null?Cf:(Cf=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=bae();if(!(i&&e)){if(!i)i=xC(e);else if(i&&gm!==null&&mm!==null){var a;i.removeEventListener("load",gm),i.removeEventListener("error",mm),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=xC(e)}}gm=wae(n,r),mm=_ae(r),i.addEventListener("load",gm),i.addEventListener("error",mm)}catch(o){r(o);return}}),Cf.catch(function(n){return Cf=null,Promise.reject(n)}))},Eae=function(e,n,r){if(e===null)return null;var i=n[0],a=i.match(/^pk_test/),o=pae(e.version),s=NL;a&&o!==s&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return xae(l,r),l},If,IL=!1,PL=function(){return If||(If=Aae(null).catch(function(e){return If=null,Promise.reject(e)}),If)};Promise.resolve().then(function(){return PL()}).catch(function(t){IL||console.warn(t)});var Sae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];IL=!0;var i=Date.now();return PL().then(function(a){return Eae(a,n,i)})},kL={exports:{}},Tae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Oae=Tae,jae=Oae;function RL(){}function ML(){}ML.resetWarningCache=RL;var Nae=function(){function t(r,i,a,o,s,l){if(l!==jae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ML,resetWarningCache:RL};return n.PropTypes=n,n};kL.exports=Nae();var Cae=kL.exports;const ve=Qe(Cae);function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){DL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ng(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ng=function(e){return typeof e}:ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function DL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Pae(t,e){if(t==null)return{};var n=Iae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $L(t,e){return kae(t)||Rae(t,e)||Mae(t,e)||Dae()}function kae(t){if(Array.isArray(t))return t}function Rae(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Mae(t,e){if(t){if(typeof t=="string")return AC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AC(t,e)}}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vr=function(e,n,r){var i=!!r,a=$.useRef(r);$.useEffect(function(){a.current=r},[r]),$.useEffect(function(){if(!i||!e)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,a])},A_=function(e){var n=$.useRef(e);return $.useEffect(function(){n.current=e},[e]),n.current},Yc=function(e){return e!==null&&ng(e)==="object"},$ae=function(e){return Yc(e)&&typeof e.then=="function"},Lae=function(e){return Yc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},EC="[object Object]",Bae=function t(e,n){if(!Yc(e)||!Yc(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===EC,o=Object.prototype.toString.call(n)===EC;if(a!==o)return!1;if(!a&&!r)return e===n;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(var u={},f=0;f<s.length;f+=1)u[s[f]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var h=Object.keys(u);if(h.length!==s.length)return!1;var m=e,v=n,x=function(y){return t(m[y],v[y])};return h.every(x)},LL=function(e,n,r){return Yc(e)?Object.keys(e).reduce(function(i,a){var o=!Yc(n)||!Bae(e[a],n[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?wC(wC({},i||{}),{},DL({},a,e[a])):i},null):null},BL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",SC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BL;if(e===null||Lae(e))return e;throw new Error(n)},Uae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BL;if($ae(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return SC(i,n)})};var r=SC(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Vae=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},c0=$.createContext(null);c0.displayName="ElementsContext";var UL=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},VL=function(e){var n=e.stripe,r=e.options,i=e.children,a=$.useMemo(function(){return Uae(n)},[n]),o=$.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),s=$L(o,2),l=s[0],u=s[1];$.useEffect(function(){var h=!0,m=function(x){u(function(_){return _.stripe?_:{stripe:x,elements:x.elements(r)}})};return a.tag==="async"&&!l.stripe?a.stripePromise.then(function(v){v&&h&&m(v)}):a.tag==="sync"&&!l.stripe&&m(a.stripe),function(){h=!1}},[a,l,r]);var f=A_(n);$.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var d=A_(r);return $.useEffect(function(){if(l.elements){var h=LL(r,d,["clientSecret","fonts"]);h&&l.elements.update(h)}},[r,d,l.elements]),$.useEffect(function(){Vae(l.stripe)},[l.stripe]),$.createElement(c0.Provider,{value:l},i)};VL.propTypes={stripe:ve.any,options:ve.object};var zae=function(e){var n=$.useContext(c0);return UL(n,e)},Fae=function(){var e=zae("calls useElements()"),n=e.elements;return n};ve.func.isRequired;var zL=$.createContext(null);zL.displayName="CheckoutSdkContext";var Hae=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},qae=$.createContext(null);qae.displayName="CheckoutContext";ve.any,ve.shape({fetchClientSecret:ve.func.isRequired,elementsOptions:ve.object}).isRequired;var E_=function(e){var n=$.useContext(zL),r=$.useContext(c0);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Hae(n,e):UL(r,e)},Gae=["mode"],Wae=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Xt=function(e,n){var r="".concat(Wae(e),"Element"),i=function(l){var u=l.id,f=l.className,d=l.options,h=d===void 0?{}:d,m=l.onBlur,v=l.onFocus,x=l.onReady,_=l.onChange,y=l.onEscape,g=l.onClick,b=l.onLoadError,O=l.onLoaderStart,E=l.onNetworksChange,N=l.onConfirm,S=l.onCancel,w=l.onShippingAddressChange,j=l.onShippingRateChange,I=E_("mounts <".concat(r,">")),T="elements"in I?I.elements:null,P="checkoutSdk"in I?I.checkoutSdk:null,k=$.useState(null),z=$L(k,2),U=z[0],D=z[1],B=$.useRef(null),V=$.useRef(null);vr(U,"blur",m),vr(U,"focus",v),vr(U,"escape",y),vr(U,"click",g),vr(U,"loaderror",b),vr(U,"loaderstart",O),vr(U,"networkschange",E),vr(U,"confirm",N),vr(U,"cancel",S),vr(U,"shippingaddresschange",w),vr(U,"shippingratechange",j),vr(U,"change",_);var H;x&&(e==="expressCheckout"?H=x:H=function(){x(U)}),vr(U,"ready",H),$.useLayoutEffect(function(){if(B.current===null&&V.current!==null&&(T||P)){var ne=null;if(P)switch(e){case"payment":ne=P.createPaymentElement(h);break;case"address":if("mode"in h){var q=h.mode,L=Pae(h,Gae);if(q==="shipping")ne=P.createShippingAddressElement(L);else if(q==="billing")ne=P.createBillingAddressElement(L);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ne=P.createExpressCheckoutElement(h);break;case"currencySelector":ne=P.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else T&&(ne=T.create(e,h));B.current=ne,D(ne),ne&&ne.mount(V.current)}},[T,P,h]);var te=A_(h);return $.useEffect(function(){if(B.current){var ne=LL(h,te,["paymentRequest"]);ne&&"update"in B.current&&B.current.update(ne)}},[h,te]),$.useLayoutEffect(function(){return function(){if(B.current&&typeof B.current.destroy=="function")try{B.current.destroy(),B.current=null}catch{}}},[]),$.createElement("div",{id:u,className:f,ref:V})},a=function(l){E_("mounts <".concat(r,">"));var u=l.id,f=l.className;return $.createElement("div",{id:u,className:f})},o=n?a:i;return o.propTypes={id:ve.string,className:ve.string,onChange:ve.func,onBlur:ve.func,onFocus:ve.func,onReady:ve.func,onEscape:ve.func,onClick:ve.func,onLoadError:ve.func,onLoaderStart:ve.func,onNetworksChange:ve.func,onConfirm:ve.func,onCancel:ve.func,onShippingAddressChange:ve.func,onShippingRateChange:ve.func,options:ve.object},o.displayName=r,o.__elementType=e,o},Yt=typeof window>"u",Kae=$.createContext(null);Kae.displayName="EmbeddedCheckoutProviderContext";var Xae=function(){var e=E_("calls useStripe()"),n=e.stripe;return n};Xt("auBankAccount",Yt);var Yae=Xt("card",Yt);Xt("cardNumber",Yt);Xt("cardExpiry",Yt);Xt("cardCvc",Yt);Xt("fpxBank",Yt);Xt("iban",Yt);Xt("idealBank",Yt);Xt("p24Bank",Yt);Xt("epsBank",Yt);Xt("payment",Yt);Xt("expressCheckout",Yt);Xt("currencySelector",Yt);Xt("paymentRequestButton",Yt);Xt("linkAuthentication",Yt);Xt("address",Yt);Xt("shippingAddress",Yt);Xt("paymentMethodMessaging",Yt);Xt("affirmMessage",Yt);Xt("afterpayClearpayMessage",Yt);const Qae=Sae("pk_test_51Rbnai4cE043YuFEryAiYmPIDw6WPTfMk0JFoJyi3eSpEZZBDpTY0tIusq95YjDXqttmcrbAePTHNot0kf3J85Q100Gz9jtjn3"),Zae=({onClose:t,onSuccess:e})=>{const n=Xae(),r=Fae(),{cartItems:i,getCartTotal:a,clearCart:o}=lp(),{user:s}=dS(),[l,u]=R.useState(!1),[f,d]=R.useState(null),[h,m]=R.useState({name:(s==null?void 0:s.displayName)||"",email:(s==null?void 0:s.email)||"",phone:s&&"phoneNumber"in s?s.phoneNumber:"",address:"",city:"",zipCode:""}),v=async _=>{console.log("Processing purchase completion for items:",i.length);for(const y of i)try{const g=y.item;console.log(`Processing sold item: ${g.title} (${g.id})`);const b=vi(At,"items",g.id);if(await La(b,{status:"sold",soldAt:new Date,soldPrice:g.price,buyerId:(s==null?void 0:s.uid)||"anonymous",buyerInfo:{name:h.name,email:h.email,phone:h.phone,address:h.address,city:h.city,zipCode:h.zipCode},saleTransactionId:_.paymentInfo.transactionId}),await v_(ar(At,"sales"),{itemId:g.id,itemTitle:g.title,itemCategory:g.category,itemBrand:g.brand||"N/A",itemSize:g.size||"N/A",sellerId:g.sellerId,sellerName:g.sellerName,buyerId:(s==null?void 0:s.uid)||"anonymous",buyerName:h.name,salePrice:g.price,sellerEarnings:g.price*.75,storeCommission:g.price*.25,soldAt:new Date,transactionId:_.paymentInfo.transactionId,orderNumber:_.orderNumber,paymentMethod:_.paymentInfo.method,shippingAddress:{name:h.name,address:h.address,city:h.city,zipCode:h.zipCode,phone:h.phone,email:h.email}}),g.sellerId&&!g.sellerId.startsWith("phone_"))try{await v_(ar(At,"store_credits"),{userId:g.sellerId,amount:g.price*.75,source:"item_sale",itemId:g.id,itemTitle:g.title,salePrice:g.price,transactionId:_.paymentInfo.transactionId,createdAt:new Date,description:`Sale of "${g.title}"`}),console.log(`Added store credit for seller ${g.sellerId}: $${(g.price*.75).toFixed(2)}`)}catch(O){console.error("Error updating seller store credit:",O)}console.log(`Successfully processed sale for item: ${g.title}`)}catch(g){console.error(`Error processing item ${y.item.title}:`,g)}},x=async _=>{if(_.preventDefault(),!(!n||!r)){u(!0),d(null);try{if(await new Promise(y=>setTimeout(y,2e3)),s){const y={id:Date.now().toString()+Math.random().toString(36).substr(2,9),orderNumber:`ORD-${Date.now().toString().slice(-6)}`,total:a(),purchaseDate:new Date().toISOString(),items:i.map(g=>({id:g.item.id,title:g.item.title,price:g.item.price,quantity:g.quantity,category:g.item.category,brand:g.item.brand||"N/A",size:g.item.size||"N/A",images:g.item.images||[],sellerId:g.item.sellerId,sellerName:g.item.sellerName})),customerInfo:{name:h.name,email:h.email,phone:h.phone,address:h.address,city:h.city,zipCode:h.zipCode},paymentInfo:{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${Date.now().toString()+Math.random().toString(36).substr(2,9)}`},status:"completed",orderStatus:"processing",estimatedDelivery:new Date(Date.now()+6048e5).toISOString(),trackingNumber:`TRK${Date.now().toString().slice(-8)}`,fulfillmentMethod:"shipping",shippingLabelGenerated:!1};try{const g=localStorage.getItem(`purchase_history_${s.uid}`),b=g?JSON.parse(g):[];b.unshift(y),localStorage.setItem(`purchase_history_${s.uid}`,JSON.stringify(b)),await v(y),window.dispatchEvent(new StorageEvent("storage",{key:`purchase_history_${s.uid}`,newValue:JSON.stringify(b),storageArea:localStorage})),console.log("Purchase completed successfully:",y)}catch(g){throw console.error("Error saving purchase history:",g),g}}console.log("Clearing cart after successful checkout..."),o(),e()}catch(y){console.error("Payment error:",y),d("Payment processing failed. Please try again.")}finally{u(!1)}}};return c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),c.jsxs("div",{className:"space-y-2",children:[i.map(_=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:[_.item.title," × ",_.quantity]}),c.jsxs("span",{children:["$",(_.item.price*_.quantity).toFixed(2)]})]},_.item.id)),c.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["$",a().toFixed(2)]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{type:"text",value:h.name,onChange:_=>m(y=>({...y,name:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:h.email,onChange:_=>m(y=>({...y,email:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:h.phone,onChange:_=>m(y=>({...y,phone:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("input",{type:"text",value:h.address,onChange:_=>m(y=>({...y,address:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),c.jsx("input",{type:"text",value:h.city,onChange:_=>m(y=>({...y,city:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),c.jsx("input",{type:"text",value:h.zipCode,onChange:_=>m(y=>({...y,zipCode:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Information"}),c.jsx("div",{className:"border border-gray-300 rounded-md p-3 bg-white",children:c.jsx(Yae,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#9CA3AF"}}}}})}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"🔒 Demo Mode: Payment will be simulated (no actual charge)"})]}),f&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:c.jsx("p",{className:"text-red-600 text-sm",children:f})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!n||l,className:"flex-1 py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Complete Order - $",a().toFixed(2)]})})]})]})},Jae=({isOpen:t,onClose:e,onSuccess:n})=>t?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Checkout"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Complete your purchase securely"})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsx(VL,{stripe:Qae,children:c.jsx(Zae,{onClose:e,onSuccess:n})})})]})}):null;function FL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FL(t))&&(r&&(r+=" "),r+=e);return r}var eoe=Array.isArray,fr=eoe,toe=typeof Bp=="object"&&Bp&&Bp.Object===Object&&Bp,HL=toe,noe=HL,roe=typeof self=="object"&&self&&self.Object===Object&&self,ioe=noe||roe||Function("return this")(),Ji=ioe,aoe=Ji,ooe=aoe.Symbol,pp=ooe,TC=pp,qL=Object.prototype,soe=qL.hasOwnProperty,loe=qL.toString,Pf=TC?TC.toStringTag:void 0;function coe(t){var e=soe.call(t,Pf),n=t[Pf];try{t[Pf]=void 0;var r=!0}catch{}var i=loe.call(t);return r&&(e?t[Pf]=n:delete t[Pf]),i}var uoe=coe,foe=Object.prototype,doe=foe.toString;function hoe(t){return doe.call(t)}var poe=hoe,OC=pp,moe=uoe,goe=poe,voe="[object Null]",yoe="[object Undefined]",jC=OC?OC.toStringTag:void 0;function boe(t){return t==null?t===void 0?yoe:voe:jC&&jC in Object(t)?moe(t):goe(t)}var Ha=boe;function xoe(t){return t!=null&&typeof t=="object"}var qa=xoe,_oe=Ha,woe=qa,Aoe="[object Symbol]";function Eoe(t){return typeof t=="symbol"||woe(t)&&_oe(t)==Aoe}var Hu=Eoe,Soe=fr,Toe=Hu,Ooe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,joe=/^\w*$/;function Noe(t,e){if(Soe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Toe(t)?!0:joe.test(t)||!Ooe.test(t)||e!=null&&t in Object(e)}var GS=Noe;function Coe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ts=Coe;const qu=Qe(ts);var Ioe=Ha,Poe=ts,koe="[object AsyncFunction]",Roe="[object Function]",Moe="[object GeneratorFunction]",Doe="[object Proxy]";function $oe(t){if(!Poe(t))return!1;var e=Ioe(t);return e==Roe||e==Moe||e==koe||e==Doe}var WS=$oe;const be=Qe(WS);var Loe=Ji,Boe=Loe["__core-js_shared__"],Uoe=Boe,xx=Uoe,NC=function(){var t=/[^.]+$/.exec(xx&&xx.keys&&xx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Voe(t){return!!NC&&NC in t}var zoe=Voe,Foe=Function.prototype,Hoe=Foe.toString;function qoe(t){if(t!=null){try{return Hoe.call(t)}catch{}try{return t+""}catch{}}return""}var GL=qoe,Goe=WS,Woe=zoe,Koe=ts,Xoe=GL,Yoe=/[\\^$.*+?()[\]{}|]/g,Qoe=/^\[object .+?Constructor\]$/,Zoe=Function.prototype,Joe=Object.prototype,ese=Zoe.toString,tse=Joe.hasOwnProperty,nse=RegExp("^"+ese.call(tse).replace(Yoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rse(t){if(!Koe(t)||Woe(t))return!1;var e=Goe(t)?nse:Qoe;return e.test(Xoe(t))}var ise=rse;function ase(t,e){return t==null?void 0:t[e]}var ose=ase,sse=ise,lse=ose;function cse(t,e){var n=lse(t,e);return sse(n)?n:void 0}var wl=cse,use=wl,fse=use(Object,"create"),u0=fse,CC=u0;function dse(){this.__data__=CC?CC(null):{},this.size=0}var hse=dse;function pse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mse=pse,gse=u0,vse="__lodash_hash_undefined__",yse=Object.prototype,bse=yse.hasOwnProperty;function xse(t){var e=this.__data__;if(gse){var n=e[t];return n===vse?void 0:n}return bse.call(e,t)?e[t]:void 0}var _se=xse,wse=u0,Ase=Object.prototype,Ese=Ase.hasOwnProperty;function Sse(t){var e=this.__data__;return wse?e[t]!==void 0:Ese.call(e,t)}var Tse=Sse,Ose=u0,jse="__lodash_hash_undefined__";function Nse(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ose&&e===void 0?jse:e,this}var Cse=Nse,Ise=hse,Pse=mse,kse=_se,Rse=Tse,Mse=Cse;function Gu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gu.prototype.clear=Ise;Gu.prototype.delete=Pse;Gu.prototype.get=kse;Gu.prototype.has=Rse;Gu.prototype.set=Mse;var Dse=Gu;function $se(){this.__data__=[],this.size=0}var Lse=$se;function Bse(t,e){return t===e||t!==t&&e!==e}var KS=Bse,Use=KS;function Vse(t,e){for(var n=t.length;n--;)if(Use(t[n][0],e))return n;return-1}var f0=Vse,zse=f0,Fse=Array.prototype,Hse=Fse.splice;function qse(t){var e=this.__data__,n=zse(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Hse.call(e,n,1),--this.size,!0}var Gse=qse,Wse=f0;function Kse(t){var e=this.__data__,n=Wse(e,t);return n<0?void 0:e[n][1]}var Xse=Kse,Yse=f0;function Qse(t){return Yse(this.__data__,t)>-1}var Zse=Qse,Jse=f0;function ele(t,e){var n=this.__data__,r=Jse(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var tle=ele,nle=Lse,rle=Gse,ile=Xse,ale=Zse,ole=tle;function Wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wu.prototype.clear=nle;Wu.prototype.delete=rle;Wu.prototype.get=ile;Wu.prototype.has=ale;Wu.prototype.set=ole;var d0=Wu,sle=wl,lle=Ji,cle=sle(lle,"Map"),XS=cle,IC=Dse,ule=d0,fle=XS;function dle(){this.size=0,this.__data__={hash:new IC,map:new(fle||ule),string:new IC}}var hle=dle;function ple(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mle=ple,gle=mle;function vle(t,e){var n=t.__data__;return gle(e)?n[typeof e=="string"?"string":"hash"]:n.map}var h0=vle,yle=h0;function ble(t){var e=yle(this,t).delete(t);return this.size-=e?1:0,e}var xle=ble,_le=h0;function wle(t){return _le(this,t).get(t)}var Ale=wle,Ele=h0;function Sle(t){return Ele(this,t).has(t)}var Tle=Sle,Ole=h0;function jle(t,e){var n=Ole(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Nle=jle,Cle=hle,Ile=xle,Ple=Ale,kle=Tle,Rle=Nle;function Ku(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ku.prototype.clear=Cle;Ku.prototype.delete=Ile;Ku.prototype.get=Ple;Ku.prototype.has=kle;Ku.prototype.set=Rle;var YS=Ku,WL=YS,Mle="Expected a function";function QS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Mle);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(QS.Cache||WL),n}QS.Cache=WL;var KL=QS;const Dle=Qe(KL);var $le=KL,Lle=500;function Ble(t){var e=$le(t,function(r){return n.size===Lle&&n.clear(),r}),n=e.cache;return e}var Ule=Ble,Vle=Ule,zle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fle=/\\(\\)?/g,Hle=Vle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zle,function(n,r,i,a){e.push(i?a.replace(Fle,"$1"):r||n)}),e}),qle=Hle;function Gle(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ZS=Gle,PC=pp,Wle=ZS,Kle=fr,Xle=Hu,kC=PC?PC.prototype:void 0,RC=kC?kC.toString:void 0;function XL(t){if(typeof t=="string")return t;if(Kle(t))return Wle(t,XL)+"";if(Xle(t))return RC?RC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Yle=XL,Qle=Yle;function Zle(t){return t==null?"":Qle(t)}var YL=Zle,Jle=fr,ece=GS,tce=qle,nce=YL;function rce(t,e){return Jle(t)?t:ece(t,e)?[t]:tce(nce(t))}var QL=rce,ice=Hu;function ace(t){if(typeof t=="string"||ice(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var p0=ace,oce=QL,sce=p0;function lce(t,e){e=oce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sce(e[n++])];return n&&n==r?t:void 0}var JS=lce,cce=JS;function uce(t,e,n){var r=t==null?void 0:cce(t,e);return r===void 0?n:r}var ZL=uce;const Pr=Qe(ZL);function fce(t){return t==null}var dce=fce;const je=Qe(dce);var hce=Ha,pce=fr,mce=qa,gce="[object String]";function vce(t){return typeof t=="string"||!pce(t)&&mce(t)&&hce(t)==gce}var yce=vce;const nl=Qe(yce);var JL={exports:{}},et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT=Symbol.for("react.element"),tT=Symbol.for("react.portal"),m0=Symbol.for("react.fragment"),g0=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),y0=Symbol.for("react.provider"),b0=Symbol.for("react.context"),bce=Symbol.for("react.server_context"),x0=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),A0=Symbol.for("react.memo"),E0=Symbol.for("react.lazy"),xce=Symbol.for("react.offscreen"),e5;e5=Symbol.for("react.module.reference");function ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eT:switch(t=t.type,t){case m0:case v0:case g0:case _0:case w0:return t;default:switch(t=t&&t.$$typeof,t){case bce:case b0:case x0:case E0:case A0:case y0:return t;default:return e}}case tT:return e}}}et.ContextConsumer=b0;et.ContextProvider=y0;et.Element=eT;et.ForwardRef=x0;et.Fragment=m0;et.Lazy=E0;et.Memo=A0;et.Portal=tT;et.Profiler=v0;et.StrictMode=g0;et.Suspense=_0;et.SuspenseList=w0;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(t){return ti(t)===b0};et.isContextProvider=function(t){return ti(t)===y0};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eT};et.isForwardRef=function(t){return ti(t)===x0};et.isFragment=function(t){return ti(t)===m0};et.isLazy=function(t){return ti(t)===E0};et.isMemo=function(t){return ti(t)===A0};et.isPortal=function(t){return ti(t)===tT};et.isProfiler=function(t){return ti(t)===v0};et.isStrictMode=function(t){return ti(t)===g0};et.isSuspense=function(t){return ti(t)===_0};et.isSuspenseList=function(t){return ti(t)===w0};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===m0||t===v0||t===g0||t===_0||t===w0||t===xce||typeof t=="object"&&t!==null&&(t.$$typeof===E0||t.$$typeof===A0||t.$$typeof===y0||t.$$typeof===b0||t.$$typeof===x0||t.$$typeof===e5||t.getModuleId!==void 0)};et.typeOf=ti;JL.exports=et;var _ce=JL.exports,wce=Ha,Ace=qa,Ece="[object Number]";function Sce(t){return typeof t=="number"||Ace(t)&&wce(t)==Ece}var t5=Sce;const Tce=Qe(t5);var Oce=t5;function jce(t){return Oce(t)&&t!=+t}var Nce=jce;const Xu=Qe(Nce);var Gn=function(e){return e===0?0:e>0?1:-1},js=function(e){return nl(e)&&e.indexOf("%")===e.length-1},ie=function(e){return Tce(e)&&!Xu(e)},nn=function(e){return ie(e)||nl(e)},Cce=0,Al=function(e){var n=++Cce;return"".concat(e||"").concat(n)},Wn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!nl(e))return r;var a;if(js(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Xu(a)&&(a=r),i&&a>n&&(a=n),a},po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ice=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},en=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function tv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Pr(r,e))===n})}var Pce=function(e,n){return ie(e)&&ie(n)?e-n:nl(e)&&nl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Sc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function S_(t){"@babel/helpers - typeof";return S_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_(t)}var kce=["viewBox","children"],Rce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MC=["points","pathLength"],_x={svg:kce,polygon:MC,polyline:MC},nT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!qu(r))return null;var i={};return Object.keys(r).forEach(function(a){nT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Mce=function(e,n,r){return function(i){return e(n,r,i),null}},rl=function(e,n,r){if(!qu(e)||S_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];nT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Mce(o,n,r))}),i},Dce=["children"],$ce=["children"];function DC(t,e){if(t==null)return{};var n=Lce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T_(t){"@babel/helpers - typeof";return T_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T_(t)}var $C={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Oa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LC=null,wx=null,rT=function t(e){if(e===LC&&Array.isArray(wx))return wx;var n=[];return R.Children.forEach(e,function(r){je(r)||(_ce.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),wx=n,LC=e,n};function kr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Oa(i)}):r=[Oa(e)],rT(t).forEach(function(i){var a=Pr(i,"type.displayName")||Pr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function _r(t,e){var n=kr(t,e);return n&&n[0]}var BC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},Bce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uce=function(e){return e&&e.type&&nl(e.type)&&Bce.indexOf(e.type)>=0},n5=function(e){return e&&T_(e)==="object"&&"clipDot"in e},Vce=function(e,n,r,i){var a,o=(a=_x==null?void 0:_x[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!be(e)&&(i&&o.includes(n)||Rce.includes(n))||r&&nT.includes(n)},de=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!qu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Vce((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},O_=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return UC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!UC(a,o))return!1}return!0},UC=function(e,n){if(je(e)&&je(n))return!0;if(!je(e)&&!je(n)){var r=e.props||{},i=r.children,a=DC(r,Dce),o=n.props||{},s=o.children,l=DC(o,$ce);return i&&s?Sc(a,l)&&O_(i,s):!i&&!s?Sc(a,l):!1}return!1},VC=function(e,n){var r=[],i={};return rT(e).forEach(function(a,o){if(Uce(a))r.push(a);else if(a){var s=Oa(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},zce=function(e){var n=e&&e.type;return n&&$C[n]?$C[n]:null},Fce=function(e,n){return rT(n).indexOf(e)},Hce=["children","width","height","viewBox","className","style","title","desc"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function qce(t,e){if(t==null)return{};var n=Gce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=qce(t,Hce),f=i||{width:n,height:r,x:0,y:0},d=Ce("recharts-surface",a);return $.createElement("svg",j_({},de(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),$.createElement("title",null,s),$.createElement("desc",null,l),e)}var Wce=["children","className"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function Kce(t,e){if(t==null)return{};var n=Xce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Be=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=Kce(t,Wce),a=Ce("recharts-layer",r);return $.createElement("g",C_({className:a},de(i,!0),{ref:e}),n)}),pi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Yce(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Qce=Yce,Zce=Qce;function Jce(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Zce(t,e,n)}var eue=Jce,tue="\\ud800-\\udfff",nue="\\u0300-\\u036f",rue="\\ufe20-\\ufe2f",iue="\\u20d0-\\u20ff",aue=nue+rue+iue,oue="\\ufe0e\\ufe0f",sue="\\u200d",lue=RegExp("["+sue+tue+aue+oue+"]");function cue(t){return lue.test(t)}var r5=cue;function uue(t){return t.split("")}var fue=uue,i5="\\ud800-\\udfff",due="\\u0300-\\u036f",hue="\\ufe20-\\ufe2f",pue="\\u20d0-\\u20ff",mue=due+hue+pue,gue="\\ufe0e\\ufe0f",vue="["+i5+"]",I_="["+mue+"]",P_="\\ud83c[\\udffb-\\udfff]",yue="(?:"+I_+"|"+P_+")",a5="[^"+i5+"]",o5="(?:\\ud83c[\\udde6-\\uddff]){2}",s5="[\\ud800-\\udbff][\\udc00-\\udfff]",bue="\\u200d",l5=yue+"?",c5="["+gue+"]?",xue="(?:"+bue+"(?:"+[a5,o5,s5].join("|")+")"+c5+l5+")*",_ue=c5+l5+xue,wue="(?:"+[a5+I_+"?",I_,o5,s5,vue].join("|")+")",Aue=RegExp(P_+"(?="+P_+")|"+wue+_ue,"g");function Eue(t){return t.match(Aue)||[]}var Sue=Eue,Tue=fue,Oue=r5,jue=Sue;function Nue(t){return Oue(t)?jue(t):Tue(t)}var Cue=Nue,Iue=eue,Pue=r5,kue=Cue,Rue=YL;function Mue(t){return function(e){e=Rue(e);var n=Pue(e)?kue(e):void 0,r=n?n[0]:e.charAt(0),i=n?Iue(n,1).join(""):e.slice(1);return r[t]()+i}}var Due=Mue,$ue=Due,Lue=$ue("toUpperCase"),Bue=Lue;const S0=Qe(Bue);function ft(t){return function(){return t}}const u5=Math.cos,rv=Math.sin,_i=Math.sqrt,iv=Math.PI,T0=2*iv,k_=Math.PI,R_=2*k_,_s=1e-6,Uue=R_-_s;function f5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Vue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f5;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f5:Vue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,f=o-e,d=s-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_s)if(!(Math.abs(d*l-u*f)>_s)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,v=i-s,x=l*l+u*u,_=m*m+v*v,y=Math.sqrt(x),g=Math.sqrt(h),b=a*Math.tan((k_-Math.acos((x+h-_)/(2*y*g)))/2),O=b/g,E=b/y;Math.abs(O-1)>_s&&this._append`L${e+O*f},${n+O*d}`,this._append`A${a},${a},0,0,${+(d*m>f*v)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>_s||Math.abs(this._y1-f)>_s)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%R_+R_),h>Uue?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=f}`:h>_s&&this._append`A${r},${r},0,${+(h>=k_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function iT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zue(e)}function aT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function d5(t){this._context=t}d5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function O0(t){return new d5(t)}function h5(t){return t[0]}function p5(t){return t[1]}function m5(t,e){var n=ft(!0),r=null,i=O0,a=null,o=iT(s);t=typeof t=="function"?t:t===void 0?h5:ft(t),e=typeof e=="function"?e:e===void 0?p5:ft(e);function s(l){var u,f=(l=aT(l)).length,d,h=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=f;++u)!(u<f&&n(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ft(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ft(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ft(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function vm(t,e,n){var r=null,i=ft(!0),a=null,o=O0,s=null,l=iT(u);t=typeof t=="function"?t:t===void 0?h5:ft(+t),e=typeof e=="function"?e:ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?p5:ft(+n);function u(d){var h,m,v,x=(d=aT(d)).length,_,y=!1,g,b=new Array(x),O=new Array(x);for(a==null&&(s=o(g=l())),h=0;h<=x;++h){if(!(h<x&&i(_=d[h],h,d))===y)if(y=!y)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(b[v],O[v]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+t(_,h,d),O[h]=+e(_,h,d),s.point(r?+r(_,h,d):b[h],n?+n(_,h,d):O[h]))}if(g)return s=null,g+""||null}function f(){return m5().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ft(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ft(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ft(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ft(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ft(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ft(+d),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ft(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class g5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Fue(t){return new g5(t,!0)}function Hue(t){return new g5(t,!1)}const oT={draw(t,e){const n=_i(e/iv);t.moveTo(n,0),t.arc(0,0,n,0,T0)}},que={draw(t,e){const n=_i(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},v5=_i(1/3),Gue=v5*2,Wue={draw(t,e){const n=_i(e/Gue),r=n*v5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Kue={draw(t,e){const n=_i(e),r=-n/2;t.rect(r,r,n,n)}},Xue=.8908130915292852,y5=rv(iv/10)/rv(7*iv/10),Yue=rv(T0/10)*y5,Que=-u5(T0/10)*y5,Zue={draw(t,e){const n=_i(e*Xue),r=Yue*n,i=Que*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=T0*a/5,s=u5(o),l=rv(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Ax=_i(3),Jue={draw(t,e){const n=-_i(e/(Ax*3));t.moveTo(0,n*2),t.lineTo(-Ax*n,-n),t.lineTo(Ax*n,-n),t.closePath()}},Mr=-.5,Dr=_i(3)/2,M_=1/_i(12),efe=(M_/2+1)*3,tfe={draw(t,e){const n=_i(e/efe),r=n/2,i=n*M_,a=r,o=n*M_+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Mr*r-Dr*i,Dr*r+Mr*i),t.lineTo(Mr*a-Dr*o,Dr*a+Mr*o),t.lineTo(Mr*s-Dr*l,Dr*s+Mr*l),t.lineTo(Mr*r+Dr*i,Mr*i-Dr*r),t.lineTo(Mr*a+Dr*o,Mr*o-Dr*a),t.lineTo(Mr*s+Dr*l,Mr*l-Dr*s),t.closePath()}};function nfe(t,e){let n=null,r=iT(i);t=typeof t=="function"?t:ft(t||oT),e=typeof e=="function"?e:ft(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ft(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ft(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function av(){}function ov(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function b5(t){this._context=t}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rfe(t){return new b5(t)}function x5(t){this._context=t}x5.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ife(t){return new x5(t)}function _5(t){this._context=t}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function afe(t){return new _5(t)}function w5(t){this._context=t}w5.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ofe(t){return new w5(t)}function zC(t){return t<0?-1:1}function FC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(zC(a)+zC(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function HC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ex(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function sv(t){this._context=t}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ex(this,this._t0,HC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ex(this,HC(this,n=FC(this,t,e)),n);break;default:Ex(this,this._t0,n=FC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function A5(t){this._context=new E5(t)}(A5.prototype=Object.create(sv.prototype)).point=function(t,e){sv.prototype.point.call(this,e,t)};function E5(t){this._context=t}E5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function sfe(t){return new sv(t)}function lfe(t){return new A5(t)}function S5(t){this._context=t}S5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qC(t),i=qC(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qC(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function cfe(t){return new S5(t)}function j0(t,e){this._context=t,this._t=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ufe(t){return new j0(t,.5)}function ffe(t){return new j0(t,0)}function dfe(t){return new j0(t,1)}function Qc(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function D_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hfe(t,e){return t[e]}function pfe(t){const e=[];return e.key=t,e}function mfe(){var t=ft([]),e=D_,n=Qc,r=hfe;function i(a){var o=Array.from(t.apply(this,arguments),pfe),s,l=o.length,u=-1,f;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,f=aT(e(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ft(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ft(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?D_:typeof a=="function"?a:ft(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Qc,i):n},i}function gfe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Qc(t,e)}}function vfe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Qc(t,e)}}function yfe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],d=f[r][1]||0,h=f[r-1][1]||0,m=(d-h)/2,v=0;v<s;++v){var x=t[e[v]],_=x[r][1]||0,y=x[r-1][1]||0;m+=_-y}l+=d,u+=m*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Qc(t,e)}}function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}var bfe=["type","size","sizeType"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(n),!0).forEach(function(r){xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xfe(t,e,n){return e=_fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=wfe(t,"string");return Jd(e)=="symbol"?e:e+""}function wfe(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Afe(t,e){if(t==null)return{};var n=Efe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Efe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var T5={symbolCircle:oT,symbolCross:que,symbolDiamond:Wue,symbolSquare:Kue,symbolStar:Zue,symbolTriangle:Jue,symbolWye:tfe},Sfe=Math.PI/180,Tfe=function(e){var n="symbol".concat(S0(e));return T5[n]||oT},Ofe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Sfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jfe=function(e,n){T5["symbol".concat(S0(e))]=n},sT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Afe(e,bfe),u=WC(WC({},l),{},{type:r,size:a,sizeType:s}),f=function(){var _=Tfe(r),y=nfe().type(_).size(Ofe(a,s,r));return y()},d=u.className,h=u.cx,m=u.cy,v=de(u,!0);return h===+h&&m===+m&&a===+a?$.createElement("path",$_({},v,{className:Ce("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};sT.registerSymbol=jfe;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ife(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j5(r.key),r)}}function Pfe(t,e,n){return e&&Ife(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kfe(t,e,n){return e=lv(e),Rfe(t,O5()?Reflect.construct(e,n||[],lv(t).constructor):e.apply(t,n))}function Rfe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mfe(t)}function Mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lv(t)}function Dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function eh(t,e,n){return e=j5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5(t){var e=$fe(t,"string");return Zc(e)=="symbol"?e:e+""}function $fe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ii=32,lT=function(t){function e(){return Cfe(this,e),kfe(this,e,arguments)}return Dfe(e,t),Pfe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ii/2,o=ii/6,s=ii/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ii,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ii,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=Nfe({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(sT,{fill:l,cx:a,cy:a,size:ii,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ii,height:ii},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,v){var x=m.formatter||l,_=Ce(eh(eh({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=be(m.value)?null:m.value;pi(!be(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return $.createElement("li",L_({className:_,style:d,key:"legend-item-".concat(v)},rl(r.props,m,v)),$.createElement(N_,{width:o,height:o,viewBox:f,style:h},r.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x?x(y,m,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(R.PureComponent);eh(lT,"displayName","Legend");eh(lT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lfe=d0;function Bfe(){this.__data__=new Lfe,this.size=0}var Ufe=Bfe;function Vfe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var zfe=Vfe;function Ffe(t){return this.__data__.get(t)}var Hfe=Ffe;function qfe(t){return this.__data__.has(t)}var Gfe=qfe,Wfe=d0,Kfe=XS,Xfe=YS,Yfe=200;function Qfe(t,e){var n=this.__data__;if(n instanceof Wfe){var r=n.__data__;if(!Kfe||r.length<Yfe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xfe(r)}return n.set(t,e),this.size=n.size,this}var Zfe=Qfe,Jfe=d0,ede=Ufe,tde=zfe,nde=Hfe,rde=Gfe,ide=Zfe;function Yu(t){var e=this.__data__=new Jfe(t);this.size=e.size}Yu.prototype.clear=ede;Yu.prototype.delete=tde;Yu.prototype.get=nde;Yu.prototype.has=rde;Yu.prototype.set=ide;var N5=Yu,ade="__lodash_hash_undefined__";function ode(t){return this.__data__.set(t,ade),this}var sde=ode;function lde(t){return this.__data__.has(t)}var cde=lde,ude=YS,fde=sde,dde=cde;function cv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ude;++e<n;)this.add(t[e])}cv.prototype.add=cv.prototype.push=fde;cv.prototype.has=dde;var C5=cv;function hde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var I5=hde;function pde(t,e){return t.has(e)}var P5=pde,mde=C5,gde=I5,vde=P5,yde=1,bde=2;function xde(t,e,n,r,i,a){var o=n&yde,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),f=a.get(e);if(u&&f)return u==e&&f==t;var d=-1,h=!0,m=n&bde?new mde:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var v=t[d],x=e[d];if(r)var _=o?r(x,v,d,e,t,a):r(v,x,d,t,e,a);if(_!==void 0){if(_)continue;h=!1;break}if(m){if(!gde(e,function(y,g){if(!vde(m,g)&&(v===y||i(v,y,n,r,a)))return m.push(g)})){h=!1;break}}else if(!(v===x||i(v,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var k5=xde,_de=Ji,wde=_de.Uint8Array,Ade=wde;function Ede(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Sde=Ede;function Tde(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cT=Tde,XC=pp,YC=Ade,Ode=KS,jde=k5,Nde=Sde,Cde=cT,Ide=1,Pde=2,kde="[object Boolean]",Rde="[object Date]",Mde="[object Error]",Dde="[object Map]",$de="[object Number]",Lde="[object RegExp]",Bde="[object Set]",Ude="[object String]",Vde="[object Symbol]",zde="[object ArrayBuffer]",Fde="[object DataView]",QC=XC?XC.prototype:void 0,Sx=QC?QC.valueOf:void 0;function Hde(t,e,n,r,i,a,o){switch(n){case Fde:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case zde:return!(t.byteLength!=e.byteLength||!a(new YC(t),new YC(e)));case kde:case Rde:case $de:return Ode(+t,+e);case Mde:return t.name==e.name&&t.message==e.message;case Lde:case Ude:return t==e+"";case Dde:var s=Nde;case Bde:var l=r&Ide;if(s||(s=Cde),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Pde,o.set(t,e);var f=jde(s(t),s(e),r,i,a,o);return o.delete(t),f;case Vde:if(Sx)return Sx.call(t)==Sx.call(e)}return!1}var qde=Hde;function Gde(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var R5=Gde,Wde=R5,Kde=fr;function Xde(t,e,n){var r=e(t);return Kde(t)?r:Wde(r,n(t))}var Yde=Xde;function Qde(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Zde=Qde;function Jde(){return[]}var ehe=Jde,the=Zde,nhe=ehe,rhe=Object.prototype,ihe=rhe.propertyIsEnumerable,ZC=Object.getOwnPropertySymbols,ahe=ZC?function(t){return t==null?[]:(t=Object(t),the(ZC(t),function(e){return ihe.call(t,e)}))}:nhe,ohe=ahe;function she(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var lhe=she,che=Ha,uhe=qa,fhe="[object Arguments]";function dhe(t){return uhe(t)&&che(t)==fhe}var hhe=dhe,JC=hhe,phe=qa,M5=Object.prototype,mhe=M5.hasOwnProperty,ghe=M5.propertyIsEnumerable,vhe=JC(function(){return arguments}())?JC:function(t){return phe(t)&&mhe.call(t,"callee")&&!ghe.call(t,"callee")},uT=vhe,uv={exports:{}};function yhe(){return!1}var bhe=yhe;uv.exports;(function(t,e){var n=Ji,r=bhe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(uv,uv.exports);var D5=uv.exports,xhe=9007199254740991,_he=/^(?:0|[1-9]\d*)$/;function whe(t,e){var n=typeof t;return e=e??xhe,!!e&&(n=="number"||n!="symbol"&&_he.test(t))&&t>-1&&t%1==0&&t<e}var fT=whe,Ahe=9007199254740991;function Ehe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ahe}var dT=Ehe,She=Ha,The=dT,Ohe=qa,jhe="[object Arguments]",Nhe="[object Array]",Che="[object Boolean]",Ihe="[object Date]",Phe="[object Error]",khe="[object Function]",Rhe="[object Map]",Mhe="[object Number]",Dhe="[object Object]",$he="[object RegExp]",Lhe="[object Set]",Bhe="[object String]",Uhe="[object WeakMap]",Vhe="[object ArrayBuffer]",zhe="[object DataView]",Fhe="[object Float32Array]",Hhe="[object Float64Array]",qhe="[object Int8Array]",Ghe="[object Int16Array]",Whe="[object Int32Array]",Khe="[object Uint8Array]",Xhe="[object Uint8ClampedArray]",Yhe="[object Uint16Array]",Qhe="[object Uint32Array]",mt={};mt[Fhe]=mt[Hhe]=mt[qhe]=mt[Ghe]=mt[Whe]=mt[Khe]=mt[Xhe]=mt[Yhe]=mt[Qhe]=!0;mt[jhe]=mt[Nhe]=mt[Vhe]=mt[Che]=mt[zhe]=mt[Ihe]=mt[Phe]=mt[khe]=mt[Rhe]=mt[Mhe]=mt[Dhe]=mt[$he]=mt[Lhe]=mt[Bhe]=mt[Uhe]=!1;function Zhe(t){return Ohe(t)&&The(t.length)&&!!mt[She(t)]}var Jhe=Zhe;function epe(t){return function(e){return t(e)}}var $5=epe,fv={exports:{}};fv.exports;(function(t,e){var n=HL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(fv,fv.exports);var tpe=fv.exports,npe=Jhe,rpe=$5,eI=tpe,tI=eI&&eI.isTypedArray,ipe=tI?rpe(tI):npe,L5=ipe,ape=lhe,ope=uT,spe=fr,lpe=D5,cpe=fT,upe=L5,fpe=Object.prototype,dpe=fpe.hasOwnProperty;function hpe(t,e){var n=spe(t),r=!n&&ope(t),i=!n&&!r&&lpe(t),a=!n&&!r&&!i&&upe(t),o=n||r||i||a,s=o?ape(t.length,String):[],l=s.length;for(var u in t)(e||dpe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cpe(u,l)))&&s.push(u);return s}var ppe=hpe,mpe=Object.prototype;function gpe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||mpe;return t===n}var vpe=gpe;function ype(t,e){return function(n){return t(e(n))}}var B5=ype,bpe=B5,xpe=bpe(Object.keys,Object),_pe=xpe,wpe=vpe,Ape=_pe,Epe=Object.prototype,Spe=Epe.hasOwnProperty;function Tpe(t){if(!wpe(t))return Ape(t);var e=[];for(var n in Object(t))Spe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ope=Tpe,jpe=WS,Npe=dT;function Cpe(t){return t!=null&&Npe(t.length)&&!jpe(t)}var mp=Cpe,Ipe=ppe,Ppe=Ope,kpe=mp;function Rpe(t){return kpe(t)?Ipe(t):Ppe(t)}var N0=Rpe,Mpe=Yde,Dpe=ohe,$pe=N0;function Lpe(t){return Mpe(t,$pe,Dpe)}var Bpe=Lpe,nI=Bpe,Upe=1,Vpe=Object.prototype,zpe=Vpe.hasOwnProperty;function Fpe(t,e,n,r,i,a){var o=n&Upe,s=nI(t),l=s.length,u=nI(e),f=u.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in e:zpe.call(e,h)))return!1}var m=a.get(t),v=a.get(e);if(m&&v)return m==e&&v==t;var x=!0;a.set(t,e),a.set(e,t);for(var _=o;++d<l;){h=s[d];var y=t[h],g=e[h];if(r)var b=o?r(g,y,h,e,t,a):r(y,g,h,t,e,a);if(!(b===void 0?y===g||i(y,g,n,r,a):b)){x=!1;break}_||(_=h=="constructor")}if(x&&!_){var O=t.constructor,E=e.constructor;O!=E&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof E=="function"&&E instanceof E)&&(x=!1)}return a.delete(t),a.delete(e),x}var Hpe=Fpe,qpe=wl,Gpe=Ji,Wpe=qpe(Gpe,"DataView"),Kpe=Wpe,Xpe=wl,Ype=Ji,Qpe=Xpe(Ype,"Promise"),Zpe=Qpe,Jpe=wl,eme=Ji,tme=Jpe(eme,"Set"),U5=tme,nme=wl,rme=Ji,ime=nme(rme,"WeakMap"),ame=ime,U_=Kpe,V_=XS,z_=Zpe,F_=U5,H_=ame,V5=Ha,Qu=GL,rI="[object Map]",ome="[object Object]",iI="[object Promise]",aI="[object Set]",oI="[object WeakMap]",sI="[object DataView]",sme=Qu(U_),lme=Qu(V_),cme=Qu(z_),ume=Qu(F_),fme=Qu(H_),ws=V5;(U_&&ws(new U_(new ArrayBuffer(1)))!=sI||V_&&ws(new V_)!=rI||z_&&ws(z_.resolve())!=iI||F_&&ws(new F_)!=aI||H_&&ws(new H_)!=oI)&&(ws=function(t){var e=V5(t),n=e==ome?t.constructor:void 0,r=n?Qu(n):"";if(r)switch(r){case sme:return sI;case lme:return rI;case cme:return iI;case ume:return aI;case fme:return oI}return e});var dme=ws,Tx=N5,hme=k5,pme=qde,mme=Hpe,lI=dme,cI=fr,uI=D5,gme=L5,vme=1,fI="[object Arguments]",dI="[object Array]",ym="[object Object]",yme=Object.prototype,hI=yme.hasOwnProperty;function bme(t,e,n,r,i,a){var o=cI(t),s=cI(e),l=o?dI:lI(t),u=s?dI:lI(e);l=l==fI?ym:l,u=u==fI?ym:u;var f=l==ym,d=u==ym,h=l==u;if(h&&uI(t)){if(!uI(e))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new Tx),o||gme(t)?hme(t,e,n,r,i,a):pme(t,e,l,n,r,i,a);if(!(n&vme)){var m=f&&hI.call(t,"__wrapped__"),v=d&&hI.call(e,"__wrapped__");if(m||v){var x=m?t.value():t,_=v?e.value():e;return a||(a=new Tx),i(x,_,n,r,a)}}return h?(a||(a=new Tx),mme(t,e,n,r,i,a)):!1}var xme=bme,_me=xme,pI=qa;function z5(t,e,n,r,i){return t===e?!0:t==null||e==null||!pI(t)&&!pI(e)?t!==t&&e!==e:_me(t,e,n,r,z5,i)}var hT=z5,wme=N5,Ame=hT,Eme=1,Sme=2;function Tme(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new wme;if(r)var h=r(u,f,l,t,e,d);if(!(h===void 0?Ame(f,u,Eme|Sme,r,d):h))return!1}}return!0}var Ome=Tme,jme=ts;function Nme(t){return t===t&&!jme(t)}var F5=Nme,Cme=F5,Ime=N0;function Pme(t){for(var e=Ime(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Cme(i)]}return e}var kme=Pme;function Rme(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var H5=Rme,Mme=Ome,Dme=kme,$me=H5;function Lme(t){var e=Dme(t);return e.length==1&&e[0][2]?$me(e[0][0],e[0][1]):function(n){return n===t||Mme(n,t,e)}}var Bme=Lme;function Ume(t,e){return t!=null&&e in Object(t)}var Vme=Ume,zme=QL,Fme=uT,Hme=fr,qme=fT,Gme=dT,Wme=p0;function Kme(t,e,n){e=zme(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Wme(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Gme(i)&&qme(o,i)&&(Hme(t)||Fme(t)))}var Xme=Kme,Yme=Vme,Qme=Xme;function Zme(t,e){return t!=null&&Qme(t,e,Yme)}var Jme=Zme,ege=hT,tge=ZL,nge=Jme,rge=GS,ige=F5,age=H5,oge=p0,sge=1,lge=2;function cge(t,e){return rge(t)&&ige(e)?age(oge(t),e):function(n){var r=tge(n,t);return r===void 0&&r===e?nge(n,t):ege(e,r,sge|lge)}}var uge=cge;function fge(t){return t}var Zu=fge;function dge(t){return function(e){return e==null?void 0:e[t]}}var hge=dge,pge=JS;function mge(t){return function(e){return pge(e,t)}}var gge=mge,vge=hge,yge=gge,bge=GS,xge=p0;function _ge(t){return bge(t)?vge(xge(t)):yge(t)}var wge=_ge,Age=Bme,Ege=uge,Sge=Zu,Tge=fr,Oge=wge;function jge(t){return typeof t=="function"?t:t==null?Sge:typeof t=="object"?Tge(t)?Ege(t[0],t[1]):Age(t):Oge(t)}var ea=jge;function Nge(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var q5=Nge;function Cge(t){return t!==t}var Ige=Cge;function Pge(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var kge=Pge,Rge=q5,Mge=Ige,Dge=kge;function $ge(t,e,n){return e===e?Dge(t,e,n):Rge(t,Mge,n)}var Lge=$ge,Bge=Lge;function Uge(t,e){var n=t==null?0:t.length;return!!n&&Bge(t,e,0)>-1}var Vge=Uge;function zge(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fge=zge;function Hge(){}var qge=Hge,Ox=U5,Gge=qge,Wge=cT,Kge=1/0,Xge=Ox&&1/Wge(new Ox([,-0]))[1]==Kge?function(t){return new Ox(t)}:Gge,Yge=Xge,Qge=C5,Zge=Vge,Jge=Fge,eve=P5,tve=Yge,nve=cT,rve=200;function ive(t,e,n){var r=-1,i=Zge,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Jge;else if(a>=rve){var u=e?null:tve(t);if(u)return nve(u);o=!1,i=eve,l=new Qge}else l=e?[]:s;e:for(;++r<a;){var f=t[r],d=e?e(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(f)}else i(l,d,n)||(l!==s&&l.push(d),s.push(f))}return s}var ave=ive,ove=ea,sve=ave;function lve(t,e){return t&&t.length?sve(t,ove(e)):[]}var cve=lve;const mI=Qe(cve);function G5(t,e,n){return e===!0?mI(t,n):be(e)?mI(t,e):t}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var uve=["ref"];function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function la(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){C0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K5(r.key),r)}}function dve(t,e,n){return e&&vI(t.prototype,e),n&&vI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hve(t,e,n){return e=dv(e),pve(t,W5()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function pve(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(t)}function mve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W5=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function gve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function C0(t,e,n){return e=K5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5(t){var e=vve(t,"string");return Jc(e)=="symbol"?e:e+""}function vve(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yve(t,e){if(t==null)return{};var n=bve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xve(t){return t.value}function _ve(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=yve(e,uve);return $.createElement(lT,n)}var yI=1,Tc=function(t){function e(){var n;fve(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hve(this,e,[].concat(i)),C0(n,"lastBoundingBox",{width:-1,height:-1}),n}return gve(e,t),dve(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yI||Math.abs(i.height-this.lastBoundingBox.height)>yI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?la({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return la(la({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=la(la({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},_ve(a,la(la({},this.props),{},{payload:G5(f,u,xve)})))}}],[{key:"getWithHeight",value:function(r,i){var a=la(la({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ie(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);C0(Tc,"displayName","Legend");C0(Tc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bI=pp,wve=uT,Ave=fr,xI=bI?bI.isConcatSpreadable:void 0;function Eve(t){return Ave(t)||wve(t)||!!(xI&&t&&t[xI])}var Sve=Eve,Tve=R5,Ove=Sve;function X5(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Ove),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?X5(s,e-1,n,r,i):Tve(i,s):r||(i[i.length]=s)}return i}var Y5=X5;function jve(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Nve=jve,Cve=Nve,Ive=Cve(),Pve=Ive,kve=Pve,Rve=N0;function Mve(t,e){return t&&kve(t,e,Rve)}var Q5=Mve,Dve=mp;function $ve(t,e){return function(n,r){if(n==null)return n;if(!Dve(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Lve=$ve,Bve=Q5,Uve=Lve,Vve=Uve(Bve),pT=Vve,zve=pT,Fve=mp;function Hve(t,e){var n=-1,r=Fve(t)?Array(t.length):[];return zve(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var Z5=Hve;function qve(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Gve=qve,_I=Hu;function Wve(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=_I(t),o=e!==void 0,s=e===null,l=e===e,u=_I(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Kve=Wve,Xve=Kve;function Yve(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Xve(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Qve=Yve,jx=ZS,Zve=JS,Jve=ea,eye=Z5,tye=Gve,nye=$5,rye=Qve,iye=Zu,aye=fr;function oye(t,e,n){e.length?e=jx(e,function(a){return aye(a)?function(o){return Zve(o,a.length===1?a[0]:a)}:a}):e=[iye];var r=-1;e=jx(e,nye(Jve));var i=eye(t,function(a,o,s){var l=jx(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return tye(i,function(a,o){return rye(a,o,n)})}var sye=oye;function lye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var cye=lye,uye=cye,wI=Math.max;function fye(t,e,n){return e=wI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=wI(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),uye(t,this,s)}}var dye=fye;function hye(t){return function(){return t}}var pye=hye,mye=wl,gye=function(){try{var t=mye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),J5=gye,vye=pye,AI=J5,yye=Zu,bye=AI?function(t,e){return AI(t,"toString",{configurable:!0,enumerable:!1,value:vye(e),writable:!0})}:yye,xye=bye,_ye=800,wye=16,Aye=Date.now;function Eye(t){var e=0,n=0;return function(){var r=Aye(),i=wye-(r-n);if(n=r,i>0){if(++e>=_ye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Sye=Eye,Tye=xye,Oye=Sye,jye=Oye(Tye),Nye=jye,Cye=Zu,Iye=dye,Pye=Nye;function kye(t,e){return Pye(Iye(t,e,Cye),t+"")}var Rye=kye,Mye=KS,Dye=mp,$ye=fT,Lye=ts;function Bye(t,e,n){if(!Lye(n))return!1;var r=typeof e;return(r=="number"?Dye(n)&&$ye(e,n.length):r=="string"&&e in n)?Mye(n[e],t):!1}var I0=Bye,Uye=Y5,Vye=sye,zye=Rye,EI=I0,Fye=zye(function(t,e){if(t==null)return[];var n=e.length;return n>1&&EI(t,e[0],e[1])?e=[]:n>2&&EI(e[0],e[1],e[2])&&(e=[e[0]]),Vye(t,Uye(e,1),[])}),Hye=Fye;const mT=Qe(Hye);function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function qye(t,e){return Xye(t)||Kye(t,e)||Wye(t,e)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xye(t){if(Array.isArray(t))return t}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){Yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yye(t,e,n){return e=Qye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qye(t){var e=Zye(t,"string");return th(e)=="symbol"?e:e+""}function Zye(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jye(t){return Array.isArray(t)&&nn(t[0])&&nn(t[1])?t.join(" ~ "):t}var e0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,d=e.formatter,h=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,x=e.label,_=e.labelFormatter,y=e.accessibilityLayer,g=y===void 0?!1:y,b=function(){if(f&&f.length){var P={padding:0,margin:0},k=(h?mT(f,h):f).map(function(z,U){if(z.type==="none")return null;var D=Nx({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),B=z.formatter||d||Jye,V=z.value,H=z.name,te=V,ne=H;if(B&&te!=null&&ne!=null){var q=B(V,H,z,U,f);if(Array.isArray(q)){var L=qye(q,2);te=L[0],ne=L[1]}else te=q}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:D},nn(ne)?$.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,nn(ne)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},te),$.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},O=Nx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=Nx({margin:0},u),N=!je(x),S=N?x:"",w=Ce("recharts-default-tooltip",m),j=Ce("recharts-tooltip-label",v);N&&_&&f!==void 0&&f!==null&&(S=_(x,f));var I=g?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",G_({className:w,style:O},I),$.createElement("p",{className:j,style:E},$.isValidElement(S)?S:"".concat(S)),b())};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function bm(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return nh(e)=="symbol"?e:e+""}function n0e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kf="recharts-tooltip-wrapper",r0e={visibility:"hidden"};function i0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(kf,bm(bm(bm(bm({},"".concat(kf,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(kf,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(kf,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(kf,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function OI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ie(a[r]))return a[r];var f=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?f:d;if(o[r]){var h=f,m=l[r];return h<m?Math.max(d,l[r]):Math.max(f,l[r])}var v=d+s,x=l[r]+u;return v>x?Math.max(f,l[r]):Math.max(d,l[r])}function a0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function o0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,d;return o.height>0&&o.width>0&&n?(f=OI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=OI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=a0e({translateX:f,translateY:d,useTranslate3d:s})):u=r0e,{cssProperties:u,cssClasses:i0e({translateX:f,translateY:d,coordinate:n})}}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){K_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tB(r.key),r)}}function c0e(t,e,n){return e&&l0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u0e(t,e,n){return e=hv(e),f0e(t,eB()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function f0e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0e(t)}function d0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function h0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function K_(t,e,n){return e=tB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tB(t){var e=p0e(t,"string");return eu(e)=="symbol"?e:e+""}function p0e(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CI=1,m0e=function(t){function e(){var n;s0e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u0e(this,e,[].concat(i)),K_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),K_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return h0e(e,t),c0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>CI||Math.abs(r.height-this.state.lastBoundingBox.height)>CI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,m=i.offset,v=i.position,x=i.reverseDirection,_=i.useTranslate3d,y=i.viewBox,g=i.wrapperStyle,b=o0e({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:y}),O=b.cssClasses,E=b.cssProperties,N=NI(NI({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},g);return $.createElement("div",{tabIndex:-1,className:O,style:N,ref:function(w){r.wrapperNode=w}},u)}}])}(R.PureComponent),g0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ns={isSsr:g0e()};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){gT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rB(r.key),r)}}function b0e(t,e,n){return e&&y0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x0e(t,e,n){return e=pv(e),_0e(t,nB()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function _0e(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w0e(t)}function w0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function gT(t,e,n){return e=rB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(t){var e=E0e(t,"string");return tu(e)=="symbol"?e:e+""}function E0e(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S0e(t){return t.dataKey}function T0e(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(e0e,e)}var zn=function(t){function e(){return v0e(this,e),x0e(this,e,arguments)}return A0e(e,t),b0e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,m=i.offset,v=i.payload,x=i.payloadUniqBy,_=i.position,y=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,O=i.wrapperStyle,E=v??[];d&&E.length&&(E=G5(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),x,S0e));var N=E.length>0;return $.createElement(m0e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:f,hasPayload:N,offset:m,position:_,reverseDirection:y,useTranslate3d:g,viewBox:b,wrapperStyle:O},T0e(u,PI(PI({},this.props),{},{payload:E})))}}])}(R.PureComponent);gT(zn,"displayName","Tooltip");gT(zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ns.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var O0e=Ji,j0e=function(){return O0e.Date.now()},N0e=j0e,C0e=/\s/;function I0e(t){for(var e=t.length;e--&&C0e.test(t.charAt(e)););return e}var P0e=I0e,k0e=P0e,R0e=/^\s+/;function M0e(t){return t&&t.slice(0,k0e(t)+1).replace(R0e,"")}var D0e=M0e,$0e=D0e,kI=ts,L0e=Hu,RI=NaN,B0e=/^[-+]0x[0-9a-f]+$/i,U0e=/^0b[01]+$/i,V0e=/^0o[0-7]+$/i,z0e=parseInt;function F0e(t){if(typeof t=="number")return t;if(L0e(t))return RI;if(kI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$0e(t);var n=U0e.test(t);return n||V0e.test(t)?z0e(t.slice(2),n?2:8):B0e.test(t)?RI:+t}var iB=F0e,H0e=ts,Cx=N0e,MI=iB,q0e="Expected a function",G0e=Math.max,W0e=Math.min;function K0e(t,e,n){var r,i,a,o,s,l,u=0,f=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(q0e);e=MI(e)||0,H0e(n)&&(f=!!n.leading,d="maxWait"in n,a=d?G0e(MI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(N){var S=r,w=i;return r=i=void 0,u=N,o=t.apply(w,S),o}function v(N){return u=N,s=setTimeout(y,e),f?m(N):o}function x(N){var S=N-l,w=N-u,j=e-S;return d?W0e(j,a-w):j}function _(N){var S=N-l,w=N-u;return l===void 0||S>=e||S<0||d&&w>=a}function y(){var N=Cx();if(_(N))return g(N);s=setTimeout(y,x(N))}function g(N){return s=void 0,h&&r?m(N):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?o:g(Cx())}function E(){var N=Cx(),S=_(N);if(r=arguments,i=this,l=N,S){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(y,e),m(l)}return s===void 0&&(s=setTimeout(y,e)),o}return E.cancel=b,E.flush=O,E}var X0e=K0e,Y0e=X0e,Q0e=ts,Z0e="Expected a function";function J0e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Z0e);return Q0e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Y0e(t,e,{leading:r,maxWait:e,trailing:i})}var ebe=J0e;const aB=Qe(ebe);function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){tbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tbe(t,e,n){return e=nbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nbe(t){var e=rbe(t,"string");return rh(e)=="symbol"?e:e+""}function rbe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ibe(t,e){return lbe(t)||sbe(t,e)||obe(t,e)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function obe(t,e){if(t){if(typeof t=="string")return $I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lbe(t){if(Array.isArray(t))return t}var sc=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,m=t.children,v=t.debounce,x=v===void 0?0:v,_=t.id,y=t.className,g=t.onResize,b=t.style,O=b===void 0?{}:b,E=R.useRef(null),N=R.useRef();N.current=g,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=R.useState({containerWidth:i.width,containerHeight:i.height}),w=ibe(S,2),j=w[0],I=w[1],T=R.useCallback(function(k,z){I(function(U){var D=Math.round(k),B=Math.round(z);return U.containerWidth===D&&U.containerHeight===B?U:{containerWidth:D,containerHeight:B}})},[]);R.useEffect(function(){var k=function(H){var te,ne=H[0].contentRect,q=ne.width,L=ne.height;T(q,L),(te=N.current)===null||te===void 0||te.call(N,q,L)};x>0&&(k=aB(k,x,{trailing:!0,leading:!1}));var z=new ResizeObserver(k),U=E.current.getBoundingClientRect(),D=U.width,B=U.height;return T(D,B),z.observe(E.current),function(){z.disconnect()}},[T,x]);var P=R.useMemo(function(){var k=j.containerWidth,z=j.containerHeight;if(k<0||z<0)return null;pi(js(o)||js(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),pi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=js(o)?k:o,D=js(l)?z:l;n&&n>0&&(U?D=U/n:D&&(U=D*n),h&&D>h&&(D=h)),pi(U>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,D,o,l,f,d,n);var B=!Array.isArray(m)&&Oa(m.type).endsWith("Chart");return $.Children.map(m,function(V){return $.isValidElement(V)?R.cloneElement(V,xm({width:U,height:D},B?{style:xm({height:"100%",width:"100%",maxHeight:D,maxWidth:U},V.props.style)}:{})):V})},[n,m,l,h,d,f,j,o]);return $.createElement("div",{id:_?"".concat(_):void 0,className:Ce("recharts-responsive-container",y),style:xm(xm({},O),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:E},P)}),nu=function(e){return null};nu.displayName="Cell";function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){cbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cbe(t,e,n){return e=ube(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ube(t){var e=fbe(t,"string");return ih(e)=="symbol"?e:e+""}function fbe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $l={widthCache:{},cacheCount:0},dbe=2e3,hbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BI="recharts_measurement_span";function pbe(t){var e=Y_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var _d=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ns.isSsr)return{width:0,height:0};var r=pbe(n),i=JSON.stringify({text:e,copyStyle:r});if($l.widthCache[i])return $l.widthCache[i];try{var a=document.getElementById(BI);a||(a=document.createElement("span"),a.setAttribute("id",BI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Y_(Y_({},hbe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return $l.widthCache[i]=l,++$l.cacheCount>dbe&&($l.cacheCount=0,$l.widthCache={}),l}catch{return{width:0,height:0}}},mbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function mv(t,e){return bbe(t)||ybe(t,e)||vbe(t,e)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vbe(t,e){if(t){if(typeof t=="string")return UI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(t,e)}}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ybe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bbe(t){if(Array.isArray(t))return t}function xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wbe(r.key),r)}}function _be(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wbe(t){var e=Abe(t,"string");return ah(e)=="symbol"?e:e+""}function Abe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ebe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tbe=Object.keys(oB),lc="NaN";function Obe(t,e){return t*oB[e]}var _m=function(){function t(e,n){xbe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ebe.test(n)&&(this.num=NaN,this.unit=""),Tbe.includes(n)&&(this.num=Obe(e,n),this.unit="px")}return _be(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Sbe.exec(n))!==null&&r!==void 0?r:[],a=mv(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function sB(t){if(t.includes(lc))return lc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zI.exec(e))!==null&&n!==void 0?n:[],i=mv(r,4),a=i[1],o=i[2],s=i[3],l=_m.parse(a??""),u=_m.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return lc;e=e.replace(zI,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=FI.exec(e))!==null&&d!==void 0?d:[],m=mv(h,4),v=m[1],x=m[2],_=m[3],y=_m.parse(v??""),g=_m.parse(_??""),b=x==="+"?y.add(g):y.subtract(g);if(b.isNaN())return lc;e=e.replace(FI,b.toString())}return e}var HI=/\(([^()]*)\)/;function jbe(t){for(var e=t;e.includes("(");){var n=HI.exec(e),r=mv(n,2),i=r[1];e=e.replace(HI,sB(i))}return e}function Nbe(t){var e=t.replace(/\s+/g,"");return e=jbe(e),e=sB(e),e}function Cbe(t){try{return Nbe(t)}catch{return lc}}function Ix(t){var e=Cbe(t.slice(5,-1));return e===lc?"":e}var Ibe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pbe=["dx","dy","angle","className","breakAll"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function qI(t,e){if(t==null)return{};var n=kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GI(t,e){return $be(t)||Dbe(t,e)||Mbe(t,e)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mbe(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $be(t){if(Array.isArray(t))return t}var lB=/[ \f\n\r\t\v\u2028\u2029]+/,cB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];je(n)||(r?a=n.toString().split(""):a=n.toString().split(lB));var o=a.map(function(l){return{word:l,width:_d(l,i).width}}),s=r?0:_d(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Lbe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=ie(o),d=s,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(D,B){var V=B.word,H=B.width,te=D[D.length-1];if(te&&(i==null||a||te.width+H+r<Number(i)))te.words.push(V),te.width+=H+r;else{var ne={words:[V],width:H};D.push(ne)}return D},[])},m=h(n),v=function(U){return U.reduce(function(D,B){return D.width>B.width?D:B})};if(!f)return m;for(var x="…",_=function(U){var D=d.slice(0,U),B=cB({breakAll:u,style:l,children:D+x}).wordsWithComputedWidth,V=h(B),H=V.length>o||v(V).width>Number(i);return[H,V]},y=0,g=d.length-1,b=0,O;y<=g&&b<=d.length-1;){var E=Math.floor((y+g)/2),N=E-1,S=_(N),w=GI(S,2),j=w[0],I=w[1],T=_(E),P=GI(T,1),k=P[0];if(!j&&!k&&(y=E+1),j&&k&&(g=E-1),!j&&k){O=I;break}b++}return O||m},KI=function(e){var n=je(e)?[]:e.toString().split(lB);return[{words:n}]},Bbe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!ns.isSsr){var l,u,f=cB({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,u=h}else return KI(i);return Lbe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return KI(i)},XI="#808080",il=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,h=e.textAnchor,m=h===void 0?"start":h,v=e.verticalAnchor,x=v===void 0?"end":v,_=e.fill,y=_===void 0?XI:_,g=qI(e,Ibe),b=R.useMemo(function(){return Bbe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),O=g.dx,E=g.dy,N=g.angle,S=g.className,w=g.breakAll,j=qI(g,Pbe);if(!nn(r)||!nn(a))return null;var I=r+(ie(O)?O:0),T=a+(ie(E)?E:0),P;switch(x){case"start":P=Ix("calc(".concat(u,")"));break;case"middle":P=Ix("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=Ix("calc(".concat(b.length-1," * -").concat(s,")"));break}var k=[];if(d){var z=b[0].width,U=g.width;k.push("scale(".concat((ie(U)?U/z:1)/z,")"))}return N&&k.push("rotate(".concat(N,", ").concat(I,", ").concat(T,")")),k.length&&(j.transform=k.join(" ")),$.createElement("text",Q_({},de(j,!0),{x:I,y:T,className:Ce("recharts-text",S),textAnchor:m,fill:y.includes("url")?XI:y}),b.map(function(D,B){var V=D.words.join(w?"":" ");return $.createElement("tspan",{x:I,dy:B===0?P:s,key:"".concat(V,"-").concat(B)},V)}))};function Mo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ube(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vT(t){let e,n,r;t.length!==2?(e=Mo,n=(s,l)=>Mo(t(s),l),r=(s,l)=>t(s)-l):(e=t===Mo||t===Ube?t:Vbe,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;n(s[d],l)<0?u=d+1:f=d}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;n(s[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,l,u=0,f=s.length){const d=i(s,l,u,f-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Vbe(){return 0}function uB(t){return t===null?NaN:+t}function*zbe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Fbe=vT(Mo),gp=Fbe.right;vT(uB).center;class YI extends Map{constructor(e,n=Gbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QI(this,e))}has(e){return super.has(QI(this,e))}set(e,n){return super.set(Hbe(this,e),n)}delete(e){return super.delete(qbe(this,e))}}function QI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Gbe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wbe(t=Mo){if(t===Mo)return fB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Kbe=Math.sqrt(50),Xbe=Math.sqrt(10),Ybe=Math.sqrt(2);function gv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Kbe?10:a>=Xbe?5:a>=Ybe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?gv(t,e,n*2):[s,l,u]}function Z_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?gv(e,t,n):gv(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function J_(t,e,n){return e=+e,t=+t,n=+n,gv(t,e,n)[2]}function ew(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?J_(e,t,n):J_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?fB:Wbe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));dB(t,e,m,v,i)}const a=t[e];let o=n,s=r;for(Rf(t,n,e),i(t[r],a)>0&&Rf(t,n,r);o<s;){for(Rf(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Rf(t,n,s):(++s,Rf(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Rf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qbe(t,e,n){if(t=Float64Array.from(zbe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JI(t);if(e>=1)return ZI(t);var r,i=(r-1)*e,a=Math.floor(i),o=ZI(dB(t,a).subarray(0,a+1)),s=JI(t.subarray(a+1));return o+(s-o)*(i-a)}}function Zbe(t,e,n=uB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Jbe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ni(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ga(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tw=Symbol("implicit");function yT(){var t=new YI,e=[],n=[],r=tw;function i(a){let o=t.get(a);if(o===void 0){if(r!==tw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new YI;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yT(e,n).unknown(r)},ni.apply(i,arguments),i}function oh(){var t=yT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function d(){var h=e().length,m=i<r,v=m?i:r,x=m?r:i;a=(x-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(x-v-a*(h-l))*f,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var _=Jbe(h).map(function(y){return v+a*y});return n(m?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},t.copy=function(){return oh(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},ni.apply(d(),arguments)}function hB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hB(e())},t}function wd(){return hB(oh.apply(null,arguments).paddingInner(1))}function bT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vp(){}var sh=.7,vv=1/sh,Oc="\\s*([+-]?\\d+)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",exe=/^#([0-9a-f]{3,8})$/,txe=new RegExp(`^rgb\\(${Oc},${Oc},${Oc}\\)$`),nxe=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),rxe=new RegExp(`^rgba\\(${Oc},${Oc},${Oc},${lh}\\)$`),ixe=new RegExp(`^rgba\\(${zi},${zi},${zi},${lh}\\)$`),axe=new RegExp(`^hsl\\(${lh},${zi},${zi}\\)$`),oxe=new RegExp(`^hsla\\(${lh},${zi},${zi},${lh}\\)$`),eP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bT(vp,ch,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tP,formatHex:tP,formatHex8:sxe,formatHsl:lxe,formatRgb:nP,toString:nP});function tP(){return this.rgb().formatHex()}function sxe(){return this.rgb().formatHex8()}function lxe(){return mB(this).formatHsl()}function nP(){return this.rgb().formatRgb()}function ch(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=exe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rP(e):n===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=txe.exec(t))?new or(e[1],e[2],e[3],1):(e=nxe.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rxe.exec(t))?wm(e[1],e[2],e[3],e[4]):(e=ixe.exec(t))?wm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=axe.exec(t))?oP(e[1],e[2]/100,e[3]/100,1):(e=oxe.exec(t))?oP(e[1],e[2]/100,e[3]/100,e[4]):eP.hasOwnProperty(t)?rP(eP[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function rP(t){return new or(t>>16&255,t>>8&255,t&255,1)}function wm(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function cxe(t){return t instanceof vp||(t=ch(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function nw(t,e,n,r){return arguments.length===1?cxe(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bT(or,nw,pB(vp,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sh:Math.pow(sh,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(Fs(this.r),Fs(this.g),Fs(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iP,formatHex:iP,formatHex8:uxe,formatRgb:aP,toString:aP}));function iP(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function uxe(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function aP(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${Fs(this.r)}, ${Fs(this.g)}, ${Fs(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ns(t){return t=Fs(t),(t<16?"0":"")+t.toString(16)}function oP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ci(t,e,n,r)}function mB(t){if(t instanceof ci)return new ci(t.h,t.s,t.l,t.opacity);if(t instanceof vp||(t=ch(t)),!t)return new ci;if(t instanceof ci)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ci(o,s,l,t.opacity)}function fxe(t,e,n,r){return arguments.length===1?mB(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bT(ci,fxe,pB(vp,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sh:Math.pow(sh,t),new ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new or(Px(t>=240?t-240:t+120,i,r),Px(t,i,r),Px(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ci(sP(this.h),Am(this.s),Am(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${sP(this.h)}, ${Am(this.s)*100}%, ${Am(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sP(t){return t=(t||0)%360,t<0?t+360:t}function Am(t){return Math.max(0,Math.min(1,t||0))}function Px(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xT=t=>()=>t;function dxe(t,e){return function(n){return t+n*e}}function hxe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pxe(t){return(t=+t)==1?gB:function(e,n){return n-e?hxe(e,n,t):xT(isNaN(e)?n:e)}}function gB(t,e){var n=e-t;return n?dxe(t,n):xT(isNaN(t)?e:t)}const lP=function t(e){var n=pxe(e);function r(i,a){var o=n((i=nw(i)).r,(a=nw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=gB(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function mxe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function gxe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vxe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ju(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function yxe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bxe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ju(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var rw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kx=new RegExp(rw.source,"g");function xxe(t){return function(){return t}}function _xe(t){return function(e){return t(e)+""}}function wxe(t,e){var n=rw.lastIndex=kx.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=rw.exec(t))&&(i=kx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:bv(r,i)})),n=kx.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?_xe(l[0].x):xxe(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)s[(d=l[f]).i]=d.x(u);return s.join("")})}function Ju(t,e){var n=typeof e,r;return e==null||n==="boolean"?xT(e):(n==="number"?bv:n==="string"?(r=ch(e))?(e=r,lP):wxe:e instanceof ch?lP:e instanceof Date?yxe:gxe(e)?mxe:Array.isArray(e)?vxe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bxe:bv)(t,e)}function _T(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Axe(t,e){e===void 0&&(e=t,t=Ju);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Exe(t){return function(){return t}}function xv(t){return+t}var cP=[0,1];function Kn(t){return t}function iw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Exe(isNaN(e)?NaN:.5)}function Sxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Txe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=iw(i,r),a=n(o,a)):(r=iw(r,i),a=n(a,o)),function(s){return a(r(s))}}function Oxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=iw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=gp(t,s,1,r)-1;return a[l](i[l](s))}}function yp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function P0(){var t=cP,e=cP,n=Ju,r,i,a,o=Kn,s,l,u;function f(){var h=Math.min(t.length,e.length);return o!==Kn&&(o=Sxe(t[0],t[h-1])),s=h>2?Oxe:Txe,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((u||(u=s(e,t.map(r),bv)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,xv),f()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=_T,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Kn,f()):o!==Kn},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,m){return r=h,i=m,f()}}function wT(){return P0()(Kn,Kn)}function jxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _v(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ru(t){return t=_v(Math.abs(t)),t?t[1]:NaN}function Nxe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Cxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ixe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uh(t){if(!(e=Ixe.exec(t)))throw new Error("invalid format: "+t);var e;return new AT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uh.prototype=AT.prototype;function AT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var vB;function kxe(t,e){var n=_v(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(vB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_v(t,Math.max(0,e+a-1))[0]}function uP(t,e){var n=_v(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uP(t*100,e),r:uP,s:kxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dP(t){return t}var hP=Array.prototype.map,pP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Rxe(t){var e=t.grouping===void 0||t.thousands===void 0?dP:Nxe(hP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?dP:Cxe(hP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=uh(d);var h=d.fill,m=d.align,v=d.sign,x=d.symbol,_=d.zero,y=d.width,g=d.comma,b=d.precision,O=d.trim,E=d.type;E==="n"?(g=!0,E="g"):fP[E]||(b===void 0&&(b=12),O=!0,E="g"),(_||h==="0"&&m==="=")&&(_=!0,h="0",m="=");var N=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=x==="$"?r:/[%p]/.test(E)?o:"",w=fP[E],j=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(T){var P=N,k=S,z,U,D;if(E==="c")k=w(T)+k,T="";else{T=+T;var B=T<0||1/T<0;if(T=isNaN(T)?l:w(Math.abs(T),b),O&&(T=Pxe(T)),B&&+T==0&&v!=="+"&&(B=!1),P=(B?v==="("?v:s:v==="-"||v==="("?"":v)+P,k=(E==="s"?pP[8+vB/3]:"")+k+(B&&v==="("?")":""),j){for(z=-1,U=T.length;++z<U;)if(D=T.charCodeAt(z),48>D||D>57){k=(D===46?i+T.slice(z+1):T.slice(z))+k,T=T.slice(0,z);break}}}g&&!_&&(T=e(T,1/0));var V=P.length+T.length+k.length,H=V<y?new Array(y-V+1).join(h):"";switch(g&&_&&(T=e(H+T,H.length?y-k.length:1/0),H=""),m){case"<":T=P+T+k+H;break;case"=":T=P+H+T+k;break;case"^":T=H.slice(0,V=H.length>>1)+P+T+k+H.slice(V);break;default:T=H+P+T+k;break}return a(T)}return I.toString=function(){return d+""},I}function f(d,h){var m=u((d=uh(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(ru(h)/3)))*3,x=Math.pow(10,-v),_=pP[8+v/3];return function(y){return m(x*y)+_}}return{format:u,formatPrefix:f}}var Em,ET,yB;Mxe({thousands:",",grouping:[3],currency:["$",""]});function Mxe(t){return Em=Rxe(t),ET=Em.format,yB=Em.formatPrefix,Em}function Dxe(t){return Math.max(0,-ru(Math.abs(t)))}function $xe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ru(e)/3)))*3-ru(Math.abs(t)))}function Lxe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ru(e)-ru(t))+1}function bB(t,e,n,r){var i=ew(t,e,n),a;switch(r=uh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=$xe(i,o))&&(r.precision=a),yB(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Lxe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Dxe(i))&&(r.precision=a-(r.type==="%")*2);break}}return ET(r)}function rs(t){var e=t.domain;return t.ticks=function(n){var r=e();return Z_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return bB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=J_(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function wv(){var t=wT();return t.copy=function(){return yp(t,wv())},ni.apply(t,arguments),rs(t)}function xB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,xv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xB(t).unknown(e)},t=arguments.length?Array.from(t,xv):[0,1],rs(n)}function _B(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function mP(t){return Math.log(t)}function gP(t){return Math.exp(t)}function Bxe(t){return-Math.log(-t)}function Uxe(t){return-Math.exp(-t)}function Vxe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zxe(t){return t===10?Vxe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fxe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vP(t){return(e,n)=>-t(-e,n)}function ST(t){const e=t(mP,gP),n=e.domain;let r=10,i,a;function o(){return i=Fxe(r),a=zxe(r),n()[0]<0?(i=vP(i),a=vP(a),t(Bxe,Uxe)):t(mP,gP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=i(u),m=i(f),v,x;const _=s==null?10:+s;let y=[];if(!(r%1)&&m-h<_){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<r;++v)if(x=h<0?v/a(-h):v*a(h),!(x<u)){if(x>f)break;y.push(x)}}else for(;h<=m;++h)for(v=r-1;v>=1;--v)if(x=h>0?v/a(-h):v*a(h),!(x<u)){if(x>f)break;y.push(x)}y.length*2<_&&(y=Z_(u,f,_))}else y=Z_(h,m,Math.min(m-h,_)).map(a);return d?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=uh(l)).precision==null&&(l.trim=!0),l=ET(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=u?l(f):""}},e.nice=()=>n(_B(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function wB(){const t=ST(P0()).domain([1,10]);return t.copy=()=>yp(t,wB()).base(t.base()),ni.apply(t,arguments),t}function yP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TT(t){var e=1,n=t(yP(e),bP(e));return n.constant=function(r){return arguments.length?t(yP(e=+r),bP(e)):e},rs(n)}function AB(){var t=TT(P0());return t.copy=function(){return yp(t,AB()).constant(t.constant())},ni.apply(t,arguments)}function xP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hxe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qxe(t){return t<0?-t*t:t*t}function OT(t){var e=t(Kn,Kn),n=1;function r(){return n===1?t(Kn,Kn):n===.5?t(Hxe,qxe):t(xP(n),xP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},rs(e)}function jT(){var t=OT(P0());return t.copy=function(){return yp(t,jT()).exponent(t.exponent())},ni.apply(t,arguments),t}function Gxe(){return jT.apply(null,arguments).exponent(.5)}function _P(t){return Math.sign(t)*t*t}function Wxe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EB(){var t=wT(),e=[0,1],n=!1,r;function i(a){var o=Wxe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(_P(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,xv)).map(_P)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return EB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ni.apply(i,arguments),rs(i)}function SB(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Zbe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[gp(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Mo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return SB().domain(t).range(e).unknown(r)},ni.apply(a,arguments)}function TB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[gp(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return TB().domain([t,e]).range(i).unknown(a)},ni.apply(rs(o),arguments)}function OB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[gp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OB().domain(t).range(e).unknown(n)},ni.apply(i,arguments)}const Rx=new Date,Mx=new Date;function sn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>sn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Rx.setTime(+a),Mx.setTime(+o),t(Rx),t(Mx),Math.floor(n(Rx,Mx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Av=sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Av);Av.range;const ba=1e3,Kr=ba*60,xa=Kr*60,Ba=xa*24,NT=Ba*7,wP=Ba*30,Dx=Ba*365,Cs=sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ba)},(t,e)=>(e-t)/ba,t=>t.getUTCSeconds());Cs.range;const CT=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ba)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getMinutes());CT.range;const IT=sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCMinutes());IT.range;const PT=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ba-t.getMinutes()*Kr)},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getHours());PT.range;const kT=sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getUTCHours());kT.range;const bp=sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/Ba,t=>t.getDate()-1);bp.range;const k0=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ba,t=>t.getUTCDate()-1);k0.range;const jB=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ba,t=>Math.floor(t/Ba));jB.range;function El(t){return sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/NT)}const R0=El(0),Ev=El(1),Kxe=El(2),Xxe=El(3),iu=El(4),Yxe=El(5),Qxe=El(6);R0.range;Ev.range;Kxe.range;Xxe.range;iu.range;Yxe.range;Qxe.range;function Sl(t){return sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NT)}const M0=Sl(0),Sv=Sl(1),Zxe=Sl(2),Jxe=Sl(3),au=Sl(4),e1e=Sl(5),t1e=Sl(6);M0.range;Sv.range;Zxe.range;Jxe.range;au.range;e1e.range;t1e.range;const RT=sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RT.range;const MT=sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MT.range;const Ua=sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ua.range;const Va=sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Va.range;function NB(t,e,n,r,i,a){const o=[[Cs,1,ba],[Cs,5,5*ba],[Cs,15,15*ba],[Cs,30,30*ba],[a,1,Kr],[a,5,5*Kr],[a,15,15*Kr],[a,30,30*Kr],[i,1,xa],[i,3,3*xa],[i,6,6*xa],[i,12,12*xa],[r,1,Ba],[r,2,2*Ba],[n,1,NT],[e,1,wP],[e,3,3*wP],[t,1,Dx]];function s(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:l(u,f,d),v=m?m.range(u,+f+1):[];return h?v.reverse():v}function l(u,f,d){const h=Math.abs(f-u)/d,m=vT(([,,_])=>_).right(o,h);if(m===o.length)return t.every(ew(u/Dx,f/Dx,d));if(m===0)return Av.every(Math.max(ew(u,f,d),1));const[v,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(x)}return[s,l]}const[n1e,r1e]=NB(Va,MT,M0,jB,kT,IT),[i1e,a1e]=NB(Ua,RT,R0,bp,PT,CT);function $x(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function o1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Df(i),f=$f(i),d=Df(a),h=$f(a),m=Df(o),v=$f(o),x=Df(s),_=$f(s),y=Df(l),g=$f(l),b={a:B,A:V,b:H,B:te,c:null,d:jP,e:jP,f:N1e,g:B1e,G:V1e,H:T1e,I:O1e,j:j1e,L:CB,m:C1e,M:I1e,p:ne,q,Q:IP,s:PP,S:P1e,u:k1e,U:R1e,V:M1e,w:D1e,W:$1e,x:null,X:null,y:L1e,Y:U1e,Z:z1e,"%":CP},O={a:L,A:W,b:ee,B:xe,c:null,d:NP,e:NP,f:G1e,g:n_e,G:i_e,H:F1e,I:H1e,j:q1e,L:PB,m:W1e,M:K1e,p:ct,q:Ue,Q:IP,s:PP,S:X1e,u:Y1e,U:Q1e,V:Z1e,w:J1e,W:e_e,x:null,X:null,y:t_e,Y:r_e,Z:a_e,"%":CP},E={a:I,A:T,b:P,B:k,c:z,d:TP,e:TP,f:w1e,g:SP,G:EP,H:OP,I:OP,j:y1e,L:_1e,m:v1e,M:b1e,p:j,q:g1e,Q:E1e,s:S1e,S:x1e,u:f1e,U:d1e,V:h1e,w:u1e,W:p1e,x:U,X:D,y:SP,Y:EP,Z:m1e,"%":A1e};b.x=N(n,b),b.X=N(r,b),b.c=N(e,b),O.x=N(n,O),O.X=N(r,O),O.c=N(e,O);function N(re,fe){return function(me){var Y=[],Se=-1,ge=0,he=re.length,Te,tt,Nt;for(me instanceof Date||(me=new Date(+me));++Se<he;)re.charCodeAt(Se)===37&&(Y.push(re.slice(ge,Se)),(tt=AP[Te=re.charAt(++Se)])!=null?Te=re.charAt(++Se):tt=Te==="e"?" ":"0",(Nt=fe[Te])&&(Te=Nt(me,tt)),Y.push(Te),ge=Se+1);return Y.push(re.slice(ge,Se)),Y.join("")}}function S(re,fe){return function(me){var Y=Mf(1900,void 0,1),Se=w(Y,re,me+="",0),ge,he;if(Se!=me.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(fe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ge=Lx(Mf(Y.y,0,1)),he=ge.getUTCDay(),ge=he>4||he===0?Sv.ceil(ge):Sv(ge),ge=k0.offset(ge,(Y.V-1)*7),Y.y=ge.getUTCFullYear(),Y.m=ge.getUTCMonth(),Y.d=ge.getUTCDate()+(Y.w+6)%7):(ge=$x(Mf(Y.y,0,1)),he=ge.getDay(),ge=he>4||he===0?Ev.ceil(ge):Ev(ge),ge=bp.offset(ge,(Y.V-1)*7),Y.y=ge.getFullYear(),Y.m=ge.getMonth(),Y.d=ge.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),he="Z"in Y?Lx(Mf(Y.y,0,1)).getUTCDay():$x(Mf(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(he+5)%7:Y.w+Y.U*7-(he+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Lx(Y)):$x(Y)}}function w(re,fe,me,Y){for(var Se=0,ge=fe.length,he=me.length,Te,tt;Se<ge;){if(Y>=he)return-1;if(Te=fe.charCodeAt(Se++),Te===37){if(Te=fe.charAt(Se++),tt=E[Te in AP?fe.charAt(Se++):Te],!tt||(Y=tt(re,me,Y))<0)return-1}else if(Te!=me.charCodeAt(Y++))return-1}return Y}function j(re,fe,me){var Y=u.exec(fe.slice(me));return Y?(re.p=f.get(Y[0].toLowerCase()),me+Y[0].length):-1}function I(re,fe,me){var Y=m.exec(fe.slice(me));return Y?(re.w=v.get(Y[0].toLowerCase()),me+Y[0].length):-1}function T(re,fe,me){var Y=d.exec(fe.slice(me));return Y?(re.w=h.get(Y[0].toLowerCase()),me+Y[0].length):-1}function P(re,fe,me){var Y=y.exec(fe.slice(me));return Y?(re.m=g.get(Y[0].toLowerCase()),me+Y[0].length):-1}function k(re,fe,me){var Y=x.exec(fe.slice(me));return Y?(re.m=_.get(Y[0].toLowerCase()),me+Y[0].length):-1}function z(re,fe,me){return w(re,e,fe,me)}function U(re,fe,me){return w(re,n,fe,me)}function D(re,fe,me){return w(re,r,fe,me)}function B(re){return o[re.getDay()]}function V(re){return a[re.getDay()]}function H(re){return l[re.getMonth()]}function te(re){return s[re.getMonth()]}function ne(re){return i[+(re.getHours()>=12)]}function q(re){return 1+~~(re.getMonth()/3)}function L(re){return o[re.getUTCDay()]}function W(re){return a[re.getUTCDay()]}function ee(re){return l[re.getUTCMonth()]}function xe(re){return s[re.getUTCMonth()]}function ct(re){return i[+(re.getUTCHours()>=12)]}function Ue(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var fe=N(re+="",b);return fe.toString=function(){return re},fe},parse:function(re){var fe=S(re+="",!1);return fe.toString=function(){return re},fe},utcFormat:function(re){var fe=N(re+="",O);return fe.toString=function(){return re},fe},utcParse:function(re){var fe=S(re+="",!0);return fe.toString=function(){return re},fe}}}var AP={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,s1e=/^%/,l1e=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function c1e(t){return t.replace(l1e,"\\$&")}function Df(t){return new RegExp("^(?:"+t.map(c1e).join("|")+")","i")}function $f(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function u1e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f1e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function d1e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function h1e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function p1e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function EP(t,e,n){var r=vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SP(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m1e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g1e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function v1e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TP(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function y1e(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function OP(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function b1e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function x1e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _1e(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function w1e(t,e,n){var r=vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function A1e(t,e,n){var r=s1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E1e(t,e,n){var r=vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function S1e(t,e,n){var r=vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jP(t,e){return We(t.getDate(),e,2)}function T1e(t,e){return We(t.getHours(),e,2)}function O1e(t,e){return We(t.getHours()%12||12,e,2)}function j1e(t,e){return We(1+bp.count(Ua(t),t),e,3)}function CB(t,e){return We(t.getMilliseconds(),e,3)}function N1e(t,e){return CB(t,e)+"000"}function C1e(t,e){return We(t.getMonth()+1,e,2)}function I1e(t,e){return We(t.getMinutes(),e,2)}function P1e(t,e){return We(t.getSeconds(),e,2)}function k1e(t){var e=t.getDay();return e===0?7:e}function R1e(t,e){return We(R0.count(Ua(t)-1,t),e,2)}function IB(t){var e=t.getDay();return e>=4||e===0?iu(t):iu.ceil(t)}function M1e(t,e){return t=IB(t),We(iu.count(Ua(t),t)+(Ua(t).getDay()===4),e,2)}function D1e(t){return t.getDay()}function $1e(t,e){return We(Ev.count(Ua(t)-1,t),e,2)}function L1e(t,e){return We(t.getFullYear()%100,e,2)}function B1e(t,e){return t=IB(t),We(t.getFullYear()%100,e,2)}function U1e(t,e){return We(t.getFullYear()%1e4,e,4)}function V1e(t,e){var n=t.getDay();return t=n>=4||n===0?iu(t):iu.ceil(t),We(t.getFullYear()%1e4,e,4)}function z1e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function NP(t,e){return We(t.getUTCDate(),e,2)}function F1e(t,e){return We(t.getUTCHours(),e,2)}function H1e(t,e){return We(t.getUTCHours()%12||12,e,2)}function q1e(t,e){return We(1+k0.count(Va(t),t),e,3)}function PB(t,e){return We(t.getUTCMilliseconds(),e,3)}function G1e(t,e){return PB(t,e)+"000"}function W1e(t,e){return We(t.getUTCMonth()+1,e,2)}function K1e(t,e){return We(t.getUTCMinutes(),e,2)}function X1e(t,e){return We(t.getUTCSeconds(),e,2)}function Y1e(t){var e=t.getUTCDay();return e===0?7:e}function Q1e(t,e){return We(M0.count(Va(t)-1,t),e,2)}function kB(t){var e=t.getUTCDay();return e>=4||e===0?au(t):au.ceil(t)}function Z1e(t,e){return t=kB(t),We(au.count(Va(t),t)+(Va(t).getUTCDay()===4),e,2)}function J1e(t){return t.getUTCDay()}function e_e(t,e){return We(Sv.count(Va(t)-1,t),e,2)}function t_e(t,e){return We(t.getUTCFullYear()%100,e,2)}function n_e(t,e){return t=kB(t),We(t.getUTCFullYear()%100,e,2)}function r_e(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function i_e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?au(t):au.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function a_e(){return"+0000"}function CP(){return"%"}function IP(t){return+t}function PP(t){return Math.floor(+t/1e3)}var Ll,RB,MB;o_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o_e(t){return Ll=o1e(t),RB=Ll.format,Ll.parse,MB=Ll.utcFormat,Ll.utcParse,Ll}function s_e(t){return new Date(t)}function l_e(t){return t instanceof Date?+t:+new Date(+t)}function DT(t,e,n,r,i,a,o,s,l,u){var f=wT(),d=f.invert,h=f.domain,m=u(".%L"),v=u(":%S"),x=u("%I:%M"),_=u("%I %p"),y=u("%a %d"),g=u("%b %d"),b=u("%B"),O=u("%Y");function E(N){return(l(N)<N?m:s(N)<N?v:o(N)<N?x:a(N)<N?_:r(N)<N?i(N)<N?y:g:n(N)<N?b:O)(N)}return f.invert=function(N){return new Date(d(N))},f.domain=function(N){return arguments.length?h(Array.from(N,l_e)):h().map(s_e)},f.ticks=function(N){var S=h();return t(S[0],S[S.length-1],N??10)},f.tickFormat=function(N,S){return S==null?E:u(S)},f.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?h(_B(S,N)):f},f.copy=function(){return yp(f,DT(t,e,n,r,i,a,o,s,l,u))},f}function c_e(){return ni.apply(DT(i1e,a1e,Ua,RT,R0,bp,PT,CT,Cs,RB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u_e(){return ni.apply(DT(n1e,r1e,Va,MT,M0,k0,kT,IT,Cs,MB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D0(){var t=0,e=1,n,r,i,a,o=Kn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var m,v;return arguments.length?([m,v]=h,o=d(m,v),u):[o(0),o(1)]}}return u.range=f(Ju),u.rangeRound=f(_T),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function is(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function DB(){var t=rs(D0()(Kn));return t.copy=function(){return is(t,DB())},Ga.apply(t,arguments)}function $B(){var t=ST(D0()).domain([1,10]);return t.copy=function(){return is(t,$B()).base(t.base())},Ga.apply(t,arguments)}function LB(){var t=TT(D0());return t.copy=function(){return is(t,LB()).constant(t.constant())},Ga.apply(t,arguments)}function $T(){var t=OT(D0());return t.copy=function(){return is(t,$T()).exponent(t.exponent())},Ga.apply(t,arguments)}function f_e(){return $T.apply(null,arguments).exponent(.5)}function BB(){var t=[],e=Kn;function n(r){if(r!=null&&!isNaN(r=+r))return e((gp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Qbe(t,a/r))},n.copy=function(){return BB(e).domain(t)},Ga.apply(n,arguments)}function $0(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Kn,f,d=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+f(x))-a)*(r*x<r*a?s:l),u(d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(u=x,m):u};function v(x){return function(_){var y,g,b;return arguments.length?([y,g,b]=_,u=Axe(x,[y,g,b]),m):[u(0),u(.5),u(1)]}}return m.range=v(Ju),m.rangeRound=v(_T),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return f=x,i=x(t),a=x(e),o=x(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function UB(){var t=rs($0()(Kn));return t.copy=function(){return is(t,UB())},Ga.apply(t,arguments)}function VB(){var t=ST($0()).domain([.1,1,10]);return t.copy=function(){return is(t,VB()).base(t.base())},Ga.apply(t,arguments)}function zB(){var t=TT($0());return t.copy=function(){return is(t,zB()).constant(t.constant())},Ga.apply(t,arguments)}function LT(){var t=OT($0());return t.copy=function(){return is(t,LT()).exponent(t.exponent())},Ga.apply(t,arguments)}function d_e(){return LT.apply(null,arguments).exponent(.5)}const kP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oh,scaleDiverging:UB,scaleDivergingLog:VB,scaleDivergingPow:LT,scaleDivergingSqrt:d_e,scaleDivergingSymlog:zB,scaleIdentity:xB,scaleImplicit:tw,scaleLinear:wv,scaleLog:wB,scaleOrdinal:yT,scalePoint:wd,scalePow:jT,scaleQuantile:SB,scaleQuantize:TB,scaleRadial:EB,scaleSequential:DB,scaleSequentialLog:$B,scaleSequentialPow:$T,scaleSequentialQuantile:BB,scaleSequentialSqrt:f_e,scaleSequentialSymlog:LB,scaleSqrt:Gxe,scaleSymlog:AB,scaleThreshold:OB,scaleTime:c_e,scaleUtc:u_e,tickFormat:bB},Symbol.toStringTag,{value:"Module"}));var h_e=Hu;function p_e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!h_e(o):n(o,s)))var s=o,l=a}return l}var L0=p_e;function m_e(t,e){return t>e}var FB=m_e,g_e=L0,v_e=FB,y_e=Zu;function b_e(t){return t&&t.length?g_e(t,y_e,v_e):void 0}var x_e=b_e;const xo=Qe(x_e);function __e(t,e){return t<e}var HB=__e,w_e=L0,A_e=HB,E_e=Zu;function S_e(t){return t&&t.length?w_e(t,E_e,A_e):void 0}var T_e=S_e;const B0=Qe(T_e);var O_e=ZS,j_e=ea,N_e=Z5,C_e=fr;function I_e(t,e){var n=C_e(t)?O_e:N_e;return n(t,j_e(e))}var P_e=I_e,k_e=Y5,R_e=P_e;function M_e(t,e){return k_e(R_e(t,e),1)}var D_e=M_e;const $_e=Qe(D_e);var L_e=hT;function B_e(t,e){return L_e(t,e)}var U_e=B_e;const al=Qe(U_e);var ef=1e9,V_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UT,Et=!0,Zr="[DecimalError] ",Hs=Zr+"Invalid argument: ",BT=Zr+"Exponent out of range: ",tf=Math.floor,As=Math.pow,z_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,fn=1e7,gt=7,qB=9007199254740991,Tv=tf(qB/gt),ce={};ce.absoluteValue=ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ce.comparedTo=ce.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ce.decimalPlaces=ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ce.dividedBy=ce.div=function(t){return ja(this,new this.constructor(t))};ce.dividedToIntegerBy=ce.idiv=function(t){var e=this,n=e.constructor;return lt(ja(e,new n(t),0,1),n.precision)};ce.equals=ce.eq=function(t){return!this.cmp(t)};ce.exponent=function(){return Kt(this)};ce.greaterThan=ce.gt=function(t){return this.cmp(t)>0};ce.greaterThanOrEqualTo=ce.gte=function(t){return this.cmp(t)>=0};ce.isInteger=ce.isint=function(){return this.e>this.d.length-2};ce.isNegative=ce.isneg=function(){return this.s<0};ce.isPositive=ce.ispos=function(){return this.s>0};ce.isZero=function(){return this.s===0};ce.lessThan=ce.lt=function(t){return this.cmp(t)<0};ce.lessThanOrEqualTo=ce.lte=function(t){return this.cmp(t)<1};ce.logarithm=ce.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Er))throw Error(Zr+"NaN");if(n.s<1)throw Error(Zr+(n.s?"NaN":"-Infinity"));return n.eq(Er)?new r(0):(Et=!1,e=ja(fh(n,a),fh(t,a),a),Et=!0,lt(e,i))};ce.minus=ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KB(e,t):GB(e,(t.s=-t.s,t))};ce.modulo=ce.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zr+"NaN");return n.s?(Et=!1,e=ja(n,t,0,1).times(t),Et=!0,n.minus(e)):lt(new r(n),i)};ce.naturalExponential=ce.exp=function(){return WB(this)};ce.naturalLogarithm=ce.ln=function(){return fh(this)};ce.negated=ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ce.plus=ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GB(e,t):KB(e,(t.s=-t.s,t))};ce.precision=ce.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hs+t);if(e=Kt(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ce.squareRoot=ce.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Zr+"NaN")}for(t=Kt(s),Et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ri(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ja(s,a,o+2)).times(.5),Ri(a.d).slice(0,o)===(e=Ri(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(lt(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Et=!0,lt(r,n)};ce.times=ce.mul=function(t){var e,n,r,i,a,o,s,l,u,f=this,d=f.constructor,h=f.d,m=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,n=f.e+t.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%fn|0,e=s/fn|0;a[i]=(a[i]+e)%fn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Et?lt(t,d.precision):t};ce.toDecimalPlaces=ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Xi(t,0,ef),e===void 0?e=r.rounding:Xi(e,0,8),lt(n,t+Kt(n)+1,e))};ce.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ol(r,!0):(Xi(t,0,ef),e===void 0?e=i.rounding:Xi(e,0,8),r=lt(new i(r),t+1,e),n=ol(r,!0,t+1)),n};ce.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ol(i):(Xi(t,0,ef),e===void 0?e=a.rounding:Xi(e,0,8),r=lt(new a(i),t+Kt(i)+1,e),n=ol(r.abs(),!1,t+Kt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ce.toInteger=ce.toint=function(){var t=this,e=t.constructor;return lt(new e(t),Kt(t)+1,e.rounding)};ce.toNumber=function(){return+this};ce.toPower=ce.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Er);if(s=new l(s),!s.s){if(t.s<1)throw Error(Zr+"Infinity");return s}if(s.eq(Er))return s;if(r=l.precision,t.eq(Er))return lt(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=qB){for(i=new l(Er),e=Math.ceil(r/gt+4),Et=!1;n%2&&(i=i.times(s),MP(i.d,e)),n=tf(n/2),n!==0;)s=s.times(s),MP(s.d,e);return Et=!0,t.s<0?new l(Er).div(i):lt(i,r)}}else if(a<0)throw Error(Zr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Et=!1,i=t.times(fh(s,r+u)),Et=!0,i=WB(i),i.s=a,i};ce.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Kt(i),r=ol(i,n<=a.toExpNeg||n>=a.toExpPos)):(Xi(t,1,ef),e===void 0?e=a.rounding:Xi(e,0,8),i=lt(new a(i),t,e),n=Kt(i),r=ol(i,t<=n||n<=a.toExpNeg,t)),r};ce.toSignificantDigits=ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Xi(t,1,ef),e===void 0?e=r.rounding:Xi(e,0,8)),lt(new r(n),t,e)};ce.toString=ce.valueOf=ce.val=ce.toJSON=ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Kt(t),n=t.constructor;return ol(t,e<=n.toExpNeg||e>=n.toExpPos)};function GB(t,e){var n,r,i,a,o,s,l,u,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Et?lt(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(d/gt),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/fn|0,l[a]%=fn;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Et?lt(e,d):e}function Xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Hs+t)}function Ri(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=gt-r.length,n&&(a+=io(n)),a+=r;o=t[e],r=o+"",n=gt-r.length,n&&(a+=io(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ja=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%fn|0,o=a/fn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*fn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,d,h,m,v,x,_,y,g,b,O,E,N,S,w,j=r.constructor,I=r.s==i.s?1:-1,T=r.d,P=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(Zr+"Division by zero");for(l=r.e-i.e,S=P.length,E=T.length,m=new j(I),v=m.d=[],u=0;P[u]==(T[u]||0);)++u;if(P[u]>(T[u]||0)&&--l,a==null?g=a=j.precision:o?g=a+(Kt(r)-Kt(i))+1:g=a,g<0)return new j(0);if(g=g/gt+2|0,u=0,S==1)for(f=0,P=P[0],g++;(u<E||f)&&g--;u++)b=f*fn+(T[u]||0),v[u]=b/P|0,f=b%P|0;else{for(f=fn/(P[0]+1)|0,f>1&&(P=t(P,f),T=t(T,f),S=P.length,E=T.length),O=S,x=T.slice(0,S),_=x.length;_<S;)x[_++]=0;w=P.slice(),w.unshift(0),N=P[0],P[1]>=fn/2&&++N;do f=0,s=e(P,x,S,_),s<0?(y=x[0],S!=_&&(y=y*fn+(x[1]||0)),f=y/N|0,f>1?(f>=fn&&(f=fn-1),d=t(P,f),h=d.length,_=x.length,s=e(d,x,h,_),s==1&&(f--,n(d,S<h?w:P,h))):(f==0&&(s=f=1),d=P.slice()),h=d.length,h<_&&d.unshift(0),n(x,d,_),s==-1&&(_=x.length,s=e(P,x,S,_),s<1&&(f++,n(x,S<_?w:P,_))),_=x.length):s===0&&(f++,x=[0]),v[u++]=f,s&&x[0]?x[_++]=T[O]||0:(x=[T[O]],_=1);while((O++<E||x[0]!==void 0)&&g--)}return v[0]||v.shift(),m.e=l,lt(m,o?a+Kt(m)+1:a)}}();function WB(t,e){var n,r,i,a,o,s,l=0,u=0,f=t.constructor,d=f.precision;if(Kt(t)>16)throw Error(BT+Kt(t));if(!t.s)return new f(Er);for(Et=!1,s=d,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(As(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Er),f.precision=s;;){if(i=lt(i.times(t),s),n=n.times(++l),o=a.plus(ja(i,n,s)),Ri(o.d).slice(0,s)===Ri(a.d).slice(0,s)){for(;u--;)a=lt(a.times(a),s);return f.precision=d,e==null?(Et=!0,lt(a,d)):a}a=o}}function Kt(t){for(var e=t.e*gt,n=t.d[0];n>=10;n/=10)e++;return e}function Bx(t,e,n){if(e>t.LN10.sd())throw Et=!0,n&&(t.precision=n),Error(Zr+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function io(t){for(var e="";t--;)e+="0";return e}function fh(t,e){var n,r,i,a,o,s,l,u,f,d=1,h=10,m=t,v=m.d,x=m.constructor,_=x.precision;if(m.s<1)throw Error(Zr+(m.s?"NaN":"-Infinity"));if(m.eq(Er))return new x(0);if(e==null?(Et=!1,u=_):u=e,m.eq(10))return e==null&&(Et=!0),Bx(x,u);if(u+=h,x.precision=u,n=Ri(v),r=n.charAt(0),a=Kt(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Ri(m.d),r=n.charAt(0),d++;a=Kt(m),r>1?(m=new x("0."+n),a++):m=new x(r+"."+n.slice(1))}else return l=Bx(x,u+2,_).times(a+""),m=fh(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=_,e==null?(Et=!0,lt(m,_)):m;for(s=o=m=ja(m.minus(Er),m.plus(Er),u),f=lt(m.times(m),u),i=3;;){if(o=lt(o.times(f),u),l=s.plus(ja(o,new x(i),u)),Ri(l.d).slice(0,u)===Ri(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Bx(x,u+2,_).times(a+""))),s=ja(s,new x(d),u),x.precision=_,e==null?(Et=!0,lt(s,_)):s;s=l,i+=2}}function RP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=tf(n/gt),t.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gt;r<i;)t.d.push(+e.slice(r,r+=gt));e=e.slice(r),r=gt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Et&&(t.e>Tv||t.e<-Tv))throw Error(BT+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,a,o,s,l,u,f,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=gt,i=e,u=d[f=0];else{if(f=Math.ceil((r+1)/gt),a=d.length,f>=a)return t;for(u=a=d[f],o=1;a>=10;a/=10)o++;r%=gt,i=r-gt+o}if(n!==void 0&&(a=As(10,o-i-1),s=u/a%10|0,l=e<0||d[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/As(10,o-i):0:d[f-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Kt(t),d.length=1,e=e-a-1,d[0]=As(10,(gt-e%gt)%gt),t.e=tf(-e/gt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=f,a=1,f--):(d.length=f+1,a=As(10,gt-r),d[f]=i>0?(u/As(10,o-i)%As(10,i)|0)*a:0),l)for(;;)if(f==0){(d[0]+=a)==fn&&(d[0]=1,++t.e);break}else{if(d[f]+=a,d[f]!=fn)break;d[f--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Et&&(t.e>Tv||t.e<-Tv))throw Error(BT+Kt(t));return t}function KB(t,e){var n,r,i,a,o,s,l,u,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Et?lt(e,m):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(m/gt),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=fn-1;--l[a],l[i]+=fn}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Et?lt(e,m):e):new h(0)}function ol(t,e,n){var r,i=Kt(t),a=Ri(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+io(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+io(-i-1)+a,n&&(r=n-o)>0&&(a+=io(r))):i>=o?(a+=io(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+io(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=io(r))),t.s<0?"-"+a:a}function MP(t,e){if(t.length>e)return t.length=e,!0}function XB(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Hs+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return RP(o,a.toString())}else if(typeof a!="string")throw Error(Hs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,z_e.test(a))RP(o,a);else throw Error(Hs+a)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XB,i.config=i.set=F_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function F_e(t){if(!t||typeof t!="object")throw Error(Zr+"Object expected");var e,n,r,i=["precision",1,ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Hs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hs+n+": "+r);return this}var UT=XB(V_e);Er=new UT(1);const it=UT;function H_e(t){return K_e(t)||W_e(t)||G_e(t)||q_e()}function q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(t,e){if(t){if(typeof t=="string")return aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(t,e)}}function W_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function K_e(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X_e=function(e){return e},YB={},QB=function(e){return e===YB},DP=function(e){return function n(){return arguments.length===0||arguments.length===1&&QB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Y_e=function t(e,n){return e===1?n:DP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==YB}).length;return o>=e?n.apply(void 0,i):t(e-o,DP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(d){return QB(d)?l.shift():d});return n.apply(void 0,H_e(f).concat(l))}))})},U0=function(e){return Y_e(e.length,e)},ow=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Q_e=U0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Z_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return X_e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},sw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function J_e(t){var e;return t===0?e=1:e=Math.floor(new it(t).abs().log(10).toNumber())+1,e}function ewe(t,e,n){for(var r=new it(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var twe=U0(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),nwe=U0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),rwe=U0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const V0={rangeStep:ewe,getDigitCount:J_e,interpolateNumber:twe,uninterpolateNumber:nwe,uninterpolateTruncation:rwe};function lw(t){return owe(t)||awe(t)||JB(t)||iwe()}function iwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function owe(t){if(Array.isArray(t))return cw(t)}function dh(t,e){return cwe(t)||lwe(t,e)||JB(t,e)||swe()}function swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function cwe(t){if(Array.isArray(t))return t}function e8(t){var e=dh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function t8(t,e,n){if(t.lte(0))return new it(0);var r=V0.getDigitCount(t.toNumber()),i=new it(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new it(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new it(Math.ceil(l))}function uwe(t,e,n){var r=1,i=new it(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new it(10).pow(V0.getDigitCount(t)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new it(Math.floor(t)))}else t===0?i=new it(Math.floor((e-1)/2)):n||(i=new it(Math.floor(t)));var o=Math.floor((e-1)/2),s=Z_e(Q_e(function(l){return i.add(new it(l-o).mul(r)).toNumber()}),ow);return s(0,e)}function n8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var a=t8(new it(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new it(0):(o=new it(t).add(e).div(2),o=o.sub(new it(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new it(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?n8(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new it(s).mul(a)),tickMax:o.add(new it(l).mul(a))})}function fwe(t){var e=dh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=e8([n,r]),l=dh(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(lw(ow(0,i-1).map(function(){return 1/0}))):[].concat(lw(ow(0,i-1).map(function(){return-1/0})),[f]);return n>r?sw(d):d}if(u===f)return uwe(u,i,a);var h=n8(u,f,o,a),m=h.step,v=h.tickMin,x=h.tickMax,_=V0.rangeStep(v,x.add(new it(.1).mul(m)),m);return n>r?sw(_):_}function dwe(t,e){var n=dh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=e8([r,i]),s=dh(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),d=t8(new it(u).sub(l).div(f-1),a,0),h=[].concat(lw(V0.rangeStep(new it(l),new it(u).sub(new it(.99).mul(d)),d)),[u]);return r>i?sw(h):h}var hwe=ZB(fwe),pwe=ZB(dwe),mwe="Invariant failed";function sl(t,e){throw new Error(mwe)}var gwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function vwe(t,e){return _we(t)||xwe(t,e)||bwe(t,e)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t,e){if(t){if(typeof t=="string")return $P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(t,e)}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _we(t){if(Array.isArray(t))return t}function wwe(t,e){if(t==null)return{};var n=Awe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Awe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ewe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Swe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function Twe(t,e,n){return e&&Swe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Owe(t,e,n){return e=jv(e),jwe(t,r8()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function jwe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(t)}function Nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r8=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function Cwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function i8(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=Iwe(t,"string");return ou(e)=="symbol"?e:e+""}function Iwe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xp=function(t){function e(){return Ewe(this,e),Owe(this,e,arguments)}return Cwe(e,t),Twe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,d=r.yAxis,h=wwe(r,gwe),m=de(h,!1);this.props.direction==="x"&&f.type!=="number"&&sl();var v=l.map(function(x){var _=u(x,s),y=_.x,g=_.y,b=_.value,O=_.errorVal;if(!O)return null;var E=[],N,S;if(Array.isArray(O)){var w=vwe(O,2);N=w[0],S=w[1]}else N=S=O;if(a==="vertical"){var j=f.scale,I=g+i,T=I+o,P=I-o,k=j(b-N),z=j(b+S);E.push({x1:z,y1:T,x2:z,y2:P}),E.push({x1:k,y1:I,x2:z,y2:I}),E.push({x1:k,y1:T,x2:k,y2:P})}else if(a==="horizontal"){var U=d.scale,D=y+i,B=D-o,V=D+o,H=U(b-N),te=U(b+S);E.push({x1:B,y1:te,x2:V,y2:te}),E.push({x1:D,y1:H,x2:D,y2:te}),E.push({x1:B,y1:H,x2:V,y2:H})}return $.createElement(Be,Ov({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},m),E.map(function(ne){return $.createElement("line",Ov({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return $.createElement(Be,{className:"recharts-errorBars"},v)}}])}($.Component);i8(xp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});i8(xp,"displayName","ErrorBar");function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){Pwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pwe(t,e,n){return e=kwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kwe(t){var e=Rwe(t,"string");return hh(e)=="symbol"?e:e+""}function Rwe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=_r(n,Tc);if(!o)return null;var s=Tc.defaultProps,l=s!==void 0?ps(ps({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,d){var h=d.item,m=d.props,v=m.sectors||m.data||[];return f.concat(v.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(f){var d=f.item,h=d.type.defaultProps,m=h!==void 0?ps(ps({},h),d.props):{},v=m.dataKey,x=m.name,_=m.legendType,y=m.hide;return{inactive:y,dataKey:v,type:l.iconType||_||"square",color:VT(d),value:x||v,payload:m}}),ps(ps(ps({},l),Tc.getWithHeight(o,i)),{},{payload:u,item:o})};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function BP(t){return Lwe(t)||$we(t)||Dwe(t)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwe(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function $we(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lwe(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jc(t,e,n){return e=Bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bwe(t){var e=Uwe(t,"string");return ph(e)=="symbol"?e:e+""}function Uwe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zt(t,e,n){return je(t)||je(e)?n:nn(e)?Pr(t,e,n):be(e)?e(t):n}function Ad(t,e,n,r){var i=$_e(t,function(s){return zt(s,e)});if(n==="number"){var a=i.filter(function(s){return ie(s)||parseFloat(s)});return a.length?[B0(a),xo(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!je(s)}):i;return o.map(function(s){return nn(s)||s instanceof Date?s:""})}var Vwe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Gn(d-f)!==Gn(h-d)){var v=[];if(Gn(h-d)===Gn(l[1]-l[0])){m=h;var x=d+l[1]-l[0];v[0]=Math.min(x,(x+f)/2),v[1]=Math.max(x,(x+f)/2)}else{m=f;var _=h+l[1]-l[0];v[0]=Math.min(d,(_+d)/2),v[1]=Math.max(d,(_+d)/2)}var y=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var g=Math.min(f,h),b=Math.max(f,h);if(e>(g+d)/2&&e<=(b+d)/2){o=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},VT=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},zwe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,d=Object.keys(f),h=0,m=d.length;h<m;h++){var v=f[d[h]],x=v.items,_=v.cateAxisId,y=x.filter(function(S){return Oa(S.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,b=g!==void 0?kt(kt({},g),y[0].props):y[0].props,O=b.barSize,E=b[_];o[E]||(o[E]=[]);var N=je(O)?n:O;o[E].push({item:y[0],stackList:y.slice(1),barSize:je(N)?void 0:Wn(N,r,0)})}}return o},Fwe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Wn(n,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/l,v=o.reduce(function(O,E){return O+E.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&m>0&&(h=!0,m*=.9,v=l*m);var x=(i-v)/2>>0,_={offset:x-u,size:0};f=o.reduce(function(O,E){var N={item:E.item,position:{offset:_.offset+_.size+u,size:h?m:E.barSize}},S=[].concat(BP(O),[N]);return _=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(w){S.push({item:w,position:_})}),S},d)}else{var y=Wn(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var g=(i-2*y-(l-1)*u)/l;g>1&&(g>>=0);var b=s===+s?Math.min(g,s):g;f=o.reduce(function(O,E,N){var S=[].concat(BP(O),[{item:E.item,position:{offset:y+(g+u)*N+(g-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(w){S.push({item:w,position:S[S.length-1].position})}),S},d)}return f},Hwe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=o8({children:a,legendWidth:l});if(u){var f=i||{},d=f.width,h=f.height,m=u.align,v=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&m!=="center"&&ie(e[m]))return kt(kt({},e),{},jc({},m,e[m]+(d||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&v!=="middle"&&ie(e[v]))return kt(kt({},e),{},jc({},v,e[v]+(h||0)))}return e},qwe=function(e,n,r){return je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},s8=function(e,n,r,i,a){var o=n.props.children,s=kr(o,xp).filter(function(u){return qwe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var d=zt(f,r);if(je(d))return u;var h=Array.isArray(d)?[B0(d),xo(d)]:[d,d],m=l.reduce(function(v,x){var _=zt(f,x,0),y=h[0]-Math.abs(Array.isArray(_)?_[0]:_),g=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(y,v[0]),Math.max(g,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Gwe=function(e,n,r,i,a){var o=n.map(function(s){return s8(e,s,r,a,i)}).filter(function(s){return!je(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},l8=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&s8(e,l,u,i)||Ad(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},c8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},u8=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},_a=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Gn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return f.filter(function(d){return!Xu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},Ux=new WeakMap,Sm=function(e,n){if(typeof n!="function")return e;Ux.has(e)||Ux.set(e,new WeakMap);var r=Ux.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},f8=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:oh(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:wv(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wd(),realScaleType:"point"}:a==="category"?{scale:oh(),realScaleType:"band"}:{scale:wv(),realScaleType:"linear"};if(nl(i)){var l="scale".concat(S0(i));return{scale:(kP[l]||wd)(),realScaleType:kP[l]?l:"point"}}return be(i)?{scale:i}:{scale:wd(),realScaleType:"point"}},VP=1e-4,d8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-VP,o=Math.max(i[0],i[1])+VP,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},Wwe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Kwe=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(a[0]=r),(!ie(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Xwe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Xu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Ywe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Xu(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Qwe={sign:Xwe,expand:gfe,none:Qc,silhouette:vfe,wiggle:yfe,positive:Ywe},Zwe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Qwe[r],o=mfe().keys(i).value(function(s,l){return+zt(s,l,0)}).order(D_).offset(a);return o(e)},Jwe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(d,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?kt(kt({},h.type.defaultProps),h.props):h.props,x=v.stackId,_=v.hide;if(_)return d;var y=v[r],g=d[y]||{hasStack:!1,stackGroups:{}};if(nn(x)){var b=g.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[x]=b}else g.stackGroups[Al("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return kt(kt({},d),{},jc({},y,g))},l),f={};return Object.keys(u).reduce(function(d,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,_){var y=m.stackGroups[_];return kt(kt({},x),{},jc({},_,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Zwe(e,y.items,a)}))},v)}return kt(kt({},d),{},jc({},h,m))},f)},h8=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=hwe(u,a,s);return e.domain([B0(f),xo(f)]),{niceTicks:f}}if(a&&i==="number"){var d=e.domain(),h=pwe(d,a,s);return{niceTicks:h}}return null};function Nv(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!je(i[e.dataKey])){var s=tv(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=zt(i,je(o)?e.dataKey:o);return je(l)?null:e.scale(l)}var zP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=zt(o,n.dataKey,n.domain[s]);return je(l)?null:n.scale(l)-a/2+i},eAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},tAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(nn(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},nAe=function(e){return e.reduce(function(n,r){return[B0(r.concat([n[0]]).filter(ie)),xo(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},p8=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var d=nAe(f.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},FP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dw=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(FP.test(e[0])){var a=+FP.exec(e[0])[1];i[0]=n[0]-a}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(HP.test(e[1])){var o=+HP.exec(e[1])[1];i[1]=n[1]+o}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Cv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=mT(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},qP=function(e,n,r){return!e||!e.length||al(e,Pr(r,"type.defaultProps.domain"))?n:e},m8=function(e,n){var r=e.type.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return kt(kt({},de(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:VT(e),value:zt(n,i),type:l,payload:n,chartType:u,hide:f})};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){g8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g8(t,e,n){return e=rAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rAe(t){var e=iAe(t,"string");return mh(e)=="symbol"?e:e+""}function iAe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aAe(t,e){return cAe(t)||lAe(t,e)||sAe(t,e)||oAe()}function oAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sAe(t,e){if(t){if(typeof t=="string")return WP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WP(t,e)}}function WP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cAe(t){if(Array.isArray(t))return t}var Iv=Math.PI/180,uAe=function(e){return e*180/Math.PI},dt=function(e,n,r,i){return{x:e+Math.cos(-Iv*i)*r,y:n+Math.sin(-Iv*i)*r}},v8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},fAe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,f=Wn(e.cx,o,o/2),d=Wn(e.cy,s,s/2),h=v8(o,s,r),m=Wn(e.innerRadius,h,0),v=Wn(e.outerRadius,h,h*.8),x=Object.keys(n);return x.reduce(function(_,y){var g=n[y],b=g.domain,O=g.reversed,E;if(je(g.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[m,v]),O&&(E=[E[1],E[0]]);else{E=g.range;var N=E,S=aAe(N,2);l=S[0],u=S[1]}var w=f8(g,a),j=w.realScaleType,I=w.scale;I.domain(b).range(E),d8(I);var T=h8(I,ca(ca({},g),{},{realScaleType:j})),P=ca(ca(ca({},g),T),{},{range:E,radius:v,realScaleType:j,scale:I,cx:f,cy:d,innerRadius:m,outerRadius:v,startAngle:l,endAngle:u});return ca(ca({},_),{},g8({},y,P))},{})},dAe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},hAe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=dAe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:uAe(u),angleInRadian:u}},pAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},mAe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},KP=function(e,n){var r=e.x,i=e.y,a=hAe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=pAe(n),d=f.startAngle,h=f.endAngle,m=s,v;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=d}return v?ca(ca({},n),{},{radius:o,angle:mAe(m,n)}):null},y8=function(e){return!R.isValidElement(e)&&!be(e)&&typeof e!="boolean"?e.className:""};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}var gAe=["offset"];function vAe(t){return _Ae(t)||xAe(t)||bAe(t)||yAe()}function yAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bAe(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function xAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Ae(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wAe(t,e){if(t==null)return{};var n=AAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){EAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EAe(t,e,n){return e=SAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SAe(t){var e=TAe(t,"string");return gh(e)=="symbol"?e:e+""}function TAe(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}var OAe=function(e){var n=e.value,r=e.formatter,i=je(e.children)?n:e.children;return be(r)?r(i):i},jAe=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},NAe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,x=l.clockWise,_=(d+h)/2,y=jAe(m,v),g=y>=0?1:-1,b,O;i==="insideStart"?(b=m+g*o,O=x):i==="insideEnd"?(b=v-g*o,O=!x):i==="end"&&(b=v+g*o,O=x),O=y<=0?O:!O;var E=dt(u,f,_,b),N=dt(u,f,_,b+(O?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(O?0:1,`,
    `).concat(N.x,",").concat(N.y),w=je(e.id)?Al("recharts-radial-line-"):e.id;return $.createElement("text",vh({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:w,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(w)},n))},CAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,d=a.endAngle,h=(f+d)/2;if(i==="outside"){var m=dt(o,s,u+r,h),v=m.x,x=m.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,y=dt(o,s,_,h),g=y.x,b=y.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},IAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*i,m=d>0?"end":"start",v=d>0?"start":"end",x=u>=0?1:-1,_=x*i,y=x>0?"end":"start",g=x>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return Zt(Zt({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var O={x:s+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:v};return Zt(Zt({},O),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var E={x:s-_,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return Zt(Zt({},E),r?{width:Math.max(E.x-r.x,0),height:f}:{})}if(a==="right"){var N={x:s+u+_,y:l+f/2,textAnchor:g,verticalAnchor:"middle"};return Zt(Zt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:f}:{})}var S=r?{width:u,height:f}:{};return a==="insideLeft"?Zt({x:s+_,y:l+f/2,textAnchor:g,verticalAnchor:"middle"},S):a==="insideRight"?Zt({x:s+u-_,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideTop"?Zt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Zt({x:s+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:m},S):a==="insideTopLeft"?Zt({x:s+_,y:l+h,textAnchor:g,verticalAnchor:v},S):a==="insideTopRight"?Zt({x:s+u-_,y:l+h,textAnchor:y,verticalAnchor:v},S):a==="insideBottomLeft"?Zt({x:s+_,y:l+f-h,textAnchor:g,verticalAnchor:m},S):a==="insideBottomRight"?Zt({x:s+u-_,y:l+f-h,textAnchor:y,verticalAnchor:m},S):qu(a)&&(ie(a.x)||js(a.x))&&(ie(a.y)||js(a.y))?Zt({x:s+Wn(a.x,u),y:l+Wn(a.y,f),textAnchor:"end",verticalAnchor:"end"},S):Zt({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},S)},PAe=function(e){return"cx"in e&&ie(e.cx)};function pn(t){var e=t.offset,n=e===void 0?5:e,r=wAe(t,gAe),i=Zt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!a||je(s)&&je(l)&&!R.isValidElement(u)&&!be(u))return null;if(R.isValidElement(u))return R.cloneElement(u,i);var m;if(be(u)){if(m=R.createElement(u,i),R.isValidElement(m))return m}else m=OAe(i);var v=PAe(a),x=de(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NAe(i,m,x);var _=v?CAe(i):IAe(i);return $.createElement(il,vh({className:Ce("recharts-label",d)},x,_,{breakAll:h}),m)}pn.displayName="Label";var b8=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,d=e.x,h=e.y,m=e.top,v=e.left,x=e.width,_=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(ie(x)&&ie(_)){if(ie(d)&&ie(h))return{x:d,y:h,width:x,height:_};if(ie(m)&&ie(v))return{x:m,y:v,width:x,height:_}}return ie(d)&&ie(h)?{x:d,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},kAe=function(e,n){return e?e===!0?$.createElement(pn,{key:"label-implicit",viewBox:n}):nn(e)?$.createElement(pn,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===pn?R.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):be(e)?$.createElement(pn,{key:"label-implicit",content:e,viewBox:n}):qu(e)?$.createElement(pn,vh({viewBox:n},e,{key:"label-implicit"})):null:null},RAe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=b8(e),o=kr(i,pn).map(function(l,u){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=kAe(e.label,n||a);return[s].concat(vAe(o))};pn.parseViewBox=b8;pn.renderCallByParent=RAe;function MAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var DAe=MAe;const $Ae=Qe(DAe);function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}var LAe=["valueAccessor"],BAe=["data","dataKey","clockWise","id","textBreakAll"];function UAe(t){return HAe(t)||FAe(t)||zAe(t)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zAe(t,e){if(t){if(typeof t=="string")return pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pw(t,e)}}function FAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HAe(t){if(Array.isArray(t))return pw(t)}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){qAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qAe(t,e,n){return e=GAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GAe(t){var e=WAe(t,"string");return yh(e)=="symbol"?e:e+""}function WAe(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZP(t,e){if(t==null)return{};var n=KAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var XAe=function(e){return Array.isArray(e.value)?$Ae(e.value):e.value};function Fi(t){var e=t.valueAccessor,n=e===void 0?XAe:e,r=ZP(t,LAe),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=ZP(r,BAe);return!i||!i.length?null:$.createElement(Be,{className:"recharts-label-list"},i.map(function(f,d){var h=je(a)?n(f,d):zt(f&&f.payload,a),m=je(s)?{}:{id:"".concat(s,"-").concat(d)};return $.createElement(pn,Pv({},de(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:pn.parseViewBox(je(o)?f:QP(QP({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Fi.displayName="LabelList";function YAe(t,e){return t?t===!0?$.createElement(Fi,{key:"labelList-implicit",data:e}):$.isValidElement(t)||be(t)?$.createElement(Fi,{key:"labelList-implicit",data:e,content:t}):qu(t)?$.createElement(Fi,Pv({data:e},t,{key:"labelList-implicit"})):null:null}function QAe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=kr(r,Fi).map(function(o,s){return R.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=YAe(t.label,e);return[a].concat(UAe(i))}Fi.renderCallByParent=QAe;function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(this,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){ZAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZAe(t,e,n){return e=JAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JAe(t){var e=eEe(t,"string");return bh(e)=="symbol"?e:e+""}function eEe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tEe=function(e,n){var r=Gn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Tm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,d=Math.asin(l/f)/Iv,h=u?a:a+o*d,m=dt(n,r,f,h),v=dt(n,r,i,h),x=u?a-o*d:a,_=dt(n,r,f*Math.cos(d*Iv),x);return{center:m,circleTangency:v,lineTangency:_,theta:d}},x8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=tEe(o,s),u=o+l,f=dt(n,r,a,o),d=dt(n,r,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=dt(n,r,i,o),v=dt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},nEe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,d=Gn(f-u),h=Tm({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,x=h.theta,_=Tm({cx:n,cy:r,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),y=_.circleTangency,g=_.lineTangency,b=_.theta,O=l?Math.abs(u-f):Math.abs(u-f)-x-b;if(O<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):x8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var N=Tm({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=N.circleTangency,w=N.lineTangency,j=N.theta,I=Tm({cx:n,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=I.circleTangency,P=I.lineTangency,k=I.theta,z=l?Math.abs(u-f):Math.abs(u-f)-j-k;if(z<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},rEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_8=function(e){var n=ek(ek({},rEe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,d=n.endAngle,h=n.className;if(o<a||f===d)return null;var m=Ce("recharts-sector",h),v=o-a,x=Wn(s,v,0,!0),_;return x>0&&Math.abs(f-d)<360?_=nEe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):_=x8({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),$.createElement("path",mw({},de(n,!0),{className:m,d:_,role:"img"}))};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){iEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iEe(t,e,n){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aEe(t){var e=oEe(t,"string");return xh(e)=="symbol"?e:e+""}function oEe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rk={curveBasisClosed:ife,curveBasisOpen:afe,curveBasis:rfe,curveBumpX:Fue,curveBumpY:Hue,curveLinearClosed:ofe,curveLinear:O0,curveMonotoneX:sfe,curveMonotoneY:lfe,curveNatural:cfe,curveStep:ufe,curveStepAfter:dfe,curveStepBefore:ffe},Om=function(e){return e.x===+e.x&&e.y===+e.y},Lf=function(e){return e.x},Bf=function(e){return e.y},sEe=function(e,n){if(be(e))return e;var r="curve".concat(S0(e));return(r==="curveMonotone"||r==="curveBump")&&n?rk["".concat(r).concat(n==="vertical"?"Y":"X")]:rk[r]||O0},lEe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=sEe(r,s),d=u?a.filter(function(x){return Om(x)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(x){return Om(x)}):o,v=d.map(function(x,_){return nk(nk({},x),{},{base:m[_]})});return s==="vertical"?h=vm().y(Bf).x1(Lf).x0(function(x){return x.base.x}):h=vm().x(Lf).y1(Bf).y0(function(x){return x.base.y}),h.defined(Om).curve(f),h(v)}return s==="vertical"&&ie(o)?h=vm().y(Bf).x1(Lf).x0(o):ie(o)?h=vm().x(Lf).y1(Bf).y0(o):h=m5().x(Lf).y(Bf),h.defined(Om).curve(f),h(d)},qs=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?lEe(e):i;return $.createElement("path",gw({},de(e,!1),nv(e),{className:Ce("recharts-curve",n),d:o,ref:a}))},cEe=Object.getOwnPropertyNames,uEe=Object.getOwnPropertySymbols,fEe=Object.prototype.hasOwnProperty;function ik(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function jm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function ak(t){return cEe(t).concat(uEe(t))}var dEe=Object.hasOwn||function(t,e){return fEe.call(t,e)};function Tl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var hEe="__v",pEe="__o",mEe="_owner",ok=Object.getOwnPropertyDescriptor,sk=Object.keys;function gEe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function vEe(t,e){return Tl(t.getTime(),e.getTime())}function yEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bEe(t,e){return t===e}function lk(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,m=s.value;if(n.equals(h[0],m[0],l,d,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var xEe=Tl;function _Ee(t,e,n){var r=sk(t),i=r.length;if(sk(e).length!==i)return!1;for(;i-- >0;)if(!w8(t,e,n,r[i]))return!1;return!0}function Uf(t,e,n){var r=ak(t),i=r.length;if(ak(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!w8(t,e,n,a)||(o=ok(t,a),s=ok(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function wEe(t,e){return Tl(t.valueOf(),e.valueOf())}function AEe(t,e){return t.source===e.source&&t.flags===e.flags}function ck(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function EEe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function SEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function w8(t,e,n,r){return(r===mEe||r===pEe||r===hEe)&&(t.$$typeof||e.$$typeof)?!0:dEe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var TEe="[object Arguments]",OEe="[object Boolean]",jEe="[object Date]",NEe="[object Error]",CEe="[object Map]",IEe="[object Number]",PEe="[object Object]",kEe="[object RegExp]",REe="[object Set]",MEe="[object String]",DEe="[object URL]",$Ee=Array.isArray,uk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fk=Object.assign,LEe=Object.prototype.toString.call.bind(Object.prototype.toString);function BEe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,x,_){if(v===x)return!0;if(v==null||x==null)return!1;var y=typeof v;if(y!==typeof x)return!1;if(y!=="object")return y==="number"?o(v,x,_):y==="function"?i(v,x,_):!1;var g=v.constructor;if(g!==x.constructor)return!1;if(g===Object)return s(v,x,_);if($Ee(v))return e(v,x,_);if(uk!=null&&uk(v))return d(v,x,_);if(g===Date)return n(v,x,_);if(g===RegExp)return u(v,x,_);if(g===Map)return a(v,x,_);if(g===Set)return f(v,x,_);var b=LEe(v);return b===jEe?n(v,x,_):b===kEe?u(v,x,_):b===CEe?a(v,x,_):b===REe?f(v,x,_):b===PEe?typeof v.then!="function"&&typeof x.then!="function"&&s(v,x,_):b===DEe?h(v,x,_):b===NEe?r(v,x,_):b===TEe?s(v,x,_):b===OEe||b===IEe||b===MEe?l(v,x,_):!1}}function UEe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Uf:gEe,areDatesEqual:vEe,areErrorsEqual:yEe,areFunctionsEqual:bEe,areMapsEqual:r?ik(lk,Uf):lk,areNumbersEqual:xEe,areObjectsEqual:r?Uf:_Ee,arePrimitiveWrappersEqual:wEe,areRegExpsEqual:AEe,areSetsEqual:r?ik(ck,Uf):ck,areTypedArraysEqual:r?Uf:EEe,areUrlsEqual:SEe};if(n&&(i=fk({},i,n(i))),e){var a=jm(i.areArraysEqual),o=jm(i.areMapsEqual),s=jm(i.areObjectsEqual),l=jm(i.areSetsEqual);i=fk({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function VEe(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function zEe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var f=r(),d=f.cache,h=d===void 0?e?new WeakMap:void 0:d,m=f.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var FEe=as();as({strict:!0});as({circular:!0});as({circular:!0,strict:!0});as({createInternalComparator:function(){return Tl}});as({strict:!0,createInternalComparator:function(){return Tl}});as({circular:!0,createInternalComparator:function(){return Tl}});as({circular:!0,createInternalComparator:function(){return Tl},strict:!0});function as(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=UEe(t),l=BEe(s),u=r?r(l):VEe(l);return zEe({circular:n,comparator:l,createState:i,equals:u,strict:o})}function HEe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):HEe(i)};requestAnimationFrame(r)}function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function qEe(t){return XEe(t)||KEe(t)||WEe(t)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WEe(t,e){if(t){if(typeof t=="string")return hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XEe(t){if(Array.isArray(t))return t}function YEe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=qEe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){dk(i.bind(null,u),l);return}i(l),dk(i.bind(null,u));return}vw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){A8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A8(t,e,n){return e=QEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QEe(t){var e=ZEe(t,"string");return _h(e)==="symbol"?e:String(e)}function ZEe(t,e){if(_h(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JEe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},eSe=function(e){return e},tSe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ed=function(e,n){return Object.keys(n).reduce(function(r,i){return mk(mk({},r),{},A8({},i,e(i,n[i])))},{})},gk=function(e,n,r){return e.map(function(i){return"".concat(tSe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nSe(t,e){return aSe(t)||iSe(t,e)||E8(t,e)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function aSe(t){if(Array.isArray(t))return t}function oSe(t){return cSe(t)||lSe(t)||E8(t)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function lSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cSe(t){if(Array.isArray(t))return yw(t)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kv=1e-4,S8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},T8=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},vk=function(e,n){return function(r){var i=S8(e,n);return T8(i,r)}},uSe=function(e,n){return function(r){var i=S8(e,n),a=[].concat(oSe(i.map(function(o,s){return o*s}).slice(1)),[0]);return T8(a,r)}},yk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=nSe(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=vk(i,o),h=vk(a,s),m=uSe(i,o),v=function(y){return y>1?1:y<0?0:y},x=function(y){for(var g=y>1?1:y,b=g,O=0;O<8;++O){var E=d(b)-g,N=m(b);if(Math.abs(E-g)<kv||N<kv)return h(b);b=v(b-E/N)}return h(b)};return x.isStepper=!1,x},fSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,d,h){var m=-(f-d)*r,v=h*a,x=h+(m-v)*s/1e3,_=h*s/1e3+f;return Math.abs(_-d)<kv&&Math.abs(x)<kv?[d,0]:[_,x]};return l.isStepper=!0,l.dt=s,l},dSe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yk(i);case"spring":return fSe();default:if(i.split("(")[0]==="cubic-bezier")return yk(i)}return typeof i=="function"?i:null};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function bk(t){return mSe(t)||pSe(t)||O8(t)||hSe()}function hSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mSe(t){if(Array.isArray(t))return xw(t)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bw(t,e,n){return e=gSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gSe(t){var e=vSe(t,"string");return wh(e)==="symbol"?e:String(e)}function vSe(t,e){if(wh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ySe(t,e){return _Se(t)||xSe(t,e)||O8(t,e)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _Se(t){if(Array.isArray(t))return t}var Rv=function(e,n,r){return e+(n-e)*r},_w=function(e){var n=e.from,r=e.to;return n!==r},wSe=function t(e,n,r){var i=Ed(function(a,o){if(_w(o)){var s=e(o.from,o.to,o.velocity),l=ySe(s,2),u=l[0],f=l[1];return xn(xn({},o),{},{from:u,velocity:f})}return o},n);return r<1?Ed(function(a,o){return _w(o)?xn(xn({},o),{},{velocity:Rv(o.velocity,i[a].velocity,r),from:Rv(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const ASe=function(t,e,n,r,i){var a=JEe(t,e),o=a.reduce(function(_,y){return xn(xn({},_),{},bw({},y,[t[y],e[y]]))},{}),s=a.reduce(function(_,y){return xn(xn({},_),{},bw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,f,d=function(){return null},h=function(){return Ed(function(y,g){return g.from},s)},m=function(){return!Object.values(s).filter(_w).length},v=function(y){u||(u=y);var g=y-u,b=g/n.dt;s=wSe(n,s,b),i(xn(xn(xn({},t),e),h())),u=y,m()||(l=requestAnimationFrame(d))},x=function(y){f||(f=y);var g=(y-f)/r,b=Ed(function(E,N){return Rv.apply(void 0,bk(N).concat([n(g)]))},o);if(i(xn(xn(xn({},t),e),b)),g<1)l=requestAnimationFrame(d);else{var O=Ed(function(E,N){return Rv.apply(void 0,bk(N).concat([n(1)]))},o);i(xn(xn(xn({},t),e),O))}};return d=n.isStepper?v:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var ESe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function SSe(t,e){if(t==null)return{};var n=TSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vx(t){return CSe(t)||NSe(t)||jSe(t)||OSe()}function OSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jSe(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function NSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CSe(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){Qf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qf(t,e,n){return e=j8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ISe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j8(r.key),r)}}function kSe(t,e,n){return e&&PSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j8(t){var e=RSe(t,"string");return su(e)==="symbol"?e:String(e)}function RSe(t,e){if(su(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function DSe(t){var e=$Se();return function(){var r=Mv(t),i;if(e){var a=Mv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ew(this,i)}}function Ew(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sw(t)}function Sw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}var yi=function(t){MSe(n,t);var e=DSe(n);function n(r,i){var a;ISe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Sw(a)),a.changeStyle=a.changeStyle.bind(Sw(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),Ew(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Ew(a);a.state={style:l?Qf({},l,u):u}}else a.state={style:{}};return a}return kSe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,d=a.from,h=this.state.style;if(s){if(!o){var m={style:l?Qf({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(m);return}if(!(FEe(i.to,f)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||u?d:i.to;if(this.state&&h){var _={style:l?Qf({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(_)}this.runAnimation(ai(ai({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,m=ASe(o,s,dSe(u),l,this.changeStyle),v=function(){a.stopJSAnimation=m()};this.manager.start([h,f,v,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,m=function(x,_,y){if(y===0)return x;var g=_.duration,b=_.easing,O=b===void 0?"ease":b,E=_.style,N=_.properties,S=_.onAnimationEnd,w=y>0?o[y-1]:_,j=N||Object.keys(E);if(typeof O=="function"||O==="spring")return[].concat(Vx(x),[a.runJSAnimation.bind(a,{from:w.style,to:E,duration:g,easing:O}),g]);var I=gk(j,g,O),T=ai(ai(ai({},w.style),E),{},{transition:I});return[].concat(Vx(x),[T,g,S]).filter(eSe)};return this.manager.start([l].concat(Vx(o.reduce(m,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=YEe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=s?Qf({},s,l):l,_=gk(Object.keys(x),o,u);v.start([f,a,ai(ai({},x),{},{transition:_}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=SSe(i,ESe),u=R.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var d=function(m){var v=m.props,x=v.style,_=x===void 0?{}:x,y=v.className,g=R.cloneElement(m,ai(ai({},l),{},{style:ai(ai({},_),f),className:y}));return g};return u===1?d(R.Children.only(a)):$.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);yi.displayName="Animate";yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yi.propTypes={from:ve.oneOfType([ve.object,ve.string]),to:ve.oneOfType([ve.object,ve.string]),attributeName:ve.string,duration:ve.number,begin:ve.number,easing:ve.oneOfType([ve.string,ve.func]),steps:ve.arrayOf(ve.shape({duration:ve.number.isRequired,style:ve.object.isRequired,easing:ve.oneOfType([ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ve.func]),properties:ve.arrayOf("string"),onAnimationEnd:ve.func})),children:ve.oneOfType([ve.node,ve.func]),isActive:ve.bool,canBegin:ve.bool,onAnimationEnd:ve.func,shouldReAnimate:ve.bool,onAnimationStart:ve.func,onAnimationReStart:ve.func};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function LSe(t,e){return zSe(t)||VSe(t,e)||USe(t,e)||BSe()}function BSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(t,e){if(t){if(typeof t=="string")return wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(t,e)}}function wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zSe(t){if(Array.isArray(t))return t}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){FSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FSe(t,e,n){return e=HSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HSe(t){var e=qSe(t,"string");return Ah(e)=="symbol"?e:e+""}function qSe(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sk=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,m=4;h<m;h++)d[h]=a[h]>o?o:a[h];f="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),f+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),f+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),f+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);f="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},GSe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=f&&i>=d&&i<=h}return!1},WSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zT=function(e){var n=Ek(Ek({},WSe),e),r=R.useRef(),i=R.useState(-1),a=LSe(i,2),o=a[0],s=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,f=n.width,d=n.height,h=n.radius,m=n.className,v=n.animationEasing,x=n.animationDuration,_=n.animationBegin,y=n.isAnimationActive,g=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=Ce("recharts-rectangle",m);return g?$.createElement(yi,{canBegin:o>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:x,animationEasing:v,isActive:g},function(O){var E=O.width,N=O.height,S=O.x,w=O.y;return $.createElement(yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:y,easing:v},$.createElement("path",Dv({},de(n,!0),{className:b,d:Sk(S,w,E,N,h),ref:r})))}):$.createElement("path",Dv({},de(n,!0),{className:b,d:Sk(l,u,f,d,h)}))},KSe=["points","className","baseLinePoints","connectNulls"];function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}function XSe(t,e){if(t==null)return{};var n=YSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tk(t){return eTe(t)||JSe(t)||ZSe(t)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZSe(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function JSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eTe(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ok=function(e){return e&&e.x===+e.x&&e.y===+e.y},tTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Ok(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ok(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Sd=function(e,n){var r=tTe(e);n&&(r=[r.reduce(function(a,o){return[].concat(Tk(a),Tk(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},nTe=function(e,n,r){var i=Sd(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sd(n.reverse(),r).slice(1))},rTe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=XSe(e,KSe);if(!n||!n.length)return null;var s=Ce("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=nTe(n,i,a);return $.createElement("g",{className:s},$.createElement("path",cc({},de(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?$.createElement("path",cc({},de(o,!0),{fill:"none",d:Sd(n,a)})):null,l?$.createElement("path",cc({},de(o,!0),{fill:"none",d:Sd(i,a)})):null)}var f=Sd(n,a);return $.createElement("path",cc({},de(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:s,d:f}))};function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}var _p=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ce("recharts-dot",a);return n===+n&&r===+r&&i===+i?$.createElement("circle",Ow({},de(e,!1),nv(e),{className:o,cx:n,cy:r,r:i})):null};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}var iTe=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){oTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oTe(t,e,n){return e=sTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sTe(t){var e=lTe(t,"string");return Eh(e)=="symbol"?e:e+""}function lTe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cTe(t,e){if(t==null)return{};var n=uTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fTe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},dTe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,d=f===void 0?0:f,h=e.height,m=h===void 0?0:h,v=e.className,x=cTe(e,iTe),_=aTe({x:r,y:a,top:s,left:u,width:d,height:m},x);return!ie(r)||!ie(a)||!ie(d)||!ie(m)||!ie(s)||!ie(u)?null:$.createElement("path",jw({},de(_,!0),{className:Ce("recharts-cross",v),d:fTe(r,a,d,m,s,u)}))},hTe=L0,pTe=FB,mTe=ea;function gTe(t,e){return t&&t.length?hTe(t,mTe(e),pTe):void 0}var vTe=gTe;const yTe=Qe(vTe);var bTe=L0,xTe=ea,_Te=HB;function wTe(t,e){return t&&t.length?bTe(t,xTe(e),_Te):void 0}var ATe=wTe;const ETe=Qe(ATe);var STe=["cx","cy","angle","ticks","axisLine"],TTe=["ticks","tick","angle","tickFormatter","stroke"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Td.apply(this,arguments)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ck(t,e){if(t==null)return{};var n=OTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ik(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C8(r.key),r)}}function NTe(t,e,n){return e&&Ik(t.prototype,e),n&&Ik(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CTe(t,e,n){return e=$v(e),ITe(t,N8()?Reflect.construct(e,n||[],$v(t).constructor):e.apply(t,n))}function ITe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PTe(t)}function PTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function kTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function z0(t,e,n){return e=C8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C8(t){var e=RTe(t,"string");return lu(e)=="symbol"?e:e+""}function RTe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F0=function(t){function e(){return jTe(this,e),CTe(this,e,arguments)}return kTe(e,t),NTe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return dt(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=yTe(s,function(f){return f.coordinate||0}),u=ETe(s,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=Ck(r,STe),f=s.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),d=dt(i,a,f[0],o),h=dt(i,a,f[1],o),m=ms(ms(ms({},de(u,!1)),{},{fill:"none"},de(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return $.createElement("line",Td({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,f=Ck(i,TTe),d=this.getTickTextAnchor(),h=de(f,!1),m=de(o,!1),v=a.map(function(x,_){var y=r.getTickValueCoord(x),g=ms(ms(ms(ms({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:_},y),{},{payload:x});return $.createElement(Be,Td({className:Ce("recharts-polar-radius-axis-tick",y8(o)),key:"tick-".concat(x.coordinate)},rl(r.props,x,_)),e.renderTickItem(o,g,l?l(x.value,_):x.value))});return $.createElement(Be,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:$.createElement(Be,{className:Ce("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):be(r)?o=r(i):o=$.createElement(il,Td({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(R.PureComponent);z0(F0,"displayName","PolarRadiusAxis");z0(F0,"axisType","radiusAxis");z0(F0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(this,arguments)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){H0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P8(r.key),r)}}function DTe(t,e,n){return e&&kk(t.prototype,e),n&&kk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Te(t,e,n){return e=Lv(e),LTe(t,I8()?Reflect.construct(e,n||[],Lv(t).constructor):e.apply(t,n))}function LTe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BTe(t)}function BTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I8=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function UTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function H0(t,e,n){return e=P8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P8(t){var e=VTe(t,"string");return cu(e)=="symbol"?e:e+""}function VTe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zTe=Math.PI/180,FTe=1e-5,q0=function(t){function e(){return MTe(this,e),$Te(this,e,arguments)}return UTe(e,t),DTe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,f=u||8,d=dt(a,o,s,r.coordinate),h=dt(a,o,s+(l==="inner"?-1:1)*f,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*zTe),o;return a>FTe?o=i==="outer"?"start":"end":a<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=gs(gs({},de(this.props,!1)),{},{fill:"none"},de(s,!1));if(l==="circle")return $.createElement(_p,Es({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var f=this.props.ticks,d=f.map(function(h){return dt(i,a,o,h.coordinate)});return $.createElement(rTe,Es({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,f=de(this.props,!1),d=de(o,!1),h=gs(gs({},f),{},{fill:"none"},de(s,!1)),m=a.map(function(v,x){var _=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),g=gs(gs(gs({textAnchor:y},f),{},{stroke:"none",fill:u},d),{},{index:x,payload:v,x:_.x2,y:_.y2});return $.createElement(Be,Es({className:Ce("recharts-polar-angle-axis-tick",y8(o)),key:"tick-".concat(v.coordinate)},rl(r.props,v,x)),s&&$.createElement("line",Es({className:"recharts-polar-angle-axis-tick-line"},h,_)),o&&e.renderTickItem(o,g,l?l(v.value,x):v.value))});return $.createElement(Be,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:$.createElement(Be,{className:Ce("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):be(r)?o=r(i):o=$.createElement(il,Es({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(R.PureComponent);H0(q0,"displayName","PolarAngleAxis");H0(q0,"axisType","angleAxis");H0(q0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var HTe=B5,qTe=HTe(Object.getPrototypeOf,Object),GTe=qTe,WTe=Ha,KTe=GTe,XTe=qa,YTe="[object Object]",QTe=Function.prototype,ZTe=Object.prototype,k8=QTe.toString,JTe=ZTe.hasOwnProperty,e2e=k8.call(Object);function t2e(t){if(!XTe(t)||WTe(t)!=YTe)return!1;var e=KTe(t);if(e===null)return!0;var n=JTe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&k8.call(n)==e2e}var n2e=t2e;const r2e=Qe(n2e);var i2e=Ha,a2e=qa,o2e="[object Boolean]";function s2e(t){return t===!0||t===!1||a2e(t)&&i2e(t)==o2e}var l2e=s2e;const c2e=Qe(l2e);function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function u2e(t,e){return p2e(t)||h2e(t,e)||d2e(t,e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(t,e){if(t){if(typeof t=="string")return Rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rk(t,e)}}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function p2e(t){if(Array.isArray(t))return t}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){m2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m2e(t,e,n){return e=g2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2e(t){var e=v2e(t,"string");return Sh(e)=="symbol"?e:e+""}function v2e(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $k=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},y2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b2e=function(e){var n=Dk(Dk({},y2e),e),r=R.useRef(),i=R.useState(-1),a=u2e(i,2),o=a[0],s=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,d=n.lowerWidth,h=n.height,m=n.className,v=n.animationEasing,x=n.animationDuration,_=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var g=Ce("recharts-trapezoid",m);return y?$.createElement(yi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:u},duration:x,animationEasing:v,isActive:y},function(b){var O=b.upperWidth,E=b.lowerWidth,N=b.height,S=b.x,w=b.y;return $.createElement(yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:v},$.createElement("path",Bv({},de(n,!0),{className:g,d:$k(S,w,O,E,N),ref:r})))}):$.createElement("g",null,$.createElement("path",Bv({},de(n,!0),{className:g,d:$k(l,u,f,d,h)})))},x2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function _2e(t,e){if(t==null)return{};var n=w2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){A2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2e(t,e,n){return e=E2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2e(t){var e=S2e(t,"string");return Th(e)=="symbol"?e:e+""}function S2e(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T2e(t,e){return Uv(Uv({},e),t)}function O2e(t,e){return t==="symbols"}function Bk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(zT,n);case"trapezoid":return $.createElement(b2e,n);case"sector":return $.createElement(_8,n);case"symbols":if(O2e(e))return $.createElement(sT,n);break;default:return null}}function j2e(t){return R.isValidElement(t)?t.props:t}function R8(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?T2e:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=_2e(t,x2e),u;if(R.isValidElement(e))u=R.cloneElement(e,Uv(Uv({},l),j2e(e)));else if(be(e))u=e(l);else if(r2e(e)&&!c2e(e)){var f=i(e,l);u=$.createElement(Bk,{shapeType:n,elementProps:f})}else{var d=l;u=$.createElement(Bk,{shapeType:n,elementProps:d})}return s?$.createElement(Be,{className:o},u):u}function G0(t,e){return e!=null&&"trapezoids"in t.props}function W0(t,e){return e!=null&&"sectors"in t.props}function Oh(t,e){return e!=null&&"points"in t.props}function N2e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function C2e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function I2e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function P2e(t,e){var n;return G0(t,e)?n=N2e:W0(t,e)?n=C2e:Oh(t,e)&&(n=I2e),n}function k2e(t,e){var n;return G0(t,e)?n="trapezoids":W0(t,e)?n="sectors":Oh(t,e)&&(n="points"),n}function R2e(t,e){if(G0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(W0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Oh(t,e)?e.payload:{}}function M2e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=k2e(n,e),a=R2e(n,e),o=r.filter(function(l,u){var f=al(a,l),d=n.props[i].filter(function(v){var x=P2e(n,e);return x(v,e)}),h=n.props[i].indexOf(d[d.length-1]),m=u===h;return f&&m}),s=r.indexOf(o[o.length-1]);return s}var rg;function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(this,arguments)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D8(r.key),r)}}function $2e(t,e,n){return e&&Vk(t.prototype,e),n&&Vk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L2e(t,e,n){return e=Vv(e),B2e(t,M8()?Reflect.construct(e,n||[],Vv(t).constructor):e.apply(t,n))}function B2e(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U2e(t)}function U2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(t)}function V2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function Gr(t,e,n){return e=D8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8(t){var e=z2e(t,"string");return uu(e)=="symbol"?e:e+""}function z2e(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=function(t){function e(n){var r;return D2e(this,e),r=L2e(this,e,[n]),Gr(r,"pieRef",null),Gr(r,"sectorRefs",[]),Gr(r,"id",Al("recharts-pie-")),Gr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),be(i)&&i()}),Gr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return V2e(e,t),$2e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,f=de(this.props,!1),d=de(o,!1),h=de(s,!1),m=o&&o.offsetRadius||20,v=r.map(function(x,_){var y=(x.startAngle+x.endAngle)/2,g=dt(x.cx,x.cy,x.outerRadius+m,y),b=ut(ut(ut(ut({},f),x),{},{stroke:"none"},d),{},{index:_,textAnchor:e.getTextAnchor(g.x,x.cx)},g),O=ut(ut(ut(ut({},f),x),{},{fill:"none",stroke:x.fill},h),{},{index:_,points:[dt(x.cx,x.cy,x.outerRadius,y),g]}),E=l;return je(l)&&je(u)?E="value":je(l)&&(E=u),$.createElement(Be,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},s&&e.renderLabelLineItem(s,O,"line"),e.renderLabelItem(o,b,zt(x,E)))});return $.createElement(Be,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(f),h=l&&i.hasActiveIndex()?l:null,m=d?o:h,v=ut(ut({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return $.createElement(Be,uc({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},rl(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),$.createElement(R8,uc({option:m,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state,h=d.prevSectors,m=d.prevIsAnimationActive;return $.createElement(yi,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,_=[],y=a&&a[0],g=y.startAngle;return a.forEach(function(b,O){var E=h&&h[O],N=O>0?Pr(b,"paddingAngle",0):0;if(E){var S=en(E.endAngle-E.startAngle,b.endAngle-b.startAngle),w=ut(ut({},b),{},{startAngle:g+N,endAngle:g+S(x)+N});_.push(w),g=w.endAngle}else{var j=b.endAngle,I=b.startAngle,T=en(0,j-I),P=T(x),k=ut(ut({},b),{},{startAngle:g+N,endAngle:g+P+N});_.push(k),g=k.endAngle}}),$.createElement(Be,null,r.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!al(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,f=i.cy,d=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!ie(u)||!ie(f)||!ie(d)||!ie(h))return null;var x=Ce("recharts-pie",s);return $.createElement(Be,{tabIndex:this.props.rootTabIndex,className:x,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),pn.renderCallByParent(this.props,null,!1),(!m||v)&&Fi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);if(be(r))return r(i);var o=Ce("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(qs,uc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if($.isValidElement(r))return $.cloneElement(r,i);var o=a;if(be(r)&&(o=r(i),$.isValidElement(o)))return o;var s=Ce("recharts-pie-label-text",typeof r!="boolean"&&!be(r)?r.className:"");return $.createElement(il,uc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(R.PureComponent);rg=bi;Gr(bi,"displayName","Pie");Gr(bi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ns.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gr(bi,"parseDeltaAngle",function(t,e){var n=Gn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Gr(bi,"getRealPieData",function(t){var e=t.data,n=t.children,r=de(t,!1),i=kr(n,nu);return e&&e.length?e.map(function(a,o){return ut(ut(ut({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return ut(ut({},r),a.props)}):[]});Gr(bi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=v8(i,a),s=r+Wn(t.cx,i,i/2),l=n+Wn(t.cy,a,a/2),u=Wn(t.innerRadius,o,0),f=Wn(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:f,maxRadius:d}});Gr(bi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ut(ut({},e.type.defaultProps),e.props):e.props,i=rg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,f=r.nameKey,d=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),v=rg.parseCoordinateOfPie(r,n),x=rg.parseDeltaAngle(o,s),_=Math.abs(x),y=u;je(u)&&je(d)?(pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):je(u)&&(pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var g=i.filter(function(w){return zt(w,y,0)!==0}).length,b=(_>=360?g:g-1)*l,O=_-g*m-b,E=i.reduce(function(w,j){var I=zt(j,y,0);return w+(ie(I)?I:0)},0),N;if(E>0){var S;N=i.map(function(w,j){var I=zt(w,y,0),T=zt(w,f,j),P=(ie(I)?I:0)/E,k;j?k=S.endAngle+Gn(x)*l*(I!==0?1:0):k=o;var z=k+Gn(x)*((I!==0?m:0)+P*O),U=(k+z)/2,D=(v.innerRadius+v.outerRadius)/2,B=[{name:T,value:I,payload:w,dataKey:y,type:h}],V=dt(v.cx,v.cy,D,U);return S=ut(ut(ut({percent:P,cornerRadius:a,name:T,tooltipPayload:B,midAngle:U,middleRadius:D,tooltipPosition:V},w),v),{},{value:zt(w,y),startAngle:k,endAngle:z,payload:w,paddingAngle:Gn(x)*l}),S})}return ut(ut({},v),{},{sectors:N,data:i})});var F2e=Math.ceil,H2e=Math.max;function q2e(t,e,n,r){for(var i=-1,a=H2e(F2e((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var G2e=q2e,W2e=iB,K2e=1/0,X2e=17976931348623157e292;function Y2e(t){if(!t)return t===0?t:0;if(t=W2e(t),t===K2e||t===-1/0){var e=t<0?-1:1;return e*X2e}return t===t?t:0}var $8=Y2e,Q2e=G2e,Z2e=I0,zx=$8;function J2e(t){return function(e,n,r){return r&&typeof r!="number"&&Z2e(e,n,r)&&(n=r=void 0),e=zx(e),n===void 0?(n=e,e=0):n=zx(n),r=r===void 0?e<n?1:-1:zx(r),Q2e(e,n,r,t)}}var eOe=J2e,tOe=eOe,nOe=tOe(),rOe=nOe;const zv=Qe(rOe);function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){L8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L8(t,e,n){return e=iOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iOe(t){var e=aOe(t,"string");return jh(e)=="symbol"?e:e+""}function aOe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oOe=["Webkit","Moz","O","ms"],sOe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=oOe.reduce(function(a,o){return Fk(Fk({},a),{},L8({},o+r,n))},{});return i[e]=n,i};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U8(r.key),r)}}function cOe(t,e,n){return e&&qk(t.prototype,e),n&&qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uOe(t,e,n){return e=Hv(e),fOe(t,B8()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function fOe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dOe(t)}function dOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function hOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(t,e)}function br(t,e,n){return e=U8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U8(t){var e=pOe(t,"string");return fu(e)=="symbol"?e:e+""}function pOe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mOe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=wd().domain(zv(0,l)).range([a,a+o-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},Gk=function(e){return e.changedTouches&&!!e.changedTouches.length},du=function(t){function e(n){var r;return lOe(this,e),r=uOe(this,e,[n]),br(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),br(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),br(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),br(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),br(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),br(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),br(r,"handleSlideDragStart",function(i){var a=Gk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return hOe(e,t),cOe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,d=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,d),v=e.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:v===f?f:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=zt(a[r],s,r);return be(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,u+f-d-s,u+f-d-o):x<0&&(x=Math.max(x,u-o,u-s));var _=this.getIndex({startX:o+x,endX:s+x});(_.startIndex!==h||_.endIndex!==m)&&v&&v(_),this.setState({startX:o+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Gk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,m=f.travellerWidth,v=f.onChange,x=f.gap,_=f.data,y={startX:this.state.startX,endX:this.state.endX},g=r.pageX-a;g>0?g=Math.min(g,d+h-m-u):g<0&&(g=Math.max(g,d-u)),y[o]=u+g;var b=this.getIndex(y),O=b.startIndex,E=b.endIndex,N=function(){var w=_.length-1;return o==="startX"&&(s>l?O%x===0:E%x===0)||s<l&&E===w||o==="endX"&&(s>l?E%x===0:O%x===0)||s>l&&E===w};this.setState(br(br({},o,u+g),"brushMoveStartX",r.pageX),function(){v&&N()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(br({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,d=R.Children.only(u);return d?$.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,x=l.startIndex,_=l.endIndex,y=Math.max(r,this.props.x),g=Fx(Fx({},de(this.props,!1)),{},{x:y,y:u,width:f,height:d}),b=m||"Min value: ".concat((a=v[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[_])===null||o===void 0?void 0:o.name);return $.createElement(Be,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,g))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,d=f.startX,h=f.endX,m=5,v={pointerEvents:"none",fill:u};return $.createElement(Be,{className:"recharts-brush-texts"},$.createElement(il,Fv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-m,y:o+s/2},v),this.getTextOfTick(i)),$.createElement(il,Fv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+m,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,f=r.height,d=r.alwaysShowText,h=this.state,m=h.startX,v=h.endX,x=h.isTextActive,_=h.isSlideMoving,y=h.isTravellerMoving,g=h.isTravellerFocused;if(!i||!i.length||!ie(s)||!ie(l)||!ie(u)||!ie(f)||u<=0||f<=0)return null;var b=Ce("recharts-brush",a),O=$.Children.count(o)===1,E=sOe("userSelect","none");return $.createElement(Be,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(x||_||y||g||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return $.isValidElement(r)?a=$.cloneElement(r,i):be(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Fx({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?mOe({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(R.PureComponent);br(du,"displayName","Brush");br(du,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gOe=pT;function vOe(t,e){var n;return gOe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var yOe=vOe,bOe=I5,xOe=ea,_Oe=yOe,wOe=fr,AOe=I0;function EOe(t,e,n){var r=wOe(t)?bOe:_Oe;return n&&AOe(t,e,n)&&(e=void 0),r(t,xOe(e))}var SOe=EOe;const TOe=Qe(SOe);var Hi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Wk=J5;function OOe(t,e,n){e=="__proto__"&&Wk?Wk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jOe=OOe,NOe=jOe,COe=Q5,IOe=ea;function POe(t,e){var n={};return e=IOe(e),COe(t,function(r,i,a){NOe(n,i,e(r,i,a))}),n}var kOe=POe;const ROe=Qe(kOe);function MOe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var DOe=MOe,$Oe=pT;function LOe(t,e){var n=!0;return $Oe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var BOe=LOe,UOe=DOe,VOe=BOe,zOe=ea,FOe=fr,HOe=I0;function qOe(t,e,n){var r=FOe(t)?UOe:VOe;return n&&HOe(t,e,n)&&(e=void 0),r(t,zOe(e))}var GOe=qOe;const V8=Qe(GOe);var WOe=["x","y"];function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){KOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KOe(t,e,n){return e=XOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XOe(t){var e=YOe(t,"string");return Nh(e)=="symbol"?e:e+""}function YOe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QOe(t,e){if(t==null)return{};var n=ZOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JOe(t,e){var n=t.x,r=t.y,i=QOe(t,WOe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Vf(Vf(Vf(Vf(Vf({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function Xk(t){return $.createElement(R8,kw({shapeType:"rectangle",propTransformer:JOe,activeClassName:"recharts-active-bar"},t))}var eje=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||sl(),n)}},tje=["value","background"],z8;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function nje(t,e){if(t==null)return{};var n=rje(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ije(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H8(r.key),r)}}function aje(t,e,n){return e&&Qk(t.prototype,e),n&&Qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oje(t,e,n){return e=Gv(e),sje(t,F8()?Reflect.construct(e,n||[],Gv(t).constructor):e.apply(t,n))}function sje(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lje(t)}function lje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F8=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(t)}function cje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function _o(t,e,n){return e=H8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H8(t){var e=uje(t,"string");return hu(e)=="symbol"?e:e+""}function uje(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ol=function(t){function e(){var n;ije(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=oje(this,e,[].concat(i)),_o(n,"state",{isAnimationFinished:!1}),_o(n,"id",Al("recharts-bar-")),_o(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),_o(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return cje(e,t),aje(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=de(this.props,!1);return r&&r.map(function(d,h){var m=h===l,v=m?u:o,x=Ht(Ht(Ht({},f),d),{},{isActive:m,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Be,qv({className:"recharts-bar-rectangle"},rl(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),$.createElement(Xk,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return $.createElement(yi,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,x=a.map(function(_,y){var g=h&&h[y];if(g){var b=en(g.x,_.x),O=en(g.y,_.y),E=en(g.width,_.width),N=en(g.height,_.height);return Ht(Ht({},_),{},{x:b(v),y:O(v),width:E(v),height:N(v)})}if(o==="horizontal"){var S=en(0,_.height),w=S(v);return Ht(Ht({},_),{},{y:_.y+_.height-w,height:w})}var j=en(0,_.width),I=j(v);return Ht(Ht({},_),{},{width:I})});return $.createElement(Be,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!al(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=de(this.props.background,!1);return a.map(function(u,f){u.value;var d=u.background,h=nje(u,tje);if(!d)return null;var m=Ht(Ht(Ht(Ht(Ht({},h),{},{fill:"#eee"},d),l),rl(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return $.createElement(Xk,qv({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=kr(f,xp);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(_,y){var g=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:g,errorVal:zt(_,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Be,v,d.map(function(x){return $.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,d=r.width,h=r.height,m=r.isAnimationActive,v=r.background,x=r.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,y=Ce("recharts-bar",o),g=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,O=g||b,E=je(x)?this.id:x;return $.createElement(Be,{className:y},g||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:g?u:u-d/2,y:b?f:f-h/2,width:g?d:d*2,height:b?h:h*2}))):null,$.createElement(Be,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,E),(!m||_)&&Fi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);z8=Ol;_o(Ol,"displayName","Bar");_o(Ol,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ns.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_o(Ol,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,m=Wwe(r,n);if(!m)return null;var v=e.layout,x=n.type.defaultProps,_=x!==void 0?Ht(Ht({},x),n.props):n.props,y=_.dataKey,g=_.children,b=_.minPointSize,O=v==="horizontal"?o:a,E=u?O.scale.domain():null,N=eAe({numericAxis:O}),S=kr(g,nu),w=d.map(function(j,I){var T,P,k,z,U,D;u?T=Kwe(u[f+I],E):(T=zt(j,y),Array.isArray(T)||(T=[N,T]));var B=eje(b,z8.defaultProps.minPointSize)(T[1],I);if(v==="horizontal"){var V,H=[o.scale(T[0]),o.scale(T[1])],te=H[0],ne=H[1];P=zP({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:j,index:I}),k=(V=ne??te)!==null&&V!==void 0?V:void 0,z=m.size;var q=te-ne;if(U=Number.isNaN(q)?0:q,D={x:P,y:o.y,width:z,height:o.height},Math.abs(B)>0&&Math.abs(U)<Math.abs(B)){var L=Gn(U||B)*(Math.abs(B)-Math.abs(U));k-=L,U+=L}}else{var W=[a.scale(T[0]),a.scale(T[1])],ee=W[0],xe=W[1];if(P=ee,k=zP({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:j,index:I}),z=xe-ee,U=m.size,D={x:a.x,y:k,width:a.width,height:U},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var ct=Gn(z||B)*(Math.abs(B)-Math.abs(z));z+=ct}}return Ht(Ht(Ht({},j),{},{x:P,y:k,width:z,height:U,value:u?T:T[1],payload:j,background:D},S&&S[I]&&S[I].props),{},{tooltipPayload:[m8(n,j)],tooltipPosition:{x:P+z/2,y:k+U/2}})});return Ht({data:w,layout:v},h)});function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q8(r.key),r)}}function dje(t,e,n){return e&&Zk(t.prototype,e),n&&Zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){K0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0(t,e,n){return e=q8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q8(t){var e=hje(t,"string");return Ch(e)=="symbol"?e:e+""}function hje(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!_r(u,Ol);return f.reduce(function(m,v){var x=n[v],_=x.orientation,y=x.domain,g=x.padding,b=g===void 0?{}:g,O=x.mirror,E=x.reversed,N="".concat(_).concat(O?"Mirror":""),S,w,j,I,T;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var P=y[1]-y[0],k=1/0,z=x.categoricalDomain.sort(Pce);if(z.forEach(function(W,ee){ee>0&&(k=Math.min((W||0)-(z[ee-1]||0),k))}),Number.isFinite(k)){var U=k/P,D=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(S=U*D/2),x.padding==="no-gap"){var B=Wn(e.barCategoryGap,U*D),V=U*D/2;S=V-B-(V-B)/D*B}}}i==="xAxis"?w=[r.left+(b.left||0)+(S||0),r.left+r.width-(b.right||0)-(S||0)]:i==="yAxis"?w=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(S||0),r.top+r.height-(b.bottom||0)-(S||0)]:w=x.range,E&&(w=[w[1],w[0]]);var H=f8(x,a,h),te=H.scale,ne=H.realScaleType;te.domain(y).range(w),d8(te);var q=h8(te,si(si({},x),{},{realScaleType:ne}));i==="xAxis"?(T=_==="top"&&!O||_==="bottom"&&O,j=r.left,I=d[N]-T*x.height):i==="yAxis"&&(T=_==="left"&&!O||_==="right"&&O,j=d[N]-T*x.width,I=r.top);var L=si(si(si({},x),q),{},{realScaleType:ne,x:j,y:I,scale:te,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return L.bandSize=Cv(L,q),!x.hide&&i==="xAxis"?d[N]+=(T?-1:1)*L.height:x.hide||(d[N]+=(T?-1:1)*L.width),si(si({},m),{},K0({},v,L))},{})},G8=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},pje=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return G8({x:n,y:r},{x:i,y:a})},W8=function(){function t(e){fje(this,t),this.scale=e}return dje(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();K0(W8,"EPS",1e-4);var HT=function(e){var n=Object.keys(e).reduce(function(r,i){return si(si({},r),{},K0({},i,W8.create(e[i])))},{});return si(si({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return ROe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return V8(i,function(a,o){return n[o].isInRange(a)})}})};function mje(t){return(t%180+180)%180}var gje=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mje(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},vje=ea,yje=mp,bje=N0;function xje(t){return function(e,n,r){var i=Object(e);if(!yje(e)){var a=vje(n);e=bje(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var _je=xje,wje=$8;function Aje(t){var e=wje(t),n=e%1;return e===e?n?e-n:e:0}var Eje=Aje,Sje=q5,Tje=ea,Oje=Eje,jje=Math.max;function Nje(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Oje(n);return i<0&&(i=jje(r+i,0)),Sje(t,Tje(e),i)}var Cje=Nje,Ije=_je,Pje=Cje,kje=Ije(Pje),Rje=kje;const Mje=Qe(Rje);var Dje=Dle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qT=R.createContext(void 0),GT=R.createContext(void 0),K8=R.createContext(void 0),X8=R.createContext({}),Y8=R.createContext(void 0),Q8=R.createContext(0),Z8=R.createContext(0),eR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=Dje(a);return $.createElement(qT.Provider,{value:r},$.createElement(GT.Provider,{value:i},$.createElement(X8.Provider,{value:a},$.createElement(K8.Provider,{value:f},$.createElement(Y8.Provider,{value:o},$.createElement(Q8.Provider,{value:u},$.createElement(Z8.Provider,{value:l},s)))))))},$je=function(){return R.useContext(Y8)},J8=function(e){var n=R.useContext(qT);n==null&&sl();var r=n[e];return r==null&&sl(),r},Lje=function(){var e=R.useContext(qT);return po(e)},Bje=function(){var e=R.useContext(GT),n=Mje(e,function(r){return V8(r.domain,Number.isFinite)});return n||po(e)},e9=function(e){var n=R.useContext(GT);n==null&&sl();var r=n[e];return r==null&&sl(),r},Uje=function(){var e=R.useContext(K8);return e},Vje=function(){return R.useContext(X8)},WT=function(){return R.useContext(Z8)},KT=function(){return R.useContext(Q8)};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function zje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function Hje(t,e,n){return e&&Fje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qje(t,e,n){return e=Wv(e),Gje(t,t9()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function Gje(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wje(t)}function Wje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function Kje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){XT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XT(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=Xje(t,"string");return pu(e)=="symbol"?e:e+""}function Xje(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yje(t,e){return eNe(t)||Jje(t,e)||Zje(t,e)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zje(t,e){if(t){if(typeof t=="string")return rR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eNe(t){if(Array.isArray(t))return t}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}var tNe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):be(e)?r=e(n):r=$.createElement("line",Dw({},n,{className:"recharts-reference-line-line"})),r},nNe=function(e,n,r,i,a,o,s,l,u){var f=a.x,d=a.y,h=a.width,m=a.height;if(r){var v=u.y,x=e.y.apply(v,{position:o});if(Hi(u,"discard")&&!e.y.isInRange(x))return null;var _=[{x:f+h,y:x},{x:f,y:x}];return l==="left"?_.reverse():_}if(n){var y=u.x,g=e.x.apply(y,{position:o});if(Hi(u,"discard")&&!e.x.isInRange(g))return null;var b=[{x:g,y:d+m},{x:g,y:d}];return s==="top"?b.reverse():b}if(i){var O=u.segment,E=O.map(function(N){return e.apply(N,{position:o})});return Hi(u,"discard")&&TOe(E,function(N){return!e.isInRange(N)})?null:E}return null};function rNe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=$je(),f=J8(i),d=e9(a),h=Uje();if(!u||!h)return null;pi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=HT({x:f.scale,y:d.scale}),v=nn(e),x=nn(n),_=r&&r.length===2,y=nNe(m,v,x,_,h,t.position,f.orientation,d.orientation,t);if(!y)return null;var g=Yje(y,2),b=g[0],O=b.x,E=b.y,N=g[1],S=N.x,w=N.y,j=Hi(t,"hidden")?"url(#".concat(u,")"):void 0,I=nR(nR({clipPath:j},de(t,!0)),{},{x1:O,y1:E,x2:S,y2:w});return $.createElement(Be,{className:Ce("recharts-reference-line",s)},tNe(o,I),pn.renderCallByParent(t,pje({x1:O,y1:E,x2:S,y2:w})))}var YT=function(t){function e(){return zje(this,e),qje(this,e,arguments)}return Kje(e,t),Hje(e,[{key:"render",value:function(){return $.createElement(rNe,this.props)}}])}($.Component);XT(YT,"displayName","ReferenceLine");XT(YT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function oNe(t,e,n){return e&&aNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sNe(t,e,n){return e=Kv(e),lNe(t,r9()?Reflect.construct(e,n||[],Kv(t).constructor):e.apply(t,n))}function lNe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cNe(t)}function cNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kv(t)}function uNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function X0(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=fNe(t,"string");return mu(e)=="symbol"?e:e+""}function fNe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dNe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=HT({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Hi(e,"discard")&&!o.isInRange(s)?null:s},Y0=function(t){function e(){return iNe(this,e),sNe(this,e,arguments)}return uNe(e,t),oNe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=nn(i),f=nn(a);if(pi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=dNe(this.props);if(!d)return null;var h=d.x,m=d.y,v=this.props,x=v.shape,_=v.className,y=Hi(this.props,"hidden")?"url(#".concat(l,")"):void 0,g=aR(aR({clipPath:y},de(this.props,!0)),{},{cx:h,cy:m});return $.createElement(Be,{className:Ce("recharts-reference-dot",_)},e.renderDot(x,g),pn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}($.Component);X0(Y0,"displayName","ReferenceDot");X0(Y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});X0(Y0,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):be(t)?n=t(e):n=$.createElement(_p,$w({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pNe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function mNe(t,e,n){return e&&pNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gNe(t,e,n){return e=Xv(e),vNe(t,a9()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function vNe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yNe(t)}function yNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function bNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function Q0(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=xNe(t,"string");return gu(e)=="symbol"?e:e+""}function xNe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Ne=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var h=HT({x:f.scale,y:d.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Hi(a,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:G8(m,v)},Z0=function(t){function e(){return hNe(this,e),gNe(this,e,arguments)}return bNe(e,t),mNe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;pi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=nn(i),h=nn(a),m=nn(o),v=nn(s),x=this.props.shape;if(!d&&!h&&!m&&!v&&!x)return null;var _=_Ne(d,h,m,v,this.props);if(!_&&!x)return null;var y=Hi(this.props,"hidden")?"url(#".concat(f,")"):void 0;return $.createElement(Be,{className:Ce("recharts-reference-area",l)},e.renderRect(x,sR(sR({clipPath:y},de(this.props,!0)),_)),pn.renderCallByParent(this.props,_))}}])}($.Component);Q0(Z0,"displayName","ReferenceArea");Q0(Z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Q0(Z0,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):be(t)?n=t(e):n=$.createElement(zT,Bw({},e,{className:"recharts-reference-area-rect"})),n});function s9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function wNe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return gje(r,n)}function ANe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Yv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ENe(t,e){return s9(t,e+1)}function SNe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:s9(r,u)};var x=l,_,y=function(){return _===void 0&&(_=n(v,x)),_},g=v.coordinate,b=l===0||Yv(t,g,y,f,s);b||(l=0,f=o,u+=1),b&&(f=g+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){TNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TNe(t,e,n){return e=ONe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ONe(t){var e=jNe(t,"string");return Ih(e)=="symbol"?e:e+""}function jNe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NNe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var m=a[h],v,x=function(){return v===void 0&&(v=n(m,h)),v};if(h===o-1){var _=t*(m.coordinate+t*x()/2-l);a[h]=m=kn(kn({},m),{},{tickCoord:_>0?m.coordinate-_*t:m.coordinate})}else a[h]=m=kn(kn({},m),{},{tickCoord:m.coordinate});var y=Yv(t,m.tickCoord,x,s,l);y&&(l=m.tickCoord-t*(x()/2+i),a[h]=kn(kn({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function CNe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=r[s-1],d=n(f,s-1),h=t*(f.coordinate+t*d/2-u);o[s-1]=f=kn(kn({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var m=Yv(t,f.tickCoord,function(){return d},l,u);m&&(u=f.tickCoord-t*(d/2+i),o[s-1]=kn(kn({},f),{},{isShow:!0}))}for(var v=a?s-1:s,x=function(g){var b=o[g],O,E=function(){return O===void 0&&(O=n(b,g)),O};if(g===0){var N=t*(b.coordinate-t*E()/2-l);o[g]=b=kn(kn({},b),{},{tickCoord:N<0?b.coordinate-N*t:b.coordinate})}else o[g]=b=kn(kn({},b),{},{tickCoord:b.coordinate});var S=Yv(t,b.tickCoord,E,l,u);S&&(l=b.tickCoord+t*(E()/2+i),o[g]=kn(kn({},b),{},{isShow:!0}))},_=0;_<v;_++)x(_);return o}function QT(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||ns.isSsr)return ENe(i,typeof l=="number"&&ie(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",v=f&&m==="width"?_d(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(b,O){var E=be(u)?u(b.value,O):b.value;return m==="width"?wNe(_d(E,{fontSize:e,letterSpacing:n}),v,d):_d(E,{fontSize:e,letterSpacing:n})[m]},_=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,y=ANe(a,_,m);return l==="equidistantPreserveStart"?SNe(_,y,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=CNe(_,y,x,i,o,l==="preserveStartEnd"):h=NNe(_,y,x,i,o),h.filter(function(g){return g.isShow}))}var INe=["viewBox"],PNe=["viewBox"],kNe=["ticks"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){ZT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hx(t,e){if(t==null)return{};var n=RNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c9(r.key),r)}}function DNe(t,e,n){return e&&uR(t.prototype,e),n&&uR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ne(t,e,n){return e=Qv(e),LNe(t,l9()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function LNe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BNe(t)}function BNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function UNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function ZT(t,e,n){return e=c9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c9(t){var e=VNe(t,"string");return vu(e)=="symbol"?e:e+""}function VNe(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nf=function(t){function e(n){var r;return MNe(this,e),r=$Ne(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return UNe(e,t),DNe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Hx(r,INe),s=this.props,l=s.viewBox,u=Hx(s,PNe);return!Sc(a,l)||!Sc(o,u)||!Sc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,m,v,x,_,y,g,b=d?-1:1,O=r.tickSize||f,E=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=v=r.coordinate,_=o+ +!d*l,x=_-b*O,g=x-b*h,y=E;break;case"left":x=_=r.coordinate,v=a+ +!d*s,m=v-b*O,y=m-b*h,g=E;break;case"right":x=_=r.coordinate,v=a+ +d*s,m=v+b*O,y=m+b*h,g=E;break;default:m=v=r.coordinate,_=o+ +d*l,x=_+b*O,g=x+b*h,y=E;break}return{line:{x1:m,y1:x,x2:v,y2:_},tick:{x:y,y:g}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,d=Vn(Vn(Vn({},de(this.props,!1)),de(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=Vn(Vn({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=Vn(Vn({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return $.createElement("line",fc({},d,{className:Ce("recharts-cartesian-axis-line",Pr(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,h=s.unit,m=QT(Vn(Vn({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=de(this.props,!1),y=de(f,!1),g=Vn(Vn({},_),{},{fill:"none"},de(l,!1)),b=m.map(function(O,E){var N=o.getTickLineCoord(O),S=N.line,w=N.tick,j=Vn(Vn(Vn(Vn({textAnchor:v,verticalAnchor:x},_),{},{stroke:"none",fill:u},y),w),{},{index:E,payload:O,visibleTicksCount:m.length,tickFormatter:d});return $.createElement(Be,fc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},rl(o.props,O,E)),l&&$.createElement("line",fc({},g,S,{className:Ce("recharts-cartesian-axis-tick-line",Pr(l,"className"))})),f&&e.renderTickItem(f,j,"".concat(be(d)?d(O.value,E):O.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,m=Hx(d,kNe),v=h;return be(l)&&(v=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!v||!v.length?null:$.createElement(Be,{className:Ce("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):be(r)?o=r(i):o=$.createElement(il,fc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(R.Component);ZT(nf,"displayName","CartesianAxis");ZT(nf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zNe=["x1","y1","x2","y2","key"],FNe=["offset"];function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){HNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HNe(t,e,n){return e=qNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qNe(t){var e=GNe(t,"string");return ll(e)=="symbol"?e:e+""}function GNe(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(this,arguments)}function dR(t,e){if(t==null)return{};var n=WNe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KNe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return $.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function u9(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(be(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=dR(e,zNe),u=de(l,!1);u.offset;var f=dR(u,FNe);n=$.createElement("line",Is({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function XNe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dn(Dn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return u9(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function YNe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dn(Dn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return u9(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function QNe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var v=!f[m+1],x=v?i+o-h:f[m+1]-h;if(x<=0)return null;var _=m%e.length;return $.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:x,width:a,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ZNe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var d=f.map(function(h,m){var v=!f[m+1],x=v?a+s-h:f[m+1]-h;if(x<=0)return null;var _=m%r.length;return $.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:x,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var JNe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return u8(QT(Dn(Dn(Dn({},nf.defaultProps),r),{},{ticks:_a(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},eCe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return u8(QT(Dn(Dn(Dn({},nf.defaultProps),r),{},{ticks:_a(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Bl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Zv(t){var e,n,r,i,a,o,s=WT(),l=KT(),u=Vje(),f=Dn(Dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bl.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),d=f.x,h=f.y,m=f.width,v=f.height,x=f.syncWithTicks,_=f.horizontalValues,y=f.verticalValues,g=Lje(),b=Bje();if(!ie(m)||m<=0||!ie(v)||v<=0||!ie(d)||d!==+d||!ie(h)||h!==+h)return null;var O=f.verticalCoordinatesGenerator||JNe,E=f.horizontalCoordinatesGenerator||eCe,N=f.horizontalPoints,S=f.verticalPoints;if((!N||!N.length)&&be(E)){var w=_&&_.length,j=E({yAxis:b?Dn(Dn({},b),{},{ticks:w?_:b.ticks}):void 0,width:s,height:l,offset:u},w?!0:x);pi(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ll(j),"]")),Array.isArray(j)&&(N=j)}if((!S||!S.length)&&be(O)){var I=y&&y.length,T=O({xAxis:g?Dn(Dn({},g),{},{ticks:I?y:g.ticks}):void 0,width:s,height:l,offset:u},I?!0:x);pi(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ll(T),"]")),Array.isArray(T)&&(S=T)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(KNe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),$.createElement(XNe,Is({},f,{offset:u,horizontalPoints:N,xAxis:g,yAxis:b})),$.createElement(YNe,Is({},f,{offset:u,verticalPoints:S,xAxis:g,yAxis:b})),$.createElement(QNe,Is({},f,{horizontalPoints:N})),$.createElement(ZNe,Is({},f,{verticalPoints:S})))}Zv.displayName="CartesianGrid";var tCe=["type","layout","connectNulls","ref"],nCe=["key"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function hR(t,e){if(t==null)return{};var n=rCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Od.apply(this,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ul(t){return sCe(t)||oCe(t)||aCe(t)||iCe()}function iCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function oCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sCe(t){if(Array.isArray(t))return zw(t)}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d9(r.key),r)}}function cCe(t,e,n){return e&&mR(t.prototype,e),n&&mR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uCe(t,e,n){return e=Jv(e),fCe(t,f9()?Reflect.construct(e,n||[],Jv(t).constructor):e.apply(t,n))}function fCe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dCe(t)}function dCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(t)}function hCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function li(t,e,n){return e=d9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9(t){var e=pCe(t,"string");return yu(e)=="symbol"?e:e+""}function pCe(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wp=function(t){function e(){var n;lCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=uCe(this,e,[].concat(i)),li(n,"state",{isAnimationFinished:!0,totalLength:0}),li(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),li(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(y,g){return y+g});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/u),d=o%u,h=s-o,m=[],v=0,x=0;v<l.length;x+=l[v],++v)if(x+l[v]>d){m=[].concat(Ul(l.slice(0,v)),[d-x]);break}var _=m.length%2===0?[0,h]:[h];return[].concat(Ul(e.repeat(l,f)),Ul(m),_).map(function(y){return"".concat(y,"px")}).join(", ")}),li(n,"id",Al("recharts-line-")),li(n,"pathRef",function(o){n.mainCurve=o}),li(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),li(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return hCe(e,t),cCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=kr(f,xp);if(!d)return null;var h=function(x,_){return{x:x.x,y:x.y,value:x.value,errorVal:zt(x.payload,_)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Be,m,d.map(function(v){return $.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,d=de(this.props,!1),h=de(l,!0),m=u.map(function(x,_){var y=yr(yr(yr({key:"dot-".concat(_),r:3},d),h),{},{index:_,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return e.renderDotItem(l,y)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Be,Od({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var d=hR(s,tCe),h=yr(yr(yr({},de(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:f});return $.createElement(qs,Od({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,v=o.animateNewValues,x=o.width,_=o.height,y=this.state,g=y.prevPoints,b=y.totalLength;return $.createElement(yi,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var E=O.t;if(g){var N=g.length/s.length,S=s.map(function(P,k){var z=Math.floor(k*N);if(g[z]){var U=g[z],D=en(U.x,P.x),B=en(U.y,P.y);return yr(yr({},P),{},{x:D(E),y:B(E)})}if(v){var V=en(x*2,P.x),H=en(_/2,P.y);return yr(yr({},P),{},{x:V(E),y:H(E)})}return yr(yr({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(S,r,i)}var w=en(0,b),j=w(E),I;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});I=a.getStrokeDasharray(j,b,T)}else I=a.generateSimpleStrokeDasharray(b,j);return a.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!u&&f>0||!al(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,d=i.top,h=i.left,m=i.width,v=i.height,x=i.isAnimationActive,_=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=Ce("recharts-line",l),O=u&&u.allowDataOverflow,E=f&&f.allowDataOverflow,N=O||E,S=je(_)?this.id:_,w=(r=de(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=w.r,I=j===void 0?3:j,T=w.strokeWidth,P=T===void 0?2:T,k=n5(o)?o:{},z=k.clipDot,U=z===void 0?!0:z,D=I*2+P;return $.createElement(Be,{className:b},O||E?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:O?h:h-m/2,y:E?d:d-v/2,width:O?m:m*2,height:E?v:v*2})),!U&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:h-D/2,y:d-D/2,width:m+D,height:v+D}))):null,!g&&this.renderCurve(N,S),this.renderErrorBar(N,S),(g||o)&&this.renderDots(N,U,S),(!x||y)&&Fi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ul(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Ul(o),Ul(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if($.isValidElement(r))a=$.cloneElement(r,i);else if(be(r))a=r(i);else{var o=i.key,s=hR(i,nCe),l=Ce("recharts-line-dot",typeof r!="boolean"?r.className:"");a=$.createElement(_p,Od({key:o},s,{className:l}))}return a}}])}(R.PureComponent);li(wp,"displayName","Line");li(wp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ns.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});li(wp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,d=l.map(function(h,m){var v=zt(h,o);return f==="horizontal"?{x:Nv({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:je(v)?null:r.scale(v),value:v,payload:h}:{x:je(v)?null:n.scale(v),y:Nv({axis:r,ticks:a,bandSize:s,entry:h,index:m}),value:v,payload:h}});return yr({points:d,layout:f},u)});var mCe=["layout","type","stroke","connectNulls","isRange","ref"],gCe=["key"],h9;function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function p9(t,e){if(t==null)return{};var n=vCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Mi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g9(r.key),r)}}function bCe(t,e,n){return e&&vR(t.prototype,e),n&&vR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xCe(t,e,n){return e=ey(e),_Ce(t,m9()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function _Ce(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wCe(t)}function wCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function Mi(t,e,n){return e=g9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9(t){var e=ECe(t,"string");return bu(e)=="symbol"?e:e+""}function ECe(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=function(t){function e(){var n;yCe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=xCe(this,e,[].concat(i)),Mi(n,"state",{isAnimationFinished:!0}),Mi(n,"id",Al("recharts-area-")),Mi(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),be(o)&&o()}),Mi(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),be(o)&&o()}),n}return ACe(e,t),bCe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,f=l.points,d=l.dataKey,h=de(this.props,!1),m=de(u,!0),v=f.map(function(_,y){var g=to(to(to({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:_.x,cy:_.y,dataKey:d,value:_.value,payload:_.payload,points:f});return e.renderDotItem(u,g)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Be,Ps({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,f=r*Math.abs(l-u),d=xo(o.map(function(h){return h.y||0}));return ie(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(xo(a.map(function(h){return h.y||0})),d)),ie(d)?$.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,f=r*Math.abs(l-u),d=xo(o.map(function(h){return h.x||0}));return ie(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(xo(a.map(function(h){return h.x||0})),d)),ie(d)?$.createElement("rect",{x:0,y:l<u?l:l-f,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,l=s.layout,u=s.type,f=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var m=p9(s,mCe);return $.createElement(Be,{clipPath:a?"url(#clipPath-".concat(o,")"):null},$.createElement(qs,Ps({},de(m,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&$.createElement(qs,Ps({},de(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),f!=="none"&&h&&$.createElement(qs,Ps({},de(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,x=v.prevPoints,_=v.prevBaseLine;return $.createElement(yi,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var g=y.t;if(x){var b=x.length/s.length,O=s.map(function(w,j){var I=Math.floor(j*b);if(x[I]){var T=x[I],P=en(T.x,w.x),k=en(T.y,w.y);return to(to({},w),{},{x:P(g),y:k(g)})}return w}),E;if(ie(l)&&typeof l=="number"){var N=en(_,l);E=N(g)}else if(je(l)||Xu(l)){var S=en(_,0);E=S(g)}else E=l.map(function(w,j){var I=Math.floor(j*b);if(_[I]){var T=_[I],P=en(T.x,w.x),k=en(T.y,w.y);return to(to({},w),{},{x:P(g),y:k(g)})}return w});return a.renderAreaStatically(O,E,r,i)}return $.createElement(Be,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(g))),$.createElement(Be,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!f&&h>0||!al(f,o)||!al(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,f=i.left,d=i.xAxis,h=i.yAxis,m=i.width,v=i.height,x=i.isAnimationActive,_=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,g=s.length===1,b=Ce("recharts-area",l),O=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,N=O||E,S=je(_)?this.id:_,w=(r=de(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=w.r,I=j===void 0?3:j,T=w.strokeWidth,P=T===void 0?2:T,k=n5(o)?o:{},z=k.clipDot,U=z===void 0?!0:z,D=I*2+P;return $.createElement(Be,{className:b},O||E?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:O?f:f-m/2,y:E?u:u-v/2,width:O?m:m*2,height:E?v:v*2})),!U&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:f-D/2,y:u-D/2,width:m+D,height:v+D}))):null,g?null:this.renderArea(N,S),(o||g)&&this.renderDots(N,U,S),(!x||y)&&Fi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);h9=os;Mi(os,"displayName","Area");Mi(os,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ns.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Mi(os,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(ie(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Mi(os,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,m=e.layout,v=u&&u.length,x=h9.getBaseValue(e,n,r,i),_=m==="horizontal",y=!1,g=d.map(function(O,E){var N;v?N=u[f+E]:(N=zt(O,l),Array.isArray(N)?y=!0:N=[x,N]);var S=N[1]==null||v&&zt(O,l)==null;return _?{x:Nv({axis:r,ticks:a,bandSize:s,entry:O,index:E}),y:S?null:i.scale(N[1]),value:N,payload:O}:{x:S?null:r.scale(N[1]),y:Nv({axis:i,ticks:o,bandSize:s,entry:O,index:E}),value:N,payload:O}}),b;return v||y?b=g.map(function(O){var E=Array.isArray(O.value)?O.value[0]:null;return _?{x:O.x,y:E!=null&&O.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:O.y}}):b=_?i.scale(x):r.scale(x),to({points:g,baseLine:b,layout:m,isRange:y},h)});Mi(os,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(be(t))n=t(e);else{var r=Ce("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=p9(e,gCe);n=$.createElement(_p,Ps({},a,{key:i,className:r}))}return n});function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function SCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9(r.key),r)}}function OCe(t,e,n){return e&&TCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jCe(t,e,n){return e=ty(e),NCe(t,v9()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function NCe(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CCe(t)}function CCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function ICe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function y9(t,e,n){return e=b9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9(t){var e=PCe(t,"string");return xu(e)=="symbol"?e:e+""}function PCe(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(this,arguments)}function kCe(t){var e=t.xAxisId,n=WT(),r=KT(),i=J8(e);return i==null?null:$.createElement(nf,Gw({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return _a(o,!0)}}))}var Go=function(t){function e(){return SCe(this,e),jCe(this,e,arguments)}return ICe(e,t),OCe(e,[{key:"render",value:function(){return $.createElement(kCe,this.props)}}])}($.Component);y9(Go,"displayName","XAxis");y9(Go,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function RCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w9(r.key),r)}}function DCe(t,e,n){return e&&MCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ce(t,e,n){return e=ny(e),LCe(t,x9()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function LCe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(t)}function BCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x9=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function UCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function _9(t,e,n){return e=w9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w9(t){var e=VCe(t,"string");return _u(e)=="symbol"?e:e+""}function VCe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}var zCe=function(e){var n=e.yAxisId,r=WT(),i=KT(),a=e9(n);return a==null?null:$.createElement(nf,Kw({},a,{className:Ce("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return _a(s,!0)}}))},Wo=function(t){function e(){return RCe(this,e),$Ce(this,e,arguments)}return UCe(e,t),DCe(e,[{key:"render",value:function(){return $.createElement(zCe,this.props)}}])}($.Component);_9(Wo,"displayName","YAxis");_9(Wo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yR(t){return GCe(t)||qCe(t)||HCe(t)||FCe()}function FCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(t,e){if(t){if(typeof t=="string")return Xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xw(t,e)}}function qCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GCe(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yw=function(e,n,r,i,a){var o=kr(e,YT),s=kr(e,Y0),l=[].concat(yR(o),yR(s)),u=kr(e,Z0),f="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,_){if(_.props[f]===r&&Hi(_.props,"extendDomain")&&ie(_.props[d])){var y=_.props[d];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),u.length){var m="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(x,_){if(_.props[f]===r&&Hi(_.props,"extendDomain")&&ie(_.props[m])&&ie(_.props[v])){var y=_.props[m],g=_.props[v];return[Math.min(x[0],y,g),Math.max(x[1],y,g)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,_){return ie(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},h)),h},A9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)e.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,v=new Array(m);h<m;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,h,m,v){var x=n?n+u:u;if(!this._events[x])return!1;var _=this._events[x],y=arguments.length,g,b;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),y){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,d),!0;case 4:return _.fn.call(_.context,f,d,h),!0;case 5:return _.fn.call(_.context,f,d,h,m),!0;case 6:return _.fn.call(_.context,f,d,h,m,v),!0}for(b=1,g=new Array(y-1);b<y;b++)g[b-1]=arguments[b];_.fn.apply(_.context,g)}else{var O=_.length,E;for(b=0;b<O;b++)switch(_[b].once&&this.removeListener(u,_[b].fn,void 0,!0),y){case 1:_[b].fn.call(_[b].context);break;case 2:_[b].fn.call(_[b].context,f);break;case 3:_[b].fn.call(_[b].context,f,d);break;case 4:_[b].fn.call(_[b].context,f,d,h);break;default:if(!g)for(E=1,g=new Array(y-1);E<y;E++)g[E-1]=arguments[E];_[b].fn.apply(_[b].context,g)}}return!0},s.prototype.on=function(u,f,d){return a(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return a(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,h){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===f&&(!h||v.once)&&(!d||v.context===d)&&o(this,m);else{for(var x=0,_=[],y=v.length;x<y;x++)(v[x].fn!==f||h&&!v[x].once||d&&v[x].context!==d)&&_.push(v[x]);_.length?this._events[m]=_.length===1?_[0]:_:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(A9);var WCe=A9.exports;const KCe=Qe(WCe);var qx=new KCe,Gx="recharts.syncMouseEvents";function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function XCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E9(r.key),r)}}function QCe(t,e,n){return e&&YCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wx(t,e,n){return e=E9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E9(t){var e=ZCe(t,"string");return Ph(e)=="symbol"?e:e+""}function ZCe(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JCe=function(){function t(){XCe(this,t),Wx(this,"activeIndex",0),Wx(this,"coordinateList",[]),Wx(this,"layout","horizontal")}return QCe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,d=f===void 0?null:f,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,h=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function eIe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function tIe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function S9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=dt(e,n,r,i),s=dt(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function nIe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,d=e.angle,h=dt(s,l,u,d),m=dt(s,l,f,d);r=h.x,i=h.y,a=m.x,o=m.y}else return S9(e);return[{x:r,y:i},{x:a,y:o}]}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){rIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rIe(t,e,n){return e=iIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iIe(t){var e=aIe(t,"string");return kh(e)=="symbol"?e:e+""}function aIe(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oIe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,x=qs;if(h==="ScatterChart")v=o,x=dTe;else if(h==="BarChart")v=tIe(d,o,l,f),x=zT;else if(d==="radial"){var _=S9(o),y=_.cx,g=_.cy,b=_.radius,O=_.startAngle,E=_.endAngle;v={cx:y,cy:g,startAngle:O,endAngle:E,innerRadius:b,outerRadius:b},x=_8}else v={points:nIe(d,o,l)},x=qs;var N=Nm(Nm(Nm(Nm({stroke:"#ccc",pointerEvents:"none"},l),v),de(m,!1)),{},{payload:s,payloadIndex:u,className:Ce("recharts-tooltip-cursor",m.className)});return R.isValidElement(m)?R.cloneElement(m,N):R.createElement(x,N)}var sIe=["item"],lIe=["children","className","width","height","style","compact","title","desc"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function xR(t,e){return fIe(t)||uIe(t,e)||O9(t,e)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fIe(t){if(Array.isArray(t))return t}function _R(t,e){if(t==null)return{};var n=dIe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j9(r.key),r)}}function mIe(t,e,n){return e&&pIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gIe(t,e,n){return e=ry(e),vIe(t,T9()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function vIe(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(t)}function yIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function bIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function Au(t){return wIe(t)||_Ie(t)||O9(t)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(t,e){if(t){if(typeof t=="string")return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}}function _Ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wIe(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ye(t,e,n){return e=j9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j9(t){var e=AIe(t,"string");return wu(e)=="symbol"?e:e+""}function AIe(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EIe={xAxis:["bottom","top"],yAxis:["left","right"]},SIe={width:"100%",height:"100%"},N9={x:0,y:0};function Cm(t){return t}var TIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},OIe=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return X(X(X({},i),dt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return X(X(X({},i),dt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return N9},J0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Au(s),Au(u)):s},[]);return o.length>0?o:e&&e.length&&ie(i)&&ie(a)?e.slice(i,a+1):[]};function C9(t){return t==="number"?[0,"auto"]:void 0}var Jw=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=J0(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;h=tv(m,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Au(l),[m8(u,h)]):l},[])},AR=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=TIe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Vwe(o,s,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,h=Jw(e,n,f,d),m=OIe(r,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:m}}return null},jIe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,d=e.children,h=e.stackOffset,m=c8(f,a);return r.reduce(function(v,x){var _,y=x.type.defaultProps!==void 0?X(X({},x.type.defaultProps),x.props):x.props,g=y.type,b=y.dataKey,O=y.allowDataOverflow,E=y.allowDuplicatedCategory,N=y.scale,S=y.ticks,w=y.includeHidden,j=y[o];if(v[j])return v;var I=J0(e.data,{graphicalItems:i.filter(function(q){var L,W=o in q.props?q.props[o]:(L=q.type.defaultProps)===null||L===void 0?void 0:L[o];return W===j}),dataStartIndex:l,dataEndIndex:u}),T=I.length,P,k,z;eIe(y.domain,O,g)&&(P=dw(y.domain,null,O),m&&(g==="number"||N!=="auto")&&(z=Ad(I,b,"category")));var U=C9(g);if(!P||P.length===0){var D,B=(D=y.domain)!==null&&D!==void 0?D:U;if(b){if(P=Ad(I,b,g),g==="category"&&m){var V=Ice(P);E&&V?(k=P,P=zv(0,T)):E||(P=qP(B,P,x).reduce(function(q,L){return q.indexOf(L)>=0?q:[].concat(Au(q),[L])},[]))}else if(g==="category")E?P=P.filter(function(q){return q!==""&&!je(q)}):P=qP(B,P,x).reduce(function(q,L){return q.indexOf(L)>=0||L===""||je(L)?q:[].concat(Au(q),[L])},[]);else if(g==="number"){var H=Gwe(I,i.filter(function(q){var L,W,ee=o in q.props?q.props[o]:(L=q.type.defaultProps)===null||L===void 0?void 0:L[o],xe="hide"in q.props?q.props.hide:(W=q.type.defaultProps)===null||W===void 0?void 0:W.hide;return ee===j&&(w||!xe)}),b,a,f);H&&(P=H)}m&&(g==="number"||N!=="auto")&&(z=Ad(I,b,"category"))}else m?P=zv(0,T):s&&s[j]&&s[j].hasStack&&g==="number"?P=h==="expand"?[0,1]:p8(s[j].stackGroups,l,u):P=l8(I,i.filter(function(q){var L=o in q.props?q.props[o]:q.type.defaultProps[o],W="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return L===j&&(w||!W)}),g,f,!0);if(g==="number")P=Yw(d,P,j,a,S),B&&(P=dw(B,P,O));else if(g==="category"&&B){var te=B,ne=P.every(function(q){return te.indexOf(q)>=0});ne&&(P=te)}}return X(X({},v),{},ye({},j,X(X({},y),{},{axisType:a,domain:P,categoricalDomain:z,duplicateDomain:k,originalDomain:(_=y.domain)!==null&&_!==void 0?_:U,isCategorical:m,layout:f})))},{})},NIe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,d=e.children,h=J0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,v=c8(f,a),x=-1;return r.reduce(function(_,y){var g=y.type.defaultProps!==void 0?X(X({},y.type.defaultProps),y.props):y.props,b=g[o],O=C9("number");if(!_[b]){x++;var E;return v?E=zv(0,m):s&&s[b]&&s[b].hasStack?(E=p8(s[b].stackGroups,l,u),E=Yw(d,E,b,a)):(E=dw(O,l8(h,r.filter(function(N){var S,w,j=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],I="hide"in N.props?N.props.hide:(w=N.type.defaultProps)===null||w===void 0?void 0:w.hide;return j===b&&!I}),"number",f),i.defaultProps.allowDataOverflow),E=Yw(d,E,b,a)),X(X({},_),{},ye({},b,X(X({axisType:a},i.defaultProps),{},{hide:!0,orientation:Pr(EIe,"".concat(a,".").concat(x%2),null),domain:E,originalDomain:O,isCategorical:v,layout:f})))}return _},{})},CIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,d="".concat(i,"Id"),h=kr(f,a),m={};return h&&h.length?m=jIe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=NIe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},IIe=function(e){var n=po(e),r=_a(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:mT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Cv(n,r)}},ER=function(e){var n=e.children,r=e.defaultShowTooltip,i=_r(n,du),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},PIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Oa(n&&n.type);return r&&r.indexOf("Bar")>=0})},SR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kIe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,d=r.children,h=r.margin||{},m=_r(d,du),v=_r(d,Tc),x=Object.keys(l).reduce(function(E,N){var S=l[N],w=S.orientation;return!S.mirror&&!S.hide?X(X({},E),{},ye({},w,E[w]+S.width)):E},{left:h.left||0,right:h.right||0}),_=Object.keys(o).reduce(function(E,N){var S=o[N],w=S.orientation;return!S.mirror&&!S.hide?X(X({},E),{},ye({},w,Pr(E,"".concat(w))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),y=X(X({},_),x),g=y.bottom;m&&(y.bottom+=m.props.height||du.defaultProps.height),v&&n&&(y=Hwe(y,i,r,n));var b=u-y.left-y.right,O=f-y.top-y.bottom;return X(X({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(O,0)})},RIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},eb=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,h=function(y,g){var b=g.graphicalItems,O=g.stackGroups,E=g.offset,N=g.updateId,S=g.dataStartIndex,w=g.dataEndIndex,j=y.barSize,I=y.layout,T=y.barGap,P=y.barCategoryGap,k=y.maxBarSize,z=SR(I),U=z.numericAxisName,D=z.cateAxisName,B=PIe(b),V=[];return b.forEach(function(H,te){var ne=J0(y.data,{graphicalItems:[H],dataStartIndex:S,dataEndIndex:w}),q=H.type.defaultProps!==void 0?X(X({},H.type.defaultProps),H.props):H.props,L=q.dataKey,W=q.maxBarSize,ee=q["".concat(U,"Id")],xe=q["".concat(D,"Id")],ct={},Ue=l.reduce(function(jn,we){var wi=g["".concat(we.axisType,"Map")],dr=q["".concat(we.axisType,"Id")];wi&&wi[dr]||we.axisType==="zAxis"||sl();var ss=wi[dr];return X(X({},jn),{},ye(ye({},we.axisType,ss),"".concat(we.axisType,"Ticks"),_a(ss)))},ct),re=Ue[D],fe=Ue["".concat(D,"Ticks")],me=O&&O[ee]&&O[ee].hasStack&&tAe(H,O[ee].stackGroups),Y=Oa(H.type).indexOf("Bar")>=0,Se=Cv(re,fe),ge=[],he=B&&zwe({barSize:j,stackGroups:O,totalSize:RIe(Ue,D)});if(Y){var Te,tt,Nt=je(W)?k:W,$t=(Te=(tt=Cv(re,fe,!0))!==null&&tt!==void 0?tt:Nt)!==null&&Te!==void 0?Te:0;ge=Fwe({barGap:T,barCategoryGap:P,bandSize:$t!==Se?$t:Se,sizeList:he[xe],maxBarSize:Nt}),$t!==Se&&(ge=ge.map(function(jn){return X(X({},jn),{},{position:X(X({},jn.position),{},{offset:jn.position.offset-$t/2})})}))}var On=H&&H.type&&H.type.getComposedData;On&&V.push({props:X(X({},On(X(X({},Ue),{},{displayedData:ne,props:y,dataKey:L,item:H,bandSize:Se,barPosition:ge,offset:E,stackedData:me,layout:I,dataStartIndex:S,dataEndIndex:w}))),{},ye(ye(ye({key:H.key||"item-".concat(te)},U,Ue[U]),D,Ue[D]),"animationId",N)),childIndex:Fce(H,y.children),item:H})}),V},m=function(y,g){var b=y.props,O=y.dataStartIndex,E=y.dataEndIndex,N=y.updateId;if(!BC({props:b}))return null;var S=b.children,w=b.layout,j=b.stackOffset,I=b.data,T=b.reverseStackOrder,P=SR(w),k=P.numericAxisName,z=P.cateAxisName,U=kr(S,r),D=Jwe(I,U,"".concat(k,"Id"),"".concat(z,"Id"),j,T),B=l.reduce(function(q,L){var W="".concat(L.axisType,"Map");return X(X({},q),{},ye({},W,CIe(b,X(X({},L),{},{graphicalItems:U,stackGroups:L.axisType===k&&D,dataStartIndex:O,dataEndIndex:E}))))},{}),V=kIe(X(X({},B),{},{props:b,graphicalItems:U}),g==null?void 0:g.legendBBox);Object.keys(B).forEach(function(q){B[q]=f(b,B[q],V,q.replace("Map",""),n)});var H=B["".concat(z,"Map")],te=IIe(H),ne=h(b,X(X({},B),{},{dataStartIndex:O,dataEndIndex:E,updateId:N,graphicalItems:U,stackGroups:D,offset:V}));return X(X({formattedGraphicalItems:ne,graphicalItems:U,offset:V,stackGroups:D},te),B)},v=function(_){function y(g){var b,O,E;return hIe(this,y),E=gIe(this,y,[g]),ye(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ye(E,"accessibilityManager",new JCe),ye(E,"handleLegendBBoxUpdate",function(N){if(N){var S=E.state,w=S.dataStartIndex,j=S.dataEndIndex,I=S.updateId;E.setState(X({legendBBox:N},m({props:E.props,dataStartIndex:w,dataEndIndex:j,updateId:I},X(X({},E.state),{},{legendBBox:N}))))}}),ye(E,"handleReceiveSyncEvent",function(N,S,w){if(E.props.syncId===N){if(w===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),ye(E,"handleBrushChange",function(N){var S=N.startIndex,w=N.endIndex;if(S!==E.state.dataStartIndex||w!==E.state.dataEndIndex){var j=E.state.updateId;E.setState(function(){return X({dataStartIndex:S,dataEndIndex:w},m({props:E.props,dataStartIndex:S,dataEndIndex:w,updateId:j},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:w})}}),ye(E,"handleMouseEnter",function(N){var S=E.getMouseInfo(N);if(S){var w=X(X({},S),{},{isTooltipActive:!0});E.setState(w),E.triggerSyncEvent(w);var j=E.props.onMouseEnter;be(j)&&j(w,N)}}),ye(E,"triggeredAfterMouseMove",function(N){var S=E.getMouseInfo(N),w=S?X(X({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(w),E.triggerSyncEvent(w);var j=E.props.onMouseMove;be(j)&&j(w,N)}),ye(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ye(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ye(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),ye(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var w=E.props.onMouseLeave;be(w)&&w(S,N)}),ye(E,"handleOuterEvent",function(N){var S=zce(N),w=Pr(E.props,"".concat(S));if(S&&be(w)){var j,I;/.*touch.*/i.test(S)?I=E.getMouseInfo(N.changedTouches[0]):I=E.getMouseInfo(N),w((j=I)!==null&&j!==void 0?j:{},N)}}),ye(E,"handleClick",function(N){var S=E.getMouseInfo(N);if(S){var w=X(X({},S),{},{isTooltipActive:!0});E.setState(w),E.triggerSyncEvent(w);var j=E.props.onClick;be(j)&&j(w,N)}}),ye(E,"handleMouseDown",function(N){var S=E.props.onMouseDown;if(be(S)){var w=E.getMouseInfo(N);S(w,N)}}),ye(E,"handleMouseUp",function(N){var S=E.props.onMouseUp;if(be(S)){var w=E.getMouseInfo(N);S(w,N)}}),ye(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ye(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),ye(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),ye(E,"handleDoubleClick",function(N){var S=E.props.onDoubleClick;if(be(S)){var w=E.getMouseInfo(N);S(w,N)}}),ye(E,"handleContextMenu",function(N){var S=E.props.onContextMenu;if(be(S)){var w=E.getMouseInfo(N);S(w,N)}}),ye(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&qx.emit(Gx,E.props.syncId,N,E.eventEmitterSymbol)}),ye(E,"applySyncEvent",function(N){var S=E.props,w=S.layout,j=S.syncMethod,I=E.state.updateId,T=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(X({dataStartIndex:T,dataEndIndex:P},m({props:E.props,dataStartIndex:T,dataEndIndex:P,updateId:I},E.state)));else if(N.activeTooltipIndex!==void 0){var k=N.chartX,z=N.chartY,U=N.activeTooltipIndex,D=E.state,B=D.offset,V=D.tooltipTicks;if(!B)return;if(typeof j=="function")U=j(V,N);else if(j==="value"){U=-1;for(var H=0;H<V.length;H++)if(V[H].value===N.activeLabel){U=H;break}}var te=X(X({},B),{},{x:B.left,y:B.top}),ne=Math.min(k,te.x+te.width),q=Math.min(z,te.y+te.height),L=V[U]&&V[U].value,W=Jw(E.state,E.props.data,U),ee=V[U]?{x:w==="horizontal"?V[U].coordinate:ne,y:w==="horizontal"?q:V[U].coordinate}:N9;E.setState(X(X({},N),{},{activeLabel:L,activeCoordinate:ee,activePayload:W,activeTooltipIndex:U}))}else E.setState(N)}),ye(E,"renderCursor",function(N){var S,w=E.state,j=w.isTooltipActive,I=w.activeCoordinate,T=w.activePayload,P=w.offset,k=w.activeTooltipIndex,z=w.tooltipAxisBandSize,U=E.getTooltipEventType(),D=(S=N.props.active)!==null&&S!==void 0?S:j,B=E.props.layout,V=N.key||"_recharts-cursor";return $.createElement(oIe,{key:V,activeCoordinate:I,activePayload:T,activeTooltipIndex:k,chartName:n,element:N,isActive:D,layout:B,offset:P,tooltipAxisBandSize:z,tooltipEventType:U})}),ye(E,"renderPolarAxis",function(N,S,w){var j=Pr(N,"type.axisType"),I=Pr(E.state,"".concat(j,"Map")),T=N.type.defaultProps,P=T!==void 0?X(X({},T),N.props):N.props,k=I&&I[P["".concat(j,"Id")]];return R.cloneElement(N,X(X({},k),{},{className:Ce(j,k.className),key:N.key||"".concat(S,"-").concat(w),ticks:_a(k,!0)}))}),ye(E,"renderPolarGrid",function(N){var S=N.props,w=S.radialLines,j=S.polarAngles,I=S.polarRadius,T=E.state,P=T.radiusAxisMap,k=T.angleAxisMap,z=po(P),U=po(k),D=U.cx,B=U.cy,V=U.innerRadius,H=U.outerRadius;return R.cloneElement(N,{polarAngles:Array.isArray(j)?j:_a(U,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(I)?I:_a(z,!0).map(function(te){return te.coordinate}),cx:D,cy:B,innerRadius:V,outerRadius:H,key:N.key||"polar-grid",radialLines:w})}),ye(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,S=E.props,w=S.children,j=S.width,I=S.height,T=E.props.margin||{},P=j-(T.left||0)-(T.right||0),k=o8({children:w,formattedGraphicalItems:N,legendWidth:P,legendContent:u});if(!k)return null;var z=k.item,U=_R(k,sIe);return R.cloneElement(z,X(X({},U),{},{chartWidth:j,chartHeight:I,margin:T,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ye(E,"renderTooltip",function(){var N,S=E.props,w=S.children,j=S.accessibilityLayer,I=_r(w,zn);if(!I)return null;var T=E.state,P=T.isTooltipActive,k=T.activeCoordinate,z=T.activePayload,U=T.activeLabel,D=T.offset,B=(N=I.props.active)!==null&&N!==void 0?N:P;return R.cloneElement(I,{viewBox:X(X({},D),{},{x:D.left,y:D.top}),active:B,label:U,payload:B?z:[],coordinate:k,accessibilityLayer:j})}),ye(E,"renderBrush",function(N){var S=E.props,w=S.margin,j=S.data,I=E.state,T=I.offset,P=I.dataStartIndex,k=I.dataEndIndex,z=I.updateId;return R.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Sm(E.handleBrushChange,N.props.onChange),data:j,x:ie(N.props.x)?N.props.x:T.left,y:ie(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(w.bottom||0),width:ie(N.props.width)?N.props.width:T.width,startIndex:P,endIndex:k,updateId:"brush-".concat(z)})}),ye(E,"renderReferenceElement",function(N,S,w){if(!N)return null;var j=E,I=j.clipPathId,T=E.state,P=T.xAxisMap,k=T.yAxisMap,z=T.offset,U=N.type.defaultProps||{},D=N.props,B=D.xAxisId,V=B===void 0?U.xAxisId:B,H=D.yAxisId,te=H===void 0?U.yAxisId:H;return R.cloneElement(N,{key:N.key||"".concat(S,"-").concat(w),xAxis:P[V],yAxis:k[te],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:I})}),ye(E,"renderActivePoints",function(N){var S=N.item,w=N.activePoint,j=N.basePoint,I=N.childIndex,T=N.isRange,P=[],k=S.props.key,z=S.item.type.defaultProps!==void 0?X(X({},S.item.type.defaultProps),S.item.props):S.item.props,U=z.activeDot,D=z.dataKey,B=X(X({index:I,dataKey:D,cx:w.x,cy:w.y,r:4,fill:VT(S.item),strokeWidth:2,stroke:"#fff",payload:w.payload,value:w.value},de(U,!1)),nv(U));return P.push(y.renderActiveDot(U,B,"".concat(k,"-activePoint-").concat(I))),j?P.push(y.renderActiveDot(U,X(X({},B),{},{cx:j.x,cy:j.y}),"".concat(k,"-basePoint-").concat(I))):T&&P.push(null),P}),ye(E,"renderGraphicChild",function(N,S,w){var j=E.filterFormatItem(N,S,w);if(!j)return null;var I=E.getTooltipEventType(),T=E.state,P=T.isTooltipActive,k=T.tooltipAxis,z=T.activeTooltipIndex,U=T.activeLabel,D=E.props.children,B=_r(D,zn),V=j.props,H=V.points,te=V.isRange,ne=V.baseLine,q=j.item.type.defaultProps!==void 0?X(X({},j.item.type.defaultProps),j.item.props):j.item.props,L=q.activeDot,W=q.hide,ee=q.activeBar,xe=q.activeShape,ct=!!(!W&&P&&B&&(L||ee||xe)),Ue={};I!=="axis"&&B&&B.props.trigger==="click"?Ue={onClick:Sm(E.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(Ue={onMouseLeave:Sm(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Sm(E.handleItemMouseEnter,N.props.onMouseEnter)});var re=R.cloneElement(N,X(X({},j.props),Ue));function fe(we){return typeof k.dataKey=="function"?k.dataKey(we.payload):null}if(ct)if(z>=0){var me,Y;if(k.dataKey&&!k.allowDuplicatedCategory){var Se=typeof k.dataKey=="function"?fe:"payload.".concat(k.dataKey.toString());me=tv(H,Se,U),Y=te&&ne&&tv(ne,Se,U)}else me=H==null?void 0:H[z],Y=te&&ne&&ne[z];if(xe||ee){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[R.cloneElement(N,X(X(X({},j.props),Ue),{},{activeIndex:ge})),null,null]}if(!je(me))return[re].concat(Au(E.renderActivePoints({item:j,activePoint:me,basePoint:Y,childIndex:z,isRange:te})))}else{var he,Te=(he=E.getItemByXY(E.state.activeCoordinate))!==null&&he!==void 0?he:{graphicalItem:re},tt=Te.graphicalItem,Nt=tt.item,$t=Nt===void 0?N:Nt,On=tt.childIndex,jn=X(X(X({},j.props),Ue),{},{activeIndex:On});return[R.cloneElement($t,jn),null,null]}return te?[re,null,null]:[re,null]}),ye(E,"renderCustomized",function(N,S,w){return R.cloneElement(N,X(X({key:"recharts-customized-".concat(w)},E.props),E.state))}),ye(E,"renderMap",{CartesianGrid:{handler:Cm,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Cm},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Cm},YAxis:{handler:Cm},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Al("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=aB(E.triggeredAfterMouseMove,(O=g.throttleDelay)!==null&&O!==void 0?O:1e3/60),E.state={},E}return bIe(y,_),mIe(y,[{key:"componentDidMount",value:function(){var b,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,O=b.children,E=b.data,N=b.height,S=b.layout,w=_r(O,zn);if(w){var j=w.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,T=Jw(this.state,E,j,I),P=this.state.tooltipTicks[j].coordinate,k=(this.state.offset.top+N)/2,z=S==="horizontal",U=z?{x:P,y:k}:{y:P,x:k},D=this.state.formattedGraphicalItems.find(function(V){var H=V.item;return H.type.name==="Scatter"});D&&(U=X(X({},U),D.props.points[j].tooltipPosition),T=D.props.points[j].tooltipPayload);var B={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:I,activePayload:T,activeCoordinate:U};this.setState(B),this.renderCursor(w),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){O_([_r(b.children,zn)],[_r(this.props.children,zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=_r(this.props.children,zn);if(b&&typeof b.props.shared=="boolean"){var O=b.props.shared?"axis":"item";return s.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var O=this.container,E=O.getBoundingClientRect(),N=mbe(E),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},w=E.width/O.offsetWidth||1,j=this.inRange(S.chartX,S.chartY,w);if(!j)return null;var I=this.state,T=I.xAxisMap,P=I.yAxisMap,k=this.getTooltipEventType(),z=AR(this.state,this.props.data,this.props.layout,j);if(k!=="axis"&&T&&P){var U=po(T).scale,D=po(P).scale,B=U&&U.invert?U.invert(S.chartX):null,V=D&&D.invert?D.invert(S.chartY):null;return X(X({},S),{},{xValue:B,yValue:V},z)}return z?X(X({},S),z):null}},{key:"inRange",value:function(b,O){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/E,w=O/E;if(N==="horizontal"||N==="vertical"){var j=this.state.offset,I=S>=j.left&&S<=j.left+j.width&&w>=j.top&&w<=j.top+j.height;return I?{x:S,y:w}:null}var T=this.state,P=T.angleAxisMap,k=T.radiusAxisMap;if(P&&k){var z=po(P);return KP({x:S,y:w},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,O=this.getTooltipEventType(),E=_r(b,zn),N={};E&&O==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=nv(this.props,this.handleOuterEvent);return X(X({},S),N)}},{key:"addListener",value:function(){qx.on(Gx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qx.removeListener(Gx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,O,E){for(var N=this.state.formattedGraphicalItems,S=0,w=N.length;S<w;S++){var j=N[S];if(j.item===b||j.props.key===b.key||O===Oa(j.item.type)&&E===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,O=this.state.offset,E=O.left,N=O.top,S=O.height,w=O.width;return $.createElement("defs",null,$.createElement("clipPath",{id:b},$.createElement("rect",{x:E,y:N,height:S,width:w})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(O,E){var N=xR(E,2),S=N[0],w=N[1];return X(X({},O),{},ye({},S,w.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(O,E){var N=xR(E,2),S=N[0],w=N[1];return X(X({},O),{},ye({},S,w.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[b])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(b){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[b])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(b){var O=this.state,E=O.formattedGraphicalItems,N=O.activeItem;if(E&&E.length)for(var S=0,w=E.length;S<w;S++){var j=E[S],I=j.props,T=j.item,P=T.type.defaultProps!==void 0?X(X({},T.type.defaultProps),T.props):T.props,k=Oa(T.type);if(k==="Bar"){var z=(I.data||[]).find(function(V){return GSe(b,V)});if(z)return{graphicalItem:j,payload:z}}else if(k==="RadialBar"){var U=(I.data||[]).find(function(V){return KP(b,V)});if(U)return{graphicalItem:j,payload:U}}else if(G0(j,N)||W0(j,N)||Oh(j,N)){var D=M2e({graphicalItem:j,activeTooltipItem:N,itemData:P.data}),B=P.activeIndex===void 0?D:P.activeIndex;return{graphicalItem:X(X({},j),{},{childIndex:B}),payload:Oh(j,N)?P.data[D]:j.props.data[D]}}}return null}},{key:"render",value:function(){var b=this;if(!BC(this))return null;var O=this.props,E=O.children,N=O.className,S=O.width,w=O.height,j=O.style,I=O.compact,T=O.title,P=O.desc,k=_R(O,lIe),z=de(k,!1);if(I)return $.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(N_,dc({},z,{width:S,height:w,title:T,desc:P}),this.renderClipPath(),VC(E,this.renderMap)));if(this.props.accessibilityLayer){var U,D;z.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,z.role=(D=this.props.role)!==null&&D!==void 0?D:"application",z.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},z.onFocus=function(){b.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return $.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",dc({className:Ce("recharts-wrapper",N),style:X({position:"relative",cursor:"default",width:S,height:w},j)},B,{ref:function(H){b.container=H}}),$.createElement(N_,dc({},z,{width:S,height:w,title:T,desc:P,style:SIe}),this.renderClipPath(),VC(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);ye(v,"displayName",n),ye(v,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ye(v,"getDerivedStateFromProps",function(_,y){var g=_.dataKey,b=_.data,O=_.children,E=_.width,N=_.height,S=_.layout,w=_.stackOffset,j=_.margin,I=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var P=ER(_);return X(X(X({},P),{},{updateId:0},m(X(X({props:_},P),{},{updateId:0}),y)),{},{prevDataKey:g,prevData:b,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:w,prevMargin:j,prevChildren:O})}if(g!==y.prevDataKey||b!==y.prevData||E!==y.prevWidth||N!==y.prevHeight||S!==y.prevLayout||w!==y.prevStackOffset||!Sc(j,y.prevMargin)){var k=ER(_),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=X(X({},AR(y,b,S)),{},{updateId:y.updateId+1}),D=X(X(X({},k),z),U);return X(X(X({},D),m(X({props:_},D),y)),{},{prevDataKey:g,prevData:b,prevWidth:E,prevHeight:N,prevLayout:S,prevStackOffset:w,prevMargin:j,prevChildren:O})}if(!O_(O,y.prevChildren)){var B,V,H,te,ne=_r(O,du),q=ne&&(B=(V=ne.props)===null||V===void 0?void 0:V.startIndex)!==null&&B!==void 0?B:I,L=ne&&(H=(te=ne.props)===null||te===void 0?void 0:te.endIndex)!==null&&H!==void 0?H:T,W=q!==I||L!==T,ee=!je(b),xe=ee&&!W?y.updateId:y.updateId+1;return X(X({updateId:xe},m(X(X({props:_},y),{},{updateId:xe,dataStartIndex:q,dataEndIndex:L}),y)),{},{prevChildren:O,dataStartIndex:q,dataEndIndex:L})}return null}),ye(v,"renderActiveDot",function(_,y,g){var b;return R.isValidElement(_)?b=R.cloneElement(_,y):be(_)?b=_(y):b=$.createElement(_p,y),$.createElement(Be,{className:"recharts-active-dot",key:g},b)});var x=R.forwardRef(function(y,g){return $.createElement(v,dc({},y,{ref:g}))});return x.displayName=v.displayName,x},MIe=eb({chartName:"LineChart",GraphicalChild:wp,axisComponents:[{axisType:"xAxis",AxisComp:Go},{axisType:"yAxis",AxisComp:Wo}],formatAxisMap:FT}),DIe=eb({chartName:"BarChart",GraphicalChild:Ol,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Go},{axisType:"yAxis",AxisComp:Wo}],formatAxisMap:FT}),eA=eb({chartName:"PieChart",GraphicalChild:bi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:q0},{axisType:"radiusAxis",AxisComp:F0}],formatAxisMap:fAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),$Ie=eb({chartName:"AreaChart",GraphicalChild:os,axisComponents:[{axisType:"xAxis",AxisComp:Go},{axisType:"yAxis",AxisComp:Wo}],formatAxisMap:FT});const LIe=({user:t,isAdmin:e})=>{const[n,r]=R.useState("dashboard"),[i,a]=R.useState(!0),[o,s]=R.useState(null),[l,u]=R.useState([]),[f,d]=R.useState([]),[h,m]=R.useState(null),[v,x]=R.useState(null),[_,y]=R.useState(!1),g=["#64748b","#94a3b8","#cbd5e1","#e2e8f0","#f1f5f9"];R.useEffect(()=>{n==="dashboard"?b():n==="users"&&e?O():n==="sold"&&E()},[n,t,e]);const b=async()=>{a(!0);try{const T=ar(At,"items"),P=await Fn(T),k=[];P.forEach(V=>{var te,ne,q,L;const H=V.data();k.push({id:V.id,...H,createdAt:((te=H.createdAt)==null?void 0:te.toDate())||new Date,approvedAt:(ne=H.approvedAt)==null?void 0:ne.toDate(),liveAt:(q=H.liveAt)==null?void 0:q.toDate(),soldAt:(L=H.soldAt)==null?void 0:L.toDate()})});const z=ar(At,"users"),U=await Fn(z),D=[];U.forEach(V=>{D.push({id:V.id,...V.data()})});const B=N(k,D);s(B)}catch(T){console.error("Error fetching dashboard data:",T)}finally{a(!1)}},O=async()=>{a(!0);try{const T=[],P=new Map,k=ar(At,"items");(await Fn(k)).forEach(U=>{var H,te,ne,q;const D={id:U.id,...U.data(),createdAt:((H=U.data().createdAt)==null?void 0:H.toDate())||new Date,approvedAt:(te=U.data().approvedAt)==null?void 0:te.toDate(),liveAt:(ne=U.data().liveAt)==null?void 0:ne.toDate(),soldAt:(q=U.data().soldAt)==null?void 0:q.toDate()},B=D.sellerId;if(!P.has(B)){const L={uid:B,email:D.sellerEmail,displayName:D.sellerName,photoURL:""};T.push(L),P.set(B,{userId:B,userName:D.sellerName,userEmail:D.sellerEmail,totalItemsListed:0,totalItemsSold:0,totalEarnings:0,totalPaid:0,outstandingBalance:0,storeCredit:0,activeItems:[],soldItems:[],pendingItems:[],approvedItems:[]})}const V=P.get(B);switch(V.totalItemsListed++,D.status){case"pending":V.pendingItems.push(D);break;case"approved":V.approvedItems.push(D);break;case"live":V.activeItems.push(D);break;case"sold":V.soldItems.push(D),V.totalItemsSold++;const L=D.soldPrice||D.price,W=D.userEarnings||L*.75;V.totalEarnings+=W;break}}),P.forEach(U=>{U.outstandingBalance=U.totalEarnings-U.totalPaid}),u(Array.from(P.values()))}catch(T){console.error("Error fetching user analytics:",T)}finally{a(!1)}},E=async()=>{a(!0);try{const T=ar(At,"items"),P=Vr(T,Ci("status","==","sold")),k=await Fn(P),z=[];k.forEach(U=>{var B,V,H,te,ne,q;const D=U.data();z.push({id:U.id,...D,createdAt:((B=D.createdAt)==null?void 0:B.toDate())||new Date,approvedAt:(V=D.approvedAt)==null?void 0:V.toDate(),liveAt:(H=D.liveAt)==null?void 0:H.toDate(),soldAt:((te=D.soldAt)==null?void 0:te.toDate())||new Date,barcodeGeneratedAt:(ne=D.barcodeGeneratedAt)==null?void 0:ne.toDate(),printConfirmedAt:(q=D.printConfirmedAt)==null?void 0:q.toDate()})}),z.sort((U,D)=>{const B=U.soldAt||U.createdAt;return(D.soldAt||D.createdAt).getTime()-B.getTime()}),d(z)}catch(T){console.error("Error fetching sold items:",T)}finally{a(!1)}},N=(T,P)=>{const k=new Date,z=T.filter(L=>L.status==="sold"),U=z.reduce((L,W)=>L+(W.soldPrice||W.price),0),D=new Set(T.map(L=>L.sellerId)),B=z.length>0?U/z.length:0,V=[];for(let L=11;L>=0;L--){const W=new Date(k.getFullYear(),k.getMonth()-L,1),ee=new Date(W.getFullYear(),W.getMonth(),1),xe=new Date(W.getFullYear(),W.getMonth()+1,0),ct=z.filter(re=>re.soldAt&&re.soldAt>=ee&&re.soldAt<=xe),Ue=ct.reduce((re,fe)=>re+(fe.soldPrice||fe.price),0);V.push({month:W.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),revenue:Ue,items:ct.length})}const H=new Map;T.forEach(L=>{const W=L.category||"Uncategorized";H.has(W)||H.set(W,{count:0,revenue:0});const ee=H.get(W);ee.count++,L.status==="sold"&&(ee.revenue+=L.soldPrice||L.price)});const te=Array.from(H.entries()).map(([L,W])=>({category:L,count:W.count,revenue:W.revenue})).sort((L,W)=>W.count-L.count),ne=new Map;T.forEach(L=>{ne.set(L.status,(ne.get(L.status)||0)+1)});const q=Array.from(ne.entries()).map(([L,W])=>({status:L.charAt(0).toUpperCase()+L.slice(1),count:W,value:W}));return{totalRevenue:U,totalItems:T.length,activeUsers:D.size,avgItemPrice:B,monthlyRevenue:V,categoryBreakdown:te,statusBreakdown:q}},S=T=>{const P=new Date().toISOString().split("T")[0];if(T==="csv"){let k="";n==="dashboard"&&o?(k=`Month,Revenue,Items Sold
`,o.monthlyRevenue.forEach(B=>{k+=`${B.month},${B.revenue},${B.items}
`})):n==="sold"&&(k=`Title,Seller,Original Price,Sold Price,Date Sold
`,f.forEach(B=>{var V;k+=`"${B.title}","${B.sellerName}",${B.price},${B.soldPrice||B.price},"${(V=B.soldAt)==null?void 0:V.toLocaleDateString()}"
`}));const z=new Blob([k],{type:"text/csv"}),U=window.URL.createObjectURL(z),D=document.createElement("a");D.href=U,D.download=`analytics-${n}-${P}.csv`,D.click(),window.URL.revokeObjectURL(U)}else{let k={};n==="dashboard"?k=o:n==="sold"?k={soldItems:f}:n==="users"&&(k={userAnalytics:l});const z=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),U=window.URL.createObjectURL(z),D=document.createElement("a");D.href=U,D.download=`analytics-${n}-${P}.json`,D.click(),window.URL.revokeObjectURL(U)}},w=T=>`$${T.toFixed(2)}`,j=T=>{x(T),y(!0)},I=()=>{x(null),y(!1)};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive business insights and performance metrics"})]}),c.jsx("div",{className:"border-b border-gray-200 mb-8",children:c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsx("button",{onClick:()=>r("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="dashboard"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dashboard Overview"}),c.jsx("button",{onClick:()=>r("sold"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sold"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sold Items"}),e&&c.jsx("button",{onClick:()=>r("users"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="users"?"border-slate-500 text-slate-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Analytics"})]})}),c.jsxs("div",{className:"mb-6 flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>S("csv"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export CSV"}),c.jsx("button",{onClick:()=>S("json"),className:"px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Export JSON"})]}),i?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-500"})}):c.jsxs(c.Fragment,{children:[n==="dashboard"&&o&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),c.jsx("p",{className:"text-3xl font-bold",children:w(o.totalRevenue)})]}),c.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Items"}),c.jsx("p",{className:"text-3xl font-bold",children:o.totalItems})]}),c.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Active Sellers"}),c.jsx("p",{className:"text-3xl font-bold",children:o.activeUsers})]}),c.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Avg Item Price"}),c.jsx("p",{className:"text-3xl font-bold",children:w(o.avgItemPrice)})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),c.jsx(sc,{width:"100%",height:300,children:c.jsxs($Ie,{data:o.monthlyRevenue,children:[c.jsx(Zv,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(Go,{dataKey:"month",stroke:"#64748b"}),c.jsx(Wo,{stroke:"#64748b"}),c.jsx(zn,{formatter:T=>[w(T),"Revenue"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),c.jsx(os,{type:"monotone",dataKey:"revenue",stroke:"#64748b",fill:"#94a3b8",fillOpacity:.3})]})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items Sold by Month"}),c.jsx(sc,{width:"100%",height:300,children:c.jsxs(DIe,{data:o.monthlyRevenue,children:[c.jsx(Zv,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(Go,{dataKey:"month",stroke:"#64748b"}),c.jsx(Wo,{stroke:"#64748b"}),c.jsx(zn,{formatter:T=>[T,"Items Sold"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),c.jsx(Ol,{dataKey:"items",fill:"#64748b"})]})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items by Category"}),c.jsx(sc,{width:"100%",height:300,children:c.jsxs(eA,{children:[c.jsx(bi,{data:o.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({category:T,count:P})=>`${T}: ${P}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:o.categoryBreakdown.map((T,P)=>c.jsx(nu,{fill:g[P%g.length]},`cell-${P}`))}),c.jsx(zn,{formatter:T=>[T,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Status Distribution"}),c.jsx(sc,{width:"100%",height:300,children:c.jsxs(eA,{children:[c.jsx(bi,{data:o.statusBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({status:T,count:P})=>`${T}: ${P}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.statusBreakdown.map((T,P)=>c.jsx(nu,{fill:g[P%g.length]},`cell-${P}`))}),c.jsx(zn,{formatter:T=>[T,"Items"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}})]})})]})]})]}),n==="sold"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Revenue"}),c.jsx("p",{className:"text-3xl font-bold",children:w(f.reduce((T,P)=>T+(P.soldPrice||P.price),0))})]}),c.jsxs("div",{className:"bg-gradient-to-r from-gray-500 to-gray-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Admin Earnings (25%)"}),c.jsx("p",{className:"text-3xl font-bold",children:w(f.reduce((T,P)=>{const k=P.soldPrice||P.price;return T+(P.adminEarnings||k*.25)},0))})]}),c.jsxs("div",{className:"bg-gradient-to-r from-zinc-500 to-zinc-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Earnings (75%)"}),c.jsx("p",{className:"text-3xl font-bold",children:w(f.reduce((T,P)=>{const k=P.soldPrice||P.price;return T+(P.userEarnings||k*.75)},0))})]}),c.jsxs("div",{className:"bg-gradient-to-r from-stone-500 to-stone-600 rounded-xl p-6 text-white",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Items Sold"}),c.jsx("p",{className:"text-3xl font-bold",children:f.length})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["All Sold Items (",f.length,")"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sold Price"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Barcode"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Sold"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(T=>{const P=T.soldPrice||T.price;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[T.images&&T.images[0]&&c.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:T.images[0],alt:T.title}),c.jsx("div",{children:c.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:T.title})})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.sellerName}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w(T.price)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:w(P)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.barcodeData?c.jsx("span",{className:"text-green-600",children:"✓ Generated"}):c.jsx("span",{className:"text-gray-400",children:"No barcode"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(T.soldAt||new Date).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsx("button",{onClick:()=>j(T),className:"text-slate-600 hover:text-slate-900",children:"View Details"})})]},T.id)})})]})})]})]}),n==="users"&&e&&c.jsx("div",{className:"space-y-8",children:c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["User Performance (",l.length," users)"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Listed"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Sold"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Earnings"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding Balance"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(T=>{const P=T.totalItemsListed>0?T.totalItemsSold/T.totalItemsListed*100:0;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.userName}),c.jsx("div",{className:"text-sm text-gray-500",children:T.userEmail})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.totalItemsListed}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.totalItemsSold}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-600",children:w(T.totalEarnings)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-600",children:w(T.outstandingBalance)}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[P.toFixed(1),"%"]})]},T.userId)})})]})})]})})]}),c.jsx(qS,{isOpen:_,onClose:I,item:v})]})})},BIe=({user:t})=>{const[e,n]=R.useState("overview"),[r,i]=R.useState(!0),[a,o]=R.useState(null),[s,l]=R.useState([]),[u,f]=R.useState([]),[d,h]=R.useState(null),[m,v]=R.useState(!1),[x,_]=R.useState([]),[y,g]=R.useState(!1),[b,O]=R.useState(null),[E,N]=R.useState(!1),[S,w]=R.useState(null);R.useEffect(()=>{t&&I()},[t]),R.useEffect(()=>{const L=()=>{t&&(console.log("Window focused, refreshing purchase history..."),V())};return window.addEventListener("focus",L),()=>window.removeEventListener("focus",L)},[t]),R.useEffect(()=>{const L=W=>{W.key===`purchase_history_${t==null?void 0:t.uid}`&&t&&(console.log("Purchase history changed in localStorage, refreshing..."),V())};return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[t]);const j=()=>{if(!t)return[];try{const L=localStorage.getItem(`purchase_history_${t.uid}`);if(L)return JSON.parse(L).map(ee=>({...ee,purchaseDate:new Date(ee.purchaseDate),orderNumber:ee.orderNumber||`ORD-${ee.id.slice(-6)}`,customerInfo:ee.customerInfo||{name:"N/A",email:"N/A",phone:"N/A",address:"N/A",city:"N/A",zipCode:"N/A"},paymentInfo:ee.paymentInfo||{method:"Credit Card",last4:"****",status:"completed",transactionId:`txn_${ee.id.slice(-8)}`},orderStatus:ee.orderStatus||"delivered",estimatedDelivery:ee.estimatedDelivery||new Date(ee.purchaseDate).toISOString(),trackingNumber:ee.trackingNumber||`TRK${ee.id.slice(-8)}`,items:ee.items.map(xe=>({...xe,category:xe.category||"N/A",brand:xe.brand||"N/A",size:xe.size||"N/A",images:xe.images||[]}))}))}catch(L){console.error("Error loading purchase history:",L)}return[]},I=async()=>{if(t){i(!0);try{await T();const L=j();_(L)}catch(L){console.error("Error fetching user data:",L)}finally{i(!1)}}},T=async()=>{if(t)try{const L=ar(At,"items");let W,ee=[];try{W=Vr(L,Ci("sellerId","==",t.uid),d3("createdAt","desc")),(await Fn(W)).forEach(ge=>{var Te,tt,Nt,$t;const he=ge.data();ee.push({id:ge.id,...he,createdAt:((Te=he.createdAt)==null?void 0:Te.toDate())||new Date,approvedAt:(tt=he.approvedAt)==null?void 0:tt.toDate(),liveAt:(Nt=he.liveAt)==null?void 0:Nt.toDate(),soldAt:($t=he.soldAt)==null?void 0:$t.toDate()})})}catch(Se){console.warn("Index not ready, using fallback query:",Se.message),W=Vr(L,Ci("sellerId","==",t.uid)),(await Fn(W)).forEach(he=>{var tt,Nt,$t,On;const Te=he.data();ee.push({id:he.id,...Te,createdAt:((tt=Te.createdAt)==null?void 0:tt.toDate())||new Date,approvedAt:(Nt=Te.approvedAt)==null?void 0:Nt.toDate(),liveAt:($t=Te.liveAt)==null?void 0:$t.toDate(),soldAt:(On=Te.soldAt)==null?void 0:On.toDate()})}),ee.sort((he,Te)=>{const tt=he.createdAt||new Date(0);return(Te.createdAt||new Date(0)).getTime()-tt.getTime()})}l(ee);const xe=ee.filter(Se=>Se.status==="sold"),ct=ee.filter(Se=>Se.status==="live"),Ue=ee.filter(Se=>Se.status==="pending"),re=xe.reduce((Se,ge)=>{const he=ge.soldPrice||ge.price;return Se+he*.75},0),fe=j();_(fe);const me=fe.reduce((Se,ge)=>Se+ge.total,0),Y=Math.max(0,re-me*.1);o({totalItemsListed:ee.length,totalItemsSold:xe.length,totalEarnings:re,storeCredit:Y,activeListings:ct.length,pendingListings:Ue.length,totalPurchases:fe.length,totalSpent:me}),f(xe)}catch(L){console.error("Error fetching my listings:",L),l([]),f([]),o({totalItemsListed:0,totalItemsSold:0,totalEarnings:0,storeCredit:0,activeListings:0,pendingListings:0,totalPurchases:0,totalSpent:0})}},P=L=>{h(L),v(!0)},k=()=>{h(null),v(!1)},z=L=>{switch(L){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},U=L=>{switch(L){case"pending":return"Under Review";case"approved":return"Approved";case"live":return"Live";case"sold":return"Sold";default:return L}},D=a?[{name:"Sold",value:a.totalItemsSold,color:"#10b981"},{name:"Active",value:a.activeListings,color:"#3b82f6"},{name:"Pending",value:a.pendingListings,color:"#f59e0b"}]:[],B=u.map((L,W)=>{var ee;return{name:`Sale ${W+1}`,earnings:(L.soldPrice||L.price)*.75,date:((ee=L.soldAt)==null?void 0:ee.toLocaleDateString())||"N/A"}}),V=()=>{if(!t)return;console.log("Refreshing purchase history...");const L=j();console.log("Updated purchase history:",L.length,"orders"),_(L);const W=L.reduce((ee,xe)=>ee+xe.total,0);o(ee=>ee?{...ee,totalPurchases:L.length,totalSpent:W}:null)},H=(L,W,ee)=>{O({trackingNumber:L,orderNumber:W,estimatedDelivery:ee}),g(!0)},te=L=>{w(L),N(!0)},ne=()=>{N(!1),w(null)},q=({isOpen:L,onClose:W,item:ee})=>{var ge;const[xe,ct]=R.useState("shipping"),[Ue,re]=R.useState(!1),[fe,me]=R.useState(!1),Y=async()=>{me(!0),await new Promise(Te=>setTimeout(Te,2e3));const he={trackingNumber:`TRK${Date.now().toString().slice(-8)}`,carrier:"FedEx",service:"Ground",estimatedDelivery:new Date(Date.now()+5*24*60*60*1e3).toISOString(),labelUrl:`https://example.com/label/${Date.now()}`,cost:(Math.random()*10+5).toFixed(2)};console.log("Generated shipping label:",he),re(!0),me(!1),alert(`Shipping label generated!
Tracking: ${he.trackingNumber}
Estimated delivery: ${new Date(he.estimatedDelivery).toLocaleDateString()}`)},Se=()=>{var Nt,$t,On,jn,we;const he=window.open("","_blank");if(!he||!ee)return;const Te=`TRK${Date.now().toString().slice(-8)}`,tt=`
        <html>
          <head>
            <title>Shipping Label - ${ee.title}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .label-container { border: 2px solid #000; padding: 20px; width: 600px; margin: 0 auto; }
              .header { text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
              .section { margin: 15px 0; }
              .tracking { font-size: 24px; font-weight: bold; text-align: center; margin: 20px 0; padding: 10px; border: 1px solid #000; }
              .barcode { text-align: center; font-family: 'Courier New', monospace; font-size: 12px; margin: 10px 0; }
            </style>
          </head>
          <body>
            <div class="label-container">
              <div class="header">
                <h2>Summit Gear Exchange</h2>
                <p>Shipping Label</p>
              </div>
              <div class="section">
                <strong>FROM:</strong><br>
                Summit Gear Exchange<br>
                123 Mountain View Drive<br>
                Denver, CO 80202<br>
                (555) 123-4567
              </div>
              <div class="section">
                <strong>TO:</strong><br>
                ${((Nt=ee.buyerInfo)==null?void 0:Nt.name)||"Customer"}<br>
                ${(($t=ee.buyerInfo)==null?void 0:$t.address)||"Address"}<br>
                ${((On=ee.buyerInfo)==null?void 0:On.city)||"City"}, ${((jn=ee.buyerInfo)==null?void 0:jn.zipCode)||"ZIP"}<br>
                ${((we=ee.buyerInfo)==null?void 0:we.phone)||"Phone"}
              </div>
              <div class="tracking">TRACKING: ${Te}</div>
              <div class="barcode">||||| |||| | |||| ||||| | |||| |||||<br>${Te}</div>
              <div class="section">
                <strong>Item:</strong> ${ee.title}<br>
                <strong>Service:</strong> FedEx Ground<br>
                <strong>Date:</strong> ${new Date().toLocaleDateString()}
              </div>
            </div>
          </body>
        </html>
      `;he.document.write(tt),he.document.close(),he.focus(),he.print()};return!L||!ee?null:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[c.jsx("div",{className:"sticky top-0 bg-white p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Sold Item Management"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage fulfillment for your sold item"})]}),c.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:ee.title}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Sale Price:"})," $",ee.soldPrice||ee.price]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Your Earnings:"})," $",((ee.soldPrice||ee.price)*.75).toFixed(2)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Sold Date:"})," ",((ge=ee.soldAt)==null?void 0:ge.toLocaleDateString())||"N/A"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",ee.saleTransactionId||"N/A"]})]})]}),ee.buyerInfo&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Buyer Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Name:"})," ",ee.buyerInfo.name]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",ee.buyerInfo.email]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Phone:"})," ",ee.buyerInfo.phone]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("span",{className:"font-medium",children:"Address:"})," ",ee.buyerInfo.address,", ",ee.buyerInfo.city,", ",ee.buyerInfo.zipCode]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fulfillment Method"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"fulfillment",value:"shipping",checked:xe==="shipping",onChange:he=>ct(he.target.value),className:"mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Ship to Customer"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Generate shipping label and send directly to buyer"})]})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"fulfillment",value:"pickup",checked:xe==="pickup",onChange:he=>ct(he.target.value),className:"mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"In-Store Pickup"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Customer will pick up item at store location"})]})]})]})]}),xe==="shipping"&&c.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Shipping Actions"}),Ue?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center text-green-600 mb-3",children:[c.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),c.jsx("span",{className:"font-medium",children:"Shipping label generated!"})]}),c.jsxs("button",{onClick:Se,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Shipping Label"]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Generate a shipping label to send this item to the customer."}),c.jsx("button",{onClick:Y,disabled:fe,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:fe?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Label..."]}):c.jsx(c.Fragment,{children:"Generate Shipping Label"})})]})]}),xe==="pickup"&&c.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"In-Store Pickup"}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("p",{className:"text-gray-700",children:[c.jsx("strong",{children:"Customer Instructions:"})," Please bring a valid ID and your order confirmation to pick up your item."]}),c.jsxs("div",{className:"bg-white rounded p-3 border",children:[c.jsx("p",{children:c.jsx("strong",{children:"Store Location:"})}),c.jsx("p",{children:"Summit Gear Exchange"}),c.jsx("p",{children:"123 Mountain View Drive"}),c.jsx("p",{children:"Denver, CO 80202"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Hours:"})," Mon-Sat 9AM-7PM, Sun 10AM-6PM"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Phone:"})," (555) 123-4567"]})]}),c.jsx("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Mark as Ready for Pickup"})]})]})]}),c.jsx("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200",children:c.jsx("button",{onClick:W,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};return r?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My User History"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track your listings, sales, purchases, and store credit"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>{I(),V()},className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm font-medium flex items-center gap-2",title:"Refresh data",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),c.jsx("div",{className:"text-sm text-gray-500",children:"Available Credit"})]})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[c.jsx("div",{className:"border-b border-gray-200",children:c.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"overview",label:"Overview",icon:"📈"},{key:"listings",label:"My Listings",icon:"📋"},{key:"sales",label:"Sales History",icon:"💵"},{key:"purchases",label:"Purchases",icon:"🛍️"},{key:"orders",label:"My Orders",icon:"📦"},{key:"credit",label:"Store Credit",icon:"💰"}].map(L=>c.jsxs("button",{onClick:()=>n(L.key),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${e===L.key?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx("span",{className:"mr-2",children:L.icon}),L.label]},L.key))})}),c.jsxs("div",{className:"p-6",children:[e==="overview"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"📦"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(a==null?void 0:a.totalItemsListed)||0}),c.jsx("div",{className:"text-sm text-blue-600",children:"Items Listed"})]})]})}),c.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"✅"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:(a==null?void 0:a.totalItemsSold)||0}),c.jsx("div",{className:"text-sm text-green-600",children:"Items Sold"})]})]})}),c.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"💰"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]}),c.jsx("div",{className:"text-sm text-purple-600",children:"Total Earnings"})]})]})}),c.jsx("div",{className:"bg-indigo-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"🛒"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:(a==null?void 0:a.totalPurchases)||0}),c.jsx("div",{className:"text-sm text-indigo-600",children:"Purchases"})]})]})}),c.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"💳"})})}),c.jsxs("div",{className:"ml-4",children:[c.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),c.jsx("div",{className:"text-sm text-orange-600",children:"Store Credit"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Listings Status"}),c.jsx("div",{className:"h-64",children:c.jsx(sc,{width:"100%",height:"100%",children:c.jsxs(eA,{children:[c.jsx(bi,{data:D,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:D.map((L,W)=>c.jsx(nu,{fill:L.color},`cell-${W}`))}),c.jsx(zn,{})]})})})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Earnings from Sales"}),c.jsx("div",{className:"h-64",children:B.length>0?c.jsx(sc,{width:"100%",height:"100%",children:c.jsxs(MIe,{data:B,children:[c.jsx(Zv,{strokeDasharray:"3 3"}),c.jsx(Go,{dataKey:"name"}),c.jsx(Wo,{}),c.jsx(zn,{}),c.jsx(wp,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:2})]})}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📈"}),c.jsx("p",{children:"No sales data yet"}),c.jsx("p",{className:"text-sm",children:"Start listing items to see your earnings here"})]})})})]})]})]}),e==="listings"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Listings (",s.length,")"]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("span",{className:"text-sm text-gray-500",children:["Active: ",(a==null?void 0:a.activeListings)||0," | Pending: ",(a==null?void 0:a.pendingListings)||0," | Sold: ",(a==null?void 0:a.totalItemsSold)||0]})})]}),s.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-4xl mb-4",children:"📦"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No listings yet"}),c.jsx("p",{className:"text-gray-500",children:"Start by listing your first item for consignment"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(L=>c.jsxs("div",{onClick:()=>P(L),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h4",{className:"font-medium text-gray-900 truncate",children:L.title}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(L.status)}`,children:U(L.status)})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:L.description}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",L.price]}),c.jsx("span",{className:"text-xs text-gray-500",children:L.createdAt.toLocaleDateString()})]}),L.status==="sold"&&c.jsxs("div",{className:"mt-2 text-xs text-green-600",children:["Earned: $",((L.soldPrice||L.price)*.75).toFixed(2)]})]},L.id))})]}),e==="sales"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sales History (",u.length,")"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total Earned: $",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),u.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-4xl mb-4",children:"💰"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),c.jsx("p",{className:"text-gray-500",children:"Your earnings will appear here when items sell"})]}):c.jsx("div",{className:"space-y-3",children:u.map(L=>{var W;return c.jsx("div",{onClick:()=>te(L),className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:L.title}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Sold on ",(W=L.soldAt)==null?void 0:W.toLocaleDateString()]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Sale price: $",(L.soldPrice||L.price).toFixed(2)]}),L.buyerInfo&&c.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Buyer: ",L.buyerInfo.name," • ",L.buyerInfo.city,", ",L.buyerInfo.zipCode]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["+$",((L.soldPrice||L.price)*.75).toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"your earnings"}),c.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"📦 Click to manage fulfillment"})]})]})},L.id)})})]}),e==="purchases"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Purchase History (",x.length,")"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),x.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-4xl mb-4",children:"🛒"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No purchases yet"}),c.jsx("p",{className:"text-gray-500",children:"Your purchase history will appear here after you make your first purchase"}),c.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):c.jsx("div",{className:"space-y-3",children:x.map(L=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-gray-900",children:["Order #",L.id.slice(-8)]}),c.jsx("p",{className:"text-sm text-gray-600",children:L.purchaseDate.toLocaleDateString()})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["$",L.total.toFixed(2)]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:L.status})]})]}),c.jsxs("div",{className:"border-t pt-3",children:[c.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Items purchased:"}),c.jsx("div",{className:"space-y-1",children:L.items.map((W,ee)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-900",children:W.title}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-gray-500",children:["Qty: ",W.quantity]}),c.jsxs("span",{className:"font-medium",children:["$",(W.price*W.quantity).toFixed(2)]})]})]},ee))})]})]},L.id))})]}),e==="orders"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["My Orders (",x.length,")"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total Spent: $",(a==null?void 0:a.totalSpent.toFixed(2))||"0.00"]})]}),x.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-4xl mb-4",children:"📋"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),c.jsx("p",{className:"text-gray-500",children:"Your order history will appear here after you make your first purchase"}),c.jsx("button",{className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Start Shopping"})]}):c.jsx("div",{className:"space-y-4",children:x.map(L=>{var W,ee;return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order ",L.orderNumber||`#${L.id.slice(-8)}`]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",L.purchaseDate.toLocaleDateString()," at ",L.purchaseDate.toLocaleTimeString()]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",L.total.toFixed(2)]}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${L.orderStatus==="delivered"?"bg-green-100 text-green-800":L.orderStatus==="shipped"?"bg-blue-100 text-blue-800":L.orderStatus==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((W=L.orderStatus)==null?void 0:W.charAt(0).toUpperCase())+((ee=L.orderStatus)==null?void 0:ee.slice(1))||"Completed"})]})]})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Items Ordered"}),c.jsx("div",{className:"space-y-3",children:L.items.map((xe,ct)=>c.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:xe.images&&xe.images.length>0?c.jsx("img",{src:xe.images[0],alt:xe.title,className:"w-full h-full object-cover rounded-lg"}):c.jsx("span",{className:"text-gray-400 text-2xl",children:"📦"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h6",{className:"font-medium text-gray-900",children:xe.title}),c.jsxs("p",{className:"text-sm text-gray-600",children:[xe.brand," • ",xe.category," • Size: ",xe.size]}),c.jsxs("div",{className:"flex items-center justify-between mt-1",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:["Qty: ",xe.quantity]}),c.jsxs("span",{className:"font-medium",children:["$",(xe.price*xe.quantity).toFixed(2)]})]})]})]},ct))})]}),c.jsxs("div",{className:"space-y-4",children:[L.customerInfo&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[c.jsx("p",{className:"font-medium",children:L.customerInfo.name}),c.jsx("p",{children:L.customerInfo.address}),c.jsxs("p",{children:[L.customerInfo.city,", ",L.customerInfo.zipCode]}),c.jsx("p",{children:L.customerInfo.phone}),c.jsx("p",{children:L.customerInfo.email})]})]}),L.paymentInfo&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Payment Method"}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[c.jsxs("p",{children:[L.paymentInfo.method," ending in ",L.paymentInfo.last4]}),c.jsxs("p",{className:"text-xs",children:["Transaction ID: ",L.paymentInfo.transactionId]}),c.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${L.paymentInfo.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:L.paymentInfo.status})]})]}),L.trackingNumber&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Delivery"}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[c.jsxs("p",{children:["Tracking: ",L.trackingNumber]}),L.estimatedDelivery&&c.jsxs("p",{children:["Estimated: ",new Date(L.estimatedDelivery).toLocaleDateString()]})]}),c.jsx("button",{onClick:()=>H(L.trackingNumber,L.orderNumber||`#${L.id.slice(-8)}`,L.estimatedDelivery),className:"mt-2 text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Track Package"})]}),c.jsx("div",{className:"space-y-2",children:c.jsx("button",{className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 py-2 px-4 rounded-lg transition-colors text-sm font-medium",children:"View Invoice"})})]})]})})]},L.id)})})]}),e==="credit"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Store Credit Balance"}),c.jsxs("div",{className:"text-3xl font-bold mt-1",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]}),c.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Available for purchases"})]}),c.jsx("div",{className:"text-6xl opacity-20",children:"💳"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"How Store Credit Works"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-green-500 mr-2",children:"•"}),c.jsx("span",{children:"Earn 75% of your item's final sale price"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-green-500 mr-2",children:"•"}),c.jsx("span",{children:"Credit is added automatically when items sell"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-green-500 mr-2",children:"•"}),c.jsx("span",{children:"Use credit for purchases in our store"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-green-500 mr-2",children:"•"}),c.jsx("span",{children:"Credit never expires"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"text-green-500 mr-2",children:"•"}),c.jsx("span",{children:"Redeem credit during checkout"})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Credit Summary"}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:"Total Earned:"}),c.jsxs("span",{className:"font-medium text-green-600",children:["+$",(a==null?void 0:a.totalEarnings.toFixed(2))||"0.00"]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:"Total Used:"}),c.jsxs("span",{className:"font-medium text-red-600",children:["-$",(((a==null?void 0:a.totalEarnings)||0)-((a==null?void 0:a.storeCredit)||0)).toFixed(2)]})]}),c.jsxs("div",{className:"border-t pt-3 flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-900 font-semibold",children:"Current Balance:"}),c.jsxs("span",{className:"font-bold text-orange-600 text-lg",children:["$",(a==null?void 0:a.storeCredit.toFixed(2))||"0.00"]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t",children:c.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Start Shopping"})})]})]}),u.length>0&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Credit Activity"}),c.jsx("div",{className:"space-y-2",children:u.slice(0,5).map(L=>{var W;return c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-900",children:L.title}),c.jsxs("span",{className:"text-gray-500 ml-2",children:["sold ",(W=L.soldAt)==null?void 0:W.toLocaleDateString()]})]}),c.jsxs("span",{className:"text-green-600 font-medium",children:["+$",((L.soldPrice||L.price)*.75).toFixed(2)]})]},L.id)})})]})]})]})]}),c.jsx(qS,{isOpen:m,onClose:k,item:d}),y&&b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Package Tracking"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.orderNumber})]}),c.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),c.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Package In Transit"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Your order is on its way!"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),c.jsx("span",{className:"text-sm text-gray-900 font-mono",children:b.trackingNumber})]})}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Delivery"}),c.jsx("span",{className:"text-sm text-gray-900",children:new Date(b.estimatedDelivery).toLocaleDateString()})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h5",{className:"font-medium text-gray-900",children:"Tracking History"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Package shipped"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Denver, CO - 2 days ago"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"In transit"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Salt Lake City, UT - 1 day ago"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Out for delivery"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Your city - Today"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mt-2"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Delivered"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Expected by end of day"})]})]})]})]})]}),c.jsx("div",{className:"mt-6 pt-4 border-t",children:c.jsx("button",{onClick:()=>g(!1),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors font-medium",children:"Close"})})]})]})}),c.jsx(q,{isOpen:E,onClose:ne,item:S})]})},UIe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,s]=R.useState(""),[l,u]=R.useState("all"),[f,d]=R.useState([]),[h,m]=R.useState("newest"),[v,x]=R.useState(!1);R.useEffect(()=>{_()},[]),R.useEffect(()=>{y()},[t,o,l,h]);const _=async()=>{try{const w=ar(At,"items"),j=Vr(w,d3("createdAt","desc")),I=await Fn(j),T=[];I.forEach(P=>{var z,U,D,B;const k=P.data();T.push({id:P.id,...k,createdAt:((z=k.createdAt)==null?void 0:z.toDate())||new Date,approvedAt:(U=k.approvedAt)==null?void 0:U.toDate(),liveAt:(D=k.liveAt)==null?void 0:D.toDate(),soldAt:(B=k.soldAt)==null?void 0:B.toDate()})}),e(T)}catch(w){console.error("Error fetching items:",w)}finally{a(!1)}},y=()=>{let w=[...t];if(l!=="all"&&(w=w.filter(j=>j.status===l)),o){const j=o.toLowerCase();w=w.filter(I=>{var T,P,k,z,U;return((T=I.title)==null?void 0:T.toLowerCase().includes(j))||((P=I.description)==null?void 0:P.toLowerCase().includes(j))||((k=I.brand)==null?void 0:k.toLowerCase().includes(j))||((z=I.category)==null?void 0:z.toLowerCase().includes(j))||((U=I.sellerName)==null?void 0:U.toLowerCase().includes(j))||I.id.toLowerCase().includes(j)})}switch(h){case"oldest":w.sort((j,I)=>j.createdAt.getTime()-I.createdAt.getTime());break;case"price-high":w.sort((j,I)=>I.price-j.price);break;case"price-low":w.sort((j,I)=>j.price-I.price);break;case"shelf-time":w.sort((j,I)=>{const T=j.liveAt||j.createdAt,P=I.liveAt||I.createdAt;return T.getTime()-P.getTime()});break;case"newest":default:w.sort((j,I)=>I.createdAt.getTime()-j.createdAt.getTime());break}r(w)},g=w=>{d(j=>j.includes(w)?j.filter(I=>I!==w):[...j,w])},b=()=>{f.length===n.length?d([]):d(n.map(w=>w.id))},O=async w=>{try{const j=f.map(async I=>{const T=vi(At,"items",I),P={status:w};return w==="live"?P.liveAt=new Date:w==="approved"&&(P.approvedAt=new Date),La(T,P)});await Promise.all(j),await _(),d([]),x(!1)}catch(j){console.error("Error updating items:",j)}},E=async(w,j)=>{try{const I=vi(At,"items",w),T={status:j};j==="live"?T.liveAt=new Date:j==="approved"?T.approvedAt=new Date:j==="archived"&&(T.archivedAt=new Date),await La(I,T),await _()}catch(I){console.error("Error updating item:",I)}},N=w=>{switch(w){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"live":return"bg-green-100 text-green-800";case"sold":return"bg-purple-100 text-purple-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},S=w=>{const j=w.liveAt||w.createdAt,T=new Date().getTime()-j.getTime(),P=Math.floor(T/(1e3*60*60*24));return P===0?"Today":P===1?"1 day":`${P} days`};return i?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Manage all items across all statuses"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," items | Filtered: ",n.length," items"]})]}),c.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),c.jsx("input",{type:"text",value:o,onChange:w=>s(w.target.value),placeholder:"Search items, brands, sellers...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),c.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"all",children:"All Statuses"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"approved",children:"Approved"}),c.jsx("option",{value:"live",children:"Live"}),c.jsx("option",{value:"sold",children:"Sold"}),c.jsx("option",{value:"archived",children:"Archived"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),c.jsxs("select",{value:h,onChange:w=>m(w.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"newest",children:"Newest First"}),c.jsx("option",{value:"oldest",children:"Oldest First"}),c.jsx("option",{value:"shelf-time",children:"Longest on Shelf"}),c.jsx("option",{value:"price-high",children:"Price: High to Low"}),c.jsx("option",{value:"price-low",children:"Price: Low to High"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Actions"}),c.jsxs("button",{onClick:()=>x(!v),disabled:f.length===0,className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed text-sm",children:["Actions (",f.length,")"]})]})]}),v&&f.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>O("approved"),className:"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",children:"Move to Approved"}),c.jsx("button",{onClick:()=>O("live"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600",children:"Make Live"}),c.jsx("button",{onClick:()=>O("archived"),className:"bg-gray-500 text-white px-3 py-1 rounded text-sm hover:bg-gray-600",children:"Archive Items"}),c.jsx("button",{onClick:()=>x(!1),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",children:"Cancel"})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left",children:c.jsx("input",{type:"checkbox",checked:f.length===n.length&&n.length>0,onChange:b,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shelf Time"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(w=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("input",{type:"checkbox",checked:f.includes(w.id),onChange:()=>g(w.id),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[w.images&&w.images.length>0&&c.jsx("img",{src:w.images[0],alt:w.title,className:"h-10 w-10 rounded-lg object-cover mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.title}),c.jsxs("div",{className:"text-sm text-gray-500",children:[w.category," • ",w.brand]})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(w.status)}`,children:w.status})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",w.price]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.status==="live"?S(w):"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.sellerName}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex space-x-2",children:[w.status!=="live"&&c.jsx("button",{onClick:()=>E(w.id,"live"),className:"text-green-600 hover:text-green-900",children:"Go Live"}),w.status!=="approved"&&c.jsx("button",{onClick:()=>E(w.id,"approved"),className:"text-blue-600 hover:text-blue-900",children:"Approve"}),w.status!=="archived"&&c.jsx("button",{onClick:()=>E(w.id,"archived"),className:"text-gray-600 hover:text-gray-900",children:"Archive"})]})})]},w.id))})]})}),n.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"text-gray-500",children:t.length===0?"No items found":"No items match your filters"})})]})]})},VIe=()=>{const[t,e]=R.useState([]),[n,r]=R.useState([]),[i,a]=R.useState(!0),[o,s]=R.useState(""),[l,u]=R.useState("all"),[f,d]=R.useState("24h");R.useEffect(()=>{h()},[f]),R.useEffect(()=>{v()},[t,o,l]);const h=async()=>{try{const g=[{id:"1",userId:"admin123",userName:"Admin User",userEmail:"admin@summitgear.com",action:"item_approved",details:"Approved item for sale",timestamp:new Date(Date.now()-18e5),itemId:"item123",itemTitle:"North Face Jacket"},{id:"2",userId:"user456",userName:"John Doe",userEmail:"john@example.com",action:"item_listed",details:"Listed new item for consignment",timestamp:new Date(Date.now()-72e5),itemId:"item124",itemTitle:"Patagonia Fleece"},{id:"3",userId:"user789",userName:"Jane Smith",userEmail:"jane@example.com",action:"item_purchased",details:"Purchased item from store",timestamp:new Date(Date.now()-144e5),itemId:"item125",itemTitle:"Arc'teryx Backpack"},{id:"4",userId:"admin123",userName:"Admin User",userEmail:"admin@summitgear.com",action:"item_archived",details:"Archived item due to condition issues",timestamp:new Date(Date.now()-216e5),itemId:"item126",itemTitle:"Old Hiking Boots"},{id:"5",userId:"user101",userName:"Mike Johnson",userEmail:"mike@example.com",action:"user_login",details:"User logged in via Google",timestamp:new Date(Date.now()-288e5)},{id:"6",userId:"admin123",userName:"Admin User",userEmail:"admin@summitgear.com",action:"bulk_action",details:"Bulk approved 5 items",timestamp:new Date(Date.now()-432e5)},{id:"7",userId:"user202",userName:"Sarah Wilson",userEmail:"sarah@example.com",action:"item_bookmarked",details:"Bookmarked item for later",timestamp:new Date(Date.now()-648e5),itemId:"item127",itemTitle:"Climbing Harness"},{id:"8",userId:"user303",userName:"Tom Brown",userEmail:"tom@example.com",action:"cart_updated",details:"Added item to cart",timestamp:new Date(Date.now()-72e6),itemId:"item128",itemTitle:"Ski Goggles"}],b=m(),O=g.filter(E=>E.timestamp.getTime()>=b);e(O)}catch(g){console.error("Error fetching actions:",g)}finally{a(!1)}},m=()=>{const g=new Date;switch(f){case"1h":return g.getTime()-1e3*60*60;case"24h":return g.getTime()-1e3*60*60*24;case"7d":return g.getTime()-1e3*60*60*24*7;case"30d":return g.getTime()-1e3*60*60*24*30;default:return 0}},v=()=>{let g=[...t];if(l!=="all"&&(g=g.filter(b=>b.action===l)),o){const b=o.toLowerCase();g=g.filter(O=>O.userName.toLowerCase().includes(b)||O.userEmail.toLowerCase().includes(b)||O.action.toLowerCase().includes(b)||O.details.toLowerCase().includes(b)||O.itemTitle&&O.itemTitle.toLowerCase().includes(b))}r(g)},x=g=>{switch(g){case"item_listed":return"📝";case"item_approved":return"✅";case"item_purchased":return"🛒";case"item_sold":return"💰";case"item_archived":return"📦";case"user_login":return"🔐";case"user_logout":return"🚪";case"bulk_action":return"⚡";case"item_bookmarked":return"❤️";case"cart_updated":return"🛍️";default:return"📊"}},_=g=>{switch(g){case"item_listed":return"bg-blue-100 text-blue-800";case"item_approved":return"bg-green-100 text-green-800";case"item_purchased":return"bg-purple-100 text-purple-800";case"item_sold":return"bg-yellow-100 text-yellow-800";case"item_archived":return"bg-gray-100 text-gray-800";case"user_login":return"bg-indigo-100 text-indigo-800";case"user_logout":return"bg-red-100 text-red-800";case"bulk_action":return"bg-orange-100 text-orange-800";case"item_bookmarked":return"bg-pink-100 text-pink-800";case"cart_updated":return"bg-teal-100 text-teal-800";default:return"bg-gray-100 text-gray-800"}},y=g=>{const O=new Date().getTime()-g.getTime(),E=Math.floor(O/(1e3*60)),N=Math.floor(O/(1e3*60*60)),S=Math.floor(O/(1e3*60*60*24));return E<1?"Just now":E<60?`${E}m ago`:N<24?`${N}h ago`:`${S}d ago`};return i?c.jsx("div",{className:"flex justify-center items-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Actions Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Track all user and admin activities"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",t.length," actions | Filtered: ",n.length," actions"]})]}),c.jsx("div",{className:"bg-white rounded-lg border p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),c.jsx("input",{type:"text",value:o,onChange:g=>s(g.target.value),placeholder:"Search users, actions, items...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action Type"}),c.jsxs("select",{value:l,onChange:g=>u(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"all",children:"All Actions"}),c.jsx("option",{value:"item_listed",children:"Item Listed"}),c.jsx("option",{value:"item_approved",children:"Item Approved"}),c.jsx("option",{value:"item_purchased",children:"Item Purchased"}),c.jsx("option",{value:"item_sold",children:"Item Sold"}),c.jsx("option",{value:"item_archived",children:"Item Archived"}),c.jsx("option",{value:"user_login",children:"User Login"}),c.jsx("option",{value:"bulk_action",children:"Bulk Actions"}),c.jsx("option",{value:"item_bookmarked",children:"Item Bookmarked"}),c.jsx("option",{value:"cart_updated",children:"Cart Updated"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),c.jsxs("select",{value:f,onChange:g=>d(g.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"1h",children:"Last Hour"}),c.jsx("option",{value:"24h",children:"Last 24 Hours"}),c.jsx("option",{value:"7d",children:"Last 7 Days"}),c.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export"}),c.jsx("button",{onClick:()=>{console.log("Export actions to CSV")},className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Export CSV"})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg border",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),c.jsx("div",{className:"divide-y divide-gray-200",children:n.map(g=>c.jsx("div",{className:"p-6 hover:bg-gray-50",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"text-2xl",children:x(g.action)})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(g.action)}`,children:g.action.replace("_"," ")}),c.jsx("span",{className:"text-sm text-gray-500",children:y(g.timestamp)})]}),c.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[c.jsx("span",{className:"font-medium",children:g.userName}),c.jsxs("span",{className:"text-gray-500",children:[" (",g.userEmail,")"]})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[g.details,g.itemTitle&&c.jsxs("span",{className:"font-medium text-gray-900",children:[" • ",g.itemTitle]})]})]}),c.jsx("div",{className:"flex-shrink-0 text-sm text-gray-500",children:g.timestamp.toLocaleString()})]})},g.id))}),n.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"text-gray-500",children:t.length===0?"No actions found for this time period":"No actions match your filters"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.filter(g=>g.action.includes("item_")).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Item Actions"})]}),c.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.filter(g=>g.action.includes("user_")).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"User Actions"})]}),c.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(t.map(g=>g.userId)).size}),c.jsx("div",{className:"text-sm text-gray-600",children:"Active Users"})]})]})]})},zIe=()=>{const{user:t,loading:e,signInWithGoogle:n,signInWithPhone:r,logout:i,isAuthenticated:a,isAdmin:o,toggleAdmin:s}=dS(),{getCartItemCount:l,getBookmarkCount:u}=lp(),[f,d]=R.useState([]),[h,m]=R.useState(!1),[v,x]=R.useState(!1),[_,y]=R.useState(!1),[g,b]=R.useState(!1),[O,E]=R.useState(!1),[N,S]=R.useState(!1),[w,j]=R.useState(!1),[I,T]=R.useState(!1),[P,k]=R.useState(!1),[z,U]=R.useState(!1),[D,B]=R.useState(!1),[V,H]=R.useState(!1),[te,ne]=R.useState(!1),[q,L]=R.useState(!0),[W,ee]=R.useState(!1),[xe,ct]=R.useState(0),[Ue,re]=R.useState(!1),fe=R.useRef(null),[me,Y]=R.useState(!1),[Se,ge]=R.useState(!1),he=R.useRef(null),[Te,tt]=R.useState([]),[Nt,$t]=R.useState(null),[On,jn]=R.useState(!1),[we,wi]=R.useState({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""}),[dr,ss]=R.useState({pending:0,approved:0,sold:0});R.useEffect(()=>{a?(Ai(),ta(),ln()):(L(!1),ee(!1))},[a,o]),R.useEffect(()=>{if(a){const K=setInterval(ta,3e4);return()=>clearInterval(K)}},[a]),R.useEffect(()=>{if(W){Lt();const K=setInterval(Lt,3e4);return()=>clearInterval(K)}a&&ta()},[W]),R.useEffect(()=>{const K=ae=>{fe.current&&!fe.current.contains(ae.target)&&re(!1),he.current&&!he.current.contains(ae.target)&&ge(!1)};return(Ue||Se)&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[Ue,Se]);const ln=()=>{t&&(console.log("Admin status check:",{userId:t.uid,userIsAdmin:o,adminStatus:o}),ee(o))},Lt=async()=>{if(t)try{const K=ar(At,"items"),ae=Vr(K,Ci("status","==","pending")),ue=await Fn(ae),nt=Vr(K,Ci("status","==","approved")),Me=await Fn(nt),Fe=Vr(K,Ci("status","==","sold")),De=await Fn(Fe),Re=new Date(Date.now()-24*60*60*1e3);let Zn=0;De.forEach(cn=>{var Nn;const Qt=(Nn=cn.data().soldAt)==null?void 0:Nn.toDate();Qt&&Qt>=Re&&Zn++}),ss({pending:ue.size,approved:Me.size,sold:Zn})}catch(K){console.error("Error fetching notification counts:",K)}},Ai=async()=>{try{const K=ar(At,"items"),ae=Vr(K,Ci("status","==","live")),ue=await Fn(ae),nt=[];ue.forEach(Me=>{var De,Re,Zn;const Fe=Me.data();nt.push({id:Me.id,...Fe,createdAt:((De=Fe.createdAt)==null?void 0:De.toDate())||new Date,approvedAt:(Re=Fe.approvedAt)==null?void 0:Re.toDate(),liveAt:(Zn=Fe.liveAt)==null?void 0:Zn.toDate()})}),nt.sort((Me,Fe)=>{const De=Me.liveAt||Me.createdAt;return(Fe.liveAt||Fe.createdAt).getTime()-De.getTime()}),d(nt)}catch(K){console.error("Error fetching items:",K),d([])}finally{L(!1)}},ta=async()=>{if(t)try{const K=ar(At,"items"),ae=new Date(Date.now()-24*60*60*1e3);let ue=[];if(W){const nt=Vr(K);(await Fn(nt)).forEach(Fe=>{var cn,Ct,Qt,Nn;const De=Fe.data(),Re={id:Fe.id,...De,createdAt:((cn=De.createdAt)==null?void 0:cn.toDate())||new Date,approvedAt:(Ct=De.approvedAt)==null?void 0:Ct.toDate(),liveAt:(Qt=De.liveAt)==null?void 0:Qt.toDate(),soldAt:(Nn=De.soldAt)==null?void 0:Nn.toDate()};(Re.createdAt&&Re.createdAt>=ae||Re.approvedAt&&Re.approvedAt>=ae||Re.liveAt&&Re.liveAt>=ae||Re.soldAt&&Re.soldAt>=ae)&&ue.push(Re)}),ue.sort((Fe,De)=>{var cn,Ct,Qt,Nn,Si,Wa,na,Ti;const Re=Math.max(((cn=Fe.createdAt)==null?void 0:cn.getTime())||0,((Ct=Fe.approvedAt)==null?void 0:Ct.getTime())||0,((Qt=Fe.liveAt)==null?void 0:Qt.getTime())||0,((Nn=Fe.soldAt)==null?void 0:Nn.getTime())||0);return Math.max(((Si=De.createdAt)==null?void 0:Si.getTime())||0,((Wa=De.approvedAt)==null?void 0:Wa.getTime())||0,((na=De.liveAt)==null?void 0:na.getTime())||0,((Ti=De.soldAt)==null?void 0:Ti.getTime())||0)-Re})}else{const nt=Vr(K,Ci("sellerUid","==",t.uid));(await Fn(nt)).forEach(Fe=>{var cn,Ct,Qt,Nn;const De=Fe.data(),Re={id:Fe.id,...De,createdAt:((cn=De.createdAt)==null?void 0:cn.toDate())||new Date,approvedAt:(Ct=De.approvedAt)==null?void 0:Ct.toDate(),liveAt:(Qt=De.liveAt)==null?void 0:Qt.toDate(),soldAt:(Nn=De.soldAt)==null?void 0:Nn.toDate()};(Re.createdAt&&Re.createdAt>=ae||Re.approvedAt&&Re.approvedAt>=ae||Re.liveAt&&Re.liveAt>=ae||Re.soldAt&&Re.soldAt>=ae)&&ue.push(Re)}),ue.sort((Fe,De)=>{var cn,Ct,Qt,Nn,Si,Wa,na,Ti;const Re=Math.max(((cn=Fe.createdAt)==null?void 0:cn.getTime())||0,((Ct=Fe.approvedAt)==null?void 0:Ct.getTime())||0,((Qt=Fe.liveAt)==null?void 0:Qt.getTime())||0,((Nn=Fe.soldAt)==null?void 0:Nn.getTime())||0);return Math.max(((Si=De.createdAt)==null?void 0:Si.getTime())||0,((Wa=De.approvedAt)==null?void 0:Wa.getTime())||0,((na=De.liveAt)==null?void 0:na.getTime())||0,((Ti=De.soldAt)==null?void 0:Ti.getTime())||0)-Re})}tt(ue.slice(0,15))}catch(K){console.error("Error fetching recent items:",K)}},rf=()=>{m(!0)},tb=()=>{m(!1),Ai(),ta(),W&&Lt()},ls=()=>{x(!0)},Ap=()=>{x(!1),Ai(),ta(),W&&Lt()},Ep=()=>{y(!0)},af=()=>{y(!1),Ai(),ta(),W&&Lt()},of=K=>{$t(K),jn(!0),ge(!1)},nb=()=>{$t(null),jn(!1)},sf=()=>{H(!0)},Sp=()=>{H(!1)},Tp=()=>{H(!1),ne(!0),setTimeout(()=>{ne(!1)},5e3)},cs=K=>{const ae=new Date(Date.now()-864e5),ue=[];return K.soldAt&&K.soldAt>=ae&&ue.push({type:"sold",time:K.soldAt,icon:"💰",message:"Sold",color:"text-green-600"}),K.liveAt&&K.liveAt>=ae&&ue.push({type:"live",time:K.liveAt,icon:"🟢",message:"Went Live",color:"text-green-600"}),K.approvedAt&&K.approvedAt>=ae&&ue.push({type:"approved",time:K.approvedAt,icon:"✅",message:"Approved",color:"text-blue-600"}),K.createdAt&&K.createdAt>=ae&&ue.push({type:"created",time:K.createdAt,icon:"📝",message:"Listed",color:"text-purple-600"}),ue.length>0?(ue.sort((nt,Me)=>Me.time.getTime()-nt.time.getTime()),ue[0]):null},lf=async(K,ae)=>{try{const ue=vi(At,"items",K.id),nt=ae*.75,Me=ae*.25;await La(ue,{status:"sold",soldAt:new Date,soldPrice:ae,userEarnings:nt,adminEarnings:Me}),await Ai(),ct(Fe=>(console.log("Incrementing refresh trigger from",Fe,"to",Fe+1),Fe+1))}catch(ue){throw console.error("Error marking item as sold:",ue),ue}},yn=(K,ae)=>{wi(ue=>({...ue,[K]:ae}))},Ei=()=>{wi({category:"",gender:"",size:"",brand:"",color:"",priceRange:"",sortBy:"newest",searchQuery:""})},jl=()=>{let K=[...f];if(we.searchQuery){const ae=we.searchQuery.toLowerCase();K=K.filter(ue=>{var nt,Me,Fe,De,Re,Zn,cn,Ct,Qt;return((nt=ue.title)==null?void 0:nt.toLowerCase().includes(ae))||((Me=ue.description)==null?void 0:Me.toLowerCase().includes(ae))||((Fe=ue.brand)==null?void 0:Fe.toLowerCase().includes(ae))||((De=ue.category)==null?void 0:De.toLowerCase().includes(ae))||((Re=ue.color)==null?void 0:Re.toLowerCase().includes(ae))||((Zn=ue.size)==null?void 0:Zn.toLowerCase().includes(ae))||((cn=ue.condition)==null?void 0:cn.toLowerCase().includes(ae))||((Ct=ue.gender)==null?void 0:Ct.toLowerCase().includes(ae))||((Qt=ue.sellerName)==null?void 0:Qt.toLowerCase().includes(ae))})}if(we.category&&(K=K.filter(ae=>ae.category===we.category)),we.gender&&(K=K.filter(ae=>ae.gender===we.gender)),we.size&&(K=K.filter(ae=>ae.size===we.size)),we.brand&&(K=K.filter(ae=>{var ue;return(ue=ae.brand)==null?void 0:ue.toLowerCase().includes(we.brand.toLowerCase())})),we.color&&(K=K.filter(ae=>{var ue;return(ue=ae.color)==null?void 0:ue.toLowerCase().includes(we.color.toLowerCase())})),we.priceRange){const[ae,ue]=we.priceRange.split("-").map(Number);K=K.filter(nt=>ue?nt.price>=ae&&nt.price<=ue:nt.price>=ae)}switch(we.sortBy){case"price-low":K.sort((ae,ue)=>ae.price-ue.price);break;case"price-high":K.sort((ae,ue)=>ue.price-ae.price);break;case"oldest":K.sort((ae,ue)=>ae.createdAt.getTime()-ue.createdAt.getTime());break;case"popular":K.sort((ae,ue)=>{const nt=(Date.now()-ae.createdAt.getTime())/864e5+ae.price/100,Me=(Date.now()-ue.createdAt.getTime())/(1e3*60*60*24)+ue.price/100;return nt-Me});break;case"alphabetical":K.sort((ae,ue)=>ae.title.localeCompare(ue.title));break;case"category":K.sort((ae,ue)=>{const nt=ae.category||"",Me=ue.category||"";return nt===Me?ae.title.localeCompare(ue.title):nt.localeCompare(Me)});break;case"newest":default:K.sort((ae,ue)=>ue.createdAt.getTime()-ae.createdAt.getTime());break}return K};return e?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto"}),c.jsx("p",{className:"mt-4 text-white",children:"Loading Summit Gear..."})]})}):a?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!w&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:rf,className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"List Item"}),W&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:ls,className:"relative bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:["Manage Items",dr.pending>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:dr.pending>9?"9+":dr.pending})]}),c.jsxs("button",{onClick:Ep,className:"relative bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:["Approved Items",dr.approved>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:dr.approved>9?"9+":dr.approved})]})]}),!W&&c.jsxs("button",{onClick:()=>B(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Bookmarked Items",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u()>9?"9+":u()})]}),!W&&c.jsxs("button",{onClick:()=>U(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Shopping Cart",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 7H6l-1-7z"})}),l()>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l()>9?"9+":l()})]}),c.jsxs("div",{ref:he,className:"relative",children:[c.jsxs("button",{onClick:()=>ge(!Se),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Te.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:Te.length>9?"9+":Te.length})]}),Se&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:W?"Platform Activity":"My Item Updates"}),c.jsx("p",{className:"text-xs text-gray-500",children:W?"All item activity in the last 24 hours":"Your items with recent activity"})]}),c.jsx("div",{className:"max-h-72 overflow-y-auto",children:Te.length===0?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m7 0v1a3 3 0 11-6 0v-1m6 0H9"})}),c.jsx("p",{className:"text-sm",children:W?"No platform activity in the last 24 hours":"No updates on your items recently"})]}):c.jsx("div",{className:"divide-y divide-gray-100",children:Te.map(K=>{const ae=cs(K);return c.jsx("button",{onClick:()=>of(K),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:outline-none focus:bg-gray-50",children:c.jsxs("div",{className:"flex items-start gap-3",children:[K.images&&K.images.length>0?c.jsx("img",{src:K.images[0],alt:K.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:K.title}),c.jsxs("p",{className:"text-sm text-orange-600 font-semibold",children:["$",K.price]})]}),c.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full flex-shrink-0 ${K.status==="pending"?"bg-yellow-100 text-yellow-800":K.status==="approved"?"bg-blue-100 text-blue-800":K.status==="live"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:K.status==="pending"?"Pending":K.status==="approved"?"Approved":K.status==="live"?"Live":K.status})]}),c.jsxs("div",{className:"flex items-center justify-between mt-1",children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["by ",K.sellerName]}),ae&&c.jsxs("div",{className:`flex items-center gap-1 text-xs ${ae.color} font-medium`,children:[c.jsx("span",{children:ae.icon}),c.jsx("span",{children:ae.message}),c.jsx("span",{className:"text-gray-400",children:ae.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})},K.id)})})}),Te.length>0&&c.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:c.jsx("p",{className:"text-xs text-gray-500 text-center",children:W?"Click on any item to view details and manage":"Click on your items to view status updates"})})]})]}),c.jsxs("div",{ref:fe,className:"relative flex items-center gap-3 pl-4 border-l border-gray-200",children:[c.jsxs("button",{onClick:()=>re(!Ue),className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?c.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full object-cover",onError:K=>{const ae=K.target;ae.style.display="none"}}):c.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),W&&c.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),c.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${Ue?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ue&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.displayName}),c.jsx("div",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")})]}),c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Admin Mode"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Toggle admin privileges and features"})]}),c.jsx("button",{onClick:s,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${o?"bg-purple-600":"bg-gray-200"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]}),c.jsxs("div",{className:"text-xs bg-gray-50 rounded-lg p-3",children:[c.jsx("div",{className:"font-medium text-gray-700",children:"Current View:"}),c.jsx("div",{className:`font-semibold ${W?"text-purple-600":"text-gray-600"}`,children:W?"👑 Admin Mode":"👤 User Mode"})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[c.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:W?"Analytics & Tools":"My History"}),c.jsx("button",{onClick:()=>{j(!0),T(!1),k(!1),re(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:W?"📊 Analytics Dashboard":"📊 My User History"}),W&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{T(!0),j(!1),k(!1),re(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:"📦 Inventory Dashboard"}),c.jsx("button",{onClick:()=>{k(!0),j(!1),T(!1),re(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors flex items-center gap-2",children:"🎯 Actions Dashboard"})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsx("button",{onClick:()=>{i(),re(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Sign Out"})})]})]})]})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"flex gap-8",children:[c.jsx("div",{className:"w-64 flex-shrink-0",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sticky top-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),c.jsx("button",{onClick:Ei,className:"text-sm text-orange-600 hover:text-orange-700",children:"Clear All"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),c.jsx("input",{type:"text",value:we.searchQuery,onChange:K=>yn("searchQuery",K.target.value),placeholder:"Search items...",className:"w-full pl-10 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),we.searchQuery&&c.jsx("button",{onClick:()=>yn("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),we.searchQuery&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Searching in titles, descriptions, brands, and more"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),c.jsxs("select",{value:we.sortBy,onChange:K=>yn("sortBy",K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"newest",children:"Newest First"}),c.jsx("option",{value:"oldest",children:"Oldest First"}),c.jsx("option",{value:"price-low",children:"Price: Low to High"}),c.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsxs("select",{value:we.category,onChange:K=>yn("category",K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"",children:"All Categories"}),c.jsx("option",{value:"Climbing",children:"Climbing 🧗"}),c.jsx("option",{value:"Skiing",children:"Skiing ⛷️"}),c.jsx("option",{value:"Hiking",children:"Hiking 🥾"}),c.jsx("option",{value:"Camping",children:"Camping ⛺"}),c.jsx("option",{value:"Mountaineering",children:"Mountaineering 🏔️"}),c.jsx("option",{value:"Snowboarding",children:"Snowboarding 🏂"}),c.jsx("option",{value:"Cycling",children:"Cycling 🚵"}),c.jsx("option",{value:"Water Sports",children:"Water Sports 🚣"}),c.jsx("option",{value:"Apparel",children:"Apparel 👕"}),c.jsx("option",{value:"Footwear",children:"Footwear 👟"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),c.jsxs("select",{value:we.gender,onChange:K=>yn("gender",K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"",children:"All"}),c.jsx("option",{value:"Men",children:"Men"}),c.jsx("option",{value:"Women",children:"Women"}),c.jsx("option",{value:"Unisex",children:"Unisex"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),c.jsxs("select",{value:we.size,onChange:K=>yn("size",K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"",children:"All Sizes"}),c.jsx("option",{value:"XS",children:"XS"}),c.jsx("option",{value:"S",children:"S"}),c.jsx("option",{value:"M",children:"M"}),c.jsx("option",{value:"L",children:"L"}),c.jsx("option",{value:"XL",children:"XL"}),c.jsx("option",{value:"XXL",children:"XXL"}),c.jsx("option",{value:"6",children:"6"}),c.jsx("option",{value:"7",children:"7"}),c.jsx("option",{value:"8",children:"8"}),c.jsx("option",{value:"9",children:"9"}),c.jsx("option",{value:"10",children:"10"}),c.jsx("option",{value:"11",children:"11"}),c.jsx("option",{value:"12",children:"12"}),c.jsx("option",{value:"13",children:"13"}),c.jsx("option",{value:"One Size",children:"One Size"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),c.jsx("input",{type:"text",value:we.brand,onChange:K=>yn("brand",K.target.value),placeholder:"Search brands...",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),c.jsxs("select",{value:we.color,onChange:K=>yn("color",K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"",children:"All Colors"}),c.jsx("option",{value:"Black",children:"Black"}),c.jsx("option",{value:"White",children:"White"}),c.jsx("option",{value:"Gray",children:"Gray"}),c.jsx("option",{value:"Red",children:"Red"}),c.jsx("option",{value:"Blue",children:"Blue"}),c.jsx("option",{value:"Green",children:"Green"}),c.jsx("option",{value:"Yellow",children:"Yellow"}),c.jsx("option",{value:"Orange",children:"Orange"}),c.jsx("option",{value:"Purple",children:"Purple"}),c.jsx("option",{value:"Pink",children:"Pink"}),c.jsx("option",{value:"Brown",children:"Brown"}),c.jsx("option",{value:"Navy",children:"Navy"}),c.jsx("option",{value:"Burgundy",children:"Burgundy"}),c.jsx("option",{value:"Olive",children:"Olive"}),c.jsx("option",{value:"Tan",children:"Tan"}),c.jsx("option",{value:"Multicolor",children:"Multicolor"})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),c.jsxs("select",{value:we.priceRange,onChange:K=>yn("priceRange",K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c.jsx("option",{value:"",children:"Any Price"}),c.jsx("option",{value:"0-25",children:"Under $25"}),c.jsx("option",{value:"25-50",children:"$25 - $50"}),c.jsx("option",{value:"50-100",children:"$50 - $100"}),c.jsx("option",{value:"100-200",children:"$100 - $200"}),c.jsx("option",{value:"200-500",children:"$200 - $500"}),c.jsx("option",{value:"500",children:"$500+"})]})]})]})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Gear"}),c.jsx("p",{className:"text-gray-600",children:"Quality mountain equipment from fellow outdoor enthusiasts"})]}),c.jsxs("div",{className:"relative w-full sm:w-80",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),c.jsx("input",{type:"text",value:we.searchQuery,onChange:K=>yn("searchQuery",K.target.value),placeholder:"Search gear...",className:"w-full pl-10 pr-10 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white shadow-sm"}),we.searchQuery&&c.jsx("button",{onClick:()=>yn("searchQuery",""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-6 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),c.jsx("span",{className:"font-medium",children:"Sort by:"})]}),c.jsx("div",{className:"flex flex-wrap items-center gap-2",children:[{key:"newest",label:"🆕 Newest",desc:"Recently added"},{key:"popular",label:"🔥 Popular",desc:"Trending items"},{key:"price-low",label:"💰 Price ↗",desc:"Low to high"},{key:"price-high",label:"💎 Price ↘",desc:"High to low"},{key:"alphabetical",label:"🔤 A-Z",desc:"Alphabetical"},{key:"category",label:"📂 Category",desc:"By type"}].map(K=>c.jsx("button",{onClick:()=>yn("sortBy",K.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-1 ${we.sortBy===K.key?"bg-orange-500 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-sm"}`,title:K.desc,children:K.label},K.key))}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),c.jsxs("span",{children:[f.length," items"]})]}),jl().length!==f.length&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),c.jsxs("span",{children:[jl().length," filtered"]})]})]})]})})]}),q?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):(()=>{const K=jl();return K.length===0?c.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[c.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:f.length===0?"No items available yet":we.searchQuery?`No results found for "${we.searchQuery}"`:"No items match your filters"}),c.jsx("p",{className:"text-gray-500 mb-6",children:f.length===0?"Be the first to list your mountain gear!":we.searchQuery?"Try different keywords or check your spelling":"Try adjusting your search criteria"}),f.length===0?c.jsx("button",{onClick:rf,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"List Your First Item"}):c.jsx("button",{onClick:Ei,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Clear Filters"})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsx("div",{className:"text-sm text-gray-600",children:we.searchQuery?c.jsxs("span",{children:["Found ",c.jsx("span",{className:"font-semibold",children:K.length})," results",K.length!==f.length&&c.jsxs("span",{children:[" of ",f.length," total items"]}),we.searchQuery&&c.jsxs("span",{children:[' for "',c.jsx("span",{className:"font-medium text-gray-900",children:we.searchQuery}),'"']})]}):c.jsxs("span",{children:["Showing ",K.length," of ",f.length," items"]})}),we.searchQuery&&c.jsxs("button",{onClick:()=>yn("searchQuery",""),className:"text-xs text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[c.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear search"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(ae=>c.jsx(aJ,{item:ae,isAdmin:W,onMarkAsSold:lf,onClick:of},ae.id))})]})})()]})]})})]}),(w||I||P)&&c.jsx("div",{className:"fixed inset-0 bg-white z-[60] overflow-auto",children:c.jsxs("div",{className:"min-h-screen",children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Summit Gear Exchange"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Mountain Consignment Store"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>{j(!1),T(!1),k(!1)},className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors font-medium",children:"Back to Store"}),!W&&c.jsxs("button",{onClick:()=>B(!0),className:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"Bookmarked Items",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),u()>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:u()>9?"9+":u()})]}),c.jsxs("div",{ref:fe,className:"relative flex items-center gap-3 pl-4 border-l border-gray-200",children:[c.jsxs("button",{onClick:()=>re(!Ue),className:"flex items-center gap-3 hover:bg-gray-50 rounded-lg p-2 transition-colors",children:[t!=null&&t.photoURL&&t.photoURL.startsWith("http")?c.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full object-cover"}):c.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center",children:c.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-gray-700",children:t==null?void 0:t.displayName}),W&&c.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"Admin"})]}),c.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${Ue?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ue&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.displayName}),c.jsx("div",{className:"text-xs text-gray-500",children:(t==null?void 0:t.email)||(t&&"phoneNumber"in t?t.phoneNumber:"No contact info")})]}),c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-3",children:"Dashboards"}),c.jsxs("button",{onClick:()=>{j(!0),T(!1),k(!1),re(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${w?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:["📊 ",W?"Analytics Dashboard":"My User History"]}),W&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{T(!0),j(!1),k(!1),re(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${I?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:"📦 Inventory Dashboard"}),c.jsx("button",{onClick:()=>{k(!0),j(!1),T(!1),re(!1)},className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${P?"bg-orange-50 text-orange-700":"text-gray-700 hover:bg-gray-50"}`,children:"🎯 Actions Dashboard"})]}),c.jsx("div",{className:"border-t border-gray-200 my-2"}),c.jsx("button",{onClick:()=>{i(),re(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Sign Out"})]})]})]})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:I?c.jsx(UIe,{user:t,isAdmin:W}):P?c.jsx(VIe,{user:t,isAdmin:W}):W?c.jsx(LIe,{user:t,isAdmin:W}):c.jsx(BIe,{user:t})})]})}),c.jsx(oJ,{isOpen:h,onClose:tb,user:t}),W&&c.jsxs(c.Fragment,{children:[c.jsx(cae,{isOpen:v,onClose:Ap,user:t}),c.jsx(uae,{isOpen:_,onClose:af,user:t})]}),c.jsx(bC,{isOpen:me,onClose:()=>Y(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async K=>{await r(K)}}),c.jsx(qS,{isOpen:On,onClose:nb,item:Nt}),c.jsx(dae,{isOpen:z,onClose:()=>U(!1),onCheckout:sf}),c.jsx(hae,{isOpen:D,onClose:()=>B(!1),items:f,onItemClick:of}),c.jsx(Jae,{isOpen:V,onClose:Sp,onSuccess:Tp}),te&&c.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3",children:[c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Order Successful!"}),c.jsx("p",{className:"text-sm opacity-90",children:"Thank you for your purchase. You'll receive a confirmation email soon."})]})]})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:[c.jsx("nav",{className:"bg-black/20 backdrop-blur-md border-b border-white/10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center py-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-9 7-6-2 1-14z"})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"Summit Gear Exchange"}),c.jsx("p",{className:"text-xs text-gray-300",children:"Mountain Consignment Store"})]})]}),c.jsxs("button",{onClick:()=>Y(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors flex items-center gap-2",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign In"]})]})})}),c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-blue-900/70 z-10"}),c.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-blue-900"}),c.jsx("svg",{className:"absolute bottom-0 w-full h-64 text-slate-700",fill:"currentColor",viewBox:"0 0 1200 300",children:c.jsx("path",{d:"M0,300 L0,200 L100,150 L200,100 L300,120 L400,80 L500,90 L600,50 L700,70 L800,40 L900,60 L1000,30 L1100,50 L1200,20 L1200,300 Z"})})]}),c.jsx("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Premium Mountain",c.jsx("span",{className:"block text-orange-400",children:"Gear Exchange"})]}),c.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Buy and sell quality outdoor equipment. From climbing gear to skiing essentials, find everything you need for your next mountain adventure."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs("button",{onClick:()=>Y(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[c.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Enter Store"]}),c.jsx("button",{onClick:()=>Y(!0),className:"border-2 border-orange-400 text-orange-400 hover:bg-orange-400 hover:text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors",children:"Start Selling"})]})]})})]}),c.jsx("div",{className:"py-24 bg-slate-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Choose Summit Gear Exchange?"}),c.jsx("p",{className:"text-gray-400 text-lg",children:"The trusted marketplace for mountain enthusiasts"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quality Guaranteed"}),c.jsx("p",{className:"text-gray-400",children:"Every item is inspected by our mountain gear experts before listing"})]}),c.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Fair Pricing"}),c.jsx("p",{className:"text-gray-400",children:"Competitive prices for both buyers and sellers in the outdoor community"})]}),c.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-xl p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Community Focused"}),c.jsx("p",{className:"text-gray-400",children:"Built by climbers, for climbers. Join our community of mountain enthusiasts"})]})]})]})}),c.jsx("div",{className:"py-24 bg-slate-900",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Popular Categories"}),c.jsx("p",{className:"text-gray-400 text-lg",children:"Find gear for every mountain adventure"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{name:"Climbing",icon:"🧗",color:"from-red-500 to-orange-500"},{name:"Skiing",icon:"⛷️",color:"from-blue-500 to-cyan-500"},{name:"Hiking",icon:"🥾",color:"from-green-500 to-emerald-500"},{name:"Camping",icon:"⛺",color:"from-purple-500 to-pink-500"},{name:"Mountaineering",icon:"🏔️",color:"from-gray-500 to-slate-500"},{name:"Snowboarding",icon:"🏂",color:"from-indigo-500 to-blue-500"},{name:"Cycling",icon:"🚵",color:"from-yellow-500 to-orange-500"},{name:"Water Sports",icon:"🚣",color:"from-teal-500 to-cyan-500"}].map((K,ae)=>c.jsxs("div",{className:`bg-gradient-to-br ${K.color} rounded-xl p-6 text-center cursor-pointer hover:scale-105 transition-transform`,children:[c.jsx("div",{className:"text-4xl mb-3",children:K.icon}),c.jsx("h3",{className:"text-white font-semibold",children:K.name})]},ae))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx("button",{onClick:()=>Y(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Sign In to Browse All Items"})})]})}),c.jsx("div",{className:"py-24 bg-gradient-to-r from-orange-600 to-orange-500",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Gear Up?"}),c.jsx("p",{className:"text-xl text-orange-100 mb-8",children:"Join thousands of mountain enthusiasts buying and selling quality gear"}),c.jsxs("button",{onClick:()=>Y(!0),className:"bg-white text-orange-600 hover:bg-gray-100 px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center justify-center gap-2 mx-auto",children:[c.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Get Started Now"]})]})}),c.jsx(bC,{isOpen:me,onClose:()=>Y(!1),onGoogleLogin:async()=>{await n()},onPhoneLogin:async K=>{await r(K)}})]})};function FIe(){return c.jsx(iJ,{children:c.jsx(gF,{children:c.jsx("div",{className:"min-h-screen bg-gray-100",children:c.jsx(Gz,{children:c.jsx(k$,{path:"/",element:c.jsx(zIe,{})})})})})})}q7.createRoot(document.getElementById("root")).render(c.jsx(R.StrictMode,{children:c.jsx(FIe,{})}));
